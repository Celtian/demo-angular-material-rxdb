import{a as mt,b as ut,c as ft,d as xt,e as ht}from"./chunk-SYXNN6ID.js";import{a as ot}from"./chunk-ACSHCVW7.js";import{a as A}from"./chunk-GFG2VS6N.js";import{c as nt}from"./chunk-EOF2NJKF.js";import{W as at,c as P,e as U,f as Q,g as V,i as q,k as G,n as J,o as K,t as $,u as tt,v as et,x as it}from"./chunk-N3YCHSDA.js";import{a as rt,b as dt,c as ct,d as lt,e as pt,f as st}from"./chunk-UGK5LUZJ.js";import{Ad as X,Bb as B,Bd as Y,Cb as I,Cd as Z,Db as j,Eb as l,Fb as p,Ib as F,Jb as L,Ka as e,La as m,Lb as N,M,Na as E,Oa as O,Wa as h,X as y,Ya as v,ab as C,bb as x,fb as o,gb as r,ha as b,hb as S,ia as D,ic as z,lb as R,na as w,oa as T,pb as k,rb as f,vb as c,wb as u,xb as g,xd as H,yd as W}from"./chunk-UCMM7BKK.js";var vt=t=>[t];function gt(t,a){if(t&1){let i=R();o(0,"div",3)(1,"button",4),k("deleted",function(){w(i);let d=f(2);return T(d.onDeleted())}),c(2),l(3,"translate"),r(),o(4,"a",5),l(5,"localize"),c(6),l(7,"translate"),r()()}if(t&2){let i=f(2);e(1),h("appPostDelete",i.dataSource.data().id),e(1),g(" ",p(3,4,"uni.delete")," "),e(2),h("routerLink",I(10,vt,p(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),e(2),u(p(7,8,"uni.edit"))}}function Pt(t,a){if(t&1&&(C(0,gt,8,12,"div",1),o(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),c(4),r(),o(5,"mat-card-title"),c(6),l(7,"uppercase"),r()(),o(8,"mat-card-content")(9,"p",2),c(10),l(11,"translate"),r(),o(12,"p"),c(13),r()()()),t&2){let i=f();x(0,i.dataSource.state()==="data"?0:-1),e(3),v("blur-sm",i.dataSource.state()==="loading"),e(1),u("#"+i.dataSource.data().id),e(1),v("blur-sm",i.dataSource.state()==="loading"),e(1),u(p(7,13,i.dataSource.data().title)),e(3),v("blur-sm",i.dataSource.state()==="loading"),e(1),g(" ",p(11,15,"post-detail.about-post")," "),e(2),v("blur-sm",i.dataSource.state()==="loading"),e(1),g(" ",i.dataSource.data().body," ")}}function It(t,a){if(t&1&&(o(0,"mat-card")(1,"mat-card-content",6),S(2,"mat-icon",7),o(3,"div"),c(4),r()()()),t&2){let i=f();e(4),u(i.dataSource.error())}}function Mt(t,a){t&1&&(o(0,"mat-card")(1,"mat-card-content",6),S(2,"mat-icon",8),o(3,"div"),c(4),l(5,"translate"),r()()()),t&2&&(e(4),u(p(5,1,"error.post-was-not-found")))}var yt=(t,a)=>[t,a];function bt(t,a){if(t&1&&(S(0,"mat-icon",10),o(1,"a",5),l(2,"localize"),c(3),r()),t&2){let i=f(2);e(1),h("routerLink",j(4,yt,p(2,2,"/"),i.dataSource.data().id)),e(2),u(i.dataSource.data().id)}}function Dt(t,a){if(t&1&&(o(0,"div",9)(1,"a",5),l(2,"localize"),c(3),l(4,"translate"),r(),C(5,bt,4,7),r()),t&2){let i=f();e(1),h("routerLink",I(7,vt,p(2,3,"/"))),e(2),u(p(4,5,"breadcrumbs.app.posts")),e(2),x(5,i.dataSource.state()==="data"?5:-1)}}var oe=(()=>{let a=class a{constructor(n,d,s,_,_t,Ct,St){this.breadcrumbsPortalService=n,this.route=d,this.cdr=s,this.translate=_,this.lr=_t,this.apiService=Ct,this.router=St,this.destroyRef=b(O),this.dataSource=new mt(ut),this.ROUTE_DEFINITION=at}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),setTimeout(()=>this.cdr.markForCheck()),this.route.paramMap.pipe(M(500),xt(),ht(this.dataSource),ft(),y(n=>this.apiService.detail(n)),A(this.destroyRef)).subscribe({next:n=>this.dataSource.setData(n),error:()=>{let n=this.translate.instant("error.unexpected-exception");this.dataSource.setError(n)}})}onDeleted(){let n=this.lr.translateRoute("/");this.router.navigate([n])}};a.\u0275fac=function(d){return new(d||a)(m(it),m(G),m(E),m(X),m($),m(nt),m(J))},a.\u0275cmp=D({type:a,selectors:[["app-post-detail"]],viewQuery:function(d,s){if(d&1&&L(P,7),d&2){let _;F(_=N())&&(s.portalContent=_.first)}},standalone:!0,features:[B],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2"],[1,"mb-2","font-semibold","text-md"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"appPostDelete","deleted"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","aria-label","Error icon","fontIcon","error"],["aria-hidden","false","aria-label","Warning icon","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(d,s){d&1&&C(0,Pt,14,17,"mat-card")(1,It,5,1,"mat-card")(2,Mt,6,3,"mat-card")(3,Dt,6,9,"div",0),d&2&&(x(0,s.dataSource.state()==="data"||s.dataSource.state()==="loading"?0:-1),e(1),x(1,s.dataSource.state()==="error"?1:-1),e(1),x(2,s.dataSource.state()==="empty"?2:-1))},dependencies:[z,K,et,tt,U,P,q,V,Q,W,H,st,rt,ct,pt,lt,dt,Z,Y,ot],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let t=a;return t})();export{oe as PostDetailComponent};
