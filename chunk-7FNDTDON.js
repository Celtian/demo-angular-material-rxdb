import{a as st,b as mt,c as ut,d as ft,e as xt}from"./chunk-S4KCW43N.js";import{a as nt}from"./chunk-AJNBRGBJ.js";import{a as V}from"./chunk-KYNGAW7Z.js";import{a as at}from"./chunk-EH5XGYFS.js";import{A as tt,B as et,aa as it,c as P,e as Q,m as A,n as j,p as G,s as J,t as K,y as Z,z as $}from"./chunk-OVNCXVAA.js";import{a as ot,b as rt,c as dt,d as ct,e as lt,f as pt}from"./chunk-BE2URMCA.js";import{Ab as u,Eb as k,Fb as F,Ga as e,Gb as L,L as y,Lb as _,Nb as l,Ob as m,Pb as g,Ra as O,Sb as b,Tb as N,Ub as o,Vb as r,W as D,Xa as E,fa as s,gb as v,hb as x,hc as z,ib as h,ka as I,la as w,mb as C,nb as n,ob as d,od as q,pb as S,pd as H,qa as T,rd as W,sd as X,td as Y,wb as R,yb as B,zc as U}from"./chunk-DJY4MPCK.js";var ht=t=>[t],Ct=(t,a)=>[t,a];function _t(t,a){if(t&1){let i=R();n(0,"div",1)(1,"button",3),B("deleted",function(){I(i);let p=u(2);return w(p.onDeleted())}),l(2),o(3,"translate"),d(),n(4,"a",4),o(5,"localize"),l(6),o(7,"translate"),d()()}if(t&2){let i=u(2);e(),C("appPostDelete",i.dataSource.data().id),e(),g(" ",r(3,4,"uni.delete")," "),e(2),C("routerLink",b(10,ht,r(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),e(2),m(r(7,8,"uni.edit"))}}function vt(t,a){if(t&1&&(x(0,_t,8,12,"div",1),n(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),l(4),d(),n(5,"mat-card-title"),l(6),o(7,"uppercase"),d()(),n(8,"mat-card-content")(9,"p",2),l(10),o(11,"translate"),d(),n(12,"p"),l(13),d()()()),t&2){let i=u();h(i.dataSource.state()==="data"?0:-1),e(3),_("blur-sm",i.dataSource.state()==="loading"),e(),m("#"+i.dataSource.data().id),e(),_("blur-sm",i.dataSource.state()==="loading"),e(),m(r(7,13,i.dataSource.data().title)),e(3),_("blur-sm",i.dataSource.state()==="loading"),e(),g(" ",r(11,15,"post-detail.about-post")," "),e(2),_("blur-sm",i.dataSource.state()==="loading"),e(),g(" ",i.dataSource.data().body," ")}}function St(t,a){if(t&1&&(n(0,"mat-card")(1,"mat-card-content",5),S(2,"mat-icon",6),o(3,"translate"),n(4,"div"),l(5),d()()()),t&2){let i=u();e(2),v("aria-label",r(3,2,"uni.aria-label.error-icon")),e(3),m(i.dataSource.error())}}function gt(t,a){t&1&&(n(0,"mat-card")(1,"mat-card-content",5),S(2,"mat-icon",7),o(3,"translate"),n(4,"div"),l(5),o(6,"translate"),d()()()),t&2&&(e(2),v("aria-label",r(3,2,"uni.aria-label.warning-icon")),e(3),m(r(6,4,"error.post-was-not-found")))}function Pt(t,a){if(t&1&&(S(0,"mat-icon",9),o(1,"translate"),n(2,"a",4),o(3,"localize"),l(4),d()),t&2){let i=u(2);v("aria-label",r(1,3,"uni.aria-label.arrow-icon")),e(2),C("routerLink",N(7,Ct,r(3,5,"/"),i.dataSource.data().id)),e(2),m(i.dataSource.data().id)}}function bt(t,a){if(t&1&&(n(0,"div",8)(1,"a",4),o(2,"localize"),l(3),o(4,"translate"),d(),x(5,Pt,5,10),d()),t&2){let i=u();e(),C("routerLink",b(7,ht,r(2,3,"/"))),e(2),m(r(4,5,"breadcrumbs.app.posts")),e(2),h(i.dataSource.state()==="data"?5:-1)}}var te=(()=>{let a=class a{constructor(){this.breadcrumbsPortalService=s(et),this.route=s(G),this.cdr=s(z),this.translate=s(W),this.lr=s(Z),this.apiService=s(at),this.router=s(J),this.destroyRef=s(T),this.dataSource=new st(mt),this.ROUTE_DEFINITION=it}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),setTimeout(()=>this.cdr.markForCheck()),this.route.paramMap.pipe(y(500),ft(),xt(this.dataSource),ut(),D(c=>this.apiService.detail(c)),V(this.destroyRef)).subscribe({next:c=>this.dataSource.setData(c),error:()=>{let c=this.translate.instant("error.unexpected-exception");this.dataSource.setError(c)}})}onDeleted(){let c=this.lr.translateRoute("/");this.router.navigate([c])}};a.\u0275fac=function(p){return new(p||a)},a.\u0275cmp=O({type:a,selectors:[["app-post-detail"]],viewQuery:function(p,f){if(p&1&&k(P,7),p&2){let M;F(M=L())&&(f.portalContent=M.first)}},decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(p,f){p&1&&(x(0,vt,14,17),x(1,St,6,4,"mat-card"),x(2,gt,7,6,"mat-card"),E(3,bt,6,9,"div",0)),p&2&&(h(f.dataSource.state()==="data"||f.dataSource.state()==="loading"?0:-1),e(),h(f.dataSource.state()==="error"?1:-1),e(),h(f.dataSource.state()==="empty"?2:-1))},dependencies:[K,tt,Q,P,j,A,H,q,pt,ot,dt,lt,ct,rt,Y,nt,U,$,X],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let t=a;return t})();export{te as PostDetailComponent};
