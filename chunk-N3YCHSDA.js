import{$a as Pr,$b as lo,$c as vp,A as un,Aa as Ct,Ab as xl,Ac as pp,Ad as wp,Ba as Kh,Bb as Ue,Bc as El,C as Mh,Ca as Fe,Cc as Ka,Cd as Sp,D as jn,Da as Hh,Dc as Rl,E as et,Ea as Ba,F as fl,Fa as Et,Fc as Ol,G as Bn,Ga as Yh,H as Un,Hb as or,Ib as hn,J as hl,Jb as Hn,Jc as Gn,K as ee,Ka as qn,L as $h,La as P,Lb as pn,Lc as Ha,Ma as ao,Mc as Al,N as zn,Na as Dr,Nb as ep,Nc as Ot,O as Vn,Ob as Yn,Oc as mp,P as Rr,Pa as Kt,Pb as rp,Q as pl,Qa as mt,Qb as co,Qc as gp,R as Nh,Ra as Gh,Rb as wl,Rc as yp,S as Lh,Sa as Qt,Sb as Va,T as ml,Tb as np,U as Fh,Ua as Ir,Ub as ne,V as io,Va as le,Vb as ip,W as Re,Wb as op,X as ve,Xc as Ya,Y as dn,Ya as je,Yb as Rt,Yc as Ga,Z as jh,Za as Ua,_ as zt,_b as ap,a as E,aa as Gt,ab as fn,ad as Qn,b as G,ba as U,bb as Qh,bc as sp,bd as bp,c as q,ca as Pt,cc as cp,cd as Xn,d as V0,da as Bh,dc as Ae,dd as uo,e as D,ea as gl,f as Le,fa as Y,fb as Be,g as Ih,ga as O,gb as Oe,gd as ar,h as $a,ha as M,hb as be,i as ro,ia as re,j as cn,ja as kt,jc as Wa,k as F,ka as wt,kc as lp,l as Wt,la as Uh,lb as Xh,lc as up,m as Ph,ma as Or,mb as yl,mc as dp,na as zh,nb as Zh,o as ln,oa as Vh,ob as Jh,p as qt,pb as Kn,pd as _p,q as $,qb as tp,r as no,ra as Wn,rb as vl,s as Fn,sa as Wh,sb as so,sc as fp,t as kh,ta as Fa,tb as ir,tc as ue,u as Na,ua as ja,v as K,va as qh,vb as bl,w as La,wc as hp,wd as xp,x as St,xa as oo,xb as _l,xc as qa,y as dl,ya as Ar,yc as Sl,z as Th,zb as za,zc as Cl}from"./chunk-UCMM7BKK.js";var Qb=q((QG,zc)=>{"use strict";var LA=function(){"use strict";function e(u,d){return d!=null&&u instanceof d}var t;try{t=Map}catch{t=function(){}}var n;try{n=Set}catch{n=function(){}}var r;try{r=Promise}catch{r=function(){}}function i(u,d,f,h,m){typeof d=="object"&&(f=d.depth,h=d.prototype,m=d.includeNonEnumerable,d=d.circular);var p=[],v=[],g=typeof Buffer<"u";typeof d>"u"&&(d=!0),typeof f>"u"&&(f=1/0);function x(y,w){if(y===null)return null;if(w===0)return y;var S,R;if(typeof y!="object")return y;if(e(y,t))S=new t;else if(e(y,n))S=new n;else if(e(y,r))S=new r(function(xt,ut){y.then(function(vt){xt(x(vt,w-1))},function(vt){ut(x(vt,w-1))})});else if(i.__isArray(y))S=[];else if(i.__isRegExp(y))S=new RegExp(y.source,l(y)),y.lastIndex&&(S.lastIndex=y.lastIndex);else if(i.__isDate(y))S=new Date(y.getTime());else{if(g&&Buffer.isBuffer(y))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(y.length):S=new Buffer(y.length),y.copy(S),S;e(y,Error)?S=Object.create(y):typeof h>"u"?(R=Object.getPrototypeOf(y),S=Object.create(R)):(S=Object.create(h),R=h)}if(d){var C=p.indexOf(y);if(C!=-1)return v[C];p.push(y),v.push(S)}e(y,t)&&y.forEach(function(xt,ut){var vt=x(ut,w-1),bt=x(xt,w-1);S.set(vt,bt)}),e(y,n)&&y.forEach(function(xt){var ut=x(xt,w-1);S.add(ut)});for(var A in y){var j;R&&(j=Object.getOwnPropertyDescriptor(R,A)),!(j&&j.set==null)&&(S[A]=x(y[A],w-1))}if(Object.getOwnPropertySymbols)for(var J=Object.getOwnPropertySymbols(y),A=0;A<J.length;A++){var z=J[A],yt=Object.getOwnPropertyDescriptor(y,z);yt&&!yt.enumerable&&!m||(S[z]=x(y[z],w-1),yt.enumerable||Object.defineProperty(S,z,{enumerable:!1}))}if(m)for(var B=Object.getOwnPropertyNames(y),A=0;A<B.length;A++){var Mt=B[A],yt=Object.getOwnPropertyDescriptor(y,Mt);yt&&yt.enumerable||(S[Mt]=x(y[Mt],w-1),Object.defineProperty(S,Mt,{enumerable:!1}))}return S}return x(u,f)}i.clonePrototype=function(d){if(d===null)return null;var f=function(){};return f.prototype=d,new f};function o(u){return Object.prototype.toString.call(u)}i.__objToStr=o;function a(u){return typeof u=="object"&&o(u)==="[object Date]"}i.__isDate=a;function s(u){return typeof u=="object"&&o(u)==="[object Array]"}i.__isArray=s;function c(u){return typeof u=="object"&&o(u)==="[object RegExp]"}i.__isRegExp=c;function l(u){var d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),d}return i.__getRegExpFlags=l,i}();typeof zc=="object"&&zc.exports&&(zc.exports=LA)});var Bf=q((XG,Zb)=>{"use strict";var Xb=Object.prototype.toString;Zb.exports=function(t){var n=Xb.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Xb.call(t.callee)==="[object Function]"),r}});var s_=q((ZG,a_)=>{"use strict";var o_;Object.keys||(xa=Object.prototype.hasOwnProperty,Uf=Object.prototype.toString,Jb=Bf(),zf=Object.prototype.propertyIsEnumerable,t_=!zf.call({toString:null},"toString"),e_=zf.call(function(){},"prototype"),wa=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Vc=function(e){var t=e.constructor;return t&&t.prototype===e},r_={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n_=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!r_["$"+e]&&xa.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{Vc(window[e])}catch{return!0}}catch{return!0}return!1}(),i_=function(e){if(typeof window>"u"||!n_)return Vc(e);try{return Vc(e)}catch{return!1}},o_=function(t){var n=t!==null&&typeof t=="object",r=Uf.call(t)==="[object Function]",i=Jb(t),o=n&&Uf.call(t)==="[object String]",a=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var s=e_&&r;if(o&&t.length>0&&!xa.call(t,0))for(var c=0;c<t.length;++c)a.push(String(c));if(i&&t.length>0)for(var l=0;l<t.length;++l)a.push(String(l));else for(var u in t)!(s&&u==="prototype")&&xa.call(t,u)&&a.push(String(u));if(t_)for(var d=i_(t),f=0;f<wa.length;++f)!(d&&wa[f]==="constructor")&&xa.call(t,wa[f])&&a.push(wa[f]);return a});var xa,Uf,Jb,zf,t_,e_,wa,Vc,r_,n_,i_;a_.exports=o_});var Vf=q((JG,u_)=>{"use strict";var FA=Array.prototype.slice,jA=Bf(),c_=Object.keys,Wc=c_?function(t){return c_(t)}:s_(),l_=Object.keys;Wc.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return jA(r)?l_(FA.call(r)):l_(r)})}else Object.keys=Wc;return Object.keys||Wc};u_.exports=Wc});var Wf=q((t9,d_)=>{"use strict";d_.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var qc=q((e9,f_)=>{"use strict";var BA=Wf();f_.exports=function(){return BA()&&!!Symbol.toStringTag}});var Kc=q((r9,p_)=>{"use strict";var h_=typeof Symbol<"u"&&Symbol,UA=Wf();p_.exports=function(){return typeof h_!="function"||typeof Symbol!="function"||typeof h_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:UA()}});var g_=q((n9,m_)=>{"use strict";var zA="Function.prototype.bind called on incompatible ",qf=Array.prototype.slice,VA=Object.prototype.toString,WA="[object Function]";m_.exports=function(t){var n=this;if(typeof n!="function"||VA.call(n)!==WA)throw new TypeError(zA+n);for(var r=qf.call(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,r.concat(qf.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(qf.call(arguments)))},a=Math.max(0,n.length-r.length),s=[],c=0;c<a;c++)s.push("$"+c);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var Hc=q((i9,y_)=>{"use strict";var qA=g_();y_.exports=Function.prototype.bind||qA});var b_=q((o9,v_)=>{"use strict";var KA=Hc();v_.exports=KA.call(Function.call,Object.prototype.hasOwnProperty)});var Qc=q((a9,C_)=>{"use strict";var Q,Bi=SyntaxError,S_=Function,ji=TypeError,Kf=function(e){try{return S_('"use strict"; return ('+e+").constructor;")()}catch{}},Dn=Object.getOwnPropertyDescriptor;if(Dn)try{Dn({},"")}catch{Dn=null}var Hf=function(){throw new ji},HA=Dn?function(){try{return arguments.callee,Hf}catch{try{return Dn(arguments,"callee").get}catch{return Hf}}}():Hf,Li=Kc()(),nr=Object.getPrototypeOf||function(e){return e.__proto__},Fi={},YA=typeof Uint8Array>"u"?Q:nr(Uint8Array),In={"%AggregateError%":typeof AggregateError>"u"?Q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Q:ArrayBuffer,"%ArrayIteratorPrototype%":Li?nr([][Symbol.iterator]()):Q,"%AsyncFromSyncIteratorPrototype%":Q,"%AsyncFunction%":Fi,"%AsyncGenerator%":Fi,"%AsyncGeneratorFunction%":Fi,"%AsyncIteratorPrototype%":Fi,"%Atomics%":typeof Atomics>"u"?Q:Atomics,"%BigInt%":typeof BigInt>"u"?Q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Q:FinalizationRegistry,"%Function%":S_,"%GeneratorFunction%":Fi,"%Int8Array%":typeof Int8Array>"u"?Q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Li?nr(nr([][Symbol.iterator]())):Q,"%JSON%":typeof JSON=="object"?JSON:Q,"%Map%":typeof Map>"u"?Q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Li?Q:nr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Q:Promise,"%Proxy%":typeof Proxy>"u"?Q:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Li?Q:nr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Li?nr(""[Symbol.iterator]()):Q,"%Symbol%":Li?Symbol:Q,"%SyntaxError%":Bi,"%ThrowTypeError%":HA,"%TypedArray%":YA,"%TypeError%":ji,"%Uint8Array%":typeof Uint8Array>"u"?Q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Q:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Q:WeakSet};try{null.error}catch(e){__=nr(nr(e)),In["%Error.prototype%"]=__}var __,GA=function e(t){var n;if(t==="%AsyncFunction%")n=Kf("async function () {}");else if(t==="%GeneratorFunction%")n=Kf("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Kf("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(n=nr(i.prototype))}return In[t]=n,n},x_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Sa=Hc(),Yc=b_(),QA=Sa.call(Function.call,Array.prototype.concat),XA=Sa.call(Function.apply,Array.prototype.splice),w_=Sa.call(Function.call,String.prototype.replace),Gc=Sa.call(Function.call,String.prototype.slice),ZA=Sa.call(Function.call,RegExp.prototype.exec),JA=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tD=/\\(\\)?/g,eD=function(t){var n=Gc(t,0,1),r=Gc(t,-1);if(n==="%"&&r!=="%")throw new Bi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Bi("invalid intrinsic syntax, expected opening `%`");var i=[];return w_(t,JA,function(o,a,s,c){i[i.length]=s?w_(c,tD,"$1"):a||o}),i},rD=function(t,n){var r=t,i;if(Yc(x_,r)&&(i=x_[r],r="%"+i[0]+"%"),Yc(In,r)){var o=In[r];if(o===Fi&&(o=GA(r)),typeof o>"u"&&!n)throw new ji("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Bi("intrinsic "+t+" does not exist!")};C_.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new ji("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ji('"allowMissing" argument must be a boolean');if(ZA(/^%?[^%]*%?$/,t)===null)throw new Bi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=eD(t),i=r.length>0?r[0]:"",o=rD("%"+i+"%",n),a=o.name,s=o.value,c=!1,l=o.alias;l&&(i=l[0],XA(r,QA([0,1],l)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],h=Gc(f,0,1),m=Gc(f,-1);if((h==='"'||h==="'"||h==="`"||m==='"'||m==="'"||m==="`")&&h!==m)throw new Bi("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,a="%"+i+"%",Yc(In,a))s=In[a];else if(s!=null){if(!(f in s)){if(!n)throw new ji("base intrinsic for "+t+" exists, but the property is not available.");return}if(Dn&&u+1>=r.length){var p=Dn(s,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?s=p.get:s=s[f]}else d=Yc(s,f),s=s[f];d&&!c&&(In[a]=s)}}return s}});var Zc=q((s9,Xc)=>{"use strict";var Yf=Hc(),Ui=Qc(),O_=Ui("%Function.prototype.apply%"),A_=Ui("%Function.prototype.call%"),D_=Ui("%Reflect.apply%",!0)||Yf.call(A_,O_),E_=Ui("%Object.getOwnPropertyDescriptor%",!0),Pn=Ui("%Object.defineProperty%",!0),nD=Ui("%Math.max%");if(Pn)try{Pn({},"a",{value:1})}catch{Pn=null}Xc.exports=function(t){var n=D_(Yf,A_,arguments);if(E_&&Pn){var r=E_(n,"length");r.configurable&&Pn(n,"length",{value:1+nD(0,t.length-(arguments.length-1))})}return n};var R_=function(){return D_(Yf,O_,arguments)};Pn?Pn(Xc.exports,"apply",{value:R_}):Xc.exports.apply=R_});var Gf=q((c9,k_)=>{"use strict";var I_=Qc(),P_=Zc(),iD=P_(I_("String.prototype.indexOf"));k_.exports=function(t,n){var r=I_(t,!!n);return typeof r=="function"&&iD(t,".prototype.")>-1?P_(r):r}});var $_=q((l9,M_)=>{"use strict";var oD=qc()(),aD=Gf(),Qf=aD("Object.prototype.toString"),Jc=function(t){return oD&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Qf(t)==="[object Arguments]"},T_=function(t){return Jc(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Qf(t)!=="[object Array]"&&Qf(t.callee)==="[object Function]"},sD=function(){return Jc(arguments)}();Jc.isLegacyArguments=T_;M_.exports=sD?Jc:T_});var Xf=q((u9,L_)=>{"use strict";var N_={foo:{}},cD=Object;L_.exports=function(){return{__proto__:N_}.foo===N_.foo&&!({__proto__:null}instanceof cD)}});var B_=q((d9,j_)=>{"use strict";var lD="Function.prototype.bind called on incompatible ",uD=Object.prototype.toString,dD=Math.max,fD="[object Function]",F_=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},hD=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},pD=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};j_.exports=function(t){var n=this;if(typeof n!="function"||uD.apply(n)!==fD)throw new TypeError(lD+n);for(var r=hD(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,F_(r,arguments));return Object(u)===u?u:this}return n.apply(t,F_(r,arguments))},a=dD(0,n.length-r.length),s=[],c=0;c<a;c++)s[c]="$"+c;if(i=Function("binder","return function ("+pD(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var z_=q((f9,U_)=>{"use strict";var mD=B_();U_.exports=Function.prototype.bind||mD});var q_=q((h9,W_)=>{"use strict";var gD="Function.prototype.bind called on incompatible ",yD=Object.prototype.toString,vD=Math.max,bD="[object Function]",V_=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},_D=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},xD=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};W_.exports=function(t){var n=this;if(typeof n!="function"||yD.apply(n)!==bD)throw new TypeError(gD+n);for(var r=_D(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,V_(r,arguments));return Object(u)===u?u:this}return n.apply(t,V_(r,arguments))},a=vD(0,n.length-r.length),s=[],c=0;c<a;c++)s[c]="$"+c;if(i=Function("binder","return function ("+xD(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var H_=q((p9,K_)=>{"use strict";var wD=q_();K_.exports=Function.prototype.bind||wD});var Zf=q((m9,Y_)=>{"use strict";var SD=Function.prototype.call,CD=Object.prototype.hasOwnProperty,ED=H_();Y_.exports=ED.call(SD,CD)});var tx=q((g9,J_)=>{"use strict";var X,qi=SyntaxError,Z_=Function,Wi=TypeError,Jf=function(e){try{return Z_('"use strict"; return ('+e+").constructor;")()}catch{}},kn=Object.getOwnPropertyDescriptor;if(kn)try{kn({},"")}catch{kn=null}var th=function(){throw new Wi},RD=kn?function(){try{return arguments.callee,th}catch{try{return kn(arguments,"callee").get}catch{return th}}}():th,zi=Kc()(),OD=Xf()(),jt=Object.getPrototypeOf||(OD?function(e){return e.__proto__}:null),Vi={},AD=typeof Uint8Array>"u"||!jt?X:jt(Uint8Array),Tn={"%AggregateError%":typeof AggregateError>"u"?X:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?X:ArrayBuffer,"%ArrayIteratorPrototype%":zi&&jt?jt([][Symbol.iterator]()):X,"%AsyncFromSyncIteratorPrototype%":X,"%AsyncFunction%":Vi,"%AsyncGenerator%":Vi,"%AsyncGeneratorFunction%":Vi,"%AsyncIteratorPrototype%":Vi,"%Atomics%":typeof Atomics>"u"?X:Atomics,"%BigInt%":typeof BigInt>"u"?X:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?X:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?X:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?X:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?X:Float32Array,"%Float64Array%":typeof Float64Array>"u"?X:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?X:FinalizationRegistry,"%Function%":Z_,"%GeneratorFunction%":Vi,"%Int8Array%":typeof Int8Array>"u"?X:Int8Array,"%Int16Array%":typeof Int16Array>"u"?X:Int16Array,"%Int32Array%":typeof Int32Array>"u"?X:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zi&&jt?jt(jt([][Symbol.iterator]())):X,"%JSON%":typeof JSON=="object"?JSON:X,"%Map%":typeof Map>"u"?X:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zi||!jt?X:jt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?X:Promise,"%Proxy%":typeof Proxy>"u"?X:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?X:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?X:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zi||!jt?X:jt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?X:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zi&&jt?jt(""[Symbol.iterator]()):X,"%Symbol%":zi?Symbol:X,"%SyntaxError%":qi,"%ThrowTypeError%":RD,"%TypedArray%":AD,"%TypeError%":Wi,"%Uint8Array%":typeof Uint8Array>"u"?X:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?X:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?X:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?X:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?X:WeakMap,"%WeakRef%":typeof WeakRef>"u"?X:WeakRef,"%WeakSet%":typeof WeakSet>"u"?X:WeakSet};if(jt)try{null.error}catch(e){G_=jt(jt(e)),Tn["%Error.prototype%"]=G_}var G_,DD=function e(t){var n;if(t==="%AsyncFunction%")n=Jf("async function () {}");else if(t==="%GeneratorFunction%")n=Jf("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Jf("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&jt&&(n=jt(i.prototype))}return Tn[t]=n,n},Q_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ca=z_(),tl=Zf(),ID=Ca.call(Function.call,Array.prototype.concat),PD=Ca.call(Function.apply,Array.prototype.splice),X_=Ca.call(Function.call,String.prototype.replace),el=Ca.call(Function.call,String.prototype.slice),kD=Ca.call(Function.call,RegExp.prototype.exec),TD=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,MD=/\\(\\)?/g,$D=function(t){var n=el(t,0,1),r=el(t,-1);if(n==="%"&&r!=="%")throw new qi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new qi("invalid intrinsic syntax, expected opening `%`");var i=[];return X_(t,TD,function(o,a,s,c){i[i.length]=s?X_(c,MD,"$1"):a||o}),i},ND=function(t,n){var r=t,i;if(tl(Q_,r)&&(i=Q_[r],r="%"+i[0]+"%"),tl(Tn,r)){var o=Tn[r];if(o===Vi&&(o=DD(r)),typeof o>"u"&&!n)throw new Wi("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new qi("intrinsic "+t+" does not exist!")};J_.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new Wi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Wi('"allowMissing" argument must be a boolean');if(kD(/^%?[^%]*%?$/,t)===null)throw new qi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=$D(t),i=r.length>0?r[0]:"",o=ND("%"+i+"%",n),a=o.name,s=o.value,c=!1,l=o.alias;l&&(i=l[0],PD(r,ID([0,1],l)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],h=el(f,0,1),m=el(f,-1);if((h==='"'||h==="'"||h==="`"||m==='"'||m==="'"||m==="`")&&h!==m)throw new qi("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,a="%"+i+"%",tl(Tn,a))s=Tn[a];else if(s!=null){if(!(f in s)){if(!n)throw new Wi("base intrinsic for "+t+" exists, but the property is not available.");return}if(kn&&u+1>=r.length){var p=kn(s,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?s=p.get:s=s[f]}else d=tl(s,f),s=s[f];d&&!c&&(Tn[a]=s)}}return s}});var rl=q((y9,ex)=>{"use strict";var LD=tx(),eh=LD("%Object.defineProperty%",!0),rh=function(){if(eh)try{return eh({},"a",{value:1}),!0}catch{return!1}return!1};rh.hasArrayLengthDefineBug=function(){if(!rh())return null;try{return eh([],"length",{value:1}).length!==1}catch{return!0}};ex.exports=rh});var ix=q((v9,nx)=>{"use strict";var FD="Function.prototype.bind called on incompatible ",jD=Object.prototype.toString,BD=Math.max,UD="[object Function]",rx=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},zD=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},VD=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};nx.exports=function(t){var n=this;if(typeof n!="function"||jD.apply(n)!==UD)throw new TypeError(FD+n);for(var r=zD(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,rx(r,arguments));return Object(u)===u?u:this}return n.apply(t,rx(r,arguments))},a=BD(0,n.length-r.length),s=[],c=0;c<a;c++)s[c]="$"+c;if(i=Function("binder","return function ("+VD(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var ax=q((b9,ox)=>{"use strict";var WD=ix();ox.exports=Function.prototype.bind||WD});var fx=q((_9,dx)=>{"use strict";var Z,Gi=SyntaxError,ux=Function,Yi=TypeError,nh=function(e){try{return ux('"use strict"; return ('+e+").constructor;")()}catch{}},Mn=Object.getOwnPropertyDescriptor;if(Mn)try{Mn({},"")}catch{Mn=null}var ih=function(){throw new Yi},qD=Mn?function(){try{return arguments.callee,ih}catch{try{return Mn(arguments,"callee").get}catch{return ih}}}():ih,Ki=Kc()(),KD=Xf()(),Bt=Object.getPrototypeOf||(KD?function(e){return e.__proto__}:null),Hi={},HD=typeof Uint8Array>"u"||!Bt?Z:Bt(Uint8Array),$n={"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":Ki&&Bt?Bt([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":Hi,"%AsyncGenerator%":Hi,"%AsyncGeneratorFunction%":Hi,"%AsyncIteratorPrototype%":Hi,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":ux,"%GeneratorFunction%":Hi,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ki&&Bt?Bt(Bt([][Symbol.iterator]())):Z,"%JSON%":typeof JSON=="object"?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ki||!Bt?Z:Bt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ki||!Bt?Z:Bt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ki&&Bt?Bt(""[Symbol.iterator]()):Z,"%Symbol%":Ki?Symbol:Z,"%SyntaxError%":Gi,"%ThrowTypeError%":qD,"%TypedArray%":HD,"%TypeError%":Yi,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet};if(Bt)try{null.error}catch(e){sx=Bt(Bt(e)),$n["%Error.prototype%"]=sx}var sx,YD=function e(t){var n;if(t==="%AsyncFunction%")n=nh("async function () {}");else if(t==="%GeneratorFunction%")n=nh("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=nh("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Bt&&(n=Bt(i.prototype))}return $n[t]=n,n},cx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ea=ax(),nl=Zf(),GD=Ea.call(Function.call,Array.prototype.concat),QD=Ea.call(Function.apply,Array.prototype.splice),lx=Ea.call(Function.call,String.prototype.replace),il=Ea.call(Function.call,String.prototype.slice),XD=Ea.call(Function.call,RegExp.prototype.exec),ZD=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,JD=/\\(\\)?/g,tI=function(t){var n=il(t,0,1),r=il(t,-1);if(n==="%"&&r!=="%")throw new Gi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Gi("invalid intrinsic syntax, expected opening `%`");var i=[];return lx(t,ZD,function(o,a,s,c){i[i.length]=s?lx(c,JD,"$1"):a||o}),i},eI=function(t,n){var r=t,i;if(nl(cx,r)&&(i=cx[r],r="%"+i[0]+"%"),nl($n,r)){var o=$n[r];if(o===Hi&&(o=YD(r)),typeof o>"u"&&!n)throw new Yi("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Gi("intrinsic "+t+" does not exist!")};dx.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new Yi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Yi('"allowMissing" argument must be a boolean');if(XD(/^%?[^%]*%?$/,t)===null)throw new Gi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=tI(t),i=r.length>0?r[0]:"",o=eI("%"+i+"%",n),a=o.name,s=o.value,c=!1,l=o.alias;l&&(i=l[0],QD(r,GD([0,1],l)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],h=il(f,0,1),m=il(f,-1);if((h==='"'||h==="'"||h==="`"||m==='"'||m==="'"||m==="`")&&h!==m)throw new Gi("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,a="%"+i+"%",nl($n,a))s=$n[a];else if(s!=null){if(!(f in s)){if(!n)throw new Yi("base intrinsic for "+t+" exists, but the property is not available.");return}if(Mn&&u+1>=r.length){var p=Mn(s,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?s=p.get:s=s[f]}else d=nl(s,f),s=s[f];d&&!c&&($n[a]=s)}}return s}});var px=q((x9,hx)=>{"use strict";var rI=Qc(),ol=rI("%Object.getOwnPropertyDescriptor%",!0);if(ol)try{ol([],"length")}catch{ol=null}hx.exports=ol});var ah=q((w9,gx)=>{"use strict";var nI=rl()(),oh=fx(),Ra=nI&&oh("%Object.defineProperty%",!0);if(Ra)try{Ra({},"a",{value:1})}catch{Ra=!1}var iI=oh("%SyntaxError%"),Qi=oh("%TypeError%"),mx=px();gx.exports=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Qi("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Qi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Qi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Qi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Qi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Qi("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!mx&&mx(t,n);if(Ra)Ra(t,n,{configurable:a===null&&c?c.configurable:!a,enumerable:i===null&&c?c.enumerable:!i,value:r,writable:o===null&&c?c.writable:!o});else if(s||!i&&!o&&!a)t[n]=r;else throw new iI("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Xi=q((S9,_x)=>{"use strict";var oI=Vf(),aI=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",sI=Object.prototype.toString,cI=Array.prototype.concat,yx=ah(),lI=function(e){return typeof e=="function"&&sI.call(e)==="[object Function]"},vx=rl()(),uI=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!lI(r)||!r())return}vx?yx(e,t,n,!0):yx(e,t,n)},bx=function(e,t){var n=arguments.length>2?arguments[2]:{},r=oI(t);aI&&(r=cI.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)uI(e,r[i],t[r[i]],n[r[i]])};bx.supportsDescriptors=!!vx;_x.exports=bx});var sh=q((C9,wx)=>{"use strict";var xx=function(e){return e!==e};wx.exports=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||xx(t)&&xx(n))}});var ch=q((E9,Sx)=>{"use strict";var dI=sh();Sx.exports=function(){return typeof Object.is=="function"?Object.is:dI}});var Ex=q((R9,Cx)=>{"use strict";var fI=ch(),hI=Xi();Cx.exports=function(){var t=fI();return hI(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var Dx=q((O9,Ax)=>{"use strict";var pI=Xi(),mI=Zc(),gI=sh(),Rx=ch(),yI=Ex(),Ox=mI(Rx(),Object);pI(Ox,{getPolyfill:Rx,implementation:gI,shim:yI});Ax.exports=Ox});var Mx=q((A9,Tx)=>{"use strict";var lh=Gf(),Ix=qc()(),Px,kx,uh,dh;Ix&&(Px=lh("Object.prototype.hasOwnProperty"),kx=lh("RegExp.prototype.exec"),uh={},al=function(){throw uh},dh={toString:al,valueOf:al},typeof Symbol.toPrimitive=="symbol"&&(dh[Symbol.toPrimitive]=al));var al,vI=lh("Object.prototype.toString"),bI=Object.getOwnPropertyDescriptor,_I="[object RegExp]";Tx.exports=Ix?function(t){if(!t||typeof t!="object")return!1;var n=bI(t,"lastIndex"),r=n&&Px(n,"value");if(!r)return!1;try{kx(t,dh)}catch(i){return i===uh}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:vI(t)===_I}});var Nx=q((D9,$x)=>{"use strict";var Aa=function(){return typeof(function(){}).name=="string"},Oa=Object.getOwnPropertyDescriptor;if(Oa)try{Oa([],"length")}catch{Oa=null}Aa.functionsHaveConfigurableNames=function(){if(!Aa()||!Oa)return!1;var t=Oa(function(){},"name");return!!t&&!!t.configurable};var xI=Function.prototype.bind;Aa.boundFunctionsHaveNames=function(){return Aa()&&typeof xI=="function"&&(function(){}).bind().name!==""};$x.exports=Aa});var jx=q((I9,Fx)=>{"use strict";var Lx=ah(),wI=rl()(),SI=Nx().functionsHaveConfigurableNames(),CI=TypeError;Fx.exports=function(t,n){if(typeof t!="function")throw new CI("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||SI)&&(wI?Lx(t,"name",n,!0,!0):Lx(t,"name",n)),t}});var fh=q((P9,Bx)=>{"use strict";var EI=jx(),RI=Object,OI=TypeError;Bx.exports=EI(function(){if(this!=null&&this!==RI(this))throw new OI("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0)});var hh=q((k9,Ux)=>{"use strict";var AI=fh(),DI=Xi().supportsDescriptors,II=Object.getOwnPropertyDescriptor;Ux.exports=function(){if(DI&&/a/mig.flags==="gim"){var t=II(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var n="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){n+="d"}}),Object.defineProperty(r,"sticky",{get:function(){n+="y"}}),n==="dy")return t.get}}return AI}});var Wx=q((T9,Vx)=>{"use strict";var PI=Xi().supportsDescriptors,kI=hh(),TI=Object.getOwnPropertyDescriptor,MI=Object.defineProperty,$I=TypeError,zx=Object.getPrototypeOf,NI=/a/;Vx.exports=function(){if(!PI||!zx)throw new $I("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=kI(),n=zx(NI),r=TI(n,"flags");return(!r||r.get!==t)&&MI(n,"flags",{configurable:!0,enumerable:!1,get:t}),t}});var Yx=q((M9,Hx)=>{"use strict";var LI=Xi(),FI=Zc(),jI=fh(),qx=hh(),BI=Wx(),Kx=FI(qx());LI(Kx,{getPolyfill:qx,implementation:jI,shim:BI});Hx.exports=Kx});var Qx=q(($9,Gx)=>{"use strict";var UI=Date.prototype.getDay,zI=function(t){try{return UI.call(t),!0}catch{return!1}},VI=Object.prototype.toString,WI="[object Date]",qI=qc()();Gx.exports=function(t){return typeof t!="object"||t===null?!1:qI?zI(t):VI.call(t)===WI}});var c0=q((N9,s0)=>{"use strict";var Xx=Vf(),Zx=$_(),Jx=Dx(),t0=Mx(),e0=Yx(),r0=Qx(),n0=Date.prototype.getTime;function a0(e,t,n){var r=n||{};return(r.strict?Jx(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?r.strict?Jx(e,t):e==t:KI(e,t,r)}function i0(e){return e==null}function o0(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function KI(e,t,n){var r,i;if(typeof e!=typeof t||i0(e)||i0(t)||e.prototype!==t.prototype||Zx(e)!==Zx(t))return!1;var o=t0(e),a=t0(t);if(o!==a)return!1;if(o||a)return e.source===t.source&&e0(e)===e0(t);if(r0(e)&&r0(t))return n0.call(e)===n0.call(t);var s=o0(e),c=o0(t);if(s!==c)return!1;if(s||c){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var l=Xx(e),u=Xx(t)}catch{return!1}if(l.length!==u.length)return!1;for(l.sort(),u.sort(),r=l.length-1;r>=0;r--)if(l[r]!=u[r])return!1;for(r=l.length-1;r>=0;r--)if(i=l[r],!a0(e[i],t[i],n))return!1;return!0}s0.exports=a0});var v0=q((L9,y0)=>{"use strict";function d0(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var l0=d0(Qb()),u0=d0(c0()),Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YI=function(e){return(typeof e>"u"?"undefined":Zi(e))==="object"&&e!==null},GI=function(e,t){return e.every(function(n){return t&&t(n)||n})},QI=function(e,t){return e.hasOwnProperty(t)},XI=function(e){return Object.keys(e)},f0=function(e,t){Object.keys(e).forEach(function(n){t(e[n],n)})},ZI=function(e){return Array.isArray(e)},h0=function(e){return!!(typeof Uint8Array<"u"&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},p0={isArray:ZI,each:f0},m0=function(t){return p0.isArray(t)&&!h0(t)},JI=function(t){return m0(t)||ph(t)},t1=function(t,n){if(!ph(t))return!1;var r=void 0;return p0.each(t,function(i,o){var a=o.substr(0,1)==="$";if(r===void 0)r=a;else if(r!==a){if(!n)throw new Error("Inconsistent operator: "+JSON.stringify(t));r=!1}}),!!r},e1=function(t){return/^[0-9]+$/.test(t)},ph=function(e){return!(!e||typeof e=="number"||typeof e=="string"||typeof e=="boolean"||m0(e)||e===null||e instanceof RegExp||typeof e=="function"||e instanceof Date||h0(e))},H=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="string"&&t.field&&(e+=" for field '"+t.field+"'");var n=new Error(e);return n.name="ModifyJsError",n},on={all:GI,each:f0,keys:XI,has:QI,isObject:YI},r1=function(e,t,n){if(!(n&&n.each))return n1(e,t,HI({},n,{returnInsteadOfReplacing:!0}))},n1=function(t,n,r){if(r=r||{},!ph(n))throw H("Modifier must be an object");n=l0(n);var i=t1(n),o;if(i?(o=l0(t),on.each(n,function(a,s){var c=o1[s];if(!c)throw H("Invalid modifier specified "+s);on.each(a,function(l,u){if(u==="")throw H("An empty update path is not valid.");var d=u.split(".");if(!on.all(d))throw H("The update path '"+u+"' contains an empty field name, which is not allowed.");var f=g0(o,d,{noCreate:i1[s],forbidArray:s==="$rename",arrayIndices:r.arrayIndices}),h=d.pop();c(f,h,l,u,o)})})):o=n,r.returnInsteadOfReplacing)return o;on.each(on.keys(t),function(a){a!=="_id"&&delete t[a]}),on.each(o,function(a,s){t[s]=a})},g0=function(t,n,r){r=r||{};for(var i=!1,o=0;o<n.length;o++){var a=o===n.length-1,s=n[o],c=JI(t);if(!c){if(r.noCreate)return;var l=H("cannot use the part '"+s+"' to traverse "+t);throw l.setPropertyError=!0,l}if(t instanceof Array){if(r.forbidArray)return null;if(s==="$"){if(i)throw H("Too many positional (i.e. '$') elements");if(!r.arrayIndices||!r.arrayIndices.length)throw H("The positional operator did not find the match needed from the query");s=r.arrayIndices[0],i=!0}else if(e1(s))s=parseInt(s);else{if(r.noCreate)return;throw H("can't append to array using string field name ["+s+"]")}if(a&&(n[o]=s),r.noCreate&&s>=t.length)return;for(;t.length<s;)t.push(null);if(!a){if(t.length===s)t.push({});else if(Zi(t[s])!=="object")throw H("can't modify field '"+n[o+1]+"' of list value "+JSON.stringify(t[s]))}}else if(!(s in t)){if(r.noCreate)return;a||(t[s]={})}if(a)return t;t=t[s]}},i1={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},o1={$currentDate:function(t,n,r){if((typeof r>"u"?"undefined":Zi(r))==="object"&&r.hasOwnProperty("$type")){if(r.$type!=="date")throw H("Minimongo does currently only support the date type in $currentDate modifiers",{field:n})}else if(r!==!0)throw H("Invalid $currentDate modifier",{field:n});t[n]=new Date},$min:function(t,n,r){if(typeof r!="number")throw H("Modifier $min allowed for numbers only",{field:n});if(n in t){if(typeof t[n]!="number")throw H("Cannot apply $min modifier to non-number",{field:n});t[n]>r&&(t[n]=r)}else t[n]=r},$max:function(t,n,r){if(typeof r!="number")throw H("Modifier $max allowed for numbers only",{field:n});if(n in t){if(typeof t[n]!="number")throw H("Cannot apply $max modifier to non-number",{field:n});t[n]<r&&(t[n]=r)}else t[n]=r},$inc:function(t,n,r){if(typeof r!="number")throw H("Modifier $inc allowed for numbers only",{field:n});if(n in t){if(typeof t[n]!="number")throw H("Cannot apply $inc modifier to non-number",{field:n});t[n]+=r}else t[n]=r},$set:function(t,n,r){if(!on.isObject(t)){var i=H("Cannot set property on non-object field",{field:n});throw i.setPropertyError=!0,i}if(t===null){var i=H("Cannot set property on null",{field:n});throw i.setPropertyError=!0,i}t[n]=r},$setOnInsert:function(t,n,r){},$unset:function(t,n,r){t!==void 0&&(t instanceof Array?n in t&&(t[n]=null):delete t[n])},$push:function(t,n,r){if(t[n]===void 0&&(t[n]=[]),!(t[n]instanceof Array))throw H("Cannot apply $push modifier to non-array",{field:n});if(!(r&&r.$each)){t[n].push(r);return}var i=r.$each;if(!(i instanceof Array))throw H("$each must be an array",{field:n});var o=void 0;if("$position"in r){if(typeof r.$position!="number")throw H("$position must be a numeric value",{field:n});if(r.$position<0)throw H("$position in $push must be zero or positive",{field:n});o=r.$position}var a=void 0;if("$slice"in r){if(typeof r.$slice!="number")throw H("$slice must be a numeric value",{field:n});if(r.$slice>0)throw H("$slice in $push must be zero or negative",{field:n});a=r.$slice}var s=void 0;if(r.$sort)throw H("$sort in $push not implemented yet");if(o===void 0)for(var c=0;c<i.length;c++)t[n].push(i[c]);else{for(var l=[o,0],c=0;c<i.length;c++)l.push(i[c]);Array.prototype.splice.apply(t[n],l)}s&&t[n].sort(s),a!==void 0&&(a===0?t[n]=[]:t[n]=t[n].slice(a))},$pushAll:function(t,n,r){if(!((typeof r>"u"?"undefined":Zi(r))==="object"&&r instanceof Array))throw H("Modifier $pushAll/pullAll allowed for arrays only");var i=t[n];if(i===void 0)t[n]=r;else if(i instanceof Array)for(var o=0;o<r.length;o++)i.push(r[o]);else throw H("Cannot apply $pushAll modifier to non-array",{field:n})},$addToSet:function(t,n,r){var i=!1;if((typeof r>"u"?"undefined":Zi(r))==="object"){var o=Object.keys(r);o[0]==="$each"&&(i=!0)}var a=i?r.$each:[r],s=t[n];if(s===void 0)t[n]=a;else if(s instanceof Array)on.each(a,function(c){for(var l=0;l<s.length;l++)if(u0(c,s[l]))return;s.push(c)});else throw H("Cannot apply $addToSet modifier to non-array",{field:n})},$pop:function(t,n,r){if(t!==void 0){var i=t[n];if(i!==void 0)if(i instanceof Array)typeof r=="number"&&r<0?i.splice(0,1):i.pop();else throw H("Cannot apply $pop modifier to non-array",{field:n})}},$pull:function(t,n,r){if(t!==void 0){var i=t[n];if(i!==void 0)throw i instanceof Array?H("$pull not implemented yet"):H("Cannot apply $pull/pullAll modifier to non-array",{field:n})}},$pullAll:function(t,n,r){if(!((typeof r>"u"?"undefined":Zi(r))==="object"&&r instanceof Array))throw H("Modifier $pushAll/pullAll allowed for arrays only",{field:n});if(t!==void 0){var i=t[n];if(i!==void 0)if(i instanceof Array){for(var o=[],a=0;a<i.length;a++){for(var s=!1,c=0;c<r.length;c++)if(u0(i[a],r[c])){s=!0;break}s||o.push(i[a])}t[n]=o}else throw H("Cannot apply $pull/pullAll modifier to non-array",{field:n})}},$rename:function(t,n,r,i,o){if(i===r)throw H("$rename source must differ from target",{field:n});if(t===null)throw H("$rename source field invalid",{field:n});if(typeof r!="string")throw H("$rename target must be a string",{field:n});if(r.indexOf("\0")>-1)throw H("The 'to' field for $rename cannot contain an embedded null byte",{field:n});if(t!==void 0){var a=t[n];delete t[n];var s=r.split("."),c=g0(o,s,{forbidArray:!0});if(c===null)throw H("$rename target field invalid",{field:n});var l=s.pop();c[l]=a}},$bit:function(t,n,r){throw H("$bit is not supported",{field:n})}};y0.exports=r1});var fo=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},sr=class extends fo{constructor(t,n,r,i,o){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},ze=class extends fo{constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Dl=class extends fo{constructor(t){super(),this.element=t instanceof Et?t.nativeElement:t}},kr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof sr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ze)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Dl)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Qa=class extends kr{constructor(t,n,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let c=this._document.createComment("dom-portal");s.parentNode.insertBefore(c,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=o}attachComponentPortal(t){let r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Ct.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var eP=(()=>{let t=class t extends ze{constructor(r,i){super(r,i)}};t.\u0275fac=function(i){return new(i||t)(P(or),P(Pr))},t.\u0275dir=wt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Qt]});let e=t;return e})();var We=(()=>{let t=class t extends kr{constructor(r,i,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Kt,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let c=this._document.createComment("dom-portal");a.setAttachedHost(this),s.parentNode.insertBefore(c,s),this._getRootNode().appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,a=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),s=i.createComponent(a,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=r,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};t.\u0275fac=function(i){return new(i||t)(P(Ba),P(Pr),P(Rt))},t.\u0275dir=wt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Qt]});let e=t;return e})();var _e=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({});let e=t;return e})();var Cp=["mat-button",""],Ep=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Rp=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],q0='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Op=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var K0=["mat-icon-button",""],H0=["*"];var Y0=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],kl=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,i,o,a){this._elementRef=r,this._platform=i,this._ngZone=o,this._animationMode=a,this._focusMonitor=M(Qn),this._rippleLoader=M(xp),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let s=this._elementRef.nativeElement,c=s.classList;for(let{attribute:l,mdcClasses:u}of Y0)s.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",i){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(i){ao()},t.\u0275dir=wt({type:t,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",ne],disabled:["disabled","disabled",ne]},features:[Ir]});let e=t;return e})();var G0=(()=>{let t=class t extends kl{constructor(r,i,o,a){super(r,i,o,a),this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}};t.\u0275fac=function(i){ao()},t.\u0275dir=wt({type:t,inputs:{tabIndex:["tabIndex","tabIndex",r=>r==null?void 0:ip(r)]},features:[Ir,Qt]});let e=t;return e})(),Ap=(()=>{let t=class t extends kl{constructor(r,i,o,a){super(r,i,o,a)}};t.\u0275fac=function(i){return new(i||t)(P(Et),P(ue),P(mt),P(Fe,8))},t.\u0275cmp=re({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,o){i&2&&(le("disabled",o.disabled||null),Ua(o.color?"mat-"+o.color:""),je("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Qt],attrs:Cp,ngContentSelectors:Rp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(so(Ep),be(0,"span",0),ir(1),Be(2,"span",1),ir(3,1),Oe(),ir(4,2),be(5,"span",2)(6,"span",3)),i&2&&je("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),pP=(()=>{let t=class t extends G0{constructor(r,i,o,a){super(r,i,o,a)}};t.\u0275fac=function(i){return new(i||t)(P(Et),P(ue),P(mt),P(Fe,8))},t.\u0275cmp=re({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:11,hostBindings:function(i,o){i&2&&(le("disabled",o.disabled||null)("tabindex",o.disabled?-1:o.tabIndex)("aria-disabled",o.disabled.toString()),Ua(o.color?"mat-"+o.color:""),je("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[Qt],attrs:Cp,ngContentSelectors:Rp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(so(Ep),be(0,"span",0),ir(1),Be(2,"span",1),ir(3,1),Oe(),ir(4,2),be(5,"span",2)(6,"span",3)),i&2&&je("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[q0,Op],encapsulation:2,changeDetection:0});let e=t;return e})();var mP=(()=>{let t=class t extends kl{constructor(r,i,o,a){super(r,i,o,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(i){return new(i||t)(P(Et),P(ue),P(mt),P(Fe,8))},t.\u0275cmp=re({type:t,selectors:[["button","mat-icon-button",""]],hostVars:9,hostBindings:function(i,o){i&2&&(le("disabled",o.disabled||null),Ua(o.color?"mat-"+o.color:""),je("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Qt],attrs:K0,ngContentSelectors:H0,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(so(),be(0,"span",0),ir(1),be(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Op],encapsulation:2,changeDetection:0});let e=t;return e})();var Tl=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({imports:[ar,_p,ar]});let e=t;return e})();var V="primary",Oo=Symbol("RouteTitle"),Fl=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ri(e){return new Fl(e)}function X0(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Z0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qe(e[n],t[n]))return!1;return!0}function qe(e,t){let n=e?jl(e):void 0,r=t?jl(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Fp(e[i],t[i]))return!1;return!0}function jl(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Fp(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function jp(e){return e.length>0?e[e.length-1]:null}function Lr(e){return Fn(e)?e:Jh(e)?qt(Promise.resolve(e)):$(e)}var J0={exact:Up,subset:zp},Bp={exact:tw,subset:ew,ignored:()=>!0};function Dp(e,t,n){return J0[n.paths](e.root,t.root,n.matrixParams)&&Bp[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function tw(e,t){return qe(e,t)}function Up(e,t,n){if(!gn(e.segments,t.segments)||!Ja(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Up(e.children[r],t.children[r],n))return!1;return!0}function ew(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Fp(e[n],t[n]))}function zp(e,t,n){return Vp(e,t,t.segments,n)}function Vp(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!gn(i,n)||t.hasChildren()||!Ja(i,n,r))}else if(e.segments.length===n.length){if(!gn(e.segments,n)||!Ja(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!zp(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!gn(e.segments,i)||!Ja(e.segments,i,r)||!e.children[V]?!1:Vp(e.children[V],t,o,r)}}function Ja(e,t,n){return t.every((r,i)=>Bp[n](e[i].parameters,r.parameters))}var Tr=class{constructor(t=new ot([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ri(this.queryParams)),this._queryParamMap}toString(){return iw.serialize(this)}},ot=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ts(this)}},mn=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ri(this.parameters)),this._parameterMap}toString(){return qp(this)}};function rw(e,t){return gn(e,t)&&e.every((n,r)=>qe(n.parameters,t[r].parameters))}function gn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function nw(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===V&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==V&&(n=n.concat(t(i,r)))}),n}var Ao=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:()=>(()=>new bo)(),providedIn:"root"});let e=t;return e})(),bo=class{parse(t){let n=new Ul(t);return new Tr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ho(t.root,!0)}`,r=sw(t.queryParams),i=typeof t.fragment=="string"?`#${ow(t.fragment)}`:"";return`${n}${r}${i}`}},iw=new bo;function ts(e){return e.segments.map(t=>qp(t)).join("/")}function ho(e,t){if(!e.hasChildren())return ts(e);if(t){let n=e.children[V]?ho(e.children[V],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${ho(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=nw(e,(r,i)=>i===V?[ho(e.children[V],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${ts(e)}/${n[0]}`:`${ts(e)}/(${n.join("//")})`}}function Wp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xa(e){return Wp(e).replace(/%3B/gi,";")}function ow(e){return encodeURI(e)}function Bl(e){return Wp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function es(e){return decodeURIComponent(e)}function Ip(e){return es(e.replace(/\+/g,"%20"))}function qp(e){return`${Bl(e.path)}${aw(e.parameters)}`}function aw(e){return Object.keys(e).map(t=>`;${Bl(t)}=${Bl(e[t])}`).join("")}function sw(e){let t=Object.keys(e).map(n=>{let r=e[n];return Array.isArray(r)?r.map(i=>`${Xa(n)}=${Xa(i)}`).join("&"):`${Xa(n)}=${Xa(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}var cw=/^[^\/()?;#]+/;function Ml(e){let t=e.match(cw);return t?t[0]:""}var lw=/^[^\/()?;=#]+/;function uw(e){let t=e.match(lw);return t?t[0]:""}var dw=/^[^=?&#]+/;function fw(e){let t=e.match(dw);return t?t[0]:""}var hw=/^[^&#]+/;function pw(e){let t=e.match(hw);return t?t[0]:""}var Ul=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[V]=new ot(t,n)),r}parseSegment(){let t=Ml(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Gt(4009,!1);return this.capture(t),new mn(es(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=uw(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ml(this.remaining);i&&(r=i,this.capture(r))}t[es(n)]=es(r)}parseQueryParam(t){let n=fw(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=pw(this.remaining);a&&(r=a,this.capture(r))}let i=Ip(n),o=Ip(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ml(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Gt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[V]:new ot([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Gt(4011,!1)}};function Kp(e){return e.segments.length>0?new ot([],{[V]:e}):e}function Hp(e){let t={};for(let r of Object.keys(e.children)){let i=e.children[r],o=Hp(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ot(e.segments,t);return mw(n)}function mw(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new ot(e.segments.concat(t.segments),t.children)}return e}function ni(e){return e instanceof Tr}function gw(e,t,n=null,r=null){let i=Yp(e);return Gp(i,t,n,r)}function Yp(e){let t;function n(o){let a={};for(let c of o.children){let l=n(c);a[c.outlet]=l}let s=new ot(o.url,a);return o===e&&(t=s),s}let r=n(e.root),i=Kp(r);return t??i}function Gp(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return $l(i,i,i,n,r);let o=yw(t);if(o.toRoot())return $l(i,i,new ot([],{}),n,r);let a=vw(o,i,e),s=a.processChildren?go(a.segmentGroup,a.index,o.commands):Xp(a.segmentGroup,a.index,o.commands);return $l(i,a.segmentGroup,s,n,r)}function rs(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function _o(e){return typeof e=="object"&&e!=null&&e.outlets}function $l(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let a;e===t?a=n:a=Qp(e,t,n);let s=Kp(Hp(a));return new Tr(s,o,i)}function Qp(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Qp(o,t,n)}),new ot(e.segments,r)}var ns=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&rs(r[0]))throw new Gt(4003,!1);let i=r.find(_o);if(i&&i!==jp(r))throw new Gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yw(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ns(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?t++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new ns(n,t,r)}var ti=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function vw(e,t,n){if(e.isAbsolute)return new ti(t,!0,0);if(!n)return new ti(t,!1,NaN);if(n.parent===null)return new ti(n,!0,0);let r=rs(e.commands[0])?0:1,i=n.segments.length-1+r;return bw(n,i,e.numberOfDoubleDots)}function bw(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Gt(4005,!1);i=r.segments.length}return new ti(r,!1,i-o)}function _w(e){return _o(e[0])?e[0].outlets:{[V]:e}}function Xp(e,t,n){if(e||(e=new ot([],{})),e.segments.length===0&&e.hasChildren())return go(e,t,n);let r=xw(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ot(e.segments.slice(0,r.pathIndex),{});return o.children[V]=new ot(e.segments.slice(r.pathIndex),e.children),go(o,0,i)}else return r.match&&i.length===0?new ot(e.segments,{}):r.match&&!e.hasChildren()?zl(e,t,n):r.match?go(e,0,i):zl(e,t,n)}function go(e,t,n){if(n.length===0)return new ot(e.segments,{});{let r=_w(n),i={};if(Object.keys(r).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=go(e.children[V],t,n);return new ot(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=Xp(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new ot(e.segments,i)}}function xw(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let a=e.segments[i],s=n[r];if(_o(s))break;let c=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!kp(c,l,a))return o;r+=2}else{if(!kp(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zl(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(_o(o)){let c=ww(o.outlets);return new ot(r,c)}if(i===0&&rs(n[0])){let c=e.segments[t];r.push(new mn(c.path,Pp(n[0]))),i++;continue}let a=_o(o)?o.outlets[V]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&rs(s)?(r.push(new mn(a,Pp(s))),i+=2):(r.push(new mn(a,{})),i++)}return new ot(r,{})}function ww(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=zl(new ot([],{}),0,r))}),t}function Pp(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function kp(e,t,n){return e==n.path&&qe(t,n.parameters)}var yo="imperative",xe=class{constructor(t,n){this.id=t,this.url=n}},Mr=class extends xe{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ke=class extends xe{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},He=class extends xe{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends xe{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}},xo=class extends xe{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},is=class extends xe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vl=class extends xe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wl=class extends xe{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ql=class extends xe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kl=class extends xe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yl=class{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gl=class{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ql=class{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xl=class{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zl=class{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},os=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},wo=class{},So=class{constructor(t){this.url=t}};var Jl=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Do,this.attachRef=null}},Do=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jl,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),as=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=tu(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=tu(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=eu(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return eu(t,this._root).map(n=>n.value)}};function tu(e,t){if(e===t.value)return t;for(let n of t.children){let r=tu(e,n);if(r)return r}return null}function eu(e,t){if(e===t.value)return[t];for(let n of t.children){let r=eu(e,n);if(r.length)return r.unshift(t),r}return[]}var de=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Jn(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ss=class extends as{constructor(t,n){super(t),this.snapshot=n,du(this,t)}toString(){return this.snapshot.toString()}};function Zp(e,t){let n=Sw(e,t),r=new Wt([new mn("",{})]),i=new Wt({}),o=new Wt({}),a=new Wt({}),s=new Wt(""),c=new Ye(r,i,a,s,o,V,t,n.root);return c.snapshot=n.root,new ss(new de(c,[]),n)}function Sw(e,t){let n={},r={},i={},o="",a=new Co([],n,i,o,r,V,t,null,{});return new cs("",new de(a,[]))}var Ye=class{constructor(t,n,r,i,o,a,s,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[Oo]))??$(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(t=>ri(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(t=>ri(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&tm(i)&&(r.resolve[Oo]=i.title),r}var Co=class{get title(){return this.data?.[Oo]}constructor(t,n,r,i,o,a,s,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ri(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ri(this.queryParams)),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},cs=class extends as{constructor(t,n){super(n),this.url=t,du(this,n)}toString(){return Jp(this._root)}};function du(e,t){t.value._routerState=e,t.children.forEach(n=>du(e,n))}function Jp(e){let t=e.children.length>0?` { ${e.children.map(Jp).join(", ")} } `:"";return`${e.value}${t}`}function Nl(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qe(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qe(t.params,n.params)||e.paramsSubject.next(n.params),Z0(t.url,n.url)||e.urlSubject.next(n.url),qe(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ru(e,t){let n=qe(e.params,t.params)&&rw(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||ru(e.parent,t.parent))}function tm(e){return typeof e.title=="string"||e.title===null}var Cw=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=M(Do),this.location=M(Pr),this.changeDetector=M(Dr),this.environmentInjector=M(oo),this.inputBinder=M(fs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Gt(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Gt(4013,!1);this._activatedRoute=r;let o=this.location,s=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new nu(r,c,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=wt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Or]});let e=t;return e})(),nu=class{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ye?this.route:t===Do?this.childContexts:this.parent.get(t,n)}},fs=new Y(""),Tp=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=La([i.queryParams,i.params,i.data]).pipe(ve(([a,s,c],l)=>(c=E(E(E({},a),s),c),l===0?$(c):Promise.resolve(c)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let s=op(i.component);if(!s){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of s.inputs)r.activatedComponentRef.setInput(c,a[c])});this.outletDataSubscriptions.set(r,o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function Ew(e,t,n){let r=Eo(e,t._root,n?n._root:void 0);return new ss(r,t)}function Eo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Rw(e,t,n);return new de(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Eo(e,s)),a}}let r=Ow(t.value),i=t.children.map(o=>Eo(e,o));return new de(r,i)}}function Rw(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Eo(e,r,i);return Eo(e,r)})}function Ow(e){return new Ye(new Wt(e.url),new Wt(e.params),new Wt(e.queryParams),new Wt(e.fragment),new Wt(e.data),e.outlet,e.component,e)}var em="ngNavigationCancelingError";function rm(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ni(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=nm(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function nm(e,t,n){let r=new Error("NavigationCancelingError: "+(e||""));return r[em]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Aw(e){return im(e)&&ni(e.url)}function im(e){return e&&e[em]}var fu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=re({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(i,o){i&1&&be(0,"router-outlet")},dependencies:[Cw],encapsulation:2});let e=t;return e})();function Dw(e,t){return e.providers&&!e._injector&&(e._injector=xl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function hu(e){let t=e.children&&e.children.map(hu),n=t?G(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=fu),n}function Ge(e){return e.outlet||V}function Iw(e,t){let n=e.filter(r=>Ge(r)===t);return n.push(...e.filter(r=>Ge(r)!==t)),n}function Io(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Pw=(e,t,n,r)=>K(i=>(new iu(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),iu=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Nl(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Jn(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Jn(t);for(let a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Jn(t);for(let a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Jn(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ql(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Nl(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Nl(s.route.value),this.activateChildRoutes(t,null,a.children)}else{let s=Io(i.snapshot);a.attachRef=null,a.route=i,a.injector=s,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}},ls=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ei=class{constructor(t,n){this.component=t,this.route=n}};function kw(e,t,n){let r=e._root,i=t?t._root:null;return po(r,i,n,[r.value])}function Tw(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function oi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Bh(e)?e:t.get(e):r}function po(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jn(t);return e.children.forEach(a=>{Mw(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>vo(s,n.getContext(a),i)),i}function Mw(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=$w(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ls(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?po(e,t,s?s.children:null,r,i):po(e,t,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ei(s.outlet.component,a))}else a&&vo(t,s,i),i.canActivateChecks.push(new ls(r)),o.component?po(e,null,s?s.children:null,r,i):po(e,null,n,r,i);return i}function $w(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!gn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!gn(e.url,t.url)||!qe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ru(e,t)||!qe(e.queryParams,t.queryParams);case"paramsChange":default:return!ru(e,t)}}function vo(e,t,n){let r=Jn(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?t?vo(a,t.children.getContext(o),n):vo(a,null,n):vo(a,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ei(t.outlet.component,i)):n.canDeactivateChecks.push(new ei(null,i)):n.canDeactivateChecks.push(new ei(null,i))}function Po(e){return typeof e=="function"}function Nw(e){return typeof e=="boolean"}function Lw(e){return e&&Po(e.canLoad)}function Fw(e){return e&&Po(e.canActivate)}function jw(e){return e&&Po(e.canActivateChild)}function Bw(e){return e&&Po(e.canDeactivate)}function Uw(e){return e&&Po(e.canMatch)}function om(e){return e instanceof kh||e?.name==="EmptyError"}var Za=Symbol("INITIAL_VALUE");function ii(){return ve(e=>La(e.map(t=>t.pipe(ee(1),Re(Za)))).pipe(K(t=>{for(let n of t)if(n!==!0){if(n===Za)return Za;if(n===!1||n instanceof Tr)return n}return!0}),et(t=>t!==Za),ee(1)))}function zw(e,t){return St(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?$(G(E({},n),{guardsResult:!0})):Vw(a,r,i,e).pipe(St(s=>s&&Nw(s)?Ww(r,o,e,t):$(s)),K(s=>G(E({},n),{guardsResult:s})))})}function Vw(e,t,n,r){return qt(e).pipe(St(i=>Gw(i.component,i.route,n,t,r)),Rr(i=>i!==!0,!0))}function Ww(e,t,n,r){return qt(t).pipe(Un(i=>Th(Kw(i.route.parent,r),qw(i.route,r),Yw(e,i.path,n),Hw(e,i.route,n))),Rr(i=>i!==!0,!0))}function qw(e,t){return e!==null&&t&&t(new Xl(e)),$(!0)}function Kw(e,t){return e!==null&&t&&t(new Gl(e)),$(!0)}function Hw(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>un(()=>{let a=Io(t)??n,s=oi(o,a),c=Fw(s)?s.canActivate(t,e):Ar(a,()=>s(t,e));return Lr(c).pipe(Rr())}));return $(i).pipe(ii())}function Yw(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>Tw(a)).filter(a=>a!==null).map(a=>un(()=>{let s=a.guards.map(c=>{let l=Io(a.node)??n,u=oi(c,l),d=jw(u)?u.canActivateChild(r,e):Ar(l,()=>u(r,e));return Lr(d).pipe(Rr())});return $(s).pipe(ii())}));return $(o).pipe(ii())}function Gw(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let a=o.map(s=>{let c=Io(t)??i,l=oi(s,c),u=Bw(l)?l.canDeactivate(e,t,n,r):Ar(c,()=>l(e,t,n,r));return Lr(u).pipe(Rr())});return $(a).pipe(ii())}function Qw(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(a=>{let s=oi(a,e),c=Lw(s)?s.canLoad(t,n):Ar(e,()=>s(t,n));return Lr(c)});return $(o).pipe(ii(),am(r))}function am(e){return Ih(zt(t=>{if(ni(t))throw rm(e,t)}),K(t=>t===!0))}function Xw(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(a=>{let s=oi(a,e),c=Uw(s)?s.canMatch(t,n):Ar(e,()=>s(t,n));return Lr(c)});return $(o).pipe(ii(),am(r))}var Ro=class{constructor(t){this.segmentGroup=t||null}},us=class extends Error{constructor(t){super(),this.urlTree=t}};function Zn(e){return no(new Ro(e))}function Zw(e){return no(new Gt(4e3,!1))}function Jw(e){return no(nm(!1,3))}var ou=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[V])return Zw(t.redirectTo);i=i.children[V]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new us(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Tr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,i)}),new ot(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new Gt(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},au={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tS(e,t,n,r,i){let o=pu(e,t,n);return o.matched?(r=Dw(t,r),Xw(r,t,n,i).pipe(K(a=>a===!0?o:E({},au)))):$(o)}function pu(e,t,n){if(t.path==="**")return eS(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?E({},au):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||X0)(n,e,t);if(!i)return E({},au);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function eS(e){return{matched:!0,parameters:e.length>0?jp(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Mp(e,t,n,r){return n.length>0&&iS(e,n,r)?{segmentGroup:new ot(t,nS(r,new ot(n,e.children))),slicedSegments:[]}:n.length===0&&oS(e,n,r)?{segmentGroup:new ot(e.segments,rS(e,t,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ot(e.segments,e.children),slicedSegments:n}}function rS(e,t,n,r,i){let o={};for(let a of r)if(hs(e,n,a)&&!i[Ge(a)]){let s=new ot([],{});o[Ge(a)]=s}return E(E({},i),o)}function nS(e,t){let n={};n[V]=t;for(let r of e)if(r.path===""&&Ge(r)!==V){let i=new ot([],{});n[Ge(r)]=i}return n}function iS(e,t,n){return n.some(r=>hs(e,t,r)&&Ge(r)!==V)}function oS(e,t,n){return n.some(r=>hs(e,t,r))}function hs(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aS(e,t,n,r){return Ge(e)!==r&&(r===V||!hs(t,n,e))?!1:pu(t,e,n).matched}function sS(e,t,n){return t.length===0&&!e.children[n]}var su=class{};function cS(e,t,n,r,i,o,a="emptyOnly"){return new cu(e,t,n,r,i,a,o).recognize()}var lS=31,cu=class{constructor(t,n,r,i,o,a,s){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new ou(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Gt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Mp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(n=>{let r=new Co([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new de(r,n),o=new cs("",i),a=gw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,V).pipe(Bn(r=>{if(r instanceof us)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ro?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=uu(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(K(o=>o instanceof de?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return qt(i).pipe(Un(o=>{let a=r.children[o],s=Iw(n,o);return this.processSegmentGroup(t,s,a,o)}),Fh((o,a)=>(o.push(...a),o)),hl(null),Nh(),St(o=>{if(o===null)return Zn(r);let a=sm(o);return uS(a),$(a)}))}processSegment(t,n,r,i,o,a){return qt(n).pipe(Un(s=>this.processSegmentAgainstRoute(s._injector??t,n,s,r,i,o,a).pipe(Bn(c=>{if(c instanceof Ro)return $(null);throw c}))),Rr(s=>!!s),Bn(s=>{if(om(s))return sS(r,i,o)?$(new su):Zn(r);throw s}))}processSegmentAgainstRoute(t,n,r,i,o,a,s){return aS(r,i,o,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,a):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a):Zn(i):Zn(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a){let{matched:s,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=pu(n,i,o);if(!s)return Zn(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lS&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(St(f=>this.processSegment(t,r,n,f.concat(u),a,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let a=tS(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ve(s=>s.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(ve(({routes:c})=>{let l=r._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:f}=s,h=new Co(u,f,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,fS(r),Ge(r),r.component??r._loadedComponent??null,r,hS(r)),{segmentGroup:m,slicedSegments:p}=Mp(n,u,d,c);if(p.length===0&&m.hasChildren())return this.processChildren(l,c,m).pipe(K(g=>g===null?null:new de(h,g)));if(c.length===0&&p.length===0)return $(new de(h,[]));let v=Ge(r)===o;return this.processSegment(l,c,m,p,v?V:o,!0).pipe(K(g=>new de(h,g instanceof de?[g]:[])))}))):Zn(n)))}getChildConfig(t,n,r){return n.children?$({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):Qw(t,n,r,this.urlSerializer).pipe(St(i=>i?this.configLoader.loadChildren(t,n).pipe(zt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Jw(n))):$({routes:[],injector:t})}};function uS(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function dS(e){let t=e.value.routeConfig;return t&&t.path===""}function sm(e){let t=[],n=new Set;for(let r of e){if(!dS(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=sm(r.children);t.push(new de(r.value,i))}return t.filter(r=>!n.has(r))}function fS(e){return e.data||{}}function hS(e){return e.resolve||{}}function pS(e,t,n,r,i,o){return St(a=>cS(e,t,n,r,a.extractedUrl,i,o).pipe(K(({state:s,tree:c})=>G(E({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function mS(e,t){return St(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of cm(c))a.add(l);let s=0;return qt(a).pipe(Un(c=>o.has(c)?gS(c,r,e,t):(c.data=uu(c,c.parent,e).resolve,$(void 0))),zt(()=>s++),pl(1),St(c=>s===a.size?$(n):ln))})}function cm(e){let t=e.children.map(n=>cm(n)).flat();return[e,...t]}function gS(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!tm(i)&&(o[Oo]=i.title),yS(o,e,t,r).pipe(K(a=>(e._resolvedData=a,e.data=uu(e,e.parent,n).resolve,null)))}function yS(e,t,n,r){let i=jl(e);if(i.length===0)return $({});let o={};return qt(i).pipe(St(a=>vS(e[a],t,n,r).pipe(Rr(),zt(s=>{o[a]=s}))),pl(1),$h(o),Bn(a=>om(a)?ln:no(a)))}function vS(e,t,n,r){let i=Io(t)??r,o=oi(e,i),a=o.resolve?o.resolve(t,n):Ar(i,()=>o(t,n));return Lr(a)}function Ll(e){return ve(t=>{let n=e(t);return n?qt(n).pipe(K(()=>t)):$(t)})}var lm=(()=>{let t=class t{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===V);return i}getResolvedTitleForRoute(r){return r.data[Oo]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:()=>(()=>M(bS))(),providedIn:"root"});let e=t;return e})(),bS=(()=>{let t=class t extends lm{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(O(fp))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ko=new Y("",{providedIn:"root",factory:()=>({})}),Nr=new Y("ROUTES"),mu=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(Yn)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Lr(r.loadComponent()).pipe(K(um),zt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Vn(()=>{this.componentLoaders.delete(r)})),o=new cn(i,()=>new F).pipe(ro());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=_S(i,this.compiler,r,this.onLoadEndListener).pipe(Vn(()=>{this.childrenLoaders.delete(i)})),s=new cn(a,()=>new F).pipe(ro());return this.childrenLoaders.set(i,s),s}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _S(e,t,n,r){return Lr(e.loadChildren()).pipe(K(um),St(i=>i instanceof za||Array.isArray(i)?$(i):qt(t.compileModuleAsync(i))),K(i=>{r&&r(e);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(n).injector,a=o.get(Nr,[],{optional:!0,self:!0}).flat()),{routes:a.map(hu),injector:o}}))}function xS(e){return e&&typeof e=="object"&&"default"in e}function um(e){return xS(e)?e.default:e}var gu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:()=>(()=>M(wS))(),providedIn:"root"});let e=t;return e})(),wS=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),dm=new Y(""),fm=new Y("");function SS(e,t,n){let r=e.get(fm),i=e.get(Rt);return e.get(mt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,a=new Promise(l=>{o=l}),s=i.startViewTransition(()=>(o(),CS(e))),{onViewTransitionCreated:c}=r;return c&&Ar(e,()=>c({transition:s,from:t,to:n})),a})}function CS(e){return new Promise(t=>{Gh(t,{injector:e})})}var yu=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new F,this.transitionAbortSubject=new F,this.configLoader=M(mu),this.environmentInjector=M(oo),this.urlSerializer=M(Ao),this.rootContexts=M(Do),this.location=M(Ae),this.inputBindingEnabled=M(fs,{optional:!0})!==null,this.titleStrategy=M(lm),this.options=M(ko,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(gu),this.createViewTransition=M(dm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Hl(o)),i=o=>this.events.next(new Yl(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(G(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Wt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(et(a=>a.id!==0),K(a=>G(E({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),ve(a=>{this.currentTransition=a;let s=!1,c=!1;return $(a).pipe(zt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?G(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ve(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new $r(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),ln}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $(l).pipe(ve(f=>{let h=this.transitions?.getValue();return this.events.next(new Mr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?ln:Promise.resolve(f)}),pS(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),zt(f=>{a.targetSnapshot=f.targetSnapshot,a.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=G(E({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new is(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:p,extras:v}=l,g=new Mr(f,this.urlSerializer.serialize(h),m,p);this.events.next(g);let x=Zp(h,this.rootComponentType).snapshot;return this.currentTransition=a=G(E({},l),{targetSnapshot:x,urlAfterRedirects:h,extras:G(E({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,$(a)}else{let f="";return this.events.next(new $r(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),ln}}),zt(l=>{let u=new Vl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),K(l=>(this.currentTransition=a=G(E({},l),{guards:kw(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),a)),zw(this.environmentInjector,l=>this.events.next(l)),zt(l=>{if(a.guardsResult=l.guardsResult,ni(l.guardsResult))throw rm(this.urlSerializer,l.guardsResult);let u=new Wl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),et(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),Ll(l=>{if(l.guards.canActivateChecks.length)return $(l).pipe(zt(u=>{let d=new ql(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ve(u=>{let d=!1;return $(u).pipe(mS(this.paramsInheritanceStrategy,this.environmentInjector),zt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),zt(u=>{let d=new Kl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Ll(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(zt(h=>{d.component=h}),K(()=>{})));for(let h of d.children)f.push(...u(h));return f};return La(u(l.targetSnapshot.root)).pipe(hl(null),ee(1))}),Ll(()=>this.afterPreactivation()),ve(()=>{let{currentSnapshot:l,targetSnapshot:u}=a,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?qt(d).pipe(K(()=>a)):$(a)}),K(l=>{let u=Ew(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=a=G(E({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,a}),zt(()=>{this.events.next(new wo)}),Pw(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ee(1),zt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ke(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),dn(this.transitionAbortSubject.pipe(zt(l=>{throw l}))),Vn(()=>{if(!s&&!c){let l="";this.cancelNavigationTransition(a,l,1)}this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Bn(l=>{if(c=!0,im(l))this.events.next(new He(a.id,this.urlSerializer.serialize(a.extractedUrl),l.message,l.cancellationCode)),Aw(l)?this.events.next(new So(l.url)):a.resolve(!1);else{this.events.next(new xo(a.id,this.urlSerializer.serialize(a.extractedUrl),l,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(l))}catch(u){a.reject(u)}}return ln}))}))}cancelNavigationTransition(r,i,o){let a=new He(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ES(e){return e!==yo}var vu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:()=>(()=>M(RS))(),providedIn:"root"});let e=t;return e})(),lu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},RS=(()=>{let t=class t extends lu{};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Wn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hm=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:()=>(()=>M(OS))(),providedIn:"root"});let e=t;return e})(),OS=(()=>{let t=class t extends hm{constructor(){super(...arguments),this.location=M(Ae),this.urlSerializer=M(Ao),this.options=M(ko,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(gu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zp(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Mr)this.stateMemento=this.createStateMemento();else if(r instanceof $r)this.rawUrlTree=i.initialUrl;else if(r instanceof is){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof wo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof He&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof xo?this.restoreHistory(i,!0):r instanceof Ke&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let a=this.browserPageId,s=E(E({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(o,"",s)}else{let a=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Wn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(mo||{});function pm(e,t){e.events.pipe(et(n=>n instanceof Ke||n instanceof He||n instanceof xo||n instanceof $r),K(n=>n instanceof Ke||n instanceof $r?mo.COMPLETE:(n instanceof He?n.code===0||n.code===1:!1)?mo.REDIRECTING:mo.FAILED),et(n=>n!==mo.REDIRECTING),ee(1)).subscribe(()=>{t()})}function AS(e){throw e}var DS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ie=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=M(ep),this.stateManager=M(hm),this.options=M(ko,{optional:!0})||{},this.pendingTasks=M(rp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(yu),this.urlSerializer=M(Ao),this.location=M(Ae),this.urlHandlingStrategy=M(gu),this._events=new F,this.errorHandler=this.options.errorHandler||AS,this.navigated=!1,this.routeReuseStrategy=M(vu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(Nr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(fs,{optional:!0}),this.eventsSubscription=new Le,this.isNgZoneEnabled=M(mt)instanceof mt&&mt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof He&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Ke)this.navigated=!0;else if(i instanceof So){let s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ES(o.source)};this.scheduleNavigation(s,yo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}kS(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,o){let a={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=E({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(a.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(hu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:a,fragment:s,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s,d=null;switch(c){case"merge":d=E(E({},this.currentUrlTree.queryParams),a);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=a||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=Yp(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Gp(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ni(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,yo,null,i)}navigate(r,i={skipLocationChange:!1}){return PS(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=E({},DS):i===!1?o=E({},IS):o=i,ni(r))return Dp(this.currentUrlTree,r,o);let a=this.parseUrl(r);return Dp(this.currentUrlTree,a,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{let a=r[o];return a!=null&&(i[o]=a),i},{})}scheduleNavigation(r,i,o,a,s){if(this.disposed)return Promise.resolve(!1);let c,l,u;s?(c=s.resolve,l=s.reject,u=s.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return pm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function PS(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Gt(4008,!1)}function kS(e){return!(e instanceof wo)&&!(e instanceof So)}var LP=(()=>{let t=class t{constructor(r,i,o,a,s,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=a,this.el=s,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new F,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Ke&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,a,s){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||o||a||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:Hh(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let o=this.renderer,a=this.el.nativeElement;i!==null?o.setAttribute(a,r,i):o.removeAttribute(a,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(i){return new(i||t)(P(ie),P(Ye),Wh("tabindex"),P(Yh),P(Et),P(lo))},t.\u0275dir=wt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Kn("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&le("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ne],skipLocationChange:["skipLocationChange","skipLocationChange",ne],replaceUrl:["replaceUrl","replaceUrl",ne],routerLink:"routerLink"},standalone:!0,features:[Ir,Or]});let e=t;return e})();var ds=class{};var TS=(()=>{let t=class t{constructor(r,i,o,a,s){this.router=r,this.injector=o,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(et(r=>r instanceof Ke),Un(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let a of i){a.providers&&!a._injector&&(a._injector=xl(a.providers,r,`Route: ${a.path}`));let s=a._injector??r,c=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(c,a.children??a._loadedRoutes))}return qt(o).pipe(dl())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=$(null);let a=o.pipe(St(s=>s===null?$(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??r,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return qt([a,s]).pipe(dl())}else return a})}};t.\u0275fac=function(i){return new(i||t)(O(ie),O(Yn),O(oo),O(ds),O(mu))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mm=new Y(""),MS=(()=>{let t=class t{constructor(r,i,o,a,s={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=a,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Mr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ke?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $r&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof os&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new os(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(i){ao()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function FP(e,...t){return qh([{provide:Nr,multi:!0,useValue:e},[],{provide:Ye,useFactory:gm,deps:[ie]},{provide:wl,multi:!0,useFactory:ym},t.map(n=>n.\u0275providers)])}function gm(e){return e.routerState.root}function To(e,t){return{\u0275kind:e,\u0275providers:t}}function ym(){let e=M(Ct);return t=>{let n=e.get(Va);if(t!==n.components[0])return;let r=e.get(ie),i=e.get(vm);e.get(bu)===1&&r.initialNavigation(),e.get(bm,null,gl.Optional)?.setUpPreloading(),e.get(mm,null,gl.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vm=new Y("",{factory:()=>new F}),bu=new Y("",{providedIn:"root",factory:()=>1});function $S(){return To(2,[{provide:bu,useValue:0},{provide:co,multi:!0,deps:[Ct],useFactory:t=>{let n=t.get(ap,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(ie),o=t.get(vm);pm(i,()=>{r(!0)}),t.get(yu).afterPreactivation=()=>(r(!0),o.closed?$(void 0):o),i.initialNavigation()}))}}])}function NS(){return To(3,[{provide:co,multi:!0,useFactory:()=>{let t=M(ie);return()=>{t.setUpLocationChangeListener()}}},{provide:bu,useValue:2}])}var bm=new Y("");function LS(e){return To(0,[{provide:bm,useExisting:TS},{provide:ds,useExisting:e}])}function FS(){return To(8,[Tp,{provide:fs,useExisting:Tp}])}function jS(e){let t=[{provide:dm,useValue:SS},{provide:fm,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return To(9,t)}var $p=new Y("ROUTER_FORROOT_GUARD"),BS=[Ae,{provide:Ao,useClass:bo},ie,Do,{provide:Ye,useFactory:gm,deps:[ie]},mu,[]],_m=(()=>{let t=class t{constructor(r){}static forRoot(r,i){return{ngModule:t,providers:[BS,[],{provide:Nr,multi:!0,useValue:r},{provide:$p,useFactory:WS,deps:[[ie,new Fa,new ja]]},{provide:ko,useValue:i||{}},i?.useHash?zS():VS(),US(),i?.preloadingStrategy?LS(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?qS(i):[],i?.bindToComponentInputs?FS().\u0275providers:[],i?.enableViewTransitions?jS().\u0275providers:[],KS()]}}static forChild(r){return{ngModule:t,providers:[{provide:Nr,multi:!0,useValue:r}]}}};t.\u0275fac=function(i){return new(i||t)(O($p,8))},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({});let e=t;return e})();function US(){return{provide:mm,useFactory:()=>{let e=M(up),t=M(mt),n=M(ko),r=M(yu),i=M(Ao);return n.scrollOffset&&e.setOffset(n.scrollOffset),new MS(i,r,e,t,n)}}}function zS(){return{provide:lo,useClass:cp}}function VS(){return{provide:lo,useClass:sp}}function WS(e){return"guarded"}function qS(e){return[e.initialNavigation==="disabled"?NS().\u0275providers:[],e.initialNavigation==="enabledBlocking"?$S().\u0275providers:[]]}var Np=new Y("");function KS(){return[{provide:Np,useFactory:ym},{provide:wl,multi:!0,useExisting:Np}]}var HS=new Y("LOCALIZE_ROUTER_FORROOT_GUARD"),_u=new Y("RAW_ROUTES"),Fr=function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Cookie="Cookie",e}(Fr||{}),wm=new Y("USE_CACHED_LANG"),Sm=new Y("CACHE_MECHANISM"),Cm=new Y("CACHE_NAME"),Em=new Y("COOKIE_FORMAT"),Rm=new Y("INITIAL_NAVIGATION"),Om=new Y("DEFAULT_LANG_FUNCTION"),Am=new Y("ALWAYS_SET_PREFIX"),YS="LOCALIZE_DEFAULT_LANGUAGE",GS="{{value}};{{expires}}",QS=!1,ms=(()=>{let t=class t{constructor(r=!0,i=!0,o=Fr.LocalStorage,a=YS,s=void 0,c=GS,l=QS){this.useCachedLang=r,this.alwaysSetPrefix=i,this.cacheName=a,this.cookieFormat=c,this.initialNavigation=l,this.cacheMechanism=o,this.defaultLangFunction=s}};t.\u0275fac=function(i){return new(i||t)(O(wm),O(Am),O(Sm),O(Cm),O(Om),O(Em),O(Rm))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),XS=30,Mo=(()=>{let t=class t{constructor(r,i,o){this.translate=r,this.location=i,this.settings=o}init(r){let i;if(this.routes=r,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),a=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,a):this.defaultLang=this._cachedLang||a||this.locales[0],i=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let s=[];if(this.settings.alwaysSetPrefix){let c={path:"",redirectTo:this.defaultLang,pathMatch:"full"},l=r.findIndex(u=>u.path==="**");l!==-1&&(this._wildcardRoute=r.splice(l,1)[0]),s=this.routes.splice(0,this.routes.length,c)}else s=[...this.routes];for(let c=s.length-1;c>=0;c--)s[c].data&&s[c].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(s[c]),(s[c].redirectTo===void 0||!s[c].data.skipRouteLocalization.localizeRedirectTo)&&s.splice(c,1));return s&&s.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:s},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),Na(this.translateRoutes(i))}initChildRoutes(r){return this._translateRouteTree(r),r}translateRoutes(r){return new $a(i=>{this._cachedLang=r,this._languageRoute&&(this._languageRoute.path=r),this.translate.use(r).subscribe(o=>{this._translationObject=o,this.currentLang=r,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),i.next(void 0),i.complete()})})}_translateRouteTree(r,i){r.forEach(o=>{let a=o.data&&o.data.skipRouteLocalization,s=!a||a.localizeRedirectTo;if(o.redirectTo&&s){let c=o.redirectTo.indexOf("/")===0||i;this._translateProperty(o,"redirectTo",c)}a||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(r,i,o){let a=r.data=r.data||{};a.localizeRouter||(a.localizeRouter={}),a.localizeRouter[i]||(a.localizeRouter=G(E({},a.localizeRouter),{[i]:r[i]}));let s=this.translateRoute(a.localizeRouter[i]);r[i]=o?this.addPrefixToUrl(s):s}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(r){let i=r.split("?"),o=i[0].length===1&&i[0]==="/";i[0]=i[0].replace(/\/$/,"");let a=i.join("?");return this.urlPrefix===""?a:!a.startsWith("/")&&!o?`${this.urlPrefix}/${a}`:`/${this.urlPrefix}${a}`}translateRoute(r){let i=r.split("?");if(i.length>2)throw Error("There should be only one query parameter block in the URL");return i[0].split("/").map(a=>a.length?this.translateText(a):a).join("/")+(i.length>1?`?${i[1]}`:"")}getLocationLang(r){let i=(r||this.location.path()).split(/[\?;]/),o=[];return i.length>0&&(o=i[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Fr.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Fr.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Fr.Cookie)return this._cacheWithCookies()}}set _cachedLang(r){this.settings.useCachedLang&&(this.settings.cacheMechanism===Fr.LocalStorage&&this._cacheWithLocalStorage(r),this.settings.cacheMechanism===Fr.SessionStorage&&this._cacheWithSessionStorage(r),this.settings.cacheMechanism===Fr.Cookie&&this._cacheWithCookies(r))}_cacheWithLocalStorage(r){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(r){window.localStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(r){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(r){window.sessionStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(r){try{if(typeof document>"u"||typeof document.cookie>"u")return;let i=encodeURIComponent(this.settings.cacheName);if(r){let s=`${this.settings.cookieFormat}`;s=s.replace("{{value}}",`${i}=${encodeURIComponent(r)}`).replace(/{{expires:?(\d+)?}}/g,(c,l)=>{let u=l===void 0?XS:parseInt(l,10),d=new Date;return d.setTime(d.getTime()+u*864e5),`expires=${d.toUTCString()}`}),document.cookie=s;return}let a=new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(a[1])}catch{return}}_returnIfInLocales(r){return r&&this.locales.indexOf(r)!==-1?r:null}translateText(r){if(this.escapePrefix&&r.startsWith(this.escapePrefix))return r.replace(this.escapePrefix,"");{if(!this._translationObject)return r;let i=this.prefix+r,o=this.translate.getParsedResult(this._translationObject,i);return o!==i?o:r}}chooseQueryParams(r,i){let o;return r&&r.queryParams?o=r.queryParams:i&&(o=i),o}formatQueryParams(r){return new dp({fromObject:r}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}};t.\u0275fac=function(i){return new(i||t)(O(wp),O(Ae),O(ms))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();var ZS=(()=>{let t=class t extends Mo{load(r){return new Promise(i=>{this.init(r).then(i)})}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Wn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function ps(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;let n=typeof e,r=typeof t,i,o,a;if(n===r&&n==="object")if(Array.isArray(e)){if(!Array.isArray(t))return!1;if((i=e.length)===t.length){for(o=0;o<i;o++)if(!ps(e[o],t[o]))return!1;return!0}}else{if(Array.isArray(t))return!1;a=Object.create(null);for(o in e)if(e.hasOwnProperty(o)){if(!ps(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(t.hasOwnProperty(o)&&!(o in a)&&typeof t[o]<"u")return!1;return!0}return!1}function JS(e){return!!e&&typeof e.then=="function"}function wu(e){let t=Array.isArray(e)?[]:{};for(let n in e)if(n){let r=e[n];t[n]=typeof r=="object"?wu(r):r}return t}var Su=(()=>{let t=class t{constructor(r,i,o,a){this.parser=r,this.settings=i,this.router=o,this.route=a,this.routerEvents=new F;let s=new Ph(1);this.hooks={_initializedSubject:s,initialized:s.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(et(r=>r instanceof Mr),ml()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(r,i,o){if(r!==this.parser.currentLang){let a=this.router.routerState.snapshot.root;this.parser.translateRoutes(r).subscribe(()=>{let s=this.traverseRouteSnapshot(a);if(s=this.translateRoute(s),!this.settings.alwaysSetPrefix){let u=s.split("/"),d=u.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(d===0||d===1&&u[0]==="")&&(u=u.slice(0,d).concat(u.slice(d+1)));else if(d===-1){let f=u[0]===""?1:0;u=u.slice(0,f).concat(this.parser.currentLang,u.slice(f))}s=u.join("/")}s=s.replace(/\/+/g,"/");let c=s.lastIndexOf("/");c>0&&c===s.length-1&&(s=s.slice(0,-1));let l=this.parser.chooseQueryParams(i,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=i,o){let u=i?E({},i):{};l&&(u.queryParams=l),this.router.navigate([s],u)}else{let u=this.parser.formatQueryParams(l);u=u?`?${u}`:"",this.router.navigateByUrl(`${s}${u}`,i)}})}}traverseRouteSnapshot(r){return r.firstChild&&r.routeConfig?`${this.parseSegmentValue(r)}/${this.traverseRouteSnapshot(r.firstChild)}`:r.firstChild?this.traverseRouteSnapshot(r.firstChild):this.parseSegmentValue(r)}buildUrlFromSegments(r,i){return i.map((o,a)=>o.indexOf(":")===0?r.url[a].path:o).join("/")}parseSegmentValue(r){if(r.routeConfig&&r.routeConfig.matcher){let i=this.parseSegmentValueMatcher(r);return this.buildUrlFromSegments(r,i)}else if(r.data.localizeRouter){let o=r.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(r,o)}else if(r.parent&&r.parent.parent){let o=r.routeConfig.path.split("/");return this.buildUrlFromSegments(r,o)}else return""}parseSegmentValueMatcher(r){let i=r.data&&r.data.localizeMatcher&&r.data.localizeMatcher.params||{};return r.url.map(a=>{let s=a.path,c=a.localizedParamName;return(c&&i[c]?i[c](s):null)||`${this.parser.getEscapePrefix()}${s}`})}translateRoute(r){if(typeof r=="string"){let o=this.parser.translateRoute(r);return r.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let i=[];return r.forEach((o,a)=>{if(typeof o=="string"){let s=this.parser.translateRoute(o);!a&&!o.indexOf("/")?i.push(this.parser.addPrefixToUrl(s)):i.push(s)}else i.push(o)}),i}_routeChanged(){return([r,i])=>{let o=this.parser.getLocationLang(r.url)||this.parser.defaultLang,a=this.parser.getLocationLang(i.url)||this.parser.defaultLang,s=this.lastExtras;a!==o&&this.latestUrl!==i.url&&(this.latestUrl=i.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(a).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(i.url,s),this.routerEvents.next(a)})),this.latestUrl=i.url}}cancelCurrentNavigation(){let r=this.router.getCurrentNavigation(),i=this.router.serializeUrl(r.extractedUrl);this.router.events.next(new He(r.id,i,"")),this.router.navigationTransitions.transitions.next(G(E({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(r){this.router.resetConfig(wu(r))}};t.\u0275fac=function(i){return new(i||t)(O(Mo),O(ms),O(ie),O(Ye))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),tC=128,ZP=(()=>{let t=class t{constructor(r,i){this.localize=r,this._ref=i,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(r){if(!r||r.length===0||!this.localize.parser.currentLang)return r;if(ps(r,this.lastKey)&&ps(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=r,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(r),this.lastKey=r;let i=this._ref._view;return i&&i.state&tC?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}};t.\u0275fac=function(i){return new(i||t)(P(Su,16),P(Dr,16))},t.\u0275pipe=Uh({name:"localize",type:t,pure:!1});let e=t;return e})(),xu=class{constructor(){}shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t&&n?this.getKey(t)===this.getKey(n):!1}getKey(t){if(t.firstChild&&t.firstChild.routeConfig&&t.firstChild.routeConfig.path&&t.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!t.data.localizeRouter&&(!t.parent||!t.parent.parent)&&!t.data.skipRouteLocalization)return"LANG";if(t.routeConfig.matcher){let n=`${this.getKey(t.parent)}/${t.routeConfig.matcher.name}`;return t.data.discriminantPathKey&&(n=`${n}-${t.data.discriminantPathKey}`),n}else if(t.data.localizeRouter){let n=`${this.getKey(t.parent)}/${t.data.localizeRouter.path}`;return t.data.discriminantPathKey&&(n=`${n}-${t.data.discriminantPathKey}`),n}else{let n=t.routeConfig.path;return t.parent&&(n=`${this.getKey(t.parent)}/${t.routeConfig.path}`),t.data.discriminantPathKey&&(n=`${n}-${t.data.discriminantPathKey}`),n}}},eC=(()=>{let t=class t extends ie{constructor(){super(),this.platformId=M(Kh),this.compiler=M(Yn),this.localize=M(Mo),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,a)=>iC(a.loadChildren()).pipe(K(nC),St(s=>s instanceof za||Array.isArray(s)?$(s):qt(this.compiler.compileModuleAsync(s))),K(s=>{this.onLoadEndListener&&this.onLoadEndListener(a);let c,l;if(Array.isArray(s))l=this.localize.initChildRoutes([].concat(...s));else{c=s.create(o).injector;let d=c.get.bind(c);c.get=(f,h,m)=>{let p=d(f,h,m);return f===Nr?this.localize.initChildRoutes([].concat(...p)):p},l=c.get(Nr,[],{optional:!0,self:!0}).reduce((f,h)=>f.concat(h),[])}return{routes:l.map(Dm),injector:c}}));let i=lp(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;i.loadChildren=(o,a)=>{if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return $({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let c=this.loadModuleFactoryOrRoutes(o,a).pipe(Vn(()=>{this.childrenLoaders.delete(a)})),l=new cn(c,()=>new F).pipe(ro());return this.childrenLoaders.set(a,l),l}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Dm(e){let t=e.children&&e.children.map(Dm),n=t?G(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=fu),n}function rC(e){return e&&typeof e=="object"&&"default"in e}function nC(e){return rC(e)?e.default:e}function iC(e){return Fn(e)?e:JS(e)?qt(Promise.resolve(e)):$(e)}var xm=(()=>{let t=class t{constructor(r){this.injector=r}appInitializer(){return this.parser.load(this.routes).then(()=>{let i=this.injector.get(Su),o=this.injector.get(ie),a=this.injector.get(ms);if(i.init(),a.initialNavigation)return new Promise(s=>{let c=o.navigationTransitions.afterPreactivation,l=!0;o.navigationTransitions.afterPreactivation=()=>(l&&(s(),l=!1,i.hooks._initializedSubject.next(!0),i.hooks._initializedSubject.complete()),c())});i.hooks._initializedSubject.next(!0),i.hooks._initializedSubject.complete()})}generateInitializer(r,i){return this.parser=r,this.routes=i.reduce((o,a)=>o.concat(a)),this.appInitializer}};t.\u0275fac=function(i){return new(i||t)(O(Ct))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function oC(e,t,n){let r=wu(n);return e.generateInitializer(t,r).bind(e)}var JP=(()=>{let t=class t{static forRoot(r,i={}){return{ngModule:t,providers:[{provide:ie,useClass:eC},{provide:HS,useFactory:aC,deps:[[t,new Fa,new ja]]},{provide:wm,useValue:i.useCachedLang},{provide:Am,useValue:i.alwaysSetPrefix},{provide:Cm,useValue:i.cacheName},{provide:Sm,useValue:i.cacheMechanism},{provide:Om,useValue:i.defaultLangFunction},{provide:Em,useValue:i.cookieFormat},{provide:Rm,useValue:i.initialNavigation},ms,i.parser||{provide:Mo,useClass:ZS},{provide:_u,multi:!0,useValue:r},Su,xm,{provide:co,multi:!0,useFactory:oC,deps:[xm,Mo,_u]},{provide:vu,useClass:xu}]}}static forChild(r){return{ngModule:t,providers:[{provide:_u,multi:!0,useValue:r}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({imports:[Wa,_m,Sp]});let e=t;return e})();function aC(e){if(e)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function jr(e){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(e)}function Cu(e,t){if(jr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eu(e){var t=Cu(e,"string");return jr(t)==="symbol"?t:String(t)}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eu(r.key),r)}}function we(e,t,n){return t&&Im(e.prototype,t),n&&Im(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pm(e){return e[e.length-1]}function $o(e){return Array.isArray(e)?e.slice(0):[e]}function Qe(e){return Array.isArray(e)}function km(e){return e!=null}function gs(e,t){var n=0,r=-1;for(var i of e){r=r+1;var o=t(i,r);if(o)n=n+1;else break}return n}function Br(e,t){for(var n=t.length,r=0;r<n;++r){var i=t[r];e.push(i)}}function Tm(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)}function Mm(e,t){return D(this,null,function*(){var n=yield fetch("data:"+t+";base64,"+e),r=yield n.blob();return r})}function $m(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8Array]"&&(e=new Blob([e])),typeof e=="string"?Promise.resolve(e):e.text()}function Nm(e){return D(this,null,function*(){if(typeof e=="string")return e;var t=Object.prototype.toString.call(e);t==="[object Uint8Array]"&&(e=new Blob([e]));var n=URL.createObjectURL(e),r=yield fetch(n).then(i=>i.arrayBuffer());return Tm(r)})}function Lm(e){return e.size}function ys(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function Fm(e){var t=parseInt(e.split("-")[0],10);return t}function ai(e,t){var n=t?t._rev:null,r=n?ys(n).height:0,i=r+1;return i+"-"+e}var No=1;function Ur(){return{lwt:No}}function cr(){return""}function jm(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Bm(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var o=t[r],a=n[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}function sC(e){return(t,n)=>t._meta.lwt===n._meta.lwt?n[e]<t[e]?1:-1:t._meta.lwt-n._meta.lwt}function Um(e,t){return t.sort(sC(e))}var vk=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var bk=Object.freeze(["prototype","__proto__","constructor"]);var cC="[native code] }",_k=cC.length;var zr=class e{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||lC).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){let r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new e([...this.words])}},lC={stringify(e){let t=[];for(let n=0;n<e.sigBytes;n++){let r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}};var uC={parse(e){let t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new zr(n,t)}},dC={parse(e){return uC.parse(unescape(encodeURIComponent(e)))}},Ru=class{constructor(){this._data=new zr,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new zr,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=dC.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);let i=r*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=o}return new zr(n,o)}},Ou=class extends Ru{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}},zm=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],fC=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],yn=[],Au=class extends Ou{constructor(){super(...arguments),this._hash=new zr([...zm])}reset(){super.reset(),this._hash=new zr([...zm])}_doProcessBlock(t,n){let r=this._hash.words,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],d=r[7];for(let f=0;f<64;f++){if(f<16)yn[f]=t[n+f]|0;else{let y=yn[f-15],w=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,S=yn[f-2],R=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;yn[f]=w+yn[f-7]+R+yn[f-16]}let h=c&l^~c&u,m=i&o^i&a^o&a,p=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),v=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),g=d+v+h+fC[f]+yn[f],x=p+m;d=u,u=l,l=c,c=s+g|0,s=a,a=o,o=i,i=g+x|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+l|0,r[6]=r[6]+u|0,r[7]=r[7]+d|0}finalize(t){super.finalize(t);let n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function Vm(e){return new Au().finalize(e).toString()}function vn(e){return Vm(e)}function Wm(){return new Promise(e=>setTimeout(e,0))}function hC(e=0){return new Promise(t=>setTimeout(t,e))}var Ek=Promise.resolve(!0),De=Promise.resolve(!1),qm=Promise.resolve(null),oe=Promise.resolve(),Du=oe;function Km(e=void 0){return Du=Du.then(()=>typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):hC(0)),Du}function Hm(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}function bn(e=10){for(var t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function vs(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function Vr(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function Iu(e){return!!(e.includes("/")||e.includes("\\"))}function Wr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wr(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var o=i[r];if(!Wr(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var pC=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},Pu=new Set(["__proto__","prototype","constructor"]),mC=new Set("0123456789");function gC(e){var t=[],n="",r="start",i=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=o),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=o;break}if(Pu.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=o;break}if(r==="property"){if(Pu.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!mC.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=o}}switch(i&&(n+="\\"),r){case"property":{if(Pu.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function yC(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function Ie(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!pC(e)||typeof t!="string")return n===void 0?e:n;var r=gC(t);if(r.length===0)return n;for(var i=0;i<r.length;i++){var o=r[i];if(yC(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function Tu(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){e.hasOwnProperty(t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&Tu(e[t])}),e}function Ym(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var i=r,o=0;o<n;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function Mu(e,t){var n=e[t];if(!n)throw new Error("missing value from object "+t);return n}function bs(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if(typeof e[n]=="object"){var r=bs(e[n]);for(var i in r)r.hasOwnProperty(i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function ct(e){return Object.assign({},e)}function Gm(e){return Object.keys(e)[0]}function si(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>si(r,t));if(typeof e=="object"&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=si(e[r],t)}),n}return e}function ku(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=ku(e[n]);return t}var r={};for(var i in e)r[i]=ku(e[i]);return r}var Pe=ku;function ci(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function Qm(e,t){return t instanceof RegExp?t.toString():t}function qr(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function fe(e,t,n,r){var i=e.get(t);return typeof i>"u"?(i=n(),e.set(t,i)):r&&r(i),i}function lt(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=vs(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}var $u=0;function At(){var e=new Date().getTime();e=e+.01,e<=$u&&(e=$u+.01);var t=parseFloat(e.toFixed(2));return $u=t,t}function rt(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}var _s={bufferSize:1,refCount:!0};var Xm=/\./g;var vC=/(\/?)(.+)\1([a-z]*)/i;function Zm(e){var t=rt(e.toString().match(vC));return{pattern:t[2],flags:t[3]}}function lr(e,t){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lr(e,t)}function xs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lr(e,t)}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lo(e)}function Nu(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Lu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function li(e,t,n){return Lu()?li=Reflect.construct.bind():li=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),l=new c;return a&&lr(l,a.prototype),l},li.apply(null,arguments)}function ui(e){var t=typeof Map=="function"?new Map:void 0;return ui=function(r){if(r===null||!Nu(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return li(r,arguments,Lo(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),lr(i,r)},ui(e)}var at={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function bC(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(e[n],function(i,o){return o===void 0?null:o},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function Jm(e,t,n){return"RxError ("+t+`):
`+e+`
`+bC(n)}var _C=function(e){xs(t,e);function t(r,i,o={}){var a,s=Jm(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},we(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(ui(Error)),xC=function(e){xs(t,e);function t(r,i,o={}){var a,s=Jm(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},we(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(ui(TypeError));function b(e,t){return new _C(e,at.tunnelErrorMessage(e),t)}function Nt(e,t){return new xC(e,at.tunnelErrorMessage(e),t)}function Fu(e){return e&&e.status===409?e:!1}var wC={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function tg(e){return b("COL20",{name:wC[e.status],document:e.documentId,writeError:e})}var di={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Lt(e,t){di[e]&&di[e].forEach(n=>n(t))}function Kr(e,t){return Promise.all(di[e].map(n=>n(t)))}function ws(e){return e.documentData?e.documentData:e.previousDocumentData}function eg(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:at.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function ke(e,t){var n=t;n=n.replace(Xm,".properties."),n="properties."+n,n=Vr(n);var r=Ie(e,n);return r}function Ss(e,t,n){if(typeof t.primaryKey=="string")return n;var r=Fo(t,n),i=n[e];if(i&&i!==r)throw b("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}function Ft(e){return typeof e=="string"?e:e.key}function Fo(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var i=Ie(t,r);if(typeof i>"u")throw b("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function rg(e){var t=si(e,!0);return t}function Cs(e){e=ct(e);var t=Ft(e.primaryKey);e.properties=ct(e.properties),e.additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=SC,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=ju(e);return Br(e.required,n),e.required=e.required.filter(r=>!r.includes(".")).filter((r,i,o)=>o.indexOf(r)===i),e.version=e.version||0,e.indexes&&(e.indexes=e.indexes.map(r=>{var i=Qe(r)?r.slice(0):[r];if(!i.includes(t)){var o=i.slice(0);return o.push(t),o}return i})),e}var SC={type:"object",properties:{lwt:{type:"number",minimum:No,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function ju(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=Ft(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function ng(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];(!t.hasOwnProperty(i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var ig={type:"object",properties:{id:{type:"string"},lwt:{type:"number"}},required:["id","lwt"],additionalProperties:!1};var sg="_rxdb_internal";function cg(e,t){return D(this,null,function*(){var n=yield e.findDocumentsById([t],!1),r=n[t];return r||null})}function lg(e,t,n){var r=t.documentData,i=t.previousDocumentData,o={eventId:t.eventId,documentId:t.documentId,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.operation,documentData:at.deepFreezeWhenDevMode(r),previousDocumentData:at.deepFreezeWhenDevMode(i)};return o}function Bo(e,t,n,r){if(r)throw r.status===409?b("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?b("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function ug(e,t,n,r,i){for(var o=!!e.schema.attachments,a=[],s=[],c={},l=new Map,u=bn(10),d={id:u,events:[],checkpoint:null,context:i},f=d.events,h=[],m=[],p=[],v=At(),g=typeof n.get=="function",x=g?n.size>0:Object.keys(n).length>0,y,w=r.length,S=function(){var C=r[R],A=C.document[t],j=!1;x&&(j=g?n.get(A):n[A]);var J;if(j){var B=j._rev;if(!C.previous||C.previous&&B!==C.previous._rev){var Mt={isError:!0,status:409,documentId:A,writeRow:C,documentInDb:j};return c[A]=Mt,1}var xt=o?og(C):C;o&&(C.document._deleted?C.previous&&Object.keys(C.previous._attachments).forEach(Ut=>{m.push({documentId:A,attachmentId:Ut,digest:rt(C.previous)._attachments[Ut].digest})}):(Object.entries(C.document._attachments).find(([Ut,$t])=>{var sn=C.previous?C.previous._attachments[Ut]:void 0;return!sn&&!$t.data&&(J={documentId:A,documentInDb:j,isError:!0,status:510,writeRow:C,attachmentId:Ut}),!0}),J||Object.entries(C.document._attachments).forEach(([Ut,$t])=>{var sn=C.previous?C.previous._attachments[Ut]:void 0;if(!sn)h.push({documentId:A,attachmentId:Ut,attachmentData:$t,digest:vn($t.data)});else{var ul=xt.document._attachments[Ut].digest;$t.data&&sn.digest!==ul&&p.push({documentId:A,attachmentId:Ut,attachmentData:$t,digest:vn($t.data)})}}))),J?c[A]=J:(s.push(xt),(!y||y.document._meta.lwt<xt.document._meta.lwt)&&(y=xt));var ut=C.document,vt=null,bt=null,Ne=null;if(C.previous&&C.previous._deleted&&!ut._deleted)Ne="INSERT",vt=o?jo(ut):ut;else if(C.previous&&!C.previous._deleted&&!ut._deleted)Ne="UPDATE",vt=o?jo(ut):ut,bt=C.previous;else if(ut._deleted)Ne="DELETE",vt=rt(C.document),bt=C.previous;else throw b("SNH",{args:{writeRow:C}});var Ma={eventId:ag(u,R,A,C),documentId:A,documentData:vt,previousDocumentData:bt,operation:Ne,startTime:v,endTime:At()};l.set(A,Ma),f.push(Ma)}else{var z=!!C.document._deleted;if(o&&Object.entries(C.document._attachments).forEach(([Ut,$t])=>{$t.data?h.push({documentId:A,attachmentId:Ut,attachmentData:$t,digest:vn($t.data)}):(J={documentId:A,isError:!0,status:510,writeRow:C,attachmentId:Ut},c[A]=J)}),J||(o?a.push(og(C)):a.push(C),(!y||y.document._meta.lwt<C.document._meta.lwt)&&(y=C)),!z){var yt={eventId:ag(u,R,A,C),documentId:A,operation:"INSERT",documentData:o?jo(C.document):C.document,previousDocumentData:o&&C.previous?jo(C.previous):C.previous,startTime:v,endTime:At()};l.set(A,yt),f.push(yt)}}},R=0;R<w;R++)S();return{bulkInsertDocs:a,bulkUpdateDocs:s,newestRow:y,errors:c,changeByDocId:l,eventBulk:d,attachmentsAdd:h,attachmentsRemove:m,attachmentsUpdate:p}}function og(e){return{previous:e.previous,document:jo(e.document)}}function CC(e){return atob(e).length}function EC(e){var t=e.data;if(!t)return e;var n={digest:vn(t),length:CC(t),type:e.type};return n}function jo(e){var t=ct(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=EC(r)}),t}function Es(e){var t=ct(e);return t._meta=ct(e._meta),t}function ag(e,t,n,r){return e+"|"+t+"|"+n+"|"+r.document._rev}function Rs(e,t,n){at.deepFreezeWhenDevMode(n);var r=Ft(n.primaryKey);function i(a){var s=ct(a.document);return s._meta=ct(s._meta),at.isDevMode()&&(s=Ss(r,n,s),a.previous,a.previous&&Object.keys(a.previous._meta).forEach(c=>{if(!a.document._meta.hasOwnProperty(c))throw b("SNH",{dataBefore:a.previous,dataAfter:a.document})})),s._meta.lwt=At(),s._rev=ai(e.token,a.previous),{document:s,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var c=a.map(l=>i(l));return e.lockedRun(()=>t.bulkWrite(c,s)).then(l=>{var u=Object.values(l.error).filter(h=>!!(h.status===409&&!h.writeRow.previous&&!h.writeRow.document._deleted&&rt(h.documentInDb)._deleted));if(u.length>0){var d={error:ct(l.error),success:ct(l.success)},f=u.map(h=>(delete d.error[h.documentId],{previous:h.documentInDb,document:Object.assign({},h.writeRow.document,{_rev:ai(e.token,h.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(f,s)).then(h=>(d.error=Object.assign(d.error,h.error),d.success=Object.assign(d.success,h.success),d))}return l})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,c){return e.lockedRun(()=>t.getAttachmentData(a,s,c))},getChangedDocumentsSince(a,s){return e.lockedRun(()=>t.getChangedDocumentsSince(rt(a),s))},cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:Ur(),_rev:cr(),_attachments:{}}),c=ct(s);return delete c._meta,delete c._rev,delete c._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:c}})}};return e.storageInstances.add(o),o}function dg(e){if(e.schema.keyCompression)throw b("UT5",{args:{params:e}});if(RC(e.schema))throw b("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw b("UT7",{args:{params:e}})}function RC(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var fg=function(){function e(n,r,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,i){var o=r[this.primaryPath],a=fe(this.queueByDocId,o,()=>[]),s=new Promise((c,l)=>{var u={lastKnownDocumentState:r,modifier:i,resolve:c,reject:l};rt(a).push(u),this.triggerRun()});return s},t.triggerRun=function(){return D(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(i.entries()).map(c=>D(this,[c],function*([a,s]){var l=OC(s.map(f=>f.lastKnownDocumentState)),u=l;for(var d of s)try{u=yield d.modifier(Pe(u))}catch(f){d.reject(f),d.reject=()=>{},d.resolve=()=>{}}try{yield this.preWrite(u,l)}catch(f){s.forEach(h=>h.reject(f));return}r.push({previous:l,document:u})})));var o=r.length>0?yield this.storageInstance.bulkWrite(r,"incremental-write"):{error:{},success:{}};return yield Promise.all(Array.from(Object.entries(o.success)).map(([a,s])=>{this.postWrite(s);var c=qr(i,a);c.forEach(l=>l.resolve(s))})),Array.from(Object.entries(o.error)).forEach(([a,s])=>{var c=qr(i,a),l=Fu(s);if(l){var u=fe(this.queueByDocId,a,()=>[]);c.reverse().forEach(f=>{f.lastKnownDocumentState=rt(l.documentInDb),rt(u).unshift(f)})}else{var d=tg(s);c.forEach(f=>f.reject(d))}}),this.isRunning=!1,this.triggerRun()}})},e}();function Bu(e){var t=n=>D(this,null,function*(){var r=jm(n);r._deleted=n._deleted;var i=yield e(r),o=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return t}function OC(e){var t=e[0],n=ys(t._rev).height;return e.forEach(r=>{var i=ys(r._rev).height;i>n&&(t=r,n=i)}),t}var Hr={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(K(t=>t._deleted))},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(et(t=>!t.isLocal),et(t=>t.documentId===this.primary),K(t=>ws(t)),Re(e.collection._docCache.getLatestDocumentData(this.primary)),zn((t,n)=>t._rev===n._rev),K(t=>this.collection._docCache.getCachedRxDocument(t)),io(_s))},get$(e){if(at.isDevMode()){if(e.includes(".item."))throw b("DOC1",{path:e});if(e===this.primaryPath)throw b("DOC2");if(this.collection.schema.finalFields.includes(e))throw b("DOC3",{path:e});var t=ke(this.collection.schema.jsonSchema,e);if(!t)throw b("DOC4",{path:e})}return this.$.pipe(K(n=>Ie(n,e)),zn())},populate(e){var t=ke(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return qm;if(!t)throw b("DOC5",{path:e});if(!t.ref)throw b("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw b("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(i=>{var o=i.values();return Array.from(o)}):r.findOne(n).exec()},get(e){if(this._data){var t=this._propertyCache.get(e);if(t)return t;var n=Ie(this._data,e);return typeof n!="object"||Array.isArray(n)?at.deepFreezeWhenDevMode(n):(n=Pe(n),Uu(this.collection.schema,n,e,this),this._propertyCache.set(e,n),n)}},toJSON(e=!1){if(e)return at.deepFreezeWhenDevMode(this._data);var t=ct(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,at.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return Pe(this.toJSON(e))},update(e){throw lt("update")},incrementalUpdate(e){throw lt("update")},updateCRDT(e){throw lt("crdt")},putAttachment(){throw lt("attachments")},getAttachment(){throw lt("attachments")},allAttachments(){throw lt("attachments")},get allAttachments$(){throw lt("attachments")},modify(e,t){return D(this,null,function*(){var n=this._data,r=yield Bu(e)(n);return this._saveData(r,n)})},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,Bu(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=Pe(t);return Object.entries(e).forEach(([r,i])=>{n[r]=i}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},_saveData(e,t){return D(this,null,function*(){if(e=ct(e),this._data._deleted)throw b("DOC11",{id:this.primary,document:this});yield zu(this.collection,e,t);var n=yield this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[this.primary];return Bo(this.collection,this.primary,e,r),yield this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(Mu(n.success,this.primary))})},remove(){var e=this.collection;if(this.deleted)return Promise.reject(b("DOC13",{document:this,id:this.primary}));var t=ct(this._data),n;return e._runHooks("pre","remove",t,this).then(()=>D(this,null,function*(){t._deleted=!0;var r=yield e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=r.error[this.primary];return Bo(e,this.primary,t,i),Mu(r.success,this.primary)})).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(e=>D(this,null,function*(){return yield this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e})).then(e=>D(this,null,function*(){return yield this.collection._runHooks("post","remove",e._data,e),e}))},destroy(){throw b("DOC14")}};function Os(e=Hr){var t=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Uu(e,t,n="",r=!1){if(t!==null){var i=ke(e.jsonSchema,n);typeof i>"u"||(i.properties&&(i=i.properties),Object.keys(i).forEach(o=>{var a=Vr(n+"."+o);t.__defineGetter__(o,function(){var s=r||this;if(!(!s.get||typeof s.get!="function")){var c=s.get(a);return c}}),Object.defineProperty(t,o+"$",{get:function(){var s=r||this;return s.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(t,o+"_",{get:function(){var s=r||this;return s.populate(a)},enumerable:!1,configurable:!1}),t.__defineSetter__(o,function(s){var c=r||this;return c.set(a,s)})}))}}function hg(e,t,n){var r=new e(t,n);return Lt("createRxDocument",r),r}function zu(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),at.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var Vu=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=AC(this.jsonSchema),this.primaryPath=Ft(this.jsonSchema.primaryKey),this.finalFields=ju(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,i){this.finalFields.forEach(o=>{if(!Wr(r[o],i[o]))throw b("DOC9",{dataBefore:r,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={};return Uu(this,r,""),ci(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return Fo(this.jsonSchema,r)},we(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>r.hasOwnProperty("default")).forEach(([r,i])=>n[r]=i.default),ci(this,"defaultValues",n)}},{key:"hash",get:function(){return ci(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function AC(e){return(e.indexes||[]).map(t=>Qe(t)?t:[t])}function pg(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function mg(e,t,n=!0){n&&Lt("preCreateRxSchema",e);var r=Cs(e);r=rg(r),at.deepFreezeWhenDevMode(r);var i=new Vu(r,t);return Lt("createRxSchema",i),i}var fi="UNKNOWN";function As(e){return e[e.length-1]}function DC(e){let t=typeof e;return e!==null&&(t==="object"||t==="function")}function Wu(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!DC(e)||typeof t!="string")return n===void 0?e:n;let r=t.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){let o=r[i];if(IC(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function IC(e,t){if(typeof t!="number"&&Array.isArray(e)){let n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}var qu=e=>!!e.queryParams.limit,gg=e=>e.queryParams.limit===1,yg=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),vg=e=>e.changeEvent.operation==="DELETE",bg=e=>e.changeEvent.operation==="INSERT",_g=e=>e.changeEvent.operation==="UPDATE",xg=e=>e.changeEvent.previous===fi,wg=e=>qu(e)&&e.previousResults.length>=e.queryParams.limit,Sg=e=>{let t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||n===fi)return!0;for(let i=0;i<t.length;i++){let o=t[i],a=Wu(n,o),s=Wu(r,o);if(a!==s)return!0}return!1},Cg=e=>{let t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{let n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t)return!0;return!1}},Eg=e=>{let t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Rg=e=>{let t=As(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Og=e=>{let t=e.changeEvent.previous;if(!t||t===fi)return!1;let n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},Ag=e=>{let t=e.changeEvent.previous;if(!t||t===fi)return!1;let n=As(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},Dg=e=>{let t=e.changeEvent.doc;if(!t)return!1;let n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},Ig=e=>{let t=e.changeEvent.doc;if(!t)return!1;let n=As(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},Pg=e=>{let t=e.changeEvent.previous;return!t||t===fi?!1:e.queryParams.queryMatcher(t)},kg=e=>{let t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},Tg=e=>e.previousResults.length===0;var Mg={0:bg,1:_g,2:vg,3:qu,4:gg,5:yg,6:Tg,7:xg,8:wg,9:Eg,10:Rg,11:Sg,12:Cg,13:Og,14:Ag,15:Dg,16:Ig,17:Pg,18:kg};function $g(e,t,n,r){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;r<=o;)a=r+(o-r>>1),s=e[a],n(s,t)<=0?r=a+1:o=a-1;return n(s,t)<=0&&a++,e.splice(a,0,t),a}var Ng=e=>{},Ds=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Is=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ps=e=>{let t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},ks=e=>{let t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Lg=e=>{Ps(e),Is(e)},Fg=e=>{ks(e),Ds(e)},jg=e=>{Ps(e),Ds(e)},Bg=e=>{ks(e),Is(e)},Ku=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);let t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},Ug=e=>{let t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},zg=e=>{let t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},Hu=e=>{let t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;$g(e.previousResults,n,e.queryParams.sortComparator,0)},Vg=e=>{Ku(e),Hu(e)},Wg=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},qg=e=>{throw new Error("Action unknownAction should never be called")};var Kg=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Hg={doNothing:Ng,insertFirst:Ds,insertLast:Is,removeFirstItem:Ps,removeLastItem:ks,removeFirstInsertLast:Lg,removeLastInsertFirst:Fg,removeFirstInsertFirst:jg,removeLastInsertLast:Bg,removeExisting:Ku,replaceExisting:Ug,alwaysWrong:zg,insertAtSortPosition:Hu,removeExistingAndInsertAtSortPosition:Vg,runFullQueryAgain:Wg,unknownAction:qg};function Ts(e){return e.charCodeAt(0)-40}function Yg(e){return e?"1":"0"}function PC(e=6){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}var tM=PC(4);function Yu(e,t){let n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function Gg(e){let t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,r),o=Yu(i,2);for(let p=0;p<o.length;p++){let v=o[p],g=v.charAt(0),x=Ts(v.charAt(1));t.set(g,x)}let a=e.substring(r,e.length-3),s=Yu(a,4);for(let p=0;p<s.length;p++){let v=s[p],g=v.charAt(0),x=v.charAt(1),y=v.charAt(2),w=Ts(v.charAt(3));if(!t.has(x))throw new Error("missing node with id "+x);if(!t.has(y))throw new Error("missing node with id "+y);let S=t.get(x),R=t.get(y),C={l:w,0:S,1:R};t.set(g,C)}let c=e.slice(-3),l=c.charAt(0),u=c.charAt(1),d=Ts(c.charAt(2)),f=t.get(l),h=t.get(u);return{l:d,0:f,1:h}}function Qg(e,t,n){let r=e,i=e.l;for(;;){let o=t[i](n),a=Yg(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}var kC="14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7Fef7\xA1bk7\xA2e{7\xA3g|7\xA4ry7\xA5dp7\xA6gk7\xA7eq7\xA8gt7\xA9ac7\xAAmv7\xABgu7\xACnm7\xADiy7\xAEnw7\xAF\xA4s8\xB0\xAB\xA68\xB1\xACk8\xB2\xAAm8\xB3\xAEv8\xB4\xABn8\xB5\xACn8\xB6vm8\xB7xv8\xB8mn8\xB9\xADj8\xBA\xAEm8\xBBxm8\xBC\xAD\xB93\xBD}~3\xBE\xA9\xB03\xBF\x7F\xA23\xC0\xA1\xA33\xC1m\xB13\xC2\xAE\xBA3\xC3m\xBA3\xC4\xA9\xB43\xC5b\xAE3\xC6m\xB53\xC7m\xBB3\xC8x\xBB3\xC9kn3\xCAm\xB83\xCB\xBCj6\xCC\xC2m6\xCD\xC6\xC36\xCE\xC8m6\xCFnm6\xD0\xCA\xC76\xD1\xCC\xCE,\xD2\xCD\xD0,\xD3\xC5\xC9,\xD4\xB2\xB6,\xD5\xB3\xB7,\xD6\xAEn,\xD7\xBA\xBB,\xD8mf9\xD9\xCB\xC19\xDAym9\xDBm\xCF9\xDC\xD1\xD29\xDDz{2\xDEpq2\xDF\xBD\xBF2\xE0\xBE\xC02\xE1\xA5\xA72\xE2\xB0\xA82\xE3\xC4\xD32\xE4\xB4\xD62\xE5\xDDn0\xE6\xDEn0\xE7\xD8\xDB0\xE8\xD9\xDC0\xE9\xDFn0\xEA\xE0\xE30\xEB\xB2\xD40\xEC\xAF\xD50\xED\xE1n0\xEE\xE2\xE40\xEF\xB9\xD70\xF0\xE7v/\xF1\xE5\xE6/\xF2\xE7\xEB/\xF3\xE8\xEC/\xF4\xE9\xED/\xF5\xEA\xEE/\xF6\xDAy/\xF7\xF2m(\xF8\xF3\xEF(\xF9\xF6y(\xFA\xF7\xF8:\xFB\xF4\xF5:\xFCm\xF9:\xFD\xF0\xF14\xFE\xFA\xFB4\xFF\xFE\xFD*\u0100\xFCm*\xFF\u0100.",Gu;function TC(){return Gu||(Gu=Gg(kC)),Gu}var Xg=e=>Qg(TC(),Mg,e);function Zg(e){let t=Xg(e);return Kg[t]}function Jg(e,t,n,r,i){let o=Hg[e];return o({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}var hi=String.fromCharCode(65535),Yr=Number.MIN_VALUE;function ey(e,t){var n=Ft(e.primaryKey),r=t.selector,i=e.indexes?e.indexes.slice(0):[];t.index?i=[t.index]:i.push([n]);var o=t.sort.map(u=>Object.keys(u)[0]),a=o.join(","),s=!!t.sort.find(u=>Object.values(u)[0]==="desc"),c=-1,l;return i.forEach(u=>{var d=!0,f=!0,h=u.map(v=>{var g=r[v],x=g?Object.keys(g):[],y={};if(!g||!x.length){var w=f?Yr:hi;y={startKey:w,endKey:d?hi:Yr,inclusiveStart:!0,inclusiveEnd:!0}}else x.forEach(S=>{if(Ms.has(S)){var R=g[S],C=NC(S,R);y=Object.assign(y,C)}});return typeof y.startKey>"u"&&(y.startKey=Yr),typeof y.endKey>"u"&&(y.endKey=hi),typeof y.inclusiveStart>"u"&&(y.inclusiveStart=!0),typeof y.inclusiveEnd>"u"&&(y.inclusiveEnd=!0),f&&!y.inclusiveStart&&(f=!1),d&&!y.inclusiveEnd&&(d=!1),y}),m={index:u,startKeys:h.map(v=>v.startKey),endKeys:h.map(v=>v.endKey),inclusiveEnd:d,inclusiveStart:f,sortFieldsSameAsIndexFields:!s&&a===u.join(","),selectorSatisfiedByIndex:ty(u,t.selector)},p=LC(e,t,m);(p>0&&p>c||t.index)&&(c=p,l=m)}),l||(l={index:[n],startKeys:[Yr],endKeys:[hi],inclusiveEnd:!0,inclusiveStart:!0,sortFieldsSameAsIndexFields:!s&&a===n,selectorSatisfiedByIndex:ty([n],t.selector)}),l}var Ms=new Set(["$eq","$gt","$gte","$lt","$lte"]),MC=new Set(["$eq","$gt","$gte"]),$C=new Set(["$eq","$lt","$lte"]);function ty(e,t){var n=Object.entries(t),r=n.find(([c,l])=>{if(!e.includes(c))return!0;var u=Object.entries(l).find(([d,f])=>!Ms.has(d));return u});if(r)return!1;var i,o=e.find(c=>{var l=t[c];if(!l)return!1;var u=Object.keys(l).find(d=>MC.has(d));return i&&u?!0:(u!=="$eq"&&(i=u),!1)});if(o)return!1;var a,s=e.find(c=>{var l=t[c];if(!l)return!1;var u=Object.keys(l).find(d=>$C.has(d));return a&&u?!0:(u!=="$eq"&&(a=u),!1)});return!s}function NC(e,t){switch(e){case"$eq":return{startKey:t,endKey:t};case"$lte":return{endKey:t};case"$gte":return{startKey:t};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function LC(e,t,n){var r=0,i=u=>{u>0&&(r=r+u)},o=10,a=gs(n.startKeys,u=>u!==Yr&&u!==hi);i(a*o);var s=gs(n.startKeys,u=>u!==hi&&u!==Yr);i(s*o);var c=gs(n.startKeys,(u,d)=>u===n.endKeys[d]);i(c*o*1.5);var l=n.sortFieldsSameAsIndexFields?5:0;return i(l),r}var Zu=Number.MAX_SAFE_INTEGER,Ju=Number.MIN_SAFE_INTEGER,_n=Symbol("missing"),FC=Object.getPrototypeOf({}),jC="[object Object]",BC=/^\[object ([a-zA-Z0-9]+)\]$/,Ls=e=>{let t=pi(e),n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},oy=new Set(["null","undefined","boolean","number","string","date","regexp"]),UC={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Dt=(e,t)=>{e===_n&&(e=void 0),t===_n&&(t=void 0);let[n,r]=[e,t].map(i=>UC[Se(i).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:Ce(e,t)?0:e<t?-1:e>t?1:0};function I(e,t){if(!e)throw new Error(t)}var yi=e=>{let t=new Map,n=i=>{if(t.has(i))throw new Error("cycle detected during clone operation.");t.set(i,!0)},r=i=>{if(i instanceof Date)return new Date(i);if(W(i)){n(i);let o=new Array(i.length),a=i.length;for(let s=0;s<a;s++)o[s]=r(i[s]);return o}if(tt(i)){n(i);let o={};for(let a in i)o[a]=r(i[a]);return o}return i};return r(e)},Se=e=>BC.exec(Object.prototype.toString.call(e))[1],Uo=e=>typeof e=="boolean",nt=e=>typeof e=="string",it=e=>!isNaN(e)&&typeof e=="number";var W=Array.isArray,tt=e=>{if(!e)return!1;let t=Object.getPrototypeOf(e);return(t===FC||t===null)&&jC===Object.prototype.toString.call(e)},zo=e=>e===Object(e),Vo=e=>e instanceof Date,Wo=e=>e instanceof RegExp,td=e=>typeof e=="function",k=e=>e==null,Xe=(e,t)=>e.includes(t),Fs=(e,t)=>!Xe(e,t),Ze=(e,t=!0)=>!!e||t&&e==="",he=e=>k(e)||nt(e)&&!e||e instanceof Array&&e.length===0||tt(e)&&Object.keys(e).length===0,ry=e=>e===_n,ur=e=>e instanceof Array?e:[e],Xt=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),zC=(e,t)=>tt(e)&&tt(t)||W(e)&&W(t);function gi(e,t,n){if(n=n||{flatten:!1},ry(e)||k(e))return t;if(ry(t)||k(t))return e;if(!zC(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,W(e)){let r=e,i=t;if(n.flatten){let o=0,a=0;for(;o<r.length&&a<i.length;)r[o]=gi(r[o++],i[a++],n);for(;a<i.length;)r.push(t[a++])}else ae(r,i)}else for(let r in t)e[r]=gi(e[r],t[r],n);return e}function ny(e,t=Ls){let n=new Map;return e.forEach((r,i)=>{let o=js(r,t);n.has(o)?n.get(o).some(a=>Ce(e[a],r))||n.get(o).push(i):n.set(o,[i])}),n}function xn(e,t=Ls){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);let n=ay(e.map((s,c)=>[c,s.length]),s=>s[1]),r=e[n[0][0]],i=ny(r,t),o=new Map,a=new Array;return i.forEach((s,c)=>{let l=s.map(h=>r[h]),u=l.map(h=>0),d=l.map(h=>[n[0][0],0]),f=!1;for(let h=1;h<e.length;h++){let[m,p]=n[h],v=e[m];if(o.has(h)||o.set(h,ny(v)),o.get(h).has(c)){let g=o.get(h).get(c).map(x=>v[x]);f=l.map((x,y)=>g.some((w,S)=>{let R=u[y];return Ce(x,w)&&(u[y]++,m<d[y][0]&&(d[y]=[m,o.get(h).get(c)[S]])),R<u[y]})).some(Boolean)}if(!f)return}f&&ae(a,u.map((h,m)=>h===e.length-1?[l[m],d[m]]:_n).filter(h=>h!==_n))}),a.sort((s,c)=>{let[l,[u,d]]=s,[f,[h,m]]=c,p=Dt(u,h);return p!==0?p:Dt(d,m)}).map(s=>s[0])}function ed(e,t=0){let n=new Array;function r(i,o){for(let a=0,s=i.length;a<s;a++)W(i[a])&&(o>0||o<0)?r(i[a],Math.max(-1,o-1)):n.push(i[a])}return r(e,t),n}function Ce(e,t){let n=[e],r=[t];for(;n.length>0;){if(e=n.pop(),t=r.pop(),e===t)continue;let i=Se(e).toLowerCase();if(i!==Se(t).toLowerCase()||i==="function")return!1;if(i==="array"){let o=e,a=t;if(o.length!==a.length)return!1;if(o.length===a.length&&o.length===0)continue;ae(n,o),ae(r,a)}else if(i==="object"){let o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(let s=0,c=o.length;s<c;s++){let l=o[s];if(!Xt(t,l))return!1;n.push(e[l]),r.push(t[l])}}else if(pi(e)!==pi(t))return!1}return n.length===0}function pi(e){let t=Se(e).toLowerCase();switch(t){case"boolean":case"number":case"regexp":return e.toString();case"string":return JSON.stringify(e);case"date":return e.toISOString();case"null":case"undefined":return t;case"array":return"["+e.map(pi).join(",")+"]";default:break}let n=t==="object"?"":`${Se(e)}`,r=Object.keys(e);return r.sort(),`${n}{`+r.map(i=>`${pi(i)}:${pi(e[i])}`).join(",")+"}"}function js(e,t){return t=t||Ls,k(e)?null:t(e).toString()}function ay(e,t,n=Dt){if(he(e))return e;let r=new Array,i=new Array;for(let o=0;o<e.length;o++){let a=e[o],s=t(a,o);k(s)?i.push(a):r.push([s,a])}return r.sort((o,a)=>n(o[0],a[0])),ae(i,r.map(o=>o[1]))}function Bs(e,t,n=Ls){if(e.length<1)return new Map;let r=new Map,i=new Map;for(let o=0;o<e.length;o++){let a=e[o],s=t(a,o),c=js(s,n);if(c===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{let l=r.has(c)?r.get(c).find(u=>Ce(u,s)):null;k(l)?(i.set(s,[a]),r.has(c)?r.get(c).push(s):r.set(c,[s])):i.get(l).push(a)}}return i}var Qu=5e4;function ae(e,...t){return e instanceof Array?t.reduce((n,r)=>{let i=Math.ceil(r.length/Qu),o=0;for(;i-- >0;)Array.prototype.push.apply(n,r.slice(o,o+Qu)),o+=Qu;return n},e):t.filter(zo).reduce((n,r)=>(Object.assign(n,r),n),e)}function Xu(e,t){return zo(e)?e[t]:void 0}function VC(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function dr(e,t,n){let r=0;function i(a,s){let c=a;for(let l=0;l<s.length;l++){let u=s[l];if(/^\d+$/.exec(u)===null&&c instanceof Array){if(l===0&&r>0)break;r+=1;let f=s.slice(l);c=c.reduce((h,m)=>{let p=i(m,f);return p!==void 0&&h.push(p),h},[]);break}else c=Xu(c,u);if(c===void 0)break}return c}let o=oy.has(Se(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&n?.unwrapArray?VC(o,r):o}function mi(e,t,n){let r=t.split("."),i=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(i)!==null,s=r.length>1,c,l;if(e instanceof Array)if(a)c=Xu(e,Number(i)),s&&(c=mi(c,o,n)),c=[c];else{c=[];for(let u of e)l=mi(u,t,n),n?.preserveMissing?(l===void 0&&(l=_n),c.push(l)):l!==void 0&&c.push(l)}else{if(l=Xu(e,i),s&&(l=mi(l,o,n)),l===void 0)return;c=n?.preserveKeys?Object.assign({},e):{},c[i]=l}return c}function $s(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===_n?e.splice(t,1):$s(e[t]);else if(tt(e))for(let t in e)Xt(e,t)&&$s(e[t])}var iy=/^\d+$/;function Ns(e,t,n,r){let i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(tt(e)||W(e)&&iy.test(o))&&n(e,o);else{r?.buildGraph&&k(e[o])&&(e[o]={});let s=e[o];if(!s)return;let c=!!(i.length>1&&iy.test(i[1]));s instanceof Array&&r?.descendArray&&!c?s.forEach(l=>Ns(l,a,n,r)):Ns(s,a,n,r)}}function Us(e,t,n){Ns(e,t,(r,i)=>{r[i]=n},{buildGraph:!0})}function qo(e,t,n){Ns(e,t,(r,i)=>{if(r instanceof Array){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(let o of r)tt(o)&&delete o[i]}else tt(r)&&delete r[i]},n)}var WC=/^\$[a-zA-Z0-9_]+$/;function Te(e){return WC.test(e)}function zs(e){if(oy.has(Se(e).toLowerCase()))return Wo(e)?{$regex:e}:{$eq:e};if(zo(e)){if(!Object.keys(e).some(Te))return{$eq:e};if(Xt(e,"$regex")){let n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var fr=function(e){return e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF",e}(fr||{}),_t=class e{constructor(t,n,r,i=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=i,this.update(n,r)}static init(t,n,r){return t instanceof e?new e(t._opts,k(t.root)?n:t.root,Object.assign({},t.local,r)):new e(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:vi.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||fr.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}};function bi(e){return e instanceof _t?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:fr.CLONE_OFF},e),{context:e?.context?vi.from(e?.context):vi.init({})}))}var dt=function(e){return e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e}(dt||{}),vi=class e{constructor(t){this.operators=yi(t)}static init(t){return new e(gi({[dt.ACCUMULATOR]:{},[dt.EXPRESSION]:{},[dt.PIPELINE]:{},[dt.PROJECTION]:{},[dt.QUERY]:{},[dt.WINDOW]:{}},t,{skipValidation:!0}))}static from(t){return new e(t.operators)}addOperators(t,n){for(let[r,i]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=i);return this}addAccumulatorOps(t){return this.addOperators(dt.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(dt.EXPRESSION,t)}addQueryOps(t){return this.addOperators(dt.QUERY,t)}addPipelineOps(t){return this.addOperators(dt.PIPELINE,t)}addProjectionOps(t){return this.addOperators(dt.PROJECTION,t)}addWindowOps(t){return this.addOperators(dt.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}},cy=vi.init({});function id(e,t){for(let[n,r]of Object.entries(t)){I(td(r)&&Te(n),`'${n}' is not a valid operator`);let i=Me(e,n,null);I(!i||r===i,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}cy.addOperators(e,t)}function Me(e,t,n){let{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(e,t):null;return!o&&i?cy.getOperator(e,t):o}var sy={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},rd={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!Xt(t,"$cond"))return e;let r;for(let[i,o]of Object.entries(e))if(zo(o)){if(o instanceof Array){let a=[];for(let s of o)tt(s)&&(s=nd(s,t,n.update(s))),k(s)||a.push(s);r=a}else r=nd(o,t,n.update(o));k(r)?delete e[i]:e[i]=r}return e}};function _(e,t,n,r){var i;let o=_t.init(r,e);if(n=n||"",Te(n)){let a=Me(dt.EXPRESSION,n,r);if(a)return a(e,t,o);let s=Me(dt.ACCUMULATOR,n,r);if(s)return e instanceof Array||(e=_(e,t,null,o),t=null),I(e instanceof Array,`'${n}' target must be an array.`),s(e,t,o.update(null,o.local));throw new Error(`operator '${n}' is not registered`)}if(nt(t)&&t.length>0&&t[0]==="$"){if(Xt(rd,t))return t;let a=o.root,s=t.split(".");if(Xt(sy,s[0]))a=sy[s[0]](e,null,o),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);let c=s[0].slice(2);I(Xt(a,c),`Use of undefined variable: ${c}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:dr(a,t)}if(W(t))return t.map(a=>_(e,a,null,o));if(tt(t)){let a={};for(let[s,c]of Object.entries(t))if(a[s]=_(e,c,s,o),[dt.EXPRESSION,dt.ACCUMULATOR].some(l=>!!Me(l,s,r)))return I(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function nd(e,t,n){let r=_(e,t,null,n);return Xt(rd,r)?rd[r](e,t,n):r}function pe(e){return e instanceof Ko?e:new Ko(e)}function Vs(...e){let t=0;return pe(()=>{for(;t<e.length;){let n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function qC(e){return!!e&&typeof e=="object"&&e?.next instanceof Function}function KC(e,t){let n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}var od=new Error,hr=function(e){return e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP",e}(hr||{});function HC(e,t,n){let r=!1,i=-1,o=0;return function(a){try{t:for(;!r;){let s=e();i++;let c=-1,l=t.length,u=!1;for(;++c<l;){let d=t[c];switch(d.action){case hr.MAP:s=d.func(s,i);break;case hr.FILTER:if(!d.func(s,i))continue t;break;case hr.TAKE:--d.count,d.count||(u=!0);break;case hr.DROP:--d.count,d.count||KC(t,c);continue t;default:break t}}if(r=u,a)n[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==od)throw s}return r=!0,{done:r}}}var Ko=class{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),qC(t)){let r=t;n=()=>{let i=r.next();if(i.done)throw od;return i.value}}else if(t instanceof Array){let r=t,i=r.length,o=0;n=()=>{if(o<i)return r[o++];throw od}}else if(!(t instanceof Function))throw new Error(`Source is of type '${typeof t}'. Must be Array, Function, or Generator`);this.getNext=HC(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(hr.MAP,t)}filter(t){return this.push(hr.FILTER,t)}take(t){return t>0?this.push(hr.TAKE,t):this}drop(t){return t>0?this.push(hr.DROP,t):this}transform(t){let n=this,r;return pe(()=>(r||(r=pe(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){let n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}};var Je=class{constructor(t,n){this.pipeline=t,this.options=bi(n)}stream(t){let n=pe(t),r=this.options.processingMode;(r==fr.CLONE_ALL||r==fr.CLONE_INPUT)&&n.map(yi);let i=new Array;if(!he(this.pipeline))for(let o of this.pipeline){let a=Object.keys(o),s=a[0],c=Me(dt.PIPELINE,s,this.options);I(a.length===1&&!!c,`invalid pipeline operator ${s}`),i.push(s),n=c(n,o[s],this.options)}return(r==fr.CLONE_OUTPUT||r==fr.CLONE_ALL&&xn([["$group","$unwind"],i]).length)&&n.map(yi),n}run(t){return this.stream(t).value()}};var Ws=class{constructor(t,n,r,i){this.source=t,this.predicate=n,this.projection=r,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(tt(this.projection)&&this.operators.push({$project:this.projection}),this.result=pe(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Je(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let t=pe([...this.buffer]);return this.buffer=[],Vs(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;let t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}};var me=class{constructor(t,n){this.condition=t,this.options=bi(n),this.compiled=[],this.compile()}compile(){I(tt(this.condition),"query criteria must be an object");let t={};for(let[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(Xe(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{I(!Te(n),`unknown top level operator: ${n}`);for(let[i,o]of Object.entries(zs(r)))this.processOperator(n,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){let i=Me(dt.QUERY,n,this.options);if(!i)throw new Error(`unknown operator ${n}`);let o=i(t,r,this.options);this.compiled.push(o)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new Ws(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}};var _i=1e3*60*60*24,uy={week:_i*7,day:_i,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var ZN={week:_i*7,day:_i,hour:_i/24,minute:6e4,second:1e3,millisecond:1};function st(e){let t=(n,r,i)=>{let o={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return s=>{let c=dr(s,n,o);return e(c,r,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function se(e){return(t,n,r)=>{let i=_(t,n,null,r);return e(...i)}}function Ho(e,t,n){if(Ce(e,t)||k(e)&&k(t))return!0;if(e instanceof Array){let r=Ce.bind(null,t);return e.some(r)||ed(e,n?.depth).some(r)}return!1}function qs(e,t,n){return!Ho(e,t,n)}function cd(e,t,n){return k(e)?t.some(r=>r===null):xn([ur(e),t],n?.hashFunction).length>0}function Ks(e,t,n){return!cd(e,t,n)}function Hs(e,t,n){return Xs(e,t,(r,i)=>Dt(r,i)<0)}function Ys(e,t,n){return Xs(e,t,(r,i)=>Dt(r,i)<=0)}function Gs(e,t,n){return Xs(e,t,(r,i)=>Dt(r,i)>0)}function Qs(e,t,n){return Xs(e,t,(r,i)=>Dt(r,i)>=0)}function my(e,t,n){return ur(e).some(r=>t.length===2&&r%t[0]===t[1])}function gy(e,t,n){let r=ur(e),i=o=>nt(o)&&Ze(t.exec(o),n?.useStrictMode);return r.some(i)||ed(r,1).some(i)}function yy(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function vy(e,t,n){if(!W(e)||!W(t)||!e.length||!t.length)return!1;let r=!0;for(let i of t){if(!r)break;tt(i)&&Xe(Object.keys(i),"$elemMatch")?r=ld(e,i.$elemMatch,n):i instanceof RegExp?r=e.some(o=>typeof o=="string"&&i.test(o)):r=e.some(o=>Ce(i,o))}return r}function by(e,t,n){return Array.isArray(e)&&e.length===t}function eE(e){return Te(e)&&["$and","$or","$nor"].indexOf(e)===-1}function ld(e,t,n){if(W(e)&&!he(e)){let r=a=>a,i=t;Object.keys(t).every(eE)&&(i={temp:t},r=a=>({temp:a}));let o=new me(i,n);for(let a=0,s=e.length;a<s;a++)if(o.test(r(e[a])))return!0}return!1}var dy=e=>e===null,fy=e=>it(e)&&e>=-2147483648&&e<=2147483647&&e.toString().indexOf(".")===-1,hy=e=>it(e)&&e>=Ju&&e<=Zu&&e.toString().indexOf(".")===-1,rE={array:W,bool:Uo,boolean:Uo,date:Vo,decimal:it,double:it,int:fy,long:hy,number:it,null:dy,object:tt,regex:Wo,regexp:Wo,string:nt,undefined:k,function:e=>{throw new Error("unsupported type key `function`.")},1:it,2:nt,3:tt,4:W,6:k,8:Uo,9:Vo,10:dy,11:Wo,16:fy,18:hy,19:it};function py(e,t,n){let r=rE[t];return r?r(e):!1}function _y(e,t,n){return Array.isArray(t)?t.findIndex(r=>py(e,r,n))>=0:py(e,t,n)}function Xs(e,t,n){return ur(e).some(r=>Se(r)===Se(t)&&n(r,t))}var wj=se(Ks);var IB=se(Ho);var TB=se(Gs);var NB=se(Qs);var jB=se(Hs);var zB=se(Ys);var qB=se(qs);var xy=(e,t)=>{let n={};return e.split("").forEach((r,i)=>n[r]=t*(i+1)),n},k2=Object.assign(Object.assign(Object.assign({},xy("ABCDEFGHIKLM",1)),xy("NOPQRSTUVWXY",-1)),{Z:0});var Ey={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function ht(e,t=Ey){let n=Object.assign({},Ey,t),r=new Set(Object.keys(n));return(i,o,a)=>{let s=_(i,o,null,a);if(r.has(`${s}`)){let c=n[`${s}`];if(c instanceof Error)throw new Error(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return c}return e(s)}}var A4=ht(Math.acos,{Infinity:1/0,0:new Error});var P4=ht(Math.acosh,{Infinity:1/0,0:new Error});var M4=ht(Math.asin);var L4=ht(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var B4=ht(Math.atan);var K4=ht(Math.atanh,{1:1/0,"-1":-1/0});var G4=ht(Math.cos);var Z4=ht(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var sE=Math.PI/180,e5=ht(e=>e*sE,{Infinity:1/0,"-Infinity":1/0});var cE=180/Math.PI,i5=ht(e=>e*cE,{Infinity:1/0,"-Infinity":-1/0});var s5=ht(Math.sin);var u5=ht(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var h5=ht(Math.tan);var Js=(e,t,n)=>{if(he(t)||!tt(t))return e;let r=Dt,i=n.collation;return tt(i)&&nt(i.locale)&&(r=fE(i)),e.transform(o=>{let a=Object.keys(t);for(let s of a.reverse()){let c=Bs(o,u=>dr(u,s),n.hashFunction),l=Array.from(c.keys()).sort(r);t[s]===-1&&l.reverse(),o=[],l.reduce((u,d)=>ae(u,c.get(d)),o)}return o})},dE={1:"base",2:"accent",3:"variant"};function fE(e){let t={sensitivity:dE[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));let n=new Intl.Collator(e.locale,t);return(r,i)=>{if(!nt(r)||!nt(i))return Dt(r,i);let o=n.compare(r,i);return o<0?-1:o>0?1:0}}var fd=(e,t,n)=>{if(he(t))return e;let r=Object.keys(t),i=!1;Ay(t,n);let o=n.idKey;if(Xe(r,o)){let s=t[o];(s===0||s===!1)&&(r=r.filter(Fs.bind(null,[o])),i=r.length==0)}else r.push(o);let a=_t.init(n);return e.map(s=>dd(s,t,a.update(s),r,i))};function dd(e,t,n,r,i){let o={},a=!1,s=!1,c=[];i&&c.push(n.idKey);for(let l of r){let u,d=t[l];if(l!==n.idKey&&Xe([0,!1],d)&&(s=!0),l===n.idKey&&he(d))u=e[l];else if(nt(d))u=_(e,d,l,n);else if(!Xe([1,!0],d))if(d instanceof Array)u=d.map(h=>{let m=_(e,h,null,n);return k(m)?null:m});else if(tt(d)){let h=d,m=Object.keys(d),p=m.length==1?m[0]:"",v=Me(dt.PROJECTION,p,n);if(v)p==="$slice"?ur(h[p]).every(it)?(u=v(e,h[p],l,n),a=!0):u=_(e,h,l,n):u=v(e,h[p],l,n);else if(Te(p))u=_(e,h[p],p,n);else if(Xt(e,l)){Ay(h,n);let g=e[l];g instanceof Array?u=g.map(x=>dd(x,h,n,m,!1)):(g=tt(g)?g:e,u=dd(g,h,n,m,!1))}else u=_(e,d,null,n)}else{c.push(l);continue}let f=mi(e,l,{preserveMissing:!0});f!==void 0&&gi(o,f,{flatten:!0}),Fs([0,1,!1,!0],d)&&(u===void 0?qo(o,l,{descendArray:!0}):Us(o,l,u))}if($s(o),(a||s||i)&&(o=ae({},e,o),c.length>0))for(let l of c)qo(o,l,{descendArray:!0});return o}function Ay(e,t){let n=[!1,!1];for(let[r,i]of Object.entries(e)){if(r===t?.idKey)return;i===0||i===!1?n[0]=!0:(i===1||i===!0)&&(n[1]=!0),I(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var Dy=(e,t,n)=>{I(W(t),"Invalid expression: $and expects value to be an Array.");let r=t.map(i=>new me(i,n));return i=>r.every(o=>o.test(i))};var tc=(e,t,n)=>{I(W(t),"Invalid expression. $or expects value to be an Array");let r=t.map(i=>new me(i,n));return i=>r.some(o=>o.test(i))};var Iy=(e,t,n)=>{I(W(t),"Invalid expression. $nor expects value to be an array.");let r=tc("$or",t,n);return i=>!r(i)};var Py=(e,t,n)=>{let r={};r[e]=zs(t);let i=new me(r,n);return o=>!i.test(o)};var hd=st(Ho);var pd=st(Gs);var md=st(Qs);var gd=st(cd);var yd=st(Hs);var vd=st(Ys);var bd=st(qs);var _d=st(Ks);var ky=st(my);var Ty=st(gy);var q8=st(vy);var My=st(ld);var $y=st(by);var Ny=st(yy);var Ly=st(_y);var Fy=!1;function jy(e){return Fy||(id(dt.PIPELINE,{$sort:Js,$project:fd}),id(dt.QUERY,{$and:Dy,$eq:hd,$elemMatch:My,$exists:Ny,$gt:pd,$gte:md,$in:gd,$lt:yd,$lte:vd,$ne:bd,$nin:_d,$mod:ky,$nor:Iy,$not:Py,$or:tc,$regex:Ty,$size:$y,$type:Ly}),Fy=!0),new me(e)}function Yo(e,t){var n=Ft(e.primaryKey);t=ct(t),t.selector&&(t.selector=xd(t.selector));var r=Pe(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([l,u])=>{(typeof u!="object"||u===null)&&(r.selector[l]={$eq:u})})):r.selector={},r.index){var i=$o(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var c=r.sort.find(l=>Gm(l)===n);c||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(l=>({[l]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([l,u])=>{var d=!1;typeof u=="object"&&u!==null?d=!!Object.keys(u).find(f=>Ms.has(f)):d=!0,d&&o.add(l)});var a=-1,s;e.indexes.forEach(l=>{var u=Qe(l)?l:[l],d=u.findIndex(f=>!o.has(f));d>0&&d>a&&(a=d,s=u)}),s&&(r.sort=s.map(l=>({[l]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function xd(e){if(typeof e!="object"||e===null)return e;var t=Object.keys(e),n={};return t.forEach(r=>{var i=e[r];if(r==="$regex"&&i instanceof RegExp){var o=Zm(i);n.$regex=o.pattern,n.$options=o.flags}else Array.isArray(i)?n[r]=i.map(a=>xd(a)):n[r]=xd(i)}),n}function ec(e,t){if(!t.sort)throw b("SNH",{query:t});var n=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:o,direction:a,getValueFn:Ym(o)})});var r=(i,o)=>{for(var a=0;a<n.length;++a){var s=n[a],c=s.getValueFn(i),l=s.getValueFn(o);if(c!==l){var u=s.direction==="asc"?Dt(c,l):Dt(l,c);return u}}};return r}function xi(e,t){if(!t.sort)throw b("SNH",{query:t});var n=jy(t.selector),r=i=>{if(i._deleted)return!1;var o=n.find([i]),a=o.next();return!!a};return r}function pE(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var mE=new WeakMap;function gE(e){return fe(mE,e,()=>{var t=e.collection,n=Yo(t.storageInstance.schema,Pe(e.mangoQuery)),r=t.schema.primaryPath,i=ec(t.schema.jsonSchema,n),o=(l,u)=>{var d={docA:l,docB:u,rxQuery:e};return i(d.docA,d.docB)},a=xi(t.schema.jsonSchema,n),s=l=>{var u={doc:l,rxQuery:e};return a(u.doc)},c={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:pE(r,n),sortComparator:o,queryMatcher:s};return c})}function By(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=gE(e),r=rt(e._result).docsData.slice(0),i=rt(e._result).docsDataMap,o=!1,a=t.map(c=>eg(c)).filter(km),s=a.find(c=>{var l={queryParams:n,changeEvent:c,previousResults:r,keyDocumentMap:i},u=Zg(l);if(u==="runFullQueryAgain")return!0;if(u!=="doNothing")return o=!0,Jg(u,n,c,r,i),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var yE=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var i=r.toString();return fe(this._map,i,()=>r)},e}();function zy(){return new yE}function Uy(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function vE(e){return e.refCount$.observers.length}var bE=100,_E=30*1e3,xE=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var i=At()-t,o=[],a=Array.from(r._map.values());for(var s of a)if(!(vE(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){Uy(r,s);continue}o.push(s)}var c=o.length-e;if(!(c<=0)){var l=o.sort((d,f)=>d._lastEnsureEqual-f._lastEnsureEqual),u=l.slice(0,c);u.forEach(d=>Uy(r,d))}}},Sd=xE(bE,_E),wd=new WeakSet;function Vy(e){wd.has(e)||(wd.add(e),Wm().then(()=>Km(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),wd.delete(e)}))}var wE=0,SE=function(){return++wE},Cd=function(){function e(n,r,i,o={}){this.id=SE(),this._execOverDatabaseCount=0,this._creationTime=At(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Wt(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=De,this.op=n,this.mangoQuery=r,this.collection=i,this.other=o,r||(this.mangoQuery=Go()),this.isFindOneByIdQuery=OE(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result={docsData:[],docsMap:new Map,docsDataMap:new Map,count:r,docs:[],time:At()};return}else r instanceof Map&&(r=Array.from(r.values()));var i=new Map,o=new Map,a=r.map(c=>this.collection._docCache.getCachedRxDocument(c)),s=a.map(c=>(i.set(c.primary,c._data),o.set(c.primary,c),c._data));this._result={docsData:s,docsMap:o,docsDataMap:i,count:s.length,docs:a,time:At()}},t._execOverDatabase=function(){return D(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=At(),this.op==="count"){var r=this.getPreparedQuery(),i=yield this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw b("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=rt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(u=>{var d=this.collection._docCache.getLatestDocumentDataIfExists(u);if(d){if(!d._deleted){var f=this.collection._docCache.getCachedRxDocument(d);a.set(u,f)}}else s.push(u)}),s.length>0){var c=yield this.collection.storageInstance.findDocumentsById(s,!1);Object.values(c).forEach(u=>{var d=this.collection._docCache.getCachedRxDocument(u);a.set(d.primary,d)})}return a}var l=RE(this);return l.then(u=>(this._lastExecEnd=At(),u))})},t.exec=function(r){if(r&&this.op!=="findOne")throw b("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Wy(this).then(()=>Na(this.$)).then(i=>{if(!i&&r)throw b("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var r=si({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r,Qm);return this.toString=()=>i,i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Yo(this.collection.schema.jsonSchema,this.mangoQuery)};Lt("prePrepareQuery",r);var i=this.collection.database.storage.statics.prepareQuery(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(i=>i.remove())):r.remove())},t.update=function(r){throw lt("update")},t.where=function(r){throw lt("query-builder")},t.sort=function(r){throw lt("query-builder")},t.skip=function(r){throw lt("query-builder")},t.limit=function(r){throw lt("query-builder")},we(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(et(r=>!r.isLocal),Re(null),St(()=>Wy(this)),K(()=>this._result),io(_s),zn((r,i)=>!!(r&&r.time===rt(i).time)),et(r=>!!r),K(r=>{var i=rt(r);return this.op==="count"?i.count:this.op==="findOne"?i.docs.length===0?null:i.docs[0]:this.op==="findByIds"?i.docsMap:i.docs.slice(0)}));this._$=jn(n,this.refCount$.pipe(et(()=>!1)))}return this._$}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=Yo(this.collection.schema.jsonSchema,this.mangoQuery);return ci(this,"queryMatcher",xi(n,r))}},{key:"asRxQuery",get:function(){return this}}]),e}();function Go(){return{selector:{}}}function CE(e){return e.collection._queryCache.getByQuery(e)}function wi(e,t,n,r){Lt("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i=new Cd(e,t,n,r);return i=CE(i),Vy(n),i}function qy(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function Wy(e){return e.collection.database.destroyed||qy(e)?De:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>EE(e)),e._ensureEqualQueue)}function EE(e){if(e._lastEnsureEqual=At(),e.collection.database.destroyed||qy(e))return De;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=rt(e._result).count,a=o;i.forEach(l=>{var u=l.previousDocumentData&&e.doesDocumentDataMatch(l.previousDocumentData),d=e.doesDocumentDataMatch(l.documentData);!u&&d&&a++,u&&!d&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=By(e,i);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}if(n){var c=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(l=>(e._latestChangeEvent=c,typeof l=="number"?((!e._result||l!==e._result.count)&&(t=!0,e._setResultData(l)),t):((!e._result||!Bm(e.collection.schema.primaryPath,l,e._result.docsData))&&(t=!0,e._setResultData(l)),t)))}return Promise.resolve(t)}function RE(e){return D(this,null,function*(){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(u=>{var d=e.collection._docCache.getLatestDocumentDataIfExists(u);return d?(d._deleted||t.push(d),!1):!0}),r.length>0){var i=yield n.storageInstance.findDocumentsById(r,!1);Object.values(i).forEach(u=>{t.push(u)})}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=yield n.storageInstance.findDocumentsById([o],!1);s.hasOwnProperty(o)&&(a=s[o])}a&&!a._deleted&&t.push(a)}else{var c=e.getPreparedQuery(),l=yield n.storageInstance.query(c);t=l.documents}return t})}function OE(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var Si="collection",Ed="storage-token",AE="RxInternalDocument",nc=Cs({version:0,title:AE,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Si,Ed,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ic(e,t){return Fo(nc,{key:e,context:t})}function oc(e,t){return D(this,null,function*(){var n=e.prepareQuery(t.schema,{selector:{context:Si},sort:[{id:"asc"}],skip:0}),r=yield t.query(n),i=r.documents;return i})}var Ky="storageToken",rc=ic(Ky,Ed);function Hy(e){return D(this,null,function*(){var t=bn(10),n=e.password?e.hashFunction(JSON.stringify(e.password)):void 0,r={id:rc,context:Ed,key:Ky,data:{token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:Ur(),_rev:cr(),_attachments:{}},i=yield e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(i.success[rc])return i.success[rc];var o=rt(i.error[rc]);if(o.isError&&o.status===409){var a=o;if(n&&n!==a.documentInDb.data.passwordHash)throw b("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return rt(s)}throw o})}function Rd(e,t){return e+"-"+t.version}function ac(e,t){return t=ct(t),t=ng(e,t),t=Ss(e.primaryPath,e.jsonSchema,t),t._meta=Ur(),t.hasOwnProperty("_deleted")||(t._deleted=!1),t.hasOwnProperty("_attachments")||(t._attachments={}),t.hasOwnProperty("_rev")||(t._rev=cr()),t}function Yy(e,t){return D(this,null,function*(){t.multiInstance=e.multiInstance;var n=yield e.storage.createStorageInstance(t);return n})}function sc(e,t,n,r,i,o){return D(this,null,function*(){var a=yield oc(e.statics,t),s=a.filter(d=>d.data.name===i),c=[];s.forEach(d=>{c.push({collectionName:d.data.name,schema:d.data.schema,isCollection:!0}),d.data.connectedStorages.forEach(f=>c.push({collectionName:f.collectionName,isCollection:!1,schema:f.schema}))});var l=new Set;if(c=c.filter(d=>{var f=d.collectionName+"||"+d.schema.version;return l.has(f)?!1:(l.add(f),!0)}),yield Promise.all(c.map(d=>D(this,null,function*(){var f=yield e.createStorageInstance({collectionName:d.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:d.schema,devMode:at.isDevMode()});yield f.remove(),d.isCollection&&(yield Kr("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:i}))}))),o){var u=s.map(d=>{var f=Es(d);return f._deleted=!0,f._meta.lwt=At(),f._rev=ai(n,d),{previous:d,document:f}});yield t.bulkWrite(u,"rx-database-remove-collection-all")}})}var Gy=function(){function e(n,r,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s.documentByRevisionHeight.delete(o.revisionHeight),s.documentByRevisionHeight.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(o=>{var a=o.documentId,s=this.cacheItemByDocId.get(a);if(s){var c=ws(o);s.latestDoc=c}})}var t=e.prototype;return t.getCachedRxDocument=function(r){var i=r[this.primaryPath],o=Fm(r._rev),a=fe(this.cacheItemByDocId,i,()=>DE(r)),s=a.documentByRevisionHeight.get(o),c=s?s.deref():void 0;return c||(r=at.deepFreezeWhenDevMode(r),c=this.documentCreator(r),a.documentByRevisionHeight.set(o,PE(c)),this.registry&&this.registry.register(c,{docId:i,revisionHeight:o})),c},t.getLatestDocumentData=function(r){var i=qr(this.cacheItemByDocId,r);return i.latestDoc},t.getLatestDocumentDataIfExists=function(r){var i=this.cacheItemByDocId.get(r);if(i)return i.latestDoc},e}();function DE(e){return{documentByRevisionHeight:new Map,latestDoc:e}}var IE=typeof WeakRef=="function";function PE(e){return IE?new WeakRef(e):{deref(){return e}}}var kE=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(et(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var i=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(r,i){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(r){return r.slice(0);var i},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function Qy(e){return new kE(e)}var TE=new WeakMap;function ME(e){var t=e.schema.getDocumentPrototype(),n=NE(e),r=Hr,i={};return[t,n,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var c=Object.getOwnPropertyDescriptor(o,s),l=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(l=!1),typeof c.value=="function"?Object.defineProperty(i,s,{get(){return c.value.bind(this)},enumerable:l,configurable:!1}):(c.enumerable=l,c.configurable=!1,c.writable&&(c.writable=!1),Object.defineProperty(i,s,c))})}),i}function $E(e){return fe(TE,e,()=>Os(ME(e)))}function Xy(e,t){var n=hg($E(e),e,at.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),Lt("postCreateRxDocument",n),n}function NE(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}var Od=function(e,t){return Wr(e.newDocumentState,e.realMasterState)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};var Jy=["pre","post"],tv=["insert","save","remove","create"],Zy=!1,Qo=function(){function e(n,r,i,o,a={},s={},c={},l={},u={},d=Sd,f={},h=Od){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=zy(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=c,this.attachments=l,this.options=u,this.cacheReplacementPolicy=d,this.statics=f,this.conflictHandler=h,LE(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){return D(this,null,function*(){this.storageInstance=Rs(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new fg(this.storageInstance,this.schema.primaryPath,(a,s)=>zu(this,a,s),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(et(a=>a.collectionName===this.name));this.$=r.pipe(St(a=>a.events)),this.checkpoint$=r.pipe(K(a=>a.checkpoint)),this._changeEventBuffer=Qy(this.asRxCollection),this._docCache=new Gy(this.schema.primaryPath,this.$.pipe(et(a=>!a.isLocal)),a=>Xy(this.asRxCollection,a));var i=yield this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(c=>lg(!1,c,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context};this.database.$emit(s)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),oe})},t.migrationNeeded=function(){throw lt("migration")},t.getDataMigrator=function(){throw lt("migration")},t.migrate=function(r=10){return this.getDataMigrator().migrate(r)},t.migratePromise=function(r=10){return this.getDataMigrator().migratePromise(r)},t.insert=function(r){return D(this,null,function*(){var i=yield this.bulkInsert([r]),o=i.error[0];Bo(this,r[this.schema.primaryPath],r,o);var a=rt(i.success[0]);return a})},t.bulkInsert=function(r){return D(this,null,function*(){if(r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=r.map(d=>{var f=ac(this.schema,d);return f}),a=this.hasHooks("pre","insert")?yield Promise.all(o.map(d=>this._runHooks("pre","insert",d).then(()=>d))):o,s=new Map,c=a.map(d=>{s.set(d[i],d);var f={document:d};return f}),l=yield this.storageInstance.bulkWrite(c,"rx-collection-bulk-insert"),u=Object.values(l.success).map(d=>this._docCache.getCachedRxDocument(d));return this.hasHooks("post","insert")&&(yield Promise.all(u.map(d=>this._runHooks("post","insert",s.get(d.primary),d)))),{success:u,error:Object.values(l.error)}})},t.bulkRemove=function(r){return D(this,null,function*(){if(r.length===0)return{success:[],error:[]};var i=yield this.findByIds(r).exec(),o=[],a=new Map;Array.from(i.values()).forEach(d=>{var f=d.toMutableJSON(!0);o.push(f),a.set(d.primary,f)}),yield Promise.all(o.map(d=>{var f=d[this.schema.primaryPath];return this._runHooks("pre","remove",d,i.get(f))}));var s=o.map(d=>{var f=ct(d);return f._deleted=!0,{previous:d,document:f}}),c=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-remove"),l=Object.keys(c.success);yield Promise.all(l.map(d=>this._runHooks("post","remove",a.get(d),i.get(d))));var u=l.map(d=>qr(i,d));return{success:u,error:Object.values(c.error)}})},t.bulkUpsert=function(r){return D(this,null,function*(){var i=[],o=new Map;r.forEach(l=>{var u=ac(this.schema,l),d=u[this.schema.primaryPath];if(!d)throw b("COL3",{primaryPath:this.schema.primaryPath,data:u,schema:this.schema.jsonSchema});o.set(d,u),i.push(u)});var a=yield this.bulkInsert(i),s=a.success.slice(0),c=yield Promise.all(a.error.map(l=>D(this,null,function*(){if(l.status!==409)throw b("VD2",{collection:this.name,writeError:l});var u=l.documentId,d=qr(o,u),f=rt(l.documentInDb),h=this._docCache.getCachedRxDocument(f),m=yield h.incrementalModify(()=>d);return m})));return Br(s,c),s})},t.upsert=function(r){return this.bulkUpsert([r]).then(i=>i[0])},t.incrementalUpsert=function(r){var i=ac(this.schema,r),o=i[this.schema.primaryPath];if(!o)throw b("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=oe),a=a.then(()=>jE(this,o,i)).then(s=>s.inserted?s.doc:FE(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw b("COL5",{queryObj:r});r||(r=Go());var i=wi("find",r,this);return i},t.findOne=function(r){var i;if(typeof r=="string")i=wi("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=Go()),r.limit)throw b("QU6");r.limit=1,i=wi("findOne",r,this)}if(typeof r=="number"||Array.isArray(r))throw Nt("COL6",{queryObj:r});return i},t.count=function(r){r||(r=Go());var i=wi("count",r,this);return i},t.findByIds=function(r){var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=wi("findByIds",i,this);return o},t.exportJSON=function(){throw lt("json-dump")},t.importJSON=function(r){throw lt("json-dump")},t.insertCRDT=function(r){throw lt("crdt")},t.addHook=function(r,i,o,a=!1){if(typeof o!="function")throw Nt("COL7",{key:i,when:r});if(!Jy.includes(r))throw Nt("COL8",{key:i,when:r});if(!tv.includes(i))throw b("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw b("COL10",{when:r,key:i,parallel:a});var s=o.bind(this),c=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][c].push(s)},t.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},t.hasHooks=function(r,i){var o=this.getHooks(r,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,i,o,a){var s=this.getHooks(r,i);if(!s)return oe;var c=s.series.map(l=>()=>l(o,a));return Hm(c).then(()=>Promise.all(s.parallel.map(l=>l(o,a))))},t._runHooksSync=function(r,i,o,a){var s=this.getHooks(r,i);s&&s.series.forEach(c=>c(o,a))},t.promiseWait=function(r){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?De:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],Kr("postDestroyRxCollection",this).then(()=>!0))))},t.remove=function(){return D(this,null,function*(){yield this.destroy(),yield sc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.hashFunction)})},we(e,[{key:"insert$",get:function(){return this.$.pipe(et(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(et(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(et(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}]),e}();function LE(e){if(!Zy){Zy=!0;var t=Object.getPrototypeOf(e);tv.forEach(n=>{Jy.map(r=>{var i=r+vs(n);t[i]=function(o,a){return this.addHook(r,n,o,a)}})})}}function FE(e,t){return e.incrementalModify(n=>t)}function jE(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(n).then(o=>({doc:o,inserted:!0})))}function ev({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:c={},options:l={},localDocuments:u=!1,cacheReplacementPolicy:d=Sd,conflictHandler:f=Od}){var h={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:at.isDevMode()};return Lt("preCreateRxStorageInstance",h),Yy(e,h).then(m=>{var p=new Qo(e,t,n,m,r,i,s,c,l,d,a,f);return p.prepare().then(()=>{Object.entries(a).forEach(([g,x])=>{Object.defineProperty(p,g,{get:()=>x.bind(p)})});var v=oe;return o&&p.schema.version!==0&&(v=p.migratePromise()),v}).then(()=>(Lt("createRxCollection",{collection:p,creator:{name:t,schema:n,storageInstance:m,instanceCreationOptions:r,migrationStrategies:i,methods:s,attachments:c,options:l,cacheReplacementPolicy:d,localDocuments:u,statics:a}}),p)).catch(v=>m.close().then(()=>Promise.reject(v)))})}var Id=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Id.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Dd(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(s){return r=s}),o=function(){Ad(n,i),r()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),Dd(this),i},cancelIdlePromise:function(t){Ad(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return Ad(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function BE(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return Dd(e)},0)}}function Ad(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function Dd(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}BE(e),e._tryIR=!1},0)},0))}var Ci=function(){function e(t){this.ttl=t,this.map=new Map,this._to=!1}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.add=function(t){var n=this;this.map.set(t,rv()),this._to||(this._to=!0,setTimeout(function(){n._to=!1,UE(n)},0))},e.prototype.clear=function(){this.map.clear()},e}();function UE(e){for(var t=rv()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=r[0],o=r[1];if(o<t)e.map.delete(i);else return}}function rv(){return new Date().getTime()}var cc=new Set,nv=0,Xo=function(){function e(n,r,i,o,a,s,c=!1,l={},u,d,f,h){this.idleQueue=new Id,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new F,this.observable$=this.eventBulks$.pipe(St(m=>m.events)),this.storageToken=De,this.storageTokenDocument=De,this.emittedEventBulkIds=new Ci(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=c,this.options=l,this.internalStore=u,this.hashFunction=d,this.cleanupPolicy=f,this.allowSlowCount=h,nv++,this.name!=="pseudoInstance"&&(this.internalStore=Rs(this.asRxDatabase,u,nc),this.storageTokenDocument=Hy(this.asRxDatabase).catch(m=>this.startupErrors.push(m)),this.storageToken=this.storageTokenDocument.then(m=>m.data.token).catch(m=>this.startupErrors.push(m)))}var t=e.prototype;return t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=function(r,i){return D(this,null,function*(){var o=yield cg(this.internalStore,ic(Rd(r,i),Si));if(!o)throw b("SNH",{name:r,schema:i});var a=Es(o);a._deleted=!0,yield this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")})},t.addCollections=function(r){return D(this,null,function*(){var i={},o={},a=[],s={};Object.entries(r).forEach(([u,d])=>{var f=u,h=d.schema;i[f]=h;var m=mg(h,this.hashFunction);if(o[f]=m,this.collections[u])throw b("DB3",{name:u});var p=Rd(u,h),v={id:ic(p,Si),key:p,context:Si,data:{name:f,schemaHash:m.hash,schema:m.jsonSchema,version:m.version,connectedStorages:[]},_deleted:!1,_meta:Ur(),_rev:cr(),_attachments:{}};a.push({document:v});var g=Object.assign({},d,{name:f,schema:m,database:this}),x=ct(d);x.database=this,x.name=u,Lt("preCreateRxCollection",x),g.conflictHandler=x.conflictHandler,s[f]=g});var c=yield this.internalStore.bulkWrite(a,"rx-database-add-collection");yield WE(this),Object.entries(c.error).forEach(([u,d])=>{if(d.status!==409)throw b("DB12",{database:this.name,writeError:d});var f=rt(d.documentInDb),h=f.data.name,m=o[h];if(f.data.schemaHash!==m.hash)throw b("DB6",{database:this.name,collection:h,previousSchemaHash:f.data.schemaHash,schemaHash:m.hash,previousSchema:f.data.schema,schema:rt(i[h])})});var l={};return yield Promise.all(Object.keys(r).map(u=>D(this,null,function*(){var d=s[u],f=yield ev(d);l[u]=f,this.collections[u]=f,this[u]||Object.defineProperty(this,u,{get:()=>this.collections[u]})}))),l})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw lt("json-dump")},t.importJSON=function(r){throw lt("json-dump")},t.backup=function(r){throw lt("backup")},t.leaderElector=function(){throw lt("leader-election")},t.isLeader=function(){throw lt("leader-election")},t.waitForLeadership=function(){throw lt("leader-election")},t.migrationStates=function(){throw lt("migration")},t.destroy=function(){return D(this,null,function*(){return this.destroyed?De:(this.destroyed=!0,yield Kr("preDestroyRxDatabase",this),this.eventBulks$.complete(),nv--,this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance"?De:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>cc.delete(this.name)).then(()=>!0))})},t.remove=function(){return this.destroy().then(()=>VE(this.name,this.storage))},we(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function zE(e){if(cc.has(e))throw b("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}function iv(e,t,n,r,i,o){return D(this,null,function*(){var a=yield t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:sg,schema:nc,options:r,multiInstance:i,password:o,devMode:at.isDevMode()});return a})}function ov({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i=!0,eventReduce:o=!1,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:c,allowSlowCount:l=!1,localDocuments:u=!1,hashFunction:d=vn}){Lt("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:u}),a||zE(n),cc.add(n);var f=bn(10);return iv(f,e,n,t,i,r).catch(h=>{throw cc.delete(n),h}).then(h=>{var m=new Xo(n,f,e,t,r,i,o,s,h,d,c,l);return Kr("createRxDatabase",{database:m,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:u}}).then(()=>m)})}function VE(e,t){return D(this,null,function*(){var n=bn(10),r=yield iv(n,t,e,{},!1),i=yield oc(t.statics,r),o=new Set;i.forEach(s=>o.add(s.data.name));var a=Array.from(o);return yield Promise.all(a.map(s=>sc(t,r,n,e,s))),yield Kr("postRemoveRxDatabase",{databaseName:e,storage:t}),yield r.remove(),a})}function WE(e){return D(this,null,function*(){if(yield e.storageToken,e.startupErrors[0])throw e.startupErrors[0]})}var qE={RxSchema:Vu.prototype,RxDocument:Hr,RxQuery:Cd.prototype,RxCollection:Qo.prototype,RxDatabase:Xo.prototype},Pd=new Set,av=new Set;function Zo(e){if(Lt("preAddRxPlugin",{plugin:e,plugins:Pd}),!Pd.has(e)){{if(av.has(e.name))throw b("PL3",{name:e.name,plugin:e});Pd.add(e),av.add(e.name)}if(!e.rxdb)throw Nt("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(qE[t])),e.overwritable&&Object.assign(at,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&di[t].push(n.after),n.before&&di[t].unshift(n.before)})}}var sv={prepareQuery(e,t){if(!t.sort)throw b("SNH",{query:t});var n=ey(e,t);return{query:t,queryPlan:n}},checkpointSchema:ig};function lv(e){return e&&typeof e.then=="function"}var KE=Promise.resolve(!1),uv=Promise.resolve(!0),ge=Promise.resolve();function tr(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function dv(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function pr(){return Math.random().toString(36).substring(2)}var cv=0,kd=0;function Gr(){var e=new Date().getTime();return e===cv?(kd++,e*1e3+kd):(cv=e,kd=0,e*1e3)}var HE=Gr,YE="native";function GE(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function QE(e){e.bc.close(),e.subFns=[]}function XE(e,t){try{return e.bc.postMessage(t,!1),ge}catch(n){return Promise.reject(n)}}function ZE(e,t){e.messagesCallback=t}function JE(){if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function tR(){return 150}var fv={create:GE,close:QE,onMessage:ZE,postMessage:XE,canBeUsed:JE,type:YE,averageResponseTime:tR,microSeconds:HE};function Ei(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var eR=Gr,rR="pubkey.broadcast-channel-0-",mr="messages",lc={durability:"relaxed"},nR="idb";function hv(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Td(e){e.commit&&e.commit()}function iR(e){var t=hv(),n=rR+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(mr,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function oR(e,t,n){var r=new Date().getTime(),i={uuid:t,time:r,data:n},o=e.transaction([mr],"readwrite",lc);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(l){return s(l)};var c=o.objectStore(mr);c.add(i),Td(o)})}function aR(e,t){var n=e.transaction(mr,"readonly",lc),r=n.objectStore(mr),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(c,l){a.onerror=function(u){return l(u)},a.onsuccess=function(u){c(u.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(c,l){var u=s();u.onerror=function(d){return l(d)},u.onsuccess=function(d){var f=d.target.result;f?f.value.id<t+1?f.continue(t+1):(i.push(f.value),f.continue()):(Td(n),c(i))}})}function sR(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(mr,"readwrite",lc),r=n.objectStore(mr);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function cR(e,t){var n=new Date().getTime()-t,r=e.transaction(mr,"readonly",lc),i=r.objectStore(mr),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var c=s.target.result;if(c){var l=c.value;l.time<n?(o.push(l),c.continue()):(Td(r),a(o))}else a(o)}})}function lR(e){return cR(e.db,e.options.idb.ttl).then(function(t){return sR(e,t.map(function(n){return n.id}))})}function uR(e,t){return t=Ei(t),iR(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:pr(),eMIs:new Ci(t.idb.ttl*2),writeBlockPromise:ge,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},pv(r),r})}function pv(e){e.closed||mv(e).then(function(){return tr(e.options.idb.fallbackInterval)}).then(function(){return pv(e)})}function dR(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function mv(e){return e.closed?ge:e.messagesCallback?aR(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return dR(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),ge}):ge}function fR(e){e.closed=!0,e.db.close()}function hR(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return oR(e.db,e.uuid,t)}).then(function(){dv(0,10)===0&&lR(e)}),e.writeBlockPromise}function pR(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,mv(e)}function mR(){return!!hv()}function gR(e){return e.idb.fallbackInterval*2}var gv={create:uR,close:fR,onMessage:pR,postMessage:hR,canBeUsed:mR,type:nR,averageResponseTime:gR,microSeconds:eR};var yR=Gr,vR="pubkey.broadcastChannel-",bR="localstorage";function yv(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function vv(e){return vR+e}function _R(e,t){return new Promise(function(n){tr().then(function(){var r=vv(e.channelName),i={token:pr(),time:new Date().getTime(),data:t,uuid:e.uuid},o=JSON.stringify(i);yv().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function xR(e,t){var n=vv(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function wR(e){window.removeEventListener("storage",e)}function SR(e,t){if(t=Ei(t),!bv())throw new Error("BroadcastChannel: localstorage cannot be used");var n=pr(),r=new Ci(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=xR(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function CR(e){wR(e.listener)}function ER(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function bv(){var e=yv();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function RR(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var _v={create:SR,close:CR,onMessage:ER,postMessage:_R,canBeUsed:bv,type:bR,averageResponseTime:RR,microSeconds:yR};var OR=Gr,AR="simulate",Md=new Set;function DR(e){var t={name:e,messagesCallback:null};return Md.add(t),t}function IR(e){Md.delete(e)}function PR(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(Md);r.filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})}function kR(e,t){e.messagesCallback=t}function TR(){return!0}function MR(){return 5}var xv={create:DR,close:IR,onMessage:kR,postMessage:PR,canBeUsed:TR,type:AR,averageResponseTime:MR,microSeconds:OR};var wv=[fv,gv,_v];function Sv(e){var t=[].concat(e.methods,wv).filter(Boolean);if(e.type){if(e.type==="simulate")return xv;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(wv.map(function(i){return i.type})))}var $d=new Set,$R=0,Jo=function(t,n){this.id=$R++,$d.add(this),this.name=t,Cv&&(n=Cv),this.options=Ei(n),this.method=Sv(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,NR(this)};Jo._pubkey=!0;var Cv;Jo.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Ev(this,"message",t)},postInternal:function(t){return Ev(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Ov(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Rv(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};Rv(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});Ov(this,t,r)},close:function(){var t=this;if(!this.closed){$d.delete(this),this.closed=!0;var n=this._prepP?this._prepP:ge;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Ev(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:ge;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function NR(e){var t=e.method.create(e.name,e.options);lv(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function Av(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Rv(e,t,n){e._addEL[t].push(n),LR(e)}function Ov(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),FR(e)}function LR(e){if(!e._iL&&Av(e)){var t=function(i){e._addEL[i.type].forEach(function(o){var a=1e5,s=o.time-a;i.time>=s&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function FR(e){if(e._iL&&!Av(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function Dv(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function Iv(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var jR=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",BR=jR?Iv:Dv,ta=new Set,Pv=!1;function UR(){Pv||(Pv=!0,BR(zR))}function kv(e){if(UR(),typeof e!="function")throw new Error("Listener is no function");ta.add(e);var t={remove:function(){return ta.delete(e)},run:function(){return ta.delete(e),e()}};return t}function zR(){var e=[];return ta.forEach(function(t){e.push(t()),ta.delete(t)}),Promise.all(e)}function gr(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function ea(e){e.isLeader=!0,e._hasLeader=!0;var t=kv(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&gr(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),gr(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),gr(e,"tell")}var Tv=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=pr(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};Tv.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,ea(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),gr(this,"death")}};var VR=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=pr(),this._aplQ=ge,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};VR.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return tr(0,!0);if(this.isDead)return tr(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return uv;var o=!1,a,s=new Promise(function(u){a=function(){o=!0,u()}}),c=function(d){d.context==="leader"&&d.token!=n.token&&(d.action==="apply"&&d.token>n.token&&a(),d.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",c);var l=t?n._options.responseTime*4:n._options.responseTime;return gr(n,"apply").then(function(){return Promise.race([tr(l),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return gr(n,"apply")}).then(function(){return Promise.race([tr(l),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",c),o?!1:ea(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=WR(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,gr(this,"death")}};function WR(e){return e.isLeader?ge:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function a(){return tr(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():a()})})};i();var o=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}var uc=new Map;function qR(e,t,n){var r=uc.get(e);return r||(r={bc:new Jo("RxDB:"+t),refs:new Set},uc.set(e,r)),r.refs.add(n),r.bc}function Mv(e,t){var n=uc.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return uc.delete(e),n.bc.close()}function $v(e,t,n,r){if(t.multiInstance){var i=r||qR(t.databaseInstanceToken,n.databaseName,n),o=new F,a=f=>{f.storageName===e&&f.databaseName===t.databaseName&&f.collectionName===t.collectionName&&f.version===t.schema.version&&o.next(f.eventBulk)};i.addEventListener("message",a);var s=n.changeStream(),c=!1,l=s.subscribe(f=>{c||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:f})});n.changeStream=function(){return o.asObservable().pipe(Lh(s))};var u=n.close.bind(n);n.close=function(){return D(this,null,function*(){return c=!0,l.unsubscribe(),i.removeEventListener("message",a),r||(yield Mv(t.databaseInstanceToken,n)),u()})};var d=n.remove.bind(n);n.remove=function(){return D(this,null,function*(){return c=!0,l.unsubscribe(),i.removeEventListener("message",a),r||(yield Mv(t.databaseInstanceToken,n)),d()})}}}function Nd(e){var t=e.collection.schema.jsonSchema;if(!t.attachments)throw b("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var KR=function(e){Object.entries(e.doc.collection.attachments).forEach(([t,n])=>{Object.defineProperty(e,t,{get:()=>n.bind(e)})})},HR=function(){function e({doc:n,id:r,type:i,length:o,digest:a}){this.doc=n,this.id=r,this.type=i,this.length=o,this.digest=a,KR(this)}var t=e.prototype;return t.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,r=>(delete r._attachments[this.id],r)).then(()=>{})},t.getData=function(){return D(this,null,function*(){var r=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),i=yield Mm(r,this.type);return i})},t.getStringData=function(){return D(this,null,function*(){var r=yield this.getData(),i=yield $m(r);return i})},e}();function dc(e,t,n){return new HR({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function YR(e){return D(this,null,function*(){Nd(this);var t=Lm(e.data),n=yield Nm(e.data),r=e.id,i=e.type,o=n;return this.collection.incrementalWriteQueue.addWrite(this._data,a=>(a._attachments=ct(a._attachments),a._attachments[r]={length:t,type:i,data:o},a)).then(a=>{var s=this.collection._docCache.getCachedRxDocument(a),c=a._attachments[r],l=dc(r,c,s);return l})})}function GR(e){Nd(this);var t=this._data;if(!t._attachments||!t._attachments[e])return null;var n=t._attachments[e],r=dc(e,n,this);return r}function QR(){Nd(this);var e=this._data;return e._attachments?Object.keys(e._attachments).map(t=>dc(t,e._attachments[t],this)):[]}function XR(e){return D(this,null,function*(){var t=e.docData._attachments;if(t){var n={};yield Promise.all(Object.keys(t).map(r=>D(this,null,function*(){var i=t[r],o=e.docData[e.oldCollection.schema.primaryPath],a=yield e.oldCollection.storageInstance.getAttachmentData(o,r,i.digest);n[r]={length:i.length,type:i.type,data:a}}))),e.docData._attachments=n}})}function ZR(e){return oe}var Nv={name:"attachments",rxdb:!0,prototypes:{RxDocument:e=>{e.putAttachment=YR,e.getAttachment=GR,e.allAttachments=QR,Object.defineProperty(e,"allAttachments$",{get:function(){return this.$.pipe(K(n=>Object.entries(n.toJSON(!0)._attachments)),K(n=>n.map(([r,i])=>dc(r,i,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:XR},postMigrateDocument:{after:ZR}}};var Ld={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB8:`RxDatabase.create(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_P2P_PEER:"RxReplication P2P Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",DXE1:"The dexie.js RxStorage does not support boolean indexes, see https://rxdb.info/rx-storage-dexie.html#boolean-index",SNH:"This should never happen"};var Fd;function Lv(){if(!Fd){var e=new Qo,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Fd=[...t,...n]}return Fd}var jd;function Fv(){if(!jd){var e=new Xo("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));jd=[...t,...n],e.destroy()}return jd}var JR=Os(Hr),tO=new JR,Bd;function fc(){if(!Bd){var e=["deleted","synced"],t=Object.getOwnPropertyNames(tO),n=Object.getOwnPropertyNames(Hr);Bd=[...t,...n,...e]}return Bd}function eO(e){if(e!=="_deleted"){if(["properties"].includes(e))throw b("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if(e!=="_id"&&!e.match(n))throw b("SC1",{regex:t,fieldName:e})}}function rO(e){var t=Ft(e.primaryKey);function n(i,o,a){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&eO(i),o.hasOwnProperty("item")&&o.type!=="array")throw b("SC2",{fieldName:i});if(o.hasOwnProperty("required")&&typeof o.required=="boolean")throw b("SC24",{fieldName:i});if(o.hasOwnProperty("ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw b("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw b("SC3",{fieldName:i});break;default:throw b("SC4",{fieldName:i})}var s=a.split(".").length>=2;if(s){if(o.primary)throw b("SC6",{path:a,primary:o.primary});if(o.default)throw b("SC7",{path:a})}if(!s){if(i==="_id"&&t!=="_id")throw b("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw b("SC8",{fieldName:i})}}}function r(i,o){!i||typeof i!="object"||Object.keys(i).forEach(a=>{var s=i[a];!i.properties&&s&&typeof s=="object"&&!Array.isArray(i)&&n(a,s,o);var c=o;a!=="properties"&&(c=c+"."+a),r(s,c)})}return r(e,""),!0}function nO(e){if(!e.primaryKey)throw b("SC30",{schema:e});function t(c){if(!c)throw b("SC33",{schema:e});var l=c.type;if(!l||!["string","number","integer"].includes(l))throw b("SC32",{schema:e,args:{schemaPart:c}})}if(typeof e.primaryKey=="string"){var n=e.primaryKey,r=e.properties[n];t(r)}else{var i=e.primaryKey,o=ke(e,i.key);t(o),i.fields.forEach(c=>{var l=ke(e,c);t(l)})}var a=Ft(e.primaryKey),s=e.properties[a];if(!s.maxLength)throw b("SC39",{schema:e,args:{primaryPathSchemaPart:s}})}function jv(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)t[r]!=="[]"?n=n.concat(".properties.".concat(t[r])):n=n.concat(".items");return Vr(n)}function Bv(e){if(!e.primaryKey)throw b("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw b("SC29",{schema:e});if(e.properties._rev)throw b("SC10",{schema:e});if(!e.hasOwnProperty("version")||typeof e.version!="number"||e.version<0)throw b("SC11",{version:e.version});if(rO(e),nO(e),Object.keys(e.properties).forEach(t=>{var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw b("SC13",{value:n,schema:e});if(n.unique)throw b("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw b("SC15",{value:n,schema:e});if(n.type!=="string")throw b("SC16",{value:n,schema:e})}if(fc().includes(t))throw b("SC17",{key:t,schema:e})}),e.indexes){if(!Qe(e.indexes))throw b("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw b("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var n=0;n<t.length;n+=1)if(typeof t[n]!="string")throw b("SC20",{index:t,schema:e})}var r=Qe(t)?t:[t];r.forEach(i=>{var o=ke(e,i),a=o.type;switch(a){case"string":var s=o.maxLength;if(!s)throw b("SC34",{index:t,field:i,schema:e});break;case"number":case"integer":var c=o.multipleOf;if(!c)throw b("SC35",{index:t,field:i,schema:e});var l=o.maximum,u=o.minimum;if(typeof l>"u"||typeof u>"u")throw b("SC37",{index:t,field:i,schema:e});break;case"boolean":var d="",f=i;if(i.includes(".")){var h=i.split(".");f=h.pop(),d=h.join(".")}var m=d===""?e:ke(e,d);if(!m.required||!m.required.includes(f))throw b("SC38",{index:t,field:i,schema:e});break;default:throw b("SC36",{fieldName:i,type:o.type,schema:e})}})})}Object.keys(bs(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!=="").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ie(e,t);return n&&!!n.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),b("SC26",{index:Vr(t),schema:e})}),(e.indexes||[]).reduce((t,n)=>(Qe(n)?Br(t,n):t.push(n),t),[]).filter((t,n,r)=>r.indexOf(t)===n).map(t=>{var n=jv(t),r=Ie(e,n);if(!r||typeof r!="object")throw b("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw b("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(bs(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ie(e,t);return n&&!!n.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),b("SC27",{index:Vr(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var n=jv(t),r=Ie(e,n);if(!r||typeof r!="object")throw b("SC28",{field:t,schema:e})})}function hc(e){e&&Object.entries(e).forEach(([t,n])=>{if(typeof t!="string")throw Nt("COL14",{name:t});if(t.startsWith("_"))throw Nt("COL15",{name:t});if(typeof n!="function")throw Nt("COL16",{name:t,type:typeof t});if(Lv().includes(t)||fc().includes(t))throw b("COL17",{name:t})})}function Uv(e,t){var n=Object.keys(e.properties);t&&Object.keys(t).filter(r=>n.includes(r)).forEach(r=>{throw b("COL18",{funName:r})})}function zv(e,t){if(typeof t!="object"||Array.isArray(t))throw Nt("COL11",{schema:e});var n=pg(e);if(n.length!==Object.keys(t).length)throw b("COL12",{have:Object.keys(t),should:n});return n.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw Nt("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function Vv(e){if(Fv().includes(e.name))throw b("DB5",{name:e.name});Kv(e.name)}function Wv(e){if(Kv(e.name),e.name.includes("$"))throw b("DB13",{name:e.name});if(Iu(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw b("DB11",{name:e.name})}var qv="^[a-z][_$a-z0-9\\-]*$",iO=new RegExp(qv);function Kv(e){if(typeof e!="string"||e.length===0)throw Nt("UT1",{name:e});if(Iu(e))return!0;if(!e.match(iO)&&e!==":memory:")throw b("UT2",{regex:qv,givenName:e});return!0}var pt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,It=Object.keys,Yt=Array.isArray;typeof Promise<"u"&&!pt.Promise&&(pt.Promise=Promise);function te(e,t){return typeof t!="object"||It(t).forEach(function(n){e[n]=t[n]}),e}var Ii=Object.getPrototypeOf,oO={}.hasOwnProperty;function Ee(e,t){return oO.call(e,t)}function Pi(e,t){typeof t=="function"&&(t=t(Ii(e))),(typeof Reflect>"u"?It:Reflect.ownKeys)(t).forEach(n=>{wr(e,n,t[n])})}var ob=Object.defineProperty;function wr(e,t,n,r){ob(e,t,te(n&&Ee(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ti(e){return{from:function(t){return e.prototype=Object.create(t.prototype),wr(e.prototype,"constructor",e),{extend:Pi.bind(null,e.prototype)}}}}var aO=Object.getOwnPropertyDescriptor;function wf(e,t){let n=aO(e,t),r;return n||(r=Ii(e))&&wf(r,t)}var sO=[].slice;function $c(e,t,n){return sO.call(e,t,n)}function ab(e,t){return t(e)}function ra(e){if(!e)throw new Error("Assertion Failed")}function sb(e){pt.setImmediate?setImmediate(e):setTimeout(e,0)}function cb(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function cO(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function xr(e,t){if(Ee(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=xr(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:xr(s,t.substr(a+1))}}function $e(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ra(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)$e(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")n===void 0?Yt(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var c=e[a];(!c||!Ee(e,a))&&(c=e[a]={}),$e(c,s,n)}}else n===void 0?Yt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function lO(e,t){typeof t=="string"?$e(e,t,void 0):"length"in t&&[].map.call(t,function(n){$e(e,n,void 0)})}function lb(e){var t={};for(var n in e)Ee(e,n)&&(t[n]=e[n]);return t}var uO=[].concat;function ub(e){return uO.apply([],e)}var db="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ub([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>pt[e]),dO=db.map(e=>pt[e]);cb(db,e=>[e,!0]);var Xr=null;function ha(e){Xr=typeof WeakMap<"u"&&new WeakMap;let t=Hd(e);return Xr=null,t}function Hd(e){if(!e||typeof e!="object")return e;let t=Xr&&Xr.get(e);if(t)return t;if(Yt(e)){t=[],Xr&&Xr.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Hd(e[n]))}else if(dO.indexOf(e.constructor)>=0)t=e;else{let o=Ii(e);t=o===Object.prototype?{}:Object.create(o),Xr&&Xr.set(e,t);for(var i in e)Ee(e,i)&&(t[i]=Hd(e[i]))}return t}var{toString:fO}={};function Yd(e){return fO.call(e).slice(8,-1)}var Gd=typeof Symbol<"u"?Symbol.iterator:"@@iterator",hO=typeof Gd=="symbol"?function(e){var t;return e!=null&&(t=e[Gd])&&t.apply(e)}:function(){return null},Ai={};function br(e){var t,n,r,i;if(arguments.length===1){if(Yt(e))return e.slice();if(this===Ai&&typeof e=="string")return[e];if(i=hO(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Sf=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1,rr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fb(e,t){rr=e,hb=t}var hb=()=>!0,pO=!new Error("").stack;function An(){if(pO)try{throw An.arguments,new Error}catch(e){return e}return new Error}function Qd(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(hb).map(r=>`
`+r).join("")):""}var mO=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],pb=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Cf=mO.concat(pb),gO={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Mi(e,t){this._e=An(),this.name=e,this.message=t}Ti(Mi).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Qd(this._e,2))}},toString:function(){return this.name+": "+this.message}});function mb(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Ec(e,t,n,r){this._e=An(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=mb(e,t)}Ti(Ec).from(Mi);function ia(e,t){this._e=An(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=mb(e,t)}Ti(ia).from(Mi);var Ef=Cf.reduce((e,t)=>(e[t]=t+"Error",e),{}),yO=Mi,L=Cf.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=An(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=gO[t]||n,this.inner=null)}return Ti(r).from(yO),e[t]=r,e},{});L.Syntax=SyntaxError;L.Type=TypeError;L.Range=RangeError;var Hv=pb.reduce((e,t)=>(e[t+"Error"]=L[t],e),{});function vO(e,t){if(!e||e instanceof Mi||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Hv[e.name])return e;var n=new Hv[e.name](t||e.message,e);return"stack"in e&&wr(n,"stack",{get:function(){return this.inner.stack}}),n}var Nc=Cf.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=L[t]),e),{});Nc.ModifyError=Ec;Nc.DexieError=Mi;Nc.BulkError=ia;function ft(){}function pa(e){return e}function bO(e,t){return e==null||e===pa?t:function(n){return t(e(n))}}function Rn(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function _O(e,t){return e===ft?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Rn(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Rn(i,this.onerror):i),o!==void 0?o:n}}function xO(e,t){return e===ft?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Rn(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Rn(r,this.onerror):r)}}function wO(e,t){return e===ft?t:function(n){var r=e.apply(this,arguments);te(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Rn(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Rn(o,this.onerror):o),r===void 0?a===void 0?void 0:a:te(r,a)}}function SO(e,t){return e===ft?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Rf(e,t){return e===ft?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var sa={},CO=100,EO=20,gb=100,[Xd,Rc,Zd]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Ii(e),e];let t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ii(t),e]})(),yb=Rc&&Rc.then,bc=Xd&&Xd.constructor,Of=!!Zd,Jd=!1,RO=Zd?()=>{Zd.then(pc)}:pt.setImmediate?setImmediate.bind(null,pc):pt.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{pc(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(pc,0)},ca=function(e,t){na.push([e,t]),Oc&&(RO(),Oc=!1)},tf=!0,Oc=!0,Cn=[],_c=[],ef=null,rf=pa,Di={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qv,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Qv(e[0],e[1])}catch{}})}},N=Di,na=[],En=0,xc=[];function T(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ft,this._lib=!1;var t=this._PSD=N;if(rr&&(this._stackHolder=An(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==sa)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&of(this,this._value);return}this._state=null,this._value=null,++t.ref,bb(this,e)}var nf={get:function(){var e=N,t=Ac;function n(r,i){var o=!e.global&&(e!==N||t!==Ac);let a=o&&!Sr();var s=new T((c,l)=>{Af(this,new vb(Ic(r,e,o,a),Ic(i,e,o,a),c,l,e))});return rr&&wb(s,this),s}return n.prototype=sa,n},set:function(e){wr(this,"then",e&&e.prototype===sa?nf:{get:function(){return e},set:nf.set})}};Pi(T.prototype,{then:nf,_then:function(e,t){Af(this,new vb(null,null,e,t,N))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):wc(r)):this.then(null,r=>r&&r.name===t?n(r):wc(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),wc(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Jd=!0;var e=xb(this,[],EO),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Jd=!1}}},timeout:function(e,t){return e<1/0?new T((n,r)=>{var i=setTimeout(()=>r(new L.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&wr(T.prototype,Symbol.toStringTag,"Dexie.Promise");Di.env=Sb();function vb(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}Pi(T,{all:function(){var e=br.apply(null,arguments).map(Dc);return new T(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>T.resolve(i).then(a=>{e[o]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof T)return e;if(e&&typeof e.then=="function")return new T((n,r)=>{e.then(n,r)});var t=new T(sa,!0,e);return wb(t,ef),t},reject:wc,race:function(){var e=br.apply(null,arguments).map(Dc);return new T((t,n)=>{e.map(r=>T.resolve(r).then(t,n))})},PSD:{get:()=>N,set:e=>N=e},totalEchoes:{get:()=>Ac},newPSD:Jr,usePSD:Ni,scheduler:{get:()=>ca,set:e=>{ca=e}},rejectionMapper:{get:()=>rf,set:e=>{rf=e}},follow:(e,t)=>new T((n,r)=>Jr((i,o)=>{var a=N;a.unhandleds=[],a.onunhandled=o,a.finalize=Rn(function(){AO(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,n,r))});bc&&(bc.allSettled&&wr(T,"allSettled",function(){let e=br.apply(null,arguments).map(Dc);return new T(t=>{e.length===0&&t([]);let n=e.length,r=new Array(n);e.forEach((i,o)=>T.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),bc.any&&typeof AggregateError<"u"&&wr(T,"any",function(){let e=br.apply(null,arguments).map(Dc);return new T((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length,i=new Array(r);e.forEach((o,a)=>T.resolve(o).then(s=>t(s),s=>{i[a]=s,--r||n(new AggregateError(i))}))})}));function bb(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ma();n&&typeof n.then=="function"?bb(e,(i,o)=>{n instanceof T?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,_b(e)),r&&ga()}},of.bind(null,e))}catch(n){of(e,n)}}function of(e,t){if(_c.push(t),e._state===null){var n=e._lib&&ma();t=rf(t),e._state=!1,e._value=t,rr&&t!==null&&typeof t=="object"&&!t._promise&&cO(()=>{var r=wf(t,"stack");t._promise=e,wr(t,"stack",{get:()=>Jd?r&&(r.get?r.get.apply(t):r.value):e.stack})}),DO(e),_b(e),n&&ga()}}function _b(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Af(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),En===0&&(++En,ca(()=>{--En===0&&Df()},[]))}function Af(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++En,ca(OO,[n,e,t])}function OO(e,t,n){try{ef=t;var r,i=t._value;t._state?r=e(i):(_c.length&&(_c=[]),r=e(i),_c.indexOf(i)===-1&&IO(t)),n.resolve(r)}catch(o){n.reject(o)}finally{ef=null,--En===0&&Df(),--n.psd.ref||n.psd.finalize()}}function xb(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=Qd(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return rr&&(r=Qd(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&xb(e._prev,t,n)),t}function wb(e,t){var n=t?t._numPrev+1:0;n<CO&&(e._prev=t,e._numPrev=n)}function pc(){ma()&&ga()}function ma(){var e=tf;return tf=!1,Oc=!1,e}function ga(){var e,t,n;do for(;na.length>0;)for(e=na,na=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(na.length>0);tf=!0,Oc=!0}function Df(){var e=Cn;Cn=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=xc.slice(0),n=t.length;n;)t[--n]()}function AO(e){function t(){e(),xc.splice(xc.indexOf(t),1)}xc.push(t),++En,ca(()=>{--En===0&&Df()},[])}function DO(e){Cn.some(t=>t._value===e._value)||Cn.push(e)}function IO(e){for(var t=Cn.length;t;)if(Cn[--t]._value===e._value){Cn.splice(t,1);return}}function wc(e){return new T(sa,!1,e)}function gt(e,t){var n=N;return function(){var r=ma(),i=N;try{return tn(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{tn(i,!1),r&&ga()}}}var Ht={awaits:0,echoes:0,id:0},PO=0,Sc=[],Ud=0,Ac=0,kO=0;function Jr(e,t,n,r){var i=N,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++kO;var a=Di.env;o.env=Of?{Promise:T,PromiseProp:{value:T,configurable:!0,writable:!0},all:T.all,race:T.race,allSettled:T.allSettled,any:T.any,resolve:T.resolve,reject:T.reject,nthen:Yv(a.nthen,o),gthen:Yv(a.gthen,o)}:{},t&&te(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ni(o,e,n,r);return o.ref===0&&o.finalize(),s}function $i(){return Ht.id||(Ht.id=++PO),++Ht.awaits,Ht.echoes+=gb,Ht.id}function Sr(){return Ht.awaits?(--Ht.awaits===0&&(Ht.id=0),Ht.echoes=Ht.awaits*gb,!0):!1}(""+yb).indexOf("[native code]")===-1&&($i=Sr=ft);function Dc(e){return Ht.echoes&&e&&e.constructor===bc?($i(),e.then(t=>(Sr(),t),t=>(Sr(),Tt(t)))):e}function TO(e){++Ac,(!Ht.echoes||--Ht.echoes===0)&&(Ht.echoes=Ht.id=0),Sc.push(N),tn(e,!0)}function MO(){var e=Sc[Sc.length-1];Sc.pop(),tn(e,!1)}function tn(e,t){var n=N;if((t?Ht.echoes&&(!Ud++||e!==N):Ud&&(!--Ud||e!==N))&&Cb(t?TO.bind(null,e):MO),e!==N&&(N=e,n===Di&&(Di.env=Sb()),Of)){var r=Di.env.Promise,i=e.env;Rc.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(pt,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Sb(){var e=pt.Promise;return Of?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(pt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Rc.then,gthen:e.prototype.then}:{}}function Ni(e,t,n,r,i){var o=N;try{return tn(e,!0),t(n,r,i)}finally{tn(o,!1)}}function Cb(e){yb.call(Xd,e)}function Ic(e,t,n,r){return typeof e!="function"?e:function(){var i=N;n&&$i(),tn(t,!0);try{return e.apply(this,arguments)}finally{tn(i,!1),r&&Cb(Sr)}}}function Yv(e,t){return function(n,r){return e.call(this,Ic(n,t),Ic(r,t))}}var Gv="unhandledrejection";function Qv(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(pt.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Gv,!0,!0),te(r,i)):pt.CustomEvent&&(r=new CustomEvent(Gv,{detail:i}),te(r,i)),r&&pt.dispatchEvent&&(dispatchEvent(r),!pt.PromiseRejectionEvent&&pt.onunhandledrejection))try{pt.onunhandledrejection(r)}catch{}rr&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Tt=T.reject;function af(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!N.letThrough&&!e._vip){if(e._state.openComplete)return Tt(new L.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Tt(new L.DatabaseClosed);e.open().catch(ft)}return e._state.dbReadyPromise.then(()=>af(e,t,n,r))}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Ef.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>af(e,t,n,r))):Tt(o)}return i._promise(t,(o,a)=>Jr(()=>(N.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}}var Xv="4.0.0-alpha.4",Sn=String.fromCharCode(65535),sf=-1/0,yr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Eb="String expected.",oa=[],Lc=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),$O=Lc,NO=Lc,Rb=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Fc="__dbnames",zd="readonly",Vd="readwrite";function On(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ob={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mc(e){return typeof e=="string"&&!/\./.test(e)?t=>(t[e]===void 0&&e in t&&(t=ha(t),delete t[e]),t):t=>t}function LO(){throw L.Type()}var cf=class{_trans(t,n,r){let i=this._tx||N.trans,o=this.name;function a(c,l,u){if(!u.schema[o])throw new L.NotFound("Table "+o+" not part of transaction");return n(u.idbtrans,u)}let s=ma();try{return i&&i.db===this.db?i===N.trans?i._promise(t,a,r):Jr(()=>i._promise(t,a,r),{trans:i,transless:N.transless||N}):af(this.db,t,[this.name],a)}finally{s&&ga()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Yt(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);let n=It(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);let r=this.schema.indexes.concat(this.schema.primKey).filter(l=>l.compound&&n.every(u=>l.keyPath.indexOf(u)>=0)&&l.keyPath.every(u=>n.indexOf(u)>=0))[0];if(r&&this.db._maxKey!==Sn)return this.where(r.name).equals(r.keyPath.map(l=>t[l]));!r&&rr&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);let{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(l,u){try{return o.cmp(l,u)===0}catch{return!1}}let[s,c]=n.reduce(([l,u],d)=>{let f=i[d],h=t[d];return[l||f,l||!f?On(u,f&&f.multi?m=>{let p=xr(m,d);return Yt(p)&&p.some(v=>a(h,v))}:m=>a(h,xr(m,d))):u]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Yt(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){let{db:n,name:r}=this;this.schema.mappedClass=t,t.prototype instanceof LO&&(t=class extends t{get db(){return n}table(){return r}});let i=new Set;for(let a=t.prototype;a;a=Ii(a))Object.getOwnPropertyNames(a).forEach(s=>i.add(s));let o=a=>{if(!a)return a;let s=Object.create(t.prototype);for(let c in a)if(!i.has(c))try{s[c]=a[c]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t}defineClass(){function t(n){te(this,n)}return this.mapToClass(t)}add(t,n){let{auto:r,keyPath:i}=this.schema.primKey,o=t;return i&&r&&(o=mc(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?T.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{$e(t,i,a)}catch{}return a})}update(t,n){if(typeof t=="object"&&!Yt(t)){let r=xr(t,this.schema.primKey.keyPath);if(r===void 0)return Tt(new L.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?It(n).forEach(i=>{$e(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)}put(t,n){let{auto:r,keyPath:i}=this.schema.primKey,o=t;return i&&r&&(o=mc(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?T.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{$e(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?T.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Ob})).then(t=>t.numFailures?T.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){let i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);let o=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:s,keyPath:c}=this.schema.primKey;if(c&&i)throw new L.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new L.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,u=c&&s?t.map(mc(c)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:u,wantResults:o}).then(({numFailures:d,results:f,lastResult:h,failures:m})=>{let p=o?f:h;if(d===0)return p;throw new ia(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,m)})})}bulkPut(t,n,r){let i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);let o=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:s,keyPath:c}=this.schema.primKey;if(c&&i)throw new L.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new L.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,u=c&&s?t.map(mc(c)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:u,wantResults:o}).then(({numFailures:d,results:f,lastResult:h,failures:m})=>{let p=o?f:h;if(d===0)return p;throw new ia(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,m)})})}bulkDelete(t){let n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new ia(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}};function ya(e){var t={},n=function(s,c){if(c){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return t[s].subscribe.apply(null,u),e}else if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,c,l){if(typeof s=="object")return a(s);c||(c=SO),l||(l=ft);var u={subscribers:[],fire:l,subscribe:function(d){u.subscribers.indexOf(d)===-1&&(u.subscribers.push(d),u.fire=c(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(f){return f!==d}),u.fire=u.subscribers.reduce(c,l)}};return t[s]=n[s]=u,u}function a(s){It(s).forEach(function(c){var l=s[c];if(Yt(l))o(c,s[c][0],s[c][1]);else if(l==="asap")var u=o(c,pa,function(){for(var f=arguments.length,h=new Array(f);f--;)h[f]=arguments[f];u.subscribers.forEach(function(m){sb(function(){m.apply(null,h)})})});else throw new L.InvalidArgument("Invalid event config")})}}function va(e,t){return Ti(t).from({prototype:e}),t}function FO(e){return va(cf.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:ya(null,{creating:[_O,ft],reading:[bO,pa],updating:[wO,ft],deleting:[xO,ft]})})}function Ri(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Wd(e,t){e.filter=On(e.filter,t)}function qd(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>On(r(),t()):t,e.justLimit=n&&!r}function jO(e,t){e.isMatch=On(e.isMatch,t)}function Cc(e,t){if(e.isPrimKey)return t.primaryKey;let n=t.getIndexByKeyPath(e.index);if(!n)throw new L.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Zv(e,t,n){let r=Cc(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function gc(e,t,n,r){let i=e.replayFilter?On(e.filter,e.replayFilter()):e.filter;if(e.or){let o={},a=(s,c,l)=>{if(!i||i(c,l,f=>c.stop(f),f=>c.fail(f))){var u=c.primaryKey,d=""+u;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(u)),Ee(o,d)||(o[d]=!0,t(s,c,l))}};return Promise.all([e.or._iterate(a,n),Jv(Zv(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return Jv(Zv(e,r,n),On(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Jv(e,t,n,r){var i=r?(a,s,c)=>n(r(a),s,c):n,o=gt(i);return e.then(a=>{if(a)return a.start(()=>{var s=()=>a.continue();(!t||t(a,c=>s=c,c=>{a.stop(c),s=ft},c=>{a.fail(c),s=ft}))&&o(a.value,a,c=>s=c),s()})})}function Jt(e,t){try{let n=tb(e),r=tb(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return UO(eb(e),eb(t));case"Array":return BO(e,t)}}catch{}return NaN}function BO(e,t){let n=e.length,r=t.length,i=n<r?n:r;for(let o=0;o<i;++o){let a=Jt(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function UO(e,t){let n=e.length,r=t.length,i=n<r?n:r;for(let o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function tb(e){let t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";let n=Yd(e);return n==="ArrayBuffer"?"binary":n}function eb(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var lf=class{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,Tt.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Tt.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=On(n.algorithm,t)}_iterate(t,n){return gc(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&te(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>gc(n,t,r,n.table.core))}count(t){return this._read(n=>{let r=this._ctx,i=r.table.core;if(Ri(r,!0))return i.count({trans:n,query:{index:Cc(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return gc(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){let r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(l,u){return u?a(l[r[u]],u-1):l[i]}var s=this._ctx.dir==="next"?1:-1;function c(l,u){var d=a(l,o),f=a(u,o);return d<f?-s:d>f?s:0}return this.toArray(function(l){return l.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Ri(r,!0)&&r.limit>0){let{valueMapper:i}=r,o=Cc(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}else{let i=[];return gc(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Ri(n)?qd(n,()=>{var r=t;return(i,o)=>r===0?!0:r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1)}):qd(n,()=>{var r=t;return()=>--r<0}),this)}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),qd(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return Wd(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){return Wd(this._ctx,function(n){return t(n.value)}),jO(this._ctx,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Ri(n,!0)&&n.limit>0)return this._read(i=>{var o=Cc(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Wd(this._ctx,function(i){var o=i.primaryKey.toString(),a=Ee(r,o);return r[o]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=It(t),a=o.length;i=function(p){for(var v=!1,g=0;g<a;++g){var x=o[g],y=t[x];xr(p,x)!==y&&($e(p,x,y),v=!0)}return v}}let s=n.table.core,{outbound:c,extractKey:l}=s.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[],f=0,h=[],m=(p,v)=>{let{failures:g,numFailures:x}=v;f+=p-x;for(let y of It(g))d.push(g[y])};return this.clone().primaryKeys().then(p=>{let v=g=>{let x=Math.min(u,p.length-g);return s.getMany({trans:r,keys:p.slice(g,g+x),cache:"immutable"}).then(y=>{let w=[],S=[],R=c?[]:null,C=[];for(let j=0;j<x;++j){let J=y[j],z={value:ha(J),primKey:p[g+j]};i.call(z,z.value,z)!==!1&&(z.value==null?C.push(p[g+j]):!c&&Jt(l(J),l(z.value))!==0?(C.push(p[g+j]),w.push(z.value)):(S.push(z.value),c&&R.push(p[g+j])))}let A=Ri(n)&&n.limit===1/0&&(typeof t!="function"||t===Kd)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&s.mutate({trans:r,type:"add",values:w}).then(j=>{for(let J in j.failures)C.splice(parseInt(J),1);m(w.length,j)})).then(()=>(S.length>0||A&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:R,values:S,criteria:A,changeSpec:typeof t!="function"&&t}).then(j=>m(S.length,j))).then(()=>(C.length>0||A&&t===Kd)&&s.mutate({trans:r,type:"delete",keys:C,criteria:A}).then(j=>m(C.length,j))).then(()=>p.length>g+x&&v(g+u))})};return v(0).then(()=>{if(d.length>0)throw new Ec("Error modifying one or more objects",d,f,h);return p.length})})})}delete(){var t=this._ctx,n=t.range;return Ri(t)&&(t.isPrimKey&&!NO||n.type===3)?this._write(r=>{let{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:s,lastResult:c,results:l,numFailures:u})=>{if(u)throw new Ec("Could not delete some values",Object.keys(s).map(d=>s[d]),a-u);return a-u}))}):this.modify(Kd)}},Kd=(e,t)=>t.value=null;function zO(e){return va(lf.prototype,function(n,r){this.db=e;let i=Ob,o=null;if(r)try{i=r()}catch(l){o=l}let a=n._ctx,s=a.table,c=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:c!==pa?c:null}})}function VO(e,t){return e<t?-1:e===t?0:1}function WO(e,t){return e>t?-1:e===t?0:1}function ye(e,t,n){var r=e instanceof Pc?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Oi(e){return new e.Collection(e,()=>Ab("")).limit(0)}function qO(e){return e==="next"?t=>t.toUpperCase():t=>t.toLowerCase()}function KO(e){return e==="next"?t=>t.toLowerCase():t=>t.toUpperCase()}function HO(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,c=0;c<a;++c){var l=t[c];if(l!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[c],l)<0&&(s=c)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function yc(e,t,n,r){var i,o,a,s,c,l,u,d=n.length;if(!n.every(p=>typeof p=="string"))return ye(e,Eb);function f(p){i=qO(p),o=KO(p),a=p==="next"?VO:WO;var v=n.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,x){return a(g.lower,x.lower)});s=v.map(function(g){return g.upper}),c=v.map(function(g){return g.lower}),l=p,u=p==="next"?"":r}f("next");var h=new e.Collection(e,()=>Qr(s[0],c[d-1]+r));h._ondirectionchange=function(p){f(p)};var m=0;return h._addAlgorithm(function(p,v,g){var x=p.key;if(typeof x!="string")return!1;var y=o(x);if(t(y,c,m))return!0;for(var w=null,S=m;S<d;++S){var R=HO(x,y,s[S],c[S],a,l);R===null&&w===null?m=S+1:(w===null||a(w,R)>0)&&(w=R)}return v(w!==null?function(){p.continue(w+u)}:g),!1}),h}function Qr(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ab(e){return{type:1,lower:e,upper:e}}var Pc=class{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Oi(this):new this.Collection(this,()=>Qr(t,n,!r,!i))}catch{return ye(this,yr)}}equals(t){return t==null?ye(this,yr):new this.Collection(this,()=>Ab(t))}above(t){return t==null?ye(this,yr):new this.Collection(this,()=>Qr(t,void 0,!0))}aboveOrEqual(t){return t==null?ye(this,yr):new this.Collection(this,()=>Qr(t,void 0,!1))}below(t){return t==null?ye(this,yr):new this.Collection(this,()=>Qr(void 0,t,!1,!0))}belowOrEqual(t){return t==null?ye(this,yr):new this.Collection(this,()=>Qr(void 0,t))}startsWith(t){return typeof t!="string"?ye(this,Eb):this.between(t,t+Sn,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):yc(this,(n,r)=>n.indexOf(r[0])===0,[t],Sn)}equalsIgnoreCase(t){return yc(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=br.apply(Ai,arguments);return t.length===0?Oi(this):yc(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=br.apply(Ai,arguments);return t.length===0?Oi(this):yc(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Sn)}anyOf(){let t=br.apply(Ai,arguments),n=this._cmp;try{t.sort(n)}catch{return ye(this,yr)}if(t.length===0)return Oi(this);let r=new this.Collection(this,()=>Qr(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,a,s)=>{let c=o.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return a(s),!1;return n(c,t[i])===0?!0:(a(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[sf,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let t=br.apply(Ai,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return ye(this,yr)}let n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[sf,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){let r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(t.length===0)return Oi(this);if(!t.every(w=>w[0]!==void 0&&w[1]!==void 0&&i(w[0],w[1])<=0))return ye(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",L.InvalidArgument);let c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;function u(w,S){let R=0,C=w.length;for(;R<C;++R){let A=w[R];if(r(S[0],A[1])<0&&r(S[1],A[0])>0){A[0]=a(A[0],S[0]),A[1]=s(A[1],S[1]);break}}return R===C&&w.push(S),w}let d=i;function f(w,S){return d(w[0],S[0])}let h;try{h=t.reduce(u,[]),h.sort(f)}catch{return ye(this,yr)}let m=0,p=l?w=>i(w,h[m][1])>0:w=>i(w,h[m][1])>=0,v=c?w=>o(w,h[m][0])>0:w=>o(w,h[m][0])>=0;function g(w){return!p(w)&&!v(w)}let x=p,y=new this.Collection(this,()=>Qr(h[0][0],h[h.length-1][1],!c,!l));return y._ondirectionchange=w=>{w==="next"?(x=p,d=i):(x=v,d=o),h.sort(f)},y._addAlgorithm((w,S,R)=>{for(var C=w.key;x(C);)if(++m,m===h.length)return S(R),!1;return g(C)?!0:(this._cmp(C,h[m][1])===0||this._cmp(C,h[m][0])===0||S(()=>{d===i?w.continue(h[m][0]):w.continue(h[m][1])}),!1)}),y}startsWithAnyOf(){let t=br.apply(Ai,arguments);return t.every(n=>typeof n=="string")?t.length===0?Oi(this):this.inAnyRange(t.map(n=>[n,n+Sn])):ye(this,"startsWithAnyOf() only works with strings")}};function YO(e){return va(Pc.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};let o=e._deps.indexedDB;if(!o)throw new L.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(a,s)=>o.cmp(s,a),this._max=(a,s)=>o.cmp(a,s)>0?a:s,this._min=(a,s)=>o.cmp(a,s)<0?a:s,this._IDBKeyRange=e._deps.IDBKeyRange})}function er(e){return gt(function(t){return la(t),e(t.target.error),!1})}function la(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var ua="storagemutated",Zr="x-storagemutated-1",en=ya(null,ua),uf=class{_lock(){return ra(!N.global),++this._reculock,this._reculock===1&&!N.global&&(N.lockOwnerFor=this),this}_unlock(){if(ra(!N.global),--this._reculock===0)for(N.global||(N.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ni(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&N.lockOwnerFor!==this}create(t){if(!this.mode)return this;let n=this.db.idbdb,r=this.db._state.dbOpenError;if(ra(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new L.DatabaseClosed(r);case"MissingAPIError":throw new L.MissingAPI(r.message,r);default:throw new L.OpenFailed(r)}if(!this.active)throw new L.TransactionInactive;return ra(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=gt(i=>{la(i),this._reject(t.error)}),t.onabort=gt(i=>{la(i),this.active&&this._reject(new L.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=gt(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&en.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return Tt(new L.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new L.TransactionInactive);if(this._locked())return new T((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,a)},N])});if(r)return Jr(()=>{var o=new T((a,s)=>{this._lock();let c=n(a,s,this);c&&c.then&&c.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new T((o,a)=>{var s=n(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();let r=T.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new T((a,s)=>{r.then(c=>n._waitingQueue.push(gt(a.bind(null,c))),c=>n._waitingQueue.push(gt(s.bind(null,c)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new L.Abort))}table(t){let n=this._memoizedTables||(this._memoizedTables={});if(Ee(n,t))return n[t];let r=this.schema[t];if(!r)throw new L.NotFound("Table "+t+" not part of transaction");let i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}};function GO(e){return va(uf.prototype,function(n,r,i,o,a){this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=ya(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new T((s,c)=>{this._resolve=s,this._reject=c}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},s=>{var c=this.active;return this.active=!1,this.on.error.fire(s),this.parent?this.parent._reject(s):c&&this.idbtrans&&this.idbtrans.abort(),Tt(s)})})}function df(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Db(t)}}function Db(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ib(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:cb(n,r=>[r.name,r])}}function QO(e){return e.length===1?e[0]:e}var da=e=>{try{return e.only([[]]),da=()=>[[]],[[]]}catch{return da=()=>Sn,Sn}};function ff(e){return e==null?()=>{}:typeof e=="string"?XO(e):t=>xr(t,e)}function XO(e){return e.split(".").length===1?n=>n[e]:n=>xr(n,e)}function rb(e){return[].slice.call(e)}var ZO=0;function aa(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function JO(e,t,n){function r(u,d){let f=rb(u.objectStoreNames);return{schema:{name:u.name,tables:f.map(h=>d.objectStore(h)).map(h=>{let{keyPath:m,autoIncrement:p}=h,v=Yt(m),g=m==null,x={},y={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g,compound:v,keyPath:m,autoIncrement:p,unique:!0,extractKey:ff(m)},indexes:rb(h.indexNames).map(w=>h.index(w)).map(w=>{let{name:S,unique:R,multiEntry:C,keyPath:A}=w,j=Yt(A),J={name:S,compound:j,keyPath:A,unique:R,multiEntry:C,extractKey:ff(A)};return x[aa(A)]=J,J}),getIndexByKeyPath:w=>x[aa(w)]};return x[":id"]=y.primaryKey,m!=null&&(x[aa(m)]=y.primaryKey),y})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:d,upper:f,lowerOpen:h,upperOpen:m}=u;return d===void 0?f===void 0?null:t.upperBound(f,!!m):f===void 0?t.lowerBound(d,!!h):t.bound(d,f,!!h,!!m)}function o(u){let d=u.name;function f({trans:p,type:v,keys:g,values:x,range:y}){return new Promise((w,S)=>{w=gt(w);let R=p.objectStore(d),C=R.keyPath==null,A=v==="put"||v==="add";if(!A&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);let{length:j}=g||x||{length:1};if(g&&x&&g.length!==x.length)throw new Error("Given keys array must have same length as given values array.");if(j===0)return w({numFailures:0,failures:{},results:[],lastResult:void 0});let J,z=[],yt=[],B=0,Mt=ut=>{++B,la(ut)};if(v==="deleteRange"){if(y.type===4)return w({numFailures:B,failures:yt,results:[],lastResult:void 0});y.type===3?z.push(J=R.clear()):z.push(J=R.delete(i(y)))}else{let[ut,vt]=A?C?[x,g]:[x,null]:[g,null];if(A)for(let bt=0;bt<j;++bt)z.push(J=vt&&vt[bt]!==void 0?R[v](ut[bt],vt[bt]):R[v](ut[bt])),J.onerror=Mt;else for(let bt=0;bt<j;++bt)z.push(J=R[v](ut[bt])),J.onerror=Mt}let xt=ut=>{let vt=ut.target.result;z.forEach((bt,Ne)=>bt.error!=null&&(yt[Ne]=bt.error)),w({numFailures:B,failures:yt,results:v==="delete"?g:z.map(bt=>bt.result),lastResult:vt})};J.onerror=ut=>{Mt(ut),xt(ut)},J.onsuccess=xt})}function h({trans:p,values:v,query:g,reverse:x,unique:y}){return new Promise((w,S)=>{w=gt(w);let{index:R,range:C}=g,A=p.objectStore(d),j=R.isPrimaryKey?A:A.index(R.name),J=x?y?"prevunique":"prev":y?"nextunique":"next",z=v||!("openKeyCursor"in j)?j.openCursor(i(C),J):j.openKeyCursor(i(C),J);z.onerror=er(S),z.onsuccess=gt(yt=>{let B=z.result;if(!B){w(null);return}B.___id=++ZO,B.done=!1;let Mt=B.continue.bind(B),xt=B.continuePrimaryKey;xt&&(xt=xt.bind(B));let ut=B.advance.bind(B),vt=()=>{throw new Error("Cursor not started")},bt=()=>{throw new Error("Cursor not stopped")};B.trans=p,B.stop=B.continue=B.continuePrimaryKey=B.advance=vt,B.fail=gt(S),B.next=function(){let Ne=1;return this.start(()=>Ne--?this.continue():this.stop()).then(()=>this)},B.start=Ne=>{let Ma=new Promise(($t,sn)=>{$t=gt($t),z.onerror=er(sn),B.fail=sn,B.stop=ul=>{B.stop=B.continue=B.continuePrimaryKey=B.advance=bt,$t(ul)}}),Ut=()=>{if(z.result)try{Ne()}catch($t){B.fail($t)}else B.done=!0,B.start=()=>{throw new Error("Cursor behind last entry")},B.stop()};return z.onsuccess=gt($t=>{z.onsuccess=Ut,Ut()}),B.continue=Mt,B.continuePrimaryKey=xt,B.advance=ut,Ut(),Ma},w(B)},S)})}function m(p){return v=>new Promise((g,x)=>{g=gt(g);let{trans:y,values:w,limit:S,query:R}=v,C=S===1/0?void 0:S,{index:A,range:j}=R,J=y.objectStore(d),z=A.isPrimaryKey?J:J.index(A.name),yt=i(j);if(S===0)return g({result:[]});if(p){let B=w?z.getAll(yt,C):z.getAllKeys(yt,C);B.onsuccess=Mt=>g({result:Mt.target.result}),B.onerror=er(x)}else{let B=0,Mt=w||!("openKeyCursor"in z)?z.openCursor(yt):z.openKeyCursor(yt),xt=[];Mt.onsuccess=ut=>{let vt=Mt.result;if(!vt)return g({result:xt});if(xt.push(w?vt.value:vt.primaryKey),++B===S)return g({result:xt});vt.continue()},Mt.onerror=er(x)}})}return{name:d,schema:u,mutate:f,getMany({trans:p,keys:v}){return new Promise((g,x)=>{g=gt(g);let y=p.objectStore(d),w=v.length,S=new Array(w),R=0,C=0,A,j=z=>{let yt=z.target;(S[yt._pos]=yt.result)!=null,++C===R&&g(S)},J=er(x);for(let z=0;z<w;++z)v[z]!=null&&(A=y.get(v[z]),A._pos=z,A.onsuccess=j,A.onerror=J,++R);R===0&&g(S)})},get({trans:p,key:v}){return new Promise((g,x)=>{g=gt(g);let w=p.objectStore(d).get(v);w.onsuccess=S=>g(S.target.result),w.onerror=er(x)})},query:m(s),openCursor:h,count({query:p,trans:v}){let{index:g,range:x}=p;return new Promise((y,w)=>{let S=v.objectStore(d),R=g.isPrimaryKey?S:S.index(g.name),C=i(x),A=C?R.count(C):R.count();A.onsuccess=gt(j=>y(j.target.result)),A.onerror=er(w)})}}}let{schema:a,hasGetAll:s}=r(e,n),c=a.tables.map(u=>o(u)),l={};return c.forEach(u=>l[u.name]=u),{stack:"dbcore",transaction:e.transaction.bind(e),table(u){if(!l[u])throw new Error(`Table '${u}' not found`);return l[u]},MIN_KEY:-1/0,MAX_KEY:da(t),schema:a}}function tA(e,t){return t.reduce((n,{create:r})=>E(E({},n),r(n)),e)}function eA(e,t,{IDBKeyRange:n,indexedDB:r},i){return{dbcore:tA(JO(t,n,i),e.dbcore)}}function If({_novip:e},t){let n=t.db,r=eA(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{let o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function kc({_novip:e},t,n,r){n.forEach(i=>{let o=r[i];t.forEach(a=>{let s=wf(a,i);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?wr(a,i,{get(){return this.table(i)},set(c){ob(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function hf({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function rA(e,t){return e._cfg.version-t._cfg.version}function nA(e,t,n,r){let i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);let a=o._reject.bind(o),s=N.transless||N;Jr(()=>{N.trans=o,N.transless=s,t===0?(It(i).forEach(c=>{Pf(n,c,i[c].primKey,i[c].indexes)}),If(e,n),T.follow(()=>e.on.populate.fire(o)).catch(a)):iA(e,t,o,n).catch(a)})}function iA({_novip:e},t,n,r){let i=[],o=e._versions,a=e._dbSchema=kf(e,e.idbdb,r),s=!1;o.filter(u=>u._cfg.version>=t).forEach(u=>{i.push(()=>{let d=a,f=u._cfg.dbschema;mf(e,d,r),mf(e,f,r),a=e._dbSchema=f;let h=Pb(d,f);h.add.forEach(p=>{Pf(r,p[0],p[1].primKey,p[1].indexes)}),h.change.forEach(p=>{if(p.recreate)throw new L.Upgrade("Not yet support for changing primary key");{let v=r.objectStore(p.name);p.add.forEach(g=>pf(v,g)),p.change.forEach(g=>{v.deleteIndex(g.name),pf(v,g)}),p.del.forEach(g=>v.deleteIndex(g))}});let m=u._cfg.contentUpgrade;if(m&&u._cfg.version>t){If(e,r),n._memoizedTables={},s=!0;let p=lb(f);h.del.forEach(y=>{p[y]=d[y]}),hf(e,[e.Transaction.prototype]),kc(e,[e.Transaction.prototype],It(p),p),n.schema=p;let v=Sf(m);v&&$i();let g,x=T.follow(()=>{if(g=m(n),g&&v){var y=Sr.bind(null,null);g.then(y,y)}});return g&&typeof g.then=="function"?T.resolve(g):x.then(()=>g)}}),i.push(d=>{if(!s||!$O){let f=u._cfg.dbschema;aA(f,d)}hf(e,[e.Transaction.prototype]),kc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema})});function l(){return i.length?T.resolve(i.shift()(n.idbtrans)).then(l):T.resolve()}return l().then(()=>{oA(a,r)})}function Pb(e,t){let n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){let i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{let a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Lc)a.recreate=!0,n.change.push(a);else{let s=i.idxByName,c=o.idxByName,l;for(l in s)c[l]||a.del.push(l);for(l in c){let u=s[l],d=c[l];u?u.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function Pf(e,t,n,r){let i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>pf(i,o)),i}function oA(e,t){It(e).forEach(n=>{t.db.objectStoreNames.contains(n)||Pf(t,n,e[n].primKey,e[n].indexes)})}function aA(e,t){[].slice.call(t.db.objectStoreNames).forEach(n=>e[n]==null&&t.db.deleteObjectStore(n))}function pf(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function kf(e,t,n){let r={};return $c(t.objectStoreNames,0).forEach(o=>{let a=n.objectStore(o),s=a.keyPath,c=df(Db(s),s||"",!1,!1,!!a.autoIncrement,s&&typeof s!="string",!0),l=[];for(let d=0;d<a.indexNames.length;++d){let f=a.index(a.indexNames[d]);s=f.keyPath;var u=df(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);l.push(u)}r[o]=Ib(o,c,l)}),r}function sA({_novip:e},t,n){e.verno=t.version/10;let r=e._dbSchema=kf(e,t,n);e._storeNames=$c(t.objectStoreNames,0),kc(e,[e._allTables],It(r),r)}function cA(e,t){let n=kf(e,e.idbdb,t),r=Pb(n,e._dbSchema);return!(r.add.length||r.change.some(i=>i.add.length||i.change.length))}function mf({_novip:e},t,n){let r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){let o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){let c=a.indexNames[s],l=a.index(c).keyPath,u=typeof l=="string"?l:"["+$c(l).join("+")+"]";if(t[o]){let d=t[o].idxByName[u];d&&(d.name=c,delete t[o].idxByName[u],t[o].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&pt.WorkerGlobalScope&&pt instanceof pt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function lA(e){return e.split(",").map((t,n)=>{t=t.trim();let r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return df(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Yt(i),n===0)})}var gf=class{_parseStoresSpec(t,n){It(t).forEach(r=>{if(t[r]!==null){var i=lA(t[r]),o=i.shift();if(o.multi)throw new L.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new L.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new L.Schema("Index must have a name and cannot be an empty string")}),n[r]=Ib(r,o,i)}})}stores(t){let n=this.db;this._cfg.storesSource=this._cfg.storesSource?te(this._cfg.storesSource,t):t;let r=n._versions,i={},o={};return r.forEach(a=>{te(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,hf(n,[n._allTables,n,n.Transaction.prototype]),kc(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],It(o),o),n._storeNames=It(o),this}upgrade(t){return this._cfg.contentUpgrade=Rf(this._cfg.contentUpgrade||ft,t),this}};function uA(e){return va(gf.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Tf(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ki(Fc,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Mf(e){return e&&typeof e.databases=="function"}function dA({indexedDB:e,IDBKeyRange:t}){return Mf(e)?Promise.resolve(e.databases()).then(n=>n.map(r=>r.name).filter(r=>r!==Fc)):Tf(e,t).toCollection().primaryKeys()}function fA({indexedDB:e,IDBKeyRange:t},n){!Mf(e)&&n!==Fc&&Tf(e,t).put({name:n}).catch(ft)}function hA({indexedDB:e,IDBKeyRange:t},n){!Mf(e)&&n!==Fc&&Tf(e,t).delete(n).catch(ft)}function yf(e){return Jr(function(){return N.letThrough=!0,e()})}function pA(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function mA(e){let t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Tt(t.dbOpenError):e);rr&&(t.openCanceller._stackHolder=An()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;let r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new L.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return T.race([r,(typeof navigator>"u"?T.resolve():pA()).then(()=>new T((c,l)=>{if(i(),!n)throw new L.MissingAPI;let u=e.name,d=t.autoSchema?n.open(u):n.open(u,Math.round(e.verno*10));if(!d)throw new L.MissingAPI;d.onerror=er(l),d.onblocked=gt(e._fireOnBlocked),d.onupgradeneeded=gt(f=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=la,a.abort(),d.result.close();let m=n.deleteDatabase(u);m.onsuccess=m.onerror=gt(()=>{l(new L.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{a.onerror=er(l);var h=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;s=h<1,e._novip.idbdb=d.result,nA(e,h/10,a,l)}},l),d.onsuccess=gt(()=>{a=null;let f=e._novip.idbdb=d.result,h=$c(f.objectStoreNames);if(h.length>0)try{let m=f.transaction(QO(h),"readonly");t.autoSchema?sA(e,f,m):(mf(e,e._dbSchema,m),cA(e,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),If(e,m)}catch{}oa.push(e),f.onversionchange=gt(m=>{t.vcFired=!0,e.on("versionchange").fire(m)}),f.onclose=gt(m=>{e.on("close").fire(m)}),s&&fA(e._deps,u),c()},l)}))]).then(()=>(i(),t.onReadyBeingFired=[],T.resolve(yf(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let l=t.onReadyBeingFired.reduce(Rf,ft);return t.onReadyBeingFired=[],T.resolve(yf(()=>l(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),Tt(c)}).finally(()=>{t.openComplete=!0,o()})}function vf(e){var t=a=>e.next(a),n=a=>e.throw(a),r=o(t),i=o(n);function o(a){return s=>{var c=a(s),l=c.value;return c.done?l:!l||typeof l.then!="function"?Yt(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return o(t)()}function gA(e,t,n){var r=arguments.length;if(r<2)throw new L.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=ub(i);return[e,o,n]}function kb(e,t,n,r,i){return T.resolve().then(()=>{let o=N.transless||N,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===Ef.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>kb(e,t,n,null,i))):Tt(d)}let c=Sf(i);c&&$i();let l,u=T.follow(()=>{if(l=i.call(a,a),l)if(c){var d=Sr.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=vf(l))},s);return(l&&typeof l.then=="function"?T.resolve(l).then(d=>a.active?d:Tt(new L.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>l)).then(d=>(r&&a._resolve(),a._completion.then(()=>d))).catch(d=>(a._reject(d),Tt(d)))})}function vc(e,t,n){let r=Yt(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}function yA(e){return G(E({},e),{table(t){let n=e.table(t),{schema:r}=n,i={},o=[];function a(f,h,m){let p=aa(f),v=i[p]=i[p]||[],g=f==null?0:typeof f=="string"?1:f.length,x=h>0,y=G(E({},m),{isVirtual:x,keyTail:h,keyLength:g,extractKey:ff(f),unique:!x&&m.unique});if(v.push(y),y.isPrimaryKey||o.push(y),g>1){let w=g===2?f[0]:f.slice(0,g-1);a(w,h+1,m)}return v.sort((w,S)=>w.keyTail-S.keyTail),y}let s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(let f of r.indexes)a(f.keyPath,0,f);function c(f){let h=i[aa(f)];return h&&h[0]}function l(f,h){return{type:f.type===1?2:f.type,lower:vc(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,h),lowerOpen:!0,upper:vc(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,h),upperOpen:!0}}function u(f){let h=f.query.index;return h.isVirtual?G(E({},f),{query:{index:h,range:l(f.query.range,h.keyTail)}}):f}return G(E({},n),{schema:G(E({},r),{primaryKey:s,indexes:o,getIndexByKeyPath:c}),count(f){return n.count(u(f))},query(f){return n.query(u(f))},openCursor(f){let{keyTail:h,isVirtual:m,keyLength:p}=f.query.index;if(!m)return n.openCursor(f);function v(g){function x(w){w!=null?g.continue(vc(w,f.reverse?e.MAX_KEY:e.MIN_KEY,h)):f.unique?g.continue(g.key.slice(0,p).concat(f.reverse?e.MIN_KEY:e.MAX_KEY,h)):g.continue()}return Object.create(g,{continue:{value:x},continuePrimaryKey:{value(w,S){g.continuePrimaryKey(vc(w,e.MAX_KEY,h),S)}},primaryKey:{get(){return g.primaryKey}},key:{get(){let w=g.key;return p===1?w[0]:w.slice(0,p)}},value:{get(){return g.value}}})}return n.openCursor(u(f)).then(g=>g&&v(g))}})}})}var vA={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:yA};function $f(e,t,n,r){return n=n||{},r=r||"",It(e).forEach(i=>{if(!Ee(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){let s=Yd(o),c=Yd(a);s!==c?n[r+i]=t[i]:s==="Object"?$f(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),It(t).forEach(i=>{Ee(e,i)||(n[r+i]=t[i])}),n}function bA(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var _A={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>G(E({},e),{table(t){let n=e.table(t),{primaryKey:r}=n.schema;return G(E({},n),{mutate(o){let a=N.trans,{deleting:s,creating:c,updating:l}=a.table(t).hook;switch(o.type){case"add":if(c.fire===ft)break;return a._promise("readwrite",()=>u(o),!0);case"put":if(c.fire===ft&&l.fire===ft)break;return a._promise("readwrite",()=>u(o),!0);case"delete":if(s.fire===ft)break;return a._promise("readwrite",()=>u(o),!0);case"deleteRange":if(s.fire===ft)break;return a._promise("readwrite",()=>d(o),!0)}return n.mutate(o);function u(h){let m=N.trans,p=h.keys||bA(r,h);if(!p)throw new Error("Keys missing");return h=h.type==="add"||h.type==="put"?G(E({},h),{keys:p}):E({},h),h.type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),xA(n,h,p).then(v=>{let g=p.map((x,y)=>{let w=v[y],S={onerror:null,onsuccess:null};if(h.type==="delete")s.fire.call(S,x,w,m);else if(h.type==="add"||w===void 0){let R=c.fire.call(S,x,h.values[y],m);x==null&&R!=null&&(x=R,h.keys[y]=x,r.outbound||$e(h.values[y],r.keyPath,x))}else{let R=$f(w,h.values[y]),C=l.fire.call(S,R,x,w,m);if(C){let A=h.values[y];Object.keys(C).forEach(j=>{Ee(A,j)?A[j]=C[j]:$e(A,j,C[j])})}}return S});return n.mutate(h).then(({failures:x,results:y,numFailures:w,lastResult:S})=>{for(let R=0;R<p.length;++R){let C=y?y[R]:p[R],A=g[R];C==null?A.onerror&&A.onerror(x[R]):A.onsuccess&&A.onsuccess(h.type==="put"&&v[R]?h.values[R]:C)}return{failures:x,results:y,numFailures:w,lastResult:S}}).catch(x=>(g.forEach(y=>y.onerror&&y.onerror(x)),Promise.reject(x)))})}function d(h){return f(h.trans,h.range,1e4)}function f(h,m,p){return n.query({trans:h,values:!1,query:{index:r,range:m},limit:p}).then(({result:v})=>u({type:"delete",keys:v,trans:h}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):v.length<p?{failures:[],numFailures:0,lastResult:void 0}:f(h,G(E({},m),{lower:v[v.length-1],lowerOpen:!0}),p)))}}})}})};function xA(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function Tb(e,t,n){try{if(!t||t.keys.length<e.length)return null;let r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)Jt(t.keys[i],e[o])===0&&(r.push(n?ha(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var wA={stack:"dbcore",level:-1,create:e=>({table:t=>{let n=e.table(t);return G(E({},n),{getMany:r=>{if(!r.cache)return n.getMany(r);let i=Tb(r.keys,r.trans._cache,r.cache==="clone");return i?T.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?ha(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))})}})};function Nf(e){return!("from"in e)}var vr=function(e,t){if(this)te(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{let n=new vr;return e&&"d"in e&&te(n,e),n}};Pi(vr.prototype,{add(e){return Tc(this,e),this},addKey(e){return fa(this,e,e),this},addKeys(e){return e.forEach(t=>fa(this,t,t)),this},[Gd](){return bf(this)}});function fa(e,t,n){let r=Jt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Nf(e))return te(e,{from:t,to:n,d:1});let i=e.l,o=e.r;if(Jt(n,e.from)<0)return i?fa(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},nb(e);if(Jt(t,e.to)>0)return o?fa(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},nb(e);Jt(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Jt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);let a=!e.r;i&&!e.l&&Tc(e,i),o&&a&&Tc(e,o)}function Tc(e,t){function n(r,{from:i,to:o,l:a,r:s}){fa(r,i,o),a&&n(r,a),s&&n(r,s)}Nf(t)||n(e,t)}function SA(e,t){let n=bf(t),r=n.next();if(r.done)return!1;let i=r.value,o=bf(e),a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(Jt(s.from,i.to)<=0&&Jt(s.to,i.from)>=0)return!0;Jt(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function bf(e){let t=Nf(e)?null:{s:0,n:e};return{next(n){let r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Jt(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Jt(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function nb(e){var t,n;let r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){let o=i==="r"?"l":"r",a=E({},e),s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=ib(a)}e.d=ib(e)}function ib({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}var CA={stack:"dbcore",level:0,create:e=>{let t=e.schema.name,n=new vr(e.MIN_KEY,e.MAX_KEY);return G(E({},e),{table:r=>{let i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:c}=a,l=G(E({},i),{mutate:f=>{let h=f.trans,m=h.mutatedParts||(h.mutatedParts={}),p=R=>{let C=`idb://${t}/${r}/${R}`;return m[C]||(m[C]=new vr)},v=p(""),g=p(":dels"),{type:x}=f,[y,w]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],S=f.trans._cache;return i.mutate(f).then(R=>{if(Yt(y)){x!=="delete"&&(y=R.results),v.addKeys(y);let C=Tb(y,S);!C&&x!=="add"&&g.addKeys(y),(C||w)&&EA(p,o,C,w)}else if(y){let C={from:y.lower,to:y.upper};g.add(C),v.add(C)}else v.add(n),g.add(n),o.indexes.forEach(C=>p(C.name).add(n));return R})}}),u=({query:{index:f,range:h}})=>{var m,p;return[f,new vr((m=h.lower)!==null&&m!==void 0?m:e.MIN_KEY,(p=h.upper)!==null&&p!==void 0?p:e.MAX_KEY)]},d={get:f=>[a,new vr(f.key)],getMany:f=>[a,new vr().addKeys(f.keys)],count:u,query:u,openCursor:u};return It(d).forEach(f=>{l[f]=function(h){let{subscr:m}=N;if(m){let p=w=>{let S=`idb://${t}/${r}/${w}`;return m[S]||(m[S]=new vr)},v=p(""),g=p(":dels"),[x,y]=d[f](h);if(p(x.name||"").add(y),!x.isPrimaryKey)if(f==="count")g.add(n);else{let w=f==="query"&&c&&h.values&&i.query(G(E({},h),{values:!1}));return i[f].apply(this,arguments).then(S=>{if(f==="query"){if(c&&h.values)return w.then(({result:C})=>(v.addKeys(C),S));let R=h.values?S.result.map(s):S.result;h.values?v.addKeys(R):g.addKeys(R)}else if(f==="openCursor"){let R=S,C=h.values;return R&&Object.create(R,{key:{get(){return g.addKey(R.primaryKey),R.key}},primaryKey:{get(){let A=R.primaryKey;return g.addKey(A),A}},value:{get(){return C&&v.addKey(R.primaryKey),R.value}}})}return S})}}return i[f].apply(this,arguments)}}),l}})}};function EA(e,t,n,r){function i(o){let a=e(o.name||"");function s(l){return l!=null?o.extractKey(l):null}let c=l=>o.multiEntry&&Yt(l)?l.forEach(u=>a.addKey(u)):a.addKey(l);(n||r).forEach((l,u)=>{let d=n&&s(n[u]),f=r&&s(r[u]);Jt(d,f)!==0&&(d!=null&&c(d),f!=null&&c(f))})}t.indexes.forEach(i)}var ki=class e{constructor(t,n){this._middlewares={},this.verno=0;let r=e.dependencies;this._options=n=E({addons:e.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};let{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ft,dbReadyPromise:null,cancelOpen:ft,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new T(a=>{o.dbReadyResolve=a}),o.openCanceller=new T((a,s)=>{o.cancelOpen=s}),this._state=o,this.name=t,this.on=ya(this,"populate","blocked","versionchange","close",{ready:[Rf,ft]}),this.on.ready.subscribe=ab(this.on.ready.subscribe,a=>(s,c)=>{e.vip(()=>{let l=this._state;if(l.openComplete)l.dbOpenError||T.resolve().then(s),c&&a(s);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(s),c&&a(s);else{a(s);let u=this;c||a(function d(){u.on.ready.unsubscribe(s),u.on.ready.unsubscribe(d)})}})}),this.Collection=zO(this),this.Table=FO(this),this.Transaction=GO(this),this.Version=uA(this),this.WhereClause=YO(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=da(n.IDBKeyRange),this._createTransaction=(a,s,c,l)=>new this.Transaction(a,s,c,this._options.chromeTransactionDurability,l),this._fireOnBlocked=a=>{this.on("blocked").fire(a),oa.filter(s=>s.name===this.name&&s!==this&&!s._state.vcFired).map(s=>s.on("versionchange").fire(a))},this.use(vA),this.use(_A),this.use(CA),this.use(wA),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new L.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new L.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);let n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(rA),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||N.letThrough||this._vip)?t():new T((n,r)=>{if(this._state.openComplete)return r(new L.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){r(new L.DatabaseClosed);return}this.open().catch(ft)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});let o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:n?i.name!==n:!1)),this}open(){return mA(this)}_close(){let t=this._state,n=oa.indexOf(this);if(n>=0&&oa.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new T(r=>{t.dbReadyResolve=r}),t.openCanceller=new T((r,i)=>{t.cancelOpen=i})}close(){this._close();let t=this._state;this._options.autoOpen=!1,t.dbOpenError=new L.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){let t=arguments.length>0,n=this._state;return new T((r,i)=>{let o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=gt(()=>{hA(this._deps,this.name),r()}),a.onerror=er(i),a.onblocked=this._fireOnBlocked};if(t)throw new L.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return It(this._allTables).map(t=>this._allTables[t])}transaction(){let t=gA.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=N.trans;(!i||i.db!==this||t.indexOf("!")!==-1)&&(i=null);let o=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");let a,s;try{if(s=n.map(l=>{var u=l instanceof this.Table?l.name:l;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===zd)a=zd;else if(t=="rw"||t==Vd)a=Vd;else throw new L.InvalidArgument("Invalid transaction mode: "+t);if(i){if(i.mode===zd&&a===Vd)if(o)i=null;else throw new L.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&s.forEach(l=>{if(i&&i.storeNames.indexOf(l)===-1)if(o)i=null;else throw new L.SubTransaction("Table "+l+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(l){return i?i._promise(null,(u,d)=>{d(l)}):Tt(l)}let c=kb.bind(null,this,a,s,i,r);return i?i._promise(a,c,"lock"):N.trans?Ni(N.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!Ee(this._allTables,t))throw new L.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}},RA=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_f=class{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)}[RA](){return this}};function Mb(e,t){return It(t).forEach(n=>{let r=e[n]||(e[n]=new vr);Tc(r,t[n])}),e}function OA(e){return new _f(t=>{let n=Sf(e);function r(h){n&&$i();let m=()=>Jr(e,{subscr:h,trans:null}),p=N.trans?Ni(N.transless,m):m();return n&&p.then(Sr,Sr),p}let i=!1,o={},a={},s={get closed(){return i},unsubscribe:()=>{i=!0,en.storagemutated.unsubscribe(d)}};t.start&&t.start(s);let c=!1,l=!1;function u(){return It(a).some(h=>o[h]&&SA(o[h],a[h]))}let d=h=>{Mb(o,h),u()&&f()},f=()=>{if(c||i)return;o={};let h={},m=r(h);l||(en(ua,d),l=!0),c=!0,Promise.resolve(m).then(p=>{c=!1,!i&&(u()?f():(o={},a=h,t.next&&t.next(p)))},p=>{["DatabaseClosedError","AbortError"].includes(p?.name)||(c=!1,t.error&&t.error(p),s.unsubscribe())})};return f(),s})}var xf;try{xf={indexedDB:pt.indexedDB||pt.mozIndexedDB||pt.webkitIndexedDB||pt.msIndexedDB,IDBKeyRange:pt.IDBKeyRange||pt.webkitIDBKeyRange}}catch{xf={indexedDB:null,IDBKeyRange:null}}var wn=ki;Pi(wn,G(E({},Nc),{delete(e){return new wn(e,{addons:[]}).delete()},exists(e){return new wn(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(e){try{return dA(wn.dependencies).then(e)}catch{return Tt(new L.MissingAPI)}},defineClass(){function e(t){te(this,t)}return e},ignoreTransaction(e){return N.trans?Ni(N.transless,e):e()},vip:yf,async:function(e){return function(){try{var t=vf(e.apply(this,arguments));return!t||typeof t.then!="function"?T.resolve(t):t}catch(n){return Tt(n)}}},spawn:function(e,t,n){try{var r=vf(e.apply(n,t||[]));return!r||typeof r.then!="function"?T.resolve(r):r}catch(i){return Tt(i)}},currentTransaction:{get:()=>N.trans||null},waitFor:function(e,t){let n=T.resolve(typeof e=="function"?wn.ignoreTransaction(e):e).timeout(t||6e4);return N.trans?N.trans.waitFor(n):n},Promise:T,debug:{get:()=>rr,set:e=>{fb(e,e==="dexie"?()=>!0:Rb)}},derive:Ti,extend:te,props:Pi,override:ab,Events:ya,on:en,liveQuery:OA,extendObservabilitySet:Mb,getByKeyPath:xr,setByKeyPath:$e,delByKeyPath:lO,shallowClone:lb,deepClone:ha,getObjectDiff:$f,cmp:Jt,asap:sb,minKey:sf,addons:[],connections:oa,errnames:Ef,dependencies:xf,semVer:Xv,version:Xv.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,n*2))}));wn.maxKey=da(wn.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(en(ua,e=>{if(!_r){let t;Lc?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Zr,!0,!0,e)):t=new CustomEvent(Zr,{detail:e}),_r=!0,dispatchEvent(t),_r=!1}}),addEventListener(Zr,({detail:e})=>{_r||Mc(e)}));function Mc(e){let t=_r;try{_r=!0,en.storagemutated.fire(e)}finally{_r=t}}var _r=!1;if(typeof BroadcastChannel<"u"){let e=new BroadcastChannel(Zr);typeof e.unref=="function"&&e.unref(),en(ua,t=>{_r||e.postMessage(t)}),e.onmessage=t=>{t.data&&Mc(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){en(ua,t=>{try{_r||(typeof localStorage<"u"&&localStorage.setItem(Zr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Zr,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Zr){let n=JSON.parse(t.newValue);n&&Mc(n.changedParts)}});let e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",AA)}function AA({data:e}){e&&e.type===Zr&&Mc(e.changedParts)}T.rejectionMapper=vO;fb(rr,Rb);var ba="docs",$b="deleted-docs",DA="changes",Bc="dexie",Uc=sv,Nb=new Map,jc=new Map;function Lb(e,t,n,r){var i=Ft(r.primaryKey),o="rxdb-dexie-"+e+"--"+r.version+"--"+t,a=fe(Nb,o,()=>{var s=(()=>D(this,null,function*(){var c=ct(n);c.autoOpen=!1;var l=new ki(o,c),u={[ba]:IA(r),[DA]:"++sequence, id",[$b]:i+",_meta.lwt,[_meta.lwt+"+i+"]"};return l.version(1).stores(u),yield l.open(),{dexieDb:l,dexieTable:l[ba],dexieDeletedTable:l[$b]}}))();return Nb.set(o,a),jc.set(a,0),s});return a}function Fb(e){return D(this,null,function*(){var t=yield e,n=jc.get(e),r=n-1;r===0?(t.dexieDb.close(),jc.delete(e)):jc.set(e,r)})}function jb(e){if(e.indexes){var t=new Set;e.indexes.forEach(n=>{var r=$o(n);r.forEach(i=>{if(!t.has(i)){t.add(i);var o=ke(e,i);if(o.type==="boolean")throw b("DXE1",{schema:e,index:n,field:i})}})})}}var Lf="__";function nn(e){var t=e.split(".");if(t.length>1)return t.map(r=>nn(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return Lf+n}else return e}function Bb(e){var t=e.split(".");if(t.length>1)return t.map(r=>Bb(r)).join(".");if(e.startsWith(Lf)){var n=e.substring(Lf.length);return"|"+n}else return e}function _a(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>_a(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=_a(r)),t[nn(n)]=r}),t}}function rn(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>rn(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=rn(r)),t[Bb(n)]=r}),t}}function IA(e){var t=[],n=Ft(e.primaryKey);return t.push([n]),e.indexes&&e.indexes.forEach(r=>{var i=$o(r);t.push(i)}),t.push(["_meta.lwt",n]),t=t.map(r=>r.map(i=>nn(i))),t.map(r=>r.length===1?r[0]:"["+r.join("+")+"]").join(", ")}function Ff(e,t){return D(this,null,function*(){var n=yield e,[r,i]=yield Promise.all([n.dexieTable.bulkGet(t),n.dexieDeletedTable.bulkGet(t)]),o=i.slice(0);return r.forEach((a,s)=>{a&&(o[s]=a)}),o})}function Ub(e){return e===Yr?-1/0:e}function zb(e,t){if(!t){if(typeof window>"u")throw new Error("IDBKeyRange missing");t=window.IDBKeyRange}var n=e.startKeys.map(Ub),r=e.endKeys.map(Ub),i;if(e.index.length===1){var o=n[0]===r[0];i=t.bound(n[0],r[0],o?!1:!e.inclusiveStart,o?!1:!e.inclusiveEnd)}else i=t.bound(n,r,!e.inclusiveStart,!e.inclusiveEnd);return i}function jf(e,t){return D(this,null,function*(){var n=yield e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=i+o,s=t.queryPlan,c=!1;s.selectorSatisfiedByIndex||(c=xi(e.schema,t.query));var l=zb(s,n.dexieDb._options.IDBKeyRange),u=s.index,d=[];if(yield n.dexieDb.transaction("r",n.dexieTable,h=>D(this,null,function*(){var m=h.idbtrans,p=m.objectStore(ba),v;if(u.length===1&&u[0]===e.primaryPath)v=p;else{var g;u.length===1?g=nn(u[0]):g="["+u.map(y=>nn(y)).join("+")+"]",v=p.index(g)}var x=v.openCursor(l);yield new Promise(y=>{x.onsuccess=function(w){var S=w.target.result;if(S){var R=rn(S.value);!R._deleted&&(!c||c(R))&&d.push(R),s.sortFieldsSameAsIndexFields&&d.length===a?y():S.continue()}else y()}})})),!s.sortFieldsSameAsIndexFields){var f=ec(e.schema,t.query);d=d.sort(f)}return d=d.slice(i,a),{documents:d}})}function Vb(e,t){return D(this,null,function*(){var n=yield e.internals,r=t.queryPlan,i=r.index,o=zb(r,n.dexieDb._options.IDBKeyRange),a=-1;return yield n.dexieDb.transaction("r",n.dexieTable,s=>D(this,null,function*(){var c=s.idbtrans,l=c.objectStore(ba),u;if(i.length===1&&i[0]===e.primaryPath)u=l;else{var d;i.length===1?d=nn(i[0]):d="["+i.map(h=>nn(h)).join("+")+"]",u=l.index(d)}var f=u.count(o);a=yield new Promise((h,m)=>{f.onsuccess=function(){h(f.result)},f.onerror=p=>m(p)})})),a})}var PA=At(),kA=function(){function e(n,r,i,o,a,s,c){this.changes$=new F,this.instanceId=PA++,this.closed=!1,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=c,this.primaryPath=Ft(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,i){return D(this,null,function*(){Cr(this),r.forEach(d=>{if(!d.document._rev||d.previous&&!d.previous._rev)throw b("SNH",{args:{row:d}})});var o=yield this.internals,a={success:{},error:{}},s=r.map(d=>d.document[this.primaryPath]),c;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieDeletedTable,()=>D(this,null,function*(){var d=new Map,f=yield Ff(this.internals,s);f.forEach(g=>{var x=g&&rn(g);return x&&d.set(x[this.primaryPath],x),x}),c=ug(this,this.primaryPath,d,r,i),a.error=c.errors;var h=[],m=[],p=[],v=[];c.bulkInsertDocs.forEach(g=>{var x=g.document[this.primaryPath];a.success[x]=g.document,h.push(g.document)}),c.bulkUpdateDocs.forEach(g=>{var x=g.document[this.primaryPath];if(a.success[x]=g.document,g.document._deleted&&g.previous&&!g.previous._deleted)m.push(x),p.push(g.document);else if(g.document._deleted&&g.previous&&g.previous._deleted)p.push(g.document);else if(!g.document._deleted)h.push(g.document);else throw b("SNH",{args:{row:g}})}),yield Promise.all([h.length>0?o.dexieTable.bulkPut(h.map(g=>_a(g))):oe,m.length>0?o.dexieTable.bulkDelete(m):oe,p.length>0?o.dexieDeletedTable.bulkPut(p.map(g=>_a(g))):oe,v.length>0?o.dexieDeletedTable.bulkDelete(v):oe])})),c=rt(c),c.eventBulk.events.length>0){var l=rt(c.newestRow).document;c.eventBulk.checkpoint={id:l[this.primaryPath],lwt:l._meta.lwt};var u=At();c.eventBulk.events.forEach(d=>d.endTime=u),this.changes$.next(c.eventBulk)}return a})},t.findDocumentsById=function(r,i){return D(this,null,function*(){Cr(this);var o=yield this.internals,a={};return yield o.dexieDb.transaction("r",o.dexieTable,o.dexieDeletedTable,()=>D(this,null,function*(){var s;i?s=yield Ff(this.internals,r):s=yield o.dexieTable.bulkGet(r),r.forEach((c,l)=>{var u=s[l];u&&(!u._deleted||i)&&(a[c]=rn(u))})})),a})},t.query=function(r){return Cr(this),jf(this,r)},t.count=function(r){return D(this,null,function*(){if(r.queryPlan.selectorSatisfiedByIndex){var i=yield Vb(this,r);return{count:i,mode:"fast"}}else{var o=yield jf(this,r);return{count:o.documents.length,mode:"slow"}}})},t.getChangedDocumentsSince=function(r,i){return D(this,null,function*(){Cr(this);var o=i?i.lwt:No,a=i?i.id:"",s=yield this.internals,[c,l]=yield Promise.all([s.dexieTable,s.dexieDeletedTable].map(f=>D(this,null,function*(){var h=f.where("[_meta.lwt+"+this.primaryPath+"]").above([o,a]).limit(r),m=yield h.toArray();return m.map(p=>rn(p))}))),u=c.slice(0);Br(u,l),u=Um(this.primaryPath,u),u=u.slice(0,r);var d=Pm(u);return{documents:u,checkpoint:d?{id:d[this.primaryPath],lwt:d._meta.lwt}:i||{id:"",lwt:0}}})},t.remove=function(){return D(this,null,function*(){Cr(this);var r=yield this.internals;return yield Promise.all([r.dexieDeletedTable.clear(),r.dexieTable.clear()]),this.close()})},t.changeStream=function(){return Cr(this),this.changes$.asObservable()},t.cleanup=function(r){return D(this,null,function*(){Cr(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieDeletedTable,()=>D(this,null,function*(){var o=At()-r,a=yield i.dexieDeletedTable.where("_meta.lwt").below(o).toArray(),s=a.map(c=>c[this.primaryPath]);yield i.dexieDeletedTable.bulkDelete(s)})),!0})},t.getAttachmentData=function(r,i,o){throw Cr(this),new Error("Attachments are not implemented in the dexie RxStorage. Make a pull request.")},t.close=function(){return Cr(this),this.closed=!0,this.changes$.complete(),Fb(this.internals),oe},t.conflictResultionTasks=function(){return new F},t.resolveConflictResultionTask=function(r){return D(this,null,function*(){})},e}();function Wb(e,t,n){var r=Lb(t.databaseName,t.collectionName,n,t.schema),i=new kA(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return $v(Bc,t,i),Promise.resolve(i)}function Cr(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var TA=function(){function e(n){this.name=Bc,this.statics=Uc,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return dg(r),jb(r.schema),Wb(this,r,this.settings)},e}();function qb(e={}){var t=new TA(e);return t}function Kb(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw Nt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!n.includes(r))throw Nt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:n}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw b("QU15",{collection:e.collection.name,query:e.queryObj})}function Hb(e){var t=e.rxQuery.collection.schema.jsonSchema,n=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(n).filter(s=>!s.startsWith("$")).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw b("QU13",{schema:t,field:s,query:e.mangoQuery})});var i=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=i.find(s=>Wr(s,o));if(!a)throw b("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!MA(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw b("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(s=>Object.keys(s)[0]).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw b("QU13",{schema:t,field:s,query:e.mangoQuery})})}function MA(e,t){var n=Uc.prepareQuery(e,t);return n.queryPlan.selectorSatisfiedByIndex}function Yb(e,t){if(!e)throw b("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw b("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw b("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw b("DOC23",{primaryKey:e,document:t})}function $A(e){return!e||typeof e=="string"||typeof e=="number"?e:Tu(e)}var NA="dev-mode",Gb={name:NA,rxdb:!0,init:()=>{console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium.html","","Also take part in the RxDB User Survey: https://rxdb.info/survey.html","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:$A,tunnelErrorMessage(e){if(!Ld[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return Ld[e]}},hooks:{preCreateRxSchema:{after:Bv},preCreateRxDatabase:{after:function(e){Wv(e)}},preCreateRxCollection:{after:function(e){if(Vv(e),Uv(e.schema,e.methods),e.name.charAt(0)==="_")throw b("DB2",{name:e.name});if(!e.schema)throw b("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){Yb(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){Kb(e)}},prePrepareQuery:{after:e=>{Hb(e)}},createRxCollection:{after:e=>{hc(e.creator.statics),hc(e.creator.methods),hc(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&zv(e.creator.schema,e.creator.migrationStrategies)}}}};var mh=V0(v0());function a1(e){return this.incrementalModify(t=>{var n=(0,mh.default)(t,e);return n})}function s1(e){var t=this._data,n=(0,mh.default)(t,e);return this._saveData(n,t)}function c1(e){return this.exec().then(t=>t?Array.isArray(t)?Promise.all(t.map(n=>n.update(e))).then(()=>t):t.update(e).then(()=>t):null)}var b0={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=s1,e.incrementalUpdate=a1},RxQuery:e=>{e.update=c1}}};var l1={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function u1(){return D(this,null,function*(){Zo(Nv),Zo(b0),np()&&Zo(Gb)})}u1();var H9=(()=>{let t=class t{constructor(){this.dataBaseReadySubj=new Wt(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(r){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[r]}initDB(r){return D(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===r&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield ov({name:r,storage:qb(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:l1}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var X9=(()=>{let t=class t{constructor(){this.activePortal=new F,this.portal$=this.activePortal.asObservable()}setPortal(r){this.activePortal.next(r)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function rQ(e){return e&&typeof e.connect=="function"&&!(e instanceof cn)}var _0=class{applyChanges(t,n,r,i,o){t.forEachOperation((a,s,c)=>{let l,u;if(a.previousIndex==null){let d=r(a,s,c);l=n.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else c==null?(n.remove(s),u=3):(l=n.get(s),n.move(l,c),u=2);o&&o({context:l?.context,operation:u,record:a})})}detach(){}};var x0=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,n,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new F,n&&n.length&&(t?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...t){this._verifyValueAssignment(t);let n=this.selected,r=new Set(t);t.forEach(o=>this._markSelected(o)),n.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let n=this._hasQueuedChanges();return t&&this._emitChangeEvent(),n}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let n of this._selection)if(this.compareWith(t,n))return n;return t}else return t}};var nQ=new Y("_ViewRepeater");var d1=20,gh=(()=>{let t=class t{constructor(r,i,o){this._ngZone=r,this._platform=i,this._scrolled=new F,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=d1){return this._platform.isBrowser?new $a(i=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(fl(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let o=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(et(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,r)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let o=mp(i),a=r.getElementRef().nativeElement;do if(o==a)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return Mh(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(O(mt),O(ue),O(Rt,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var f1=20,sl=(()=>{let t=class t{constructor(r,i,o){this._platform=r,this._change=new F,this._changeListener=a=>{this._change.next(a)},this._document=o,i.runOutsideAngular(()=>{if(r.isBrowser){let a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),o=r.documentElement,a=o.getBoundingClientRect(),s=-a.top||r.body.scrollTop||i.scrollY||o.scrollTop||0,c=-a.left||r.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:s,left:c}}change(r=f1){return r>0?this._change.pipe(fl(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(i){return new(i||t)(O(ue),O(mt),O(Rt,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var w0=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({});let e=t;return e})(),yh=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({imports:[uo,w0,uo,w0]});let e=t;return e})();var S0=hp(),vh=class{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ot(-this._previousScrollPosition.left),t.style.top=Ot(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,r=t.style,i=n.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),S0&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),S0&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var bh=class{constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(et(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},cl=class{enable(){}disable(){}attach(){}};function _h(e,t){return t.some(n=>{let r=e.bottom<n.top,i=e.top>n.bottom,o=e.right<n.left,a=e.left>n.right;return r||i||o||a})}function C0(e,t){return t.some(n=>{let r=e.top<n.top,i=e.bottom>n.bottom,o=e.left<n.left,a=e.right>n.right;return r||i||o||a})}var xh=class{constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();_h(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},p1=(()=>{let t=class t{constructor(r,i,o,a){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new cl,this.close=s=>new bh(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new vh(this._viewportRuler,this._document),this.reposition=s=>new xh(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=a}};t.\u0275fac=function(i){return new(i||t)(O(gh),O(sl),O(mt),O(Rt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),an=class{constructor(t){if(this.scrollStrategy=new cl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let n=Object.keys(t);for(let r of n)t[r]!==void 0&&(this[r]=t[r])}}};var wh=class{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var D0=(()=>{let t=class t{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(i){return new(i||t)(O(Rt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),m1=(()=>{let t=class t extends D0{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=o=>{let a=this._attachedOverlays;for(let s=a.length-1;s>-1;s--)if(a[s]._keydownEvents.observers.length>0){let c=a[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(i){return new(i||t)(O(Rt),O(mt,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),g1=(()=>{let t=class t extends D0{constructor(r,i,o){super(r),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Sl(a)},this._clickListener=a=>{let s=Sl(a),c=a.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let d=l[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(c))break;let f=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(a)):f.next(a)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(i){return new(i||t)(O(Rt),O(ue),O(mt,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ji=(()=>{let t=class t{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||Cl()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}let i=this._document.createElement("div");i.classList.add(r),Cl()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};t.\u0275fac=function(i){return new(i||t)(O(Rt),O(ue))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Er=class{constructor(t,n,r,i,o,a,s,c,l,u=!1){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new F,this._attachments=new F,this._detachments=new F,this._locationChanges=Le.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new F,this._outsidePointerEvents=new F,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ee(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=E(E({},this._config),t),this._updateElementSize()}setDirection(t){this._config=G(E({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ot(this._config.width),t.height=Ot(this._config.height),t.minWidth=Ot(this._config.minWidth),t.minHeight=Ot(this._config.minHeight),t.maxWidth=Ot(this._config.maxWidth),t.maxHeight=Ot(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,r){let i=Al(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(dn(jn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},E0="cdk-overlay-connected-position-bounding-box",y1=/([A-Za-z%]+)$/,Sh=class{get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F,this._resizeSubscription=Le.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(E0),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],a;for(let s of this._preferredPositions){let c=this._getOriginPoint(t,i,s),l=this._getOverlayPoint(c,n,s),u=this._getOverlayFit(l,n,r,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,c);return}if(this._canFitWithFlexibleDimensions(u,l,r)){o.push({position:s,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:l,originPoint:c,position:s,overlayRect:n})}if(o.length){let s=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,s=l)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i=r.originX=="start"?a:s}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){let o=O0(n),{x:a,y:s}=t,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(a+=c),l&&(s+=l);let u=0-a,d=a+o.width-r.width,f=0-s,h=s+o.height-r.height,m=this._subtractOverflows(o.width,u,d),p=this._subtractOverflows(o.height,f,h),v=m*p;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:p===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,a=R0(this._overlayRef.getConfig().minHeight),s=R0(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||a!=null&&a<=i,l=t.fitsInViewportHorizontally||s!=null&&s<=o;return c&&l}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=O0(n),o=this._viewportRect,a=Math.max(t.x+i.width-o.width,0),s=Math.max(t.y+i.height-o.height,0),c=Math.max(o.top-r.top-t.y,0),l=Math.max(o.left-r.left-t.x,0),u=0,d=0;return i.width<=o.width?u=l||-a:u=t.x<this._viewportMargin?o.left-r.left-t.x:0,i.height<=o.height?d=c||-s:d=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){let r=this._getScrollVisibility(),i=new wh(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){let r=this._viewportRect,i=this._isRtl(),o,a,s;if(n.overlayY==="top")a=t.y,o=r.height-a+this._viewportMargin;else if(n.overlayY==="bottom")s=r.height-t.y+this._viewportMargin*2,o=r.height-s+this._viewportMargin;else{let h=Math.min(r.bottom-t.y+r.top,t.y),m=this._lastBoundingBoxSize.height;o=h*2,a=t.y-h,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-m/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,u,d,f;if(l)f=r.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if(c)d=t.x,u=r.right-t.x;else{let h=Math.min(r.right-t.x+r.left,t.x),m=this._lastBoundingBoxSize.width;u=h*2,d=t.x-h,u>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-m/2)}return{top:a,left:d,bottom:s,right:f,width:u,height:o}}_setBoundingBoxStyles(t,n){let r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Ot(r.height),i.top=Ot(r.top),i.bottom=Ot(r.bottom),i.width=Ot(r.width),i.left=Ot(r.left),i.right=Ot(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Ot(o)),a&&(i.maxWidth=Ot(a))}this._lastBoundingBoxSize=r,Nn(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Nn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Nn(r,this._getExactOverlayY(n,t,u)),Nn(r,this._getExactOverlayX(n,t,u))}else r.position="static";let s="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),r.transform=s.trim(),a.maxHeight&&(i?r.maxHeight=Ot(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=Ot(a.maxWidth):o&&(r.maxWidth="")),Nn(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;i.bottom=`${a-(o.y+this._overlayRect.height)}px`}else i.top=Ot(o.y);return i}_getExactOverlayX(t,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;i.right=`${s-(o.x+this._overlayRect.width)}px`}else i.left=Ot(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:C0(t,r),isOriginOutsideView:_h(t,r),isOverlayClipped:C0(n,r),isOverlayOutsideView:_h(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Al(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Et)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}};function Nn(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function R0(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(y1);return!n||n==="px"?parseFloat(t):null}return e||null}function O0(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var A0="cdk-global-overlay-wrapper",Ch=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(A0),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:s}=r,c=(i==="100%"||i==="100vw")&&(!a||a==="100%"||a==="100vw"),l=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,d=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",h="",m="",p="";c?p="flex-start":u==="center"?(p="center",f?m=d:h=d):f?u==="left"||u==="end"?(p="flex-end",h=d):(u==="right"||u==="start")&&(p="flex-start",m=d):u==="left"||u==="start"?(p="flex-start",h=d):(u==="right"||u==="end")&&(p="flex-end",m=d),t.position=this._cssPosition,t.marginLeft=c?"0":h,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":m,n.justifyContent=p,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(A0),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},v1=(()=>{let t=class t{constructor(r,i,o,a){this._viewportRuler=r,this._document=i,this._platform=o,this._overlayContainer=a}global(){return new Ch}flexibleConnectedTo(r){return new Sh(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(i){return new(i||t)(O(sl),O(Rt),O(ue),O(Ji))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),b1=0,ce=(()=>{let t=class t{constructor(r,i,o,a,s,c,l,u,d,f,h,m){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=s,this._injector=c,this._ngZone=l,this._document=u,this._directionality=d,this._location=f,this._outsideClickDispatcher=h,this._animationsModuleType=m}create(r){let i=this._createHostElement(),o=this._createPaneElement(i),a=this._createPortalOutlet(o),s=new an(r);return s.direction=s.direction||this._directionality.value,new Er(a,i,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${b1++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Va)),new Qa(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(i){return new(i||t)(O(p1),O(Ji),O(Ba),O(v1),O(m1),O(Ct),O(mt),O(Rt),O(Xn),O(Ae),O(g1),O(Fe,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_1=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],I0=new Y("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=M(ce);return()=>e.scrollStrategies.reposition()}}),x1=(()=>{let t=class t{constructor(r){this.elementRef=r}};t.\u0275fac=function(i){return new(i||t)(P(Et))},t.\u0275dir=wt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let e=t;return e})(),TQ=(()=>{let t=class t{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,i,o,a,s){this._overlay=r,this._dir=s,this._backdropSubscription=Le.EMPTY,this._attachSubscription=Le.EMPTY,this._detachSubscription=Le.EMPTY,this._positionSubscription=Le.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Kt,this.positionChange=new Kt,this.attach=new Kt,this.detach=new Kt,this.overlayKeydown=new Kt,this.overlayOutsideClick=new Kt,this._templatePortal=new ze(i,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=_1);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Gn(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),i=new an({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(r){let i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(r),r}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof x1?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(jh(()=>this.positionChange.observers.length>0)).subscribe(r=>{this.positionChange.emit(r),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(P(ce),P(or),P(Pr),P(I0),P(Xn,8))},t.\u0275dir=wt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop",ne],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition",ne],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ne],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ne],push:["cdkConnectedOverlayPush","push",ne],disposeOnNavigation:["cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ne]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Ir,Or]});let e=t;return e})();function w1(e){return()=>e.scrollStrategies.reposition()}var S1={provide:I0,deps:[ce],useFactory:w1},to=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({providers:[ce,S1],imports:[uo,_e,yh,yh]});let e=t;return e})();function C1(e,t){if(e&1){let n=Xh();Be(0,"div",1)(1,"button",2),Kn("click",function(){zh(n);let i=vl();return Vh(i.action())}),bl(2),Oe()()}if(e&2){let n=vl();qn(2),_l(" ",n.data.action," ")}}var E1=["label"];function R1(e,t){}var O1=Math.pow(2,31)-1,Ia=class{constructor(t,n){this._overlayRef=n,this._afterDismissed=new F,this._afterOpened=new F,this._onAction=new F,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,O1))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},k0=new Y("MatSnackBarData"),eo=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},A1=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=wt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),D1=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=wt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),I1=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=wt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),T0=(()=>{let t=class t{constructor(r,i){this.snackBarRef=r,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(i){return new(i||t)(P(Ia),P(k0))},t.\u0275cmp=re({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ue],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,o){i&1&&(Be(0,"div",0),bl(1),Oe(),fn(2,C1,3,1,"div",1)),i&2&&(qn(1),_l(" ",o.data.message,`
`),qn(1),Qh(2,o.hasAction?2:-1))},dependencies:[Tl,Ap,A1,D1,I1,Wa],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),P1={snackBarState:pp("state",[Rl("void, hidden",Ka({transform:"scale(0.8)",opacity:0})),Rl("visible",Ka({transform:"scale(1)",opacity:1})),Ol("* => visible",El("150ms cubic-bezier(0, 0, 0.2, 1)")),Ol("* => void, * => hidden",El("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ka({opacity:0})))])},k1=0,M0=(()=>{let t=class t extends kr{constructor(r,i,o,a,s){super(),this._ngZone=r,this._elementRef=i,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=s,this._document=M(Rt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new F,this._onExit=new F,this._onEnter=new F,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${k1++}`,this.attachDomPortal=c=>{this._assertNotAttached();let l=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),l},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),i}attachTemplatePortal(r){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),i}onAnimationEnd(r){let{fromState:i,toState:o}=r;if((o==="void"&&i!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ee(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){let r=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>r.classList.add(s)):r.classList.add(i)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let r=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){let a=i[o],s=a.getAttribute("aria-owns");this._trackedModals.add(a),s?s.indexOf(r)===-1&&a.setAttribute("aria-owns",s+" "+r):a.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let i=r.getAttribute("aria-owns");if(i){let o=i.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(i){return new(i||t)(P(mt),P(Et),P(Dr),P(ue),P(eo))},t.\u0275cmp=re({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,o){if(i&1&&(Hn(We,7),Hn(E1,7)),i&2){let a;hn(a=pn())&&(o._portalOutlet=a.first),hn(a=pn())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,o){i&1&&tp("@state.done",function(s){return o.onAnimationEnd(s)}),i&2&&Zh("@state",o._animationState)},standalone:!0,features:[Qt,Ue],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(Be(0,"div",0)(1,"div",1,2)(3,"div",3),fn(4,R1,0,0,"ng-template",4),Oe(),be(5,"div"),Oe()()),i&2&&(qn(5),le("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[_e,We],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[P1.snackBarState]}});let e=t;return e})();function T1(){return new eo}var M1=new Y("mat-snack-bar-default-options",{providedIn:"root",factory:T1}),$1=(()=>{let t=class t{get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(r,i,o,a,s,c){this._overlay=r,this._live=i,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=s,this._defaultConfig=c,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=T0,this.snackBarContainerComponent=M0,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(r,i){return this._attach(r,i)}openFromTemplate(r,i){return this._attach(r,i)}open(r,i="",o){let a=E(E({},this._defaultConfig),o);return a.data={message:r,action:i},a.announcementMessage===r&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,i){let o=i&&i.viewContainerRef&&i.viewContainerRef.injector,a=Ct.create({parent:o||this._injector,providers:[{provide:eo,useValue:i}]}),s=new sr(this.snackBarContainerComponent,i.viewContainerRef,a),c=r.attach(s);return c.instance.snackBarConfig=i,c.instance}_attach(r,i){let o=E(E(E({},new eo),this._defaultConfig),i),a=this._createOverlay(o),s=this._attachSnackBarContainer(a,o),c=new Ia(s,a);if(r instanceof or){let l=new ze(r,null,{$implicit:o.data,snackBarRef:c});c.instance=s.attachTemplatePortal(l)}else{let l=this._createInjector(o,c),u=new sr(r,void 0,l),d=s.attachComponentPortal(u);c.instance=d.instance}return this._breakpointObserver.observe(yp.HandsetPortrait).pipe(dn(a.detachments())).subscribe(l=>{a.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(c,o),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(r,i){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),i.duration&&i.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(i.duration))}_createOverlay(r){let i=new an;i.direction=r.direction;let o=this._overlay.position().global(),a=r.direction==="rtl",s=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!a||r.horizontalPosition==="end"&&a,c=!s&&r.horizontalPosition!=="center";return s?o.left("0"):c?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(r,i){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return Ct.create({parent:o||this._injector,providers:[{provide:Ia,useValue:i},{provide:k0,useValue:r.data}]})}};t.\u0275fac=function(i){return new(i||t)(O(ce),O(vp),O(Ct),O(gp),O(t,12),O(M1))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var n7=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({providers:[$1],imports:[to,_e,Tl,ar,T0,M0,ar]});let e=t;return e})();var a7={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function N1(e,t){}var Ln=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var ll=(()=>{let t=class t extends kr{constructor(r,i,o,a,s,c,l,u){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=s,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();let f=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),f},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r.removeEventListener("blur",o),r.removeEventListener("mousedown",o),r.removeAttribute("tabindex")};r.addEventListener("blur",o),r.addEventListener("mousedown",o)})),r.focus(i)}_focusByCssSelector(r,i){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let o=qa(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=qa();return r===i||r.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qa())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(i){return new(i||t)(P(Et),P(Ga),P(Rt,8),P(Ln),P(Ya),P(mt),P(Er),P(Qn))},t.\u0275cmp=re({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(i&1&&Hn(We,7),i&2){let a;hn(a=pn())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){i&2&&le("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Qt,Ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&fn(0,N1,0,0,"ng-template",0)},dependencies:[_e,We],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Pa=class{constructor(t,n){this.overlayRef=t,this.config=n,this.closed=new F,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Gn(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},L1=new Y("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=M(ce);return()=>e.scrollStrategies.block()}}),F1=new Y("DialogData"),j1=new Y("DefaultDialogConfig");var B1=0,Oh=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,o,a,s,c){this._overlay=r,this._injector=i,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._ariaHiddenElements=new Map,this.afterAllClosed=un(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Re(void 0))),this._scrollStrategy=c}open(r,i){let o=this._defaultOptions||new Ln;i=E(E({},o),i),i.id=i.id||`cdk-dialog-${B1++}`,i.id&&this.getDialogById(i.id);let a=this._getOverlayConfig(i),s=this._overlay.create(a),c=new Pa(s,i),l=this._attachContainer(s,c,i);return c.containerInstance=l,this._attachDialogContent(r,c,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Rh(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){Rh(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),Rh(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new an({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,o){let a=o.injector||o.viewContainerRef?.injector,s=[{provide:Ln,useValue:o},{provide:Pa,useValue:i},{provide:Er,useValue:r}],c;o.container?typeof o.container=="function"?c=o.container:(c=o.container.type,s.push(...o.container.providers(o))):c=ll;let l=new sr(c,o.viewContainerRef,Ct.create({parent:a||this._injector,providers:s}),o.componentFactoryResolver);return r.attach(l).instance}_attachDialogContent(r,i,o,a){if(r instanceof or){let s=this._createInjector(a,i,o,void 0),c={$implicit:a.data,dialogRef:i};a.templateContext&&(c=E(E({},c),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),o.attachTemplatePortal(new ze(r,null,c,s))}else{let s=this._createInjector(a,i,o,this._injector),c=o.attachComponentPortal(new sr(r,a.viewContainerRef,s,a.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,o,a){let s=r.injector||r.viewContainerRef?.injector,c=[{provide:F1,useValue:r.data},{provide:Pa,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,o)):c.push(...r.providers)),r.direction&&(!s||!s.get(Xn,null,{optional:!0}))&&c.push({provide:Xn,useValue:{value:r.direction,change:$()}}),Ct.create({parent:s||a,providers:c})}_removeOpenDialog(r,i){let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,s)=>{a?s.setAttribute("aria-hidden",a):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let o=i.length-1;o>-1;o--){let a=i[o];a!==r&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(i){return new(i||t)(O(ce),O(Ct),O(j1,8),O(t,12),O(Ji),O(L1))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Rh(e,t){let n=e.length;for(;n--;)t(e[n])}var $0=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({providers:[Oh],imports:[to,_e,bp,ll,_e]});let e=t;return e})();function U1(e,t){}var ka=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Ah="mdc-dialog--open",N0="mdc-dialog--opening",L0="mdc-dialog--closing",z1=150,V1=75,B0=(()=>{let t=class t extends ll{constructor(r,i,o,a,s,c,l,u,d){super(r,i,o,a,s,c,l,d),this._animationMode=u,this._animationStateChanged=new Kt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?j0(this._config.enterAnimationDuration)??z1:0,this._exitAnimationDuration=this._animationsEnabled?j0(this._config.exitAnimationDuration)??V1:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(F0,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(N0,Ah)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ah),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ah),this._animationsEnabled?(this._hostElement.style.setProperty(F0,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(L0)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(N0,L0)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};t.\u0275fac=function(i){return new(i||t)(P(Et),P(Ga),P(Rt,8),P(ka),P(Ya),P(mt),P(Er),P(Fe,8),P(Qn))},t.\u0275cmp=re({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,o){i&2&&(yl("id",o._config.id),le("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),je("_mat-animation-noopable",!o._animationsEnabled))},standalone:!0,features:[Qt,Ue],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(Be(0,"div",0)(1,"div",1),fn(2,U1,0,0,"ng-template",2),Oe()())},dependencies:[_e,We],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),F0="--mat-dialog-transition-duration";function j0(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Ha(e.substring(0,e.length-2)):e.endsWith("s")?Ha(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Ta=class{constructor(t,n,r){this._ref=t,this._containerInstance=r,this._afterOpened=new F,this._beforeClosed=new F,this._state=0,this.disableClose=n.disableClose,this.id=t.id,r._animationStateChanged.pipe(et(i=>i.state==="opened"),ee(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(et(i=>i.state==="closed"),ee(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),jn(this.backdropClick(),this.keydownEvents().pipe(et(i=>i.keyCode===27&&!this.disableClose&&!Gn(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),U0(this,i.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(et(n=>n.state==="closing"),ee(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function U0(e,t,n){return e._closeInteractionType=t,e.close(n)}var W1=new Y("MatMdcDialogData"),q1=new Y("mat-mdc-dialog-default-options"),K1=new Y("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=M(ce);return()=>e.scrollStrategies.block()}});var H1=0,Dh=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,o,a,s,c,l,u){this._overlay=r,this._defaultOptions=a,this._scrollStrategy=s,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this.dialogConfigClass=ka,this.afterAllClosed=un(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Re(void 0))),this._dialog=i.get(Oh),this._dialogRefConstructor=Ta,this._dialogContainerType=B0,this._dialogDataToken=W1}open(r,i){let o;i=E(E({},this._defaultOptions||new ka),i),i.id=i.id||`mat-mdc-dialog-${H1++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(r,G(E({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ln,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(s,c,l)=>(o=new this._dialogRefConstructor(s,i,l),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=a.componentRef,o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};t.\u0275fac=function(i){return new(i||t)(O(ce),O(Ct),O(Ae,8),O(q1,8),O(K1),O(t,12),O(Ji),O(Fe,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Y1=0,Q7=(()=>{let t=class t{constructor(r,i,o){this.dialogRef=r,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=z0(this._elementRef,this._dialog.openDialogs))}ngOnChanges(r){let i=r._matDialogClose||r._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(r){U0(this.dialogRef,r.screenX===0&&r.screenY===0?"keyboard":"mouse",this.dialogResult)}};t.\u0275fac=function(i){return new(i||t)(P(Ta,8),P(Et),P(Dh))},t.\u0275dir=wt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){i&1&&Kn("click",function(s){return o._onButtonClick(s)}),i&2&&le("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Or]});let e=t;return e})(),X7=(()=>{let t=class t{constructor(r,i,o){this._dialogRef=r,this._elementRef=i,this._dialog=o,this.id=`mat-mdc-dialog-title-${Y1++}`}ngOnInit(){this._dialogRef||(this._dialogRef=z0(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){let r=this._dialogRef?._containerInstance?._ariaLabelledByQueue;r&&Promise.resolve().then(()=>{let i=r.indexOf(this.id);i>-1&&r.splice(i,1)})}};t.\u0275fac=function(i){return new(i||t)(P(Ta,8),P(Et),P(Dh))},t.\u0275dir=wt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,o){i&2&&yl("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0});let e=t;return e})(),Z7=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=wt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let e=t;return e})(),J7=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=wt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,o){i&2&&je("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0});let e=t;return e})();function z0(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?t.find(r=>r.id===n.id):null}var tX=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Pt({providers:[Dh],imports:[$0,to,_e,ar,B0,ar]});let e=t;return e})();export{sr as a,ze as b,eP as c,We as d,_e as e,Ap as f,pP as g,mP as h,Tl as i,Ke as j,Ye as k,Cw as l,lm as m,ie as n,LP as o,FP as p,jS as q,ms as r,Mo as s,Su as t,ZP as u,JP as v,H9 as w,X9 as x,rQ as y,_0 as z,x0 as A,nQ as B,gh as C,sl as D,w0 as E,yh as F,an as G,ce as H,x1 as I,TQ as J,to as K,Ta as L,W1 as M,Dh as N,Q7 as O,X7 as P,Z7 as Q,J7 as R,tX as S,M1 as T,$1 as U,n7 as V,a7 as W};
