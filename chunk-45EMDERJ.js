import{$ as nm,A as iu,Ab as fu,B as Xh,Ba as Pr,Bb as Ao,C as Yn,Ca as lm,Cb as $r,Cc as Am,Da as Yt,Dc as we,E as Zh,Eb as Ii,F as wi,Fb as Xn,G as xt,Gb as Zn,Gc as Tm,H as ou,Hc as _s,I as Ci,Ia as Qt,Ib as hu,Ic as gu,J as Si,Ja as ge,Jc as vu,Kb as mu,Kc as Ai,L as au,La as um,M as Ke,Ma as Mr,Mb as Ie,Mc as xs,N as Jh,Na as dm,Nc as bu,Oa as Di,Oc as Xt,P as Ei,Pa as Y,Pc as Pm,Q as Ri,Qa as ko,R as fn,Ra as Nr,Rc as Mm,S as su,Sc as Nm,T as tm,Ta as gs,Tb as ym,U as em,Ub as _m,V as cu,Va as fm,Vb as To,W as rm,Wa as $t,Wb as pu,X as Oo,Xa as hm,Xb as ys,Y as er,Ya as pn,Yb as ki,Yc as ws,Z as We,Zb as xm,Zc as Cs,_ as Qn,_a as le,_b as gr,a as K,aa as pe,ab as gn,ac as ve,ad as $m,b as Ht,ba as xe,bb as vs,bc as wm,bd as Ti,cb as uu,cd as Fm,d as mx,da as st,db as mm,dc as Cm,dd as Pi,e as us,ea as te,eb as Gn,ed as Mo,f as px,fa as im,fb as Fe,fc as Gt,g as U,ga as pt,h as hr,ha as lu,hc as Sm,hd as Fr,i as Yh,ia as V,ib as mr,ic as Po,j as ds,ja as G,jb as bs,k as Ro,ka as ms,kc as Em,l as qn,la as ps,lb as pm,lc as Rm,ld as Lm,m as it,ma as ht,mc as nr,n as he,na as Oe,o as Qh,oa as ee,pa as Ut,pb as pr,q as dn,qa as om,qb as rr,r as me,ra as am,rb as He,s as J,sc as Dm,sd as Bm,t as Do,ta as Io,tc as Om,u as xi,ua as hn,uc as Im,v as Gh,vb as gm,vc as km,w as fs,wa as mn,wb as du,wd as jm,x as ft,xa as sm,xb as vm,y as hs,ya as cm,yb as Oi,yd as zm,z as qt,zb as bm}from"./chunk-U2MS5ZFZ.js";var Zb=mx((Tf,Pf)=>{"use strict";(function(e,t){typeof Tf=="object"&&typeof Pf<"u"?Pf.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dexie=t())})(Tf,function(){"use strict";var e=function(s,c){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])},e(s,c)};function t(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");e(s,c);function u(){this.constructor=s}s.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}var n=function(){return n=Object.assign||function(c){for(var u,d=1,h=arguments.length;d<h;d++){u=arguments[d];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(c[g]=u[g])}return c},n.apply(this,arguments)};function r(s,c,u){if(u||arguments.length===2)for(var d=0,h=c.length,g;d<h;d++)(g||!(d in c))&&(g||(g=Array.prototype.slice.call(c,0,d)),g[d]=c[d]);return s.concat(g||Array.prototype.slice.call(c))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,a=Array.isArray;typeof Promise<"u"&&!i.Promise&&(i.Promise=Promise);function l(s,c){return typeof c!="object"||o(c).forEach(function(u){s[u]=c[u]}),s}var f=Object.getPrototypeOf,m={}.hasOwnProperty;function p(s,c){return m.call(s,c)}function y(s,c){typeof c=="function"&&(c=c(f(s))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(u){S(s,u,c[u])})}var x=Object.defineProperty;function S(s,c,u,d){x(s,c,l(u&&p(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function N(s){return{from:function(c){return s.prototype=Object.create(c.prototype),S(s.prototype,"constructor",s),{extend:y.bind(null,s.prototype)}}}}var B=Object.getOwnPropertyDescriptor;function rt(s,c){var u=B(s,c),d;return u||(d=f(s))&&rt(d,c)}var ot=[].slice;function at(s,c,u){return ot.call(s,c,u)}function gt(s,c){return c(s)}function Kt(s){if(!s)throw new Error("Assertion Failed")}function bt(s){i.setImmediate?setImmediate(s):setTimeout(s,0)}function Mt(s,c){return s.reduce(function(u,d,h){var g=c(d,h);return g&&(u[g[0]]=g[1]),u},{})}function vt(s,c){if(typeof c=="string"&&p(s,c))return s[c];if(!c)return s;if(typeof c!="string"){for(var u=[],d=0,h=c.length;d<h;++d){var g=vt(s,c[d]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var b=s[c.substr(0,v)];return b==null?void 0:vt(b,c.substr(v+1))}}function _t(s,c,u){if(!(!s||c===void 0)&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof c!="string"&&"length"in c){Kt(typeof u!="string"&&"length"in u);for(var d=0,h=c.length;d<h;++d)_t(s,c[d],u[d])}else{var g=c.indexOf(".");if(g!==-1){var v=c.substr(0,g),b=c.substr(g+1);if(b==="")u===void 0?a(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=u;else{var _=s[v];(!_||!p(s,v))&&(_=s[v]={}),_t(_,b,u)}}else u===void 0?a(s)&&!isNaN(parseInt(c))?s.splice(c,1):delete s[c]:s[c]=u}}function ue(s,c){typeof c=="string"?_t(s,c,void 0):"length"in c&&[].map.call(c,function(u){_t(s,u,void 0)})}function cr(s){var c={};for(var u in s)p(s,u)&&(c[u]=s[u]);return c}var co=[].concat;function Xr(s){return co.apply([],s)}var kr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Xr([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(c){return c+s+"Array"})}))).filter(function(s){return i[s]}),Na=new Set(kr.map(function(s){return i[s]}));function $a(s){var c={};for(var u in s)if(p(s,u)){var d=s[u];c[u]=!d||typeof d!="object"||Na.has(d.constructor)?d:$a(d)}return c}function hl(s){for(var c in s)if(p(s,c))return!1;return!0}var Ln=null;function Ne(s){Ln=new WeakMap;var c=Zr(s);return Ln=null,c}function Zr(s){if(!s||typeof s!="object")return s;var c=Ln.get(s);if(c)return c;if(a(s)){c=[],Ln.set(s,c);for(var u=0,d=s.length;u<d;++u)c.push(Zr(s[u]))}else if(Na.has(s.constructor))c=s;else{var h=f(s);c=h===Object.prototype?{}:Object.create(h),Ln.set(s,c);for(var g in s)p(s,g)&&(c[g]=Zr(s[g]))}return c}var lo={}.toString;function Jr(s){return lo.call(s).slice(8,-1)}var uo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_e=typeof uo=="symbol"?function(s){var c;return s!=null&&(c=s[uo])&&c.apply(s)}:function(){return null};function Jt(s,c){var u=s.indexOf(c);return u>=0&&s.splice(u,1),u>=0}var Xe={};function Ze(s){var c,u,d,h;if(arguments.length===1){if(a(s))return s.slice();if(this===Xe&&typeof s=="string")return[s];if(h=_e(s)){for(u=[];d=h.next(),!d.done;)u.push(d.value);return u}if(s==null)return[s];if(c=s.length,typeof c=="number"){for(u=new Array(c);c--;)u[c]=s[c];return u}return[s]}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var ml=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Vy=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],uh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],pl=Vy.concat(uh),Ky={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function hi(s,c){this.name=s,this.message=c}N(hi).from(Error).extend({toString:function(){return this.name+": "+this.message}});function dh(s,c){return s+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,d,h){return h.indexOf(u)===d}).join(`
`)}function Fa(s,c,u,d){this.failures=c,this.failedKeys=d,this.successCount=u,this.message=dh(s,c)}N(Fa).from(hi);function mi(s,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=dh(s,this.failures)}N(mi).from(hi);var gl=pl.reduce(function(s,c){return s[c]=c+"Error",s},{}),Wy=hi,tt=pl.reduce(function(s,c){var u=c+"Error";function d(h,g){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ky[c]||u,this.inner=null)}return N(d).from(Wy),s[c]=d,s},{});tt.Syntax=SyntaxError,tt.Type=TypeError,tt.Range=RangeError;var fh=uh.reduce(function(s,c){return s[c+"Error"]=tt[c],s},{});function Hy(s,c){if(!s||s instanceof hi||s instanceof TypeError||s instanceof SyntaxError||!s.name||!fh[s.name])return s;var u=new fh[s.name](c||s.message,s);return"stack"in s&&S(u,"stack",{get:function(){return this.inner.stack}}),u}var La=pl.reduce(function(s,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(s[c+"Error"]=tt[c]),s},{});La.ModifyError=Fa,La.DexieError=hi,La.BulkError=mi;function Tt(){}function fo(s){return s}function qy(s,c){return s==null||s===fo?c:function(u){return c(s(u))}}function Bn(s,c){return function(){s.apply(this,arguments),c.apply(this,arguments)}}function Yy(s,c){return s===Tt?c:function(){var u=s.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?Bn(d,this.onsuccess):d),h&&(this.onerror=this.onerror?Bn(h,this.onerror):h),g!==void 0?g:u}}function Qy(s,c){return s===Tt?c:function(){s.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Bn(u,this.onsuccess):u),d&&(this.onerror=this.onerror?Bn(d,this.onerror):d)}}function Gy(s,c){return s===Tt?c:function(u){var d=s.apply(this,arguments);l(u,d);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var v=c.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?Bn(h,this.onsuccess):h),g&&(this.onerror=this.onerror?Bn(g,this.onerror):g),d===void 0?v===void 0?void 0:v:l(d,v)}}function Xy(s,c){return s===Tt?c:function(){return c.apply(this,arguments)===!1?!1:s.apply(this,arguments)}}function vl(s,c){return s===Tt?c:function(){var u=s.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return u.then(function(){return c.apply(d,g)})}return c.apply(this,arguments)}}var lr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hh(s,c){lr=s}var ho={},mh=100,bl=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,f(s),s];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,f(c),s]}(),ph=bl[0],gh=bl[1],Zy=bl[2],Jy=gh&&gh.then,mo=ph&&ph.constructor,yl=!!Zy;function t_(){queueMicrotask(r_)}var po=function(s,c){go.push([s,c]),Ba&&(t_(),Ba=!1)},_l=!0,Ba=!0,jn=[],ja=[],xl=fo,tn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},Z=tn,go=[],zn=0,za=[];function W(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=Z;if(typeof s!="function"){if(s!==ho)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Cl(this,this._value);return}this._state=null,this._value=null,++c.ref,bh(this,s)}var wl={get:function(){var s=Z,c=Wa;function u(d,h){var g=this,v=!s.global&&(s!==Z||c!==Wa),b=v&&!rn(),_=new W(function(w,R){Sl(g,new vh(xh(d,s,v,b),xh(h,s,v,b),w,R,s))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return u.prototype=ho,u},set:function(s){S(this,"then",s&&s.prototype===ho?wl:{get:function(){return s},set:wl.set})}};y(W.prototype,{then:wl,_then:function(s,c){Sl(this,new vh(null,null,s,c,Z))},catch:function(s){if(arguments.length===1)return this.then(null,s);var c=arguments[0],u=arguments[1];return typeof c=="function"?this.then(null,function(d){return d instanceof c?u(d):Ua(d)}):this.then(null,function(d){return d&&d.name===c?u(d):Ua(d)})},finally:function(s){return this.then(function(c){return W.resolve(s()).then(function(){return c})},function(c){return W.resolve(s()).then(function(){return Ua(c)})})},timeout:function(s,c){var u=this;return s<1/0?new W(function(d,h){var g=setTimeout(function(){return h(new tt.Timeout(c))},s);u.then(d,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(W.prototype,Symbol.toStringTag,"Dexie.Promise"),tn.env=_h();function vh(s,c,u,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=d,this.psd=h}y(W,{all:function(){var s=Ze.apply(null,arguments).map(Ha);return new W(function(c,u){s.length===0&&c([]);var d=s.length;s.forEach(function(h,g){return W.resolve(h).then(function(v){s[g]=v,--d||c(s)},u)})})},resolve:function(s){if(s instanceof W)return s;if(s&&typeof s.then=="function")return new W(function(u,d){s.then(u,d)});var c=new W(ho,!0,s);return c},reject:Ua,race:function(){var s=Ze.apply(null,arguments).map(Ha);return new W(function(c,u){s.map(function(d){return W.resolve(d).then(c,u)})})},PSD:{get:function(){return Z},set:function(s){return Z=s}},totalEchoes:{get:function(){return Wa}},newPSD:en,usePSD:Un,scheduler:{get:function(){return po},set:function(s){po=s}},rejectionMapper:{get:function(){return xl},set:function(s){xl=s}},follow:function(s,c){return new W(function(u,d){return en(function(h,g){var v=Z;v.unhandleds=[],v.onunhandled=g,v.finalize=Bn(function(){var b=this;n_(function(){b.unhandleds.length===0?h():g(b.unhandleds[0])})},v.finalize),s()},c,u,d)})}}),mo&&(mo.allSettled&&S(W,"allSettled",function(){var s=Ze.apply(null,arguments).map(Ha);return new W(function(c){s.length===0&&c([]);var u=s.length,d=new Array(u);s.forEach(function(h,g){return W.resolve(h).then(function(v){return d[g]={status:"fulfilled",value:v}},function(v){return d[g]={status:"rejected",reason:v}}).then(function(){return--u||c(d)})})})}),mo.any&&typeof AggregateError<"u"&&S(W,"any",function(){var s=Ze.apply(null,arguments).map(Ha);return new W(function(c,u){s.length===0&&u(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(g,v){return W.resolve(g).then(function(b){return c(b)},function(b){h[v]=b,--d||u(new AggregateError(h))})})})}));function bh(s,c){try{c(function(u){if(s._state===null){if(u===s)throw new TypeError("A promise cannot be resolved with itself.");var d=s._lib&&pi();u&&typeof u.then=="function"?bh(s,function(h,g){u instanceof W?u._then(h,g):u.then(h,g)}):(s._state=!0,s._value=u,yh(s)),d&&gi()}},Cl.bind(null,s))}catch(u){Cl(s,u)}}function Cl(s,c){if(ja.push(c),s._state===null){var u=s._lib&&pi();c=xl(c),s._state=!1,s._value=c,i_(s),yh(s),u&&gi()}}function yh(s){var c=s._listeners;s._listeners=[];for(var u=0,d=c.length;u<d;++u)Sl(s,c[u]);var h=s._PSD;--h.ref||h.finalize(),zn===0&&(++zn,po(function(){--zn===0&&El()},[]))}function Sl(s,c){if(s._state===null){s._listeners.push(c);return}var u=s._state?c.onFulfilled:c.onRejected;if(u===null)return(s._state?c.resolve:c.reject)(s._value);++c.psd.ref,++zn,po(e_,[u,s,c])}function e_(s,c,u){try{var d,h=c._value;!c._state&&ja.length&&(ja=[]),d=lr&&c._consoleTask?c._consoleTask.run(function(){return s(h)}):s(h),!c._state&&ja.indexOf(h)===-1&&o_(c),u.resolve(d)}catch(g){u.reject(g)}finally{--zn===0&&El(),--u.psd.ref||u.psd.finalize()}}function r_(){Un(tn,function(){pi()&&gi()})}function pi(){var s=_l;return _l=!1,Ba=!1,s}function gi(){var s,c,u;do for(;go.length>0;)for(s=go,go=[],u=s.length,c=0;c<u;++c){var d=s[c];d[0].apply(null,d[1])}while(go.length>0);_l=!0,Ba=!0}function El(){var s=jn;jn=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var c=za.slice(0),u=c.length;u;)c[--u]()}function n_(s){function c(){s(),za.splice(za.indexOf(c),1)}za.push(c),++zn,po(function(){--zn===0&&El()},[])}function i_(s){jn.some(function(c){return c._value===s._value})||jn.push(s)}function o_(s){for(var c=jn.length;c;)if(jn[--c]._value===s._value){jn.splice(c,1);return}}function Ua(s){return new W(ho,!1,s)}function jt(s,c){var u=Z;return function(){var d=pi(),h=Z;try{return nn(u,!0),s.apply(this,arguments)}catch(g){c&&c(g)}finally{nn(h,!1),d&&gi()}}}var ie={awaits:0,echoes:0,id:0},a_=0,Va=[],Ka=0,Wa=0,s_=0;function en(s,c,u,d){var h=Z,g=Object.create(h);g.parent=h,g.ref=0,g.global=!1,g.id=++s_,tn.env,g.env=yl?{Promise:W,PromiseProp:{value:W,configurable:!0,writable:!0},all:W.all,race:W.race,allSettled:W.allSettled,any:W.any,resolve:W.resolve,reject:W.reject}:{},c&&l(g,c),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()};var v=Un(g,s,u,d);return g.ref===0&&g.finalize(),v}function vi(){return ie.id||(ie.id=++a_),++ie.awaits,ie.echoes+=mh,ie.id}function rn(){return ie.awaits?(--ie.awaits===0&&(ie.id=0),ie.echoes=ie.awaits*mh,!0):!1}(""+Jy).indexOf("[native code]")===-1&&(vi=rn=Tt);function Ha(s){return ie.echoes&&s&&s.constructor===mo?(vi(),s.then(function(c){return rn(),c},function(c){return rn(),Wt(c)})):s}function c_(s){++Wa,(!ie.echoes||--ie.echoes===0)&&(ie.echoes=ie.awaits=ie.id=0),Va.push(Z),nn(s,!0)}function l_(){var s=Va[Va.length-1];Va.pop(),nn(s,!1)}function nn(s,c){var u=Z;if((c?ie.echoes&&(!Ka++||s!==Z):Ka&&(!--Ka||s!==Z))&&queueMicrotask(c?c_.bind(null,s):l_),s!==Z&&(Z=s,u===tn&&(tn.env=_h()),yl)){var d=tn.env.Promise,h=s.env;(u.global||s.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),d.all=h.all,d.race=h.race,d.resolve=h.resolve,d.reject=h.reject,h.allSettled&&(d.allSettled=h.allSettled),h.any&&(d.any=h.any))}}function _h(){var s=i.Promise;return yl?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Un(s,c,u,d,h){var g=Z;try{return nn(s,!0),c(u,d,h)}finally{nn(g,!1)}}function xh(s,c,u,d){return typeof s!="function"?s:function(){var h=Z;u&&vi(),nn(c,!0);try{return s.apply(this,arguments)}finally{nn(h,!1),d&&queueMicrotask(rn)}}}function Rl(s){Promise===mo&&ie.echoes===0?Ka===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}var Wt=W.reject;function Dl(s,c,u,d){if(!s.idbdb||!s._state.openComplete&&!Z.letThrough&&!s._vip){if(s._state.openComplete)return Wt(new tt.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return Wt(new tt.DatabaseClosed);s.open().catch(Tt)}return s._state.dbReadyPromise.then(function(){return Dl(s,c,u,d)})}else{var h=s._createTransaction(c,u,s._dbSchema);try{h.create(),s._state.PR1398_maxLoop=3}catch(g){return g.name===gl.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s.close({disableAutoOpen:!1}),s.open().then(function(){return Dl(s,c,u,d)})):Wt(g)}return h._promise(c,function(g,v){return en(function(){return Z.trans=h,d(g,v,h)})}).then(function(g){if(c==="readwrite")try{h.idbtrans.commit()}catch{}return c==="readonly"?g:h._completion.then(function(){return g})})}}var wh="4.0.1",Vn="\uFFFF",Ol=-1/0,Ar="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ch="String expected.",bi=[],qa="__dbnames",Il="readonly",kl="readwrite";function Kn(s,c){return s?c?function(){return s.apply(this,arguments)&&c.apply(this,arguments)}:s:c}var Sh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ya(s){return typeof s=="string"&&!/\./.test(s)?function(c){return c[s]===void 0&&s in c&&(c=Ne(c),delete c[s]),c}:function(c){return c}}function Eh(){throw tt.Type()}function Rt(s,c){try{var u=Rh(s),d=Rh(c);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return s>c?1:s<c?-1:0;case"binary":return d_(Dh(s),Dh(c));case"Array":return u_(s,c)}}catch{}return NaN}function u_(s,c){for(var u=s.length,d=c.length,h=u<d?u:d,g=0;g<h;++g){var v=Rt(s[g],c[g]);if(v!==0)return v}return u===d?0:u<d?-1:1}function d_(s,c){for(var u=s.length,d=c.length,h=u<d?u:d,g=0;g<h;++g)if(s[g]!==c[g])return s[g]<c[g]?-1:1;return u===d?0:u<d?-1:1}function Rh(s){var c=typeof s;if(c!=="object")return c;if(ArrayBuffer.isView(s))return"binary";var u=Jr(s);return u==="ArrayBuffer"?"binary":u}function Dh(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}var Oh=function(){function s(){}return s.prototype._trans=function(c,u,d){var h=this._tx||Z.trans,g=this.name,v=lr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function b(R,C,E){if(!E.schema[g])throw new tt.NotFound("Table "+g+" not part of transaction");return u(E.idbtrans,E)}var _=pi();try{var w=h&&h.db._novip===this.db._novip?h===Z.trans?h._promise(c,b,d):en(function(){return h._promise(c,b,d)},{trans:h,transless:Z.transless||Z}):Dl(this.db,c,[this.name],b);return v&&(w._consoleTask=v,w=w.catch(function(R){return console.trace(R),Wt(R)})),w}finally{_&&gi()}},s.prototype.get=function(c,u){var d=this;return c&&c.constructor===Object?this.where(c).first(u):c==null?Wt(new tt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return d.core.get({trans:h,key:c}).then(function(g){return d.hook.reading.fire(g)})}).then(u)},s.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(a(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var u=o(c);if(u.length===1)return this.where(u[0]).equals(c[u[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&u.every(function(F){return C.keyPath.indexOf(F)>=0})){for(var E=0;E<u.length;++E)if(u.indexOf(C.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(C,E){return C.keyPath.length-E.keyPath.length})[0];if(d&&this.db._maxKey!==Vn){var h=d.keyPath.slice(0,u.length);return this.where(h).equals(h.map(function(C){return c[C]}))}!d&&lr&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var g=this.schema.idxByName,v=this.db._deps.indexedDB;function b(C,E){return v.cmp(C,E)===0}var _=u.reduce(function(C,E){var F=C[0],D=C[1],O=g[E],k=c[E];return[F||O,F||!O?Kn(D,O&&O.multi?function(T){var $=vt(T,E);return a($)&&$.some(function(M){return b(k,M)})}:function(T){return b(k,vt(T,E))}):D]},[null,null]),w=_[0],R=_[1];return w?this.where(w.name).equals(c[w.keyPath]).filter(R):d?this.filter(R):this.where(u).equals("")},s.prototype.filter=function(c){return this.toCollection().and(c)},s.prototype.count=function(c){return this.toCollection().count(c)},s.prototype.offset=function(c){return this.toCollection().offset(c)},s.prototype.limit=function(c){return this.toCollection().limit(c)},s.prototype.each=function(c){return this.toCollection().each(c)},s.prototype.toArray=function(c){return this.toCollection().toArray(c)},s.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},s.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,a(c)?"[".concat(c.join("+"),"]"):c))},s.prototype.reverse=function(){return this.toCollection().reverse()},s.prototype.mapToClass=function(c){var u=this,d=u.db,h=u.name;this.schema.mappedClass=c,c.prototype instanceof Eh&&(c=function(_){t(w,_);function w(){return _!==null&&_.apply(this,arguments)||this}return Object.defineProperty(w.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),w.prototype.table=function(){return h},w}(c));for(var g=new Set,v=c.prototype;v;v=f(v))Object.getOwnPropertyNames(v).forEach(function(_){return g.add(_)});var b=function(_){if(!_)return _;var w=Object.create(c.prototype);for(var R in _)if(!g.has(R))try{w[R]=_[R]}catch{}return w};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),c},s.prototype.defineClass=function(){function c(u){l(this,u)}return this.mapToClass(c)},s.prototype.add=function(c,u){var d=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,b=c;return v&&g&&(b=Ya(v)(c)),this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"add",keys:u!=null?[u]:null,values:[b]})}).then(function(_){return _.numFailures?W.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{_t(c,v,_)}catch{}return _})},s.prototype.update=function(c,u){if(typeof c=="object"&&!a(c)){var d=vt(c,this.schema.primKey.keyPath);return d===void 0?Wt(new tt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(u)}else return this.where(":id").equals(c).modify(u)},s.prototype.put=function(c,u){var d=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,b=c;return v&&g&&(b=Ya(v)(c)),this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"put",values:[b],keys:u!=null?[u]:null})}).then(function(_){return _.numFailures?W.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{_t(c,v,_)}catch{}return _})},s.prototype.delete=function(c){var u=this;return this._trans("readwrite",function(d){return u.core.mutate({trans:d,type:"delete",keys:[c]})}).then(function(d){return d.numFailures?W.reject(d.failures[0]):void 0})},s.prototype.clear=function(){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"deleteRange",range:Sh})}).then(function(u){return u.numFailures?W.reject(u.failures[0]):void 0})},s.prototype.bulkGet=function(c){var u=this;return this._trans("readonly",function(d){return u.core.getMany({keys:c,trans:d}).then(function(h){return h.map(function(g){return u.hook.reading.fire(g)})})})},s.prototype.bulkAdd=function(c,u,d){var h=this,g=Array.isArray(u)?u:void 0;d=d||(g?void 0:u);var v=d?d.allKeys:void 0;return this._trans("readwrite",function(b){var _=h.schema.primKey,w=_.auto,R=_.keyPath;if(R&&g)throw new tt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==c.length)throw new tt.InvalidArgument("Arguments objects and keys must have the same length");var C=c.length,E=R&&w?c.map(Ya(R)):c;return h.core.mutate({trans:b,type:"add",keys:g,values:E,wantResults:v}).then(function(F){var D=F.numFailures,O=F.results,k=F.lastResult,T=F.failures,$=v?O:k;if(D===0)return $;throw new mi("".concat(h.name,".bulkAdd(): ").concat(D," of ").concat(C," operations failed"),T)})})},s.prototype.bulkPut=function(c,u,d){var h=this,g=Array.isArray(u)?u:void 0;d=d||(g?void 0:u);var v=d?d.allKeys:void 0;return this._trans("readwrite",function(b){var _=h.schema.primKey,w=_.auto,R=_.keyPath;if(R&&g)throw new tt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==c.length)throw new tt.InvalidArgument("Arguments objects and keys must have the same length");var C=c.length,E=R&&w?c.map(Ya(R)):c;return h.core.mutate({trans:b,type:"put",keys:g,values:E,wantResults:v}).then(function(F){var D=F.numFailures,O=F.results,k=F.lastResult,T=F.failures,$=v?O:k;if(D===0)return $;throw new mi("".concat(h.name,".bulkPut(): ").concat(D," of ").concat(C," operations failed"),T)})})},s.prototype.bulkUpdate=function(c){var u=this,d=this.core,h=c.map(function(b){return b.key}),g=c.map(function(b){return b.changes}),v=[];return this._trans("readwrite",function(b){return d.getMany({trans:b,keys:h,cache:"clone"}).then(function(_){var w=[],R=[];c.forEach(function(E,F){var D=E.key,O=E.changes,k=_[F];if(k){for(var T=0,$=Object.keys(O);T<$.length;T++){var M=$[T],L=O[M];if(M===u.schema.primKey.keyPath){if(Rt(L,D)!==0)throw new tt.Constraint("Cannot update primary key in bulkUpdate()")}else _t(k,M,L)}v.push(F),w.push(D),R.push(k)}});var C=w.length;return d.mutate({trans:b,type:"put",keys:w,values:R,updates:{keys:h,changeSpecs:g}}).then(function(E){var F=E.numFailures,D=E.failures;if(F===0)return C;for(var O=0,k=Object.keys(D);O<k.length;O++){var T=k[O],$=v[Number(T)];if($!=null){var M=D[T];delete D[T],D[$]=M}}throw new mi("".concat(u.name,".bulkUpdate(): ").concat(F," of ").concat(C," operations failed"),D)})})})},s.prototype.bulkDelete=function(c){var u=this,d=c.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:c})}).then(function(h){var g=h.numFailures,v=h.lastResult,b=h.failures;if(g===0)return v;throw new mi("".concat(u.name,".bulkDelete(): ").concat(g," of ").concat(d," operations failed"),b)})},s}();function vo(s){var c={},u=function(b,_){if(_){for(var w=arguments.length,R=new Array(w-1);--w;)R[w-1]=arguments[w];return c[b].subscribe.apply(null,R),s}else if(typeof b=="string")return c[b]};u.addEventType=g;for(var d=1,h=arguments.length;d<h;++d)g(arguments[d]);return u;function g(b,_,w){if(typeof b=="object")return v(b);_||(_=Xy),w||(w=Tt);var R={subscribers:[],fire:w,subscribe:function(C){R.subscribers.indexOf(C)===-1&&(R.subscribers.push(C),R.fire=_(R.fire,C))},unsubscribe:function(C){R.subscribers=R.subscribers.filter(function(E){return E!==C}),R.fire=R.subscribers.reduce(_,w)}};return c[b]=u[b]=R,R}function v(b){o(b).forEach(function(_){var w=b[_];if(a(w))g(_,b[_][0],b[_][1]);else if(w==="asap")var R=g(_,fo,function(){for(var E=arguments.length,F=new Array(E);E--;)F[E]=arguments[E];R.subscribers.forEach(function(D){bt(function(){D.apply(null,F)})})});else throw new tt.InvalidArgument("Invalid event config")})}}function bo(s,c){return N(c).from({prototype:s}),c}function f_(s){return bo(Oh.prototype,function(u,d,h){this.db=s,this._tx=h,this.name=u,this.schema=d,this.hook=s._allTables[u]?s._allTables[u].hook:vo(null,{creating:[Yy,Tt],reading:[qy,fo],updating:[Gy,Tt],deleting:[Qy,Tt]})})}function yi(s,c){return!(s.filter||s.algorithm||s.or)&&(c?s.justLimit:!s.replayFilter)}function Al(s,c){s.filter=Kn(s.filter,c)}function Tl(s,c,u){var d=s.replayFilter;s.replayFilter=d?function(){return Kn(d(),c())}:c,s.justLimit=u&&!d}function h_(s,c){s.isMatch=Kn(s.isMatch,c)}function Qa(s,c){if(s.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(s.index);if(!u)throw new tt.Schema("KeyPath "+s.index+" on object store "+c.name+" is not indexed");return u}function Ih(s,c,u){var d=Qa(s,c.schema);return c.openCursor({trans:u,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function Ga(s,c,u,d){var h=s.replayFilter?Kn(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},v=function(b,_,w){if(!h||h(_,w,function(E){return _.stop(E)},function(E){return _.fail(E)})){var R=_.primaryKey,C=""+R;C==="[object ArrayBuffer]"&&(C=""+new Uint8Array(R)),p(g,C)||(g[C]=!0,c(b,_,w))}};return Promise.all([s.or._iterate(v,u),kh(Ih(s,d,u),s.algorithm,v,!s.keysOnly&&s.valueMapper)])}else return kh(Ih(s,d,u),Kn(s.algorithm,h),c,!s.keysOnly&&s.valueMapper)}function kh(s,c,u,d){var h=d?function(v,b,_){return u(d(v),b,_)}:u,g=jt(h);return s.then(function(v){if(v)return v.start(function(){var b=function(){return v.continue()};(!c||c(v,function(_){return b=_},function(_){v.stop(_),b=Tt},function(_){v.fail(_),b=Tt}))&&g(v.value,v,function(_){return b=_}),b()})})}var m_=Symbol(),Pl=function(){function s(c){Object.assign(this,c)}return s.prototype.execute=function(c){var u,d=(u=this.replacePrefix)===null||u===void 0?void 0:u[0];return d&&typeof c=="string"&&c.startsWith(d)?this.replacePrefix[1]+c.substring(d.length):c},s}(),p_=function(){function s(){}return s.prototype._read=function(c,u){var d=this._ctx;return d.error?d.table._trans(null,Wt.bind(null,d.error)):d.table._trans("readonly",c).then(u)},s.prototype._write=function(c){var u=this._ctx;return u.error?u.table._trans(null,Wt.bind(null,u.error)):u.table._trans("readwrite",c,"locked")},s.prototype._addAlgorithm=function(c){var u=this._ctx;u.algorithm=Kn(u.algorithm,c)},s.prototype._iterate=function(c,u){return Ga(this._ctx,c,u,this._ctx.table.core)},s.prototype.clone=function(c){var u=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return c&&l(d,c),u._ctx=d,u},s.prototype.raw=function(){return this._ctx.valueMapper=null,this},s.prototype.each=function(c){var u=this._ctx;return this._read(function(d){return Ga(u,c,d,u.table.core)})},s.prototype.count=function(c){var u=this;return this._read(function(d){var h=u._ctx,g=h.table.core;if(yi(h,!0))return g.count({trans:d,query:{index:Qa(h,g.schema),range:h.range}}).then(function(b){return Math.min(b,h.limit)});var v=0;return Ga(h,function(){return++v,!1},d,g).then(function(){return v})}).then(c)},s.prototype.sortBy=function(c,u){var d=c.split(".").reverse(),h=d[0],g=d.length-1;function v(w,R){return R?v(w[d[R]],R-1):w[h]}var b=this._ctx.dir==="next"?1:-1;function _(w,R){var C=v(w,g),E=v(R,g);return C<E?-b:C>E?b:0}return this.toArray(function(w){return w.sort(_)}).then(u)},s.prototype.toArray=function(c){var u=this;return this._read(function(d){var h=u._ctx;if(h.dir==="next"&&yi(h,!0)&&h.limit>0){var g=h.valueMapper,v=Qa(h,h.table.core.schema);return h.table.core.query({trans:d,limit:h.limit,values:!0,query:{index:v,range:h.range}}).then(function(_){var w=_.result;return g?w.map(g):w})}else{var b=[];return Ga(h,function(_){return b.push(_)},d,h.table.core).then(function(){return b})}},c)},s.prototype.offset=function(c){var u=this._ctx;return c<=0?this:(u.offset+=c,yi(u)?Tl(u,function(){var d=c;return function(h,g){return d===0?!0:d===1?(--d,!1):(g(function(){h.advance(d),d=0}),!1)}}):Tl(u,function(){var d=c;return function(){return--d<0}}),this)},s.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),Tl(this._ctx,function(){var u=c;return function(d,h,g){return--u<=0&&h(g),u>=0}},!0),this},s.prototype.until=function(c,u){return Al(this._ctx,function(d,h,g){return c(d.value)?(h(g),u):!0}),this},s.prototype.first=function(c){return this.limit(1).toArray(function(u){return u[0]}).then(c)},s.prototype.last=function(c){return this.reverse().first(c)},s.prototype.filter=function(c){return Al(this._ctx,function(u){return c(u.value)}),h_(this._ctx,c),this},s.prototype.and=function(c){return this.filter(c)},s.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},s.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},s.prototype.desc=function(){return this.reverse()},s.prototype.eachKey=function(c){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(d,h){c(h.key,h)})},s.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},s.prototype.eachPrimaryKey=function(c){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(d,h){c(h.primaryKey,h)})},s.prototype.keys=function(c){var u=this._ctx;u.keysOnly=!u.isMatch;var d=[];return this.each(function(h,g){d.push(g.key)}).then(function(){return d}).then(c)},s.prototype.primaryKeys=function(c){var u=this._ctx;if(u.dir==="next"&&yi(u,!0)&&u.limit>0)return this._read(function(h){var g=Qa(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:g,range:u.range}})}).then(function(h){var g=h.result;return g}).then(c);u.keysOnly=!u.isMatch;var d=[];return this.each(function(h,g){d.push(g.primaryKey)}).then(function(){return d}).then(c)},s.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},s.prototype.firstKey=function(c){return this.limit(1).keys(function(u){return u[0]}).then(c)},s.prototype.lastKey=function(c){return this.reverse().firstKey(c)},s.prototype.distinct=function(){var c=this._ctx,u=c.index&&c.table.schema.idxByName[c.index];if(!u||!u.multi)return this;var d={};return Al(this._ctx,function(h){var g=h.primaryKey.toString(),v=p(d,g);return d[g]=!0,!v}),this},s.prototype.modify=function(c){var u=this,d=this._ctx;return this._write(function(h){var g;if(typeof c=="function")g=c;else{var v=o(c),b=v.length;g=function(T){for(var $=!1,M=0;M<b;++M){var L=v[M],I=c[L],z=vt(T,L);I instanceof Pl?(_t(T,L,I.execute(z)),$=!0):z!==I&&(_t(T,L,I),$=!0)}return $}}var _=d.table.core,w=_.schema.primaryKey,R=w.outbound,C=w.extractKey,E=u.db._options.modifyChunkSize||200,F=[],D=0,O=[],k=function(T,$){var M=$.failures,L=$.numFailures;D+=T-L;for(var I=0,z=o(M);I<z.length;I++){var q=z[I];F.push(M[q])}};return u.clone().primaryKeys().then(function(T){var $=function(M){var L=Math.min(E,T.length-M);return _.getMany({trans:h,keys:T.slice(M,M+L),cache:"immutable"}).then(function(I){for(var z=[],q=[],X=R?[]:null,Q=[],nt=0;nt<L;++nt){var yt=I[nt],Dt={value:Ne(yt),primKey:T[M+nt]};g.call(Dt,Dt.value,Dt)!==!1&&(Dt.value==null?Q.push(T[M+nt]):!R&&Rt(C(yt),C(Dt.value))!==0?(Q.push(T[M+nt]),z.push(Dt.value)):(q.push(Dt.value),R&&X.push(T[M+nt])))}var mt=yi(d)&&d.limit===1/0&&(typeof c!="function"||c===Ml)&&{index:d.index,range:d.range};return Promise.resolve(z.length>0&&_.mutate({trans:h,type:"add",values:z}).then(function(Nt){for(var dt in Nt.failures)Q.splice(parseInt(dt),1);k(z.length,Nt)})).then(function(){return(q.length>0||mt&&typeof c=="object")&&_.mutate({trans:h,type:"put",keys:X,values:q,criteria:mt,changeSpec:typeof c!="function"&&c}).then(function(Nt){return k(q.length,Nt)})}).then(function(){return(Q.length>0||mt&&c===Ml)&&_.mutate({trans:h,type:"delete",keys:Q,criteria:mt}).then(function(Nt){return k(Q.length,Nt)})}).then(function(){return T.length>M+L&&$(M+E)})})};return $(0).then(function(){if(F.length>0)throw new Fa("Error modifying one or more objects",F,D,O);return T.length})})})},s.prototype.delete=function(){var c=this._ctx,u=c.range;return yi(c)&&(c.isPrimKey||u.type===3)?this._write(function(d){var h=c.table.core.schema.primaryKey,g=u;return c.table.core.count({trans:d,query:{index:h,range:g}}).then(function(v){return c.table.core.mutate({trans:d,type:"deleteRange",range:g}).then(function(b){var _=b.failures;b.lastResult,b.results;var w=b.numFailures;if(w)throw new Fa("Could not delete some values",Object.keys(_).map(function(R){return _[R]}),v-w);return v-w})})}):this.modify(Ml)},s}(),Ml=function(s,c){return c.value=null};function g_(s){return bo(p_.prototype,function(u,d){this.db=s;var h=Sh,g=null;if(d)try{h=d()}catch(w){g=w}var v=u._ctx,b=v.table,_=b.hook.reading.fire;this._ctx={table:b,index:v.index,isPrimKey:!v.index||b.schema.primKey.keyPath&&v.index===b.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:v.or,valueMapper:_!==fo?_:null}})}function v_(s,c){return s<c?-1:s===c?0:1}function b_(s,c){return s>c?-1:s===c?0:1}function $e(s,c,u){var d=s instanceof Th?new s.Collection(s):s;return d._ctx.error=u?new u(c):new TypeError(c),d}function _i(s){return new s.Collection(s,function(){return Ah("")}).limit(0)}function y_(s){return s==="next"?function(c){return c.toUpperCase()}:function(c){return c.toLowerCase()}}function __(s){return s==="next"?function(c){return c.toLowerCase()}:function(c){return c.toUpperCase()}}function x_(s,c,u,d,h,g){for(var v=Math.min(s.length,d.length),b=-1,_=0;_<v;++_){var w=c[_];if(w!==d[_])return h(s[_],u[_])<0?s.substr(0,_)+u[_]+u.substr(_+1):h(s[_],d[_])<0?s.substr(0,_)+d[_]+u.substr(_+1):b>=0?s.substr(0,b)+c[b]+u.substr(b+1):null;h(s[_],w)<0&&(b=_)}return v<d.length&&g==="next"?s+u.substr(s.length):v<s.length&&g==="prev"?s.substr(0,u.length):b<0?null:s.substr(0,b)+d[b]+u.substr(b+1)}function Xa(s,c,u,d){var h,g,v,b,_,w,R,C=u.length;if(!u.every(function(O){return typeof O=="string"}))return $e(s,Ch);function E(O){h=y_(O),g=__(O),v=O==="next"?v_:b_;var k=u.map(function(T){return{lower:g(T),upper:h(T)}}).sort(function(T,$){return v(T.lower,$.lower)});b=k.map(function(T){return T.upper}),_=k.map(function(T){return T.lower}),w=O,R=O==="next"?"":d}E("next");var F=new s.Collection(s,function(){return on(b[0],_[C-1]+d)});F._ondirectionchange=function(O){E(O)};var D=0;return F._addAlgorithm(function(O,k,T){var $=O.key;if(typeof $!="string")return!1;var M=g($);if(c(M,_,D))return!0;for(var L=null,I=D;I<C;++I){var z=x_($,M,b[I],_[I],v,w);z===null&&L===null?D=I+1:(L===null||v(L,z)>0)&&(L=z)}return k(L!==null?function(){O.continue(L+R)}:T),!1}),F}function on(s,c,u,d){return{type:2,lower:s,upper:c,lowerOpen:u,upperOpen:d}}function Ah(s){return{type:1,lower:s,upper:s}}var Th=function(){function s(){}return Object.defineProperty(s.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),s.prototype.between=function(c,u,d,h){d=d!==!1,h=h===!0;try{return this._cmp(c,u)>0||this._cmp(c,u)===0&&(d||h)&&!(d&&h)?_i(this):new this.Collection(this,function(){return on(c,u,!d,!h)})}catch{return $e(this,Ar)}},s.prototype.equals=function(c){return c==null?$e(this,Ar):new this.Collection(this,function(){return Ah(c)})},s.prototype.above=function(c){return c==null?$e(this,Ar):new this.Collection(this,function(){return on(c,void 0,!0)})},s.prototype.aboveOrEqual=function(c){return c==null?$e(this,Ar):new this.Collection(this,function(){return on(c,void 0,!1)})},s.prototype.below=function(c){return c==null?$e(this,Ar):new this.Collection(this,function(){return on(void 0,c,!1,!0)})},s.prototype.belowOrEqual=function(c){return c==null?$e(this,Ar):new this.Collection(this,function(){return on(void 0,c)})},s.prototype.startsWith=function(c){return typeof c!="string"?$e(this,Ch):this.between(c,c+Vn,!0,!0)},s.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):Xa(this,function(u,d){return u.indexOf(d[0])===0},[c],Vn)},s.prototype.equalsIgnoreCase=function(c){return Xa(this,function(u,d){return u===d[0]},[c],"")},s.prototype.anyOfIgnoreCase=function(){var c=Ze.apply(Xe,arguments);return c.length===0?_i(this):Xa(this,function(u,d){return d.indexOf(u)!==-1},c,"")},s.prototype.startsWithAnyOfIgnoreCase=function(){var c=Ze.apply(Xe,arguments);return c.length===0?_i(this):Xa(this,function(u,d){return d.some(function(h){return u.indexOf(h)===0})},c,Vn)},s.prototype.anyOf=function(){var c=this,u=Ze.apply(Xe,arguments),d=this._cmp;try{u.sort(d)}catch{return $e(this,Ar)}if(u.length===0)return _i(this);var h=new this.Collection(this,function(){return on(u[0],u[u.length-1])});h._ondirectionchange=function(v){d=v==="next"?c._ascending:c._descending,u.sort(d)};var g=0;return h._addAlgorithm(function(v,b,_){for(var w=v.key;d(w,u[g])>0;)if(++g,g===u.length)return b(_),!1;return d(w,u[g])===0?!0:(b(function(){v.continue(u[g])}),!1)}),h},s.prototype.notEqual=function(c){return this.inAnyRange([[Ol,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},s.prototype.noneOf=function(){var c=Ze.apply(Xe,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return $e(this,Ar)}var u=c.reduce(function(d,h){return d?d.concat([[d[d.length-1][1],h]]):[[Ol,h]]},null);return u.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},s.prototype.inAnyRange=function(c,u){var d=this,h=this._cmp,g=this._ascending,v=this._descending,b=this._min,_=this._max;if(c.length===0)return _i(this);if(!c.every(function(I){return I[0]!==void 0&&I[1]!==void 0&&g(I[0],I[1])<=0}))return $e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",tt.InvalidArgument);var w=!u||u.includeLowers!==!1,R=u&&u.includeUppers===!0;function C(I,z){for(var q=0,X=I.length;q<X;++q){var Q=I[q];if(h(z[0],Q[1])<0&&h(z[1],Q[0])>0){Q[0]=b(Q[0],z[0]),Q[1]=_(Q[1],z[1]);break}}return q===X&&I.push(z),I}var E=g;function F(I,z){return E(I[0],z[0])}var D;try{D=c.reduce(C,[]),D.sort(F)}catch{return $e(this,Ar)}var O=0,k=R?function(I){return g(I,D[O][1])>0}:function(I){return g(I,D[O][1])>=0},T=w?function(I){return v(I,D[O][0])>0}:function(I){return v(I,D[O][0])>=0};function $(I){return!k(I)&&!T(I)}var M=k,L=new this.Collection(this,function(){return on(D[0][0],D[D.length-1][1],!w,!R)});return L._ondirectionchange=function(I){I==="next"?(M=k,E=g):(M=T,E=v),D.sort(F)},L._addAlgorithm(function(I,z,q){for(var X=I.key;M(X);)if(++O,O===D.length)return z(q),!1;return $(X)?!0:(d._cmp(X,D[O][1])===0||d._cmp(X,D[O][0])===0||z(function(){E===g?I.continue(D[O][0]):I.continue(D[O][1])}),!1)}),L},s.prototype.startsWithAnyOf=function(){var c=Ze.apply(Xe,arguments);return c.every(function(u){return typeof u=="string"})?c.length===0?_i(this):this.inAnyRange(c.map(function(u){return[u,u+Vn]})):$e(this,"startsWithAnyOf() only works with strings")},s}();function w_(s){return bo(Th.prototype,function(u,d,h){if(this.db=s,this._ctx={table:u,index:d===":id"?null:d,or:h},this._cmp=this._ascending=Rt,this._descending=function(g,v){return Rt(v,g)},this._max=function(g,v){return Rt(g,v)>0?g:v},this._min=function(g,v){return Rt(g,v)<0?g:v},this._IDBKeyRange=s._deps.IDBKeyRange,!this._IDBKeyRange)throw new tt.MissingAPI})}function ur(s){return jt(function(c){return yo(c),s(c.target.error),!1})}function yo(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var _o="storagemutated",Nl="x-storagemutated-1",an=vo(null,_o),C_=function(){function s(){}return s.prototype._lock=function(){return Kt(!Z.global),++this._reculock,this._reculock===1&&!Z.global&&(Z.lockOwnerFor=this),this},s.prototype._unlock=function(){if(Kt(!Z.global),--this._reculock===0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var c=this._blockedFuncs.shift();try{Un(c[1],c[0])}catch{}}return this},s.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},s.prototype.create=function(c){var u=this;if(!this.mode)return this;var d=this.db.idbdb,h=this.db._state.dbOpenError;if(Kt(!this.idbtrans),!c&&!d)switch(h&&h.name){case"DatabaseClosedError":throw new tt.DatabaseClosed(h);case"MissingAPIError":throw new tt.MissingAPI(h.message,h);default:throw new tt.OpenFailed(h)}if(!this.active)throw new tt.TransactionInactive;return Kt(this._completion._state===null),c=this.idbtrans=c||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):d.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),c.onerror=jt(function(g){yo(g),u._reject(c.error)}),c.onabort=jt(function(g){yo(g),u.active&&u._reject(new tt.Abort(c.error)),u.active=!1,u.on("abort").fire(g)}),c.oncomplete=jt(function(){u.active=!1,u._resolve(),"mutatedParts"in c&&an.storagemutated.fire(c.mutatedParts)}),this},s.prototype._promise=function(c,u,d){var h=this;if(c==="readwrite"&&this.mode!=="readwrite")return Wt(new tt.ReadOnly("Transaction is readonly"));if(!this.active)return Wt(new tt.TransactionInactive);if(this._locked())return new W(function(v,b){h._blockedFuncs.push([function(){h._promise(c,u,d).then(v,b)},Z])});if(d)return en(function(){var v=new W(function(b,_){h._lock();var w=u(b,_,h);w&&w.then&&w.then(b,_)});return v.finally(function(){return h._unlock()}),v._lib=!0,v});var g=new W(function(v,b){var _=u(v,b,h);_&&_.then&&_.then(v,b)});return g._lib=!0,g},s.prototype._root=function(){return this.parent?this.parent._root():this},s.prototype.waitFor=function(c){var u=this._root(),d=W.resolve(c);if(u._waitingFor)u._waitingFor=u._waitingFor.then(function(){return d});else{u._waitingFor=d,u._waitingQueue=[];var h=u.idbtrans.objectStore(u.storeNames[0]);(function v(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(h.get(-1/0).onsuccess=v)})()}var g=u._waitingFor;return new W(function(v,b){d.then(function(_){return u._waitingQueue.push(jt(v.bind(null,_)))},function(_){return u._waitingQueue.push(jt(b.bind(null,_)))}).finally(function(){u._waitingFor===g&&(u._waitingFor=null)})})},s.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new tt.Abort))},s.prototype.table=function(c){var u=this._memoizedTables||(this._memoizedTables={});if(p(u,c))return u[c];var d=this.schema[c];if(!d)throw new tt.NotFound("Table "+c+" not part of transaction");var h=new this.db.Table(c,d,this);return h.core=this.db.core.table(c),u[c]=h,h},s}();function S_(s){return bo(C_.prototype,function(u,d,h,g,v){var b=this;this.db=s,this.mode=u,this.storeNames=d,this.schema=h,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=vo(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new W(function(_,w){b._resolve=_,b._reject=w}),this._completion.then(function(){b.active=!1,b.on.complete.fire()},function(_){var w=b.active;return b.active=!1,b.on.error.fire(_),b.parent?b.parent._reject(_):w&&b.idbtrans&&b.idbtrans.abort(),Wt(_)})})}function $l(s,c,u,d,h,g,v){return{name:s,keyPath:c,unique:u,multi:d,auto:h,compound:g,src:(u&&!v?"&":"")+(d?"*":"")+(h?"++":"")+Ph(c)}}function Ph(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Fl(s,c,u){return{name:s,primKey:c,indexes:u,mappedClass:null,idxByName:Mt(u,function(d){return[d.name,d]})}}function E_(s){return s.length===1?s[0]:s}var xo=function(s){try{return s.only([[]]),xo=function(){return[[]]},[[]]}catch{return xo=function(){return Vn},Vn}};function Ll(s){return s==null?function(){}:typeof s=="string"?R_(s):function(c){return vt(c,s)}}function R_(s){var c=s.split(".");return c.length===1?function(u){return u[s]}:function(u){return vt(u,s)}}function Mh(s){return[].slice.call(s)}var D_=0;function wo(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function O_(s,c,u){function d(C,E){var F=Mh(C.objectStoreNames);return{schema:{name:C.name,tables:F.map(function(D){return E.objectStore(D)}).map(function(D){var O=D.keyPath,k=D.autoIncrement,T=a(O),$=O==null,M={},L={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:$,compound:T,keyPath:O,autoIncrement:k,unique:!0,extractKey:Ll(O)},indexes:Mh(D.indexNames).map(function(I){return D.index(I)}).map(function(I){var z=I.name,q=I.unique,X=I.multiEntry,Q=I.keyPath,nt=a(Q),yt={name:z,compound:nt,keyPath:Q,unique:q,multiEntry:X,extractKey:Ll(Q)};return M[wo(Q)]=yt,yt}),getIndexByKeyPath:function(I){return M[wo(I)]}};return M[":id"]=L.primaryKey,O!=null&&(M[wo(O)]=L.primaryKey),L})},hasGetAll:F.length>0&&"getAll"in E.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function h(C){if(C.type===3)return null;if(C.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=C.lower,F=C.upper,D=C.lowerOpen,O=C.upperOpen,k=E===void 0?F===void 0?null:c.upperBound(F,!!O):F===void 0?c.lowerBound(E,!!D):c.bound(E,F,!!D,!!O);return k}function g(C){var E=C.name;function F(k){var T=k.trans,$=k.type,M=k.keys,L=k.values,I=k.range;return new Promise(function(z,q){z=jt(z);var X=T.objectStore(E),Q=X.keyPath==null,nt=$==="put"||$==="add";if(!nt&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var yt=(M||L||{length:1}).length;if(M&&L&&M.length!==L.length)throw new Error("Given keys array must have same length as given values array.");if(yt===0)return z({numFailures:0,failures:{},results:[],lastResult:void 0});var Dt,mt=[],Nt=[],dt=0,fe=function(fr){++dt,yo(fr)};if($==="deleteRange"){if(I.type===4)return z({numFailures:dt,failures:Nt,results:[],lastResult:void 0});I.type===3?mt.push(Dt=X.clear()):mt.push(Dt=X.delete(h(I)))}else{var Je=nt?Q?[L,M]:[L,null]:[M,null],ln=Je[0],dr=Je[1];if(nt)for(var Ve=0;Ve<yt;++Ve)mt.push(Dt=dr&&dr[Ve]!==void 0?X[$](ln[Ve],dr[Ve]):X[$](ln[Ve])),Dt.onerror=fe;else for(var Ve=0;Ve<yt;++Ve)mt.push(Dt=X[$](ln[Ve])),Dt.onerror=fe}var un=function(fr){var Eo=fr.target.result;mt.forEach(function(tr,ls){return tr.error!=null&&(Nt[ls]=tr.error)}),z({numFailures:dt,failures:Nt,results:$==="delete"?M:mt.map(function(tr){return tr.result}),lastResult:Eo})};Dt.onerror=function(fr){fe(fr),un(fr)},Dt.onsuccess=un})}function D(k){var T=k.trans,$=k.values,M=k.query,L=k.reverse,I=k.unique;return new Promise(function(z,q){z=jt(z);var X=M.index,Q=M.range,nt=T.objectStore(E),yt=X.isPrimaryKey?nt:nt.index(X.name),Dt=L?I?"prevunique":"prev":I?"nextunique":"next",mt=$||!("openKeyCursor"in yt)?yt.openCursor(h(Q),Dt):yt.openKeyCursor(h(Q),Dt);mt.onerror=ur(q),mt.onsuccess=jt(function(Nt){var dt=mt.result;if(!dt){z(null);return}dt.___id=++D_,dt.done=!1;var fe=dt.continue.bind(dt),Je=dt.continuePrimaryKey;Je&&(Je=Je.bind(dt));var ln=dt.advance.bind(dt),dr=function(){throw new Error("Cursor not started")},Ve=function(){throw new Error("Cursor not stopped")};dt.trans=T,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=dr,dt.fail=jt(q),dt.next=function(){var un=this,fr=1;return this.start(function(){return fr--?un.continue():un.stop()}).then(function(){return un})},dt.start=function(un){var fr=new Promise(function(tr,ls){tr=jt(tr),mt.onerror=ur(ls),dt.fail=ls,dt.stop=function(hx){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=Ve,tr(hx)}}),Eo=function(){if(mt.result)try{un()}catch(tr){dt.fail(tr)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()};return mt.onsuccess=jt(function(tr){mt.onsuccess=Eo,Eo()}),dt.continue=fe,dt.continuePrimaryKey=Je,dt.advance=ln,Eo(),fr},z(dt)},q)})}function O(k){return function(T){return new Promise(function($,M){$=jt($);var L=T.trans,I=T.values,z=T.limit,q=T.query,X=z===1/0?void 0:z,Q=q.index,nt=q.range,yt=L.objectStore(E),Dt=Q.isPrimaryKey?yt:yt.index(Q.name),mt=h(nt);if(z===0)return $({result:[]});if(k){var Nt=I?Dt.getAll(mt,X):Dt.getAllKeys(mt,X);Nt.onsuccess=function(ln){return $({result:ln.target.result})},Nt.onerror=ur(M)}else{var dt=0,fe=I||!("openKeyCursor"in Dt)?Dt.openCursor(mt):Dt.openKeyCursor(mt),Je=[];fe.onsuccess=function(ln){var dr=fe.result;if(!dr)return $({result:Je});if(Je.push(I?dr.value:dr.primaryKey),++dt===z)return $({result:Je});dr.continue()},fe.onerror=ur(M)}})}}return{name:E,schema:C,mutate:F,getMany:function(k){var T=k.trans,$=k.keys;return new Promise(function(M,L){M=jt(M);for(var I=T.objectStore(E),z=$.length,q=new Array(z),X=0,Q=0,nt,yt=function(dt){var fe=dt.target;(q[fe._pos]=fe.result)!=null,++Q===X&&M(q)},Dt=ur(L),mt=0;mt<z;++mt){var Nt=$[mt];Nt!=null&&(nt=I.get($[mt]),nt._pos=mt,nt.onsuccess=yt,nt.onerror=Dt,++X)}X===0&&M(q)})},get:function(k){var T=k.trans,$=k.key;return new Promise(function(M,L){M=jt(M);var I=T.objectStore(E),z=I.get($);z.onsuccess=function(q){return M(q.target.result)},z.onerror=ur(L)})},query:O(_),openCursor:D,count:function(k){var T=k.query,$=k.trans,M=T.index,L=T.range;return new Promise(function(I,z){var q=$.objectStore(E),X=M.isPrimaryKey?q:q.index(M.name),Q=h(L),nt=Q?X.count(Q):X.count();nt.onsuccess=jt(function(yt){return I(yt.target.result)}),nt.onerror=ur(z)})}}}var v=d(s,u),b=v.schema,_=v.hasGetAll,w=b.tables.map(function(C){return g(C)}),R={};return w.forEach(function(C){return R[C.name]=C}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(C){var E=R[C];if(!E)throw new Error("Table '".concat(C,"' not found"));return R[C]},MIN_KEY:-1/0,MAX_KEY:xo(c),schema:b}}function I_(s,c){return c.reduce(function(u,d){var h=d.create;return n(n({},u),h(u))},s)}function k_(s,c,u,d){var h=u.IDBKeyRange;u.indexedDB;var g=I_(O_(c,h,d),s.dbcore);return{dbcore:g}}function Za(s,c){var u=c.db,d=k_(s._middlewares,u,s._deps,c);s.core=d.dbcore,s.tables.forEach(function(h){var g=h.name;s.core.schema.tables.some(function(v){return v.name===g})&&(h.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=h.core))})}function Ja(s,c,u,d){u.forEach(function(h){var g=d[h];c.forEach(function(v){var b=rt(v,h);(!b||"value"in b&&b.value===void 0)&&(v===s.Transaction.prototype||v instanceof s.Transaction?S(v,h,{get:function(){return this.table(h)},set:function(_){x(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new s.Table(h,g))})})}function Bl(s,c){c.forEach(function(u){for(var d in u)u[d]instanceof s.Table&&delete u[d]})}function A_(s,c){return s._cfg.version-c._cfg.version}function T_(s,c,u,d){var h=s._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Fl("$meta",$h("")[0],[]),s._storeNames.push("$meta"));var g=s._createTransaction("readwrite",s._storeNames,h);g.create(u),g._completion.catch(d);var v=g._reject.bind(g),b=Z.transless||Z;en(function(){if(Z.trans=g,Z.transless=b,c===0)o(h).forEach(function(_){zl(u,_,h[_].primKey,h[_].indexes)}),Za(s,u),W.follow(function(){return s.on.populate.fire(g)}).catch(v);else return Za(s,u),M_(s,g,c).then(function(_){return N_(s,_,g,u)}).catch(v)})}function P_(s,c){Nh(s._dbSchema,c),c.db.version%10===0&&!c.objectStoreNames.contains("$meta")&&c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=es(s,s.idbdb,c);rs(s,s._dbSchema,c);for(var d=jl(u,s._dbSchema),h=function(w){if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=c.objectStore(w.name);w.add.forEach(function(C){lr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(C.src)),ts(R,C)})},g=0,v=d.change;g<v.length;g++){var b=v[g],_=h(b);if(typeof _=="object")return _.value}}function M_(s,c,u){return c.storeNames.includes("$meta")?c.table("$meta").get("version").then(function(d){return d??u}):W.resolve(u)}function N_(s,c,u,d){var h=[],g=s._versions,v=s._dbSchema=es(s,s.idbdb,d),b=g.filter(function(w){return w._cfg.version>=c});if(b.length===0)return W.resolve();b.forEach(function(w){h.push(function(){var R=v,C=w._cfg.dbschema;rs(s,R,d),rs(s,C,d),v=s._dbSchema=C;var E=jl(R,C);E.add.forEach(function($){zl(d,$[0],$[1].primKey,$[1].indexes)}),E.change.forEach(function($){if($.recreate)throw new tt.Upgrade("Not yet support for changing primary key");var M=d.objectStore($.name);$.add.forEach(function(L){return ts(M,L)}),$.change.forEach(function(L){M.deleteIndex(L.name),ts(M,L)}),$.del.forEach(function(L){return M.deleteIndex(L)})});var F=w._cfg.contentUpgrade;if(F&&w._cfg.version>c){Za(s,d),u._memoizedTables={};var D=cr(C);E.del.forEach(function($){D[$]=R[$]}),Bl(s,[s.Transaction.prototype]),Ja(s,[s.Transaction.prototype],o(D),D),u.schema=D;var O=ml(F);O&&vi();var k,T=W.follow(function(){if(k=F(u),k&&O){var $=rn.bind(null,null);k.then($,$)}});return k&&typeof k.then=="function"?W.resolve(k):T.then(function(){return k})}}),h.push(function(R){var C=w._cfg.dbschema;$_(C,R),Bl(s,[s.Transaction.prototype]),Ja(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),u.schema=s._dbSchema}),h.push(function(R){s.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(s.idbdb.version/10)===w._cfg.version?(s.idbdb.deleteObjectStore("$meta"),delete s._dbSchema.$meta,s._storeNames=s._storeNames.filter(function(C){return C!=="$meta"})):R.objectStore("$meta").put(w._cfg.version,"version"))})});function _(){return h.length?W.resolve(h.shift()(u.idbtrans)).then(_):W.resolve()}return _().then(function(){Nh(v,d)})}function jl(s,c){var u={del:[],add:[],change:[]},d;for(d in s)c[d]||u.del.push(d);for(d in c){var h=s[d],g=c[d];if(!h)u.add.push([d,g]);else{var v={name:d,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,u.change.push(v);else{var b=h.idxByName,_=g.idxByName,w=void 0;for(w in b)_[w]||v.del.push(w);for(w in _){var R=b[w],C=_[w];R?R.src!==C.src&&v.change.push(C):v.add.push(C)}(v.del.length>0||v.add.length>0||v.change.length>0)&&u.change.push(v)}}}return u}function zl(s,c,u,d){var h=s.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(g){return ts(h,g)}),h}function Nh(s,c){o(s).forEach(function(u){c.db.objectStoreNames.contains(u)||(lr&&console.debug("Dexie: Creating missing table",u),zl(c,u,s[u].primKey,s[u].indexes))})}function $_(s,c){[].slice.call(c.db.objectStoreNames).forEach(function(u){return s[u]==null&&c.db.deleteObjectStore(u)})}function ts(s,c){s.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function es(s,c,u){var d={},h=at(c.objectStoreNames,0);return h.forEach(function(g){for(var v=u.objectStore(g),b=v.keyPath,_=$l(Ph(b),b||"",!0,!1,!!v.autoIncrement,b&&typeof b!="string",!0),w=[],R=0;R<v.indexNames.length;++R){var C=v.index(v.indexNames[R]);b=C.keyPath;var E=$l(C.name,b,!!C.unique,!!C.multiEntry,!1,b&&typeof b!="string",!1);w.push(E)}d[g]=Fl(g,_,w)}),d}function F_(s,c,u){s.verno=c.version/10;var d=s._dbSchema=es(s,c,u);s._storeNames=at(c.objectStoreNames,0),Ja(s,[s._allTables],o(d),d)}function L_(s,c){var u=es(s,s.idbdb,c),d=jl(u,s._dbSchema);return!(d.add.length||d.change.some(function(h){return h.add.length||h.change.length}))}function rs(s,c,u){for(var d=u.db.objectStoreNames,h=0;h<d.length;++h){var g=d[h],v=u.objectStore(g);s._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var _=v.indexNames[b],w=v.index(_).keyPath,R=typeof w=="string"?w:"["+at(w).join("+")+"]";if(c[g]){var C=c[g].idxByName[R];C&&(C.name=_,delete c[g].idxByName[R],c[g].idxByName[_]=C)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function $h(s){return s.split(",").map(function(c,u){c=c.trim();var d=c.replace(/([&*]|\+\+)/g,""),h=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return $l(d,h||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),a(h),u===0)})}var B_=function(){function s(){}return s.prototype._parseStoresSpec=function(c,u){o(c).forEach(function(d){if(c[d]!==null){var h=$h(c[d]),g=h.shift();if(g.unique=!0,g.multi)throw new tt.Schema("Primary key cannot be multi-valued");h.forEach(function(v){if(v.auto)throw new tt.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new tt.Schema("Index must have a name and cannot be an empty string")}),u[d]=Fl(d,g,h)}})},s.prototype.stores=function(c){var u=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,c):c;var d=u._versions,h={},g={};return d.forEach(function(v){l(h,v._cfg.storesSource),g=v._cfg.dbschema={},v._parseStoresSpec(h,g)}),u._dbSchema=g,Bl(u,[u._allTables,u,u.Transaction.prototype]),Ja(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],o(g),g),u._storeNames=o(g),this},s.prototype.upgrade=function(c){return this._cfg.contentUpgrade=vl(this._cfg.contentUpgrade||Tt,c),this},s}();function j_(s){return bo(B_.prototype,function(u){this.db=s,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Ul(s,c){var u=s._dbNamesDB;return u||(u=s._dbNamesDB=new Tr(qa,{addons:[],indexedDB:s,IDBKeyRange:c}),u.version(1).stores({dbnames:"name"})),u.table("dbnames")}function Vl(s){return s&&typeof s.databases=="function"}function z_(s){var c=s.indexedDB,u=s.IDBKeyRange;return Vl(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==qa})}):Ul(c,u).toCollection().primaryKeys()}function U_(s,c){var u=s.indexedDB,d=s.IDBKeyRange;!Vl(u)&&c!==qa&&Ul(u,d).put({name:c}).catch(Tt)}function V_(s,c){var u=s.indexedDB,d=s.IDBKeyRange;!Vl(u)&&c!==qa&&Ul(u,d).delete(c).catch(Tt)}function Kl(s){return en(function(){return Z.letThrough=!0,s()})}function K_(){var s=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!s||!indexedDB.databases)return Promise.resolve();var c;return new Promise(function(u){var d=function(){return indexedDB.databases().finally(u)};c=setInterval(d,100),d()}).finally(function(){return clearInterval(c)})}var Wl;function Hl(s){return!("from"in s)}var de=function(s,c){if(this)l(this,arguments.length?{d:1,from:s,to:arguments.length>1?c:s}:{d:0});else{var u=new de;return s&&"d"in s&&l(u,s),u}};y(de.prototype,(Wl={add:function(s){return So(this,s),this},addKey:function(s){return Co(this,s,s),this},addKeys:function(s){var c=this;return s.forEach(function(u){return Co(c,u,u)}),this}},Wl[uo]=function(){return ql(this)},Wl));function Co(s,c,u){var d=Rt(c,u);if(!isNaN(d)){if(d>0)throw RangeError();if(Hl(s))return l(s,{from:c,to:u,d:1});var h=s.l,g=s.r;if(Rt(u,s.from)<0)return h?Co(h,c,u):s.l={from:c,to:u,d:1,l:null,r:null},Fh(s);if(Rt(c,s.to)>0)return g?Co(g,c,u):s.r={from:c,to:u,d:1,l:null,r:null},Fh(s);Rt(c,s.from)<0&&(s.from=c,s.l=null,s.d=g?g.d+1:1),Rt(u,s.to)>0&&(s.to=u,s.r=null,s.d=s.l?s.l.d+1:1);var v=!s.r;h&&!s.l&&So(s,h),g&&v&&So(s,g)}}function So(s,c){function u(d,h){var g=h.from,v=h.to,b=h.l,_=h.r;Co(d,g,v),b&&u(d,b),_&&u(d,_)}Hl(c)||u(s,c)}function ns(s,c){var u=ql(c),d=u.next();if(d.done)return!1;for(var h=d.value,g=ql(s),v=g.next(h.from),b=v.value;!d.done&&!v.done;){if(Rt(b.from,h.to)<=0&&Rt(b.to,h.from)>=0)return!0;Rt(h.from,b.from)<0?h=(d=u.next(b.from)).value:b=(v=g.next(h.from)).value}return!1}function ql(s){var c=Hl(s)?null:{s:0,n:s};return{next:function(u){for(var d=arguments.length>0;c;)switch(c.s){case 0:if(c.s=1,d)for(;c.n.l&&Rt(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!d||Rt(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Fh(s){var c,u,d=(((c=s.r)===null||c===void 0?void 0:c.d)||0)-(((u=s.l)===null||u===void 0?void 0:u.d)||0),h=d>1?"r":d<-1?"l":"";if(h){var g=h==="r"?"l":"r",v=n({},s),b=s[h];s.from=b.from,s.to=b.to,s[h]=b[h],v[h]=b[g],s[g]=v,v.d=Lh(v)}s.d=Lh(s)}function Lh(s){var c=s.r,u=s.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function is(s,c){return o(c).forEach(function(u){s[u]?So(s[u],c[u]):s[u]=$a(c[u])}),s}function Yl(s,c){return s.all||c.all||Object.keys(s).some(function(u){return c[u]&&ns(c[u],s[u])})}var Wn={},Ql={},Gl=!1;function os(s,c){is(Ql,s),Gl||(Gl=!0,setTimeout(function(){Gl=!1;var u=Ql;Ql={},Xl(u,!1)},0))}function Xl(s,c){c===void 0&&(c=!1);var u=new Set;if(s.all)for(var d=0,h=Object.values(Wn);d<h.length;d++){var g=h[d];Bh(g,s,u,c)}else for(var v in s){var b=/^idb\:\/\/(.*)\/(.*)\//.exec(v);if(b){var _=b[1],w=b[2],g=Wn["idb://".concat(_,"/").concat(w)];g&&Bh(g,s,u,c)}}u.forEach(function(R){return R()})}function Bh(s,c,u,d){for(var h=[],g=0,v=Object.entries(s.queries.query);g<v.length;g++){for(var b=v[g],_=b[0],w=b[1],R=[],C=0,E=w;C<E.length;C++){var F=E[C];Yl(c,F.obsSet)?F.subscribers.forEach(function(T){return u.add(T)}):d&&R.push(F)}d&&h.push([_,R])}if(d)for(var D=0,O=h;D<O.length;D++){var k=O[D],_=k[0],R=k[1];s.queries.query[_]=R}}function W_(s){var c=s._state,u=s._deps.indexedDB;if(c.isBeingOpened||s.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Wt(c.dbOpenError):s});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var d=c.openCanceller,h=Math.round(s.verno*10),g=!1;function v(){if(c.openCanceller!==d)throw new tt.DatabaseClosed("db.open() was cancelled")}var b=c.dbReadyResolve,_=null,w=!1,R=function(){return new W(function(C,E){if(v(),!u)throw new tt.MissingAPI;var F=s.name,D=c.autoSchema||!h?u.open(F):u.open(F,h);if(!D)throw new tt.MissingAPI;D.onerror=ur(E),D.onblocked=jt(s._fireOnBlocked),D.onupgradeneeded=jt(function(O){if(_=D.transaction,c.autoSchema&&!s._options.allowEmptyDB){D.onerror=yo,_.abort(),D.result.close();var k=u.deleteDatabase(F);k.onsuccess=k.onerror=jt(function(){E(new tt.NoSuchDatabase("Database ".concat(F," doesnt exist")))})}else{_.onerror=ur(E);var T=O.oldVersion>Math.pow(2,62)?0:O.oldVersion;w=T<1,s.idbdb=D.result,g&&P_(s,_),T_(s,T/10,_,E)}},E),D.onsuccess=jt(function(){_=null;var O=s.idbdb=D.result,k=at(O.objectStoreNames);if(k.length>0)try{var T=O.transaction(E_(k),"readonly");if(c.autoSchema)F_(s,O,T);else if(rs(s,s._dbSchema,T),!L_(s,T)&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),O.close(),h=O.version+1,g=!0,C(R());Za(s,T)}catch{}bi.push(s),O.onversionchange=jt(function($){c.vcFired=!0,s.on("versionchange").fire($)}),O.onclose=jt(function($){s.on("close").fire($)}),w&&U_(s._deps,F),C()},E)}).catch(function(C){switch(C?.name){case"UnknownError":if(c.PR1398_maxLoop>0)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(h>0)return h=0,R();break}return W.reject(C)})};return W.race([d,(typeof navigator>"u"?W.resolve():K_()).then(R)]).then(function(){return v(),c.onReadyBeingFired=[],W.resolve(Kl(function(){return s.on.ready.fire(s.vip)})).then(function C(){if(c.onReadyBeingFired.length>0){var E=c.onReadyBeingFired.reduce(vl,Tt);return c.onReadyBeingFired=[],W.resolve(Kl(function(){return E(s.vip)})).then(C)}})}).finally(function(){c.openCanceller===d&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(C){c.dbOpenError=C;try{_&&_.abort()}catch{}return d===c.openCanceller&&s._close(),Wt(C)}).finally(function(){c.openComplete=!0,b()}).then(function(){if(w){var C={};s.tables.forEach(function(E){E.schema.indexes.forEach(function(F){F.name&&(C["idb://".concat(s.name,"/").concat(E.name,"/").concat(F.name)]=new de(-1/0,[[[]]]))}),C["idb://".concat(s.name,"/").concat(E.name,"/")]=C["idb://".concat(s.name,"/").concat(E.name,"/:dels")]=new de(-1/0,[[[]]])}),an(_o).fire(C),Xl(C,!0)}return s})}function Zl(s){var c=function(v){return s.next(v)},u=function(v){return s.throw(v)},d=g(c),h=g(u);function g(v){return function(b){var _=v(b),w=_.value;return _.done?w:!w||typeof w.then!="function"?a(w)?Promise.all(w).then(d,h):d(w):w.then(d,h)}}return g(c)()}function H_(s,c,u){var d=arguments.length;if(d<2)throw new tt.InvalidArgument("Too few arguments");for(var h=new Array(d-1);--d;)h[d-1]=arguments[d];u=h.pop();var g=Xr(h);return[s,g,u]}function jh(s,c,u,d,h){return W.resolve().then(function(){var g=Z.transless||Z,v=s._createTransaction(c,u,s._dbSchema,d);v.explicit=!0;var b={trans:v,transless:g};if(d)v.idbtrans=d.idbtrans;else try{v.create(),v.idbtrans._explicit=!0,s._state.PR1398_maxLoop=3}catch(C){return C.name===gl.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s.close({disableAutoOpen:!1}),s.open().then(function(){return jh(s,c,u,null,h)})):Wt(C)}var _=ml(h);_&&vi();var w,R=W.follow(function(){if(w=h.call(v,v),w)if(_){var C=rn.bind(null,null);w.then(C,C)}else typeof w.next=="function"&&typeof w.throw=="function"&&(w=Zl(w))},b);return(w&&typeof w.then=="function"?W.resolve(w).then(function(C){return v.active?C:Wt(new tt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return w})).then(function(C){return d&&v._resolve(),v._completion.then(function(){return C})}).catch(function(C){return v._reject(C),Wt(C)})})}function as(s,c,u){for(var d=a(s)?s.slice():[s],h=0;h<u;++h)d.push(c);return d}function q_(s){return n(n({},s),{table:function(c){var u=s.table(c),d=u.schema,h={},g=[];function v(O,k,T){var $=wo(O),M=h[$]=h[$]||[],L=O==null?0:typeof O=="string"?1:O.length,I=k>0,z=n(n({},T),{name:I?"".concat($,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:I,keyTail:k,keyLength:L,extractKey:Ll(O),unique:!I&&T.unique});if(M.push(z),z.isPrimaryKey||g.push(z),L>1){var q=L===2?O[0]:O.slice(0,L-1);v(q,k+1,T)}return M.sort(function(X,Q){return X.keyTail-Q.keyTail}),z}var b=v(d.primaryKey.keyPath,0,d.primaryKey);h[":id"]=[b];for(var _=0,w=d.indexes;_<w.length;_++){var R=w[_];v(R.keyPath,0,R)}function C(O){var k=h[wo(O)];return k&&k[0]}function E(O,k){return{type:O.type===1?2:O.type,lower:as(O.lower,O.lowerOpen?s.MAX_KEY:s.MIN_KEY,k),lowerOpen:!0,upper:as(O.upper,O.upperOpen?s.MIN_KEY:s.MAX_KEY,k),upperOpen:!0}}function F(O){var k=O.query.index;return k.isVirtual?n(n({},O),{query:{index:k.lowLevelIndex,range:E(O.query.range,k.keyTail)}}):O}var D=n(n({},u),{schema:n(n({},d),{primaryKey:b,indexes:g,getIndexByKeyPath:C}),count:function(O){return u.count(F(O))},query:function(O){return u.query(F(O))},openCursor:function(O){var k=O.query.index,T=k.keyTail,$=k.isVirtual,M=k.keyLength;if(!$)return u.openCursor(O);function L(I){function z(X){X!=null?I.continue(as(X,O.reverse?s.MAX_KEY:s.MIN_KEY,T)):O.unique?I.continue(I.key.slice(0,M).concat(O.reverse?s.MIN_KEY:s.MAX_KEY,T)):I.continue()}var q=Object.create(I,{continue:{value:z},continuePrimaryKey:{value:function(X,Q){I.continuePrimaryKey(as(X,s.MAX_KEY,T),Q)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var X=I.key;return M===1?X[0]:X.slice(0,M)}},value:{get:function(){return I.value}}});return q}return u.openCursor(F(O)).then(function(I){return I&&L(I)})}});return D}})}var Y_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:q_};function Jl(s,c,u,d){return u=u||{},d=d||"",o(s).forEach(function(h){if(!p(c,h))u[d+h]=void 0;else{var g=s[h],v=c[h];if(typeof g=="object"&&typeof v=="object"&&g&&v){var b=Jr(g),_=Jr(v);b!==_?u[d+h]=c[h]:b==="Object"?Jl(g,v,u,d+h+"."):g!==v&&(u[d+h]=c[h])}else g!==v&&(u[d+h]=c[h])}}),o(c).forEach(function(h){p(s,h)||(u[d+h]=c[h])}),u}function tu(s,c){return c.type==="delete"?c.keys:c.keys||c.values.map(s.extractKey)}var Q_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return n(n({},s),{table:function(c){var u=s.table(c),d=u.schema.primaryKey,h=n(n({},u),{mutate:function(g){var v=Z.trans,b=v.table(c).hook,_=b.deleting,w=b.creating,R=b.updating;switch(g.type){case"add":if(w.fire===Tt)break;return v._promise("readwrite",function(){return C(g)},!0);case"put":if(w.fire===Tt&&R.fire===Tt)break;return v._promise("readwrite",function(){return C(g)},!0);case"delete":if(_.fire===Tt)break;return v._promise("readwrite",function(){return C(g)},!0);case"deleteRange":if(_.fire===Tt)break;return v._promise("readwrite",function(){return E(g)},!0)}return u.mutate(g);function C(D){var O=Z.trans,k=D.keys||tu(d,D);if(!k)throw new Error("Keys missing");return D=D.type==="add"||D.type==="put"?n(n({},D),{keys:k}):n({},D),D.type!=="delete"&&(D.values=r([],D.values,!0)),D.keys&&(D.keys=r([],D.keys,!0)),G_(u,D,k).then(function(T){var $=k.map(function(M,L){var I=T[L],z={onerror:null,onsuccess:null};if(D.type==="delete")_.fire.call(z,M,I,O);else if(D.type==="add"||I===void 0){var q=w.fire.call(z,M,D.values[L],O);M==null&&q!=null&&(M=q,D.keys[L]=M,d.outbound||_t(D.values[L],d.keyPath,M))}else{var X=Jl(I,D.values[L]),Q=R.fire.call(z,X,M,I,O);if(Q){var nt=D.values[L];Object.keys(Q).forEach(function(yt){p(nt,yt)?nt[yt]=Q[yt]:_t(nt,yt,Q[yt])})}}return z});return u.mutate(D).then(function(M){for(var L=M.failures,I=M.results,z=M.numFailures,q=M.lastResult,X=0;X<k.length;++X){var Q=I?I[X]:k[X],nt=$[X];Q==null?nt.onerror&&nt.onerror(L[X]):nt.onsuccess&&nt.onsuccess(D.type==="put"&&T[X]?D.values[X]:Q)}return{failures:L,results:I,numFailures:z,lastResult:q}}).catch(function(M){return $.forEach(function(L){return L.onerror&&L.onerror(M)}),Promise.reject(M)})})}function E(D){return F(D.trans,D.range,1e4)}function F(D,O,k){return u.query({trans:D,values:!1,query:{index:d,range:O},limit:k}).then(function(T){var $=T.result;return C({type:"delete",keys:$,trans:D}).then(function(M){return M.numFailures>0?Promise.reject(M.failures[0]):$.length<k?{failures:[],numFailures:0,lastResult:void 0}:F(D,n(n({},O),{lower:$[$.length-1],lowerOpen:!0}),k)})})}}});return h}})}};function G_(s,c,u){return c.type==="add"?Promise.resolve([]):s.getMany({trans:c.trans,keys:u,cache:"immutable"})}function zh(s,c,u){try{if(!c||c.keys.length<s.length)return null;for(var d=[],h=0,g=0;h<c.keys.length&&g<s.length;++h)Rt(c.keys[h],s[g])===0&&(d.push(u?Ne(c.values[h]):c.values[h]),++g);return d.length===s.length?d:null}catch{return null}}var X_={stack:"dbcore",level:-1,create:function(s){return{table:function(c){var u=s.table(c);return n(n({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var h=zh(d.keys,d.trans._cache,d.cache==="clone");return h?W.resolve(h):u.getMany(d).then(function(g){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?Ne(g):g},g})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function Uh(s,c){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Vh(s,c){switch(s){case"query":return c.values&&!c.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Z_={stack:"dbcore",level:0,name:"Observability",create:function(s){var c=s.schema.name,u=new de(s.MIN_KEY,s.MAX_KEY);return n(n({},s),{transaction:function(d,h,g){if(Z.subscr&&h!=="readonly")throw new tt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Z.querier));return s.transaction(d,h,g)},table:function(d){var h=s.table(d),g=h.schema,v=g.primaryKey,b=v.extractKey,_=v.outbound,w=n(n({},h),{mutate:function(E){var F=E.trans,D=E.mutatedParts||(E.mutatedParts={}),O=function(Q){var nt="idb://".concat(c,"/").concat(d,"/").concat(Q);return D[nt]||(D[nt]=new de)},k=O(""),T=O(":dels"),$=E.type,M=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[tu(v,E).filter(function(Q){return Q}),E.values]:[],L=M[0],I=M[1],z=E.trans._cache;if(a(L)){k.addKeys(L);var q=$==="delete"||L.length===I.length?zh(L,z):null;q||T.addKeys(L),(q||I)&&J_(O,g,q,I)}else if(L){var X={from:L.lower,to:L.upper};T.add(X),k.add(X)}else k.add(u),T.add(u),g.indexes.forEach(function(Q){return O(Q.name).add(u)});return h.mutate(E).then(function(Q){return L&&(E.type==="add"||E.type==="put")&&k.addKeys(Q.results),F.mutatedParts=is(F.mutatedParts||{},D),Q})}}),R=function(E){var F,D,O=E.query,k=O.index,T=O.range;return[k,new de((F=T.lower)!==null&&F!==void 0?F:s.MIN_KEY,(D=T.upper)!==null&&D!==void 0?D:s.MAX_KEY)]},C={get:function(E){return[v,new de(E.key)]},getMany:function(E){return[v,new de().addKeys(E.keys)]},count:R,query:R,openCursor:R};return o(C).forEach(function(E){w[E]=function(F){var D=Z.subscr,O=!!D,k=Uh(Z,h)&&Vh(E,F),T=k?F.obsSet={}:D;if(O){var $=function(Q){var nt="idb://".concat(c,"/").concat(d,"/").concat(Q);return T[nt]||(T[nt]=new de)},M=$(""),L=$(":dels"),I=C[E](F),z=I[0],q=I[1];if(E==="query"&&z.isPrimaryKey&&!F.values?L.add(q):$(z.name||"").add(q),!z.isPrimaryKey)if(E==="count")L.add(u);else{var X=E==="query"&&_&&F.values&&h.query(n(n({},F),{values:!1}));return h[E].apply(this,arguments).then(function(Q){if(E==="query"){if(_&&F.values)return X.then(function(mt){var Nt=mt.result;return M.addKeys(Nt),Q});var nt=F.values?Q.result.map(b):Q.result;F.values?M.addKeys(nt):L.addKeys(nt)}else if(E==="openCursor"){var yt=Q,Dt=F.values;return yt&&Object.create(yt,{key:{get:function(){return L.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var mt=yt.primaryKey;return L.addKey(mt),mt}},value:{get:function(){return Dt&&M.addKey(yt.primaryKey),yt.value}}})}return Q})}}return h[E].apply(this,arguments)}}),w}})}};function J_(s,c,u,d){function h(g){var v=s(g.name||"");function b(w){return w!=null?g.extractKey(w):null}var _=function(w){return g.multiEntry&&a(w)?w.forEach(function(R){return v.addKey(R)}):v.addKey(w)};(u||d).forEach(function(w,R){var C=u&&b(u[R]),E=d&&b(d[R]);Rt(C,E)!==0&&(C!=null&&_(C),E!=null&&_(E))})}c.indexes.forEach(h)}function Kh(s,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var d=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;if(u.numFailures===d)return null;var h=n({},c);return a(h.keys)&&(h.keys=h.keys.filter(function(g,v){return!(v in u.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(g,v){return!(v in u.failures)})),h}function tx(s,c){return c.lower===void 0?!0:c.lowerOpen?Rt(s,c.lower)>0:Rt(s,c.lower)>=0}function ex(s,c){return c.upper===void 0?!0:c.upperOpen?Rt(s,c.upper)<0:Rt(s,c.upper)<=0}function eu(s,c){return tx(s,c)&&ex(s,c)}function Wh(s,c,u,d,h,g){if(!u||u.length===0)return s;var v=c.query.index,b=v.multiEntry,_=c.query.range,w=d.schema.primaryKey,R=w.extractKey,C=v.extractKey,E=(v.lowLevelIndex||v).extractKey,F=u.reduce(function(D,O){var k=D,T=O.type==="add"||O.type==="put"?O.values.filter(function(I){var z=C(I);return b&&a(z)?z.some(function(q){return eu(q,_)}):eu(z,_)}).map(function(I){return I=Ne(I),g&&Object.freeze(I),I}):[];switch(O.type){case"add":k=D.concat(c.values?T:T.map(function(I){return R(I)}));break;case"put":var $=new de().addKeys(O.values.map(function(I){return R(I)}));k=D.filter(function(I){var z=c.values?R(I):I;return!ns(new de(z),$)}).concat(c.values?T:T.map(function(I){return R(I)}));break;case"delete":var M=new de().addKeys(O.keys);k=D.filter(function(I){var z=c.values?R(I):I;return!ns(new de(z),M)});break;case"deleteRange":var L=O.range;k=D.filter(function(I){return!eu(R(I),L)});break}return k},s);return F===s?s:(F.sort(function(D,O){return Rt(E(D),E(O))||Rt(R(D),R(O))}),c.limit&&c.limit<1/0&&(F.length>c.limit?F.length=c.limit:s.length===c.limit&&F.length<c.limit&&(h.dirty=!0)),g?Object.freeze(F):F)}function Hh(s,c){return Rt(s.lower,c.lower)===0&&Rt(s.upper,c.upper)===0&&!!s.lowerOpen==!!c.lowerOpen&&!!s.upperOpen==!!c.upperOpen}function rx(s,c,u,d){if(s===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;var h=Rt(s,c);if(h===0){if(u&&d)return 0;if(u)return 1;if(d)return-1}return h}function nx(s,c,u,d){if(s===void 0)return c!==void 0?1:0;if(c===void 0)return-1;var h=Rt(s,c);if(h===0){if(u&&d)return 0;if(u)return-1;if(d)return 1}return h}function ix(s,c){return rx(s.lower,c.lower,s.lowerOpen,c.lowerOpen)<=0&&nx(s.upper,c.upper,s.upperOpen,c.upperOpen)>=0}function ox(s,c,u,d){var h=Wn["idb://".concat(s,"/").concat(c)];if(!h)return[];var g=h.queries[u];if(!g)return[null,!1,h,null];var v=d.query?d.query.index.name:null,b=g[v||""];if(!b)return[null,!1,h,null];switch(u){case"query":var _=b.find(function(C){return C.req.limit===d.limit&&C.req.values===d.values&&Hh(C.req.query.range,d.query.range)});if(_)return[_,!0,h,b];var w=b.find(function(C){var E="limit"in C.req?C.req.limit:1/0;return E>=d.limit&&(d.values?C.req.values:!0)&&ix(C.req.query.range,d.query.range)});return[w,!1,h,b];case"count":var R=b.find(function(C){return Hh(C.req.query.range,d.query.range)});return[R,!!R,h,b]}}function ax(s,c,u,d){s.subscribers.add(u),d.addEventListener("abort",function(){s.subscribers.delete(u),s.subscribers.size===0&&sx(s,c)})}function sx(s,c){setTimeout(function(){s.subscribers.size===0&&Jt(c,s)},3e3)}var cx={stack:"dbcore",level:0,name:"Cache",create:function(s){var c=s.schema.name,u=n(n({},s),{transaction:function(d,h,g){var v=s.transaction(d,h,g);if(h==="readwrite"){var b=new AbortController,_=b.signal,w=function(R){return function(){if(b.abort(),h==="readwrite"){for(var C=new Set,E=0,F=d;E<F.length;E++){var D=F[E],O=Wn["idb://".concat(c,"/").concat(D)];if(O){var k=s.table(D),T=O.optimisticOps.filter(function(Nt){return Nt.trans===v});if(v._explicit&&R&&v.mutatedParts)for(var $=0,M=Object.values(O.queries.query);$<M.length;$++)for(var L=M[$],I=0,z=L.slice();I<z.length;I++){var q=z[I];Yl(q.obsSet,v.mutatedParts)&&(Jt(L,q),q.subscribers.forEach(function(Nt){return C.add(Nt)}))}else if(T.length>0){O.optimisticOps=O.optimisticOps.filter(function(Nt){return Nt.trans!==v});for(var X=0,Q=Object.values(O.queries.query);X<Q.length;X++)for(var L=Q[X],nt=0,yt=L.slice();nt<yt.length;nt++){var q=yt[nt];if(q.res!=null&&v.mutatedParts)if(R&&!q.dirty){var Dt=Object.isFrozen(q.res),mt=Wh(q.res,q.req,T,k,q,Dt);q.dirty?(Jt(L,q),q.subscribers.forEach(function(fe){return C.add(fe)})):mt!==q.res&&(q.res=mt,q.promise=W.resolve({result:mt}))}else q.dirty&&Jt(L,q),q.subscribers.forEach(function(fe){return C.add(fe)})}}}}C.forEach(function(Nt){return Nt()})}}};v.addEventListener("abort",w(!1),{signal:_}),v.addEventListener("error",w(!1),{signal:_}),v.addEventListener("complete",w(!0),{signal:_})}return v},table:function(d){var h=s.table(d),g=h.schema.primaryKey,v=n(n({},h),{mutate:function(b){var _=Z.trans;if(g.outbound||_.db._options.cache==="disabled"||_.explicit)return h.mutate(b);var w=Wn["idb://".concat(c,"/").concat(d)];if(!w)return h.mutate(b);var R=h.mutate(b);return(b.type==="add"||b.type==="put")&&(b.values.length>=50||tu(g,b).some(function(C){return C==null}))?R.then(function(C){var E=n(n({},b),{values:b.values.map(function(D,O){var k,T=!((k=g.keyPath)===null||k===void 0)&&k.includes(".")?Ne(D):n({},D);return _t(T,g.keyPath,C.results[O]),T})}),F=Kh(w,E,C);w.optimisticOps.push(F),queueMicrotask(function(){return b.mutatedParts&&os(b.mutatedParts)})}):(w.optimisticOps.push(b),b.mutatedParts&&os(b.mutatedParts),R.then(function(C){if(C.numFailures>0){Jt(w.optimisticOps,b);var E=Kh(w,b,C);E&&w.optimisticOps.push(E),b.mutatedParts&&os(b.mutatedParts)}}),R.catch(function(){Jt(w.optimisticOps,b),b.mutatedParts&&os(b.mutatedParts)})),R},query:function(b){var _;if(!Uh(Z,h)||!Vh("query",b))return h.query(b);var w=((_=Z.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",R=Z,C=R.requery,E=R.signal,F=ox(c,d,"query",b),D=F[0],O=F[1],k=F[2],T=F[3];if(D&&O)D.obsSet=b.obsSet;else{var $=h.query(b).then(function(M){var L=M.result;if(D&&(D.res=L),w){for(var I=0,z=L.length;I<z;++I)Object.freeze(L[I]);Object.freeze(L)}else M.result=Ne(L);return M}).catch(function(M){return T&&D&&Jt(T,D),Promise.reject(M)});D={obsSet:b.obsSet,promise:$,subscribers:new Set,type:"query",req:b,dirty:!1},T?T.push(D):(T=[D],k||(k=Wn["idb://".concat(c,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),k.queries.query[b.query.index.name||""]=T)}return ax(D,T,C,E),D.promise.then(function(M){return{result:Wh(M.result,b,k?.optimisticOps,h,D,w)}})}});return v}});return u}};function ss(s,c){return new Proxy(s,{get:function(u,d,h){return d==="db"?c:Reflect.get(u,d,h)}})}var Tr=function(){function s(c,u){var d=this;this._middlewares={},this.verno=0;var h=s.dependencies;this._options=u=n({addons:s.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange};var g=u.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen};v.dbReadyPromise=new W(function(_){v.dbReadyResolve=_}),v.openCanceller=new W(function(_,w){v.cancelOpen=w}),this._state=v,this.name=c,this.on=vo(this,"populate","blocked","versionchange","close",{ready:[vl,Tt]}),this.on.ready.subscribe=gt(this.on.ready.subscribe,function(_){return function(w,R){s.vip(function(){var C=d._state;if(C.openComplete)C.dbOpenError||W.resolve().then(w),R&&_(w);else if(C.onReadyBeingFired)C.onReadyBeingFired.push(w),R&&_(w);else{_(w);var E=d;R||_(function F(){E.on.ready.unsubscribe(w),E.on.ready.unsubscribe(F)})}})}}),this.Collection=g_(this),this.Table=f_(this),this.Transaction=S_(this),this.Version=j_(this),this.WhereClause=w_(this),this.on("versionchange",function(_){_.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=xo(u.IDBKeyRange),this._createTransaction=function(_,w,R,C){return new d.Transaction(_,w,R,d._options.chromeTransactionDurability,C)},this._fireOnBlocked=function(_){d.on("blocked").fire(_),bi.filter(function(w){return w.name===d.name&&w!==d&&!w._state.vcFired}).map(function(w){return w.on("versionchange").fire(_)})},this.use(X_),this.use(cx),this.use(Z_),this.use(Y_),this.use(Q_);var b=new Proxy(this,{get:function(_,w,R){if(w==="_vip")return!0;if(w==="table")return function(E){return ss(d.table(E),b)};var C=Reflect.get(_,w,R);return C instanceof Oh?ss(C,b):w==="tables"?C.map(function(E){return ss(E,b)}):w==="_createTransaction"?function(){var E=C.apply(this,arguments);return ss(E,b)}:C}});this.vip=b,g.forEach(function(_){return _(d)})}return s.prototype.version=function(c){if(isNaN(c)||c<.1)throw new tt.Type("Given version is not a positive number");if(c=Math.round(c*10)/10,this.idbdb||this._state.isBeingOpened)throw new tt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var u=this._versions,d=u.filter(function(h){return h._cfg.version===c})[0];return d||(d=new this.Version(c),u.push(d),u.sort(A_),d.stores({}),this._state.autoSchema=!1,d)},s.prototype._whenReady=function(c){var u=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?c():new W(function(d,h){if(u._state.openComplete)return h(new tt.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen){h(new tt.DatabaseClosed);return}u.open().catch(Tt)}u._state.dbReadyPromise.then(d,h)}).then(c)},s.prototype.use=function(c){var u=c.stack,d=c.create,h=c.level,g=c.name;g&&this.unuse({stack:u,name:g});var v=this._middlewares[u]||(this._middlewares[u]=[]);return v.push({stack:u,create:d,level:h??10,name:g}),v.sort(function(b,_){return b.level-_.level}),this},s.prototype.unuse=function(c){var u=c.stack,d=c.name,h=c.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(g){return h?g.create!==h:d?g.name!==d:!1})),this},s.prototype.open=function(){var c=this;return Un(tn,function(){return W_(c)})},s.prototype._close=function(){var c=this._state,u=bi.indexOf(this);if(u>=0&&bi.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new W(function(d){c.dbReadyResolve=d}),c.openCanceller=new W(function(d,h){c.cancelOpen=h}))},s.prototype.close=function(c){var u=c===void 0?{disableAutoOpen:!0}:c,d=u.disableAutoOpen,h=this._state;d?(h.isBeingOpened&&h.cancelOpen(new tt.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new tt.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},s.prototype.delete=function(c){var u=this;c===void 0&&(c={disableAutoOpen:!0});var d=arguments.length>0&&typeof arguments[0]!="object",h=this._state;return new W(function(g,v){var b=function(){u.close(c);var _=u._deps.indexedDB.deleteDatabase(u.name);_.onsuccess=jt(function(){V_(u._deps,u.name),g()}),_.onerror=ur(v),_.onblocked=u._fireOnBlocked};if(d)throw new tt.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(b):b()})},s.prototype.backendDB=function(){return this.idbdb},s.prototype.isOpen=function(){return this.idbdb!==null},s.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},s.prototype.hasFailed=function(){return this._state.dbOpenError!==null},s.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(s.prototype,"tables",{get:function(){var c=this;return o(this._allTables).map(function(u){return c._allTables[u]})},enumerable:!1,configurable:!0}),s.prototype.transaction=function(){var c=H_.apply(this,arguments);return this._transaction.apply(this,c)},s.prototype._transaction=function(c,u,d){var h=this,g=Z.trans;(!g||g.db!==this||c.indexOf("!")!==-1)&&(g=null);var v=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");var b,_;try{if(_=u.map(function(R){var C=R instanceof h.Table?R.name:R;if(typeof C!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return C}),c=="r"||c===Il)b=Il;else if(c=="rw"||c==kl)b=kl;else throw new tt.InvalidArgument("Invalid transaction mode: "+c);if(g){if(g.mode===Il&&b===kl)if(v)g=null;else throw new tt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g&&_.forEach(function(R){if(g&&g.storeNames.indexOf(R)===-1)if(v)g=null;else throw new tt.SubTransaction("Table "+R+" not included in parent transaction.")}),v&&g&&!g.active&&(g=null)}}catch(R){return g?g._promise(null,function(C,E){E(R)}):Wt(R)}var w=jh.bind(null,this,b,_,g,d);return g?g._promise(b,w,"lock"):Z.trans?Un(Z.transless,function(){return h._whenReady(w)}):this._whenReady(w)},s.prototype.table=function(c){if(!p(this._allTables,c))throw new tt.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},s}(),lx=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ux=function(){function s(c){this._subscribe=c}return s.prototype.subscribe=function(c,u,d){return this._subscribe(!c||typeof c=="function"?{next:c,error:u,complete:d}:c)},s.prototype[lx]=function(){return this},s}(),cs;try{cs={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{cs={indexedDB:null,IDBKeyRange:null}}function qh(s){var c=!1,u,d=new ux(function(h){var g=ml(s);function v(T){var $=pi();try{g&&vi();var M=en(s,T);return g&&(M=M.finally(rn)),M}finally{$&&gi()}}var b=!1,_,w={},R={},C={get closed(){return b},unsubscribe:function(){b||(b=!0,_&&_.abort(),E&&an.storagemutated.unsubscribe(O))}};h.start&&h.start(C);var E=!1,F=function(){return Rl(k)};function D(){return Yl(R,w)}var O=function(T){is(w,T),D()&&F()},k=function(){if(!(b||!cs.indexedDB)){w={};var T={};_&&_.abort(),_=new AbortController;var $={subscr:T,signal:_.signal,requery:F,querier:s,trans:null},M=v($);Promise.resolve(M).then(function(L){c=!0,u=L,!(b||$.signal.aborted)&&(w={},R=T,!hl(R)&&!E&&(an(_o,O),E=!0),Rl(function(){return!b&&h.next&&h.next(L)}))},function(L){c=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||b||Rl(function(){b||h.error&&h.error(L)})})}};return setTimeout(F,0),C});return d.hasValue=function(){return c},d.getValue=function(){return u},d}var Hn=Tr;y(Hn,n(n({},La),{delete:function(s){var c=new Hn(s,{addons:[]});return c.delete()},exists:function(s){return new Hn(s,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return z_(Hn.dependencies).then(s)}catch{return Wt(new tt.MissingAPI)}},defineClass:function(){function s(c){l(this,c)}return s},ignoreTransaction:function(s){return Z.trans?Un(Z.transless,s):s()},vip:Kl,async:function(s){return function(){try{var c=Zl(s.apply(this,arguments));return!c||typeof c.then!="function"?W.resolve(c):c}catch(u){return Wt(u)}}},spawn:function(s,c,u){try{var d=Zl(s.apply(u,c||[]));return!d||typeof d.then!="function"?W.resolve(d):d}catch(h){return Wt(h)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(s,c){var u=W.resolve(typeof s=="function"?Hn.ignoreTransaction(s):s).timeout(c||6e4);return Z.trans?Z.trans.waitFor(u):u},Promise:W,debug:{get:function(){return lr},set:function(s){hh(s)}},derive:N,extend:l,props:y,override:gt,Events:vo,on:an,liveQuery:qh,extendObservabilitySet:is,getByKeyPath:vt,setByKeyPath:_t,delByKeyPath:ue,shallowClone:cr,deepClone:Ne,getObjectDiff:Jl,cmp:Rt,asap:bt,minKey:Ol,addons:[],connections:bi,errnames:gl,dependencies:cs,cache:Wn,semVer:wh,version:wh.split(".").map(function(s){return parseInt(s)}).reduce(function(s,c,u){return s+c/Math.pow(10,u*2)})})),Hn.maxKey=xo(Hn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(an(_o,function(s){if(!sn){var c;c=new CustomEvent(Nl,{detail:s}),sn=!0,dispatchEvent(c),sn=!1}}),addEventListener(Nl,function(s){var c=s.detail;sn||ru(c)}));function ru(s){var c=sn;try{sn=!0,an.storagemutated.fire(s),Xl(s,!0)}finally{sn=c}}var sn=!1,cn,nu=function(){};typeof BroadcastChannel<"u"&&(nu=function(){cn=new BroadcastChannel(Nl),cn.onmessage=function(s){return s.data&&ru(s.data)}},nu(),typeof cn.unref=="function"&&cn.unref(),an(_o,function(s){sn||cn.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Tr.disableBfCache&&s.persisted){lr&&console.debug("Dexie: handling persisted pagehide"),cn?.close();for(var c=0,u=bi;c<u.length;c++){var d=u[c];d.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(s){!Tr.disableBfCache&&s.persisted&&(lr&&console.debug("Dexie: handling persisted pageshow"),nu(),ru({all:new de(-1/0,[[]])}))}));function dx(s,c){return new Pl({replacePrefix:[s,c]})}W.rejectionMapper=Hy,hh(lr);var fx=Object.freeze({__proto__:null,Dexie:Tr,liveQuery:qh,Entity:Eh,cmp:Rt,PropModSymbol:m_,PropModification:Pl,replacePrefix:dx,default:Tr,RangeSet:de,mergeRanges:So,rangesOverlap:ns});return n(Tr,fx,{default:Tr}),Tr})});var No=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Lr=class extends No{constructor(t,n,r,i,o){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},vr=class extends No{constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},yu=class extends No{constructor(t){super(),this.element=t instanceof Qt?t.nativeElement:t}},vn=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Lr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof vr)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof yu)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ss=class extends vn{constructor(t,n,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let f=this._document.createComment("dom-portal");l.parentNode.insertBefore(f,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=o}attachComponentPortal(t){let r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Yt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var xD=(()=>{let t=class t extends vr{constructor(r,i){super(r,i)}};t.\u0275fac=function(i){return new(i||t)(Y(Nr),Y(pn))},t.\u0275dir=Ut({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[le]});let e=t;return e})();var bn=(()=>{let t=class t extends vn{constructor(r,i,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ge,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let f=this._document.createComment("dom-portal");a.setAttachedHost(this),l.parentNode.insertBefore(f,l),this._getRootNode().appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,a=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),l=i.createComponent(a,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=r,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};t.\u0275fac=function(i){return new(i||t)(Y(gs),Y(pn),Y(Gt))},t.\u0275dir=Ut({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ht.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[le]});let e=t;return e})();var Br=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({});let e=t;return e})();var Um=["mat-button",""],Vm=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Km=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],vx='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Wm=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var bx=["mat-icon-button",""],yx=["*"];var _x=new pt("MAT_BUTTON_CONFIG");var xx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],xu=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,i,o,a){this._elementRef=r,this._platform=i,this._ngZone=o,this._animationMode=a,this._focusMonitor=G(Ti),this._rippleLoader=G(Bm),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=G(_x,{optional:!0}),f=r.nativeElement,m=f.classList;this.disabledInteractive=l?.disabledInteractive??!1,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(let{attribute:p,mdcClasses:y}of xx)f.hasAttribute(p)&&m.add(...y)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",i){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(i){ko()},t.\u0275dir=Ut({type:t,inputs:{color:"color",disableRipple:[ht.HasDecoratorInputTransform,"disableRipple","disableRipple",ve],disabled:[ht.HasDecoratorInputTransform,"disabled","disabled",ve],ariaDisabled:[ht.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",ve],disabledInteractive:[ht.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",ve]},features:[gn]});let e=t;return e})();var wx=(()=>{let t=class t extends xu{constructor(r,i,o,a){super(r,i,o,a),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(i){ko()},t.\u0275dir=Ut({type:t,inputs:{tabIndex:[ht.HasDecoratorInputTransform,"tabIndex","tabIndex",r=>r==null?void 0:wm(r)]},features:[gn,le]});let e=t;return e})(),Hm=(()=>{let t=class t extends xu{constructor(r,i,o,a){super(r,i,o,a)}};t.\u0275fac=function(i){return new(i||t)(Y(Qt),Y(we),Y($t),Y(Mr,8))},t.\u0275cmp=Oe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,o){i&2&&(Fe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),bs(o.color?"mat-"+o.color:""),mr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[le,Ie],attrs:Um,ngContentSelectors:Km,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(Ao(Vm),He(0,"span",0),$r(1),pr(2,"span",1),$r(3,1),rr(),$r(4,2),He(5,"span",2)(6,"span",3)),i&2&&mr("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),MD=(()=>{let t=class t extends wx{constructor(r,i,o,a){super(r,i,o,a)}};t.\u0275fac=function(i){return new(i||t)(Y(Qt),Y(we),Y($t),Y(Mr,8))},t.\u0275cmp=Oe({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(i,o){i&2&&(Fe("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),bs(o.color?"mat-"+o.color:""),mr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[le,Ie],attrs:Um,ngContentSelectors:Km,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(Ao(Vm),He(0,"span",0),$r(1),pr(2,"span",1),$r(3,1),rr(),$r(4,2),He(5,"span",2)(6,"span",3)),i&2&&mr("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[vx,Wm],encapsulation:2,changeDetection:0});let e=t;return e})();var ND=(()=>{let t=class t extends xu{constructor(r,i,o,a){super(r,i,o,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(i){return new(i||t)(Y(Qt),Y(we),Y($t),Y(Mr,8))},t.\u0275cmp=Oe({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,o){i&2&&(Fe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),bs(o.color?"mat-"+o.color:""),mr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[le,Ie],attrs:bx,ngContentSelectors:yx,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(Ao(),He(0,"span",0),$r(1),He(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Wm],encapsulation:2,changeDetection:0});let e=t;return e})();var qm=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({imports:[Fr,Lm,Fr]});let e=t;return e})();var ut="primary",Go=Symbol("RouteTitle"),Ru=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Li(e){return new Ru(e)}function Cx(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],l=e[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Sx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yr(e[n],t[n]))return!1;return!0}function yr(e,t){let n=e?Du(e):void 0,r=t?Du(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!np(e[i],t[i]))return!1;return!0}function Du(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function np(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function ip(e){return e.length>0?e[e.length-1]:null}function Cn(e){return xi(e)?e:_m(e)?me(Promise.resolve(e)):J(e)}var Ex={exact:ap,subset:sp},op={exact:Rx,subset:Dx,ignored:()=>!0};function Ym(e,t,n){return Ex[n.paths](e.root,t.root,n.matrixParams)&&op[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Rx(e,t){return yr(e,t)}function ap(e,t,n){if(!ti(e.segments,t.segments)||!Ds(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!ap(e.children[r],t.children[r],n))return!1;return!0}function Dx(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>np(e[n],t[n]))}function sp(e,t,n){return cp(e,t,t.segments,n)}function cp(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!ti(i,n)||t.hasChildren()||!Ds(i,n,r))}else if(e.segments.length===n.length){if(!ti(e.segments,n)||!Ds(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!sp(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ti(e.segments,i)||!Ds(e.segments,i,r)||!e.children[ut]?!1:cp(e.children[ut],t,o,r)}}function Ds(e,t,n){return t.every((r,i)=>op[n](e[i].parameters,r.parameters))}var yn=class{constructor(t=new Ot([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return kx.serialize(this)}},Ot=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Os(this)}},Jn=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return up(this)}};function Ox(e,t){return ti(e,t)&&e.every((n,r)=>yr(n.parameters,t[r].parameters))}function ti(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function Ix(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ut&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ut&&(n=n.concat(t(i,r)))}),n}var Xo=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:()=>new Uo,providedIn:"root"});let e=t;return e})(),Uo=class{parse(t){let n=new Iu(t);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${$o(t.root,!0)}`,r=Px(t.queryParams),i=typeof t.fragment=="string"?`#${Ax(t.fragment)}`:"";return`${n}${r}${i}`}},kx=new Uo;function Os(e){return e.segments.map(t=>up(t)).join("/")}function $o(e,t){if(!e.hasChildren())return Os(e);if(t){let n=e.children[ut]?$o(e.children[ut],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ut&&r.push(`${i}:${$o(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ix(e,(r,i)=>i===ut?[$o(e.children[ut],!1)]:[`${i}:${$o(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ut]!=null?`${Os(e)}/${n[0]}`:`${Os(e)}/(${n.join("//")})`}}function lp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Es(e){return lp(e).replace(/%3B/gi,";")}function Ax(e){return encodeURI(e)}function Ou(e){return lp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Is(e){return decodeURIComponent(e)}function Qm(e){return Is(e.replace(/\+/g,"%20"))}function up(e){return`${Ou(e.path)}${Tx(e.parameters)}`}function Tx(e){return Object.entries(e).map(([t,n])=>`;${Ou(t)}=${Ou(n)}`).join("")}function Px(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Es(n)}=${Es(i)}`).join("&"):`${Es(n)}=${Es(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Mx=/^[^\/()?;#]+/;function wu(e){let t=e.match(Mx);return t?t[0]:""}var Nx=/^[^\/()?;=#]+/;function $x(e){let t=e.match(Nx);return t?t[0]:""}var Fx=/^[^=?&#]+/;function Lx(e){let t=e.match(Fx);return t?t[0]:""}var Bx=/^[^&#]+/;function jx(e){let t=e.match(Bx);return t?t[0]:""}var Iu=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ut]=new Ot(t,n)),r}parseSegment(){let t=wu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(t),new Jn(Is(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=$x(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wu(this.remaining);i&&(r=i,this.capture(r))}t[Is(n)]=Is(r)}parseQueryParam(t){let n=Lx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=jx(this.remaining);a&&(r=a,this.capture(r))}let i=Qm(n),o=Qm(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wu(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new xe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ut);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[ut]:new Ot([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new xe(4011,!1)}};function dp(e){return e.segments.length>0?new Ot([],{[ut]:e}):e}function fp(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=fp(i);if(r===ut&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))t[a]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Ot(e.segments,t);return zx(n)}function zx(e){if(e.numberOfChildren===1&&e.children[ut]){let t=e.children[ut];return new Ot(e.segments.concat(t.segments),t.children)}return e}function Bi(e){return e instanceof yn}function Ux(e,t,n=null,r=null){let i=hp(e);return mp(i,t,n,r)}function hp(e){let t;function n(o){let a={};for(let f of o.children){let m=n(f);a[f.outlet]=m}let l=new Ot(o.url,a);return o===e&&(t=l),l}let r=n(e.root),i=dp(r);return t??i}function mp(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Cu(i,i,i,n,r);let o=Vx(t);if(o.toRoot())return Cu(i,i,new Ot([],{}),n,r);let a=Kx(o,i,e),l=a.processChildren?Bo(a.segmentGroup,a.index,o.commands):gp(a.segmentGroup,a.index,o.commands);return Cu(i,a.segmentGroup,l,n,r)}function ks(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Vo(e){return typeof e=="object"&&e!=null&&e.outlets}function Cu(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([f,m])=>{o[f]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let a;e===t?a=n:a=pp(e,t,n);let l=dp(fp(a));return new yn(l,o,i)}function pp(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=pp(o,t,n)}),new Ot(e.segments,r)}var As=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ks(r[0]))throw new xe(4003,!1);let i=r.find(Vo);if(i&&i!==ip(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Vx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new As(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([f,m])=>{l[f]=typeof m=="string"?m.split("/"):m}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((l,f)=>{f==0&&l==="."||(f==0&&l===""?n=!0:l===".."?t++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new As(n,t,r)}var $i=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Kx(e,t,n){if(e.isAbsolute)return new $i(t,!0,0);if(!n)return new $i(t,!1,NaN);if(n.parent===null)return new $i(n,!0,0);let r=ks(e.commands[0])?0:1,i=n.segments.length-1+r;return Wx(n,i,e.numberOfDoubleDots)}function Wx(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new xe(4005,!1);i=r.segments.length}return new $i(r,!1,i-o)}function Hx(e){return Vo(e[0])?e[0].outlets:{[ut]:e}}function gp(e,t,n){if(e??=new Ot([],{}),e.segments.length===0&&e.hasChildren())return Bo(e,t,n);let r=qx(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ot(e.segments.slice(0,r.pathIndex),{});return o.children[ut]=new Ot(e.segments.slice(r.pathIndex),e.children),Bo(o,0,i)}else return r.match&&i.length===0?new Ot(e.segments,{}):r.match&&!e.hasChildren()?ku(e,t,n):r.match?Bo(e,0,i):ku(e,t,n)}function Bo(e,t,n){if(n.length===0)return new Ot(e.segments,{});{let r=Hx(n),i={};if(Object.keys(r).some(o=>o!==ut)&&e.children[ut]&&e.numberOfChildren===1&&e.children[ut].segments.length===0){let o=Bo(e.children[ut],t,n);return new Ot(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=gp(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Ot(e.segments,i)}}function qx(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let a=e.segments[i],l=n[r];if(Vo(l))break;let f=`${l}`,m=r<n.length-1?n[r+1]:null;if(i>0&&f===void 0)break;if(f&&m&&typeof m=="object"&&m.outlets===void 0){if(!Xm(f,m,a))return o;r+=2}else{if(!Xm(f,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ku(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Vo(o)){let f=Yx(o.outlets);return new Ot(r,f)}if(i===0&&ks(n[0])){let f=e.segments[t];r.push(new Jn(f.path,Gm(n[0]))),i++;continue}let a=Vo(o)?o.outlets[ut]:`${o}`,l=i<n.length-1?n[i+1]:null;a&&l&&ks(l)?(r.push(new Jn(a,Gm(l))),i+=2):(r.push(new Jn(a,{})),i++)}return new Ot(r,{})}function Yx(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ku(new Ot([],{}),0,r))}),t}function Gm(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Xm(e,t,n){return e==n.path&&yr(t,n.parameters)}var jo="imperative",oe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(oe||{}),qe=class{constructor(t,n){this.id=t,this.url=n}},_n=class extends qe{constructor(t,n,r="imperative",i=null){super(t,n),this.type=oe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_r=class extends qe{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Be||{}),Ts=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ts||{}),xr=class extends qe{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends qe{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=oe.NavigationSkipped}},Ko=class extends qe{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ps=class extends qe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Au=class extends qe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tu=class extends qe{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pu=class extends qe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mu=class extends qe{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nu=class{constructor(t){this.route=t,this.type=oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$u=class{constructor(t){this.route=t,this.type=oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fu=class{constructor(t){this.snapshot=t,this.type=oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{constructor(t){this.snapshot=t,this.type=oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bu=class{constructor(t){this.snapshot=t,this.type=oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ju=class{constructor(t){this.snapshot=t,this.type=oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ms=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=oe.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Wo=class{},Ho=class{constructor(t){this.url=t}};var zu=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zo,this.attachRef=null}},Zo=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zu,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ns=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Uu(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Uu(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Vu(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Vu(t,this._root).map(n=>n.value)}};function Uu(e,t){if(e===t.value)return t;for(let n of t.children){let r=Uu(e,n);if(r)return r}return null}function Vu(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Vu(e,n);if(r.length)return r.unshift(t),r}return[]}var Le=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ni(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var $s=class extends Ns{constructor(t,n){super(t),this.snapshot=n,Ju(this,t)}toString(){return this.snapshot.toString()}};function vp(e){let t=Qx(e),n=new he([new Jn("",{})]),r=new he({}),i=new he({}),o=new he({}),a=new he(""),l=new wr(n,r,o,a,i,ut,e,t.root);return l.snapshot=t.root,new $s(new Le(l,[]),t)}function Qx(e){let t={},n={},r={},i="",o=new qo([],t,r,i,n,ut,e,null,{});return new Fs("",new Le(o,[]))}var wr=class{constructor(t,n,r,i,o,a,l,f){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(ft(m=>m[Go]))??J(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(t=>Li(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(t=>Li(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:K(K({},t.params),e.params),data:K(K({},t.data),e.data),resolve:K(K(K(K({},e.data),t.data),i?.data),e._resolvedData)}:r={params:K({},e.params),data:K({},e.data),resolve:K(K({},e.data),e._resolvedData??{})},i&&yp(i)&&(r.resolve[Go]=i.title),r}var qo=class{get title(){return this.data?.[Go]}constructor(t,n,r,i,o,a,l,f,m){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=f,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Fs=class extends Ns{constructor(t,n){super(n),this.url=t,Ju(this,n)}toString(){return bp(this._root)}};function Ju(e,t){t.value._routerState=e,t.children.forEach(n=>Ju(e,n))}function bp(e){let t=e.children.length>0?` { ${e.children.map(bp).join(", ")} } `:"";return`${e.value}${t}`}function Su(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),yr(t.params,n.params)||e.paramsSubject.next(n.params),Sx(t.url,n.url)||e.urlSubject.next(n.url),yr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ku(e,t){let n=yr(e.params,t.params)&&Ox(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Ku(e.parent,t.parent))}function yp(e){return typeof e.title=="string"||e.title===null}var Gx=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=G(Zo),this.location=G(pn),this.changeDetector=G(gr),this.environmentInjector=G(Io),this.inputBinder=G(zs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=r;let o=this.location,l=r.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Wu(r,f,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ut({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]});let e=t;return e})(),Wu=class{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(t,n){return t===wr?this.route:t===Zo?this.childContexts:this.parent.get(t,n)}},zs=new pt(""),Zm=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=hs([i.queryParams,i.params,i.data]).pipe(We(([a,l,f],m)=>(f=K(K(K({},a),l),f),m===0?J(f):Promise.resolve(f)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let l=Cm(i.component);if(!l){this.unsubscribeFromRouteData(r);return}for(let{templateName:f}of l.inputs)r.activatedComponentRef.setInput(f,a[f])});this.outletDataSubscriptions.set(r,o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function Xx(e,t,n){let r=Yo(e,t._root,n?n._root:void 0);return new $s(r,t)}function Yo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Zx(e,t,n);return new Le(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>Yo(e,l)),a}}let r=Jx(t.value),i=t.children.map(o=>Yo(e,o));return new Le(r,i)}}function Zx(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Yo(e,r,i);return Yo(e,r)})}function Jx(e){return new wr(new he(e.url),new he(e.params),new he(e.queryParams),new he(e.fragment),new he(e.data),e.outlet,e.component,e)}var _p="ngNavigationCancelingError";function xp(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Bi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=wp(!1,Be.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wp(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[_p]=!0,n.cancellationCode=t,n}function t0(e){return Cp(e)&&Bi(e.url)}function Cp(e){return!!e&&e[_p]}var td=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Oe({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ie],decls:1,vars:0,template:function(i,o){i&1&&He(0,"router-outlet")},dependencies:[Gx],encapsulation:2});let e=t;return e})();function e0(e,t){return e.providers&&!e._injector&&(e._injector=uu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function ed(e){let t=e.children&&e.children.map(ed),n=t?Ht(K({},e),{children:t}):K({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=td),n}function Cr(e){return e.outlet||ut}function r0(e,t){let n=e.filter(r=>Cr(r)===t);return n.push(...e.filter(r=>Cr(r)!==t)),n}function Jo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var n0=(e,t,n,r)=>ft(i=>(new Hu(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Hu=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Su(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ni(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ni(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ni(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ni(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ju(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Lu(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Su(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Su(l.route.value),this.activateChildRoutes(t,null,a.children)}else{let l=Jo(i.snapshot);a.attachRef=null,a.route=i,a.injector=l,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}},Ls=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Fi=class{constructor(t,n){this.component=t,this.route=n}};function i0(e,t,n){let r=e._root,i=t?t._root:null;return Fo(r,i,n,[r.value])}function o0(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function zi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!im(e)?e:t.get(e):r}function Fo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ni(t);return e.children.forEach(a=>{a0(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>zo(l,n.getContext(a),i)),i}function a0(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let f=s0(a,o,o.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new Ls(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Fo(e,t,l?l.children:null,r,i):Fo(e,t,n,r,i),f&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Fi(l.outlet.component,a))}else a&&zo(t,l,i),i.canActivateChecks.push(new Ls(r)),o.component?Fo(e,null,l?l.children:null,r,i):Fo(e,null,n,r,i);return i}function s0(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ti(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ti(e.url,t.url)||!yr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ku(e,t)||!yr(e.queryParams,t.queryParams);case"paramsChange":default:return!Ku(e,t)}}function zo(e,t,n){let r=Ni(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?t?zo(a,t.children.getContext(o),n):zo(a,null,n):zo(a,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Fi(t.outlet.component,i)):n.canDeactivateChecks.push(new Fi(null,i)):n.canDeactivateChecks.push(new Fi(null,i))}function ta(e){return typeof e=="function"}function c0(e){return typeof e=="boolean"}function l0(e){return e&&ta(e.canLoad)}function u0(e){return e&&ta(e.canActivate)}function d0(e){return e&&ta(e.canActivateChild)}function f0(e){return e&&ta(e.canDeactivate)}function h0(e){return e&&ta(e.canMatch)}function Sp(e){return e instanceof Gh||e?.name==="EmptyError"}var Rs=Symbol("INITIAL_VALUE");function ji(){return We(e=>hs(e.map(t=>t.pipe(Ke(1),er(Rs)))).pipe(ft(t=>{for(let n of t)if(n!==!0){if(n===Rs)return Rs;if(n===!1||n instanceof yn)return n}return!0}),xt(t=>t!==Rs),Ke(1)))}function m0(e,t){return qt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?J(Ht(K({},n),{guardsResult:!0})):p0(a,r,i,e).pipe(qt(l=>l&&c0(l)?g0(r,o,e,t):J(l)),ft(l=>Ht(K({},n),{guardsResult:l})))})}function p0(e,t,n,r){return me(e).pipe(qt(i=>x0(i.component,i.route,n,t,r)),fn(i=>i!==!0,!0))}function g0(e,t,n,r){return me(t).pipe(Si(i=>Xh(b0(i.route.parent,r),v0(i.route,r),_0(e,i.path,n),y0(e,i.route,n))),fn(i=>i!==!0,!0))}function v0(e,t){return e!==null&&t&&t(new Bu(e)),J(!0)}function b0(e,t){return e!==null&&t&&t(new Fu(e)),J(!0)}function y0(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>Yn(()=>{let a=Jo(t)??n,l=zi(o,a),f=u0(l)?l.canActivate(t,e):hn(a,()=>l(t,e));return Cn(f).pipe(fn())}));return J(i).pipe(ji())}function _0(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>o0(a)).filter(a=>a!==null).map(a=>Yn(()=>{let l=a.guards.map(f=>{let m=Jo(a.node)??n,p=zi(f,m),y=d0(p)?p.canActivateChild(r,e):hn(m,()=>p(r,e));return Cn(y).pipe(fn())});return J(l).pipe(ji())}));return J(o).pipe(ji())}function x0(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let a=o.map(l=>{let f=Jo(t)??i,m=zi(l,f),p=f0(m)?m.canDeactivate(e,t,n,r):hn(f,()=>m(e,t,n,r));return Cn(p).pipe(fn())});return J(a).pipe(ji())}function w0(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(a=>{let l=zi(a,e),f=l0(l)?l.canLoad(t,n):hn(e,()=>l(t,n));return Cn(f)});return J(o).pipe(ji(),Ep(r))}function Ep(e){return Yh(pe(t=>{if(Bi(t))throw xp(e,t)}),ft(t=>t===!0))}function C0(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(a=>{let l=zi(a,e),f=h0(l)?l.canMatch(t,n):hn(e,()=>l(t,n));return Cn(f)});return J(o).pipe(ji(),Ep(r))}var Qo=class{constructor(t){this.segmentGroup=t||null}},Bs=class extends Error{constructor(t){super(),this.urlTree=t}};function Mi(e){return Do(new Qo(e))}function S0(e){return Do(new xe(4e3,!1))}function E0(e){return Do(wp(!1,Be.GuardRejected))}var qu=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ut])return S0(t.redirectTo);i=i.children[ut]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new Bs(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),a={};return Object.entries(n.children).forEach(([l,f])=>{a[l]=this.createSegmentGroup(t,f,r,i)}),new Ot(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new xe(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Yu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R0(e,t,n,r,i){let o=rd(e,t,n);return o.matched?(r=e0(t,r),C0(r,t,n,i).pipe(ft(a=>a===!0?o:K({},Yu)))):J(o)}function rd(e,t,n){if(t.path==="**")return D0(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?K({},Yu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Cx)(n,e,t);if(!i)return K({},Yu);let o={};Object.entries(i.posParams??{}).forEach(([l,f])=>{o[l]=f.path});let a=i.consumed.length>0?K(K({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function D0(e){return{matched:!0,parameters:e.length>0?ip(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Jm(e,t,n,r){return n.length>0&&k0(e,n,r)?{segmentGroup:new Ot(t,I0(r,new Ot(n,e.children))),slicedSegments:[]}:n.length===0&&A0(e,n,r)?{segmentGroup:new Ot(e.segments,O0(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ot(e.segments,e.children),slicedSegments:n}}function O0(e,t,n,r){let i={};for(let o of n)if(Us(e,t,o)&&!r[Cr(o)]){let a=new Ot([],{});i[Cr(o)]=a}return K(K({},r),i)}function I0(e,t){let n={};n[ut]=t;for(let r of e)if(r.path===""&&Cr(r)!==ut){let i=new Ot([],{});n[Cr(r)]=i}return n}function k0(e,t,n){return n.some(r=>Us(e,t,r)&&Cr(r)!==ut)}function A0(e,t,n){return n.some(r=>Us(e,t,r))}function Us(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T0(e,t,n,r){return Cr(e)!==r&&(r===ut||!Us(t,n,e))?!1:rd(t,e,n).matched}function P0(e,t,n){return t.length===0&&!e.children[n]}var Qu=class{};function M0(e,t,n,r,i,o,a="emptyOnly"){return new Gu(e,t,n,r,i,a,o).recognize()}var N0=31,Gu=class{constructor(t,n,r,i,o,a,l){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new qu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new xe(4002,`'${t.segmentGroup}'`)}recognize(){let t=Jm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ft(n=>{let r=new qo([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),i=new Le(r,n),o=new Fs("",i),a=Ux(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ut).pipe(Ci(r=>{if(r instanceof Bs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qo?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=Zu(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(ft(o=>o instanceof Le?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return me(i).pipe(Si(o=>{let a=r.children[o],l=r0(n,o);return this.processSegmentGroup(t,l,a,o)}),rm((o,a)=>(o.push(...a),o)),au(null),tm(),qt(o=>{if(o===null)return Mi(r);let a=Rp(o);return $0(a),J(a)}))}processSegment(t,n,r,i,o,a){return me(n).pipe(Si(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,a).pipe(Ci(f=>{if(f instanceof Qo)return J(null);throw f}))),fn(l=>!!l),Ci(l=>{if(Sp(l))return P0(r,i,o)?J(new Qu):Mi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,a,l){return T0(r,i,o,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a):Mi(i):Mi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a){let{matched:l,consumedSegments:f,positionalParamSegments:m,remainingSegments:p}=rd(n,i,o);if(!l)return Mi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>N0&&(this.allowRedirects=!1));let y=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,m);return this.applyRedirects.lineralizeSegments(i,y).pipe(qt(x=>this.processSegment(t,r,n,x.concat(p),a,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let a=R0(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(We(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(We(({routes:f})=>{let m=r._loadedInjector??t,{consumedSegments:p,remainingSegments:y,parameters:x}=l,S=new qo(p,x,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,L0(r),Cr(r),r.component??r._loadedComponent??null,r,B0(r)),{segmentGroup:N,slicedSegments:B}=Jm(n,p,y,f);if(B.length===0&&N.hasChildren())return this.processChildren(m,f,N).pipe(ft(ot=>ot===null?null:new Le(S,ot)));if(f.length===0&&B.length===0)return J(new Le(S,[]));let rt=Cr(r)===o;return this.processSegment(m,f,N,B,rt?ut:o,!0).pipe(ft(ot=>new Le(S,ot instanceof Le?[ot]:[])))}))):Mi(n)))}getChildConfig(t,n,r){return n.children?J({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):w0(t,n,r,this.urlSerializer).pipe(qt(i=>i?this.configLoader.loadChildren(t,n).pipe(pe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):E0(n))):J({routes:[],injector:t})}};function $0(e){e.sort((t,n)=>t.value.outlet===ut?-1:n.value.outlet===ut?1:t.value.outlet.localeCompare(n.value.outlet))}function F0(e){let t=e.value.routeConfig;return t&&t.path===""}function Rp(e){let t=[],n=new Set;for(let r of e){if(!F0(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Rp(r.children);t.push(new Le(r.value,i))}return t.filter(r=>!n.has(r))}function L0(e){return e.data||{}}function B0(e){return e.resolve||{}}function j0(e,t,n,r,i,o){return qt(a=>M0(e,t,n,r,a.extractedUrl,i,o).pipe(ft(({state:l,tree:f})=>Ht(K({},a),{targetSnapshot:l,urlAfterRedirects:f}))))}function z0(e,t){return qt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(f=>f.route)),a=new Set;for(let f of o)if(!a.has(f))for(let m of Dp(f))a.add(m);let l=0;return me(a).pipe(Si(f=>o.has(f)?U0(f,r,e,t):(f.data=Zu(f,f.parent,e).resolve,J(void 0))),pe(()=>l++),su(1),qt(f=>l===a.size?J(n):dn))})}function Dp(e){let t=e.children.map(n=>Dp(n)).flat();return[e,...t]}function U0(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!yp(i)&&(o[Go]=i.title),V0(o,e,t,r).pipe(ft(a=>(e._resolvedData=a,e.data=Zu(e,e.parent,n).resolve,null)))}function V0(e,t,n,r){let i=Du(e);if(i.length===0)return J({});let o={};return me(i).pipe(qt(a=>K0(e[a],t,n,r).pipe(fn(),pe(l=>{o[a]=l}))),su(1),Jh(o),Ci(a=>Sp(a)?dn:Do(a)))}function K0(e,t,n,r){let i=Jo(t)??r,o=zi(e,i),a=o.resolve?o.resolve(t,n):hn(i,()=>o(t,n));return Cn(a)}function Eu(e){return We(t=>{let n=e(t);return n?me(n).pipe(ft(()=>t)):J(t)})}var Op=(()=>{let t=class t{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===ut);return i}getResolvedTitleForRoute(r){return r.data[Go]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:()=>G(W0),providedIn:"root"});let e=t;return e})(),W0=(()=>{let t=class t extends Op{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(V(Am))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ea=new pt("",{providedIn:"root",factory:()=>({})}),wn=new pt(""),nd=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(ki)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Cn(r.loadComponent()).pipe(ft(Ip),pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ri(()=>{this.componentLoaders.delete(r)})),o=new qn(i,()=>new it).pipe(Ro());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=H0(i,this.compiler,r,this.onLoadEndListener).pipe(Ri(()=>{this.childrenLoaders.delete(i)})),l=new qn(a,()=>new it).pipe(Ro());return this.childrenLoaders.set(i,l),l}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function H0(e,t,n,r){return Cn(e.loadChildren()).pipe(ft(Ip),qt(i=>i instanceof vs||Array.isArray(i)?J(i):me(t.compileModuleAsync(i))),ft(i=>{r&&r(e);let o,a,l=!1;return Array.isArray(i)?(a=i,l=!0):(o=i.create(n).injector,a=o.get(wn,[],{optional:!0,self:!0}).flat()),{routes:a.map(ed),injector:o}}))}function q0(e){return e&&typeof e=="object"&&"default"in e}function Ip(e){return q0(e)?e.default:e}var id=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:()=>G(Y0),providedIn:"root"});let e=t;return e})(),Y0=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),kp=new pt(""),Ap=new pt("");function Q0(e,t,n){let r=e.get(Ap),i=e.get(Gt);return e.get($t).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,a=new Promise(m=>{o=m}),l=i.startViewTransition(()=>(o(),G0(e))),{onViewTransitionCreated:f}=r;return f&&hn(e,()=>f({transition:l,from:t,to:n})),a})}function G0(e){return new Promise(t=>{hm(t,{injector:e})})}var od=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it,this.transitionAbortSubject=new it,this.configLoader=G(nd),this.environmentInjector=G(Io),this.urlSerializer=G(Xo),this.rootContexts=G(Zo),this.location=G(nr),this.inputBindingEnabled=G(zs,{optional:!0})!==null,this.titleStrategy=G(Op),this.options=G(ea,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=G(id),this.createViewTransition=G(kp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Nu(o)),i=o=>this.events.next(new $u(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ht(K(K({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new he({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xt(a=>a.id!==0),ft(a=>Ht(K({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),We(a=>{let l=!1,f=!1;return J(a).pipe(We(m=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Be.SupersededByNewNavigation),dn;this.currentTransition=a,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Ht(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=m.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&y!=="reload"){let x="";return this.events.next(new xn(m.id,this.urlSerializer.serialize(m.rawUrl),x,Ts.IgnoredSameUrlNavigation)),m.resolve(null),dn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return J(m).pipe(We(x=>{let S=this.transitions?.getValue();return this.events.next(new _n(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),S!==this.transitions?.getValue()?dn:Promise.resolve(x)}),j0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(x=>{a.targetSnapshot=x.targetSnapshot,a.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation=Ht(K({},this.currentNavigation),{finalUrl:x.urlAfterRedirects});let S=new Ps(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(S)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:x,extractedUrl:S,source:N,restoredState:B,extras:rt}=m,ot=new _n(x,this.urlSerializer.serialize(S),N,B);this.events.next(ot);let at=vp(this.rootComponentType).snapshot;return this.currentTransition=a=Ht(K({},m),{targetSnapshot:at,urlAfterRedirects:S,extras:Ht(K({},rt),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,J(a)}else{let x="";return this.events.next(new xn(m.id,this.urlSerializer.serialize(m.extractedUrl),x,Ts.IgnoredByUrlHandlingStrategy)),m.resolve(null),dn}}),pe(m=>{let p=new Au(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}),ft(m=>(this.currentTransition=a=Ht(K({},m),{guards:i0(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),a)),m0(this.environmentInjector,m=>this.events.next(m)),pe(m=>{if(a.guardsResult=m.guardsResult,Bi(m.guardsResult))throw xp(this.urlSerializer,m.guardsResult);let p=new Tu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(p)}),xt(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",Be.GuardRejected),!1)),Eu(m=>{if(m.guards.canActivateChecks.length)return J(m).pipe(pe(p=>{let y=new Pu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),We(p=>{let y=!1;return J(p).pipe(z0(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(p,"",Be.NoDataFromResolver)}}))}),pe(p=>{let y=new Mu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),Eu(m=>{let p=y=>{let x=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(y.routeConfig).pipe(pe(S=>{y.component=S}),ft(()=>{})));for(let S of y.children)x.push(...p(S));return x};return hs(p(m.targetSnapshot.root)).pipe(au(null),Ke(1))}),Eu(()=>this.afterPreactivation()),We(()=>{let{currentSnapshot:m,targetSnapshot:p}=a,y=this.createViewTransition?.(this.environmentInjector,m.root,p.root);return y?me(y).pipe(ft(()=>a)):J(a)}),ft(m=>{let p=Xx(r.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=a=Ht(K({},m),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),pe(()=>{this.events.next(new Wo)}),n0(this.rootContexts,r.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Ke(1),pe({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),Qn(this.transitionAbortSubject.pipe(pe(m=>{throw m}))),Ri(()=>{!l&&!f&&this.cancelNavigationTransition(a,"",Be.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ci(m=>{if(f=!0,Cp(m))this.events.next(new xr(a.id,this.urlSerializer.serialize(a.extractedUrl),m.message,m.cancellationCode)),t0(m)?this.events.next(new Ho(m.url)):a.resolve(!1);else{this.events.next(new Ko(a.id,this.urlSerializer.serialize(a.extractedUrl),m,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(m))}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return dn}))}))}cancelNavigationTransition(r,i,o){let a=new xr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function X0(e){return e!==jo}var ad=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:()=>G(Z0),providedIn:"root"});let e=t;return e})(),Xu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Z0=(()=>{let t=class t extends Xu{};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(t)))(o||t)}})(),t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Tp=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:()=>G(J0),providedIn:"root"});let e=t;return e})(),J0=(()=>{let t=class t extends Tp{constructor(){super(...arguments),this.location=G(nr),this.urlSerializer=G(Xo),this.options=G(ea,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=G(id),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof _n)this.stateMemento=this.createStateMemento();else if(r instanceof xn)this.rawUrlTree=i.initialUrl;else if(r instanceof Ps){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Wo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xr&&(r.code===Be.GuardRejected||r.code===Be.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ko?this.restoreHistory(i,!0):r instanceof _r&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let a=this.browserPageId,l=K(K({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(o,"",l)}else{let a=K(K({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(t)))(o||t)}})(),t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Lo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Lo||{});function Pp(e,t){e.events.pipe(xt(n=>n instanceof _r||n instanceof xr||n instanceof Ko||n instanceof xn),ft(n=>n instanceof _r||n instanceof xn?Lo.COMPLETE:(n instanceof xr?n.code===Be.Redirect||n.code===Be.SupersededByNewNavigation:!1)?Lo.REDIRECTING:Lo.FAILED),xt(n=>n!==Lo.REDIRECTING),Ke(1)).subscribe(()=>{t()})}function tw(e){throw e}var ew={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ke=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=G(ym),this.stateManager=G(Tp),this.options=G(ea,{optional:!0})||{},this.pendingTasks=G(mm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=G(od),this.urlSerializer=G(Xo),this.location=G(nr),this.urlHandlingStrategy=G(id),this._events=new it,this.errorHandler=this.options.errorHandler||tw,this.navigated=!1,this.routeReuseStrategy=G(ad),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=G(wn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!G(zs,{optional:!0}),this.eventsSubscription=new hr,this.isNgZoneEnabled=G($t)instanceof $t&&$t.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof xr&&i.code!==Be.Redirect&&i.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _r)this.navigated=!0;else if(i instanceof Ho){let l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),f={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||X0(o.source)};this.scheduleNavigation(l,jo,null,f,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}iw(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let m=K({},o);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(a.state=m)}let f=this.parseUrl(r);this.scheduleNavigation(f,i,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ed),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:m}=i,p=m?this.currentUrlTree.fragment:l,y=null;switch(f){case"merge":y=K(K({},this.currentUrlTree.queryParams),a);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=a||null}y!==null&&(y=this.removeEmptyProps(y));let x;try{let S=o?o.snapshot:this.routerState.snapshot.root;x=hp(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),x=this.currentUrlTree.root}return mp(x,r,y,p??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Bi(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,jo,null,i)}navigate(r,i={skipLocationChange:!1}){return nw(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=K({},ew):i===!1?o=K({},rw):o=i,Bi(r))return Ym(this.currentUrlTree,r,o);let a=this.parseUrl(r);return Ym(this.currentUrlTree,a,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,a])=>(a!=null&&(i[o]=a),i),{})}scheduleNavigation(r,i,o,a,l){if(this.disposed)return Promise.resolve(!1);let f,m,p;l?(f=l.resolve,m=l.reject,p=l.promise):p=new Promise((x,S)=>{f=x,m=S});let y=this.pendingTasks.add();return Pp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:f,reject:m,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(x=>Promise.reject(x))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function nw(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new xe(4008,!1)}function iw(e){return!(e instanceof Wo)&&!(e instanceof Ho)}var iO=(()=>{let t=class t{constructor(r,i,o,a,l,f){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new it,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,a,l){let f=this.urlTree;if(f===null||this.isAnchorElement&&(r!==0||i||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(f,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:dm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,a=this.el.nativeElement;i!==null?o.setAttribute(a,r,i):o.removeAttribute(a,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(i){return new(i||t)(Y(ke),Y(wr),lm("tabindex"),Y(fm),Y(Qt),Y(Po))},t.\u0275dir=Ut({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Oi("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),i&2&&Fe("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ht.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ve],skipLocationChange:[ht.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ve],replaceUrl:[ht.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ve],routerLink:"routerLink"},standalone:!0,features:[gn,mn]});let e=t;return e})();var js=class{};var ow=(()=>{let t=class t{constructor(r,i,o,a,l){this.router=r,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(xt(r=>r instanceof _r),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let a of i){a.providers&&!a._injector&&(a._injector=uu(a.providers,r,`Route: ${a.path}`));let l=a._injector??r,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(f,a.children??a._loadedRoutes))}return me(o).pipe(iu())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=J(null);let a=o.pipe(qt(l=>l===null?J(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??r,l.routes))));if(i.loadComponent&&!i._loadedComponent){let l=this.loader.loadComponent(i);return me([a,l]).pipe(iu())}else return a})}};t.\u0275fac=function(i){return new(i||t)(V(ke),V(ki),V(Io),V(js),V(nd))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Mp=new pt(""),aw=(()=>{let t=class t{constructor(r,i,o,a,l={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _r?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof xn&&r.code===Ts.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ms&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ms(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(i){ko()},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function oO(e,...t){return am([{provide:wn,multi:!0,useValue:e},[],{provide:wr,useFactory:Np,deps:[ke]},{provide:pu,multi:!0,useFactory:$p},t.map(n=>n.\u0275providers)])}function Np(e){return e.routerState.root}function ra(e,t){return{\u0275kind:e,\u0275providers:t}}function $p(){let e=G(Yt);return t=>{let n=e.get(ys);if(t!==n.components[0])return;let r=e.get(ke),i=e.get(Fp);e.get(sd)===1&&r.initialNavigation(),e.get(Lp,null,lu.Optional)?.setUpPreloading(),e.get(Mp,null,lu.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Fp=new pt("",{factory:()=>new it}),sd=new pt("",{providedIn:"root",factory:()=>1});function sw(){return ra(2,[{provide:sd,useValue:0},{provide:To,multi:!0,deps:[Yt],useFactory:t=>{let n=t.get(Sm,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(ke),o=t.get(Fp);Pp(i,()=>{r(!0)}),t.get(od).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}])}function cw(){return ra(3,[{provide:To,multi:!0,useFactory:()=>{let t=G(ke);return()=>{t.setUpLocationChangeListener()}}},{provide:sd,useValue:2}])}var Lp=new pt("");function lw(e){return ra(0,[{provide:Lp,useExisting:ow},{provide:js,useExisting:e}])}function uw(){return ra(8,[Zm,{provide:zs,useExisting:Zm}])}function dw(e){let t=[{provide:kp,useValue:Q0},{provide:Ap,useValue:K({skipNextTransition:!!e?.skipInitialTransition},e)}];return ra(9,t)}var tp=new pt("ROUTER_FORROOT_GUARD"),fw=[nr,{provide:Xo,useClass:Uo},ke,Zo,{provide:wr,useFactory:Np,deps:[ke]},nd,[]],Bp=(()=>{let t=class t{constructor(r){}static forRoot(r,i){return{ngModule:t,providers:[fw,[],{provide:wn,multi:!0,useValue:r},{provide:tp,useFactory:gw,deps:[[ke,new ms,new ps]]},{provide:ea,useValue:i||{}},i?.useHash?mw():pw(),hw(),i?.preloadingStrategy?lw(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?vw(i):[],i?.bindToComponentInputs?uw().\u0275providers:[],i?.enableViewTransitions?dw().\u0275providers:[],bw()]}}static forChild(r){return{ngModule:t,providers:[{provide:wn,multi:!0,useValue:r}]}}};t.\u0275fac=function(i){return new(i||t)(V(tp,8))},t.\u0275mod=ee({type:t}),t.\u0275inj=te({});let e=t;return e})();function hw(){return{provide:Mp,useFactory:()=>{let e=G(Im),t=G($t),n=G(ea),r=G(od),i=G(Xo);return n.scrollOffset&&e.setOffset(n.scrollOffset),new aw(i,r,e,t,n)}}}function mw(){return{provide:Po,useClass:Rm}}function pw(){return{provide:Po,useClass:Em}}function gw(e){return"guarded"}function vw(e){return[e.initialNavigation==="disabled"?cw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?sw().\u0275providers:[]]}var ep=new pt("");function bw(){return[{provide:ep,useFactory:$p},{provide:pu,multi:!0,useExisting:ep}]}var yw=new pt("LOCALIZE_ROUTER_FORROOT_GUARD"),cd=new pt("RAW_ROUTES"),Sn=function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Cookie="Cookie",e}(Sn||{}),zp=new pt("USE_CACHED_LANG"),Up=new pt("CACHE_MECHANISM"),Vp=new pt("CACHE_NAME"),Kp=new pt("COOKIE_FORMAT"),Wp=new pt("INITIAL_NAVIGATION"),Hp=new pt("DEFAULT_LANG_FUNCTION"),qp=new pt("ALWAYS_SET_PREFIX"),_w="LOCALIZE_DEFAULT_LANGUAGE",xw="{{value}};{{expires}}",ww=!1,Ks=(()=>{let t=class t{constructor(r=!0,i=!0,o=Sn.LocalStorage,a=_w,l=void 0,f=xw,m=ww){this.useCachedLang=r,this.alwaysSetPrefix=i,this.cacheName=a,this.cookieFormat=f,this.initialNavigation=m,this.cacheMechanism=o,this.defaultLangFunction=l}};t.\u0275fac=function(i){return new(i||t)(V(zp),V(qp),V(Up),V(Vp),V(Hp),V(Kp),V(Wp))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})(),Cw=30,na=(()=>{let t=class t{constructor(r,i,o){this.translate=r,this.location=i,this.settings=o}init(r){let i;if(this.routes=r,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),a=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,a):this.defaultLang=this._cachedLang||a||this.locales[0],i=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let l=[];if(this.settings.alwaysSetPrefix){let f={path:"",redirectTo:this.defaultLang,pathMatch:"full"},m=r.findIndex(p=>p.path==="**");m!==-1&&(this._wildcardRoute=r.splice(m,1)[0]),l=this.routes.splice(0,this.routes.length,f)}else l=[...this.routes];for(let f=l.length-1;f>=0;f--)l[f].data&&l[f].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(l[f]),(l[f].redirectTo===void 0||!l[f].data.skipRouteLocalization.localizeRedirectTo)&&l.splice(f,1));return l&&l.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:l},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),fs(this.translateRoutes(i))}initChildRoutes(r){return this._translateRouteTree(r),r}translateRoutes(r){return new ds(i=>{this._cachedLang=r,this._languageRoute&&(this._languageRoute.path=r),this.translate.use(r).subscribe(o=>{this._translationObject=o,this.currentLang=r,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),i.next(void 0),i.complete()})})}_translateRouteTree(r,i){r.forEach(o=>{let a=o.data&&o.data.skipRouteLocalization,l=!a||a.localizeRedirectTo;if(o.redirectTo&&l){let f=o.redirectTo.indexOf("/")===0||i;this._translateProperty(o,"redirectTo",f)}a||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(r,i,o){let a=r.data=r.data||{};a.localizeRouter||(a.localizeRouter={}),a.localizeRouter[i]||(a.localizeRouter=Ht(K({},a.localizeRouter),{[i]:r[i]}));let l=this.translateRoute(a.localizeRouter[i]);r[i]=o?this.addPrefixToUrl(l):l}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(r){let i=r.split("?"),o=i[0].length===1&&i[0]==="/";i[0]=i[0].replace(/\/$/,"");let a=i.join("?");return this.urlPrefix===""?a:!a.startsWith("/")&&!o?`${this.urlPrefix}/${a}`:`/${this.urlPrefix}${a}`}translateRoute(r){let i=r.split("?");if(i.length>2)throw Error("There should be only one query parameter block in the URL");return i[0].split("/").map(a=>a.length?this.translateText(a):a).join("/")+(i.length>1?`?${i[1]}`:"")}getLocationLang(r){let i=(r||this.location.path()).split(/[\?;]/),o=[];return i.length>0&&(o=i[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Sn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Sn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Sn.Cookie)return this._cacheWithCookies()}}set _cachedLang(r){this.settings.useCachedLang&&(this.settings.cacheMechanism===Sn.LocalStorage&&this._cacheWithLocalStorage(r),this.settings.cacheMechanism===Sn.SessionStorage&&this._cacheWithSessionStorage(r),this.settings.cacheMechanism===Sn.Cookie&&this._cacheWithCookies(r))}_cacheWithLocalStorage(r){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(r){window.localStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(r){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(r){window.sessionStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(r){try{if(typeof document>"u"||typeof document.cookie>"u")return;let i=encodeURIComponent(this.settings.cacheName);if(r){let l=`${this.settings.cookieFormat}`;l=l.replace("{{value}}",`${i}=${encodeURIComponent(r)}`).replace(/{{expires:?(\d+)?}}/g,(f,m)=>{let p=m===void 0?Cw:parseInt(m,10),y=new Date;return y.setTime(y.getTime()+p*864e5),`expires=${y.toUTCString()}`}),document.cookie=l;return}let a=new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(a[1])}catch{return}}_returnIfInLocales(r){return r&&this.locales.indexOf(r)!==-1?r:null}translateText(r){if(this.escapePrefix&&r.startsWith(this.escapePrefix))return r.replace(this.escapePrefix,"");{if(!this._translationObject)return r;let i=this.prefix+r,o=this.translate.getParsedResult(this._translationObject,i);return o!==i?o:r}}chooseQueryParams(r,i){let o;return r&&r.queryParams?o=r.queryParams:i&&(o=i),o}formatQueryParams(r){return new km({fromObject:r}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}};t.\u0275fac=function(i){return new(i||t)(V(jm),V(nr),V(Ks))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();var Sw=(()=>{let t=class t extends na{load(r){return new Promise(i=>{this.init(r).then(i)})}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(t)))(o||t)}})(),t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function Vs(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;let n=typeof e,r=typeof t,i,o,a;if(n===r&&n==="object")if(Array.isArray(e)){if(!Array.isArray(t))return!1;if((i=e.length)===t.length){for(o=0;o<i;o++)if(!Vs(e[o],t[o]))return!1;return!0}}else{if(Array.isArray(t))return!1;a=Object.create(null);for(o in e)if(e.hasOwnProperty(o)){if(!Vs(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(t.hasOwnProperty(o)&&!(o in a)&&typeof t[o]<"u")return!1;return!0}return!1}function Ew(e){return!!e&&typeof e.then=="function"}function ud(e){let t=Array.isArray(e)?[]:{};for(let n in e)if(n){let r=e[n];t[n]=typeof r=="object"?ud(r):r}return t}var dd=(()=>{let t=class t{constructor(r,i,o,a){this.parser=r,this.settings=i,this.router=o,this.route=a,this.routerEvents=new it;let l=new Qh(1);this.hooks={_initializedSubject:l,initialized:l.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(xt(r=>r instanceof _n),cu()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(r,i,o){if(r!==this.parser.currentLang){let a=this.router.routerState.snapshot.root;this.parser.translateRoutes(r).subscribe(()=>{let l=this.traverseRouteSnapshot(a);if(l=this.translateRoute(l),!this.settings.alwaysSetPrefix){let p=l.split("/"),y=p.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(y===0||y===1&&p[0]==="")&&(p=p.slice(0,y).concat(p.slice(y+1)));else if(y===-1){let x=p[0]===""?1:0;p=p.slice(0,x).concat(this.parser.currentLang,p.slice(x))}l=p.join("/")}l=l.replace(/\/+/g,"/");let f=l.lastIndexOf("/");f>0&&f===l.length-1&&(l=l.slice(0,-1));let m=this.parser.chooseQueryParams(i,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=i,o){let p=i?K({},i):{};m&&(p.queryParams=m),this.router.navigate([l],p)}else{let p=this.parser.formatQueryParams(m);p=p?`?${p}`:"",this.router.navigateByUrl(`${l}${p}`,i)}})}}traverseRouteSnapshot(r){return r.firstChild&&r.routeConfig?`${this.parseSegmentValue(r)}/${this.traverseRouteSnapshot(r.firstChild)}`:r.firstChild?this.traverseRouteSnapshot(r.firstChild):this.parseSegmentValue(r)}buildUrlFromSegments(r,i){return i.map((o,a)=>o.indexOf(":")===0?r.url[a].path:o).join("/")}parseSegmentValue(r){if(r.routeConfig&&r.routeConfig.matcher){let i=this.parseSegmentValueMatcher(r);return this.buildUrlFromSegments(r,i)}else if(r.data.localizeRouter){let o=r.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(r,o)}else if(r.parent&&r.parent.parent){let o=r.routeConfig.path.split("/");return this.buildUrlFromSegments(r,o)}else return""}parseSegmentValueMatcher(r){let i=r.data&&r.data.localizeMatcher&&r.data.localizeMatcher.params||{};return r.url.map(a=>{let l=a.path,f=a.localizedParamName;return(f&&i[f]?i[f](l):null)||`${this.parser.getEscapePrefix()}${l}`})}translateRoute(r){if(typeof r=="string"){let o=this.parser.translateRoute(r);return r.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let i=[];return r.forEach((o,a)=>{if(typeof o=="string"){let l=this.parser.translateRoute(o);!a&&!o.indexOf("/")?i.push(this.parser.addPrefixToUrl(l)):i.push(l)}else i.push(o)}),i}_routeChanged(){return([r,i])=>{let o=this.parser.getLocationLang(r.url)||this.parser.defaultLang,a=this.parser.getLocationLang(i.url)||this.parser.defaultLang,l=this.lastExtras;a!==o&&this.latestUrl!==i.url&&(this.latestUrl=i.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(a).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(i.url,l),this.routerEvents.next(a)})),this.latestUrl=i.url}}cancelCurrentNavigation(){let r=this.router.getCurrentNavigation(),i=this.router.serializeUrl(r.extractedUrl);this.router.events.next(new xr(r.id,i,"")),this.router.navigationTransitions.transitions.next(Ht(K({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(r){this.router.resetConfig(ud(r))}};t.\u0275fac=function(i){return new(i||t)(V(na),V(Ks),V(ke),V(wr))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})(),Rw=128,yO=(()=>{let t=class t{constructor(r,i){this.localize=r,this._ref=i,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(r){if(!r||r.length===0||!this.localize.parser.currentLang)return r;if(Vs(r,this.lastKey)&&Vs(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=r,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(r),this.lastKey=r;let i=this._ref._view;return i&&i.state&Rw?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}};t.\u0275fac=function(i){return new(i||t)(Y(dd,16),Y(gr,16))},t.\u0275pipe=om({name:"localize",type:t,pure:!1,standalone:!0});let e=t;return e})(),ld=class{constructor(){}shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t&&n?this.getKey(t)===this.getKey(n):!1}getKey(t){if(t.firstChild&&t.firstChild.routeConfig&&t.firstChild.routeConfig.path&&t.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!t.data.localizeRouter&&(!t.parent||!t.parent.parent)&&!t.data.skipRouteLocalization)return"LANG";if(t.routeConfig.matcher){let n=`${this.getKey(t.parent)}/${t.routeConfig.matcher.name}`;return t.data.discriminantPathKey&&(n=`${n}-${t.data.discriminantPathKey}`),n}else if(t.data.localizeRouter){let n=`${this.getKey(t.parent)}/${t.data.localizeRouter.path}`;return t.data.discriminantPathKey&&(n=`${n}-${t.data.discriminantPathKey}`),n}else{let n=t.routeConfig.path;return t.parent&&(n=`${this.getKey(t.parent)}/${t.routeConfig.path}`),t.data.discriminantPathKey&&(n=`${n}-${t.data.discriminantPathKey}`),n}}},Dw=(()=>{let t=class t extends ke{constructor(){super(),this.platformId=G(um),this.compiler=G(ki),this.localize=G(na),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,a)=>kw(a.loadChildren()).pipe(ft(Iw),qt(l=>l instanceof vs||Array.isArray(l)?J(l):me(this.compiler.compileModuleAsync(l))),ft(l=>{this.onLoadEndListener&&this.onLoadEndListener(a);let f,m;if(Array.isArray(l))m=this.localize.initChildRoutes([].concat(...l));else{f=l.create(o).injector;let y=f.get.bind(f);f.get=(x,S,N)=>{let B=y(x,S,N);return x===wn?this.localize.initChildRoutes([].concat(...B)):B},m=f.get(wn,[],{optional:!0,self:!0}).reduce((x,S)=>x.concat(S),[])}return{routes:m.map(Yp),injector:f}}));let i=Om(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;i.loadChildren=(o,a)=>{if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return J({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let f=this.loadModuleFactoryOrRoutes(o,a).pipe(Ri(()=>{this.childrenLoaders.delete(a)})),m=new qn(f,()=>new it).pipe(Ro());return this.childrenLoaders.set(a,m),m}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Yp(e){let t=e.children&&e.children.map(Yp),n=t?Ht(K({},e),{children:t}):K({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=td),n}function Ow(e){return e&&typeof e=="object"&&"default"in e}function Iw(e){return Ow(e)?e.default:e}function kw(e){return xi(e)?e:Ew(e)?me(Promise.resolve(e)):J(e)}var jp=(()=>{let t=class t{constructor(r){this.injector=r}appInitializer(){return this.parser.load(this.routes).then(()=>{let i=this.injector.get(dd),o=this.injector.get(ke),a=this.injector.get(Ks);if(i.init(),a.initialNavigation)return new Promise(l=>{let f=o.navigationTransitions.afterPreactivation,m=!0;o.navigationTransitions.afterPreactivation=()=>(m&&(l(),m=!1,i.hooks._initializedSubject.next(!0),i.hooks._initializedSubject.complete()),f())});i.hooks._initializedSubject.next(!0),i.hooks._initializedSubject.complete()})}generateInitializer(r,i){return this.parser=r,this.routes=i.reduce((o,a)=>o.concat(a)),this.appInitializer}};t.\u0275fac=function(i){return new(i||t)(V(Yt))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function Aw(e,t,n){let r=ud(n);return e.generateInitializer(t,r).bind(e)}function Tw(e,t){return[{provide:ke,useClass:Dw},{provide:yw,useFactory:Mw,deps:[[Pw,new ms,new ps]]},{provide:zp,useValue:t.useCachedLang},{provide:qp,useValue:t.alwaysSetPrefix},{provide:Vp,useValue:t.cacheName},{provide:Up,useValue:t.cacheMechanism},{provide:Hp,useValue:t.defaultLangFunction},{provide:Kp,useValue:t.cookieFormat},{provide:Wp,useValue:t.initialNavigation},Ks,t.parser||{provide:na,useClass:Sw},{provide:cd,multi:!0,useValue:e},dd,jp,{provide:To,multi:!0,useFactory:Aw,deps:[jp,na,cd]},{provide:ad,useClass:ld}]}var Pw=(()=>{let t=class t{static forRoot(r,i={}){return{ngModule:t,providers:Tw(r,i)}}static forChild(r){return{ngModule:t,providers:[{provide:cd,multi:!0,useValue:r}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({imports:[Dm,Bp,zm]});let e=t;return e})();function Mw(e){if(e)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function fd(e,t){if(En(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(En(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hd(e){var t=fd(e,"string");return En(t)=="symbol"?t:t+""}function Qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hd(r.key),r)}}function be(e,t,n){return t&&Qp(e.prototype,t),n&&Qp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ia(e){return Array.isArray(e)?e.slice(0):[e]}function Sr(e){return Array.isArray(e)}function Gp(e){return e!=null}function Ws(e,t){var n=0,r=-1;for(var i of e){r=r+1;var o=t(i,r);if(o)n=n+1;else break}return n}function jr(e,t){for(var n=t.length,r=0;r<n;++r){var i=t[r];e.push(i)}}function Xp(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function Zp(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)}function Jp(e,t){return U(this,null,function*(){var n=yield fetch("data:"+t+";base64,"+e),r=yield n.blob();return r})}function tg(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8Array]"&&(e=new Blob([e])),typeof e=="string"?Promise.resolve(e):e.text()}function eg(e){return U(this,null,function*(){if(typeof e=="string")return e;var t=Object.prototype.toString.call(e);t==="[object Uint8Array]"&&(e=new Blob([e]));var n=yield e.arrayBuffer();return Zp(n)})}function rg(e){return e.size}function Hs(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function md(e){var t=parseInt(e.split("-")[0],10);return t}function Ui(e,t){var n=t?t._rev:null,r=n?Hs(n).height:0,i=r+1;return i+"-"+e}function gd(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&gd(e[t])}),e}function ng(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var i=r,o=0;o<n;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function qs(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(typeof e[n]=="object"){var r=qs(e[n]);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function Ct(e){return Object.assign({},e)}function ig(e){return Object.keys(e)[0]}function Vi(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>Vi(r,t));if(typeof e=="object"&&!Array.isArray(e)){var n={};return Object.keys(e).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=Vi(e[r],t)}),n}return e}function pd(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=pd(e[n]);return t}var r={};for(var i in e)r[i]=pd(e[i]);return r}var Ye=pd;function Qe(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}var Ys=1;function Rn(){return{lwt:Ys}}function zr(){return""}function og(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function ag(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var o=t[r],a=n[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}var BO=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var jO=Object.freeze(["prototype","__proto__","constructor"]);var Nw="[native code] }",zO=Nw.length;var Dn=class e{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||$w).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){let r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new e([...this.words])}},$w={stringify(e){let t=[];for(let n=0;n<e.sigBytes;n++){let r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}};var Fw={parse(e){let t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new Dn(n,t)}},Lw={parse(e){return Fw.parse(unescape(encodeURIComponent(e)))}},vd=class{constructor(){this._data=new Dn,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Dn,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=Lw.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);let i=r*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=o}return new Dn(n,o)}},bd=class extends vd{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}},sg=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Bw=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ei=[],yd=class extends bd{constructor(){super(...arguments),this._hash=new Dn([...sg])}reset(){super.reset(),this._hash=new Dn([...sg])}_doProcessBlock(t,n){let r=this._hash.words,i=r[0],o=r[1],a=r[2],l=r[3],f=r[4],m=r[5],p=r[6],y=r[7];for(let x=0;x<64;x++){if(x<16)ei[x]=t[n+x]|0;else{let gt=ei[x-15],Kt=(gt<<25|gt>>>7)^(gt<<14|gt>>>18)^gt>>>3,bt=ei[x-2],Mt=(bt<<15|bt>>>17)^(bt<<13|bt>>>19)^bt>>>10;ei[x]=Kt+ei[x-7]+Mt+ei[x-16]}let S=f&m^~f&p,N=i&o^i&a^o&a,B=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),rt=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),ot=y+rt+S+Bw[x]+ei[x],at=B+N;y=p,p=m,m=f,f=l+ot|0,l=a,a=o,o=i,i=ot+at|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+l|0,r[4]=r[4]+f|0,r[5]=r[5]+m|0,r[6]=r[6]+p|0,r[7]=r[7]+y|0}finalize(t){super.finalize(t);let n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function cg(e){return new yd().finalize(e).toString()}function jw(e){return Promise.resolve(cg(e))}function zw(e){return U(this,null,function*(){var t=new TextEncoder().encode(e),n=yield crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(n),i=>("00"+i.toString(16)).slice(-2)).join("");return r})}var Uw=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",lg=Uw?zw:jw;function ug(){return new Promise(e=>setTimeout(e,0))}function dg(e=0){return new Promise(t=>setTimeout(t,e))}var Vw=Promise.resolve(!0),ir=Promise.resolve(!1),fg=Promise.resolve(null),On=Promise.resolve();function xd(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):dg(0)}var _d=On;function hg(e=void 0){return _d=_d.then(()=>xd(e)),_d}function mg(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}var pg=/\./g;var gg="abcdefghijklmnopqrstuvwxyz";function ri(e=10){for(var t="",n=0;n<e;n++)t+=gg.charAt(Math.floor(Math.random()*gg.length));return t}function Qs(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function or(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function wd(e){return!!(e.includes("/")||e.includes("\\"))}function In(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!In(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var o=i[r];if(!In(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var Sd=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},Cd=new Set(["__proto__","prototype","constructor"]),Kw=new Set("0123456789");function vg(e){var t=[],n="",r="start",i=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=o),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=o;break}if(Cd.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=o;break}if(r==="property"){if(Cd.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!Kw.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=o}}switch(i&&(n+="\\"),r){case"property":{if(Cd.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function bg(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function Ww(e,t){if(bg(e,t))throw new Error("Cannot use string index")}function Ae(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!Sd(e)||typeof t!="string")return n===void 0?e:n;var r=vg(t);if(r.length===0)return n;for(var i=0;i<r.length;i++){var o=r[i];if(bg(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function Ed(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!Sd(e)||typeof t!="string")return e;for(var r=e,i=vg(t),o=0;o<i.length;o++){var a=i[o];Ww(e,a),o===i.length-1?e[a]=n:Sd(e[a])||(e[a]=typeof i[o+1]=="number"?[]:{}),e=e[a]}return r}function kn(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function Ce(e,t,n,r){var i=e.get(t);return typeof i>"u"?(i=n(),e.set(t,i)):r&&r(i),i}function It(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=Qs(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}var Rd=0;function re(){var e=Date.now();e=e+.01,e<=Rd&&(e=Rd+.01);var t=parseFloat(e.toFixed(2));return Rd=t,t}function kt(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var Gs={bufferSize:1,refCount:!0};var oa="15.16.0";function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ur(e,t)}function Xs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ur(e,t)}function aa(e){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aa(e)}function Dd(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Zs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zs=function(){return!!e})()}function Od(e,t,n){if(Zs())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Ur(i,n.prototype),i}function Ki(e){var t=typeof Map=="function"?new Map:void 0;return Ki=function(r){if(r===null||!Dd(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Od(r,arguments,aa(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ur(i,r)},Ki(e)}var At={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function Hw(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(e[n],function(i,o){return o===void 0?null:o},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function yg(e,t,n){return"RxError ("+t+`):
`+e+`
`+Hw(n)}var qw=function(e){function t(r,i,o={}){var a,l=yg(i,r,o);return a=e.call(this,l)||this,a.code=r,a.message=l,a.parameters=o,a.rxdb=!0,a}Xs(t,e);var n=t.prototype;return n.toString=function(){return this.message},be(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(Ki(Error)),Yw=function(e){function t(r,i,o={}){var a,l=yg(i,r,o);return a=e.call(this,l)||this,a.code=r,a.message=l,a.parameters=o,a.rxdb=!0,a}Xs(t,e);var n=t.prototype;return n.toString=function(){return this.message},be(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(Ki(TypeError));function P(e,t){return new qw(e,At.tunnelErrorMessage(e),t)}function ae(e,t){return new Yw(e,At.tunnelErrorMessage(e),t)}function Js(e){return e&&e.status===409?e:!1}var Qw={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function _g(e){return P("COL20",{name:Qw[e.status],document:e.documentId,writeError:e})}var Wi={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function se(e,t){Wi[e]&&Wi[e].forEach(n=>n(t))}function An(e,t){return Promise.all(Wi[e].map(n=>n(t)))}function Te(e,t){var n=t;n=n.replace(pg,".properties."),n="properties."+n,n=or(n);var r=Ae(e,n);return r}function tc(e,t,n){if(typeof t.primaryKey=="string")return n;var r=sa(t,n),i=n[e];if(i&&i!==r)throw P("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}function Se(e){return typeof e=="string"?e:e.key}function sa(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var i=Ae(t,r);if(typeof i>"u")throw P("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function xg(e){var t=Vi(e,!0);return t}function Gw(e){return["_deleted",e]}function ec(e){e=Ct(e);var t=Se(e.primaryKey);e.properties=Ct(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Xw,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=Id(e);jr(e.required,n),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,l)=>l.indexOf(o)===a),e.version=e.version||0;var r=e.indexes.map(o=>{var a=Sr(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(Gw(t)),r.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map(o=>{r.push(o)});var i=new Set;return r.filter(o=>{var a=o.join(",");return i.has(a)?!1:(i.add(a),!0)}),e.indexes=r,e}var Xw={type:"object",properties:{lwt:{type:"number",minimum:Ys,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Id(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=Se(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function wg(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];(!Object.prototype.hasOwnProperty.call(t,i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var kd=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=Zw(this.jsonSchema),this.primaryPath=Se(this.jsonSchema.primaryKey),this.finalFields=Id(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,i){this.finalFields.forEach(o=>{if(!In(r[o],i[o]))throw P("DOC9",{dataBefore:r,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},i=Te(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var a=o;r.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(a);return l}}),Object.defineProperty(r,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),Qe(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return sa(this.jsonSchema,r)},be(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,i])=>n[r]=i.default),Qe(this,"defaultValues",n)}},{key:"hash",get:function(){return Qe(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Zw(e){return(e.indexes||[]).map(t=>Sr(t)?t:[t])}function Cg(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function Sg(e,t,n=!0){n&&se("preCreateRxSchema",e);var r=ec(e);r=xg(r),At.deepFreezeWhenDevMode(r);var i=new kd(r,t);return se("createRxSchema",i),i}function rc(e){return e.documentData?e.documentData:e.previousDocumentData}function Eg(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:At.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function nc(e){return e[e.length-1]}function Jw(e){let t=typeof e;return e!==null&&(t==="object"||t==="function")}function Ad(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!Jw(e)||typeof t!="string")return n===void 0?e:n;let r=t.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){let o=r[i];if(tC(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function tC(e,t){if(typeof t!="number"&&Array.isArray(e)){let n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}var Td=e=>!!e.queryParams.limit,Rg=e=>e.queryParams.limit===1,Dg=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),Og=e=>e.changeEvent.operation==="DELETE",Ig=e=>e.changeEvent.operation==="INSERT",kg=e=>e.changeEvent.operation==="UPDATE",Ag=e=>Td(e)&&e.previousResults.length>=e.queryParams.limit,Tg=e=>{let t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let i=0;i<t.length;i++){let o=t[i],a=Ad(n,o),l=Ad(r,o);if(a!==l)return!0}return!1},Pg=e=>{let t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{let n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t)return!0;return!1}},Mg=e=>{let t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Ng=e=>{let t=nc(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},$g=e=>{let t=e.changeEvent.previous;if(!t)return!1;let n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},Fg=e=>{let t=e.changeEvent.previous;if(!t)return!1;let n=nc(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},Lg=e=>{let t=e.changeEvent.doc;if(!t)return!1;let n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},Bg=e=>{let t=e.changeEvent.doc;if(!t)return!1;let n=nc(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},jg=e=>{let t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},zg=e=>{let t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},Ug=e=>e.previousResults.length===0;var Vg={0:Ig,1:kg,2:Og,3:Td,4:Rg,5:Dg,6:Ug,7:Ag,8:Mg,9:Ng,10:Tg,11:Pg,12:$g,13:Fg,14:Lg,15:Bg,16:jg,17:zg};function Kg(e,t,n,r){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var l;r<=o;)a=r+(o-r>>1),l=e[a],n(l,t)<=0?r=a+1:o=a-1;return n(l,t)<=0&&a++,e.splice(a,0,t),a}var Wg=e=>{},ic=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},oc=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},ac=e=>{let t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},sc=e=>{let t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Hg=e=>{ac(e),oc(e)},qg=e=>{sc(e),ic(e)},Yg=e=>{ac(e),ic(e)},Qg=e=>{sc(e),oc(e)},Pd=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);let t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},Gg=e=>{let t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},Xg=e=>{let t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},Md=e=>{let t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;Kg(e.previousResults,n,e.queryParams.sortComparator,0)},Zg=e=>{Pd(e),Md(e)},Jg=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},tv=e=>{throw new Error("Action unknownAction should never be called")};var ev=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],rv={doNothing:Wg,insertFirst:ic,insertLast:oc,removeFirstItem:ac,removeLastItem:sc,removeFirstInsertLast:Hg,removeLastInsertFirst:qg,removeFirstInsertFirst:Yg,removeLastInsertLast:Qg,removeExisting:Pd,replaceExisting:Gg,alwaysWrong:Xg,insertAtSortPosition:Md,removeExistingAndInsertAtSortPosition:Zg,runFullQueryAgain:Jg,unknownAction:tv};function cc(e){return e.charCodeAt(0)-40}function nv(e){return e?"1":"0"}function eC(e=6){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}var ZI=eC(4);function Nd(e,t){let n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function iv(e){let t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,r),o=Nd(i,2);for(let B=0;B<o.length;B++){let rt=o[B],ot=rt.charAt(0),at=cc(rt.charAt(1));t.set(ot,at)}let a=e.substring(r,e.length-3),l=Nd(a,4);for(let B=0;B<l.length;B++){let rt=l[B],ot=rt.charAt(0),at=rt.charAt(1),gt=rt.charAt(2),Kt=cc(rt.charAt(3));if(!t.has(at))throw new Error("missing node with id "+at);if(!t.has(gt))throw new Error("missing node with id "+gt);let bt=t.get(at),Mt=t.get(gt),vt={l:Kt,0:bt,1:Mt};t.set(ot,vt)}let f=e.slice(-3),m=f.charAt(0),p=f.charAt(1),y=cc(f.charAt(2)),x=t.get(m),S=t.get(p);return{l:y,0:x,1:S}}function ov(e,t,n){let r=e,i=e.l;for(;;){let o=t[i](n),a=nv(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}var rC="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",$d;function nC(){return $d||($d=iv(rC)),$d}var av=e=>ov(nC(),Vg,e);function sv(e){let t=av(e);return ev[t]}function cv(e,t,n,r,i){let o=rv[e];return o({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}var ni="\uFFFF",ii=Number.MIN_SAFE_INTEGER;function lv(e,t){var n=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var i=!!t.sort.find(p=>Object.values(p)[0]==="desc"),o=new Set;Object.keys(n).forEach(p=>{var y=Te(e,p);y&&y.type==="boolean"&&Object.prototype.hasOwnProperty.call(n[p],"$eq")&&o.add(p)});var a=t.sort.map(p=>Object.keys(p)[0]),l=a.filter(p=>!o.has(p)).join(","),f=-1,m;if(r.forEach(p=>{var y=!0,x=!0,S=p.map(at=>{var gt=n[at],Kt=gt?Object.keys(gt):[],bt={};if(!gt||!Kt.length){var Mt=x?ii:ni;bt={startKey:Mt,endKey:y?ni:ii,inclusiveStart:!0,inclusiveEnd:!0}}else Kt.forEach(vt=>{if(lc.has(vt)){var _t=gt[vt],ue=sC(vt,_t);bt=Object.assign(bt,ue)}});return typeof bt.startKey>"u"&&(bt.startKey=ii),typeof bt.endKey>"u"&&(bt.endKey=ni),typeof bt.inclusiveStart>"u"&&(bt.inclusiveStart=!0),typeof bt.inclusiveEnd>"u"&&(bt.inclusiveEnd=!0),x&&!bt.inclusiveStart&&(x=!1),y&&!bt.inclusiveEnd&&(y=!1),bt}),N=S.map(at=>at.startKey),B=S.map(at=>at.endKey),rt={index:p,startKeys:N,endKeys:B,inclusiveEnd:y,inclusiveStart:x,sortSatisfiedByIndex:!i&&l===p.filter(at=>!o.has(at)).join(","),selectorSatisfiedByIndex:aC(p,t.selector,N,B)},ot=cC(e,t,rt);(ot>=f||t.index)&&(f=ot,m=rt)}),!m)throw P("SNH",{query:t});return m}var lc=new Set(["$eq","$gt","$gte","$lt","$lte"]),iC=new Set(["$eq","$gt","$gte"]),oC=new Set(["$eq","$lt","$lte"]);function aC(e,t,n,r){var i=Object.entries(t),o=i.find(([vt,_t])=>{if(!e.includes(vt))return!0;var ue=Object.entries(_t).find(([cr,co])=>!lc.has(cr));return ue});if(o||t.$and||t.$or)return!1;var a=[],l=new Set;for(var[f,m]of Object.entries(t)){if(!e.includes(f))return!1;var p=Object.keys(m).filter(vt=>iC.has(vt));if(p.length>1)return!1;var y=p[0];if(y&&l.add(f),y!=="$eq"){if(a.length>0)return!1;a.push(y)}}var x=[],S=new Set;for(var[N,B]of Object.entries(t)){if(!e.includes(N))return!1;var rt=Object.keys(B).filter(vt=>oC.has(vt));if(rt.length>1)return!1;var ot=rt[0];if(ot&&S.add(N),ot!=="$eq"){if(x.length>0)return!1;x.push(ot)}}var at=0;for(var gt of e){for(var Kt of[l,S]){if(!Kt.has(gt)&&Kt.size>0)return!1;Kt.delete(gt)}var bt=n[at],Mt=r[at];if(bt!==Mt&&l.size>0&&S.size>0)return!1;at++}return!0}function sC(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function cC(e,t,n){var r=0,i=p=>{p>0&&(r=r+p)},o=10,a=Ws(n.startKeys,p=>p!==ii&&p!==ni);i(a*o);var l=Ws(n.startKeys,p=>p!==ni&&p!==ii);i(l*o);var f=Ws(n.startKeys,(p,y)=>p===n.endKeys[y]);i(f*o*1.5);var m=n.sortSatisfiedByIndex?5:0;return i(m),r}var ne=class extends Error{};var fc=2147483647,hc=-2147483648,jd=Number.MAX_SAFE_INTEGER,zd=Number.MIN_SAFE_INTEGER,Vr=Symbol("missing"),hv=Object.freeze(new Error("mingo: cycle detected while processing object/array")),lC=Object.getPrototypeOf([]),mv=Object.getPrototypeOf({}),uC="[object Object]",dC=/^\[object ([a-zA-Z0-9]+)\]$/,la=class{},ua=class{},oi=e=>e===null?la:e===void 0?ua:e.constructor,da=e=>{let t=gC(e),n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},pv=new Set(["null","undefined","boolean","number","string","date","regexp"]),uv=new Set([ua,la,Boolean,String,Number]),ca=e=>e.toString(),ar=e=>`${oi(e).name}[${e.toString()}]`,ai=new Map([[Number,ca],[Boolean,ca],[RegExp,ca],[Function,ca],[Symbol,ca],[Date,e=>e.toISOString()],[String,JSON.stringify],[la,e=>"null"],[ua,e=>"undefined"],[Int8Array,ar],[Uint8Array,ar],[Uint8ClampedArray,ar],[Int16Array,ar],[Uint16Array,ar],[Int32Array,ar],[Uint32Array,ar],[Float32Array,ar],[Float64Array,ar]]);typeof BigInt<"u"&&ai.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&ai.set(BigInt64Array,ar);typeof BigUint64Array<"u"&&ai.set(BigUint64Array,ar);var fC={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Ft=(e,t)=>{e===Vr&&(e=void 0),t===Vr&&(t=void 0);let[n,r]=[e,t].map(i=>fC[Tn(i).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:ye(e,t)?0:e<t?-1:e>t?1:0};function j(e,t){if(!e)throw new ne(t)}var hC=e=>{let t=Object.getPrototypeOf(oi(e));return t&&t.name==="TypedArray"},Yi=e=>{if(uv.has(oi(e)))return e;let t=new Set,n=r=>{if(t.has(r))throw hv;let i=oi(r);if(uv.has(i))return r;try{if(et(r))return t.add(r),r.map(n);if(ct(r)){t.add(r);let o={};for(let a in r)o[a]=n(r[a]);return o}}finally{t.delete(r)}return i===Date||i===RegExp||hC(r)?new i(r):r};return n(e)},Tn=e=>dC.exec(Object.prototype.toString.call(e))[1],fa=e=>typeof e=="boolean",St=e=>typeof e=="string";var lt=e=>!isNaN(e)&&typeof e=="number";var et=Array.isArray,ct=e=>{if(!e)return!1;let t=Object.getPrototypeOf(e);return(t===mv||t===null)&&uC===Object.prototype.toString.call(e)},ha=e=>e===Object(e),si=e=>e instanceof Date,ma=e=>e instanceof RegExp,ci=e=>typeof e=="function",H=e=>e==null,Er=(e,t)=>e.includes(t),mc=(e,t)=>!Er(e,t),Ee=(e,t=!0)=>!!e||t&&e==="",je=e=>H(e)||St(e)&&!e||e instanceof Array&&e.length===0||ct(e)&&Object.keys(e).length===0,dv=e=>e===Vr,Rr=e=>e instanceof Array?e:[e],zt=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),mC=(e,t)=>ct(e)&&ct(t)||et(e)&&et(t);function uc(e,t,n){if(n=n||{flatten:!1},dv(e)||H(e))return t;if(dv(t)||H(t))return e;if(!mC(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,et(e)){let r=e,i=t;if(n.flatten){let o=0,a=0;for(;o<r.length&&a<i.length;)r[o]=uc(r[o++],i[a++],n);for(;a<i.length;)r.push(t[a++])}else Ge(r,i)}else for(let r in t)e[r]=uc(e[r],t[r],n);return e}function Ld(e,t=da){let n=new Map;return e.forEach((r,i)=>{let o=pc(r,t);n.has(o)?n.get(o).some(a=>ye(e[a],r))||n.get(o).push(i):n.set(o,[i])}),n}function Kr(e,t=da){if(e.some(l=>l.length==0))return[];if(e.length===1)return Array.from(e);let n=gv(e.map((l,f)=>[f,l.length]),l=>l[1]),r=e[n[0][0]],i=Ld(r,t),o=new Map,a=new Array;return i.forEach((l,f)=>{let m=l.map(S=>r[S]),p=m.map(S=>0),y=m.map(S=>[n[0][0],0]),x=!1;for(let S=1;S<e.length;S++){let[N,B]=n[S],rt=e[N];if(o.has(S)||o.set(S,Ld(rt)),o.get(S).has(f)){let ot=o.get(S).get(f).map(at=>rt[at]);x=m.map((at,gt)=>ot.some((Kt,bt)=>{let Mt=p[gt];return ye(at,Kt)&&(p[gt]++,N<y[gt][0]&&(y[gt]=[N,o.get(S).get(f)[bt]])),Mt<p[gt]})).some(Boolean)}if(!x)return}x&&Ge(a,p.map((S,N)=>S===e.length-1?[m[N],y[N]]:Vr).filter(S=>S!==Vr))}),a.sort((l,f)=>{let[m,[p,y]]=l,[x,[S,N]]=f,B=Ft(p,S);return B!==0?B:Ft(y,N)}).map(l=>l[0])}function Ud(e,t=0){let n=new Array;function r(i,o){for(let a=0,l=i.length;a<l;a++)et(i[a])&&(o>0||o<0)?r(i[a],Math.max(-1,o-1)):n.push(i[a])}return r(e,t),n}var pC=e=>{let[t,n]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!n.length&&t!==mv&&t!==lC;)r=t,n=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);let i={};return n.forEach(o=>i[o]=e[o]),[i,r]};function ye(e,t){let n=[[e,t]];for(;n.length>0;){if([e,t]=n.pop(),e===t)continue;let r=oi(e);if(r!==oi(t)||ci(e))return!1;if(ai.has(r)){let i=ai.get(r);if(i(e)!==i(t))return!1;continue}if(r===Array||r===Object){let i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length||new Set(i.concat(o)).size!=i.length)return!1;for(let a of i)n.push([e[a],t[a]]);continue}return!1}return!n.length}function pa(e,t=da){let n=e.map(r=>Vr);return Ld(e,t).forEach((r,i)=>{r.forEach(o=>n[o]=e[o])}),n.filter(r=>r!==Vr)}function gC(e){let t=new Set,n=r=>{let i=oi(r);if(ai.has(i))return ai.get(i)(r);let o=i===Object?"":i.name;if(ci(r.toJSON))return`${o}(${JSON.stringify(r)})`;if(t.has(r))throw hv;t.add(r);try{if(i===Array)return"["+r.map(n).join(",")+"]";if(i!==Object){let[l,f]=pC(r);if(et(r))return`${o}${n([...r,l])}`;r=l}let a=Object.keys(r);return a.sort(),`${o}{`+a.map(l=>`${l}:${n(r[l])}`).join(",")+"}"}finally{t.delete(r)}};return n(e)}function pc(e,t){return t=t||da,H(e)?null:t(e).toString()}function gv(e,t,n=Ft){if(je(e))return e;let r=new Array,i=new Array;for(let o=0;o<e.length;o++){let a=e[o],l=t(a,o);H(l)?i.push(a):r.push([l,a])}return r.sort((o,a)=>n(o[0],a[0])),Ge(i,r.map(o=>o[1]))}function gc(e,t,n=da){if(e.length<1)return new Map;let r=new Map,i=new Map;for(let o=0;o<e.length;o++){let a=e[o],l=t(a,o),f=pc(l,n);if(f===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{let m=r.has(f)?r.get(f).find(p=>ye(p,l)):null;H(m)?(i.set(l,[a]),r.has(f)?r.get(f).push(l):r.set(f,[l])):i.get(m).push(a)}}return i}var Fd=5e4;function Ge(e,...t){return e instanceof Array?t.reduce((n,r)=>{let i=Math.ceil(r.length/Fd),o=0;for(;i-- >0;)Array.prototype.push.apply(n,r.slice(o,o+Fd)),o+=Fd;return n},e):t.filter(ha).reduce((n,r)=>(Object.assign(n,r),n),e)}function Bd(e,t){return ha(e)?e[t]:void 0}function vC(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function Re(e,t,n){let r=0;function i(a,l){let f=a;for(let m=0;m<l.length;m++){let p=l[m];if(/^\d+$/.exec(p)===null&&f instanceof Array){if(m===0&&r>0)break;r+=1;let x=l.slice(m);f=f.reduce((S,N)=>{let B=i(N,x);return B!==void 0&&S.push(B),S},[]);break}else f=Bd(f,p);if(f===void 0)break}return f}let o=pv.has(Tn(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&n?.unwrapArray?vC(o,r):o}function Hi(e,t,n){let r=t.split("."),i=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(i)!==null,l=r.length>1,f,m;if(e instanceof Array)if(a)f=Bd(e,Number(i)),l&&(f=Hi(f,o,n)),f=[f];else{f=[];for(let p of e)m=Hi(p,t,n),n?.preserveMissing?(m===void 0&&(m=Vr),f.push(m)):m!==void 0&&f.push(m)}else{if(m=Bd(e,i),l&&(m=Hi(m,o,n)),m===void 0)return;f=n?.preserveKeys?Object.assign({},e):{},f[i]=m}return f}function dc(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===Vr?e.splice(t,1):dc(e[t]);else if(ct(e))for(let t in e)zt(e,t)&&dc(e[t])}var fv=/^\d+$/;function qi(e,t,n,r){let i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(ct(e)||et(e)&&fv.test(o))&&n(e,o);else{r?.buildGraph&&H(e[o])&&(e[o]={});let l=e[o];if(!l)return;let f=!!(i.length>1&&fv.test(i[1]));l instanceof Array&&r?.descendArray&&!f?l.forEach(m=>qi(m,a,n,r)):qi(l,a,n,r)}}function vc(e,t,n){qi(e,t,(r,i)=>{r[i]=ci(n)?n(r[i]):n},{buildGraph:!0})}function ga(e,t,n){qi(e,t,(r,i)=>{if(r instanceof Array){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(let o of r)ct(o)&&delete o[i]}else ct(r)&&delete r[i]},n)}var bC=/^\$[a-zA-Z0-9_]+$/;function ze(e){return bC.test(e)}function bc(e){if(pv.has(Tn(e).toLowerCase()))return ma(e)?{$regex:e}:{$eq:e};if(ha(e)){if(!Object.keys(e).some(ze))return{$eq:e};if(zt(e,"$regex")){let n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var Wr=function(e){return e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF",e}(Wr||{}),Vt=class e{constructor(t,n,r,i=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=i,this.update(n,r)}static init(t,n,r){return t instanceof e?new e(t._opts,H(t.root)?n:t.root,Object.assign({},t.local,r)):new e(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:Qi.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||Wr.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}};function Hr(e){return e instanceof Vt?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:Wr.CLONE_OFF},e),{context:e?.context?Qi.from(e?.context):Qi.init({})}))}var wt=function(e){return e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e}(wt||{}),Qi=class e{constructor(t){this.operators={[wt.ACCUMULATOR]:{},[wt.EXPRESSION]:{},[wt.PIPELINE]:{},[wt.PROJECTION]:{},[wt.QUERY]:{},[wt.WINDOW]:{}};for(let[n,r]of Object.entries(t))this.addOperators(n,r)}static init(t={}){return new e(t)}static from(t){return new e(t.operators)}addOperators(t,n){for(let[r,i]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=i);return this}addAccumulatorOps(t){return this.addOperators(wt.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(wt.EXPRESSION,t)}addQueryOps(t){return this.addOperators(wt.QUERY,t)}addPipelineOps(t){return this.addOperators(wt.PIPELINE,t)}addProjectionOps(t){return this.addOperators(wt.PROJECTION,t)}addWindowOps(t){return this.addOperators(wt.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}},li=Qi.init();function Wd(e,t){for(let[n,r]of Object.entries(t)){j(ci(r)&&ze(n),`'${n}' is not a valid operator`);let i=sr(e,n,null);j(!i||r===i,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case wt.ACCUMULATOR:li.addAccumulatorOps(t);break;case wt.EXPRESSION:li.addExpressionOps(t);break;case wt.PIPELINE:li.addPipelineOps(t);break;case wt.PROJECTION:li.addProjectionOps(t);break;case wt.QUERY:li.addQueryOps(t);break;case wt.WINDOW:li.addWindowOps(t);break}}function sr(e,t,n){let{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(e,t):null;return!o&&i?li.getOperator(e,t):o}var vv={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},Vd={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!zt(t,"$cond"))return e;let r;for(let[i,o]of Object.entries(e))if(ha(o)){if(o instanceof Array){let a=[];for(let l of o)ct(l)&&(l=Kd(l,t,n.update(l))),H(l)||a.push(l);r=a}else r=Kd(o,t,n.update(o));H(r)?delete e[i]:e[i]=r}return e}};function A(e,t,n,r){var i;let o=Vt.init(r,e);if(n=n||"",ze(n)){let a=sr(wt.EXPRESSION,n,r);if(a)return a(e,t,o);let l=sr(wt.ACCUMULATOR,n,r);if(l)return e instanceof Array||(e=A(e,t,null,o),t=null),j(e instanceof Array,`'${n}' target must be an array.`),l(e,t,o.update(null,o.local));throw new ne(`operator '${n}' is not registered`)}if(St(t)&&t.length>0&&t[0]==="$"){if(zt(Vd,t))return t;let a=o.root,l=t.split(".");if(zt(vv,l[0]))a=vv[l[0]](e,null,o),t=t.slice(l[0].length+1);else if(l[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);let f=l[0].slice(2);j(zt(a,f),`Use of undefined variable: ${f}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:Re(a,t)}if(et(t))return t.map(a=>A(e,a,null,o));if(ct(t)){let a={};for(let[l,f]of Object.entries(t))if(a[l]=A(e,f,l,o),[wt.EXPRESSION,wt.ACCUMULATOR].some(m=>!!sr(m,l,r)))return j(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[l];return a}return t}function Kd(e,t,n){let r=A(e,t,null,n);return zt(Vd,r)?Vd[r](e,t,n):r}function Ue(e){return e instanceof va?e:new va(e)}function yc(...e){let t=0;return Ue(()=>{for(;t<e.length;){let n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function yC(e){return!!e&&typeof e=="object"&&e?.next instanceof Function}function _C(e,t){let n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}var Hd=new Error,qr=function(e){return e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP",e}(qr||{});function xC(e,t,n){let r=!1,i=-1,o=0;return function(a){try{t:for(;!r;){let l=e();i++;let f=-1,m=t.length,p=!1;for(;++f<m;){let y=t[f];switch(y.action){case qr.MAP:l=y.func(l,i);break;case qr.FILTER:if(!y.func(l,i))continue t;break;case qr.TAKE:--y.count,y.count||(p=!0);break;case qr.DROP:--y.count,y.count||_C(t,f);continue t;default:break t}}if(r=p,a)n[o++]=l;else return{value:l,done:!1}}}catch(l){if(l!==Hd)throw l}return r=!0,{done:r}}}var va=class{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),yC(t)){let r=t;n=()=>{let i=r.next();if(i.done)throw Hd;return i.value}}else if(t instanceof Array){let r=t,i=r.length,o=0;n=()=>{if(o<i)return r[o++];throw Hd}}else if(!(t instanceof Function))throw new ne("Lazy must be initialized with an array, generator, or function.");this.getNext=xC(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(qr.MAP,t)}filter(t){return this.push(qr.FILTER,t)}take(t){return t>0?this.push(qr.TAKE,t):this}drop(t){return t>0?this.push(qr.DROP,t):this}transform(t){let n=this,r;return Ue(()=>(r||(r=Ue(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){let n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}};var Dr=class{constructor(t,n){this.pipeline=t,this.options=Hr(n)}stream(t){let n=Ue(t),r=this.options.processingMode;(r==Wr.CLONE_ALL||r==Wr.CLONE_INPUT)&&n.map(Yi);let i=new Array;if(!je(this.pipeline))for(let o of this.pipeline){let a=Object.keys(o),l=a[0],f=sr(wt.PIPELINE,l,this.options);j(a.length===1&&!!f,`invalid pipeline operator ${l}`),i.push(l),n=f(n,o[l],this.options)}return(r==Wr.CLONE_OUTPUT||r==Wr.CLONE_ALL&&Kr([["$group","$unwind"],i]).length)&&n.map(Yi),n}run(t){return this.stream(t).value()}};var _c=class{constructor(t,n,r,i){this.source=t,this.predicate=n,this.projection=r,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(ct(this.projection)&&this.operators.push({$project:this.projection}),this.result=Ue(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Dr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let t=Ue([...this.buffer]);return this.buffer=[],yc(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;let t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}};var Zt=class{constructor(t,n){this.condition=t,this.options=Hr(n),this.compiled=[],this.compile()}compile(){j(ct(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let t={};for(let[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(Er(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{j(!ze(n),`unknown top level operator: ${n}`);for(let[i,o]of Object.entries(bc(r)))this.processOperator(n,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){let i=sr(wt.QUERY,n,this.options);if(!i)throw new ne(`unknown query operator ${n}`);let o=i(t,r,this.options);this.compiled.push(o)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new _c(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}};var Gi=1e3*60*60*24,bv={week:Gi*7,day:Gi,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var dT={week:Gi*7,day:Gi,hour:Gi/24,minute:6e4,second:1e3,millisecond:1};var wc=(e,t,n)=>{if(je(t)||!ct(t))return e;let r=Ft,i=n.collation;return ct(i)&&St(i.locale)&&(r=AC(i)),e.transform(o=>{let a=Object.keys(t);for(let l of a.reverse()){let f=gc(o,p=>Re(p,l),n.hashFunction),m=Array.from(f.keys()).sort(r);t[l]===-1&&m.reverse(),o=[],m.reduce((p,y)=>Ge(p,f.get(y)),o)}return o})},kC={1:"base",2:"accent",3:"variant"};function AC(e){let t={sensitivity:kC[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));let n=new Intl.Collator(e.locale,t);return(r,i)=>{if(!St(r)||!St(i))return Ft(r,i);let o=n.compare(r,i);return o<0?-1:o>0?1:0}}function Et(e){let t=(n,r,i)=>{let o={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return l=>{let f=Re(l,n,o);return e(f,r,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function Pe(e){return(t,n,r)=>{let i=A(t,n,null,r);return e(...i)}}function ba(e,t,n){if(ye(e,t)||H(e)&&H(t))return!0;if(e instanceof Array){let r=ye.bind(null,t);return e.some(r)||Ud(e,n?.depth).some(r)}return!1}function Cc(e,t,n){return!ba(e,t,n)}function Yd(e,t,n){return H(e)?t.some(r=>r===null):Kr([Rr(e),t],n?.hashFunction).length>0}function Sc(e,t,n){return!Yd(e,t,n)}function Ec(e,t,n){return Ic(e,t,(r,i)=>Ft(r,i)<0)}function Rc(e,t,n){return Ic(e,t,(r,i)=>Ft(r,i)<=0)}function Dc(e,t,n){return Ic(e,t,(r,i)=>Ft(r,i)>0)}function Oc(e,t,n){return Ic(e,t,(r,i)=>Ft(r,i)>=0)}function Sv(e,t,n){return Rr(e).some(r=>t.length===2&&r%t[0]===t[1])}function Ev(e,t,n){let r=Rr(e),i=o=>St(o)&&Ee(t.exec(o),n?.useStrictMode);return r.some(i)||Ud(r,1).some(i)}function Rv(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function Dv(e,t,n){if(!et(e)||!et(t)||!e.length||!t.length)return!1;let r=!0;for(let i of t){if(!r)break;ct(i)&&Er(Object.keys(i),"$elemMatch")?r=Qd(e,i.$elemMatch,n):i instanceof RegExp?r=e.some(o=>typeof o=="string"&&i.test(o)):r=e.some(o=>ye(i,o))}return r}function Ov(e,t,n){return Array.isArray(e)&&e.length===t}function NC(e){return ze(e)&&["$and","$or","$nor"].indexOf(e)===-1}function Qd(e,t,n){if(et(e)&&!je(e)){let r=a=>a,i=t;Object.keys(t).every(NC)&&(i={temp:t},r=a=>({temp:a}));let o=new Zt(i,n);for(let a=0,l=e.length;a<l;a++)if(o.test(r(e[a])))return!0}return!1}var _v=e=>e===null,xv=e=>lt(e)&&e>=hc&&e<=fc&&e.toString().indexOf(".")===-1,wv=e=>lt(e)&&e>=zd&&e<=jd&&e.toString().indexOf(".")===-1,$C={array:et,bool:fa,boolean:fa,date:si,decimal:lt,double:lt,int:xv,long:wv,number:lt,null:_v,object:ct,regex:ma,regexp:ma,string:St,undefined:H,function:e=>{throw new ne("unsupported type key `function`.")},1:lt,2:St,3:ct,4:et,6:H,8:fa,9:si,10:_v,11:ma,16:xv,18:wv,19:lt};function Cv(e,t,n){let r=$C[t];return r?r(e):!1}function Iv(e,t,n){return Array.isArray(t)?t.findIndex(r=>Cv(e,r,n))>=0:Cv(e,t,n)}function Ic(e,t,n){return Rr(e).some(r=>Tn(r)===Tn(t)&&n(r,t))}var xN=Pe(Sc);var Xi=(e,t)=>(n,r,i)=>{j(et(r),`${e}: expression must be an array.`);let o=A(n,r,null,i);return o.some(H)?null:(j(o.every(lt),`${e}: expression must evalue to array of numbers.`),t(o))};var v$=Xi("$bitAnd",e=>e.reduce((t,n)=>t&n,-1));var S$=Xi("$bitOr",e=>e.reduce((t,n)=>t|n,0));var D$=Xi("$bitXor",e=>e.reduce((t,n)=>t^n,0));var Gd={};us(Gd,{$and:()=>FC,$not:()=>LC,$or:()=>BC});var FC=(e,t,n)=>{let r=A(e,t,null,n);return Ee(r,n.useStrictMode)&&r.every(i=>Ee(i,n.useStrictMode))};var LC=(e,t,n)=>{let r=Rr(t);if(r.length==0)return!1;if(r.length==1)return!A(e,r[0],null,n);throw"Expression $not takes exactly 1 argument"};var BC=(e,t,n)=>{let r=A(e,t,null,n),i=n.useStrictMode;return Ee(r,i)&&r.some(o=>Ee(o,i))};var Xd={};us(Xd,{$cmp:()=>jC,$eq:()=>zC,$gt:()=>UC,$gte:()=>VC,$lt:()=>KC,$lte:()=>WC,$ne:()=>HC});var jC=(e,t,n)=>{let r=A(e,t,null,n);return r[0]>r[1]?1:r[0]<r[1]?-1:0};var zC=Pe(ba);var UC=Pe(Dc);var VC=Pe(Oc);var KC=Pe(Ec);var WC=Pe(Rc);var HC=Pe(Cc);var kv=(e,t)=>{let n={};return e.split("").forEach((r,i)=>n[r]=t*(i+1)),n},LF=Object.assign(Object.assign(Object.assign({},kv("ABCDEFGHIKLM",1)),kv("NOPQRSTUVWXY",-1)),{Z:0});var Mv={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Lt(e,t=Mv){let n=Object.assign({},Mv,t),r=new Set(Object.keys(n));return(i,o,a)=>{let l=A(i,o,null,a);if(r.has(`${l}`)){let f=n[`${l}`];if(f instanceof Error)throw new ne(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return f}return e(l)}}var U2=Lt(Math.acos,{Infinity:1/0,0:new Error});var W2=Lt(Math.acosh,{Infinity:1/0,0:new Error});var Y2=Lt(Math.asin);var X2=Lt(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var tz=Lt(Math.atan);var az=Lt(Math.atanh,{1:1/0,"-1":-1/0});var lz=Lt(Math.cos);var fz=Lt(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var GC=Math.PI/180,pz=Lt(e=>e*GC,{Infinity:1/0,"-Infinity":1/0});var XC=180/Math.PI,bz=Lt(e=>e*XC,{Infinity:1/0,"-Infinity":-1/0});var xz=Lt(Math.sin);var Sz=Lt(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var Dz=Lt(Math.tan);var Jd=(e,t,n)=>{if(je(t))return e;let r=Object.keys(t),i=!1;$v(t,n);let o=n.idKey;if(Er(r,o)){let l=t[o];(l===0||l===!1)&&(r=r.filter(mc.bind(null,[o])),i=r.length==0)}else r.push(o);let a=Vt.init(n);return e.map(l=>Zd(l,t,a.update(l),r,i))};function Zd(e,t,n,r,i){let o={},a=!1,l=!1,f=[];i&&f.push(n.idKey);for(let m of r){let p,y=t[m];if(m!==n.idKey&&Er([0,!1],y)&&(l=!0),m===n.idKey&&je(y))p=e[m];else if(St(y))p=A(e,y,m,n);else if(!Er([1,!0],y))if(y instanceof Array)p=y.map(S=>{let N=A(e,S,null,n);return H(N)?null:N});else if(ct(y)){let S=y,N=Object.keys(y),B=N.length==1?N[0]:"",rt=sr(wt.PROJECTION,B,n);if(rt)B==="$slice"?Rr(S[B]).every(lt)?(p=rt(e,S[B],m,n),a=!0):p=A(e,S,m,n):p=rt(e,S[B],m,n);else if(ze(B))p=A(e,S[B],B,n);else if(zt(e,m)){$v(S,n);let ot=e[m];ot instanceof Array?p=ot.map(at=>Zd(at,S,n,N,!1)):(ot=ct(ot)?ot:e,p=Zd(ot,S,n,N,!1))}else p=A(e,y,null,n)}else{f.push(m);continue}let x=Hi(e,m,{preserveMissing:!0});x!==void 0&&uc(o,x,{flatten:!0}),mc([0,1,!1,!0],y)&&(p===void 0?ga(o,m,{descendArray:!0}):vc(o,m,p))}if(dc(o),(a||l||i)&&(o=Ge({},e,o),f.length>0))for(let m of f)ga(o,m,{descendArray:!0});return o}function $v(e,t){let n=[!1,!1];for(let[r,i]of Object.entries(e)){if(r===t?.idKey)return;i===0||i===!1?n[0]=!0:(i===1||i===!0)&&(n[1]=!0),j(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var tf=(e,t,n)=>{j(et(t),"Invalid expression: $and expects value to be an Array.");let r=t.map(i=>new Zt(i,n));return i=>r.every(o=>o.test(i))};var ya=(e,t,n)=>{j(et(t),"Invalid expression. $or expects value to be an Array");let r=t.map(i=>new Zt(i,n));return i=>r.some(o=>o.test(i))};var ef=(e,t,n)=>{j(et(t),"Invalid expression. $nor expects value to be an array.");let r=ya("$or",t,n);return i=>!r(i)};var rf=(e,t,n)=>{let r={};r[e]=bc(t);let i=new Zt(r,n);return o=>!i.test(o)};var kc=Et(ba);var Ac=Et(Dc);var Tc=Et(Oc);var Pc=Et(Yd);var Mc=Et(Ec);var Nc=Et(Rc);var $c=Et(Cc);var Fc=Et(Sc);function tS(e,t,n){return r=>A(r,t,null,n)}function eS(e,t,n){if(!n?.jsonSchemaValidator)throw new ne("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let r=n?.jsonSchemaValidator(t);return i=>r(i)}var nf=Et(Sv);var of=Et(Ev);function rS(e,t,n){j(n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let r=t;return j(ci(r),"$where only accepts a Function object"),i=>Ee(r.call(i),n?.useStrictMode)}var nS=Et(Dv);var af=Et(Qd);var sf=Et(Ov);var cf=Et(Rv);var lf=Et(Iv);var Fv=!1;function Lv(e){return Fv||(Wd(wt.PIPELINE,{$sort:wc,$project:Jd}),Wd(wt.QUERY,{$and:tf,$eq:kc,$elemMatch:af,$exists:cf,$gt:Ac,$gte:Tc,$in:Pc,$lt:Mc,$lte:Nc,$ne:$c,$nin:Fc,$mod:nf,$nor:ef,$not:rf,$or:ya,$regex:of,$size:sf,$type:lf}),Fv=!0),new Zt(e)}function _a(e,t){var n=Se(e.primaryKey);t=Ct(t);var r=Ye(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([m,p])=>{(typeof p!="object"||p===null)&&(r.selector[m]={$eq:p})})):r.selector={},r.index){var i=ia(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var f=r.sort.find(m=>ig(m)===n);f||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(m=>({[m]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([m,p])=>{var y=!1;typeof p=="object"&&p!==null?y=!!Object.keys(p).find(x=>lc.has(x)):y=!0,y&&o.add(m)});var a=-1,l;e.indexes.forEach(m=>{var p=Sr(m)?m:[m],y=p.findIndex(x=>!o.has(x));y>0&&y>a&&(a=y,l=p)}),l&&(r.sort=l.map(m=>({[m]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function Lc(e,t){if(!t.sort)throw P("SNH",{query:t});var n=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:o,direction:a,getValueFn:ng(o)})});var r=(i,o)=>{for(var a=0;a<n.length;++a){var l=n[a],f=l.getValueFn(i),m=l.getValueFn(o);if(f!==m){var p=l.direction==="asc"?Ft(f,m):Ft(m,f);return p}}};return r}function Zi(e,t){if(!t.sort)throw P("SNH",{query:t});var n=Lv(t.selector),r=i=>n.test(i);return r}function iS(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var oS=new WeakMap;function aS(e){return Ce(oS,e,()=>{var t=e.collection,n=_a(t.storageInstance.schema,Ye(e.mangoQuery)),r=t.schema.primaryPath,i=Lc(t.schema.jsonSchema,n),o=(m,p)=>{var y={docA:m,docB:p,rxQuery:e};return i(y.docA,y.docB)},a=Zi(t.schema.jsonSchema,n),l=m=>{var p={doc:m,rxQuery:e};return a(p.doc)},f={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:iS(r,n),sortComparator:o,queryMatcher:l};return f})}function Bv(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=aS(e),r=kt(e._result).docsData.slice(0),i=kt(e._result).docsDataMap,o=!1,a=t.map(f=>Eg(f)).filter(Gp),l=a.find(f=>{var m={queryParams:n,changeEvent:f,previousResults:r,keyDocumentMap:i},p=sv(m);if(p==="runFullQueryAgain")return!0;if(p!=="doNothing")return o=!0,cv(p,n,f,r,i),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var sS=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var i=r.toString();return Ce(this._map,i,()=>r)},e}();function zv(){return new sS}function jv(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function cS(e){return e.refCount$.observers.length}var lS=100,uS=30*1e3,dS=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var i=re()-t,o=[],a=Array.from(r._map.values());for(var l of a)if(!(cS(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<i){jv(r,l);continue}o.push(l)}var f=o.length-e;if(!(f<=0)){var m=o.sort((y,x)=>y._lastEnsureEqual-x._lastEnsureEqual),p=m.slice(0,f);p.forEach(y=>jv(r,y))}}},df=dS(lS,uS),uf=new WeakSet;function Uv(e){uf.has(e)||(uf.add(e),ug().then(()=>hg(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),uf.delete(e)}))}var Vv=function(){function e(n,r,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,l=this.cacheItemByDocId.get(a);l&&(l.byRev.delete(o.revisionHeight),l.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(o=>{var a=o.documentId,l=this.cacheItemByDocId.get(a);if(l){var f=rc(o);l.last=f}})}var t=e.prototype;return t.getLatestDocumentData=function(r){var i=kn(this.cacheItemByDocId,r);return i.last},t.getLatestDocumentDataIfExists=function(r){var i=this.cacheItemByDocId.get(r);if(i)return i.last},be(e,[{key:"getCachedRxDocument",get:function(){var n=fS(this);return Qe(this,"getCachedRxDocument",n)}}])}();function fS(e){var t=e.primaryPath,n=e.cacheItemByDocId,r=e.registry,i=At.deepFreezeWhenDevMode,o=e.documentCreator,a=l=>{var f=l[t],m=md(l._rev),p=Ce(n,f,()=>hS(l)),y=p.byRev,x=y.get(m),S=x?x.deref():void 0;return S||(l=i(l),S=o(l),y.set(m,pS(S)),r&&(e.registerIdleTasks.push(S),e.registerIdlePromise||(e.registerIdlePromise=xd().then(()=>{e.registerIdlePromise=void 0;var N=e.registerIdleTasks;N.length!==0&&(e.registerIdleTasks=[],N.forEach(B=>{r.register(B,{docId:B.primary,revisionHeight:md(B.revision)})}))})))),S};return a}function Bc(e,t){for(var n=e.getCachedRxDocument,r=[],i=0;i<t.length;i++){var o=t[i],a=n(o);r.push(a)}return r}function hS(e){return{byRev:new Map,last:e}}var mS=typeof WeakRef=="function",pS=mS?gS:vS;function gS(e){return new WeakRef(e)}function vS(e){return{deref(){return e}}}var ff=function(){function e(t,n,r){this.time=re(),this.collection=t,this.count=r,this.documents=Bc(this.collection._docCache,n)}return be(e,[{key:"docsData",get:function(){return Qe(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(n=>{t.set(n.primary,n._data)}),Qe(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,n=this.documents,r=0;r<n.length;r++){var i=n[r];t.set(i.primary,i)}return Qe(this,"docsMap",t)}}])}();var bS=0,yS=function(){return++bS},hf=function(){function e(n,r,i,o={}){this.id=yS(),this._execOverDatabaseCount=0,this._creationTime=re(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new he(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=ir,this.op=n,this.mangoQuery=r,this.collection=i,this.other=o,r||(this.mangoQuery=xa()),this.isFindOneByIdQuery=CS(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new ff(this.collection,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var i=new ff(this.collection,r,r.length);this._result=i},t._execOverDatabase=function(){return U(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=re(),this.op==="count"){var r=this.getPreparedQuery(),i=yield this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw P("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=kt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,l=[];if(o.forEach(p=>{var y=this.collection._docCache.getLatestDocumentDataIfExists(p);if(y){if(!y._deleted){var x=this.collection._docCache.getCachedRxDocument(y);a.set(p,x)}}else l.push(p)}),l.length>0){var f=yield this.collection.storageInstance.findDocumentsById(l,!1);f.forEach(p=>{var y=this.collection._docCache.getCachedRxDocument(p);a.set(y.primary,y)})}return a}var m=wS(this);return m.then(p=>(this._lastExecEnd=re(),p))})},t.exec=function(r){if(r&&this.op!=="findOne")throw P("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Kv(this).then(()=>fs(this.$)).then(i=>{if(!i&&r)throw P("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var r=Vi({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r);return this.toString=()=>i,i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:_a(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),se("prePrepareQuery",r);var i=wa(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(i=>i.remove())):r.remove())},t.update=function(r){throw It("update")},t.where=function(r){throw It("query-builder")},t.sort=function(r){throw It("query-builder")},t.skip=function(r){throw It("query-builder")},t.limit=function(r){throw It("query-builder")},be(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(xt(r=>!r.isLocal),er(null),qt(()=>Kv(this)),ft(()=>this._result),Oo(Gs),Ei((r,i)=>!!(r&&r.time===kt(i).time)),xt(r=>!!r),ft(r=>{var i=kt(r);return this.op==="count"?i.count:this.op==="findOne"?i.documents.length===0?null:i.documents[0]:this.op==="findByIds"?i.docsMap:i.documents.slice(0)}));this._$=wi(n,this.refCount$.pipe(xt(()=>!1)))}return this._$}},{key:"$$",get:function(){var n=this.collection.database.getReactivityFactory();return n.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=_a(this.collection.schema.jsonSchema,this.mangoQuery);return Qe(this,"queryMatcher",Zi(n,r))}},{key:"asRxQuery",get:function(){return this}}])}();function xa(){return{selector:{}}}function _S(e){return e.collection._queryCache.getByQuery(e)}function Ji(e,t,n,r){se("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i=new hf(e,t,n,r);return i=_S(i),Uv(n),i}function Wv(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function Kv(e){return e.collection.database.destroyed||Wv(e)?ir:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>xS(e)),e._ensureEqualQueue)}function xS(e){if(e._lastEnsureEqual=re(),e.collection.database.destroyed||Wv(e))return ir;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=kt(e._result).count,a=o;i.forEach(f=>{var m=f.previousDocumentData&&e.doesDocumentDataMatch(f.previousDocumentData),p=e.doesDocumentDataMatch(f.documentData);!m&&p&&a++,m&&!p&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var l=Bv(e,i);l.runFullQueryAgain?n=!0:l.changed&&(t=!0,e._setResultData(l.newResults))}}}return n?e._execOverDatabase().then(f=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof f=="number"?((!e._result||f!==e._result.count)&&(t=!0,e._setResultData(f)),t):((!e._result||!ag(e.collection.schema.primaryPath,f,e._result.docsData))&&(t=!0,e._setResultData(f)),t))):Promise.resolve(t)}function wa(e,t){if(!t.sort)throw P("SNH",{query:t});var n=lv(e,t);return{query:t,queryPlan:n}}function wS(e){return U(this,null,function*(){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(p=>{var y=e.collection._docCache.getLatestDocumentDataIfExists(p);return y?(y._deleted||t.push(y),!1):!0}),r.length>0){var i=yield n.storageInstance.findDocumentsById(r,!1);jr(t,i)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var l=yield n.storageInstance.findDocumentsById([o],!1);l[0]&&(a=l[0])}a&&!a._deleted&&t.push(a)}else{var f=e.getPreparedQuery(),m=yield n.storageInstance.query(f);t=m.documents}return t})}function CS(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var Hv="_rxdb_internal";function qv(e,t){return U(this,null,function*(){var n=yield e.findDocumentsById([t],!1),r=n[0];if(r)return r})}function Yv(e,t,n){var r=t.documentData,i=t.previousDocumentData,o={documentId:t.documentId,collectionName:n?n.name:void 0,isLocal:e,operation:t.operation,documentData:At.deepFreezeWhenDevMode(r),previousDocumentData:At.deepFreezeWhenDevMode(i)};return o}function to(e,t,n,r){if(r)throw r.status===409?P("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?P("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function Qv(e,t,n,r,i,o,a){for(var l=!!e.schema.attachments,f=[],m=[],p=[],y=ri(10),x={id:y,events:[],checkpoint:null,context:i,startTime:re(),endTime:0},S=x.events,N=[],B=[],rt=[],ot=n.size>0,at,gt=r.length,Kt=function(){var Mt=r[bt],vt=Mt.document,_t=Mt.previous,ue=vt[t],cr=vt._deleted,co=_t&&_t._deleted,Xr=void 0;ot&&(Xr=n.get(ue));var kr;if(Xr){var hl=Xr._rev;if(!_t||_t&&hl!==_t._rev){var Ln={isError:!0,status:409,documentId:ue,writeRow:Mt,documentInDb:Xr};return p.push(Ln),1}var Ne=l?mf(Mt):Mt;l&&(cr?_t&&Object.keys(_t._attachments).forEach(_e=>{B.push({documentId:ue,attachmentId:_e,digest:kt(_t)._attachments[_e].digest})}):(Object.entries(vt._attachments).find(([_e,Jt])=>{var Xe=_t?_t._attachments[_e]:void 0;return!Xe&&!Jt.data&&(kr={documentId:ue,documentInDb:Xr,isError:!0,status:510,writeRow:Mt,attachmentId:_e}),!0}),kr||Object.entries(vt._attachments).forEach(([_e,Jt])=>{var Xe=_t?_t._attachments[_e]:void 0;if(!Xe)N.push({documentId:ue,attachmentId:_e,attachmentData:Jt,digest:Jt.digest});else{var Ze=Ne.document._attachments[_e].digest;Jt.data&&Xe.digest!==Ze&&rt.push({documentId:ue,attachmentId:_e,attachmentData:Jt,digest:Jt.digest})}}))),kr?p.push(kr):(l?(m.push(mf(Ne)),a&&a(vt)):(m.push(Ne),a&&a(vt)),at=Ne);var Zr=null,lo=null,Jr=null;if(co&&!cr)Jr="INSERT",Zr=l?Pn(vt):vt;else if(_t&&!co&&!cr)Jr="UPDATE",Zr=l?Pn(vt):vt,lo=_t;else if(cr)Jr="DELETE",Zr=kt(vt),lo=_t;else throw P("SNH",{args:{writeRow:Mt}});var uo={documentId:ue,documentData:Zr,previousDocumentData:lo,operation:Jr};S.push(uo)}else{var Na=!!cr;if(l&&Object.entries(vt._attachments).forEach(([_e,Jt])=>{Jt.data?N.push({documentId:ue,attachmentId:_e,attachmentData:Jt,digest:Jt.digest}):(kr={documentId:ue,isError:!0,status:510,writeRow:Mt,attachmentId:_e},p.push(kr))}),kr||(l?(f.push(mf(Mt)),o&&o(vt)):(f.push(Mt),o&&o(vt)),at=Mt),!Na){var $a={documentId:ue,operation:"INSERT",documentData:l?Pn(vt):vt,previousDocumentData:l&&_t?Pn(_t):_t};S.push($a)}}},bt=0;bt<gt;bt++)Kt();return{bulkInsertDocs:f,bulkUpdateDocs:m,newestRow:at,errors:p,eventBulk:x,attachmentsAdd:N,attachmentsRemove:B,attachmentsUpdate:rt}}function mf(e){return{previous:e.previous,document:Pn(e.document)}}function SS(e){return atob(e).length}function ES(e){var t=e.data;if(!t)return e;var n={length:SS(t),digest:e.digest,type:e.type};return n}function Pn(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=Ct(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=ES(r)}),t}function jc(e){var t=Ct(e);return t._meta=Ct(e._meta),t}function zc(e,t,n){At.deepFreezeWhenDevMode(n);var r=Se(n.primaryKey);function i(a){var l=Ct(a.document);if(l._meta=Ct(l._meta),At.isDevMode()){l=tc(r,n,l);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw P("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(f=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,f))throw P("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return l._meta.lwt=re(),l._rev=Ui(e.token,a.previous),{document:l,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,l){var f=a.map(m=>i(m));return e.lockedRun(()=>t.bulkWrite(f,l)).then(m=>{var p={error:[],success:m.success.slice(0)},y=m.error.filter(S=>S.status===409&&!S.writeRow.previous&&!S.writeRow.document._deleted&&kt(S.documentInDb)._deleted?!0:(p.error.push(S),!1));if(y.length>0){var x=y.map(S=>({previous:S.documentInDb,document:Object.assign({},S.writeRow.document,{_rev:Ui(e.token,S.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(x,l)).then(S=>(jr(p.error,S.error),jr(p.success,S.success),p))}return m})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,l){return e.lockedRun(()=>t.findDocumentsById(a,l))},getAttachmentData(a,l,f){return e.lockedRun(()=>t.getAttachmentData(a,l,f))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,l)=>e.lockedRun(()=>t.getChangedDocumentsSince(kt(a),l)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var l=Object.assign({},a.output.documentData,{_meta:Rn(),_rev:zr(),_attachments:{}}),f=Ct(l);return delete f._meta,delete f._rev,delete f._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:f}})}};return e.storageInstances.add(o),o}function Gv(e){if(e.schema.keyCompression)throw P("UT5",{args:{params:e}});if(RS(e.schema))throw P("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw P("UT7",{args:{params:e}})}function RS(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var Xv=function(){function e(n,r,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,i){var o=r[this.primaryPath],a=Ce(this.queueByDocId,o,()=>[]),l=new Promise((f,m)=>{var p={lastKnownDocumentState:r,modifier:i,resolve:f,reject:m};kt(a).push(p),this.triggerRun()});return l},t.triggerRun=function(){return U(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(i.entries()).map(f=>U(this,[f],function*([a,l]){var m=DS(l.map(x=>x.lastKnownDocumentState)),p=m;for(var y of l)try{p=yield y.modifier(Ye(p))}catch(x){y.reject(x),y.reject=()=>{},y.resolve=()=>{}}try{yield this.preWrite(p,m)}catch(x){l.forEach(S=>S.reject(x));return}r.push({previous:m,document:p})})));var o=r.length>0?yield this.storageInstance.bulkWrite(r,"incremental-write"):{error:[],success:[]};return yield Promise.all(o.success.map(a=>{var l=a[this.primaryPath];this.postWrite(a);var f=kn(i,l);f.forEach(m=>m.resolve(a))})),o.error.forEach(a=>{var l=a.documentId,f=kn(i,l),m=Js(a);if(m){var p=Ce(this.queueByDocId,l,()=>[]);f.reverse().forEach(x=>{x.lastKnownDocumentState=kt(m.documentInDb),kt(p).unshift(x)})}else{var y=_g(a);f.forEach(x=>x.reject(y))}}),this.isRunning=!1,this.triggerRun()}})},e}();function pf(e){var t=n=>U(this,null,function*(){var r=og(n);r._deleted=n._deleted;var i=yield e(r),o=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return t}function DS(e){var t=e[0],n=Hs(t._rev).height;return e.forEach(r=>{var i=Hs(r._rev).height;i>n&&(t=r,n=i)}),t}var Mn={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(ft(t=>t._data._deleted))},get deleted$$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(xt(t=>!t.isLocal),xt(t=>t.documentId===this.primary),ft(t=>rc(t)),er(e.collection._docCache.getLatestDocumentData(this.primary)),Ei((t,n)=>t._rev===n._rev),ft(t=>this.collection._docCache.getCachedRxDocument(t)),Oo(Gs))},get $$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$(e){if(At.isDevMode()){if(e.includes(".item."))throw P("DOC1",{path:e});if(e===this.primaryPath)throw P("DOC2");if(this.collection.schema.finalFields.includes(e))throw P("DOC3",{path:e});var t=Te(this.collection.schema.jsonSchema,e);if(!t)throw P("DOC4",{path:e})}return this.$.pipe(ft(n=>Ae(n,e)),Ei())},get$$(e){var t=this.get$(e),n=this.collection.database.getReactivityFactory();return n.fromObservable(t,this.getLatest().get(e),this.collection.database)},populate(e){var t=Te(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return fg;if(!t)throw P("DOC5",{path:e});if(!t.ref)throw P("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw P("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(i=>{var o=i.values();return Array.from(o)}):r.findOne(n).exec()},get(e){return Ce(this._propertyCache,e,()=>{var t=Ae(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return At.deepFreezeWhenDevMode(t);var n=this,r=new Proxy(Ct(t),{get(i,o){if(typeof o!="string")return i[o];var a=o.charAt(o.length-1);if(o.endsWith("$$")){var l=o.slice(0,-2);return n.get$$(or(e+"."+l))}else if(a==="$"){var f=o.slice(0,-1);return n.get$(or(e+"."+f))}else if(a==="_"){var m=o.slice(0,-1);return n.populate(or(e+"."+m))}else return n.get(or(e+"."+o))}});return r})},toJSON(e=!1){if(e)return At.deepFreezeWhenDevMode(this._data);var t=Ct(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,At.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return Ye(this.toJSON(e))},update(e){throw It("update")},incrementalUpdate(e){throw It("update")},updateCRDT(e){throw It("crdt")},putAttachment(){throw It("attachments")},getAttachment(){throw It("attachments")},allAttachments(){throw It("attachments")},get allAttachments$(){throw It("attachments")},modify(e,t){return U(this,null,function*(){var n=this._data,r=yield pf(e)(n);return this._saveData(r,n)})},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,pf(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=Ye(t);return Object.entries(e).forEach(([r,i])=>{n[r]=i}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},_saveData(e,t){return U(this,null,function*(){if(e=Ct(e),this._data._deleted)throw P("DOC11",{id:this.primary,document:this});yield gf(this.collection,e,t);var n=yield this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[0];return to(this.collection,this.primary,e,r),yield this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(n.success[0])})},remove(){var e=this.collection;if(this.deleted)return Promise.reject(P("DOC13",{document:this,id:this.primary}));var t=Ct(this._data),n;return e._runHooks("pre","remove",t,this).then(()=>U(this,null,function*(){t._deleted=!0;var r=yield e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=r.error[0];return to(e,this.primary,t,i),r.success[0]})).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(e=>U(this,null,function*(){return yield this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e})).then(e=>U(this,null,function*(){return yield this.collection._runHooks("post","remove",e._data,e),e}))},destroy(){throw P("DOC14")}};function Uc(e=Mn){var t=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Zv(e,t,n){var r=new e(t,n);return se("createRxDocument",r),r}function gf(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),At.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var eo="collection",vf="storage-token",OS="rx-migration-status",IS="RxInternalDocument",Vc=ec({version:0,title:IS,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[eo,vf,OS,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Kc(e,t){return sa(Vc,{key:e,context:t})}function Wc(e){return U(this,null,function*(){var t=wa(e.schema,{selector:{context:eo,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),n=yield e.query(t),r=n.documents;return r})}var Jv="storageToken",kS=Kc(Jv,vf);function tb(e){return U(this,null,function*(){var t=ri(10),n=e.password?yield e.hashFunction(JSON.stringify(e.password)):void 0,r={id:kS,context:vf,key:Jv,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:Rn(),_rev:zr(),_attachments:{}},i=yield e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(i.success[0])return i.success[0];var o=kt(i.error[0]);if(o.isError&&Js(o)){var a=o;if(!AS(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw P("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(n&&n!==a.documentInDb.data.passwordHash)throw P("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var l=a.documentInDb;return kt(l)}throw o})}function AS(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var n=e.split(".")[0],r=t.split(".")[0];return n===r}function bf(e,t){return e+"-"+t.version}function Hc(e,t){return t=Ct(t),t=wg(e,t),t=tc(e.primaryPath,e.jsonSchema,t),t._meta=Rn(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=zr()),t}function eb(e,t){return U(this,null,function*(){t.multiInstance=e.multiInstance;var n=yield e.storage.createStorageInstance(t);return n})}function qc(e,t,n,r,i,o,a){return U(this,null,function*(){var l=yield Wc(t),f=l.filter(x=>x.data.name===i),m=[];f.forEach(x=>{m.push({collectionName:x.data.name,schema:x.data.schema,isCollection:!0}),x.data.connectedStorages.forEach(S=>m.push({collectionName:S.collectionName,isCollection:!1,schema:S.schema}))});var p=new Set;if(m=m.filter(x=>{var S=x.collectionName+"||"+x.schema.version;return p.has(S)?!1:(p.add(S),!0)}),yield Promise.all(m.map(x=>U(this,null,function*(){var S=yield e.createStorageInstance({collectionName:x.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:x.schema,password:o,devMode:At.isDevMode()});yield S.remove(),x.isCollection&&(yield An("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:i}))}))),a){var y=f.map(x=>{var S=jc(x);return S._deleted=!0,S._meta.lwt=re(),S._rev=Ui(n,x),{previous:x,document:S}});yield t.bulkWrite(y,"rx-database-remove-collection-all")}})}var TS=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(xt(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var i=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(r,i){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(r){return r.slice(0);var i},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function rb(e){return new TS(e)}var PS=new WeakMap;function MS(e){var t=e.schema.getDocumentPrototype(),n=$S(e),r=Mn,i={};return[t,n,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(l=>{var f=Object.getOwnPropertyDescriptor(o,l),m=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(m=!1),typeof f.value=="function"?Object.defineProperty(i,l,{get(){return f.value.bind(this)},enumerable:m,configurable:!1}):(f.enumerable=m,f.configurable=!1,f.writable&&(f.writable=!1),Object.defineProperty(i,l,f))})}),i}function NS(e){return Ce(PS,e,()=>Uc(MS(e)))}function nb(e,t){var n=Zv(NS(e),e,At.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),se("postCreateRxDocument",n),n}function $S(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}var yf=function(e,t){var n=Pn(e.newDocumentState),r=Pn(e.realMasterState);return In(n,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};function Yc(e){var t=e.collection.schema.jsonSchema;if(!t.attachments)throw P("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function ib(e){Object.entries(e.doc.collection.attachments).forEach(([t,n])=>{Object.defineProperty(e,t,{get:()=>n.bind(e)})})}var FS=function(){function e({doc:n,id:r,type:i,length:o,digest:a}){this.doc=n,this.id=r,this.type=i,this.length=o,this.digest=a,ib(this)}var t=e.prototype;return t.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,r=>(delete r._attachments[this.id],r)).then(()=>{})},t.getData=function(){return U(this,null,function*(){var r=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),i=yield Jp(r,this.type);return i})},t.getStringData=function(){return U(this,null,function*(){var r=yield this.getData(),i=yield tg(r);return i})},e}();function Qc(e,t,n){return new FS({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function LS(e){return U(this,null,function*(){Yc(this);var t=rg(e.data),n=yield eg(e.data),r=yield this.collection.database.hashFunction(n),i=e.id,o=e.type,a=n;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=Ct(l),l._attachments=Ct(l._attachments),l._attachments[i]={length:t,type:o,data:a,digest:r},l)).then(l=>{var f=this.collection._docCache.getCachedRxDocument(l),m=l._attachments[i],p=Qc(i,m,f);return p})})}function BS(e){Yc(this);var t=this._data;if(!t._attachments||!t._attachments[e])return null;var n=t._attachments[e],r=Qc(e,n,this);return r}function jS(){Yc(this);var e=this._data;return e._attachments?Object.keys(e._attachments).map(t=>Qc(t,e._attachments[t],this)):[]}function zS(e){return U(this,null,function*(){var t=e.docData._attachments;if(t){var n={};yield Promise.all(Object.keys(t).map(r=>U(this,null,function*(){var i=t[r],o=e.docData[e.oldCollection.schema.primaryPath],a=yield e.oldCollection.storageInstance.getAttachmentData(o,r,i.digest),l=yield e.oldCollection.database.hashFunction(a);n[r]={length:i.length,type:i.type,data:a,digest:l}}))),e.docData._attachments=n}})}function US(e){return On}var ob={name:"attachments",rxdb:!0,prototypes:{RxDocument:e=>{e.putAttachment=LS,e.getAttachment=BS,e.allAttachments=jS,Object.defineProperty(e,"allAttachments$",{get:function(){return this.$.pipe(ft(n=>Object.entries(n.toJSON(!0)._attachments)),ft(n=>n.map(([r,i])=>Qc(r,i,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:zS},postMigrateDocument:{after:US}}};var sb=["pre","post"],cb=["insert","save","remove","create"],ab=!1,Ca=function(){function e(n,r,i,o,a={},l={},f={},m={},p={},y=df,x={},S=yf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=zv(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=l,this.methods=f,this.attachments=m,this.options=p,this.cacheReplacementPolicy=y,this.statics=x,this.conflictHandler=S,VS(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){return U(this,null,function*(){this.storageInstance=zc(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Xv(this.storageInstance,this.schema.primaryPath,(a,l)=>gf(this,a,l),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(xt(a=>a.collectionName===this.name));this.$=r.pipe(qt(a=>a.events)),this.checkpoint$=r.pipe(ft(a=>a.checkpoint)),this._changeEventBuffer=rb(this.asRxCollection),this._docCache=new Vv(this.schema.primaryPath,this.$.pipe(xt(a=>!a.isLocal)),a=>nb(this.asRxCollection,a));var i=yield this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var l={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(f=>Yv(!1,f,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(l)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(l=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:l})})})),On})},t.cleanup=function(r){throw It("cleanup")},t.migrationNeeded=function(){throw It("migration-schema")},t.getMigrationState=function(){throw It("migration-schema")},t.startMigration=function(r=10){return this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=function(r){return U(this,null,function*(){var i=yield this.bulkInsert([r]),o=i.error[0];to(this,r[this.schema.primaryPath],r,o);var a=kt(i.success[0]);return a})},t.bulkInsert=function(r){return U(this,null,function*(){if(r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=r.map(y=>{var x=Hc(this.schema,y);return x}),a=this.hasHooks("pre","insert")?yield Promise.all(o.map(y=>this._runHooks("pre","insert",y).then(()=>y))):o,l=a.map(y=>{var x={document:y};return x}),f=yield this.storageInstance.bulkWrite(l,"rx-collection-bulk-insert"),m=Bc(this._docCache,f.success);if(this.hasHooks("post","insert")){var p=new Map;a.forEach(y=>{p.set(y[i],y)}),yield Promise.all(m.map(y=>this._runHooks("post","insert",p.get(y.primary),y)))}return{success:m,error:f.error}})},t.bulkRemove=function(r){return U(this,null,function*(){var i=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var o=yield this.findByIds(r).exec(),a=[],l=new Map;Array.from(o.values()).forEach(x=>{var S=x.toMutableJSON(!0);a.push(S),l.set(x.primary,S)}),yield Promise.all(a.map(x=>{var S=x[this.schema.primaryPath];return this._runHooks("pre","remove",x,o.get(S))}));var f=a.map(x=>{var S=Ct(x);return S._deleted=!0,{previous:x,document:S}}),m=yield this.storageInstance.bulkWrite(f,"rx-collection-bulk-remove"),p=m.success.map(x=>x[i]);yield Promise.all(p.map(x=>this._runHooks("post","remove",l.get(x),o.get(x))));var y=p.map(x=>kn(o,x));return{success:y,error:m.error}})},t.bulkUpsert=function(r){return U(this,null,function*(){var i=[],o=new Map;r.forEach(m=>{var p=Hc(this.schema,m),y=p[this.schema.primaryPath];if(!y)throw P("COL3",{primaryPath:this.schema.primaryPath,data:p,schema:this.schema.jsonSchema});o.set(y,p),i.push(p)});var a=yield this.bulkInsert(i),l=a.success.slice(0),f=[];return yield Promise.all(a.error.map(m=>U(this,null,function*(){if(m.status!==409)f.push(m);else{var p=m.documentId,y=kn(o,p),x=kt(m.documentInDb),S=this._docCache.getCachedRxDocument(x),N=yield S.incrementalModify(()=>y);l.push(N)}}))),{error:f,success:l}})},t.upsert=function(r){return U(this,null,function*(){var i=yield this.bulkUpsert([r]);return to(this.asRxCollection,r[this.schema.primaryPath],r,i.error[0]),i.success[0]})},t.incrementalUpsert=function(r){var i=Hc(this.schema,r),o=i[this.schema.primaryPath];if(!o)throw P("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=On),a=a.then(()=>WS(this,o,i)).then(l=>l.inserted?l.doc:KS(l.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw P("COL5",{queryObj:r});r||(r=xa());var i=Ji("find",r,this);return i},t.findOne=function(r){if(typeof r=="number"||Array.isArray(r))throw ae("COL6",{queryObj:r});var i;if(typeof r=="string")i=Ji("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=xa()),r.limit)throw P("QU6");r=Ct(r),r.limit=1,i=Ji("findOne",r,this)}return i},t.count=function(r){r||(r=xa());var i=Ji("count",r,this);return i},t.findByIds=function(r){var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=Ji("findByIds",i,this);return o},t.exportJSON=function(){throw It("json-dump")},t.importJSON=function(r){throw It("json-dump")},t.insertCRDT=function(r){throw It("crdt")},t.addHook=function(r,i,o,a=!1){if(typeof o!="function")throw ae("COL7",{key:i,when:r});if(!sb.includes(r))throw ae("COL8",{key:i,when:r});if(!cb.includes(i))throw P("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw P("COL10",{when:r,key:i,parallel:a});var l=o.bind(this),f=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][f].push(l)},t.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},t.hasHooks=function(r,i){var o=this.getHooks(r,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,i,o,a){var l=this.getHooks(r,i);if(!l)return On;var f=l.series.map(m=>()=>m(o,a));return mg(f).then(()=>Promise.all(l.parallel.map(m=>m(o,a))))},t._runHooksSync=function(r,i,o,a){var l=this.getHooks(r,i);l&&l.series.forEach(f=>f(o,a))},t.promiseWait=function(r){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?ir:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],An("postDestroyRxCollection",this).then(()=>!0))))},t.remove=function(){return U(this,null,function*(){yield this.destroy(),yield qc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},be(e,[{key:"insert$",get:function(){return this.$.pipe(xt(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(xt(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(xt(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function VS(e){if(!ab){ab=!0;var t=Object.getPrototypeOf(e);cb.forEach(n=>{sb.map(r=>{var i=r+Qs(n);t[i]=function(o,a){return this.addHook(r,n,o,a)}})})}}function KS(e,t){return e.incrementalModify(n=>t)}function WS(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(n).then(o=>({doc:o,inserted:!0})))}function lb({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:l={},attachments:f={},options:m={},localDocuments:p=!1,cacheReplacementPolicy:y=df,conflictHandler:x=yf}){var S={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:At.isDevMode()};return se("preCreateRxStorageInstance",S),eb(e,S).then(N=>{var B=new Ca(e,t,n,N,r,i,l,f,m,y,a,x);return B.prepare().then(()=>{Object.entries(a).forEach(([ot,at])=>{Object.defineProperty(B,ot,{get:()=>at.bind(B)})});var rt=On;return o&&B.schema.version!==0&&(rt=B.migratePromise()),rt}).then(()=>(se("createRxCollection",{collection:B,creator:{name:t,schema:n,storageInstance:N,instanceCreationOptions:r,migrationStrategies:i,methods:l,attachments:f,options:m,cacheReplacementPolicy:y,localDocuments:p,statics:a}}),B)).catch(rt=>N.close().then(()=>Promise.reject(rt)))})}var wf=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};wf.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,xf(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(l){return r=l}),o=function(){_f(n,i),r()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),xf(this),i},cancelIdlePromise:function(t){_f(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return _f(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function HS(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return xf(e)},0)}}function _f(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function xf(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}HS(e),e._tryIR=!1},0)},0))}var Nn=class{ttl;map=new Map;_to=!1;constructor(t){this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,ub()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,qS(this)},0))}clear(){this.map.clear()}};function qS(e){let t=ub()-e.ttl,n=e.map[Symbol.iterator]();for(;;){let r=n.next().value;if(!r)return;let i=r[0];if(r[1]<t)e.map.delete(i);else return}}function ub(){return Date.now()}var Gc=new Set,db=0,Sa=function(){function e(n,r,i,o,a,l,f=!1,m={},p,y,x,S,N){this.idleQueue=new wf,this.rxdbVersion=oa,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new it,this.observable$=this.eventBulks$.pipe(qt(B=>B.events)),this.storageToken=ir,this.storageTokenDocument=ir,this.emittedEventBulkIds=new Nn(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=l,this.eventReduce=f,this.options=m,this.internalStore=p,this.hashFunction=y,this.cleanupPolicy=x,this.allowSlowCount=S,this.reactivity=N,db++,this.name!=="pseudoInstance"&&(this.internalStore=zc(this.asRxDatabase,p,Vc),this.storageTokenDocument=tb(this.asRxDatabase).catch(B=>this.startupErrors.push(B)),this.storageToken=this.storageTokenDocument.then(B=>B.data.token).catch(B=>this.startupErrors.push(B)))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw P("DB14",{database:this.name});return this.reactivity},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=function(r,i){return U(this,null,function*(){var o=yield qv(this.internalStore,Kc(bf(r,i),eo));if(!o)throw P("SNH",{name:r,schema:i});var a=jc(o);a._deleted=!0,yield this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")})},t.addCollections=function(r){return U(this,null,function*(){var i={},o={},a=[],l={};yield Promise.all(Object.entries(r).map(x=>U(this,[x],function*([p,y]){var S=p,N=y.schema;i[S]=N;var B=Sg(N,this.hashFunction);if(o[S]=B,this.collections[p])throw P("DB3",{name:p});var rt=bf(p,N),ot={id:Kc(rt,eo),key:rt,context:eo,data:{name:S,schemaHash:yield B.hash,schema:B.jsonSchema,version:B.version,connectedStorages:[]},_deleted:!1,_meta:Rn(),_rev:zr(),_attachments:{}};a.push({document:ot});var at=Object.assign({},y,{name:S,schema:B,database:this}),gt=Ct(y);gt.database=this,gt.name=p,se("preCreateRxCollection",gt),at.conflictHandler=gt.conflictHandler,l[S]=at})));var f=yield this.internalStore.bulkWrite(a,"rx-database-add-collection");yield GS(this),yield Promise.all(f.error.map(p=>U(this,null,function*(){if(p.status!==409)throw P("DB12",{database:this.name,writeError:p});var y=kt(p.documentInDb),x=y.data.name,S=o[x];if(y.data.schemaHash!==(yield S.hash))throw P("DB6",{database:this.name,collection:x,previousSchemaHash:y.data.schemaHash,schemaHash:yield S.hash,previousSchema:y.data.schema,schema:kt(i[x])})})));var m={};return yield Promise.all(Object.keys(r).map(p=>U(this,null,function*(){var y=l[p],x=yield lb(y);m[p]=x,this.collections[p]=x,this[p]||Object.defineProperty(this,p,{get:()=>this.collections[p]})}))),m})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw It("json-dump")},t.addState=function(r){throw It("state")},t.importJSON=function(r){throw It("json-dump")},t.backup=function(r){throw It("backup")},t.leaderElector=function(){throw It("leader-election")},t.isLeader=function(){throw It("leader-election")},t.waitForLeadership=function(){throw It("leader-election")},t.migrationStates=function(){throw It("migration-schema")},t.destroy=function(){return U(this,null,function*(){return this.destroyed?ir:(this.destroyed=!0,yield An("preDestroyRxDatabase",this),this.eventBulks$.complete(),db--,this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance"?ir:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>Gc.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},t.remove=function(){return this.destroy().then(()=>QS(this.name,this.storage,this.password))},be(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function YS(e,t){var n=t.name+"|"+e;if(Gc.has(n))throw P("DB8",{name:e,storage:t.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function fb(e,t,n,r,i,o){return U(this,null,function*(){var a=yield t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:Hv,schema:Vc,options:r,multiInstance:i,password:o,devMode:At.isDevMode()});return a})}function hb({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:l={},cleanupPolicy:f,allowSlowCount:m=!1,localDocuments:p=!1,hashFunction:y=lg,reactivity:x}){se("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:l,localDocuments:p}),a||YS(n,e),Gc.add(e.name+"|"+n);var S=ri(10);return fb(S,e,n,t,i,r).catch(N=>{throw Gc.delete(e.name+"|"+n),N}).then(N=>{var B=new Sa(n,S,e,t,r,i,o,l,N,y,f,m,x);return An("createRxDatabase",{database:B,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:l,localDocuments:p}}).then(()=>B)})}function QS(e,t,n){return U(this,null,function*(){var r=ri(10),i=yield fb(r,t,e,{},!1,n),o=yield Wc(i),a=new Set;o.forEach(f=>a.add(f.data.name));var l=Array.from(a);return yield Promise.all(l.map(f=>qc(t,i,r,e,f,n))),yield An("postRemoveRxDatabase",{databaseName:e,storage:t}),yield i.remove(),l})}function GS(e){return U(this,null,function*(){if(yield e.storageToken,e.startupErrors[0])throw e.startupErrors[0]})}var XS={RxSchema:kd.prototype,RxDocument:Mn,RxQuery:hf.prototype,RxCollection:Ca.prototype,RxDatabase:Sa.prototype},Cf=new Set,mb=new Set;function Xc(e){if(se("preAddRxPlugin",{plugin:e,plugins:Cf}),!Cf.has(e)){{if(mb.has(e.name))throw P("PL3",{name:e.name,plugin:e});Cf.add(e),mb.add(e.name)}if(!e.rxdb)throw ae("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(XS[t])),e.overwritable&&Object.assign(At,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&Wi[t].push(n.after),n.before&&Wi[t].unshift(n.before)})}}function pb(e){return e&&typeof e.then=="function"}var ZS=Promise.resolve(!1),AH=Promise.resolve(!0),Or=Promise.resolve();function Zc(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function gb(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Ea(){return Math.random().toString(36).substring(2)}var Sf=0;function Yr(){var e=Date.now()*1e3;return e<=Sf&&(e=Sf+1),Sf=e,e}var JS=Yr,tE="native";function eE(e){var t={time:Yr(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function rE(e){e.bc.close(),e.subFns=[]}function nE(e,t){try{return e.bc.postMessage(t,!1),Or}catch(n){return Promise.reject(n)}}function iE(e,t){e.messagesCallback=t}function oE(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function aE(){return 150}var vb={create:eE,close:rE,onMessage:iE,postMessage:nE,canBeUsed:oE,type:tE,averageResponseTime:aE,microSeconds:JS};function ro(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var sE=Yr,cE="pubkey.broadcast-channel-0-",Qr="messages",Jc={durability:"relaxed"},lE="idb";function bb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Ef(e){e.commit&&e.commit()}function uE(e){var t=bb(),n=cE+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Qr,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function dE(e,t,n){var r=Date.now(),i={uuid:t,time:r,data:n},o=e.transaction([Qr],"readwrite",Jc);return new Promise(function(a,l){o.oncomplete=function(){return a()},o.onerror=function(m){return l(m)};var f=o.objectStore(Qr);f.add(i),Ef(o)})}function fE(e,t){var n=e.transaction(Qr,"readonly",Jc),r=n.objectStore(Qr),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(f,m){a.onerror=function(p){return m(p)},a.onsuccess=function(p){f(p.target.result)}})}function l(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(f,m){var p=l();p.onerror=function(y){return m(y)},p.onsuccess=function(y){var x=y.target.result;x?x.value.id<t+1?x.continue(t+1):(i.push(x.value),x.continue()):(Ef(n),f(i))}})}function hE(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(Qr,"readwrite",Jc),r=n.objectStore(Qr);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function mE(e,t){var n=Date.now()-t,r=e.transaction(Qr,"readonly",Jc),i=r.objectStore(Qr),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(l){var f=l.target.result;if(f){var m=f.value;m.time<n?(o.push(m),f.continue()):(Ef(r),a(o))}else a(o)}})}function pE(e){return mE(e.db,e.options.idb.ttl).then(function(t){return hE(e,t.map(function(n){return n.id}))})}function gE(e,t){return t=ro(t),uE(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Ea(),eMIs:new Nn(t.idb.ttl*2),writeBlockPromise:Or,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},yb(r),r})}function yb(e){e.closed||_b(e).then(function(){return Zc(e.options.idb.fallbackInterval)}).then(function(){return yb(e)})}function vE(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function _b(e){return e.closed?Or:e.messagesCallback?fE(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return vE(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Or}):Or}function bE(e){e.closed=!0,e.db.close()}function yE(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return dE(e.db,e.uuid,t)}).then(function(){gb(0,10)===0&&pE(e)}),e.writeBlockPromise}function _E(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,_b(e)}function xE(){return!!bb()}function wE(e){return e.idb.fallbackInterval*2}var xb={create:gE,close:bE,onMessage:_E,postMessage:yE,canBeUsed:xE,type:lE,averageResponseTime:wE,microSeconds:sE};var CE=Yr,SE="pubkey.broadcastChannel-",EE="localstorage";function wb(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Cb(e){return SE+e}function RE(e,t){return new Promise(function(n){Zc().then(function(){var r=Cb(e.channelName),i={token:Ea(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);wb().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function DE(e,t){var n=Cb(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function OE(e){window.removeEventListener("storage",e)}function IE(e,t){if(t=ro(t),!Sb())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Ea(),r=new Nn(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=DE(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function kE(e){OE(e.listener)}function AE(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Sb(){var e=wb();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function TE(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var Eb={create:IE,close:kE,onMessage:AE,postMessage:RE,canBeUsed:Sb,type:EE,averageResponseTime:TE,microSeconds:CE};var Rb=Yr,PE="simulate",Rf=new Set;function ME(e){var t={time:Rb(),name:e,messagesCallback:null};return Rf.add(t),t}function NE(e){Rf.delete(e)}var Db=5;function $E(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(Rf);r.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),n()},Db)})}function FE(e,t){e.messagesCallback=t}function LE(){return!0}function BE(){return Db}var Ob={create:ME,close:NE,onMessage:FE,postMessage:$E,canBeUsed:LE,type:PE,averageResponseTime:BE,microSeconds:Rb};var Ib=[vb,xb,Eb];function kb(e){var t=[].concat(e.methods,Ib).filter(Boolean);if(e.type){if(e.type==="simulate")return Ob;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Ib.map(function(i){return i.type})))}var Df=new Set,jE=0,Ra=function(t,n){this.id=jE++,Df.add(this),this.name=t,Ab&&(n=Ab),this.options=ro(n),this.method=kb(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,zE(this)};Ra._pubkey=!0;var Ab;Ra.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Tb(this,"message",t)},postInternal:function(t){return Tb(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Mb(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Pb(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};Pb(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});Mb(this,t,r)},close:function(){var t=this;if(!this.closed){Df.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Or;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Tb(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:Or;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function zE(e){var t=e.method.create(e.name,e.options);pb(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function Nb(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Pb(e,t,n){e._addEL[t].push(n),UE(e)}function Mb(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),VE(e)}function UE(e){if(!e._iL&&Nb(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function VE(e){if(e._iL&&!Nb(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var tl=new Map;function KE(e,t,n,r){var i=tl.get(t);return i||(i={bc:new Ra(["RxDB:",e,n].join("|")),refs:new Set},tl.set(t,i)),i.refs.add(r),i.bc}function $b(e,t){var n=tl.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return tl.delete(e),n.bc.close()}function Fb(e,t,n,r){if(t.multiInstance){var i=r||KE(e,t.databaseInstanceToken,n.databaseName,n),o=new it,a=x=>{x.storageName===e&&x.databaseName===t.databaseName&&x.collectionName===t.collectionName&&x.version===t.schema.version&&o.next(x.eventBulk)};i.addEventListener("message",a);var l=n.changeStream(),f=!1,m=l.subscribe(x=>{f||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:x})});n.changeStream=function(){return o.asObservable().pipe(em(l))};var p=n.close.bind(n);n.close=function(){return U(this,null,function*(){return f=!0,m.unsubscribe(),i.removeEventListener("message",a),r||(yield $b(t.databaseInstanceToken,n)),p()})};var y=n.remove.bind(n);n.remove=function(){return U(this,null,function*(){return f=!0,m.unsubscribe(),i.removeEventListener("message",a),r||(yield $b(t.databaseInstanceToken,n)),y()})}}}var Of={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html#cant-change-the-schema",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See see https://rxdb.info/migration-storage.html",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var If;function Lb(){if(!If){var e=new Ca,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));If=[...t,...n]}return If}var kf;function Bb(){if(!kf){var e=new Sa("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));kf=[...t,...n],e.destroy()}return kf}var WE=Uc(Mn),HE=new WE,Af;function el(){if(!Af){var e=["deleted","synced"],t=Object.getOwnPropertyNames(HE),n=Object.getOwnPropertyNames(Mn);Af=[...t,...n,...e]}return Af}function qE(e){if(e!=="_deleted"){if(["properties"].includes(e))throw P("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if(e!=="_id"&&!e.match(n))throw P("SC1",{regex:t,fieldName:e})}}function YE(e){var t=Se(e.primaryKey);function n(i,o,a){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&a.split(".").pop()!=="patternProperties"&&qE(i),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw P("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw P("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw P("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw P("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw P("SC3",{fieldName:i});break;default:throw P("SC4",{fieldName:i})}var l=a.split(".").length>=2;if(l&&o.default)throw P("SC7",{path:a});if(!l){if(i==="_id"&&t!=="_id")throw P("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw P("SC8",{fieldName:i})}}}function r(i,o){!i||typeof i!="object"||Object.keys(i).forEach(a=>{var l=i[a];!i.properties&&l&&typeof l=="object"&&!Array.isArray(i)&&n(a,l,o);var f=o;a!=="properties"&&(f=f+"."+a),r(l,f)})}return r(e,""),!0}function QE(e){if(!e.primaryKey)throw P("SC30",{schema:e});function t(f){if(!f)throw P("SC33",{schema:e});var m=f.type;if(!m||!["string","number","integer"].includes(m))throw P("SC32",{schema:e,args:{schemaPart:f}})}if(typeof e.primaryKey=="string"){var n=e.primaryKey,r=e.properties[n];t(r)}else{var i=e.primaryKey,o=Te(e,i.key);t(o),i.fields.forEach(f=>{var m=Te(e,f);t(m)})}var a=Se(e.primaryKey),l=e.properties[a];if(l.maxLength){if(!isFinite(l.maxLength))throw P("SC41",{schema:e,args:{primaryPathSchemaPart:l}})}else throw P("SC39",{schema:e,args:{primaryPathSchemaPart:l}})}function jb(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)t[r]!=="[]"?n=n.concat(".properties.".concat(t[r])):n=n.concat(".items");return or(n)}function zb(e){if(!e.primaryKey)throw P("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw P("SC29",{schema:e});if(e.properties._rev)throw P("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||typeof e.version!="number"||e.version<0)throw P("SC11",{version:e.version});if(YE(e),QE(e),Object.keys(e.properties).forEach(t=>{var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw P("SC13",{value:n,schema:e});if(n.unique)throw P("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw P("SC15",{value:n,schema:e});if(n.type!=="string")throw P("SC16",{value:n,schema:e})}if(el().includes(t))throw P("SC17",{key:t,schema:e})}),e.indexes){if(!Sr(e.indexes))throw P("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw P("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var n=0;n<t.length;n+=1)if(typeof t[n]!="string")throw P("SC20",{index:t,schema:e})}var r=Sr(t)?t:[t];r.forEach(i=>{var o=Te(e,i),a=o.type;switch(a){case"string":var l=o.maxLength;if(!l)throw P("SC34",{index:t,field:i,schema:e});break;case"number":case"integer":var f=o.multipleOf;if(!f)throw P("SC35",{index:t,field:i,schema:e});var m=o.maximum,p=o.minimum;if(typeof m>"u"||typeof p>"u")throw P("SC37",{index:t,field:i,schema:e});if(!isFinite(m)||!isFinite(p))throw P("SC41",{index:t,field:i,schema:e});break;case"boolean":var y="",x=i;if(i.includes(".")){var S=i.split(".");x=S.pop(),y=S.join(".")}var N=y===""?e:Te(e,y);if(!N.required||!N.required.includes(x))throw P("SC38",{index:t,field:i,schema:e});break;default:throw P("SC36",{fieldName:i,type:o.type,schema:e})}})})}Object.keys(qs(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!=="").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ae(e,t);return n&&!!n.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),P("SC26",{index:or(t),schema:e})}),(e.indexes||[]).reduce((t,n)=>(Sr(n)?jr(t,n):t.push(n),t),[]).filter((t,n,r)=>r.indexOf(t)===n).map(t=>{var n=jb(t),r=Ae(e,n);if(!r||typeof r!="object")throw P("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw P("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(qs(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ae(e,t);return n&&!!n.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),P("SC27",{index:or(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var n=jb(t),r=Ae(e,n);if(!r||typeof r!="object")throw P("SC28",{field:t,schema:e})})}function rl(e){e&&Object.entries(e).forEach(([t,n])=>{if(typeof t!="string")throw ae("COL14",{name:t});if(t.startsWith("_"))throw ae("COL15",{name:t});if(typeof n!="function")throw ae("COL16",{name:t,type:typeof t});if(Lb().includes(t)||el().includes(t))throw P("COL17",{name:t})})}function Ub(e,t){var n=Object.keys(e.properties);t&&Object.keys(t).filter(r=>n.includes(r)).forEach(r=>{throw P("COL18",{funName:r})})}function Vb(e,t){if(typeof t!="object"||Array.isArray(t))throw ae("COL11",{schema:e});var n=Cg(e);if(n.length!==Object.keys(t).length)throw P("COL12",{have:Object.keys(t),should:n});return n.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw ae("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function Kb(e){if(Bb().includes(e.name))throw P("DB5",{name:e.name});qb(e.name)}function Wb(e){if(qb(e.name),e.name.includes("$"))throw P("DB13",{name:e.name});if(wd(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw P("DB11",{name:e.name})}var Hb="^[a-z][_$a-z0-9\\-]*$",GE=new RegExp(Hb);function qb(e){if(typeof e!="string"||e.length===0)throw ae("UT1",{name:e});if(wd(e))return!0;if(!e.match(GE)&&e!==":memory:")throw P("UT2",{regex:Hb,givenName:e});return!0}function Yb(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw ae("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!n.includes(r))throw ae("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:n}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw P("QU15",{collection:e.collection.name,query:e.queryObj});nl(e.queryObj)}function Qb(e){var t=e.rxQuery.collection.schema.jsonSchema,n=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(n).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!r.includes(l))throw P("QU13",{schema:t,field:l,query:e.mangoQuery})});var i=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=i.find(l=>In(l,o));if(!a)throw P("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!XE(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw P("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!r.includes(l))throw P("QU13",{schema:t,field:l,query:e.mangoQuery})}),nl(e.mangoQuery)}function XE(e,t){var n=wa(e,t);return n.queryPlan.selectorSatisfiedByIndex}function nl(e){if(!(typeof e!="object"||e===null)){var t=Object.keys(e);t.forEach(n=>{var r=e[n];if(r instanceof RegExp)throw P("QU16",{field:n,query:e});Array.isArray(r)?r.forEach(i=>nl(i)):nl(r)})}}function Gb(e,t){if(!e)throw P("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw P("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw P("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw P("DOC23",{primaryKey:e,document:t})}var ZE=!0;function JE(e){return!e||typeof e=="string"||typeof e=="number"?e:gd(e)}var tR="dev-mode",Xb={name:tR,rxdb:!0,init:()=>{ZE&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:JE,tunnelErrorMessage(e){if(!Of[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return Of[e]}},hooks:{preCreateRxSchema:{after:zb},preCreateRxDatabase:{after:function(e){Wb(e)}},preCreateRxCollection:{after:function(e){if(Kb(e),Ub(e.schema,e.methods),e.name.charAt(0)==="_")throw P("DB2",{name:e.name});if(!e.schema)throw P("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){Gb(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){Yb(e)}},prePrepareQuery:{after:e=>{Qb(e)}},createRxCollection:{after:e=>{rl(e.creator.statics),rl(e.creator.methods),rl(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&Vb(e.creator.schema,e.creator.migrationStrategies)}}}};var il=px(Zb(),1),Jb=Symbol.for("Dexie"),Da=globalThis[Jb]||(globalThis[Jb]=il.default);if(il.default.semVer!==Da.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${il.default.semVer} and ${Da.semVer}`);var{liveQuery:Q8,mergeRanges:G8,rangesOverlap:X8,RangeSet:Z8,cmp:J8,Entity:tq,PropModSymbol:eq,PropModification:rq,replacePrefix:nq}=Da;var Oa="docs",eR="changes",ty="attachments",al="dexie",ey=new Map,ol=new Map;function ry(e,t,n,r){var i="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=Ce(ey,i,()=>{var a=U(this,null,function*(){var l=Ct(n);l.autoOpen=!1;var f=new Da(i,l),m={[Oa]:rR(r),[eR]:"++sequence, id",[ty]:"id"};return f.version(1).stores(m),yield f.open(),{dexieDb:f,dexieTable:f[Oa],dexieAttachmentsTable:f[ty],booleanIndexes:nR(r)}});return ey.set(i,o),ol.set(o,0),a});return o}function ny(e){return U(this,null,function*(){var t=yield e,n=ol.get(e),r=n-1;r===0?(t.dexieDb.close(),ol.delete(e)):ol.set(e,r)})}var Mf="__";function no(e){var t=e.split(".");if(t.length>1)return t.map(r=>no(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return Mf+n}else return e}function iy(e){var t=e.split(".");if(t.length>1)return t.map(r=>iy(r)).join(".");if(e.startsWith(Mf)){var n=e.substring(Mf.length);return"|"+n}else return e}function oy(e,t){return t&&(t=Ct(t),t=Nf(t),e.forEach(n=>{var r=Ae(t,n),i=r?"1":"0";Ed(t,n,i)}),t)}function Ff(e,t){return t&&(t=Ct(t),t=$f(t),e.forEach(n=>{var r=Ae(t,n),i=r==="1";Ed(t,n,i)}),t)}function Nf(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Nf(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=Nf(r)),t[no(n)]=r}),t}}function $f(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>$f(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=$f(r)),t[iy(n)]=r}),t}}function rR(e){var t=[],n=Se(e.primaryKey);t.push([n]),t.push(["_deleted",n]),e.indexes&&e.indexes.forEach(o=>{var a=ia(o);t.push(a)}),t.push(["_meta.lwt",n]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>no(a)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,a,l)=>l.indexOf(o)===a);var i=r.join(", ");return i}function Lf(e,t){return U(this,null,function*(){var n=yield e,r=yield n.dexieTable.bulkGet(t);return r.map(i=>Ff(n.booleanIndexes,i))})}function Ia(e,t){return e+"||"+t}function nR(e){var t=new Set,n=[];return e.indexes?(e.indexes.forEach(r=>{var i=ia(r);i.forEach(o=>{if(!t.has(o)){t.add(o);var a=Te(e,o);a.type==="boolean"&&n.push(o)}})}),n.push("_deleted"),Xp(n)):n}function ay(e){return e===ii?-1/0:e}function sy(e,t,n){if(e.includes(t)){var r=n===ni||n===!0?"1":"0";return r}else return n}function cy(e,t,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=t.startKeys.map((a,l)=>{var f=t.index[l];return sy(e,f,a)}).map(ay),i=t.endKeys.map((a,l)=>{var f=t.index[l];return sy(e,f,a)}).map(ay),o=n.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd);return o}function Bf(e,t){return U(this,null,function*(){var n=yield e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=i+o,l=t.queryPlan,f=!1;l.selectorSatisfiedByIndex||(f=Zi(e.schema,t.query));var m=cy(n.booleanIndexes,l,n.dexieDb._options.IDBKeyRange),p=l.index,y=[];if(yield n.dexieDb.transaction("r",n.dexieTable,S=>U(this,null,function*(){var N=S.idbtrans,B=N.objectStore(Oa),rt,ot;ot="["+p.map(gt=>no(gt)).join("+")+"]",rt=B.index(ot);var at=rt.openCursor(m);yield new Promise(gt=>{at.onsuccess=function(Kt){var bt=Kt.target.result;if(bt){var Mt=Ff(n.booleanIndexes,bt.value);(!f||f(Mt))&&y.push(Mt),l.sortSatisfiedByIndex&&y.length===a?gt():bt.continue()}else gt()}})})),!l.sortSatisfiedByIndex){var x=Lc(e.schema,t.query);y=y.sort(x)}return y=y.slice(i,a),{documents:y}})}function ly(e,t){return U(this,null,function*(){var n=yield e.internals,r=t.queryPlan,i=r.index,o=cy(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),a=-1;return yield n.dexieDb.transaction("r",n.dexieTable,l=>U(this,null,function*(){var f=l.idbtrans,m=f.objectStore(Oa),p,y;y="["+i.map(S=>no(S)).join("+")+"]",p=m.index(y);var x=p.count(o);a=yield new Promise((S,N)=>{x.onsuccess=function(){S(x.result)},x.onerror=B=>N(B)})})),a})}var iR=re(),oR=function(){function e(n,r,i,o,a,l,f){this.changes$=new it,this.instanceId=iR++,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=l,this.settings=f,this.primaryPath=Se(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,i){return U(this,null,function*(){ui(this),r.forEach(p=>{if(!p.document._rev||p.previous&&!p.previous._rev)throw P("SNH",{args:{row:p}})});var o=yield this.internals,a={success:[],error:[]},l=r.map(p=>p.document[this.primaryPath]),f;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>U(this,null,function*(){var p=new Map,y=yield Lf(this.internals,l);y.forEach(N=>{var B=N;return B&&p.set(B[this.primaryPath],B),B}),f=Qv(this,this.primaryPath,p,r,i),a.error=f.errors;var x=[];f.bulkInsertDocs.forEach(N=>{a.success.push(N.document),x.push(N.document)}),f.bulkUpdateDocs.forEach(N=>{a.success.push(N.document),x.push(N.document)}),x=x.map(N=>oy(o.booleanIndexes,N)),x.length>0&&(yield o.dexieTable.bulkPut(x));var S=[];f.attachmentsAdd.forEach(N=>{S.push({id:Ia(N.documentId,N.attachmentId),data:N.attachmentData.data})}),f.attachmentsUpdate.forEach(N=>{S.push({id:Ia(N.documentId,N.attachmentId),data:N.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(S),yield o.dexieAttachmentsTable.bulkDelete(f.attachmentsRemove.map(N=>Ia(N.documentId,N.attachmentId)))})),f=kt(f),f.eventBulk.events.length>0){var m=kt(f.newestRow).document;f.eventBulk.checkpoint={id:m[this.primaryPath],lwt:m._meta.lwt},f.eventBulk.endTime=re(),this.changes$.next(f.eventBulk)}return a})},t.findDocumentsById=function(r,i){return U(this,null,function*(){ui(this);var o=yield this.internals,a=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>U(this,null,function*(){var l=yield Lf(this.internals,r);l.forEach(f=>{f&&(!f._deleted||i)&&a.push(f)})})),a})},t.query=function(r){return ui(this),Bf(this,r)},t.count=function(r){return U(this,null,function*(){if(r.queryPlan.selectorSatisfiedByIndex){var i=yield ly(this,r);return{count:i,mode:"fast"}}else{var o=yield Bf(this,r);return{count:o.documents.length,mode:"slow"}}})},t.changeStream=function(){return ui(this),this.changes$.asObservable()},t.cleanup=function(r){return U(this,null,function*(){ui(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieTable,()=>U(this,null,function*(){var o=re()-r,a=yield i.dexieTable.where("_meta.lwt").below(o).toArray(),l=[];a.forEach(f=>{f._deleted==="1"&&l.push(f[this.primaryPath])}),yield i.dexieTable.bulkDelete(l)})),!0})},t.getAttachmentData=function(r,i,o){return U(this,null,function*(){ui(this);var a=yield this.internals,l=Ia(r,i);return yield a.dexieDb.transaction("r",a.dexieAttachmentsTable,()=>U(this,null,function*(){var f=yield a.dexieAttachmentsTable.get(l);if(f)return f.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+i)}))})},t.remove=function(){return U(this,null,function*(){ui(this);var r=yield this.internals;return yield r.dexieTable.clear(),this.close()})},t.close=function(){return this.closed?this.closed:(this.closed=U(this,null,function*(){this.changes$.complete(),yield ny(this.internals)}),this.closed)},t.conflictResultionTasks=function(){return new it},t.resolveConflictResultionTask=function(r){return U(this,null,function*(){})},e}();function uy(e,t,n){return U(this,null,function*(){var r=ry(t.databaseName,t.collectionName,n,t.schema),i=new oR(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return yield Fb(al,t,i),Promise.resolve(i)})}function ui(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var aR=function(){function e(n){this.name=al,this.rxdbVersion=oa,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return Gv(r),uy(this,r,this.settings)},e}();function dy(e={}){var t=new aR(e);return t}var jf={};us(jf,{$all:()=>nS,$and:()=>tf,$bitsAllClear:()=>fy,$bitsAllSet:()=>hy,$bitsAnyClear:()=>my,$bitsAnySet:()=>py,$elemMatch:()=>af,$eq:()=>kc,$exists:()=>cf,$expr:()=>tS,$gt:()=>Ac,$gte:()=>Tc,$in:()=>Pc,$jsonSchema:()=>eS,$lt:()=>Mc,$lte:()=>Nc,$mod:()=>nf,$ne:()=>$c,$nin:()=>Fc,$nor:()=>ef,$not:()=>rf,$or:()=>ya,$regex:()=>of,$size:()=>sf,$type:()=>lf,$where:()=>rS});var $n=e=>Et((t,n,r)=>{let i=0;if(n instanceof Array)for(let o of n)i=i|1<<o;else i=n;return e(t&i,i)});var fy=$n((e,t)=>e==0);var hy=$n((e,t)=>e==t);var my=$n((e,t)=>e<t);var py=$n((e,t)=>e>0);var sl={};us(sl,{$addToSet:()=>cR,$bit:()=>uR,$currentDate:()=>dR,$inc:()=>fR,$max:()=>hR,$min:()=>mR,$mul:()=>pR,$pop:()=>gR,$pull:()=>zf,$pullAll:()=>vR,$push:()=>yR,$rename:()=>_R,$set:()=>Uf,$unset:()=>xR});var io=(e,t)=>{switch(e){case"deep":return Yi(t);case"copy":return si(t)?new Date(t):et(t)?[...t]:ct(t)?Object.assign({},t):t;default:return t}},sR=/^[a-z]+[a-zA-Z0-9]*$/;function gy(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];let t=e.indexOf(".$"),n=e.indexOf("]"),r=e.substring(0,t),i=e.substring(t+3,n);j(i===""||sR.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let o=e.substring(n+2),[a,l]=o?gy(o):[];return[{selector:e,parent:r,child:i||"$",next:a},[i,...l||[]].filter(Boolean)]}var Pt=(e,t,n,r,i)=>{let{parent:o,child:a,next:l}=t;if(!a){let m=!1;return qi(e,o,(y,x)=>m=!!r(y,x)||m,i),m}let f=Re(e,o);return et(f)?f.map((m,p)=>n[a]&&!n[a].test({[a]:m})?!1:l?Pt(m,l,n,r,i):r(f,p)).some(Boolean):!1};function Bt(e,t,n,r){let i=[];for(let[o,a]of Object.entries(e)){let[l,f]=gy(o);if(!f.length)r(a,l,{})&&i.push(l.parent);else{let m={};t.forEach(y=>{Object.keys(y).forEach(x=>{f.forEach(S=>{(x===S||x.startsWith(S+"."))&&(m[S]=m[S]||{},Object.assign(m[S],{[x]:y[x]}))})})});let p={};for(let[y,x]of Object.entries(m))p[y]=new Zt(x,n.queryOptions);r(a,l,p)&&i.push(l.parent)}}return i}var cR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>{let l={$each:[i]};return ct(i)&&zt(i,"$each")&&Object.assign(l,i),Pt(e,o,a,(f,m)=>{let p=f[m]||(f[m]=[]);return Kr([p,l.$each]).length===l.$each.length?!1:(f[m]=io(r.cloneMode,pa(p.concat(l.$each))),!0)},{buildGraph:!0})});var lR=new Set(["and","or","xor"]),uR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>{let l=Object.keys(i);return j(l.length===1&&lR.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Pt(e,o,a,(f,m)=>{let p=f[m],y=i[l[0]];if(p!==void 0&&!(lt(p)&&lt(y)))return!1;switch(p=p||0,l[0]){case"and":f[m]=p&y;break;case"or":f[m]=p|y;break;case"xor":f[m]=p^y;break}return f[m]!==p},{buildGraph:!0})});var dR=(e,t,n=[],r={})=>{let i=Date.now();return Bt(t,n,r,(o,a,l)=>Pt(e,a,l,(f,m)=>(f[m]=i,!0),{buildGraph:!0}))};var fR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>{if(!o.child){let l=Re(e,o.parent);j(l===void 0||lt(l),"cannot apply $inc to a value of non-numeric type")}return Pt(e,o,a,(l,f)=>(l[f]=(l[f]||(l[f]=0))+i,!0),{buildGraph:!0})});var hR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>Pt(e,o,a,(l,f)=>l[f]!==void 0&&Ft(l[f],i)>-1?!1:(l[f]=i,!0),{buildGraph:!0}));var mR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>Pt(e,o,a,(l,f)=>l[f]!==void 0&&Ft(l[f],i)<1?!1:(l[f]=i,!0),{buildGraph:!0}));var pR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>Pt(e,o,a,(l,f)=>{let m=l[f];return l[f]=l[f]===void 0?0:l[f]*i,l[f]!==m},{buildGraph:!0}));var gR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>Pt(e,o,a,(l,f)=>{let m=l[f];return j(et(m),`path '${o.selector}' contains an element of non-array type.`),m.length?(i===-1?m.splice(0,1):m.pop(),!0):!1}));var zf=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>{let l=!ct(i)||Object.keys(i).some(ze),f=new Zt(l?{k:i}:i,r.queryOptions),m=l?p=>f.test({k:p}):p=>f.test(p);return Pt(e,o,a,(p,y)=>{let x=p[y],S=new Array;return x.map(B=>{let rt=m(B);return rt||S.push(B),rt}).some(Boolean)?(p[y]=S,!0):!1})});var vR=(e,t,n=[],r={})=>{let i={};return Object.entries(t).forEach(([o,a])=>{i[o]={$in:a}}),zf(e,i,n,r)};var bR=Object.freeze(["$each","$slice","$sort","$position"]),yR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>{let l={$each:[i]};return ct(i)&&bR.some(f=>zt(i,f))&&Object.assign(l,i),Pt(e,o,a,(f,m)=>{let p=f[m]||(f[m]=[]),y=p.slice(0,l.$slice||p.length),x=p.length,S=lt(l.$position)?l.$position:p.length;if(p.splice(S,0,...io(r.cloneMode,l.$each)),l.$sort){let N=ct(l.$sort)?Object.keys(l.$sort||{}).pop():"",B=N?l.$sort[N]:l.$sort,rt=N?ot=>Re(ot,N):ot=>ot;p.sort((ot,at)=>B*Ft(rt(ot),rt(at)))}return lt(l.$slice)&&(l.$slice<0?p.splice(0,p.length+l.$slice):p.splice(l.$slice)),x!=p.length||!ye(y,p)},{descendArray:!0,buildGraph:!0})});var Uf=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>Pt(e,o,a,(l,f)=>ye(l[f],i)?!1:(l[f]=io(r.cloneMode,i),!0),{buildGraph:!0}));var _R=(e,t,n=[],r={})=>{let i=[],o=Bt(t,n,r,(a,l,f)=>Pt(e,l,f,(m,p)=>zt(m,p)?(i.push(...Uf(e,{[a]:m[p]},n,r)),delete m[p],!0):!1));return Array.from(new Set(o.concat(i)))};var xR=(e,t,n=[],r={})=>Bt(t,n,r,(i,o,a)=>Pt(e,o,a,(l,f)=>zt(l,f)?(et(l)?l[f]=null:delete l[f],!0):!1));function Vf(e){return e=Object.assign(Object.assign({},e),{queryOptions:Hr(e.queryOptions)}),e.queryOptions.context.addQueryOps(jf).addExpressionOps(Gd).addExpressionOps(Xd),(t,n,r=[],i={},o={})=>{let a=Object.assign({cloneMode:"copy"},e,o);Object.assign(a,{queryOptions:Hr(Object.assign({useStrictMode:!1},a?.queryOptions))}),r=r||[],i=i||{};let l=Object.entries(n);j(l.length===1,"Update expression must contain only one operator.");let[f,m]=l[0];j(zt(sl,f),`Update operator '${f}' is not supported.`);let p=sl[f];return Object.keys(i).length&&!(i instanceof Zt?i:new Zt(i,a.queryOptions)).test(t)?[]:p(t,m,r,a)}}var i6=Vf({});var Kf;function Wf(e,t){if(!Kf){var n=Vf({cloneMode:"none"});Kf=(r,i)=>{var o=Ye(r);return n(o,i),o}}return Kf(e,t)}function wR(e){return this.incrementalModify(t=>{var n=Wf(t,e);return n})}function CR(e){var t=this._data,n=Wf(t,e);return this._saveData(n,t)}function SR(e){return this.exec().then(t=>t?Array.isArray(t)?Promise.all(t.map(n=>n.update(e))).then(()=>t):t.update(e).then(()=>t):null)}var vy={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=CR,e.incrementalUpdate=wR},RxQuery:e=>{e.update=SR}}};var ER={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function RR(){return U(this,null,function*(){Xc(ob),Xc(vy),xm()&&Xc(Xb)})}RR();var y6=(()=>{let t=class t{constructor(){this.dataBaseReadySubj=new he(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(r){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[r]}initDB(r){return U(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===r&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield hb({name:r,storage:dy(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:ER}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var C6=(()=>{let t=class t{constructor(){this.activePortal=new it,this.portal$=this.activePortal.asObservable()}setPortal(r){this.activePortal.next(r)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ir=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Ir||{}),E6="*";function _y(e,t){return{type:Ir.Trigger,name:e,definitions:t,options:{}}}function Hf(e,t=null){return{type:Ir.Animate,styles:t,timings:e}}function R6(e,t=null){return{type:Ir.Sequence,steps:e,options:t}}function cl(e){return{type:Ir.Style,styles:e,offset:null}}function qf(e,t,n){return{type:Ir.State,name:e,styles:t,options:n}}function D6(e){return{type:Ir.Keyframes,steps:e}}function Yf(e,t,n=null){return{type:Ir.Transition,expr:e,animation:t,options:n}}function O6(e=null){return{type:Ir.AnimateChild,options:e}}function I6(e,t,n=null){return{type:Ir.Query,selector:e,animation:t,options:n}}var by=class{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},yy=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},k6="!";function N6(e){return e&&typeof e.connect=="function"&&!(e instanceof qn)}var ll=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(ll||{}),$6=new pt("_ViewRepeater"),xy=class{applyChanges(t,n,r,i,o){t.forEachOperation((a,l,f)=>{let m,p;if(a.previousIndex==null){let y=r(a,l,f);m=n.createEmbeddedView(y.templateRef,y.context,y.index),p=ll.INSERTED}else f==null?(n.remove(l),p=ll.REMOVED):(m=n.get(l),n.move(m,f),p=ll.MOVED);o&&o({context:m?.context,operation:p,record:a})})}detach(){}};var wy=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,n,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new it,n&&n.length&&(t?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...t){this._verifyValueAssignment(t);let n=this.selected,r=new Set(t);t.forEach(o=>this._markSelected(o)),n.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let n=this._hasQueuedChanges();return t&&this._emitChangeEvent(),n}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,n){if(this.compareWith){n=n??this._selection;for(let r of n)if(this.compareWith(t,r))return r;return t}else return t}};var DR=20,Qf=(()=>{let t=class t{constructor(r,i,o){this._ngZone=r,this._platform=i,this._scrolled=new it,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=DR){return this._platform.isBrowser?new ds(i=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(ou(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):J()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let o=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(xt(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,r)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let o=Pm(i),a=r.getElementRef().nativeElement;do if(o==a)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return Zh(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(V($t),V(we),V(Gt,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var OR=20,ul=(()=>{let t=class t{constructor(r,i,o){this._platform=r,this._change=new it,this._changeListener=a=>{this._change.next(a)},this._document=o,i.runOutsideAngular(()=>{if(r.isBrowser){let a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),o=r.documentElement,a=o.getBoundingClientRect(),l=-a.top||r.body.scrollTop||i.scrollY||o.scrollTop||0,f=-a.left||r.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:l,left:f}}change(r=OR){return r>0?this._change.pipe(ou(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(i){return new(i||t)(V(we),V($t),V(Gt,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Cy=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({});let e=t;return e})(),Gf=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({imports:[Mo,Cy,Mo,Cy]});let e=t;return e})();var Sy=Tm(),Xf=class{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Xt(-this._previousScrollPosition.left),t.style.top=Xt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,r=t.style,i=n.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Sy&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Sy&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var Zf=class{constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(xt(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},dl=class{enable(){}disable(){}attach(){}};function Jf(e,t){return t.some(n=>{let r=e.bottom<n.top,i=e.top>n.bottom,o=e.right<n.left,a=e.left>n.right;return r||i||o||a})}function Ey(e,t){return t.some(n=>{let r=e.top<n.top,i=e.bottom>n.bottom,o=e.left<n.left,a=e.right>n.right;return r||i||o||a})}var th=class{constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Jf(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},kR=(()=>{let t=class t{constructor(r,i,o,a){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new dl,this.close=l=>new Zf(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Xf(this._viewportRuler,this._document),this.reposition=l=>new th(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}};t.\u0275fac=function(i){return new(i||t)(V(Qf),V(ul),V($t),V(Gt))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Fn=class{constructor(t){if(this.scrollStrategy=new dl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let n=Object.keys(t);for(let r of n)t[r]!==void 0&&(this[r]=t[r])}}};var eh=class{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var ky=(()=>{let t=class t{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(i){return new(i||t)(V(Gt))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),AR=(()=>{let t=class t extends ky{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=o=>{let a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){let f=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(i){return new(i||t)(V(Gt),V($t,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),TR=(()=>{let t=class t extends ky{constructor(r,i,o){super(r),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=gu(a)},this._clickListener=a=>{let l=gu(a),f=a.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let m=this._attachedOverlays.slice();for(let p=m.length-1;p>-1;p--){let y=m[p];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(y.overlayElement.contains(l)||y.overlayElement.contains(f))break;let x=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(i){return new(i||t)(V(Gt),V(we),V($t,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),oo=(()=>{let t=class t{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||vu()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}let i=this._document.createElement("div");i.classList.add(r),vu()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};t.\u0275fac=function(i){return new(i||t)(V(Gt),V(we))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Gr=class{constructor(t,n,r,i,o,a,l,f,m,p=!1){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=p,this._backdropElement=null,this._backdropClick=new it,this._attachments=new it,this._detachments=new it,this._locationChanges=hr.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new it,this._outsidePointerEvents=new it,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ke(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=K(K({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ht(K({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Xt(this._config.width),t.height=Xt(this._config.height),t.minWidth=Xt(this._config.minWidth),t.minHeight=Xt(this._config.minHeight),t.maxWidth=Xt(this._config.maxWidth),t.maxHeight=Xt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,r){let i=bu(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Qn(wi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Ry="cdk-overlay-connected-position-bounding-box",PR=/([A-Za-z%]+)$/,rh=class{get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new it,this._resizeSubscription=hr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Ry),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],a;for(let l of this._preferredPositions){let f=this._getOriginPoint(t,i,l),m=this._getOverlayPoint(f,n,l),p=this._getOverlayFit(m,n,r,l);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,f);return}if(this._canFitWithFlexibleDimensions(p,m,r)){o.push({position:l,origin:f,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(f,l)});continue}(!a||a.overlayFit.visibleArea<p.visibleArea)&&(a={overlayFit:p,overlayPoint:m,originPoint:f,position:l,overlayRect:n})}if(o.length){let l=null,f=-1;for(let m of o){let p=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);p>f&&(f=p,l=m)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&di(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ry),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;i=r.originX=="start"?a:l}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){let o=Oy(n),{x:a,y:l}=t,f=this._getOffset(i,"x"),m=this._getOffset(i,"y");f&&(a+=f),m&&(l+=m);let p=0-a,y=a+o.width-r.width,x=0-l,S=l+o.height-r.height,N=this._subtractOverflows(o.width,p,y),B=this._subtractOverflows(o.height,x,S),rt=N*B;return{visibleArea:rt,isCompletelyWithinViewport:o.width*o.height===rt,fitsInViewportVertically:B===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,a=Dy(this._overlayRef.getConfig().minHeight),l=Dy(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportVertically||a!=null&&a<=i,m=t.fitsInViewportHorizontally||l!=null&&l<=o;return f&&m}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=Oy(n),o=this._viewportRect,a=Math.max(t.x+i.width-o.width,0),l=Math.max(t.y+i.height-o.height,0),f=Math.max(o.top-r.top-t.y,0),m=Math.max(o.left-r.left-t.x,0),p=0,y=0;return i.width<=o.width?p=m||-a:p=t.x<this._viewportMargin?o.left-r.left-t.x:0,i.height<=o.height?y=f||-l:y=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:p,y},{x:t.x+p,y:t.y+y}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!MR(this._lastScrollVisibility,r)){let i=new eh(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){let r=this._viewportRect,i=this._isRtl(),o,a,l;if(n.overlayY==="top")a=t.y,o=r.height-a+this._viewportMargin;else if(n.overlayY==="bottom")l=r.height-t.y+this._viewportMargin*2,o=r.height-l+this._viewportMargin;else{let S=Math.min(r.bottom-t.y+r.top,t.y),N=this._lastBoundingBoxSize.height;o=S*2,a=t.y-S,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-N/2)}let f=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,m=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,p,y,x;if(m)x=r.width-t.x+this._viewportMargin*2,p=t.x-this._viewportMargin;else if(f)y=t.x,p=r.right-t.x;else{let S=Math.min(r.right-t.x+r.left,t.x),N=this._lastBoundingBoxSize.width;p=S*2,y=t.x-S,p>N&&!this._isInitialRender&&!this._growAfterOpen&&(y=t.x-N/2)}return{top:a,left:y,bottom:l,right:x,width:p,height:o}}_setBoundingBoxStyles(t,n){let r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Xt(r.height),i.top=Xt(r.top),i.bottom=Xt(r.bottom),i.width=Xt(r.width),i.left=Xt(r.left),i.right=Xt(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Xt(o)),a&&(i.maxWidth=Xt(a))}this._lastBoundingBoxSize=r,di(this._boundingBox.style,i)}_resetBoundingBoxStyles(){di(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){di(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){let p=this._viewportRuler.getViewportScrollPosition();di(r,this._getExactOverlayY(n,t,p)),di(r,this._getExactOverlayX(n,t,p))}else r.position="static";let l="",f=this._getOffset(n,"x"),m=this._getOffset(n,"y");f&&(l+=`translateX(${f}px) `),m&&(l+=`translateY(${m}px)`),r.transform=l.trim(),a.maxHeight&&(i?r.maxHeight=Xt(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=Xt(a.maxWidth):o&&(r.maxWidth="")),di(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;i.bottom=`${a-(o.y+this._overlayRect.height)}px`}else i.top=Xt(o.y);return i}_getExactOverlayX(t,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let l=this._document.documentElement.clientWidth;i.right=`${l-(o.x+this._overlayRect.width)}px`}else i.left=Xt(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ey(t,r),isOriginOutsideView:Jf(t,r),isOverlayClipped:Ey(n,r),isOverlayOutsideView:Jf(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bu(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Qt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}};function di(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Dy(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(PR);return!n||n==="px"?parseFloat(t):null}return e||null}function Oy(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function MR(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var Iy="cdk-global-overlay-wrapper",nh=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Iy),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:l}=r,f=(i==="100%"||i==="100vw")&&(!a||a==="100%"||a==="100vw"),m=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),p=this._xPosition,y=this._xOffset,x=this._overlayRef.getConfig().direction==="rtl",S="",N="",B="";f?B="flex-start":p==="center"?(B="center",x?N=y:S=y):x?p==="left"||p==="end"?(B="flex-end",S=y):(p==="right"||p==="start")&&(B="flex-start",N=y):p==="left"||p==="start"?(B="flex-start",S=y):(p==="right"||p==="end")&&(B="flex-end",N=y),t.position=this._cssPosition,t.marginLeft=f?"0":S,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":N,n.justifyContent=B,n.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(Iy),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},NR=(()=>{let t=class t{constructor(r,i,o,a){this._viewportRuler=r,this._document=i,this._platform=o,this._overlayContainer=a}global(){return new nh}flexibleConnectedTo(r){return new rh(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(i){return new(i||t)(V(ul),V(Gt),V(we),V(oo))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$R=0,Me=(()=>{let t=class t{constructor(r,i,o,a,l,f,m,p,y,x,S,N){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=f,this._ngZone=m,this._document=p,this._directionality=y,this._location=x,this._outsideClickDispatcher=S,this._animationsModuleType=N}create(r){let i=this._createHostElement(),o=this._createPaneElement(i),a=this._createPortalOutlet(o),l=new Fn(r);return l.direction=l.direction||this._directionality.value,new Gr(a,i,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${$R++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(ys)),new Ss(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(i){return new(i||t)(V(kR),V(oo),V(gs),V(NR),V(AR),V(Yt),V($t),V(Gt),V(Pi),V(nr),V(TR),V(Mr,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),FR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ay=new pt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=G(Me);return()=>e.scrollStrategies.reposition()}}),LR=(()=>{let t=class t{constructor(r){this.elementRef=r}};t.\u0275fac=function(i){return new(i||t)(Y(Qt))},t.\u0275dir=Ut({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let e=t;return e})(),f9=(()=>{let t=class t{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,i,o,a,l){this._overlay=r,this._dir=l,this._backdropSubscription=hr.EMPTY,this._attachSubscription=hr.EMPTY,this._detachSubscription=hr.EMPTY,this._positionSubscription=hr.EMPTY,this._disposeOnNavigation=!1,this._ngZone=G($t),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new ge,this.positionChange=new ge,this.attach=new ge,this.detach=new ge,this.overlayKeydown=new ge,this.overlayOutsideClick=new ge,this._templatePortal=new vr(i,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=FR);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Ai(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Fn({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(r){let i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(r),r}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof LR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(nm(()=>this.positionChange.observers.length>0)).subscribe(r=>{this._ngZone.run(()=>this.positionChange.emit(r)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(Y(Me),Y(Nr),Y(pn),Y(Ay),Y(Pi,8))},t.\u0275dir=Ut({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ht.None,"cdkConnectedOverlayOrigin","origin"],positions:[ht.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ht.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ht.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ht.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ht.None,"cdkConnectedOverlayWidth","width"],height:[ht.None,"cdkConnectedOverlayHeight","height"],minWidth:[ht.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ht.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ht.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ht.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ht.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ht.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ht.None,"cdkConnectedOverlayOpen","open"],disableClose:[ht.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ht.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ve],lockPosition:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",ve],flexibleDimensions:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ve],growAfterOpen:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ve],push:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",ve],disposeOnNavigation:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ve]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[gn,mn]});let e=t;return e})();function BR(e){return()=>e.scrollStrategies.reposition()}var jR={provide:Ay,deps:[Me],useFactory:BR},ao=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({providers:[Me,jR],imports:[Mo,Br,Gf,Gf]});let e=t;return e})();function zR(e,t){if(e&1){let n=gm();pr(0,"div",1)(1,"button",2),Oi("click",function(){sm(n);let i=fu();return cm(i.action())}),hu(2),rr()()}if(e&2){let n=fu();Di(2),mu(" ",n.data.action," ")}}var UR=["label"];function VR(e,t){}var KR=Math.pow(2,31)-1,Aa=class{constructor(t,n){this._overlayRef=n,this._afterDismissed=new it,this._afterOpened=new it,this._onAction=new it,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,KR))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Py=new pt("MatSnackBarData"),so=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},WR=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ut({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),HR=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ut({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),qR=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ut({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),My=(()=>{let t=class t{constructor(r,i){this.snackBarRef=r,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(i){return new(i||t)(Y(Aa),Y(Py))},t.\u0275cmp=Oe({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ie],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,o){i&1&&(pr(0,"div",0),hu(1),rr(),Gn(2,zR,3,1,"div",1)),i&2&&(Di(),mu(" ",o.data.message,`
`),Di(),pm(2,o.hasAction?2:-1))},dependencies:[Hm,WR,HR,qR],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),YR={snackBarState:_y("state",[qf("void, hidden",cl({transform:"scale(0.8)",opacity:0})),qf("visible",cl({transform:"scale(1)",opacity:1})),Yf("* => visible",Hf("150ms cubic-bezier(0, 0, 0.2, 1)")),Yf("* => void, * => hidden",Hf("75ms cubic-bezier(0.4, 0.0, 1, 1)",cl({opacity:0})))])},QR=0,GR=(()=>{let t=class t extends vn{constructor(r,i,o,a,l){super(),this._ngZone=r,this._elementRef=i,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=l,this._document=G(Gt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new it,this._onExit=new it,this._onEnter=new it,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${QR++}`,this.attachDomPortal=f=>{this._assertNotAttached();let m=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),m},l.politeness==="assertive"&&!l.announcementMessage?this._live="assertive":l.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),i}attachTemplatePortal(r){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),i}onAnimationEnd(r){let{fromState:i,toState:o}=r;if((o==="void"&&i!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let r=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(l=>r.classList.add(l)):r.classList.add(i)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let r=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){let a=i[o],l=a.getAttribute("aria-owns");this._trackedModals.add(a),l?l.indexOf(r)===-1&&a.setAttribute("aria-owns",l+" "+r):a.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let i=r.getAttribute("aria-owns");if(i){let o=i.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(i){return new(i||t)(Y($t),Y(Qt),Y(gr),Y(we),Y(so))},t.\u0275cmp=Oe({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,o){if(i&1&&(Ii(bn,7),Ii(UR,7)),i&2){let a;Xn(a=Zn())&&(o._portalOutlet=a.first),Xn(a=Zn())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,o){i&1&&bm("@state.done",function(l){return o.onAnimationEnd(l)}),i&2&&vm("@state",o._animationState)},standalone:!0,features:[le,Ie],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(pr(0,"div",1)(1,"div",2,0)(3,"div",3),Gn(4,VR,0,0,"ng-template",4),rr(),He(5,"div"),rr()()),i&2&&(Di(5),Fe("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[bn],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[YR.snackBarState]}});let e=t;return e})();function XR(){return new so}var ZR=new pt("mat-snack-bar-default-options",{providedIn:"root",factory:XR}),JR=(()=>{let t=class t{get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(r,i,o,a,l,f){this._overlay=r,this._live=i,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=l,this._defaultConfig=f,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=My,this.snackBarContainerComponent=GR,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(r,i){return this._attach(r,i)}openFromTemplate(r,i){return this._attach(r,i)}open(r,i="",o){let a=K(K({},this._defaultConfig),o);return a.data={message:r,action:i},a.announcementMessage===r&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,i){let o=i&&i.viewContainerRef&&i.viewContainerRef.injector,a=Yt.create({parent:o||this._injector,providers:[{provide:so,useValue:i}]}),l=new Lr(this.snackBarContainerComponent,i.viewContainerRef,a),f=r.attach(l);return f.instance.snackBarConfig=i,f.instance}_attach(r,i){let o=K(K(K({},new so),this._defaultConfig),i),a=this._createOverlay(o),l=this._attachSnackBarContainer(a,o),f=new Aa(l,a);if(r instanceof Nr){let m=new vr(r,null,{$implicit:o.data,snackBarRef:f});f.instance=l.attachTemplatePortal(m)}else{let m=this._createInjector(o,f),p=new Lr(r,void 0,m),y=l.attachComponentPortal(p);f.instance=y.instance}return this._breakpointObserver.observe(Nm.HandsetPortrait).pipe(Qn(a.detachments())).subscribe(m=>{a.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(f,o),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(r,i){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),i.duration&&i.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(i.duration))}_createOverlay(r){let i=new Fn;i.direction=r.direction;let o=this._overlay.position().global(),a=r.direction==="rtl",l=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!a||r.horizontalPosition==="end"&&a,f=!l&&r.horizontalPosition!=="center";return l?o.left("0"):f?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(r,i){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return Yt.create({parent:o||this._injector,providers:[{provide:Aa,useValue:i},{provide:Py,useValue:r.data}]})}};t.\u0275fac=function(i){return new(i||t)(V(Me),V($m),V(Yt),V(Mm),V(t,12),V(ZR))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $9=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({providers:[JR],imports:[ao,Br,qm,Fr,My,Fr]});let e=t;return e})();var B9={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function tD(e,t){}var fi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var ah=(()=>{let t=class t extends vn{constructor(r,i,o,a,l,f,m,p){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=l,this._ngZone=f,this._overlayRef=m,this._focusMonitor=p,this._platform=G(we),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=G(gr),this.attachDomPortal=y=>{this._portalOutlet.hasAttached();let x=this._portalOutlet.attachDomPortal(y);return this._contentAttached(),x},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r.removeEventListener("blur",o),r.removeEventListener("mousedown",o),r.removeAttribute("tabindex")};r.addEventListener("blur",o),r.addEventListener("mousedown",o)})),r.focus(i)}_focusByCssSelector(r,i){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let o=_s(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=_s();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=_s()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(i){return new(i||t)(Y(Qt),Y(Cs),Y(Gt,8),Y(fi),Y(ws),Y($t),Y(Gr),Y(Ti))},t.\u0275cmp=Oe({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(i&1&&Ii(bn,7),i&2){let a;Xn(a=Zn())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){i&2&&Fe("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[le,Ie],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&Gn(0,tD,0,0,"ng-template",0)},dependencies:[bn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Ta=class{constructor(t,n){this.overlayRef=t,this.config=n,this.closed=new it,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Ai(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},eD=new pt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=G(Me);return()=>e.scrollStrategies.block()}}),rD=new pt("DialogData"),nD=new pt("DefaultDialogConfig");var iD=0,sh=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,o,a,l,f){this._overlay=r,this._injector=i,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this._ariaHiddenElements=new Map,this.afterAllClosed=Yn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(er(void 0))),this._scrollStrategy=f}open(r,i){let o=this._defaultOptions||new fi;i=K(K({},o),i),i.id=i.id||`cdk-dialog-${iD++}`,i.id&&this.getDialogById(i.id);let a=this._getOverlayConfig(i),l=this._overlay.create(a),f=new Ta(l,i),m=this._attachContainer(l,f,i);return f.containerInstance=m,this._attachDialogContent(r,f,m,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){oh(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){oh(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),oh(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new Fn({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,o){let a=o.injector||o.viewContainerRef?.injector,l=[{provide:fi,useValue:o},{provide:Ta,useValue:i},{provide:Gr,useValue:r}],f;o.container?typeof o.container=="function"?f=o.container:(f=o.container.type,l.push(...o.container.providers(o))):f=ah;let m=new Lr(f,o.viewContainerRef,Yt.create({parent:a||this._injector,providers:l}),o.componentFactoryResolver);return r.attach(m).instance}_attachDialogContent(r,i,o,a){if(r instanceof Nr){let l=this._createInjector(a,i,o,void 0),f={$implicit:a.data,dialogRef:i};a.templateContext&&(f=K(K({},f),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),o.attachTemplatePortal(new vr(r,null,f,l))}else{let l=this._createInjector(a,i,o,this._injector),f=o.attachComponentPortal(new Lr(r,a.viewContainerRef,l,a.componentFactoryResolver));i.componentRef=f,i.componentInstance=f.instance}}_createInjector(r,i,o,a){let l=r.injector||r.viewContainerRef?.injector,f=[{provide:rD,useValue:r.data},{provide:Ta,useValue:i}];return r.providers&&(typeof r.providers=="function"?f.push(...r.providers(i,r,o)):f.push(...r.providers)),r.direction&&(!l||!l.get(Pi,null,{optional:!0}))&&f.push({provide:Pi,useValue:{value:r.direction,change:J()}}),Yt.create({parent:l||a,providers:f})}_removeOpenDialog(r,i){let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let o=i.length-1;o>-1;o--){let a=i[o];a!==r&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(i){return new(i||t)(V(Me),V(Yt),V(nD,8),V(t,12),V(oo),V(eD))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function oh(e,t){let n=e.length;for(;n--;)t(e[n])}var Ny=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({providers:[sh],imports:[ao,Br,Fm,Br]});let e=t;return e})();function oD(e,t){}var Pa=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},ch="mdc-dialog--open",$y="mdc-dialog--opening",Fy="mdc-dialog--closing",aD=150,sD=75,cD=(()=>{let t=class t extends ah{constructor(r,i,o,a,l,f,m,p,y){super(r,i,o,a,l,f,m,y),this._animationMode=p,this._animationStateChanged=new ge,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?By(this._config.enterAnimationDuration)??aD:0,this._exitAnimationDuration=this._animationsEnabled?By(this._config.exitAnimationDuration)??sD:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ly,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($y,ch)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ch),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ch),this._animationsEnabled?(this._hostElement.style.setProperty(Ly,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Fy)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove($y,Fy)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};t.\u0275fac=function(i){return new(i||t)(Y(Qt),Y(Cs),Y(Gt,8),Y(Pa),Y(ws),Y($t),Y(Gr),Y(Mr,8),Y(Ti))},t.\u0275cmp=Oe({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,o){i&2&&(du("id",o._config.id),Fe("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),mr("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[le,Ie],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(pr(0,"div",0)(1,"div",1),Gn(2,oD,0,0,"ng-template",2),rr()())},dependencies:[bn],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),Ly="--mat-dialog-transition-duration";function By(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?xs(e.substring(0,e.length-2)):e.endsWith("s")?xs(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var fl=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(fl||{}),Ma=class{constructor(t,n,r){this._ref=t,this._containerInstance=r,this._afterOpened=new it,this._beforeClosed=new it,this._state=fl.OPEN,this.disableClose=n.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(xt(i=>i.state==="opened"),Ke(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(xt(i=>i.state==="closed"),Ke(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),wi(this.backdropClick(),this.keydownEvents().pipe(xt(i=>i.keyCode===27&&!this.disableClose&&!Ai(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),jy(this,i.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(xt(n=>n.state==="closing"),Ke(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=fl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=fl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function jy(e,t,n){return e._closeInteractionType=t,e.close(n)}var lD=new pt("MatMdcDialogData"),uD=new pt("mat-mdc-dialog-default-options"),dD=new pt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=G(Me);return()=>e.scrollStrategies.block()}});var fD=0,lh=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,o,a,l,f,m,p){this._overlay=r,this._defaultOptions=a,this._scrollStrategy=l,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this.dialogConfigClass=Pa,this.afterAllClosed=Yn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(er(void 0))),this._dialog=i.get(sh),this._dialogRefConstructor=Ma,this._dialogContainerType=cD,this._dialogDataToken=lD}open(r,i){let o;i=K(K({},this._defaultOptions||new Pa),i),i.id=i.id||`mat-mdc-dialog-${fD++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(r,Ht(K({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:fi,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(l,f,m)=>(o=new this._dialogRefConstructor(l,i,m),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=a.componentRef,o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(o);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};t.\u0275fac=function(i){return new(i||t)(V(Me),V(Yt),V(nr,8),V(uD,8),V(dD),V(t,12),V(oo),V(Mr,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hD=0,OY=(()=>{let t=class t{constructor(r,i,o){this.dialogRef=r,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Uy(this._elementRef,this._dialog.openDialogs))}ngOnChanges(r){let i=r._matDialogClose||r._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(r){jy(this.dialogRef,r.screenX===0&&r.screenY===0?"keyboard":"mouse",this.dialogResult)}};t.\u0275fac=function(i){return new(i||t)(Y(Ma,8),Y(Qt),Y(lh))},t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){i&1&&Oi("click",function(l){return o._onButtonClick(l)}),i&2&&Fe("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[ht.None,"aria-label","ariaLabel"],type:"type",dialogResult:[ht.None,"mat-dialog-close","dialogResult"],_matDialogClose:[ht.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[mn]});let e=t;return e})(),zy=(()=>{let t=class t{constructor(r,i,o){this._dialogRef=r,this._elementRef=i,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=Uy(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};t.\u0275fac=function(i){return new(i||t)(Y(Ma,8),Y(Qt),Y(lh))},t.\u0275dir=Ut({type:t,standalone:!0});let e=t;return e})(),IY=(()=>{let t=class t extends zy{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${hD++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(t)))(o||t)}})(),t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,o){i&2&&du("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[le]});let e=t;return e})(),kY=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let e=t;return e})(),AY=(()=>{let t=class t extends zy{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Pr(t)))(o||t)}})(),t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,o){i&2&&mr("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[le]});let e=t;return e})();function Uy(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?t.find(r=>r.id===n.id):null}var TY=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=te({providers:[lh],imports:[Ny,ao,Br,Fr,Fr]});let e=t;return e})();export{Lr as a,vr as b,xD as c,bn as d,Br as e,Hm as f,MD as g,ND as h,qm as i,_r as j,wr as k,Gx as l,Op as m,ke as n,iO as o,oO as p,dw as q,Ks as r,na as s,dd as t,yO as u,Pw as v,y6 as w,C6 as x,N6 as y,ll as z,$6 as A,xy as B,wy as C,Qf as D,ul as E,Cy as F,Gf as G,Fn as H,Me as I,LR as J,f9 as K,ao as L,Ir as M,E6 as N,_y as O,Hf as P,R6 as Q,cl as R,qf as S,D6 as T,Yf as U,O6 as V,I6 as W,by as X,yy as Y,k6 as Z,Ma as _,lD as $,lh as aa,OY as ba,IY as ca,kY as da,AY as ea,TY as fa,ZR as ga,JR as ha,$9 as ia,B9 as ja};
