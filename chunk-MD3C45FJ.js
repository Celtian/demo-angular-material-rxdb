import{$ as sm,$a as gn,$b as yr,A as cu,Aa as Lr,Ab as Uo,B as rm,Ba as hm,Bb as Br,Bd as Wm,C as Gn,Ca as Wt,Db as Ni,Dd as Hm,E as lu,Ea as mm,Eb as Jn,F as Di,Fa as pe,Fb as ti,Fc as $m,G as wt,Ga as zt,Gc as ve,H as uu,I as Oi,J as ki,Jb as bu,Jc as $i,Ka as Vt,Kc as Es,L as du,Lb as yu,Lc as Fi,M as pr,Ma as pm,Mc as Rs,N as nm,Na as $r,Nb as Re,Nc as Ds,Oa as gm,Oc as xu,P as Ai,Pa as Mi,Pc as Bi,Q as Ii,Qa as H,R as fn,Ra as zo,Rc as Os,S as fu,Sa as Fr,Sc as wu,T as im,Ta as xs,Tc as Yt,U as om,Ub as Sm,Uc as Fm,V as hu,Va as vm,Vb as Em,W as am,Wa as pn,Wb as Vo,Wc as Bm,X as jo,Xb as _u,Xc as jm,Y as tr,Yb as Ss,Z as Ke,Za as ce,Zb as Li,_ as hn,_a as bm,_b as Rm,a as B,aa as me,ab as ws,b as gt,ba as _e,bb as pu,bc as ge,bd as ks,cb as Zn,cc as Dm,cd as As,d as Px,da as dt,db as ym,e as vs,ea as Jt,eb as Ti,ec as Om,f as Nx,fa as cm,fb as Te,fd as zm,g as z,ga as vt,gc as km,gd as ji,h as mr,ha as mu,hb as vr,hd as Um,i as Zh,ia as K,ib as Cs,ic as Qt,id as vn,j as $o,ja as X,jd as Wo,k as Fo,ka as ys,kb as _m,kc as Am,l as Yn,la as _s,lc as Ko,m as lt,ma as Ee,md as jr,n as fe,na as te,nc as Im,o as Jh,oa as jt,ob as br,oc as Mm,pa as lm,pb as er,pc as rr,q as dn,qa as um,qb as We,qd as Vm,r as he,s as rt,sa as Xn,t as Bo,ta as gr,u as Ri,ub as xm,v as tm,va as mn,vb as gu,vc as Tm,w as em,wa as dm,wb as wm,wc as Pm,x as mt,xa as fm,xb as Pi,xc as Nm,xd as Km,y as bs,yb as Cm,yc as Lm,z as qt,zb as vu}from"./chunk-OKNWWQ6Y.js";var hy=Px((Pf,Nf)=>{"use strict";(function(t,r){typeof Pf=="object"&&typeof Nf<"u"?Nf.exports=r():typeof define=="function"&&define.amd?define(r):(t=typeof globalThis<"u"?globalThis:t||self,t.Dexie=r())})(Pf,function(){"use strict";var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])},t(a,s)};function r(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(a,s);function l(){this.constructor=a}a.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var e=function(){return e=Object.assign||function(s){for(var l,f=1,h=arguments.length;f<h;f++){l=arguments[f];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(s[g]=l[g])}return s},e.apply(this,arguments)};function n(a,s,l){if(l||arguments.length===2)for(var f=0,h=s.length,g;f<h;f++)(g||!(f in s))&&(g||(g=Array.prototype.slice.call(s,0,f)),g[f]=s[f]);return a.concat(g||Array.prototype.slice.call(s))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,c=Array.isArray;typeof Promise<"u"&&!i.Promise&&(i.Promise=Promise);function u(a,s){return typeof s!="object"||o(s).forEach(function(l){a[l]=s[l]}),a}var d=Object.getPrototypeOf,m={}.hasOwnProperty;function p(a,s){return m.call(a,s)}function b(a,s){typeof s=="function"&&(s=s(d(a))),(typeof Reflect>"u"?o:Reflect.ownKeys)(s).forEach(function(l){E(a,l,s[l])})}var w=Object.defineProperty;function E(a,s,l,f){w(a,s,u(l&&p(l,"get")&&typeof l.get=="function"?{get:l.get,set:l.set,configurable:!0}:{value:l,configurable:!0,writable:!0},f))}function O(a){return{from:function(s){return a.prototype=Object.create(s.prototype),E(a.prototype,"constructor",a),{extend:b.bind(null,a.prototype)}}}}var $=Object.getOwnPropertyDescriptor;function W(a,s){var l=$(a,s),f;return l||(f=d(a))&&W(f,s)}var et=[].slice;function ot(a,s,l){return et.call(a,s,l)}function Z(a,s){return s(a)}function Ft(a){if(!a)throw new Error("Assertion Failed")}function yt(a){i.setImmediate?setImmediate(a):setTimeout(a,0)}function Pt(a,s){return a.reduce(function(l,f,h){var g=s(f,h);return g&&(l[g[0]]=g[1]),l},{})}function bt(a,s){if(typeof s=="string"&&p(a,s))return a[s];if(!s)return a;if(typeof s!="string"){for(var l=[],f=0,h=s.length;f<h;++f){var g=bt(a,s[f]);l.push(g)}return l}var v=s.indexOf(".");if(v!==-1){var y=a[s.substr(0,v)];return y==null?void 0:bt(y,s.substr(v+1))}}function xt(a,s,l){if(!(!a||s===void 0)&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof s!="string"&&"length"in s){Ft(typeof l!="string"&&"length"in l);for(var f=0,h=s.length;f<h;++f)xt(a,s[f],l[f])}else{var g=s.indexOf(".");if(g!==-1){var v=s.substr(0,g),y=s.substr(g+1);if(y==="")l===void 0?c(a)&&!isNaN(parseInt(v))?a.splice(v,1):delete a[v]:a[v]=l;else{var _=a[v];(!_||!p(a,v))&&(_=a[v]={}),xt(_,y,l)}}else l===void 0?c(a)&&!isNaN(parseInt(s))?a.splice(s,1):delete a[s]:a[s]=l}}function de(a,s){typeof s=="string"?xt(a,s,void 0):"length"in s&&[].map.call(s,function(l){xt(a,l,void 0)})}function lr(a){var s={};for(var l in a)p(a,l)&&(s[l]=a[l]);return s}var yo=[].concat;function Xr(a){return yo.apply([],a)}var Tr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Xr([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(s){return s+a+"Array"})}))).filter(function(a){return i[a]}),Ua=new Set(Tr.map(function(a){return i[a]}));function Va(a){var s={};for(var l in a)if(p(a,l)){var f=a[l];s[l]=!f||typeof f!="object"||Ua.has(f.constructor)?f:Va(f)}return s}function yl(a){for(var s in a)if(p(a,s))return!1;return!0}var jn=null;function Ue(a){jn=new WeakMap;var s=Zr(a);return jn=null,s}function Zr(a){if(!a||typeof a!="object")return a;var s=jn.get(a);if(s)return s;if(c(a)){s=[],jn.set(a,s);for(var l=0,f=a.length;l<f;++l)s.push(Zr(a[l]))}else if(Ua.has(a.constructor))s=a;else{var h=d(a);s=h===Object.prototype?{}:Object.create(h),jn.set(a,s);for(var g in a)p(a,g)&&(s[g]=Zr(a[g]))}return s}var _o={}.toString;function Jr(a){return _o.call(a).slice(8,-1)}var xo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",be=typeof xo=="symbol"?function(a){var s;return a!=null&&(s=a[xo])&&s.apply(a)}:function(){return null};function Zt(a,s){var l=a.indexOf(s);return l>=0&&a.splice(l,1),l>=0}var Ge={};function Xe(a){var s,l,f,h;if(arguments.length===1){if(c(a))return a.slice();if(this===Ge&&typeof a=="string")return[a];if(h=be(a)){for(l=[];f=h.next(),!f.done;)l.push(f.value);return l}if(a==null)return[a];if(s=a.length,typeof s=="number"){for(l=new Array(s);s--;)l[s]=a[s];return l}return[a]}for(s=arguments.length,l=new Array(s);s--;)l[s]=arguments[s];return l}var _l=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},s_=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],hh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xl=s_.concat(hh),c_={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function bi(a,s){this.name=a,this.message=s}O(bi).from(Error).extend({toString:function(){return this.name+": "+this.message}});function mh(a,s){return a+". Errors: "+Object.keys(s).map(function(l){return s[l].toString()}).filter(function(l,f,h){return h.indexOf(l)===f}).join(`
`)}function Ka(a,s,l,f){this.failures=s,this.failedKeys=f,this.successCount=l,this.message=mh(a,s)}O(Ka).from(bi);function yi(a,s){this.name="BulkError",this.failures=Object.keys(s).map(function(l){return s[l]}),this.failuresByPos=s,this.message=mh(a,this.failures)}O(yi).from(bi);var wl=xl.reduce(function(a,s){return a[s]=s+"Error",a},{}),l_=bi,nt=xl.reduce(function(a,s){var l=s+"Error";function f(h,g){this.name=l,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=c_[s]||l,this.inner=null)}return O(f).from(l_),a[s]=f,a},{});nt.Syntax=SyntaxError,nt.Type=TypeError,nt.Range=RangeError;var ph=hh.reduce(function(a,s){return a[s+"Error"]=nt[s],a},{});function u_(a,s){if(!a||a instanceof bi||a instanceof TypeError||a instanceof SyntaxError||!a.name||!ph[a.name])return a;var l=new ph[a.name](s||a.message,a);return"stack"in a&&E(l,"stack",{get:function(){return this.inner.stack}}),l}var Wa=xl.reduce(function(a,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(a[s+"Error"]=nt[s]),a},{});Wa.ModifyError=Ka,Wa.DexieError=bi,Wa.BulkError=yi;function At(){}function wo(a){return a}function d_(a,s){return a==null||a===wo?s:function(l){return s(a(l))}}function zn(a,s){return function(){a.apply(this,arguments),s.apply(this,arguments)}}function f_(a,s){return a===At?s:function(){var l=a.apply(this,arguments);l!==void 0&&(arguments[0]=l);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=s.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?zn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?zn(h,this.onerror):h),g!==void 0?g:l}}function h_(a,s){return a===At?s:function(){a.apply(this,arguments);var l=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),l&&(this.onsuccess=this.onsuccess?zn(l,this.onsuccess):l),f&&(this.onerror=this.onerror?zn(f,this.onerror):f)}}function m_(a,s){return a===At?s:function(l){var f=a.apply(this,arguments);u(l,f);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var v=s.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?zn(h,this.onsuccess):h),g&&(this.onerror=this.onerror?zn(g,this.onerror):g),f===void 0?v===void 0?void 0:v:u(f,v)}}function p_(a,s){return a===At?s:function(){return s.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Cl(a,s){return a===At?s:function(){var l=a.apply(this,arguments);if(l&&typeof l.then=="function"){for(var f=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return l.then(function(){return s.apply(f,g)})}return s.apply(this,arguments)}}var ur=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function gh(a,s){ur=a}var Co={},vh=100,Sl=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,d(a),a];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,d(s),a]}(),bh=Sl[0],yh=Sl[1],g_=Sl[2],v_=yh&&yh.then,So=bh&&bh.constructor,El=!!g_;function b_(){queueMicrotask(__)}var Eo=function(a,s){Ro.push([a,s]),Ha&&(b_(),Ha=!1)},Rl=!0,Ha=!0,Un=[],qa=[],Dl=wo,tn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:At,pgp:!1,env:{},finalize:At},tt=tn,Ro=[],Vn=0,Qa=[];function q(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=tt;if(typeof a!="function"){if(a!==Co)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&kl(this,this._value);return}this._state=null,this._value=null,++s.ref,xh(this,a)}var Ol={get:function(){var a=tt,s=Za;function l(f,h){var g=this,v=!a.global&&(a!==tt||s!==Za),y=v&&!rn(),_=new q(function(x,R){Al(g,new _h(Sh(f,a,v,y),Sh(h,a,v,y),x,R,a))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return l.prototype=Co,l},set:function(a){E(this,"then",a&&a.prototype===Co?Ol:{get:function(){return a},set:Ol.set})}};b(q.prototype,{then:Ol,_then:function(a,s){Al(this,new _h(null,null,a,s,tt))},catch:function(a){if(arguments.length===1)return this.then(null,a);var s=arguments[0],l=arguments[1];return typeof s=="function"?this.then(null,function(f){return f instanceof s?l(f):Ya(f)}):this.then(null,function(f){return f&&f.name===s?l(f):Ya(f)})},finally:function(a){return this.then(function(s){return q.resolve(a()).then(function(){return s})},function(s){return q.resolve(a()).then(function(){return Ya(s)})})},timeout:function(a,s){var l=this;return a<1/0?new q(function(f,h){var g=setTimeout(function(){return h(new nt.Timeout(s))},a);l.then(f,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(q.prototype,Symbol.toStringTag,"Dexie.Promise"),tn.env=Ch();function _h(a,s,l,f,h){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof s=="function"?s:null,this.resolve=l,this.reject=f,this.psd=h}b(q,{all:function(){var a=Xe.apply(null,arguments).map(Ja);return new q(function(s,l){a.length===0&&s([]);var f=a.length;a.forEach(function(h,g){return q.resolve(h).then(function(v){a[g]=v,--f||s(a)},l)})})},resolve:function(a){if(a instanceof q)return a;if(a&&typeof a.then=="function")return new q(function(l,f){a.then(l,f)});var s=new q(Co,!0,a);return s},reject:Ya,race:function(){var a=Xe.apply(null,arguments).map(Ja);return new q(function(s,l){a.map(function(f){return q.resolve(f).then(s,l)})})},PSD:{get:function(){return tt},set:function(a){return tt=a}},totalEchoes:{get:function(){return Za}},newPSD:en,usePSD:Kn,scheduler:{get:function(){return Eo},set:function(a){Eo=a}},rejectionMapper:{get:function(){return Dl},set:function(a){Dl=a}},follow:function(a,s){return new q(function(l,f){return en(function(h,g){var v=tt;v.unhandleds=[],v.onunhandled=g,v.finalize=zn(function(){var y=this;x_(function(){y.unhandleds.length===0?h():g(y.unhandleds[0])})},v.finalize),a()},s,l,f)})}}),So&&(So.allSettled&&E(q,"allSettled",function(){var a=Xe.apply(null,arguments).map(Ja);return new q(function(s){a.length===0&&s([]);var l=a.length,f=new Array(l);a.forEach(function(h,g){return q.resolve(h).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--l||s(f)})})})}),So.any&&typeof AggregateError<"u"&&E(q,"any",function(){var a=Xe.apply(null,arguments).map(Ja);return new q(function(s,l){a.length===0&&l(new AggregateError([]));var f=a.length,h=new Array(f);a.forEach(function(g,v){return q.resolve(g).then(function(y){return s(y)},function(y){h[v]=y,--f||l(new AggregateError(h))})})})}));function xh(a,s){try{s(function(l){if(a._state===null){if(l===a)throw new TypeError("A promise cannot be resolved with itself.");var f=a._lib&&_i();l&&typeof l.then=="function"?xh(a,function(h,g){l instanceof q?l._then(h,g):l.then(h,g)}):(a._state=!0,a._value=l,wh(a)),f&&xi()}},kl.bind(null,a))}catch(l){kl(a,l)}}function kl(a,s){if(qa.push(s),a._state===null){var l=a._lib&&_i();s=Dl(s),a._state=!1,a._value=s,w_(a),wh(a),l&&xi()}}function wh(a){var s=a._listeners;a._listeners=[];for(var l=0,f=s.length;l<f;++l)Al(a,s[l]);var h=a._PSD;--h.ref||h.finalize(),Vn===0&&(++Vn,Eo(function(){--Vn===0&&Il()},[]))}function Al(a,s){if(a._state===null){a._listeners.push(s);return}var l=a._state?s.onFulfilled:s.onRejected;if(l===null)return(a._state?s.resolve:s.reject)(a._value);++s.psd.ref,++Vn,Eo(y_,[l,a,s])}function y_(a,s,l){try{var f,h=s._value;!s._state&&qa.length&&(qa=[]),f=ur&&s._consoleTask?s._consoleTask.run(function(){return a(h)}):a(h),!s._state&&qa.indexOf(h)===-1&&C_(s),l.resolve(f)}catch(g){l.reject(g)}finally{--Vn===0&&Il(),--l.psd.ref||l.psd.finalize()}}function __(){Kn(tn,function(){_i()&&xi()})}function _i(){var a=Rl;return Rl=!1,Ha=!1,a}function xi(){var a,s,l;do for(;Ro.length>0;)for(a=Ro,Ro=[],l=a.length,s=0;s<l;++s){var f=a[s];f[0].apply(null,f[1])}while(Ro.length>0);Rl=!0,Ha=!0}function Il(){var a=Un;Un=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var s=Qa.slice(0),l=s.length;l;)s[--l]()}function x_(a){function s(){a(),Qa.splice(Qa.indexOf(s),1)}Qa.push(s),++Vn,Eo(function(){--Vn===0&&Il()},[])}function w_(a){Un.some(function(s){return s._value===a._value})||Un.push(a)}function C_(a){for(var s=Un.length;s;)if(Un[--s]._value===a._value){Un.splice(s,1);return}}function Ya(a){return new q(Co,!1,a)}function Bt(a,s){var l=tt;return function(){var f=_i(),h=tt;try{return nn(l,!0),a.apply(this,arguments)}catch(g){s&&s(g)}finally{nn(h,!1),f&&xi()}}}var re={awaits:0,echoes:0,id:0},S_=0,Ga=[],Xa=0,Za=0,E_=0;function en(a,s,l,f){var h=tt,g=Object.create(h);g.parent=h,g.ref=0,g.global=!1,g.id=++E_,tn.env,g.env=El?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject}:{},s&&u(g,s),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()};var v=Kn(g,a,l,f);return g.ref===0&&g.finalize(),v}function wi(){return re.id||(re.id=++S_),++re.awaits,re.echoes+=vh,re.id}function rn(){return re.awaits?(--re.awaits===0&&(re.id=0),re.echoes=re.awaits*vh,!0):!1}(""+v_).indexOf("[native code]")===-1&&(wi=rn=At);function Ja(a){return re.echoes&&a&&a.constructor===So?(wi(),a.then(function(s){return rn(),s},function(s){return rn(),Ht(s)})):a}function R_(a){++Za,(!re.echoes||--re.echoes===0)&&(re.echoes=re.awaits=re.id=0),Ga.push(tt),nn(a,!0)}function D_(){var a=Ga[Ga.length-1];Ga.pop(),nn(a,!1)}function nn(a,s){var l=tt;if((s?re.echoes&&(!Xa++||a!==tt):Xa&&(!--Xa||a!==tt))&&queueMicrotask(s?R_.bind(null,a):D_),a!==tt&&(tt=a,l===tn&&(tn.env=Ch()),El)){var f=tn.env.Promise,h=a.env;(l.global||a.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any&&(f.any=h.any))}}function Ch(){var a=i.Promise;return El?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Kn(a,s,l,f,h){var g=tt;try{return nn(a,!0),s(l,f,h)}finally{nn(g,!1)}}function Sh(a,s,l,f){return typeof a!="function"?a:function(){var h=tt;l&&wi(),nn(s,!0);try{return a.apply(this,arguments)}finally{nn(h,!1),f&&queueMicrotask(rn)}}}function Ml(a){Promise===So&&re.echoes===0?Xa===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}var Ht=q.reject;function Tl(a,s,l,f){if(!a.idbdb||!a._state.openComplete&&!tt.letThrough&&!a._vip){if(a._state.openComplete)return Ht(new nt.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return Ht(new nt.DatabaseClosed);a.open().catch(At)}return a._state.dbReadyPromise.then(function(){return Tl(a,s,l,f)})}else{var h=a._createTransaction(s,l,a._dbSchema);try{h.create(),a._state.PR1398_maxLoop=3}catch(g){return g.name===wl.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),a.close({disableAutoOpen:!1}),a.open().then(function(){return Tl(a,s,l,f)})):Ht(g)}return h._promise(s,function(g,v){return en(function(){return tt.trans=h,f(g,v,h)})}).then(function(g){if(s==="readwrite")try{h.idbtrans.commit()}catch{}return s==="readonly"?g:h._completion.then(function(){return g})})}}var Eh="4.0.8",Wn="\uFFFF",Pl=-1/0,Pr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Rh="String expected.",Ci=[],ts="__dbnames",Nl="readonly",Ll="readwrite";function Hn(a,s){return a?s?function(){return a.apply(this,arguments)&&s.apply(this,arguments)}:a:s}var Dh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function es(a){return typeof a=="string"&&!/\./.test(a)?function(s){return s[a]===void 0&&a in s&&(s=Ue(s),delete s[a]),s}:function(s){return s}}function Oh(){throw nt.Type()}function Ct(a,s){try{var l=kh(a),f=kh(s);if(l!==f)return l==="Array"?1:f==="Array"?-1:l==="binary"?1:f==="binary"?-1:l==="string"?1:f==="string"?-1:l==="Date"?1:f!=="Date"?NaN:-1;switch(l){case"number":case"Date":case"string":return a>s?1:a<s?-1:0;case"binary":return k_(Ah(a),Ah(s));case"Array":return O_(a,s)}}catch{}return NaN}function O_(a,s){for(var l=a.length,f=s.length,h=l<f?l:f,g=0;g<h;++g){var v=Ct(a[g],s[g]);if(v!==0)return v}return l===f?0:l<f?-1:1}function k_(a,s){for(var l=a.length,f=s.length,h=l<f?l:f,g=0;g<h;++g)if(a[g]!==s[g])return a[g]<s[g]?-1:1;return l===f?0:l<f?-1:1}function kh(a){var s=typeof a;if(s!=="object")return s;if(ArrayBuffer.isView(a))return"binary";var l=Jr(a);return l==="ArrayBuffer"?"binary":l}function Ah(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Ih=function(){function a(){}return a.prototype._trans=function(s,l,f){var h=this._tx||tt.trans,g=this.name,v=ur&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(R,C,k){if(!k.schema[g])throw new nt.NotFound("Table "+g+" not part of transaction");return l(k.idbtrans,k)}var _=_i();try{var x=h&&h.db._novip===this.db._novip?h===tt.trans?h._promise(s,y,f):en(function(){return h._promise(s,y,f)},{trans:h,transless:tt.transless||tt}):Tl(this.db,s,[this.name],y);return v&&(x._consoleTask=v,x=x.catch(function(R){return console.trace(R),Ht(R)})),x}finally{_&&xi()}},a.prototype.get=function(s,l){var f=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?Ht(new nt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:s}).then(function(g){return f.hook.reading.fire(g)})}).then(l)},a.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(c(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=o(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&l.every(function(j){return C.keyPath.indexOf(j)>=0})){for(var k=0;k<l.length;++k)if(l.indexOf(C.keyPath[k])===-1)return!1;return!0}return!1}).sort(function(C,k){return C.keyPath.length-k.keyPath.length})[0];if(f&&this.db._maxKey!==Wn){var h=f.keyPath.slice(0,l.length);return this.where(h).equals(h.map(function(C){return s[C]}))}!f&&ur&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var g=this.schema.idxByName,v=this.db._deps.indexedDB;function y(C,k){return v.cmp(C,k)===0}var _=l.reduce(function(C,k){var j=C[0],S=C[1],D=g[k],A=s[k];return[j||D,j||!D?Hn(S,D&&D.multi?function(I){var P=bt(I,k);return c(P)&&P.some(function(L){return y(A,L)})}:function(I){return y(A,bt(I,k))}):S]},[null,null]),x=_[0],R=_[1];return x?this.where(x.name).equals(s[x.keyPath]).filter(R):f?this.filter(R):this.where(l).equals("")},a.prototype.filter=function(s){return this.toCollection().and(s)},a.prototype.count=function(s){return this.toCollection().count(s)},a.prototype.offset=function(s){return this.toCollection().offset(s)},a.prototype.limit=function(s){return this.toCollection().limit(s)},a.prototype.each=function(s){return this.toCollection().each(s)},a.prototype.toArray=function(s){return this.toCollection().toArray(s)},a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},a.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,c(s)?"[".concat(s.join("+"),"]"):s))},a.prototype.reverse=function(){return this.toCollection().reverse()},a.prototype.mapToClass=function(s){var l=this,f=l.db,h=l.name;this.schema.mappedClass=s,s.prototype instanceof Oh&&(s=function(_){r(x,_);function x(){return _!==null&&_.apply(this,arguments)||this}return Object.defineProperty(x.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),x.prototype.table=function(){return h},x}(s));for(var g=new Set,v=s.prototype;v;v=d(v))Object.getOwnPropertyNames(v).forEach(function(_){return g.add(_)});var y=function(_){if(!_)return _;var x=Object.create(s.prototype);for(var R in _)if(!g.has(R))try{x[R]=_[R]}catch{}return x};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),s},a.prototype.defineClass=function(){function s(l){u(this,l)}return this.mapToClass(s)},a.prototype.add=function(s,l){var f=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,y=s;return v&&g&&(y=es(v)(s)),this._trans("readwrite",function(_){return f.core.mutate({trans:_,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(_){return _.numFailures?q.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{xt(s,v,_)}catch{}return _})},a.prototype.update=function(s,l){if(typeof s=="object"&&!c(s)){var f=bt(s,this.schema.primKey.keyPath);return f===void 0?Ht(new nt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(l)}else return this.where(":id").equals(s).modify(l)},a.prototype.put=function(s,l){var f=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,y=s;return v&&g&&(y=es(v)(s)),this._trans("readwrite",function(_){return f.core.mutate({trans:_,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(_){return _.numFailures?q.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{xt(s,v,_)}catch{}return _})},a.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:[s]})}).then(function(f){return f.numFailures?q.reject(f.failures[0]):void 0})},a.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:Dh})}).then(function(l){return l.numFailures?q.reject(l.failures[0]):void 0})},a.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(f){return l.core.getMany({keys:s,trans:f}).then(function(h){return h.map(function(g){return l.hook.reading.fire(g)})})})},a.prototype.bulkAdd=function(s,l,f){var h=this,g=Array.isArray(l)?l:void 0;f=f||(g?void 0:l);var v=f?f.allKeys:void 0;return this._trans("readwrite",function(y){var _=h.schema.primKey,x=_.auto,R=_.keyPath;if(R&&g)throw new nt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==s.length)throw new nt.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,k=R&&x?s.map(es(R)):s;return h.core.mutate({trans:y,type:"add",keys:g,values:k,wantResults:v}).then(function(j){var S=j.numFailures,D=j.results,A=j.lastResult,I=j.failures,P=v?D:A;if(S===0)return P;throw new yi("".concat(h.name,".bulkAdd(): ").concat(S," of ").concat(C," operations failed"),I)})})},a.prototype.bulkPut=function(s,l,f){var h=this,g=Array.isArray(l)?l:void 0;f=f||(g?void 0:l);var v=f?f.allKeys:void 0;return this._trans("readwrite",function(y){var _=h.schema.primKey,x=_.auto,R=_.keyPath;if(R&&g)throw new nt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==s.length)throw new nt.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,k=R&&x?s.map(es(R)):s;return h.core.mutate({trans:y,type:"put",keys:g,values:k,wantResults:v}).then(function(j){var S=j.numFailures,D=j.results,A=j.lastResult,I=j.failures,P=v?D:A;if(S===0)return P;throw new yi("".concat(h.name,".bulkPut(): ").concat(S," of ").concat(C," operations failed"),I)})})},a.prototype.bulkUpdate=function(s){var l=this,f=this.core,h=s.map(function(y){return y.key}),g=s.map(function(y){return y.changes}),v=[];return this._trans("readwrite",function(y){return f.getMany({trans:y,keys:h,cache:"clone"}).then(function(_){var x=[],R=[];s.forEach(function(k,j){var S=k.key,D=k.changes,A=_[j];if(A){for(var I=0,P=Object.keys(D);I<P.length;I++){var L=P[I],F=D[L];if(L===l.schema.primKey.keyPath){if(Ct(F,S)!==0)throw new nt.Constraint("Cannot update primary key in bulkUpdate()")}else xt(A,L,F)}v.push(j),x.push(S),R.push(A)}});var C=x.length;return f.mutate({trans:y,type:"put",keys:x,values:R,updates:{keys:h,changeSpecs:g}}).then(function(k){var j=k.numFailures,S=k.failures;if(j===0)return C;for(var D=0,A=Object.keys(S);D<A.length;D++){var I=A[D],P=v[Number(I)];if(P!=null){var L=S[I];delete S[I],S[P]=L}}throw new yi("".concat(l.name,".bulkUpdate(): ").concat(j," of ").concat(C," operations failed"),S)})})})},a.prototype.bulkDelete=function(s){var l=this,f=s.length;return this._trans("readwrite",function(h){return l.core.mutate({trans:h,type:"delete",keys:s})}).then(function(h){var g=h.numFailures,v=h.lastResult,y=h.failures;if(g===0)return v;throw new yi("".concat(l.name,".bulkDelete(): ").concat(g," of ").concat(f," operations failed"),y)})},a}();function Do(a){var s={},l=function(y,_){if(_){for(var x=arguments.length,R=new Array(x-1);--x;)R[x-1]=arguments[x];return s[y].subscribe.apply(null,R),a}else if(typeof y=="string")return s[y]};l.addEventType=g;for(var f=1,h=arguments.length;f<h;++f)g(arguments[f]);return l;function g(y,_,x){if(typeof y=="object")return v(y);_||(_=p_),x||(x=At);var R={subscribers:[],fire:x,subscribe:function(C){R.subscribers.indexOf(C)===-1&&(R.subscribers.push(C),R.fire=_(R.fire,C))},unsubscribe:function(C){R.subscribers=R.subscribers.filter(function(k){return k!==C}),R.fire=R.subscribers.reduce(_,x)}};return s[y]=l[y]=R,R}function v(y){o(y).forEach(function(_){var x=y[_];if(c(x))g(_,y[_][0],y[_][1]);else if(x==="asap")var R=g(_,wo,function(){for(var k=arguments.length,j=new Array(k);k--;)j[k]=arguments[k];R.subscribers.forEach(function(S){yt(function(){S.apply(null,j)})})});else throw new nt.InvalidArgument("Invalid event config")})}}function Oo(a,s){return O(s).from({prototype:a}),s}function A_(a){return Oo(Ih.prototype,function(l,f,h){this.db=a,this._tx=h,this.name=l,this.schema=f,this.hook=a._allTables[l]?a._allTables[l].hook:Do(null,{creating:[f_,At],reading:[d_,wo],updating:[m_,At],deleting:[h_,At]})})}function Si(a,s){return!(a.filter||a.algorithm||a.or)&&(s?a.justLimit:!a.replayFilter)}function $l(a,s){a.filter=Hn(a.filter,s)}function Fl(a,s,l){var f=a.replayFilter;a.replayFilter=f?function(){return Hn(f(),s())}:s,a.justLimit=l&&!f}function I_(a,s){a.isMatch=Hn(a.isMatch,s)}function rs(a,s){if(a.isPrimKey)return s.primaryKey;var l=s.getIndexByKeyPath(a.index);if(!l)throw new nt.Schema("KeyPath "+a.index+" on object store "+s.name+" is not indexed");return l}function Mh(a,s,l){var f=rs(a,s.schema);return s.openCursor({trans:l,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function ns(a,s,l,f){var h=a.replayFilter?Hn(a.filter,a.replayFilter()):a.filter;if(a.or){var g={},v=function(y,_,x){if(!h||h(_,x,function(k){return _.stop(k)},function(k){return _.fail(k)})){var R=_.primaryKey,C=""+R;C==="[object ArrayBuffer]"&&(C=""+new Uint8Array(R)),p(g,C)||(g[C]=!0,s(y,_,x))}};return Promise.all([a.or._iterate(v,l),Th(Mh(a,f,l),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}else return Th(Mh(a,f,l),Hn(a.algorithm,h),s,!a.keysOnly&&a.valueMapper)}function Th(a,s,l,f){var h=f?function(v,y,_){return l(f(v),y,_)}:l,g=Bt(h);return a.then(function(v){if(v)return v.start(function(){var y=function(){return v.continue()};(!s||s(v,function(_){return y=_},function(_){v.stop(_),y=At},function(_){v.fail(_),y=At}))&&g(v.value,v,function(_){return y=_}),y()})})}var M_=Symbol(),ko=function(){function a(s){Object.assign(this,s)}return a.prototype.execute=function(s){var l;if(this.add!==void 0){var f=this.add;if(c(f))return n(n([],c(s)?s:[],!0),f,!0).sort();if(typeof f=="number")return(Number(s)||0)+f;if(typeof f=="bigint")try{return BigInt(s)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(this.remove!==void 0){var h=this.remove;if(c(h))return c(s)?s.filter(function(v){return!h.includes(v)}).sort():[];if(typeof h=="number")return Number(s)-h;if(typeof h=="bigint")try{return BigInt(s)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}var g=(l=this.replacePrefix)===null||l===void 0?void 0:l[0];return g&&typeof s=="string"&&s.startsWith(g)?this.replacePrefix[1]+s.substring(g.length):s},a}(),T_=function(){function a(){}return a.prototype._read=function(s,l){var f=this._ctx;return f.error?f.table._trans(null,Ht.bind(null,f.error)):f.table._trans("readonly",s).then(l)},a.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,Ht.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},a.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=Hn(l.algorithm,s)},a.prototype._iterate=function(s,l){return ns(this._ctx,s,l,this._ctx.table.core)},a.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return s&&u(f,s),l._ctx=f,l},a.prototype.raw=function(){return this._ctx.valueMapper=null,this},a.prototype.each=function(s){var l=this._ctx;return this._read(function(f){return ns(l,s,f,l.table.core)})},a.prototype.count=function(s){var l=this;return this._read(function(f){var h=l._ctx,g=h.table.core;if(Si(h,!0))return g.count({trans:f,query:{index:rs(h,g.schema),range:h.range}}).then(function(y){return Math.min(y,h.limit)});var v=0;return ns(h,function(){return++v,!1},f,g).then(function(){return v})}).then(s)},a.prototype.sortBy=function(s,l){var f=s.split(".").reverse(),h=f[0],g=f.length-1;function v(x,R){return R?v(x[f[R]],R-1):x[h]}var y=this._ctx.dir==="next"?1:-1;function _(x,R){var C=v(x,g),k=v(R,g);return C<k?-y:C>k?y:0}return this.toArray(function(x){return x.sort(_)}).then(l)},a.prototype.toArray=function(s){var l=this;return this._read(function(f){var h=l._ctx;if(h.dir==="next"&&Si(h,!0)&&h.limit>0){var g=h.valueMapper,v=rs(h,h.table.core.schema);return h.table.core.query({trans:f,limit:h.limit,values:!0,query:{index:v,range:h.range}}).then(function(_){var x=_.result;return g?x.map(g):x})}else{var y=[];return ns(h,function(_){return y.push(_)},f,h.table.core).then(function(){return y})}},s)},a.prototype.offset=function(s){var l=this._ctx;return s<=0?this:(l.offset+=s,Si(l)?Fl(l,function(){var f=s;return function(h,g){return f===0?!0:f===1?(--f,!1):(g(function(){h.advance(f),f=0}),!1)}}):Fl(l,function(){var f=s;return function(){return--f<0}}),this)},a.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Fl(this._ctx,function(){var l=s;return function(f,h,g){return--l<=0&&h(g),l>=0}},!0),this},a.prototype.until=function(s,l){return $l(this._ctx,function(f,h,g){return s(f.value)?(h(g),l):!0}),this},a.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},a.prototype.last=function(s){return this.reverse().first(s)},a.prototype.filter=function(s){return $l(this._ctx,function(l){return s(l.value)}),I_(this._ctx,s),this},a.prototype.and=function(s){return this.filter(s)},a.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},a.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},a.prototype.desc=function(){return this.reverse()},a.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(f,h){s(h.key,h)})},a.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},a.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(f,h){s(h.primaryKey,h)})},a.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var f=[];return this.each(function(h,g){f.push(g.key)}).then(function(){return f}).then(s)},a.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&Si(l,!0)&&l.limit>0)return this._read(function(h){var g=rs(l,l.table.core.schema);return l.table.core.query({trans:h,values:!1,limit:l.limit,query:{index:g,range:l.range}})}).then(function(h){var g=h.result;return g}).then(s);l.keysOnly=!l.isMatch;var f=[];return this.each(function(h,g){f.push(g.primaryKey)}).then(function(){return f}).then(s)},a.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},a.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},a.prototype.lastKey=function(s){return this.reverse().firstKey(s)},a.prototype.distinct=function(){var s=this._ctx,l=s.index&&s.table.schema.idxByName[s.index];if(!l||!l.multi)return this;var f={};return $l(this._ctx,function(h){var g=h.primaryKey.toString(),v=p(f,g);return f[g]=!0,!v}),this},a.prototype.modify=function(s){var l=this,f=this._ctx;return this._write(function(h){var g;if(typeof s=="function")g=s;else{var v=o(s),y=v.length;g=function(I){for(var P=!1,L=0;L<y;++L){var F=v[L],N=s[F],V=bt(I,F);N instanceof ko?(xt(I,F,N.execute(V)),P=!0):V!==N&&(xt(I,F,N),P=!0)}return P}}var _=f.table.core,x=_.schema.primaryKey,R=x.outbound,C=x.extractKey,k=l.db._options.modifyChunkSize||200,j=[],S=0,D=[],A=function(I,P){var L=P.failures,F=P.numFailures;S+=I-F;for(var N=0,V=o(L);N<V.length;N++){var Y=V[N];j.push(L[Y])}};return l.clone().primaryKeys().then(function(I){var P=Si(f)&&f.limit===1/0&&(typeof s!="function"||s===Bl)&&{index:f.index,range:f.range},L=function(F){var N=Math.min(k,I.length-F);return _.getMany({trans:h,keys:I.slice(F,F+N),cache:"immutable"}).then(function(V){for(var Y=[],G=[],ct=R?[]:null,J=[],at=0;at<N;++at){var _t=V[at],ut={value:Ue(_t),primKey:I[F+at]};g.call(ut,ut.value,ut)!==!1&&(ut.value==null?J.push(I[F+at]):!R&&Ct(C(_t),C(ut.value))!==0?(J.push(I[F+at]),Y.push(ut.value)):(G.push(ut.value),R&&ct.push(I[F+at])))}return Promise.resolve(Y.length>0&&_.mutate({trans:h,type:"add",values:Y}).then(function(It){for(var st in It.failures)J.splice(parseInt(st),1);A(Y.length,It)})).then(function(){return(G.length>0||P&&typeof s=="object")&&_.mutate({trans:h,type:"put",keys:ct,values:G,criteria:P,changeSpec:typeof s!="function"&&s,isAdditionalChunk:F>0}).then(function(It){return A(G.length,It)})}).then(function(){return(J.length>0||P&&s===Bl)&&_.mutate({trans:h,type:"delete",keys:J,criteria:P,isAdditionalChunk:F>0}).then(function(It){return A(J.length,It)})}).then(function(){return I.length>F+N&&L(F+k)})})};return L(0).then(function(){if(j.length>0)throw new Ka("Error modifying one or more objects",j,S,D);return I.length})})})},a.prototype.delete=function(){var s=this._ctx,l=s.range;return Si(s)&&(s.isPrimKey||l.type===3)?this._write(function(f){var h=s.table.core.schema.primaryKey,g=l;return s.table.core.count({trans:f,query:{index:h,range:g}}).then(function(v){return s.table.core.mutate({trans:f,type:"deleteRange",range:g}).then(function(y){var _=y.failures;y.lastResult,y.results;var x=y.numFailures;if(x)throw new Ka("Could not delete some values",Object.keys(_).map(function(R){return _[R]}),v-x);return v-x})})}):this.modify(Bl)},a}(),Bl=function(a,s){return s.value=null};function P_(a){return Oo(T_.prototype,function(l,f){this.db=a;var h=Dh,g=null;if(f)try{h=f()}catch(x){g=x}var v=l._ctx,y=v.table,_=y.hook.reading.fire;this._ctx={table:y,index:v.index,isPrimKey:!v.index||y.schema.primKey.keyPath&&v.index===y.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:v.or,valueMapper:_!==wo?_:null}})}function N_(a,s){return a<s?-1:a===s?0:1}function L_(a,s){return a>s?-1:a===s?0:1}function Me(a,s,l){var f=a instanceof Nh?new a.Collection(a):a;return f._ctx.error=l?new l(s):new TypeError(s),f}function Ei(a){return new a.Collection(a,function(){return Ph("")}).limit(0)}function $_(a){return a==="next"?function(s){return s.toUpperCase()}:function(s){return s.toLowerCase()}}function F_(a){return a==="next"?function(s){return s.toLowerCase()}:function(s){return s.toUpperCase()}}function B_(a,s,l,f,h,g){for(var v=Math.min(a.length,f.length),y=-1,_=0;_<v;++_){var x=s[_];if(x!==f[_])return h(a[_],l[_])<0?a.substr(0,_)+l[_]+l.substr(_+1):h(a[_],f[_])<0?a.substr(0,_)+f[_]+l.substr(_+1):y>=0?a.substr(0,y)+s[y]+l.substr(y+1):null;h(a[_],x)<0&&(y=_)}return v<f.length&&g==="next"?a+l.substr(a.length):v<a.length&&g==="prev"?a.substr(0,l.length):y<0?null:a.substr(0,y)+f[y]+l.substr(y+1)}function is(a,s,l,f){var h,g,v,y,_,x,R,C=l.length;if(!l.every(function(D){return typeof D=="string"}))return Me(a,Rh);function k(D){h=$_(D),g=F_(D),v=D==="next"?N_:L_;var A=l.map(function(I){return{lower:g(I),upper:h(I)}}).sort(function(I,P){return v(I.lower,P.lower)});y=A.map(function(I){return I.upper}),_=A.map(function(I){return I.lower}),x=D,R=D==="next"?"":f}k("next");var j=new a.Collection(a,function(){return on(y[0],_[C-1]+f)});j._ondirectionchange=function(D){k(D)};var S=0;return j._addAlgorithm(function(D,A,I){var P=D.key;if(typeof P!="string")return!1;var L=g(P);if(s(L,_,S))return!0;for(var F=null,N=S;N<C;++N){var V=B_(P,L,y[N],_[N],v,x);V===null&&F===null?S=N+1:(F===null||v(F,V)>0)&&(F=V)}return A(F!==null?function(){D.continue(F+R)}:I),!1}),j}function on(a,s,l,f){return{type:2,lower:a,upper:s,lowerOpen:l,upperOpen:f}}function Ph(a){return{type:1,lower:a,upper:a}}var Nh=function(){function a(){}return Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),a.prototype.between=function(s,l,f,h){f=f!==!1,h=h===!0;try{return this._cmp(s,l)>0||this._cmp(s,l)===0&&(f||h)&&!(f&&h)?Ei(this):new this.Collection(this,function(){return on(s,l,!f,!h)})}catch{return Me(this,Pr)}},a.prototype.equals=function(s){return s==null?Me(this,Pr):new this.Collection(this,function(){return Ph(s)})},a.prototype.above=function(s){return s==null?Me(this,Pr):new this.Collection(this,function(){return on(s,void 0,!0)})},a.prototype.aboveOrEqual=function(s){return s==null?Me(this,Pr):new this.Collection(this,function(){return on(s,void 0,!1)})},a.prototype.below=function(s){return s==null?Me(this,Pr):new this.Collection(this,function(){return on(void 0,s,!1,!0)})},a.prototype.belowOrEqual=function(s){return s==null?Me(this,Pr):new this.Collection(this,function(){return on(void 0,s)})},a.prototype.startsWith=function(s){return typeof s!="string"?Me(this,Rh):this.between(s,s+Wn,!0,!0)},a.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):is(this,function(l,f){return l.indexOf(f[0])===0},[s],Wn)},a.prototype.equalsIgnoreCase=function(s){return is(this,function(l,f){return l===f[0]},[s],"")},a.prototype.anyOfIgnoreCase=function(){var s=Xe.apply(Ge,arguments);return s.length===0?Ei(this):is(this,function(l,f){return f.indexOf(l)!==-1},s,"")},a.prototype.startsWithAnyOfIgnoreCase=function(){var s=Xe.apply(Ge,arguments);return s.length===0?Ei(this):is(this,function(l,f){return f.some(function(h){return l.indexOf(h)===0})},s,Wn)},a.prototype.anyOf=function(){var s=this,l=Xe.apply(Ge,arguments),f=this._cmp;try{l.sort(f)}catch{return Me(this,Pr)}if(l.length===0)return Ei(this);var h=new this.Collection(this,function(){return on(l[0],l[l.length-1])});h._ondirectionchange=function(v){f=v==="next"?s._ascending:s._descending,l.sort(f)};var g=0;return h._addAlgorithm(function(v,y,_){for(var x=v.key;f(x,l[g])>0;)if(++g,g===l.length)return y(_),!1;return f(x,l[g])===0?!0:(y(function(){v.continue(l[g])}),!1)}),h},a.prototype.notEqual=function(s){return this.inAnyRange([[Pl,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},a.prototype.noneOf=function(){var s=Xe.apply(Ge,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Me(this,Pr)}var l=s.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[Pl,h]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},a.prototype.inAnyRange=function(s,l){var f=this,h=this._cmp,g=this._ascending,v=this._descending,y=this._min,_=this._max;if(s.length===0)return Ei(this);if(!s.every(function(N){return N[0]!==void 0&&N[1]!==void 0&&g(N[0],N[1])<=0}))return Me(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",nt.InvalidArgument);var x=!l||l.includeLowers!==!1,R=l&&l.includeUppers===!0;function C(N,V){for(var Y=0,G=N.length;Y<G;++Y){var ct=N[Y];if(h(V[0],ct[1])<0&&h(V[1],ct[0])>0){ct[0]=y(ct[0],V[0]),ct[1]=_(ct[1],V[1]);break}}return Y===G&&N.push(V),N}var k=g;function j(N,V){return k(N[0],V[0])}var S;try{S=s.reduce(C,[]),S.sort(j)}catch{return Me(this,Pr)}var D=0,A=R?function(N){return g(N,S[D][1])>0}:function(N){return g(N,S[D][1])>=0},I=x?function(N){return v(N,S[D][0])>0}:function(N){return v(N,S[D][0])>=0};function P(N){return!A(N)&&!I(N)}var L=A,F=new this.Collection(this,function(){return on(S[0][0],S[S.length-1][1],!x,!R)});return F._ondirectionchange=function(N){N==="next"?(L=A,k=g):(L=I,k=v),S.sort(j)},F._addAlgorithm(function(N,V,Y){for(var G=N.key;L(G);)if(++D,D===S.length)return V(Y),!1;return P(G)?!0:(f._cmp(G,S[D][1])===0||f._cmp(G,S[D][0])===0||V(function(){k===g?N.continue(S[D][0]):N.continue(S[D][1])}),!1)}),F},a.prototype.startsWithAnyOf=function(){var s=Xe.apply(Ge,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?Ei(this):this.inAnyRange(s.map(function(l){return[l,l+Wn]})):Me(this,"startsWithAnyOf() only works with strings")},a}();function j_(a){return Oo(Nh.prototype,function(l,f,h){if(this.db=a,this._ctx={table:l,index:f===":id"?null:f,or:h},this._cmp=this._ascending=Ct,this._descending=function(g,v){return Ct(v,g)},this._max=function(g,v){return Ct(g,v)>0?g:v},this._min=function(g,v){return Ct(g,v)<0?g:v},this._IDBKeyRange=a._deps.IDBKeyRange,!this._IDBKeyRange)throw new nt.MissingAPI})}function dr(a){return Bt(function(s){return Ao(s),a(s.target.error),!1})}function Ao(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Io="storagemutated",jl="x-storagemutated-1",an=Do(null,Io),z_=function(){function a(){}return a.prototype._lock=function(){return Ft(!tt.global),++this._reculock,this._reculock===1&&!tt.global&&(tt.lockOwnerFor=this),this},a.prototype._unlock=function(){if(Ft(!tt.global),--this._reculock===0)for(tt.global||(tt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var s=this._blockedFuncs.shift();try{Kn(s[1],s[0])}catch{}}return this},a.prototype._locked=function(){return this._reculock&&tt.lockOwnerFor!==this},a.prototype.create=function(s){var l=this;if(!this.mode)return this;var f=this.db.idbdb,h=this.db._state.dbOpenError;if(Ft(!this.idbtrans),!s&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new nt.DatabaseClosed(h);case"MissingAPIError":throw new nt.MissingAPI(h.message,h);default:throw new nt.OpenFailed(h)}if(!this.active)throw new nt.TransactionInactive;return Ft(this._completion._state===null),s=this.idbtrans=s||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):f.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),s.onerror=Bt(function(g){Ao(g),l._reject(s.error)}),s.onabort=Bt(function(g){Ao(g),l.active&&l._reject(new nt.Abort(s.error)),l.active=!1,l.on("abort").fire(g)}),s.oncomplete=Bt(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&an.storagemutated.fire(s.mutatedParts)}),this},a.prototype._promise=function(s,l,f){var h=this;if(s==="readwrite"&&this.mode!=="readwrite")return Ht(new nt.ReadOnly("Transaction is readonly"));if(!this.active)return Ht(new nt.TransactionInactive);if(this._locked())return new q(function(v,y){h._blockedFuncs.push([function(){h._promise(s,l,f).then(v,y)},tt])});if(f)return en(function(){var v=new q(function(y,_){h._lock();var x=l(y,_,h);x&&x.then&&x.then(y,_)});return v.finally(function(){return h._unlock()}),v._lib=!0,v});var g=new q(function(v,y){var _=l(v,y,h);_&&_.then&&_.then(v,y)});return g._lib=!0,g},a.prototype._root=function(){return this.parent?this.parent._root():this},a.prototype.waitFor=function(s){var l=this._root(),f=q.resolve(s);if(l._waitingFor)l._waitingFor=l._waitingFor.then(function(){return f});else{l._waitingFor=f,l._waitingQueue=[];var h=l.idbtrans.objectStore(l.storeNames[0]);(function v(){for(++l._spinCount;l._waitingQueue.length;)l._waitingQueue.shift()();l._waitingFor&&(h.get(-1/0).onsuccess=v)})()}var g=l._waitingFor;return new q(function(v,y){f.then(function(_){return l._waitingQueue.push(Bt(v.bind(null,_)))},function(_){return l._waitingQueue.push(Bt(y.bind(null,_)))}).finally(function(){l._waitingFor===g&&(l._waitingFor=null)})})},a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new nt.Abort))},a.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(p(l,s))return l[s];var f=this.schema[s];if(!f)throw new nt.NotFound("Table "+s+" not part of transaction");var h=new this.db.Table(s,f,this);return h.core=this.db.core.table(s),l[s]=h,h},a}();function U_(a){return Oo(z_.prototype,function(l,f,h,g,v){var y=this;this.db=a,this.mode=l,this.storeNames=f,this.schema=h,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=Do(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q(function(_,x){y._resolve=_,y._reject=x}),this._completion.then(function(){y.active=!1,y.on.complete.fire()},function(_){var x=y.active;return y.active=!1,y.on.error.fire(_),y.parent?y.parent._reject(_):x&&y.idbtrans&&y.idbtrans.abort(),Ht(_)})})}function zl(a,s,l,f,h,g,v){return{name:a,keyPath:s,unique:l,multi:f,auto:h,compound:g,src:(l&&!v?"&":"")+(f?"*":"")+(h?"++":"")+Lh(s)}}function Lh(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Ul(a,s,l){return{name:a,primKey:s,indexes:l,mappedClass:null,idxByName:Pt(l,function(f){return[f.name,f]})}}function V_(a){return a.length===1?a[0]:a}var Mo=function(a){try{return a.only([[]]),Mo=function(){return[[]]},[[]]}catch{return Mo=function(){return Wn},Wn}};function Vl(a){return a==null?function(){}:typeof a=="string"?K_(a):function(s){return bt(s,a)}}function K_(a){var s=a.split(".");return s.length===1?function(l){return l[a]}:function(l){return bt(l,a)}}function $h(a){return[].slice.call(a)}var W_=0;function To(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function H_(a,s,l){function f(C,k){var j=$h(C.objectStoreNames);return{schema:{name:C.name,tables:j.map(function(S){return k.objectStore(S)}).map(function(S){var D=S.keyPath,A=S.autoIncrement,I=c(D),P=D==null,L={},F={name:S.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P,compound:I,keyPath:D,autoIncrement:A,unique:!0,extractKey:Vl(D)},indexes:$h(S.indexNames).map(function(N){return S.index(N)}).map(function(N){var V=N.name,Y=N.unique,G=N.multiEntry,ct=N.keyPath,J=c(ct),at={name:V,compound:J,keyPath:ct,unique:Y,multiEntry:G,extractKey:Vl(ct)};return L[To(ct)]=at,at}),getIndexByKeyPath:function(N){return L[To(N)]}};return L[":id"]=F.primaryKey,D!=null&&(L[To(D)]=F.primaryKey),F})},hasGetAll:j.length>0&&"getAll"in k.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function h(C){if(C.type===3)return null;if(C.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var k=C.lower,j=C.upper,S=C.lowerOpen,D=C.upperOpen,A=k===void 0?j===void 0?null:s.upperBound(j,!!D):j===void 0?s.lowerBound(k,!!S):s.bound(k,j,!!S,!!D);return A}function g(C){var k=C.name;function j(A){var I=A.trans,P=A.type,L=A.keys,F=A.values,N=A.range;return new Promise(function(V,Y){V=Bt(V);var G=I.objectStore(k),ct=G.keyPath==null,J=P==="put"||P==="add";if(!J&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var at=(L||F||{length:1}).length;if(L&&F&&L.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(at===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});var _t,ut=[],It=[],st=0,ne=function(hr){++st,Ao(hr)};if(P==="deleteRange"){if(N.type===4)return V({numFailures:st,failures:It,results:[],lastResult:void 0});N.type===3?ut.push(_t=G.clear()):ut.push(_t=G.delete(h(N)))}else{var Ze=J?ct?[F,L]:[F,null]:[L,null],ln=Ze[0],fr=Ze[1];if(J)for(var Ve=0;Ve<at;++Ve)ut.push(_t=fr&&fr[Ve]!==void 0?G[P](ln[Ve],fr[Ve]):G[P](ln[Ve])),_t.onerror=ne;else for(var Ve=0;Ve<at;++Ve)ut.push(_t=G[P](ln[Ve])),_t.onerror=ne}var un=function(hr){var Lo=hr.target.result;ut.forEach(function(Je,gs){return Je.error!=null&&(It[gs]=Je.error)}),V({numFailures:st,failures:It,results:P==="delete"?L:ut.map(function(Je){return Je.result}),lastResult:Lo})};_t.onerror=function(hr){ne(hr),un(hr)},_t.onsuccess=un})}function S(A){var I=A.trans,P=A.values,L=A.query,F=A.reverse,N=A.unique;return new Promise(function(V,Y){V=Bt(V);var G=L.index,ct=L.range,J=I.objectStore(k),at=G.isPrimaryKey?J:J.index(G.name),_t=F?N?"prevunique":"prev":N?"nextunique":"next",ut=P||!("openKeyCursor"in at)?at.openCursor(h(ct),_t):at.openKeyCursor(h(ct),_t);ut.onerror=dr(Y),ut.onsuccess=Bt(function(It){var st=ut.result;if(!st){V(null);return}st.___id=++W_,st.done=!1;var ne=st.continue.bind(st),Ze=st.continuePrimaryKey;Ze&&(Ze=Ze.bind(st));var ln=st.advance.bind(st),fr=function(){throw new Error("Cursor not started")},Ve=function(){throw new Error("Cursor not stopped")};st.trans=I,st.stop=st.continue=st.continuePrimaryKey=st.advance=fr,st.fail=Bt(Y),st.next=function(){var un=this,hr=1;return this.start(function(){return hr--?un.continue():un.stop()}).then(function(){return un})},st.start=function(un){var hr=new Promise(function(Je,gs){Je=Bt(Je),ut.onerror=dr(gs),st.fail=gs,st.stop=function(Tx){st.stop=st.continue=st.continuePrimaryKey=st.advance=Ve,Je(Tx)}}),Lo=function(){if(ut.result)try{un()}catch(Je){st.fail(Je)}else st.done=!0,st.start=function(){throw new Error("Cursor behind last entry")},st.stop()};return ut.onsuccess=Bt(function(Je){ut.onsuccess=Lo,Lo()}),st.continue=ne,st.continuePrimaryKey=Ze,st.advance=ln,Lo(),hr},V(st)},Y)})}function D(A){return function(I){return new Promise(function(P,L){P=Bt(P);var F=I.trans,N=I.values,V=I.limit,Y=I.query,G=V===1/0?void 0:V,ct=Y.index,J=Y.range,at=F.objectStore(k),_t=ct.isPrimaryKey?at:at.index(ct.name),ut=h(J);if(V===0)return P({result:[]});if(A){var It=N?_t.getAll(ut,G):_t.getAllKeys(ut,G);It.onsuccess=function(ln){return P({result:ln.target.result})},It.onerror=dr(L)}else{var st=0,ne=N||!("openKeyCursor"in _t)?_t.openCursor(ut):_t.openKeyCursor(ut),Ze=[];ne.onsuccess=function(ln){var fr=ne.result;if(!fr)return P({result:Ze});if(Ze.push(N?fr.value:fr.primaryKey),++st===V)return P({result:Ze});fr.continue()},ne.onerror=dr(L)}})}}return{name:k,schema:C,mutate:j,getMany:function(A){var I=A.trans,P=A.keys;return new Promise(function(L,F){L=Bt(L);for(var N=I.objectStore(k),V=P.length,Y=new Array(V),G=0,ct=0,J,at=function(st){var ne=st.target;(Y[ne._pos]=ne.result)!=null,++ct===G&&L(Y)},_t=dr(F),ut=0;ut<V;++ut){var It=P[ut];It!=null&&(J=N.get(P[ut]),J._pos=ut,J.onsuccess=at,J.onerror=_t,++G)}G===0&&L(Y)})},get:function(A){var I=A.trans,P=A.key;return new Promise(function(L,F){L=Bt(L);var N=I.objectStore(k),V=N.get(P);V.onsuccess=function(Y){return L(Y.target.result)},V.onerror=dr(F)})},query:D(_),openCursor:S,count:function(A){var I=A.query,P=A.trans,L=I.index,F=I.range;return new Promise(function(N,V){var Y=P.objectStore(k),G=L.isPrimaryKey?Y:Y.index(L.name),ct=h(F),J=ct?G.count(ct):G.count();J.onsuccess=Bt(function(at){return N(at.target.result)}),J.onerror=dr(V)})}}}var v=f(a,l),y=v.schema,_=v.hasGetAll,x=y.tables.map(function(C){return g(C)}),R={};return x.forEach(function(C){return R[C.name]=C}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(C){var k=R[C];if(!k)throw new Error("Table '".concat(C,"' not found"));return R[C]},MIN_KEY:-1/0,MAX_KEY:Mo(s),schema:y}}function q_(a,s){return s.reduce(function(l,f){var h=f.create;return e(e({},l),h(l))},a)}function Q_(a,s,l,f){var h=l.IDBKeyRange;l.indexedDB;var g=q_(H_(s,h,f),a.dbcore);return{dbcore:g}}function os(a,s){var l=s.db,f=Q_(a._middlewares,l,a._deps,s);a.core=f.dbcore,a.tables.forEach(function(h){var g=h.name;a.core.schema.tables.some(function(v){return v.name===g})&&(h.core=a.core.table(g),a[g]instanceof a.Table&&(a[g].core=h.core))})}function as(a,s,l,f){l.forEach(function(h){var g=f[h];s.forEach(function(v){var y=W(v,h);(!y||"value"in y&&y.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?E(v,h,{get:function(){return this.table(h)},set:function(_){w(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new a.Table(h,g))})})}function Kl(a,s){s.forEach(function(l){for(var f in l)l[f]instanceof a.Table&&delete l[f]})}function Y_(a,s){return a._cfg.version-s._cfg.version}function G_(a,s,l,f){var h=a._dbSchema;l.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Ul("$meta",Bh("")[0],[]),a._storeNames.push("$meta"));var g=a._createTransaction("readwrite",a._storeNames,h);g.create(l),g._completion.catch(f);var v=g._reject.bind(g),y=tt.transless||tt;en(function(){if(tt.trans=g,tt.transless=y,s===0)o(h).forEach(function(_){Hl(l,_,h[_].primKey,h[_].indexes)}),os(a,l),q.follow(function(){return a.on.populate.fire(g)}).catch(v);else return os(a,l),Z_(a,g,s).then(function(_){return J_(a,_,g,l)}).catch(v)})}function X_(a,s){Fh(a._dbSchema,s),s.db.version%10===0&&!s.objectStoreNames.contains("$meta")&&s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var l=cs(a,a.idbdb,s);ls(a,a._dbSchema,s);for(var f=Wl(l,a._dbSchema),h=function(x){if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=s.objectStore(x.name);x.add.forEach(function(C){ur&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(C.src)),ss(R,C)})},g=0,v=f.change;g<v.length;g++){var y=v[g],_=h(y);if(typeof _=="object")return _.value}}function Z_(a,s,l){return s.storeNames.includes("$meta")?s.table("$meta").get("version").then(function(f){return f??l}):q.resolve(l)}function J_(a,s,l,f){var h=[],g=a._versions,v=a._dbSchema=cs(a,a.idbdb,f),y=g.filter(function(x){return x._cfg.version>=s});if(y.length===0)return q.resolve();y.forEach(function(x){h.push(function(){var R=v,C=x._cfg.dbschema;ls(a,R,f),ls(a,C,f),v=a._dbSchema=C;var k=Wl(R,C);k.add.forEach(function(P){Hl(f,P[0],P[1].primKey,P[1].indexes)}),k.change.forEach(function(P){if(P.recreate)throw new nt.Upgrade("Not yet support for changing primary key");var L=f.objectStore(P.name);P.add.forEach(function(F){return ss(L,F)}),P.change.forEach(function(F){L.deleteIndex(F.name),ss(L,F)}),P.del.forEach(function(F){return L.deleteIndex(F)})});var j=x._cfg.contentUpgrade;if(j&&x._cfg.version>s){os(a,f),l._memoizedTables={};var S=lr(C);k.del.forEach(function(P){S[P]=R[P]}),Kl(a,[a.Transaction.prototype]),as(a,[a.Transaction.prototype],o(S),S),l.schema=S;var D=_l(j);D&&wi();var A,I=q.follow(function(){if(A=j(l),A&&D){var P=rn.bind(null,null);A.then(P,P)}});return A&&typeof A.then=="function"?q.resolve(A):I.then(function(){return A})}}),h.push(function(R){var C=x._cfg.dbschema;tx(C,R),Kl(a,[a.Transaction.prototype]),as(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),l.schema=a._dbSchema}),h.push(function(R){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===x._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(C){return C!=="$meta"})):R.objectStore("$meta").put(x._cfg.version,"version"))})});function _(){return h.length?q.resolve(h.shift()(l.idbtrans)).then(_):q.resolve()}return _().then(function(){Fh(v,f)})}function Wl(a,s){var l={del:[],add:[],change:[]},f;for(f in a)s[f]||l.del.push(f);for(f in s){var h=a[f],g=s[f];if(!h)l.add.push([f,g]);else{var v={name:f,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,l.change.push(v);else{var y=h.idxByName,_=g.idxByName,x=void 0;for(x in y)_[x]||v.del.push(x);for(x in _){var R=y[x],C=_[x];R?R.src!==C.src&&v.change.push(C):v.add.push(C)}(v.del.length>0||v.add.length>0||v.change.length>0)&&l.change.push(v)}}}return l}function Hl(a,s,l,f){var h=a.db.createObjectStore(s,l.keyPath?{keyPath:l.keyPath,autoIncrement:l.auto}:{autoIncrement:l.auto});return f.forEach(function(g){return ss(h,g)}),h}function Fh(a,s){o(a).forEach(function(l){s.db.objectStoreNames.contains(l)||(ur&&console.debug("Dexie: Creating missing table",l),Hl(s,l,a[l].primKey,a[l].indexes))})}function tx(a,s){[].slice.call(s.db.objectStoreNames).forEach(function(l){return a[l]==null&&s.db.deleteObjectStore(l)})}function ss(a,s){a.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function cs(a,s,l){var f={},h=ot(s.objectStoreNames,0);return h.forEach(function(g){for(var v=l.objectStore(g),y=v.keyPath,_=zl(Lh(y),y||"",!0,!1,!!v.autoIncrement,y&&typeof y!="string",!0),x=[],R=0;R<v.indexNames.length;++R){var C=v.index(v.indexNames[R]);y=C.keyPath;var k=zl(C.name,y,!!C.unique,!!C.multiEntry,!1,y&&typeof y!="string",!1);x.push(k)}f[g]=Ul(g,_,x)}),f}function ex(a,s,l){a.verno=s.version/10;var f=a._dbSchema=cs(a,s,l);a._storeNames=ot(s.objectStoreNames,0),as(a,[a._allTables],o(f),f)}function rx(a,s){var l=cs(a,a.idbdb,s),f=Wl(l,a._dbSchema);return!(f.add.length||f.change.some(function(h){return h.add.length||h.change.length}))}function ls(a,s,l){for(var f=l.db.objectStoreNames,h=0;h<f.length;++h){var g=f[h],v=l.objectStore(g);a._hasGetAll="getAll"in v;for(var y=0;y<v.indexNames.length;++y){var _=v.indexNames[y],x=v.index(_).keyPath,R=typeof x=="string"?x:"["+ot(x).join("+")+"]";if(s[g]){var C=s[g].idxByName[R];C&&(C.name=_,delete s[g].idxByName[R],s[g].idxByName[_]=C)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Bh(a){return a.split(",").map(function(s,l){s=s.trim();var f=s.replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return zl(f,h||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),c(h),l===0)})}var nx=function(){function a(){}return a.prototype._parseStoresSpec=function(s,l){o(s).forEach(function(f){if(s[f]!==null){var h=Bh(s[f]),g=h.shift();if(g.unique=!0,g.multi)throw new nt.Schema("Primary key cannot be multi-valued");h.forEach(function(v){if(v.auto)throw new nt.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new nt.Schema("Index must have a name and cannot be an empty string")}),l[f]=Ul(f,g,h)}})},a.prototype.stores=function(s){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,s):s;var f=l._versions,h={},g={};return f.forEach(function(v){u(h,v._cfg.storesSource),g=v._cfg.dbschema={},v._parseStoresSpec(h,g)}),l._dbSchema=g,Kl(l,[l._allTables,l,l.Transaction.prototype]),as(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],o(g),g),l._storeNames=o(g),this},a.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Cl(this._cfg.contentUpgrade||At,s),this},a}();function ix(a){return Oo(nx.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ql(a,s){var l=a._dbNamesDB;return l||(l=a._dbNamesDB=new Nr(ts,{addons:[],indexedDB:a,IDBKeyRange:s}),l.version(1).stores({dbnames:"name"})),l.table("dbnames")}function Ql(a){return a&&typeof a.databases=="function"}function ox(a){var s=a.indexedDB,l=a.IDBKeyRange;return Ql(s)?Promise.resolve(s.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==ts})}):ql(s,l).toCollection().primaryKeys()}function ax(a,s){var l=a.indexedDB,f=a.IDBKeyRange;!Ql(l)&&s!==ts&&ql(l,f).put({name:s}).catch(At)}function sx(a,s){var l=a.indexedDB,f=a.IDBKeyRange;!Ql(l)&&s!==ts&&ql(l,f).delete(s).catch(At)}function Yl(a){return en(function(){return tt.letThrough=!0,a()})}function cx(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var s;return new Promise(function(l){var f=function(){return indexedDB.databases().finally(l)};s=setInterval(f,100),f()}).finally(function(){return clearInterval(s)})}var Gl;function Xl(a){return!("from"in a)}var ye=function(a,s){if(this)u(this,arguments.length?{d:1,from:a,to:arguments.length>1?s:a}:{d:0});else{var l=new ye;return a&&"d"in a&&u(l,a),l}};b(ye.prototype,(Gl={add:function(a){return No(this,a),this},addKey:function(a){return Po(this,a,a),this},addKeys:function(a){var s=this;return a.forEach(function(l){return Po(s,l,l)}),this},hasKey:function(a){var s=us(this).next(a).value;return s&&Ct(s.from,a)<=0&&Ct(s.to,a)>=0}},Gl[xo]=function(){return us(this)},Gl));function Po(a,s,l){var f=Ct(s,l);if(!isNaN(f)){if(f>0)throw RangeError();if(Xl(a))return u(a,{from:s,to:l,d:1});var h=a.l,g=a.r;if(Ct(l,a.from)<0)return h?Po(h,s,l):a.l={from:s,to:l,d:1,l:null,r:null},zh(a);if(Ct(s,a.to)>0)return g?Po(g,s,l):a.r={from:s,to:l,d:1,l:null,r:null},zh(a);Ct(s,a.from)<0&&(a.from=s,a.l=null,a.d=g?g.d+1:1),Ct(l,a.to)>0&&(a.to=l,a.r=null,a.d=a.l?a.l.d+1:1);var v=!a.r;h&&!a.l&&No(a,h),g&&v&&No(a,g)}}function No(a,s){function l(f,h){var g=h.from,v=h.to,y=h.l,_=h.r;Po(f,g,v),y&&l(f,y),_&&l(f,_)}Xl(s)||l(a,s)}function jh(a,s){var l=us(s),f=l.next();if(f.done)return!1;for(var h=f.value,g=us(a),v=g.next(h.from),y=v.value;!f.done&&!v.done;){if(Ct(y.from,h.to)<=0&&Ct(y.to,h.from)>=0)return!0;Ct(h.from,y.from)<0?h=(f=l.next(y.from)).value:y=(v=g.next(h.from)).value}return!1}function us(a){var s=Xl(a)?null:{s:0,n:a};return{next:function(l){for(var f=arguments.length>0;s;)switch(s.s){case 0:if(s.s=1,f)for(;s.n.l&&Ct(l,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!f||Ct(l,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function zh(a){var s,l,f=(((s=a.r)===null||s===void 0?void 0:s.d)||0)-(((l=a.l)===null||l===void 0?void 0:l.d)||0),h=f>1?"r":f<-1?"l":"";if(h){var g=h==="r"?"l":"r",v=e({},a),y=a[h];a.from=y.from,a.to=y.to,a[h]=y[h],v[h]=y[g],a[g]=v,v.d=Uh(v)}a.d=Uh(a)}function Uh(a){var s=a.r,l=a.l;return(s?l?Math.max(s.d,l.d):s.d:l?l.d:0)+1}function ds(a,s){return o(s).forEach(function(l){a[l]?No(a[l],s[l]):a[l]=Va(s[l])}),a}function Zl(a,s){return a.all||s.all||Object.keys(a).some(function(l){return s[l]&&jh(s[l],a[l])})}var qn={},Jl={},tu=!1;function fs(a,s){ds(Jl,a),tu||(tu=!0,setTimeout(function(){tu=!1;var l=Jl;Jl={},eu(l,!1)},0))}function eu(a,s){s===void 0&&(s=!1);var l=new Set;if(a.all)for(var f=0,h=Object.values(qn);f<h.length;f++){var g=h[f];Vh(g,a,l,s)}else for(var v in a){var y=/^idb\:\/\/(.*)\/(.*)\//.exec(v);if(y){var _=y[1],x=y[2],g=qn["idb://".concat(_,"/").concat(x)];g&&Vh(g,a,l,s)}}l.forEach(function(R){return R()})}function Vh(a,s,l,f){for(var h=[],g=0,v=Object.entries(a.queries.query);g<v.length;g++){for(var y=v[g],_=y[0],x=y[1],R=[],C=0,k=x;C<k.length;C++){var j=k[C];Zl(s,j.obsSet)?j.subscribers.forEach(function(I){return l.add(I)}):f&&R.push(j)}f&&h.push([_,R])}if(f)for(var S=0,D=h;S<D.length;S++){var A=D[S],_=A[0],R=A[1];a.queries.query[_]=R}}function lx(a){var s=a._state,l=a._deps.indexedDB;if(s.isBeingOpened||a.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?Ht(s.dbOpenError):a});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var f=s.openCanceller,h=Math.round(a.verno*10),g=!1;function v(){if(s.openCanceller!==f)throw new nt.DatabaseClosed("db.open() was cancelled")}var y=s.dbReadyResolve,_=null,x=!1,R=function(){return new q(function(C,k){if(v(),!l)throw new nt.MissingAPI;var j=a.name,S=s.autoSchema||!h?l.open(j):l.open(j,h);if(!S)throw new nt.MissingAPI;S.onerror=dr(k),S.onblocked=Bt(a._fireOnBlocked),S.onupgradeneeded=Bt(function(D){if(_=S.transaction,s.autoSchema&&!a._options.allowEmptyDB){S.onerror=Ao,_.abort(),S.result.close();var A=l.deleteDatabase(j);A.onsuccess=A.onerror=Bt(function(){k(new nt.NoSuchDatabase("Database ".concat(j," doesnt exist")))})}else{_.onerror=dr(k);var I=D.oldVersion>Math.pow(2,62)?0:D.oldVersion;x=I<1,a.idbdb=S.result,g&&X_(a,_),G_(a,I/10,_,k)}},k),S.onsuccess=Bt(function(){_=null;var D=a.idbdb=S.result,A=ot(D.objectStoreNames);if(A.length>0)try{var I=D.transaction(V_(A),"readonly");if(s.autoSchema)ex(a,D,I);else if(ls(a,a._dbSchema,I),!rx(a,I)&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),D.close(),h=D.version+1,g=!0,C(R());os(a,I)}catch{}Ci.push(a),D.onversionchange=Bt(function(P){s.vcFired=!0,a.on("versionchange").fire(P)}),D.onclose=Bt(function(P){a.on("close").fire(P)}),x&&ax(a._deps,j),C()},k)}).catch(function(C){switch(C?.name){case"UnknownError":if(s.PR1398_maxLoop>0)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(h>0)return h=0,R();break}return q.reject(C)})};return q.race([f,(typeof navigator>"u"?q.resolve():cx()).then(R)]).then(function(){return v(),s.onReadyBeingFired=[],q.resolve(Yl(function(){return a.on.ready.fire(a.vip)})).then(function C(){if(s.onReadyBeingFired.length>0){var k=s.onReadyBeingFired.reduce(Cl,At);return s.onReadyBeingFired=[],q.resolve(Yl(function(){return k(a.vip)})).then(C)}})}).finally(function(){s.openCanceller===f&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(C){s.dbOpenError=C;try{_&&_.abort()}catch{}return f===s.openCanceller&&a._close(),Ht(C)}).finally(function(){s.openComplete=!0,y()}).then(function(){if(x){var C={};a.tables.forEach(function(k){k.schema.indexes.forEach(function(j){j.name&&(C["idb://".concat(a.name,"/").concat(k.name,"/").concat(j.name)]=new ye(-1/0,[[[]]]))}),C["idb://".concat(a.name,"/").concat(k.name,"/")]=C["idb://".concat(a.name,"/").concat(k.name,"/:dels")]=new ye(-1/0,[[[]]])}),an(Io).fire(C),eu(C,!0)}return a})}function ru(a){var s=function(v){return a.next(v)},l=function(v){return a.throw(v)},f=g(s),h=g(l);function g(v){return function(y){var _=v(y),x=_.value;return _.done?x:!x||typeof x.then!="function"?c(x)?Promise.all(x).then(f,h):f(x):x.then(f,h)}}return g(s)()}function ux(a,s,l){var f=arguments.length;if(f<2)throw new nt.InvalidArgument("Too few arguments");for(var h=new Array(f-1);--f;)h[f-1]=arguments[f];l=h.pop();var g=Xr(h);return[a,g,l]}function Kh(a,s,l,f,h){return q.resolve().then(function(){var g=tt.transless||tt,v=a._createTransaction(s,l,a._dbSchema,f);v.explicit=!0;var y={trans:v,transless:g};if(f)v.idbtrans=f.idbtrans;else try{v.create(),v.idbtrans._explicit=!0,a._state.PR1398_maxLoop=3}catch(C){return C.name===wl.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),a.close({disableAutoOpen:!1}),a.open().then(function(){return Kh(a,s,l,null,h)})):Ht(C)}var _=_l(h);_&&wi();var x,R=q.follow(function(){if(x=h.call(v,v),x)if(_){var C=rn.bind(null,null);x.then(C,C)}else typeof x.next=="function"&&typeof x.throw=="function"&&(x=ru(x))},y);return(x&&typeof x.then=="function"?q.resolve(x).then(function(C){return v.active?C:Ht(new nt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return x})).then(function(C){return f&&v._resolve(),v._completion.then(function(){return C})}).catch(function(C){return v._reject(C),Ht(C)})})}function hs(a,s,l){for(var f=c(a)?a.slice():[a],h=0;h<l;++h)f.push(s);return f}function dx(a){return e(e({},a),{table:function(s){var l=a.table(s),f=l.schema,h={},g=[];function v(D,A,I){var P=To(D),L=h[P]=h[P]||[],F=D==null?0:typeof D=="string"?1:D.length,N=A>0,V=e(e({},I),{name:N?"".concat(P,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:N,keyTail:A,keyLength:F,extractKey:Vl(D),unique:!N&&I.unique});if(L.push(V),V.isPrimaryKey||g.push(V),F>1){var Y=F===2?D[0]:D.slice(0,F-1);v(Y,A+1,I)}return L.sort(function(G,ct){return G.keyTail-ct.keyTail}),V}var y=v(f.primaryKey.keyPath,0,f.primaryKey);h[":id"]=[y];for(var _=0,x=f.indexes;_<x.length;_++){var R=x[_];v(R.keyPath,0,R)}function C(D){var A=h[To(D)];return A&&A[0]}function k(D,A){return{type:D.type===1?2:D.type,lower:hs(D.lower,D.lowerOpen?a.MAX_KEY:a.MIN_KEY,A),lowerOpen:!0,upper:hs(D.upper,D.upperOpen?a.MIN_KEY:a.MAX_KEY,A),upperOpen:!0}}function j(D){var A=D.query.index;return A.isVirtual?e(e({},D),{query:{index:A.lowLevelIndex,range:k(D.query.range,A.keyTail)}}):D}var S=e(e({},l),{schema:e(e({},f),{primaryKey:y,indexes:g,getIndexByKeyPath:C}),count:function(D){return l.count(j(D))},query:function(D){return l.query(j(D))},openCursor:function(D){var A=D.query.index,I=A.keyTail,P=A.isVirtual,L=A.keyLength;if(!P)return l.openCursor(D);function F(N){function V(G){G!=null?N.continue(hs(G,D.reverse?a.MAX_KEY:a.MIN_KEY,I)):D.unique?N.continue(N.key.slice(0,L).concat(D.reverse?a.MIN_KEY:a.MAX_KEY,I)):N.continue()}var Y=Object.create(N,{continue:{value:V},continuePrimaryKey:{value:function(G,ct){N.continuePrimaryKey(hs(G,a.MAX_KEY,I),ct)}},primaryKey:{get:function(){return N.primaryKey}},key:{get:function(){var G=N.key;return L===1?G[0]:G.slice(0,L)}},value:{get:function(){return N.value}}});return Y}return l.openCursor(j(D)).then(function(N){return N&&F(N)})}});return S}})}var fx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:dx};function nu(a,s,l,f){return l=l||{},f=f||"",o(a).forEach(function(h){if(!p(s,h))l[f+h]=void 0;else{var g=a[h],v=s[h];if(typeof g=="object"&&typeof v=="object"&&g&&v){var y=Jr(g),_=Jr(v);y!==_?l[f+h]=s[h]:y==="Object"?nu(g,v,l,f+h+"."):g!==v&&(l[f+h]=s[h])}else g!==v&&(l[f+h]=s[h])}}),o(s).forEach(function(h){p(a,h)||(l[f+h]=s[h])}),l}function iu(a,s){return s.type==="delete"?s.keys:s.keys||s.values.map(a.extractKey)}var hx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return e(e({},a),{table:function(s){var l=a.table(s),f=l.schema.primaryKey,h=e(e({},l),{mutate:function(g){var v=tt.trans,y=v.table(s).hook,_=y.deleting,x=y.creating,R=y.updating;switch(g.type){case"add":if(x.fire===At)break;return v._promise("readwrite",function(){return C(g)},!0);case"put":if(x.fire===At&&R.fire===At)break;return v._promise("readwrite",function(){return C(g)},!0);case"delete":if(_.fire===At)break;return v._promise("readwrite",function(){return C(g)},!0);case"deleteRange":if(_.fire===At)break;return v._promise("readwrite",function(){return k(g)},!0)}return l.mutate(g);function C(S){var D=tt.trans,A=S.keys||iu(f,S);if(!A)throw new Error("Keys missing");return S=S.type==="add"||S.type==="put"?e(e({},S),{keys:A}):e({},S),S.type!=="delete"&&(S.values=n([],S.values,!0)),S.keys&&(S.keys=n([],S.keys,!0)),mx(l,S,A).then(function(I){var P=A.map(function(L,F){var N=I[F],V={onerror:null,onsuccess:null};if(S.type==="delete")_.fire.call(V,L,N,D);else if(S.type==="add"||N===void 0){var Y=x.fire.call(V,L,S.values[F],D);L==null&&Y!=null&&(L=Y,S.keys[F]=L,f.outbound||xt(S.values[F],f.keyPath,L))}else{var G=nu(N,S.values[F]),ct=R.fire.call(V,G,L,N,D);if(ct){var J=S.values[F];Object.keys(ct).forEach(function(at){p(J,at)?J[at]=ct[at]:xt(J,at,ct[at])})}}return V});return l.mutate(S).then(function(L){for(var F=L.failures,N=L.results,V=L.numFailures,Y=L.lastResult,G=0;G<A.length;++G){var ct=N?N[G]:A[G],J=P[G];ct==null?J.onerror&&J.onerror(F[G]):J.onsuccess&&J.onsuccess(S.type==="put"&&I[G]?S.values[G]:ct)}return{failures:F,results:N,numFailures:V,lastResult:Y}}).catch(function(L){return P.forEach(function(F){return F.onerror&&F.onerror(L)}),Promise.reject(L)})})}function k(S){return j(S.trans,S.range,1e4)}function j(S,D,A){return l.query({trans:S,values:!1,query:{index:f,range:D},limit:A}).then(function(I){var P=I.result;return C({type:"delete",keys:P,trans:S}).then(function(L){return L.numFailures>0?Promise.reject(L.failures[0]):P.length<A?{failures:[],numFailures:0,lastResult:void 0}:j(S,e(e({},D),{lower:P[P.length-1],lowerOpen:!0}),A)})})}}});return h}})}};function mx(a,s,l){return s.type==="add"?Promise.resolve([]):a.getMany({trans:s.trans,keys:l,cache:"immutable"})}function Wh(a,s,l){try{if(!s||s.keys.length<a.length)return null;for(var f=[],h=0,g=0;h<s.keys.length&&g<a.length;++h)Ct(s.keys[h],a[g])===0&&(f.push(l?Ue(s.values[h]):s.values[h]),++g);return f.length===a.length?f:null}catch{return null}}var px={stack:"dbcore",level:-1,create:function(a){return{table:function(s){var l=a.table(s);return e(e({},l),{getMany:function(f){if(!f.cache)return l.getMany(f);var h=Wh(f.keys,f.trans._cache,f.cache==="clone");return h?q.resolve(h):l.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Ue(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),l.mutate(f)}})}}}};function Hh(a,s){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function qh(a,s){switch(a){case"query":return s.values&&!s.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var gx={stack:"dbcore",level:0,name:"Observability",create:function(a){var s=a.schema.name,l=new ye(a.MIN_KEY,a.MAX_KEY);return e(e({},a),{transaction:function(f,h,g){if(tt.subscr&&h!=="readonly")throw new nt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(tt.querier));return a.transaction(f,h,g)},table:function(f){var h=a.table(f),g=h.schema,v=g.primaryKey,y=g.indexes,_=v.extractKey,x=v.outbound,R=v.autoIncrement&&y.filter(function(S){return S.compound&&S.keyPath.includes(v.keyPath)}),C=e(e({},h),{mutate:function(S){var D=S.trans,A=S.mutatedParts||(S.mutatedParts={}),I=function(at){var _t="idb://".concat(s,"/").concat(f,"/").concat(at);return A[_t]||(A[_t]=new ye)},P=I(""),L=I(":dels"),F=S.type,N=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[iu(v,S).filter(function(at){return at}),S.values]:[],V=N[0],Y=N[1],G=S.trans._cache;if(c(V)){P.addKeys(V);var ct=F==="delete"||V.length===Y.length?Wh(V,G):null;ct||L.addKeys(V),(ct||Y)&&vx(I,g,ct,Y)}else if(V){var J={from:V.lower,to:V.upper};L.add(J),P.add(J)}else P.add(l),L.add(l),g.indexes.forEach(function(at){return I(at.name).add(l)});return h.mutate(S).then(function(at){return V&&(S.type==="add"||S.type==="put")&&(P.addKeys(at.results),R&&R.forEach(function(_t){var ut=S.values.map(function(st){return _t.extractKey(st)}),It=_t.keyPath.findIndex(function(st){return st===v.keyPath});at.results.forEach(function(st){return ut[It]=st}),I(_t.name).addKeys(ut)})),D.mutatedParts=ds(D.mutatedParts||{},A),at})}}),k=function(S){var D,A,I=S.query,P=I.index,L=I.range;return[P,new ye((D=L.lower)!==null&&D!==void 0?D:a.MIN_KEY,(A=L.upper)!==null&&A!==void 0?A:a.MAX_KEY)]},j={get:function(S){return[v,new ye(S.key)]},getMany:function(S){return[v,new ye().addKeys(S.keys)]},count:k,query:k,openCursor:k};return o(j).forEach(function(S){C[S]=function(D){var A=tt.subscr,I=!!A,P=Hh(tt,h)&&qh(S,D),L=P?D.obsSet={}:A;if(I){var F=function(at){var _t="idb://".concat(s,"/").concat(f,"/").concat(at);return L[_t]||(L[_t]=new ye)},N=F(""),V=F(":dels"),Y=j[S](D),G=Y[0],ct=Y[1];if(S==="query"&&G.isPrimaryKey&&!D.values?V.add(ct):F(G.name||"").add(ct),!G.isPrimaryKey)if(S==="count")V.add(l);else{var J=S==="query"&&x&&D.values&&h.query(e(e({},D),{values:!1}));return h[S].apply(this,arguments).then(function(at){if(S==="query"){if(x&&D.values)return J.then(function(st){var ne=st.result;return N.addKeys(ne),at});var _t=D.values?at.result.map(_):at.result;D.values?N.addKeys(_t):V.addKeys(_t)}else if(S==="openCursor"){var ut=at,It=D.values;return ut&&Object.create(ut,{key:{get:function(){return V.addKey(ut.primaryKey),ut.key}},primaryKey:{get:function(){var st=ut.primaryKey;return V.addKey(st),st}},value:{get:function(){return It&&N.addKey(ut.primaryKey),ut.value}}})}return at})}}return h[S].apply(this,arguments)}}),C}})}};function vx(a,s,l,f){function h(g){var v=a(g.name||"");function y(x){return x!=null?g.extractKey(x):null}var _=function(x){return g.multiEntry&&c(x)?x.forEach(function(R){return v.addKey(R)}):v.addKey(x)};(l||f).forEach(function(x,R){var C=l&&y(l[R]),k=f&&y(f[R]);Ct(C,k)!==0&&(C!=null&&_(C),k!=null&&_(k))})}s.indexes.forEach(h)}function Qh(a,s,l){if(l.numFailures===0)return s;if(s.type==="deleteRange")return null;var f=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;if(l.numFailures===f)return null;var h=e({},s);return c(h.keys)&&(h.keys=h.keys.filter(function(g,v){return!(v in l.failures)})),"values"in h&&c(h.values)&&(h.values=h.values.filter(function(g,v){return!(v in l.failures)})),h}function bx(a,s){return s.lower===void 0?!0:s.lowerOpen?Ct(a,s.lower)>0:Ct(a,s.lower)>=0}function yx(a,s){return s.upper===void 0?!0:s.upperOpen?Ct(a,s.upper)<0:Ct(a,s.upper)<=0}function ou(a,s){return bx(a,s)&&yx(a,s)}function Yh(a,s,l,f,h,g){if(!l||l.length===0)return a;var v=s.query.index,y=v.multiEntry,_=s.query.range,x=f.schema.primaryKey,R=x.extractKey,C=v.extractKey,k=(v.lowLevelIndex||v).extractKey,j=l.reduce(function(S,D){var A=S,I=[];if(D.type==="add"||D.type==="put")for(var P=new ye,L=D.values.length-1;L>=0;--L){var F=D.values[L],N=R(F);if(!P.hasKey(N)){var V=C(F);(y&&c(V)?V.some(function(J){return ou(J,_)}):ou(V,_))&&(P.addKey(N),I.push(F))}}switch(D.type){case"add":A=S.concat(s.values?I:I.map(function(J){return R(J)}));break;case"put":var Y=new ye().addKeys(D.values.map(function(J){return R(J)}));A=S.filter(function(J){return!Y.hasKey(s.values?R(J):J)}).concat(s.values?I:I.map(function(J){return R(J)}));break;case"delete":var G=new ye().addKeys(D.keys);A=S.filter(function(J){return!G.hasKey(s.values?R(J):J)});break;case"deleteRange":var ct=D.range;A=S.filter(function(J){return!ou(R(J),ct)});break}return A},a);return j===a?a:(j.sort(function(S,D){return Ct(k(S),k(D))||Ct(R(S),R(D))}),s.limit&&s.limit<1/0&&(j.length>s.limit?j.length=s.limit:a.length===s.limit&&j.length<s.limit&&(h.dirty=!0)),g?Object.freeze(j):j)}function Gh(a,s){return Ct(a.lower,s.lower)===0&&Ct(a.upper,s.upper)===0&&!!a.lowerOpen==!!s.lowerOpen&&!!a.upperOpen==!!s.upperOpen}function _x(a,s,l,f){if(a===void 0)return s!==void 0?-1:0;if(s===void 0)return 1;var h=Ct(a,s);if(h===0){if(l&&f)return 0;if(l)return 1;if(f)return-1}return h}function xx(a,s,l,f){if(a===void 0)return s!==void 0?1:0;if(s===void 0)return-1;var h=Ct(a,s);if(h===0){if(l&&f)return 0;if(l)return-1;if(f)return 1}return h}function wx(a,s){return _x(a.lower,s.lower,a.lowerOpen,s.lowerOpen)<=0&&xx(a.upper,s.upper,a.upperOpen,s.upperOpen)>=0}function Cx(a,s,l,f){var h=qn["idb://".concat(a,"/").concat(s)];if(!h)return[];var g=h.queries[l];if(!g)return[null,!1,h,null];var v=f.query?f.query.index.name:null,y=g[v||""];if(!y)return[null,!1,h,null];switch(l){case"query":var _=y.find(function(C){return C.req.limit===f.limit&&C.req.values===f.values&&Gh(C.req.query.range,f.query.range)});if(_)return[_,!0,h,y];var x=y.find(function(C){var k="limit"in C.req?C.req.limit:1/0;return k>=f.limit&&(f.values?C.req.values:!0)&&wx(C.req.query.range,f.query.range)});return[x,!1,h,y];case"count":var R=y.find(function(C){return Gh(C.req.query.range,f.query.range)});return[R,!!R,h,y]}}function Sx(a,s,l,f){a.subscribers.add(l),f.addEventListener("abort",function(){a.subscribers.delete(l),a.subscribers.size===0&&Ex(a,s)})}function Ex(a,s){setTimeout(function(){a.subscribers.size===0&&Zt(s,a)},3e3)}var Rx={stack:"dbcore",level:0,name:"Cache",create:function(a){var s=a.schema.name,l=e(e({},a),{transaction:function(f,h,g){var v=a.transaction(f,h,g);if(h==="readwrite"){var y=new AbortController,_=y.signal,x=function(R){return function(){if(y.abort(),h==="readwrite"){for(var C=new Set,k=0,j=f;k<j.length;k++){var S=j[k],D=qn["idb://".concat(s,"/").concat(S)];if(D){var A=a.table(S),I=D.optimisticOps.filter(function(It){return It.trans===v});if(v._explicit&&R&&v.mutatedParts)for(var P=0,L=Object.values(D.queries.query);P<L.length;P++)for(var F=L[P],N=0,V=F.slice();N<V.length;N++){var Y=V[N];Zl(Y.obsSet,v.mutatedParts)&&(Zt(F,Y),Y.subscribers.forEach(function(It){return C.add(It)}))}else if(I.length>0){D.optimisticOps=D.optimisticOps.filter(function(It){return It.trans!==v});for(var G=0,ct=Object.values(D.queries.query);G<ct.length;G++)for(var F=ct[G],J=0,at=F.slice();J<at.length;J++){var Y=at[J];if(Y.res!=null&&v.mutatedParts)if(R&&!Y.dirty){var _t=Object.isFrozen(Y.res),ut=Yh(Y.res,Y.req,I,A,Y,_t);Y.dirty?(Zt(F,Y),Y.subscribers.forEach(function(ne){return C.add(ne)})):ut!==Y.res&&(Y.res=ut,Y.promise=q.resolve({result:ut}))}else Y.dirty&&Zt(F,Y),Y.subscribers.forEach(function(ne){return C.add(ne)})}}}}C.forEach(function(It){return It()})}}};v.addEventListener("abort",x(!1),{signal:_}),v.addEventListener("error",x(!1),{signal:_}),v.addEventListener("complete",x(!0),{signal:_})}return v},table:function(f){var h=a.table(f),g=h.schema.primaryKey,v=e(e({},h),{mutate:function(y){var _=tt.trans;if(g.outbound||_.db._options.cache==="disabled"||_.explicit)return h.mutate(y);var x=qn["idb://".concat(s,"/").concat(f)];if(!x)return h.mutate(y);var R=h.mutate(y);return(y.type==="add"||y.type==="put")&&(y.values.length>=50||iu(g,y).some(function(C){return C==null}))?R.then(function(C){var k=e(e({},y),{values:y.values.map(function(S,D){var A,I=!((A=g.keyPath)===null||A===void 0)&&A.includes(".")?Ue(S):e({},S);return xt(I,g.keyPath,C.results[D]),I})}),j=Qh(x,k,C);x.optimisticOps.push(j),queueMicrotask(function(){return y.mutatedParts&&fs(y.mutatedParts)})}):(x.optimisticOps.push(y),y.mutatedParts&&fs(y.mutatedParts),R.then(function(C){if(C.numFailures>0){Zt(x.optimisticOps,y);var k=Qh(x,y,C);k&&x.optimisticOps.push(k),y.mutatedParts&&fs(y.mutatedParts)}}),R.catch(function(){Zt(x.optimisticOps,y),y.mutatedParts&&fs(y.mutatedParts)})),R},query:function(y){var _;if(!Hh(tt,h)||!qh("query",y))return h.query(y);var x=((_=tt.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",R=tt,C=R.requery,k=R.signal,j=Cx(s,f,"query",y),S=j[0],D=j[1],A=j[2],I=j[3];if(S&&D)S.obsSet=y.obsSet;else{var P=h.query(y).then(function(L){var F=L.result;if(S&&(S.res=F),x){for(var N=0,V=F.length;N<V;++N)Object.freeze(F[N]);Object.freeze(F)}else L.result=Ue(F);return L}).catch(function(L){return I&&S&&Zt(I,S),Promise.reject(L)});S={obsSet:y.obsSet,promise:P,subscribers:new Set,type:"query",req:y,dirty:!1},I?I.push(S):(I=[S],A||(A=qn["idb://".concat(s,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),A.queries.query[y.query.index.name||""]=I)}return Sx(S,I,C,k),S.promise.then(function(L){return{result:Yh(L.result,y,A?.optimisticOps,h,S,x)}})}});return v}});return l}};function ms(a,s){return new Proxy(a,{get:function(l,f,h){return f==="db"?s:Reflect.get(l,f,h)}})}var Nr=function(){function a(s,l){var f=this;this._middlewares={},this.verno=0;var h=a.dependencies;this._options=l=e({addons:a.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange};var g=l.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};v.dbReadyPromise=new q(function(_){v.dbReadyResolve=_}),v.openCanceller=new q(function(_,x){v.cancelOpen=x}),this._state=v,this.name=s,this.on=Do(this,"populate","blocked","versionchange","close",{ready:[Cl,At]}),this.on.ready.subscribe=Z(this.on.ready.subscribe,function(_){return function(x,R){a.vip(function(){var C=f._state;if(C.openComplete)C.dbOpenError||q.resolve().then(x),R&&_(x);else if(C.onReadyBeingFired)C.onReadyBeingFired.push(x),R&&_(x);else{_(x);var k=f;R||_(function j(){k.on.ready.unsubscribe(x),k.on.ready.unsubscribe(j)})}})}}),this.Collection=P_(this),this.Table=A_(this),this.Transaction=U_(this),this.Version=ix(this),this.WhereClause=j_(this),this.on("versionchange",function(_){_.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=Mo(l.IDBKeyRange),this._createTransaction=function(_,x,R,C){return new f.Transaction(_,x,R,f._options.chromeTransactionDurability,C)},this._fireOnBlocked=function(_){f.on("blocked").fire(_),Ci.filter(function(x){return x.name===f.name&&x!==f&&!x._state.vcFired}).map(function(x){return x.on("versionchange").fire(_)})},this.use(px),this.use(Rx),this.use(gx),this.use(fx),this.use(hx);var y=new Proxy(this,{get:function(_,x,R){if(x==="_vip")return!0;if(x==="table")return function(k){return ms(f.table(k),y)};var C=Reflect.get(_,x,R);return C instanceof Ih?ms(C,y):x==="tables"?C.map(function(k){return ms(k,y)}):x==="_createTransaction"?function(){var k=C.apply(this,arguments);return ms(k,y)}:C}});this.vip=y,g.forEach(function(_){return _(f)})}return a.prototype.version=function(s){if(isNaN(s)||s<.1)throw new nt.Type("Given version is not a positive number");if(s=Math.round(s*10)/10,this.idbdb||this._state.isBeingOpened)throw new nt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,f=l.filter(function(h){return h._cfg.version===s})[0];return f||(f=new this.Version(s),l.push(f),l.sort(Y_),f.stores({}),this._state.autoSchema=!1,f)},a.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||tt.letThrough||this._vip)?s():new q(function(f,h){if(l._state.openComplete)return h(new nt.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen){h(new nt.DatabaseClosed);return}l.open().catch(At)}l._state.dbReadyPromise.then(f,h)}).then(s)},a.prototype.use=function(s){var l=s.stack,f=s.create,h=s.level,g=s.name;g&&this.unuse({stack:l,name:g});var v=this._middlewares[l]||(this._middlewares[l]=[]);return v.push({stack:l,create:f,level:h??10,name:g}),v.sort(function(y,_){return y.level-_.level}),this},a.prototype.unuse=function(s){var l=s.stack,f=s.name,h=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(g){return h?g.create!==h:f?g.name!==f:!1})),this},a.prototype.open=function(){var s=this;return Kn(tn,function(){return lx(s)})},a.prototype._close=function(){var s=this._state,l=Ci.indexOf(this);if(l>=0&&Ci.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new q(function(f){s.dbReadyResolve=f}),s.openCanceller=new q(function(f,h){s.cancelOpen=h}))},a.prototype.close=function(s){var l=s===void 0?{disableAutoOpen:!0}:s,f=l.disableAutoOpen,h=this._state;f?(h.isBeingOpened&&h.cancelOpen(new nt.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new nt.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},a.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var f=arguments.length>0&&typeof arguments[0]!="object",h=this._state;return new q(function(g,v){var y=function(){l.close(s);var _=l._deps.indexedDB.deleteDatabase(l.name);_.onsuccess=Bt(function(){sx(l._deps,l.name),g()}),_.onerror=dr(v),_.onblocked=l._fireOnBlocked};if(f)throw new nt.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(y):y()})},a.prototype.backendDB=function(){return this.idbdb},a.prototype.isOpen=function(){return this.idbdb!==null},a.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},a.prototype.hasFailed=function(){return this._state.dbOpenError!==null},a.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(a.prototype,"tables",{get:function(){var s=this;return o(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),a.prototype.transaction=function(){var s=ux.apply(this,arguments);return this._transaction.apply(this,s)},a.prototype._transaction=function(s,l,f){var h=this,g=tt.trans;(!g||g.db!==this||s.indexOf("!")!==-1)&&(g=null);var v=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");var y,_;try{if(_=l.map(function(R){var C=R instanceof h.Table?R.name:R;if(typeof C!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return C}),s=="r"||s===Nl)y=Nl;else if(s=="rw"||s==Ll)y=Ll;else throw new nt.InvalidArgument("Invalid transaction mode: "+s);if(g){if(g.mode===Nl&&y===Ll)if(v)g=null;else throw new nt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g&&_.forEach(function(R){if(g&&g.storeNames.indexOf(R)===-1)if(v)g=null;else throw new nt.SubTransaction("Table "+R+" not included in parent transaction.")}),v&&g&&!g.active&&(g=null)}}catch(R){return g?g._promise(null,function(C,k){k(R)}):Ht(R)}var x=Kh.bind(null,this,y,_,g,f);return g?g._promise(y,x,"lock"):tt.trans?Kn(tt.transless,function(){return h._whenReady(x)}):this._whenReady(x)},a.prototype.table=function(s){if(!p(this._allTables,s))throw new nt.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},a}(),Dx=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ox=function(){function a(s){this._subscribe=s}return a.prototype.subscribe=function(s,l,f){return this._subscribe(!s||typeof s=="function"?{next:s,error:l,complete:f}:s)},a.prototype[Dx]=function(){return this},a}(),ps;try{ps={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{ps={indexedDB:null,IDBKeyRange:null}}function Xh(a){var s=!1,l,f=new Ox(function(h){var g=_l(a);function v(I){var P=_i();try{g&&wi();var L=en(a,I);return g&&(L=L.finally(rn)),L}finally{P&&xi()}}var y=!1,_,x={},R={},C={get closed(){return y},unsubscribe:function(){y||(y=!0,_&&_.abort(),k&&an.storagemutated.unsubscribe(D))}};h.start&&h.start(C);var k=!1,j=function(){return Ml(A)};function S(){return Zl(R,x)}var D=function(I){ds(x,I),S()&&j()},A=function(){if(!(y||!ps.indexedDB)){x={};var I={};_&&_.abort(),_=new AbortController;var P={subscr:I,signal:_.signal,requery:j,querier:a,trans:null},L=v(P);Promise.resolve(L).then(function(F){s=!0,l=F,!(y||P.signal.aborted)&&(x={},R=I,!yl(R)&&!k&&(an(Io,D),k=!0),Ml(function(){return!y&&h.next&&h.next(F)}))},function(F){s=!1,["DatabaseClosedError","AbortError"].includes(F?.name)||y||Ml(function(){y||h.error&&h.error(F)})})}};return setTimeout(j,0),C});return f.hasValue=function(){return s},f.getValue=function(){return l},f}var Qn=Nr;b(Qn,e(e({},Wa),{delete:function(a){var s=new Qn(a,{addons:[]});return s.delete()},exists:function(a){return new Qn(a,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return ox(Qn.dependencies).then(a)}catch{return Ht(new nt.MissingAPI)}},defineClass:function(){function a(s){u(this,s)}return a},ignoreTransaction:function(a){return tt.trans?Kn(tt.transless,a):a()},vip:Yl,async:function(a){return function(){try{var s=ru(a.apply(this,arguments));return!s||typeof s.then!="function"?q.resolve(s):s}catch(l){return Ht(l)}}},spawn:function(a,s,l){try{var f=ru(a.apply(l,s||[]));return!f||typeof f.then!="function"?q.resolve(f):f}catch(h){return Ht(h)}},currentTransaction:{get:function(){return tt.trans||null}},waitFor:function(a,s){var l=q.resolve(typeof a=="function"?Qn.ignoreTransaction(a):a).timeout(s||6e4);return tt.trans?tt.trans.waitFor(l):l},Promise:q,debug:{get:function(){return ur},set:function(a){gh(a)}},derive:O,extend:u,props:b,override:Z,Events:Do,on:an,liveQuery:Xh,extendObservabilitySet:ds,getByKeyPath:bt,setByKeyPath:xt,delByKeyPath:de,shallowClone:lr,deepClone:Ue,getObjectDiff:nu,cmp:Ct,asap:yt,minKey:Pl,addons:[],connections:Ci,errnames:wl,dependencies:ps,cache:qn,semVer:Eh,version:Eh.split(".").map(function(a){return parseInt(a)}).reduce(function(a,s,l){return a+s/Math.pow(10,l*2)})})),Qn.maxKey=Mo(Qn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(an(Io,function(a){if(!sn){var s;s=new CustomEvent(jl,{detail:a}),sn=!0,dispatchEvent(s),sn=!1}}),addEventListener(jl,function(a){var s=a.detail;sn||au(s)}));function au(a){var s=sn;try{sn=!0,an.storagemutated.fire(a),eu(a,!0)}finally{sn=s}}var sn=!1,cn,su=function(){};typeof BroadcastChannel<"u"&&(su=function(){cn=new BroadcastChannel(jl),cn.onmessage=function(a){return a.data&&au(a.data)}},su(),typeof cn.unref=="function"&&cn.unref(),an(Io,function(a){sn||cn.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Nr.disableBfCache&&a.persisted){ur&&console.debug("Dexie: handling persisted pagehide"),cn?.close();for(var s=0,l=Ci;s<l.length;s++){var f=l[s];f.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(a){!Nr.disableBfCache&&a.persisted&&(ur&&console.debug("Dexie: handling persisted pageshow"),su(),au({all:new ye(-1/0,[[]])}))}));function kx(a){return new ko({add:a})}function Ax(a){return new ko({remove:a})}function Ix(a,s){return new ko({replacePrefix:[a,s]})}q.rejectionMapper=u_,gh(ur);var Mx=Object.freeze({__proto__:null,Dexie:Nr,liveQuery:Xh,Entity:Oh,cmp:Ct,PropModSymbol:M_,PropModification:ko,replacePrefix:Ix,add:kx,remove:Ax,default:Nr,RangeSet:ye,mergeRanges:No,rangesOverlap:jh});return e(Nr,Mx,{default:Nr}),Nr})});var Ho=class{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},zr=class extends Ho{constructor(r,e,n,i,o){super(),this.component=r,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i,this.projectableNodes=o}},_r=class extends Ho{constructor(r,e,n,i){super(),this.templateRef=r,this.viewContainerRef=e,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}},Cu=class extends Ho{constructor(r){super(),this.element=r instanceof Vt?r.nativeElement:r}},bn=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){if(r instanceof zr)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof _r)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof Cu)return this._attachedPortal=r,this.attachDomPortal(r)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Is=class extends bn{constructor(r,e,n,i,o){super(),this.outletElement=r,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=c=>{this._document;let u=c.element;u.parentNode;let d=this._document.createComment("dom-portal");u.parentNode.insertBefore(d,u),this.outletElement.appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(u,d)})},this._document=o}attachComponentPortal(r){let n=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),i;return r.viewContainerRef?(i=r.viewContainerRef.createComponent(n,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector,r.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=n.create(r.injector||this._defaultInjector||Wt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=r,i}attachTemplatePortal(r){let e=r.viewContainerRef,n=e.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(n);i!==-1&&e.remove(i)}),this._attachedPortal=r,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}};var ND=(()=>{class t extends _r{constructor(e,n){super(e,n)}static{this.\u0275fac=function(n){return new(n||t)(H(Fr),H(pn))}}static{this.\u0275dir=jt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[ce]})}}return t})();var yn=(()=>{class t extends bn{constructor(e,n,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new pe,this.attachDomPortal=o=>{this._document;let c=o.element;c.parentNode;let u=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(u,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(n){return new(n||t)(H(xs),H(pn),H(Qt))}}static{this.\u0275dir=jt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ce]})}}return t})();var Ur=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({})}}return t})();var qm=["mat-button",""],Qm=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ym=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],$x='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Gm=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var Fx=["mat-icon-button",""],Bx=["*"];var jx=new vt("MAT_BUTTON_CONFIG");var zx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Eu=(()=>{class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,n,i,o){this._elementRef=e,this._platform=n,this._ngZone=i,this._animationMode=o,this._focusMonitor=X(ji),this._rippleLoader=X(Km),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=X(jx,{optional:!0}),u=e.nativeElement,d=u.classList;this.disabledInteractive=c?.disabledInteractive??!1,this.color=c?.color??null,this._rippleLoader?.configureRipple(u,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:p}of zx)u.hasAttribute(m)&&d.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(n){zo()}}static{this.\u0275dir=jt({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ge],disabled:[2,"disabled","disabled",ge],ariaDisabled:[2,"aria-disabled","ariaDisabled",ge],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ge]},features:[gn]})}}return t})();var Ux=(()=>{class t extends Eu{constructor(e,n,i,o){super(e,n,i,o),this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}static{this.\u0275fac=function(n){zo()}}static{this.\u0275dir=jt({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Dm(e)]},features:[gn,ce]})}}return t})(),Xm=(()=>{class t extends Eu{constructor(e,n,i,o){super(e,n,i,o)}static{this.\u0275fac=function(n){return new(n||t)(H(Vt),H(ve),H(zt),H($r,8))}}static{this.\u0275cmp=Ee({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,i){n&2&&(Te("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Cs(i.color?"mat-"+i.color:""),vr("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ce,Re],attrs:qm,ngContentSelectors:Ym,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(Uo(Qm),We(0,"span",0),Br(1),br(2,"span",1),Br(3,1),er(),Br(4,2),We(5,"span",2)(6,"span",3)),n&2&&vr("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),QD=(()=>{class t extends Ux{constructor(e,n,i,o){super(e,n,i,o)}static{this.\u0275fac=function(n){return new(n||t)(H(Vt),H(ve),H(zt),H($r,8))}}static{this.\u0275cmp=Ee({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,i){n&2&&(Te("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),Cs(i.color?"mat-"+i.color:""),vr("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[ce,Re],attrs:qm,ngContentSelectors:Ym,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(Uo(Qm),We(0,"span",0),Br(1),br(2,"span",1),Br(3,1),er(),Br(4,2),We(5,"span",2)(6,"span",3)),n&2&&vr("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[$x,Gm],encapsulation:2,changeDetection:0})}}return t})();var YD=(()=>{class t extends Eu{constructor(e,n,i,o){super(e,n,i,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(n){return new(n||t)(H(Vt),H(ve),H(zt),H($r,8))}}static{this.\u0275cmp=Ee({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,i){n&2&&(Te("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Cs(i.color?"mat-"+i.color:""),vr("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ce,Re],attrs:Fx,ngContentSelectors:Bx,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(Uo(),We(0,"span",0),Br(1),We(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Gm],encapsulation:2,changeDetection:0})}}return t})();var Zm=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({imports:[jr,Vm,jr]})}}return t})();var pt="primary",aa=Symbol("RouteTitle"),Au=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Hi(t){return new Au(t)}function Vx(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let c=n[o],u=t[o];if(c[0]===":")i[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Kx(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!wr(t[e],r[e]))return!1;return!0}function wr(t,r){let e=t?Iu(t):void 0,n=r?Iu(r):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!up(t[i],r[i]))return!1;return!0}function Iu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function up(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((i,o)=>n[o]===i)}else return t===r}function dp(t){return t.length>0?t[t.length-1]:null}function Cn(t){return Ri(t)?t:Em(t)?he(Promise.resolve(t)):rt(t)}var Wx={exact:hp,subset:mp},fp={exact:Hx,subset:qx,ignored:()=>!0};function Jm(t,r,e){return Wx[e.paths](t.root,r.root,e.matrixParams)&&fp[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function Hx(t,r){return wr(t,r)}function hp(t,r,e){if(!ri(t.segments,r.segments)||!Ps(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!hp(t.children[n],r.children[n],e))return!1;return!0}function qx(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>up(t[e],r[e]))}function mp(t,r,e){return pp(t,r,r.segments,e)}function pp(t,r,e,n){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!ri(i,e)||r.hasChildren()||!Ps(i,e,n))}else if(t.segments.length===e.length){if(!ri(t.segments,e)||!Ps(t.segments,e,n))return!1;for(let i in r.children)if(!t.children[i]||!mp(t.children[i],r.children[i],n))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!ri(t.segments,i)||!Ps(t.segments,i,n)||!t.children[pt]?!1:pp(t.children[pt],r,o,n)}}function Ps(t,r,e){return r.every((n,i)=>fp[e](t[i].parameters,n.parameters))}var Vr=class{constructor(r=new Ot([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){return Gx.serialize(this)}},Ot=class{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ns(this)}},ei=class{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=Hi(this.parameters),this._parameterMap}toString(){return vp(this)}};function Qx(t,r){return ri(t,r)&&t.every((e,n)=>wr(e.parameters,r[n].parameters))}function ri(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function Yx(t,r){let e=[];return Object.entries(t.children).forEach(([n,i])=>{n===pt&&(e=e.concat(r(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==pt&&(e=e.concat(r(i,n)))}),e}var sa=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:()=>new qi,providedIn:"root"})}}return t})(),qi=class{parse(r){let e=new Tu(r);return new Vr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${qo(r.root,!0)}`,n=Jx(r.queryParams),i=typeof r.fragment=="string"?`#${Xx(r.fragment)}`:"";return`${e}${n}${i}`}},Gx=new qi;function Ns(t){return t.segments.map(r=>vp(r)).join("/")}function qo(t,r){if(!t.hasChildren())return Ns(t);if(r){let e=t.children[pt]?qo(t.children[pt],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==pt&&n.push(`${i}:${qo(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Yx(t,(n,i)=>i===pt?[qo(t.children[pt],!1)]:[`${i}:${qo(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[pt]!=null?`${Ns(t)}/${e[0]}`:`${Ns(t)}/(${e.join("//")})`}}function gp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ms(t){return gp(t).replace(/%3B/gi,";")}function Xx(t){return encodeURI(t)}function Mu(t){return gp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ls(t){return decodeURIComponent(t)}function tp(t){return Ls(t.replace(/\+/g,"%20"))}function vp(t){return`${Mu(t.path)}${Zx(t.parameters)}`}function Zx(t){return Object.entries(t).map(([r,e])=>`;${Mu(r)}=${Mu(e)}`).join("")}function Jx(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(i=>`${Ms(e)}=${Ms(i)}`).join("&"):`${Ms(e)}=${Ms(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var tw=/^[^\/()?;#]+/;function Ru(t){let r=t.match(tw);return r?r[0]:""}var ew=/^[^\/()?;=#]+/;function rw(t){let r=t.match(ew);return r?r[0]:""}var nw=/^[^=?&#]+/;function iw(t){let r=t.match(nw);return r?r[0]:""}var ow=/^[^&#]+/;function aw(t){let r=t.match(ow);return r?r[0]:""}var Tu=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[pt]=new Ot(r,e)),n}parseSegment(){let r=Ru(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new _e(4009,!1);return this.capture(r),new ei(Ls(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=rw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=Ru(this.remaining);i&&(n=i,this.capture(n))}r[Ls(e)]=Ls(n)}parseQueryParam(r){let e=iw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let c=aw(this.remaining);c&&(n=c,this.capture(n))}let i=tp(e),o=tp(n);if(r.hasOwnProperty(i)){let c=r[i];Array.isArray(c)||(c=[c],r[i]=c),c.push(o)}else r[i]=o}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ru(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new _e(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=pt);let c=this.parseChildren();e[o]=Object.keys(c).length===1?c[pt]:new Ot([],c),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new _e(4011,!1)}};function bp(t){return t.segments.length>0?new Ot([],{[pt]:t}):t}function yp(t){let r={};for(let[n,i]of Object.entries(t.children)){let o=yp(i);if(n===pt&&o.segments.length===0&&o.hasChildren())for(let[c,u]of Object.entries(o.children))r[c]=u;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let e=new Ot(t.segments,r);return sw(e)}function sw(t){if(t.numberOfChildren===1&&t.children[pt]){let r=t.children[pt];return new Ot(t.segments.concat(r.segments),r.children)}return t}function ni(t){return t instanceof Vr}function cw(t,r,e=null,n=null){let i=_p(t);return xp(i,r,e,n)}function _p(t){let r;function e(o){let c={};for(let d of o.children){let m=e(d);c[d.outlet]=m}let u=new Ot(o.url,c);return o===t&&(r=u),u}let n=e(t.root),i=bp(n);return r??i}function xp(t,r,e,n){let i=t;for(;i.parent;)i=i.parent;if(r.length===0)return Du(i,i,i,e,n);let o=lw(r);if(o.toRoot())return Du(i,i,new Ot([],{}),e,n);let c=uw(o,i,t),u=c.processChildren?Go(c.segmentGroup,c.index,o.commands):Cp(c.segmentGroup,c.index,o.commands);return Du(i,c.segmentGroup,u,e,n)}function $s(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Jo(t){return typeof t=="object"&&t!=null&&t.outlets}function Du(t,r,e,n,i){let o={};n&&Object.entries(n).forEach(([d,m])=>{o[d]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let c;t===r?c=e:c=wp(t,r,e);let u=bp(yp(c));return new Vr(u,o,i)}function wp(t,r,e){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===r?n[i]=e:n[i]=wp(o,r,e)}),new Ot(t.segments,n)}var Fs=class{constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&$s(n[0]))throw new _e(4003,!1);let i=n.find(Jo);if(i&&i!==dp(n))throw new _e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lw(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fs(!0,0,t);let r=0,e=!1,n=t.reduce((i,o,c)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([d,m])=>{u[d]=typeof m=="string"?m.split("/"):m}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:c===0?(o.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?e=!0:u===".."?r++:u!=""&&i.push(u))}),i):[...i,o]},[]);return new Fs(e,r,n)}var Vi=class{constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function uw(t,r,e){if(t.isAbsolute)return new Vi(r,!0,0);if(!e)return new Vi(r,!1,NaN);if(e.parent===null)return new Vi(e,!0,0);let n=$s(t.commands[0])?0:1,i=e.segments.length-1+n;return dw(e,i,t.numberOfDoubleDots)}function dw(t,r,e){let n=t,i=r,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new _e(4005,!1);i=n.segments.length}return new Vi(n,!1,i-o)}function fw(t){return Jo(t[0])?t[0].outlets:{[pt]:t}}function Cp(t,r,e){if(t??=new Ot([],{}),t.segments.length===0&&t.hasChildren())return Go(t,r,e);let n=hw(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Ot(t.segments.slice(0,n.pathIndex),{});return o.children[pt]=new Ot(t.segments.slice(n.pathIndex),t.children),Go(o,0,i)}else return n.match&&i.length===0?new Ot(t.segments,{}):n.match&&!t.hasChildren()?Pu(t,r,e):n.match?Go(t,0,i):Pu(t,r,e)}function Go(t,r,e){if(e.length===0)return new Ot(t.segments,{});{let n=fw(e),i={};if(Object.keys(n).some(o=>o!==pt)&&t.children[pt]&&t.numberOfChildren===1&&t.children[pt].segments.length===0){let o=Go(t.children[pt],r,e);return new Ot(t.segments,o.children)}return Object.entries(n).forEach(([o,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(i[o]=Cp(t.children[o],r,c))}),Object.entries(t.children).forEach(([o,c])=>{n[o]===void 0&&(i[o]=c)}),new Ot(t.segments,i)}}function hw(t,r,e){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=e.length)return o;let c=t.segments[i],u=e[n];if(Jo(u))break;let d=`${u}`,m=n<e.length-1?e[n+1]:null;if(i>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!rp(d,m,c))return o;n+=2}else{if(!rp(d,{},c))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Pu(t,r,e){let n=t.segments.slice(0,r),i=0;for(;i<e.length;){let o=e[i];if(Jo(o)){let d=mw(o.outlets);return new Ot(n,d)}if(i===0&&$s(e[0])){let d=t.segments[r];n.push(new ei(d.path,ep(e[0]))),i++;continue}let c=Jo(o)?o.outlets[pt]:`${o}`,u=i<e.length-1?e[i+1]:null;c&&u&&$s(u)?(n.push(new ei(c,ep(u))),i+=2):(n.push(new ei(c,{})),i++)}return new Ot(n,{})}function mw(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Pu(new Ot([],{}),0,n))}),r}function ep(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function rp(t,r,e){return t==e.path&&wr(r,e.parameters)}var Xo="imperative",ie=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ie||{}),He=class{constructor(r,e){this.id=r,this.url=e}},_n=class extends He{constructor(r,e,n="imperative",i=null){super(r,e),this.type=ie.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends He{constructor(r,e,n){super(r,e),this.urlAfterRedirects=n,this.type=ie.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ne||{}),Bs=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Bs||{}),ir=class extends He{constructor(r,e,n,i){super(r,e),this.reason=n,this.code=i,this.type=ie.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends He{constructor(r,e,n,i){super(r,e),this.reason=n,this.code=i,this.type=ie.NavigationSkipped}},ta=class extends He{constructor(r,e,n,i){super(r,e),this.error=n,this.target=i,this.type=ie.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},js=class extends He{constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i,this.type=ie.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nu=class extends He{constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i,this.type=ie.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lu=class extends He{constructor(r,e,n,i,o){super(r,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=ie.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$u=class extends He{constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i,this.type=ie.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fu=class extends He{constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i,this.type=ie.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bu=class{constructor(r){this.route=r,this.type=ie.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ju=class{constructor(r){this.route=r,this.type=ie.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zu=class{constructor(r){this.snapshot=r,this.type=ie.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uu=class{constructor(r){this.snapshot=r,this.type=ie.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vu=class{constructor(r){this.snapshot=r,this.type=ie.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{constructor(r){this.snapshot=r,this.type=ie.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zs=class{constructor(r,e,n){this.routerEvent=r,this.position=e,this.anchor=n,this.type=ie.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},ea=class{},Qi=class{constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function pw(t,r){return t.providers&&!t._injector&&(t._injector=pu(t.providers,r,`Route: ${t.path}`)),t._injector??r}function nr(t){return t.outlet||pt}function gw(t,r){let e=t.filter(n=>nr(n)===r);return e.push(...t.filter(n=>nr(n)!==r)),e}function ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Wu=class{get injector(){return ca(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new la(this.rootInjector),this.attachRef=null}},la=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Wu(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(n){return new(n||t)(K(Xn))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Us=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=Hu(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=Hu(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=qu(r,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return qu(r,this._root).map(e=>e.value)}};function Hu(t,r){if(t===r.value)return r;for(let e of r.children){let n=Hu(t,e);if(n)return n}return null}function qu(t,r){if(t===r.value)return[r];for(let e of r.children){let n=qu(t,e);if(n.length)return n.unshift(r),n}return[]}var Pe=class{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ui(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var Vs=class extends Us{constructor(r,e){super(r),this.snapshot=e,rd(this,r)}toString(){return this.snapshot.toString()}};function Sp(t){let r=vw(t),e=new fe([new ei("",{})]),n=new fe({}),i=new fe({}),o=new fe({}),c=new fe(""),u=new Sr(e,n,o,c,i,pt,t,r.root);return u.snapshot=r.root,new Vs(new Pe(u,[]),r)}function vw(t){let r={},e={},n={},i="",o=new Ki([],r,n,i,e,pt,t,null,{});return new Ws("",new Pe(o,[]))}var Sr=class{constructor(r,e,n,i,o,c,u,d){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=c,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(mt(m=>m[aa]))??rt(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(mt(r=>Hi(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(mt(r=>Hi(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ks(t,r,e="emptyOnly"){let n,{routeConfig:i}=t;return r!==null&&(e==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:B(B({},r.params),t.params),data:B(B({},r.data),t.data),resolve:B(B(B(B({},t.data),r.data),i?.data),t._resolvedData)}:n={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&Rp(i)&&(n.resolve[aa]=i.title),n}var Ki=class{get title(){return this.data?.[aa]}constructor(r,e,n,i,o,c,u,d,m){this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=c,this.component=u,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Ws=class extends Us{constructor(r,e){super(e),this.url=r,rd(this,e)}toString(){return Ep(this._root)}};function rd(t,r){r.value._routerState=t,r.children.forEach(e=>rd(t,e))}function Ep(t){let r=t.children.length>0?` { ${t.children.map(Ep).join(", ")} } `:"";return`${t.value}${r}`}function Ou(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,wr(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),wr(r.params,e.params)||t.paramsSubject.next(e.params),Kx(r.url,e.url)||t.urlSubject.next(e.url),wr(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qu(t,r){let e=wr(t.params,r.params)&&Qx(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||Qu(t.parent,r.parent))}function Rp(t){return typeof t.title=="string"||t.title===null}var bw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=X(la),this.location=X(pn),this.changeDetector=X(yr),this.inputBinder=X(Ys,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _e(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new _e(4013,!1);this._activatedRoute=e;let i=this.location,c=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new Yu(e,u,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]})}}return t})(),Yu=class t{__ngOutletInjector(r){return new t(this.route,this.childContexts,r)}constructor(r,e,n){this.route=r,this.childContexts=e,this.parent=n}get(r,e){return r===Sr?this.route:r===la?this.childContexts:this.parent.get(r,e)}},Ys=new vt(""),np=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,i=bs([n.queryParams,n.params,n.data]).pipe(Ke(([o,c,u],d)=>(u=B(B(B({},o),c),u),d===0?rt(u):Promise.resolve(u)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let c=km(n.component);if(!c){this.unsubscribeFromRouteData(e);return}for(let{templateName:u}of c.inputs)e.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(e,i)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})();function yw(t,r,e){let n=ra(t,r._root,e?e._root:void 0);return new Vs(n,r)}function ra(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let i=_w(t,r,e);return new Pe(n,i)}else{if(t.shouldAttach(r.value)){let o=t.retrieve(r.value);if(o!==null){let c=o.route;return c.value._futureSnapshot=r.value,c.children=r.children.map(u=>ra(t,u)),c}}let n=xw(r.value),i=r.children.map(o=>ra(t,o));return new Pe(n,i)}}function _w(t,r,e){return r.children.map(n=>{for(let i of e.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return ra(t,n,i);return ra(t,n)})}function xw(t){return new Sr(new fe(t.url),new fe(t.params),new fe(t.queryParams),new fe(t.fragment),new fe(t.data),t.outlet,t.component,t)}var na=class{constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},Dp="ngNavigationCancelingError";function Hs(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=ni(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=Op(!1,Ne.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function Op(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Dp]=!0,e.cancellationCode=r,e}function ww(t){return kp(t)&&ni(t.url)}function kp(t){return!!t&&t[Dp]}var Cw=(t,r,e,n)=>mt(i=>(new Gu(r,i.targetRouterState,i.currentRouterState,e,n).activate(t),i)),Gu=class{constructor(r,e,n,i,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),Ou(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let i=Ui(e);r.children.forEach(o=>{let c=o.value.outlet;this.deactivateRoutes(o,i[c],n),delete i[c]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,e,n){let i=r.value,o=e?e.value:null;if(i===o)if(i.component){let c=n.getContext(i.outlet);c&&this.deactivateChildRoutes(r,e,c.children)}else this.deactivateChildRoutes(r,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),i=n&&r.value.component?n.children:e,o=Ui(r);for(let c of Object.values(o))this.deactivateRouteAndItsChildren(c,i);if(n&&n.outlet){let c=n.outlet.detach(),u=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:u})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),i=n&&r.value.component?n.children:e,o=Ui(r);for(let c of Object.values(o))this.deactivateRouteAndItsChildren(c,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let i=Ui(e);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Ku(o.value.snapshot))}),r.children.length&&this.forwardEvent(new Uu(r.value.snapshot))}activateRoutes(r,e,n){let i=r.value,o=e?e.value:null;if(Ou(i),i===o)if(i.component){let c=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,e,c.children)}else this.activateChildRoutes(r,e,n);else if(i.component){let c=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),Ou(u.route.value),this.activateChildRoutes(r,null,c.children)}else c.attachRef=null,c.route=i,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(r,null,c.children)}else this.activateChildRoutes(r,null,n)}},qs=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},Wi=class{constructor(r,e){this.component=r,this.route=e}};function Sw(t,r,e){let n=t._root,i=r?r._root:null;return Qo(n,i,e,[n.value])}function Ew(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function Gi(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!cm(t)?t:r.get(t):n}function Qo(t,r,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ui(r);return t.children.forEach(c=>{Rw(c,o[c.value.outlet],e,n.concat([c.value]),i),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,u])=>Zo(u,e.getContext(c),i)),i}function Rw(t,r,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,c=r?r.value:null,u=e?e.getContext(t.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){let d=Dw(c,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new qs(n)):(o.data=c.data,o._resolvedData=c._resolvedData),o.component?Qo(t,r,u?u.children:null,n,i):Qo(t,r,e,n,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Wi(u.outlet.component,c))}else c&&Zo(r,u,i),i.canActivateChecks.push(new qs(n)),o.component?Qo(t,null,u?u.children:null,n,i):Qo(t,null,e,n,i);return i}function Dw(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!ri(t.url,r.url);case"pathParamsOrQueryParamsChange":return!ri(t.url,r.url)||!wr(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qu(t,r)||!wr(t.queryParams,r.queryParams);case"paramsChange":default:return!Qu(t,r)}}function Zo(t,r,e){let n=Ui(t),i=t.value;Object.entries(n).forEach(([o,c])=>{i.component?r?Zo(c,r.children.getContext(o),e):Zo(c,null,e):Zo(c,r,e)}),i.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new Wi(r.outlet.component,i)):e.canDeactivateChecks.push(new Wi(null,i)):e.canDeactivateChecks.push(new Wi(null,i))}function ua(t){return typeof t=="function"}function Ow(t){return typeof t=="boolean"}function kw(t){return t&&ua(t.canLoad)}function Aw(t){return t&&ua(t.canActivate)}function Iw(t){return t&&ua(t.canActivateChild)}function Mw(t){return t&&ua(t.canDeactivate)}function Tw(t){return t&&ua(t.canMatch)}function Ap(t){return t instanceof tm||t?.name==="EmptyError"}var Ts=Symbol("INITIAL_VALUE");function Yi(){return Ke(t=>bs(t.map(r=>r.pipe(pr(1),tr(Ts)))).pipe(mt(r=>{for(let e of r)if(e!==!0){if(e===Ts)return Ts;if(e===!1||Pw(e))return e}return!0}),wt(r=>r!==Ts),pr(1)))}function Pw(t){return ni(t)||t instanceof na}function Nw(t,r){return qt(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return c.length===0&&o.length===0?rt(gt(B({},e),{guardsResult:!0})):Lw(c,n,i,t).pipe(qt(u=>u&&Ow(u)?$w(n,o,t,r):rt(u)),mt(u=>gt(B({},e),{guardsResult:u})))})}function Lw(t,r,e,n){return he(t).pipe(qt(i=>Uw(i.component,i.route,e,r,n)),fn(i=>i!==!0,!0))}function $w(t,r,e,n){return he(r).pipe(ki(i=>rm(Bw(i.route.parent,n),Fw(i.route,n),zw(t,i.path,e),jw(t,i.route,e))),fn(i=>i!==!0,!0))}function Fw(t,r){return t!==null&&r&&r(new Vu(t)),rt(!0)}function Bw(t,r){return t!==null&&r&&r(new zu(t)),rt(!0)}function jw(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return rt(!0);let i=n.map(o=>Gn(()=>{let c=ca(r)??e,u=Gi(o,c),d=Aw(u)?u.canActivate(r,t):gr(c,()=>u(r,t));return Cn(d).pipe(fn())}));return rt(i).pipe(Yi())}function zw(t,r,e){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(c=>Ew(c)).filter(c=>c!==null).map(c=>Gn(()=>{let u=c.guards.map(d=>{let m=ca(c.node)??e,p=Gi(d,m),b=Iw(p)?p.canActivateChild(n,t):gr(m,()=>p(n,t));return Cn(b).pipe(fn())});return rt(u).pipe(Yi())}));return rt(o).pipe(Yi())}function Uw(t,r,e,n,i){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return rt(!0);let c=o.map(u=>{let d=ca(r)??i,m=Gi(u,d),p=Mw(m)?m.canDeactivate(t,r,e,n):gr(d,()=>m(t,r,e,n));return Cn(p).pipe(fn())});return rt(c).pipe(Yi())}function Vw(t,r,e,n){let i=r.canLoad;if(i===void 0||i.length===0)return rt(!0);let o=i.map(c=>{let u=Gi(c,t),d=kw(u)?u.canLoad(r,e):gr(t,()=>u(r,e));return Cn(d)});return rt(o).pipe(Yi(),Ip(n))}function Ip(t){return Zh(me(r=>{if(typeof r!="boolean")throw Hs(t,r)}),mt(r=>r===!0))}function Kw(t,r,e,n){let i=r.canMatch;if(!i||i.length===0)return rt(!0);let o=i.map(c=>{let u=Gi(c,t),d=Tw(u)?u.canMatch(r,e):gr(t,()=>u(r,e));return Cn(d)});return rt(o).pipe(Yi(),Ip(n))}var ia=class{constructor(r){this.segmentGroup=r||null}},oa=class extends Error{constructor(r){super(),this.urlTree=r}};function zi(t){return Bo(new ia(t))}function Ww(t){return Bo(new _e(4e3,!1))}function Hw(t){return Bo(Op(!1,Ne.GuardRejected))}var Xu=class{constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return rt(n);if(i.numberOfChildren>1||!i.children[pt])return Ww(`${r.redirectTo}`);i=i.children[pt]}}applyRedirectCommands(r,e,n,i,o){if(typeof e!="string"){let u=e,{queryParams:d,fragment:m,routeConfig:p,url:b,outlet:w,params:E,data:O,title:$}=i,W=gr(o,()=>u({params:E,data:O,queryParams:d,fragment:m,routeConfig:p,url:b,outlet:w,title:$}));if(W instanceof Vr)throw new oa(W);e=W}let c=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new oa(c);return c}applyRedirectCreateUrlTree(r,e,n,i){let o=this.createSegmentGroup(r,e.root,n,i);return new Vr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);n[i]=e[u]}else n[i]=o}),n}createSegmentGroup(r,e,n,i){let o=this.createSegments(r,e.segments,n,i),c={};return Object.entries(e.children).forEach(([u,d])=>{c[u]=this.createSegmentGroup(r,d,n,i)}),new Ot(o,c)}createSegments(r,e,n,i){return e.map(o=>o.path[0]===":"?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,e,n){let i=n[e.path.substring(1)];if(!i)throw new _e(4001,!1);return i}findOrReturn(r,e){let n=0;for(let i of e){if(i.path===r.path)return e.splice(n),i;n++}return r}},Zu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qw(t,r,e,n,i){let o=Mp(t,r,e);return o.matched?(n=pw(r,n),Kw(n,r,e,i).pipe(mt(c=>c===!0?o:B({},Zu)))):rt(o)}function Mp(t,r,e){if(r.path==="**")return Qw(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?B({},Zu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(r.matcher||Vx)(e,t,r);if(!i)return B({},Zu);let o={};Object.entries(i.posParams??{}).forEach(([u,d])=>{o[u]=d.path});let c=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Qw(t){return{matched:!0,parameters:t.length>0?dp(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ip(t,r,e,n){return e.length>0&&Xw(t,e,n)?{segmentGroup:new Ot(r,Gw(n,new Ot(e,t.children))),slicedSegments:[]}:e.length===0&&Zw(t,e,n)?{segmentGroup:new Ot(t.segments,Yw(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new Ot(t.segments,t.children),slicedSegments:e}}function Yw(t,r,e,n){let i={};for(let o of e)if(Gs(t,r,o)&&!n[nr(o)]){let c=new Ot([],{});i[nr(o)]=c}return B(B({},n),i)}function Gw(t,r){let e={};e[pt]=r;for(let n of t)if(n.path===""&&nr(n)!==pt){let i=new Ot([],{});e[nr(n)]=i}return e}function Xw(t,r,e){return e.some(n=>Gs(t,r,n)&&nr(n)!==pt)}function Zw(t,r,e){return e.some(n=>Gs(t,r,n))}function Gs(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Jw(t,r,e){return r.length===0&&!t.children[e]}var Ju=class{};function t0(t,r,e,n,i,o,c="emptyOnly"){return new td(t,r,e,n,i,c,o).recognize()}var e0=31,td=class{constructor(r,e,n,i,o,c,u){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=u,this.applyRedirects=new Xu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new _e(4002,`'${r.segmentGroup}'`)}recognize(){let r=ip(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(mt(({children:e,rootSnapshot:n})=>{let i=new Pe(n,e),o=new Ws("",i),c=cw(n,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),{state:o,tree:c}}))}match(r){let e=new Ki([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,pt,e).pipe(mt(n=>({children:n,rootSnapshot:e})),Oi(n=>{if(n instanceof oa)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ia?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,o):this.processSegment(r,e,n,n.segments,i,!0,o).pipe(mt(c=>c instanceof Pe?[c]:[]))}processChildren(r,e,n,i){let o=[];for(let c of Object.keys(n.children))c==="primary"?o.unshift(c):o.push(c);return he(o).pipe(ki(c=>{let u=n.children[c],d=gw(e,c);return this.processSegmentGroup(r,d,u,c,i)}),am((c,u)=>(c.push(...u),c)),du(null),im(),qt(c=>{if(c===null)return zi(n);let u=Tp(c);return r0(u),rt(u)}))}processSegment(r,e,n,i,o,c,u){return he(e).pipe(ki(d=>this.processSegmentAgainstRoute(d._injector??r,e,d,n,i,o,c,u).pipe(Oi(m=>{if(m instanceof ia)return rt(null);throw m}))),fn(d=>!!d),Oi(d=>{if(Ap(d))return Jw(n,i,o)?rt(new Ju):zi(n);throw d}))}processSegmentAgainstRoute(r,e,n,i,o,c,u,d){return nr(n)!==c&&(c===pt||!Gs(i,o,n))?zi(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,n,o,c,d):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(r,i,e,n,o,c,d):zi(i)}expandSegmentAgainstRouteUsingRedirect(r,e,n,i,o,c,u){let{matched:d,parameters:m,consumedSegments:p,positionalParamSegments:b,remainingSegments:w}=Mp(e,i,o);if(!d)return zi(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>e0&&(this.allowRedirects=!1));let E=new Ki(o,m,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,op(i),nr(i),i.component??i._loadedComponent??null,i,ap(i)),O=Ks(E,u,this.paramsInheritanceStrategy);E.params=Object.freeze(O.params),E.data=Object.freeze(O.data);let $=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,b,E,r);return this.applyRedirects.lineralizeSegments(i,$).pipe(qt(W=>this.processSegment(r,n,e,W.concat(w),c,!1,u)))}matchSegmentAgainstRoute(r,e,n,i,o,c){let u=qw(e,n,i,r,this.urlSerializer);return n.path==="**"&&(e.children={}),u.pipe(Ke(d=>d.matched?(r=n._injector??r,this.getChildConfig(r,n,i).pipe(Ke(({routes:m})=>{let p=n._loadedInjector??r,{parameters:b,consumedSegments:w,remainingSegments:E}=d,O=new Ki(w,b,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,op(n),nr(n),n.component??n._loadedComponent??null,n,ap(n)),$=Ks(O,c,this.paramsInheritanceStrategy);O.params=Object.freeze($.params),O.data=Object.freeze($.data);let{segmentGroup:W,slicedSegments:et}=ip(e,w,E,m);if(et.length===0&&W.hasChildren())return this.processChildren(p,m,W,O).pipe(mt(Z=>new Pe(O,Z)));if(m.length===0&&et.length===0)return rt(new Pe(O,[]));let ot=nr(n)===o;return this.processSegment(p,m,W,et,ot?pt:o,!0,O).pipe(mt(Z=>new Pe(O,Z instanceof Pe?[Z]:[])))}))):zi(e)))}getChildConfig(r,e,n){return e.children?rt({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?rt({routes:e._loadedRoutes,injector:e._loadedInjector}):Vw(r,e,n,this.urlSerializer).pipe(qt(i=>i?this.configLoader.loadChildren(r,e).pipe(me(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Hw(e))):rt({routes:[],injector:r})}};function r0(t){t.sort((r,e)=>r.value.outlet===pt?-1:e.value.outlet===pt?1:r.value.outlet.localeCompare(e.value.outlet))}function n0(t){let r=t.value.routeConfig;return r&&r.path===""}function Tp(t){let r=[],e=new Set;for(let n of t){if(!n0(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):r.push(n)}for(let n of e){let i=Tp(n.children);r.push(new Pe(n.value,i))}return r.filter(n=>!e.has(n))}function op(t){return t.data||{}}function ap(t){return t.resolve||{}}function i0(t,r,e,n,i,o){return qt(c=>t0(t,r,e,n,c.extractedUrl,i,o).pipe(mt(({state:u,tree:d})=>gt(B({},c),{targetSnapshot:u,urlAfterRedirects:d}))))}function o0(t,r){return qt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return rt(e);let o=new Set(i.map(d=>d.route)),c=new Set;for(let d of o)if(!c.has(d))for(let m of Pp(d))c.add(m);let u=0;return he(c).pipe(ki(d=>o.has(d)?a0(d,n,t,r):(d.data=Ks(d,d.parent,t).resolve,rt(void 0))),me(()=>u++),fu(1),qt(d=>u===c.size?rt(e):dn))})}function Pp(t){let r=t.children.map(e=>Pp(e)).flat();return[t,...r]}function a0(t,r,e,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Rp(i)&&(o[aa]=i.title),s0(o,t,r,n).pipe(mt(c=>(t._resolvedData=c,t.data=Ks(t,t.parent,e).resolve,null)))}function s0(t,r,e,n){let i=Iu(t);if(i.length===0)return rt({});let o={};return he(i).pipe(qt(c=>c0(t[c],r,e,n).pipe(fn(),me(u=>{if(u instanceof na)throw Hs(new qi,u);o[c]=u}))),fu(1),nm(o),Oi(c=>Ap(c)?dn:Bo(c)))}function c0(t,r,e,n){let i=ca(r)??n,o=Gi(t,i),c=o.resolve?o.resolve(r,e):gr(i,()=>o(r,e));return Cn(c)}function ku(t){return Ke(r=>{let e=t(r);return e?he(e).pipe(mt(()=>r)):rt(r)})}var Np=(()=>{class t{buildTitle(e){let n,i=e.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===pt);return n}getResolvedTitleForRoute(e){return e.data[aa]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:()=>X(l0),providedIn:"root"})}}return t})(),l0=(()=>{class t extends Np{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||t)(K($m))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),da=new vt("",{providedIn:"root",factory:()=>({})}),nd=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[Re],decls:1,vars:0,template:function(n,i){n&1&&We(0,"router-outlet")},dependencies:[bw],encapsulation:2})}}return t})();function id(t){let r=t.children&&t.children.map(id),e=r?gt(B({},t),{children:r}):B({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=nd),e}var wn=new vt(""),od=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(Li)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return rt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Cn(e.loadComponent()).pipe(mt(Lp),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ii(()=>{this.componentLoaders.delete(e)})),i=new Yn(n,()=>new lt).pipe(Fo());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return rt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=u0(n,this.compiler,e,this.onLoadEndListener).pipe(Ii(()=>{this.childrenLoaders.delete(n)})),c=new Yn(o,()=>new lt).pipe(Fo());return this.childrenLoaders.set(n,c),c}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function u0(t,r,e,n){return Cn(t.loadChildren()).pipe(mt(Lp),qt(i=>i instanceof ws||Array.isArray(i)?rt(i):he(r.compileModuleAsync(i))),mt(i=>{n&&n(t);let o,c,u=!1;return Array.isArray(i)?(c=i,u=!0):(o=i.create(e).injector,c=o.get(wn,[],{optional:!0,self:!0}).flat()),{routes:c.map(id),injector:o}}))}function d0(t){return t&&typeof t=="object"&&"default"in t}function Lp(t){return d0(t)?t.default:t}var ad=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:()=>X(f0),providedIn:"root"})}}return t})(),f0=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$p=new vt(""),Fp=new vt("");function h0(t,r,e){let n=t.get(Fp),i=t.get(Qt);return t.get(zt).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,c=new Promise(m=>{o=m}),u=i.startViewTransition(()=>(o(),m0(t))),{onViewTransitionCreated:d}=n;return d&&gr(t,()=>d({transition:u,from:r,to:e})),c})}function m0(t){return new Promise(r=>{Ti({read:()=>setTimeout(r)},{injector:t})})}var p0=new vt(""),sd=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=X(od),this.environmentInjector=X(Xn),this.urlSerializer=X(sa),this.rootContexts=X(la),this.location=X(rr),this.inputBindingEnabled=X(Ys,{optional:!0})!==null,this.titleStrategy=X(Np),this.options=X(da,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(ad),this.createViewTransition=X($p,{optional:!0}),this.navigationErrorHandler=X(p0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>rt(void 0),this.rootComponentType=null;let e=i=>this.events.next(new Bu(i)),n=i=>this.events.next(new ju(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(gt(B(B({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,i){return this.transitions=new fe({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(o=>o.id!==0),mt(o=>gt(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ke(o=>{let c=!1,u=!1;return rt(o).pipe(Ke(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ne.SupersededByNewNavigation),dn;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?gt(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&p!=="reload"){let b="";return this.events.next(new xn(d.id,this.urlSerializer.serialize(d.rawUrl),b,Bs.IgnoredSameUrlNavigation)),d.resolve(!1),dn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return rt(d).pipe(Ke(b=>{let w=this.transitions?.getValue();return this.events.next(new _n(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),w!==this.transitions?.getValue()?dn:Promise.resolve(b)}),i0(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),me(b=>{o.targetSnapshot=b.targetSnapshot,o.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=gt(B({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let w=new js(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(w)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:b,extractedUrl:w,source:E,restoredState:O,extras:$}=d,W=new _n(b,this.urlSerializer.serialize(w),E,O);this.events.next(W);let et=Sp(this.rootComponentType).snapshot;return this.currentTransition=o=gt(B({},d),{targetSnapshot:et,urlAfterRedirects:w,extras:gt(B({},$),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,rt(o)}else{let b="";return this.events.next(new xn(d.id,this.urlSerializer.serialize(d.extractedUrl),b,Bs.IgnoredByUrlHandlingStrategy)),d.resolve(!1),dn}}),me(d=>{let m=new Nu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),mt(d=>(this.currentTransition=o=gt(B({},d),{guards:Sw(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),Nw(this.environmentInjector,d=>this.events.next(d)),me(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Hs(this.urlSerializer,d.guardsResult);let m=new Lu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),wt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Ne.GuardRejected),!1)),ku(d=>{if(d.guards.canActivateChecks.length)return rt(d).pipe(me(m=>{let p=new $u(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}),Ke(m=>{let p=!1;return rt(m).pipe(o0(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(m,"",Ne.NoDataFromResolver)}}))}),me(m=>{let p=new Fu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}))}),ku(d=>{let m=p=>{let b=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(p.routeConfig).pipe(me(w=>{p.component=w}),mt(()=>{})));for(let w of p.children)b.push(...m(w));return b};return bs(m(d.targetSnapshot.root)).pipe(du(null),pr(1))}),ku(()=>this.afterPreactivation()),Ke(()=>{let{currentSnapshot:d,targetSnapshot:m}=o,p=this.createViewTransition?.(this.environmentInjector,d.root,m.root);return p?he(p).pipe(mt(()=>o)):rt(o)}),mt(d=>{let m=yw(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=gt(B({},d),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),me(()=>{this.events.next(new ea)}),Cw(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),pr(1),me({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),hn(this.transitionAbortSubject.pipe(me(d=>{throw d}))),Ii(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Ne.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Oi(d=>{if(u=!0,kp(d))this.events.next(new ir(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),ww(d)?this.events.next(new Qi(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let m=new ta(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let p=gr(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(p instanceof na){let{message:b,cancellationCode:w}=Hs(this.urlSerializer,p);this.events.next(new ir(o.id,this.urlSerializer.serialize(o.extractedUrl),b,w)),this.events.next(new Qi(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(m);let b=e.errorHandler(d);o.resolve(!!b)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return dn}))}))}cancelNavigationTransition(e,n,i){let o=new ir(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function g0(t){return t!==Xo}var cd=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:()=>X(v0),providedIn:"root"})}}return t})(),ed=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},v0=(()=>{class t extends ed{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})()}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:()=>X(b0),providedIn:"root"})}}return t})(),b0=(()=>{class t extends Bp{constructor(){super(...arguments),this.location=X(rr),this.urlSerializer=X(sa),this.options=X(da,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(ad),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Sp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof _n)this.stateMemento=this.createStateMemento();else if(e instanceof xn)this.rawUrlTree=n.initialUrl;else if(e instanceof js){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??i,n)}}else e instanceof ea?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof ir&&(e.code===Ne.GuardRejected||e.code===Ne.NoDataFromResolver)?this.restoreHistory(n):e instanceof ta?this.restoreHistory(n,!0):e instanceof Cr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let i=e instanceof Vr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let o=this.browserPageId,c=B(B({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(i,"",c)}else{let o=B(B({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})()}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Yo||{});function jp(t,r){t.events.pipe(wt(e=>e instanceof Cr||e instanceof ir||e instanceof ta||e instanceof xn),mt(e=>e instanceof Cr||e instanceof xn?Yo.COMPLETE:(e instanceof ir?e.code===Ne.Redirect||e.code===Ne.SupersededByNewNavigation:!1)?Yo.REDIRECTING:Yo.FAILED),wt(e=>e!==Yo.REDIRECTING),pr(1)).subscribe(()=>{r()})}function y0(t){throw t}var _0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},De=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=X(Sm),this.stateManager=X(Bp),this.options=X(da,{optional:!0})||{},this.pendingTasks=X(mm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(sd),this.urlSerializer=X(sa),this.location=X(rr),this.urlHandlingStrategy=X(ad),this._events=new lt,this.errorHandler=this.options.errorHandler||y0,this.navigated=!1,this.routeReuseStrategy=X(cd),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(wn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(Ys,{optional:!0}),this.eventsSubscription=new mr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof ir&&n.code!==Ne.Redirect&&n.code!==Ne.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Cr)this.navigated=!0;else if(n instanceof Qi){let c=n.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),d=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||g0(i.source)},c);this.scheduleNavigation(u,Xo,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}C0(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,i){let o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){let d=B({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(e);this.scheduleNavigation(u,n,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(id),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:d}=n,m=d?this.currentUrlTree.fragment:c,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let b;try{let w=i?i.snapshot:this.routerState.snapshot.root;b=_p(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),b=this.currentUrlTree.root}return xp(b,e,p,m??null)}navigateByUrl(e,n={skipLocationChange:!1}){let i=ni(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xo,null,n)}navigate(e,n={skipLocationChange:!1}){return w0(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===!0?i=B({},_0):n===!1?i=B({},x0):i=n,ni(e))return Jm(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Jm(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(e,n,i,o,c){if(this.disposed)return Promise.resolve(!1);let u,d,m;c?(u=c.resolve,d=c.reject,m=c.promise):m=new Promise((b,w)=>{u=b,d=w});let p=this.pendingTasks.add();return jp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(b=>Promise.reject(b))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function w0(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new _e(4008,!1)}function C0(t){return!(t instanceof ea)&&!(t instanceof Qi)}var bO=(()=>{class t{constructor(e,n,i,o,c,u){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ni(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,i,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(e!==0||n||i||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:gm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,e,n):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||t)(H(De),H(Sr),hm("tabindex"),H(vm),H(Vt),H(Ko))}}static{this.\u0275dir=jt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&Pi("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),n&2&&Te("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ge],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ge],replaceUrl:[2,"replaceUrl","replaceUrl",ge],routerLink:"routerLink"},standalone:!0,features:[gn,mn]})}}return t})();var Qs=class{};var S0=(()=>{class t{constructor(e,n,i,o,c){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(wt(e=>e instanceof Cr),ki(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=pu(o.providers,e,`Route: ${o.path}`));let c=o._injector??e,u=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(u,o.children??o._loadedRoutes))}return he(i).pipe(cu())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(e,n):i=rt(null);let o=i.pipe(qt(c=>c===null?rt(void 0):(n._loadedRoutes=c.routes,n._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(n.loadComponent&&!n._loadedComponent){let c=this.loader.loadComponent(n);return he([o,c]).pipe(cu())}else return o})}static{this.\u0275fac=function(n){return new(n||t)(K(De),K(Li),K(Xn),K(Qs),K(od))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zp=new vt(""),E0=(()=>{class t{constructor(e,n,i,o,c={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cr?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof xn&&e.code===Bs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof zs&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zs(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){zo()}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})();function yO(t,...r){return um([{provide:wn,multi:!0,useValue:t},[],{provide:Sr,useFactory:Up,deps:[De]},{provide:_u,multi:!0,useFactory:Vp},r.map(e=>e.\u0275providers)])}function Up(t){return t.routerState.root}function fa(t,r){return{\u0275kind:t,\u0275providers:r}}function Vp(){let t=X(Wt);return r=>{let e=t.get(Ss);if(r!==e.components[0])return;let n=t.get(De),i=t.get(Kp);t.get(ld)===1&&n.initialNavigation(),t.get(Wp,null,mu.Optional)?.setUpPreloading(),t.get(zp,null,mu.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Kp=new vt("",{factory:()=>new lt}),ld=new vt("",{providedIn:"root",factory:()=>1});function R0(){return fa(2,[{provide:ld,useValue:0},{provide:Vo,multi:!0,deps:[Wt],useFactory:r=>{let e=r.get(Am,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let i=r.get(De),o=r.get(Kp);jp(i,()=>{n(!0)}),r.get(sd).afterPreactivation=()=>(n(!0),o.closed?rt(void 0):o),i.initialNavigation()}))}}])}function D0(){return fa(3,[{provide:Vo,multi:!0,useFactory:()=>{let r=X(De);return()=>{r.setUpLocationChangeListener()}}},{provide:ld,useValue:2}])}var Wp=new vt("");function O0(t){return fa(0,[{provide:Wp,useExisting:S0},{provide:Qs,useExisting:t}])}function k0(){return fa(8,[np,{provide:Ys,useExisting:np}])}function A0(t){let r=[{provide:$p,useValue:h0},{provide:Fp,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return fa(9,r)}var sp=new vt("ROUTER_FORROOT_GUARD"),I0=[rr,{provide:sa,useClass:qi},De,la,{provide:Sr,useFactory:Up,deps:[De]},od,[]],Hp=(()=>{class t{constructor(e){}static forRoot(e,n){return{ngModule:t,providers:[I0,[],{provide:wn,multi:!0,useValue:e},{provide:sp,useFactory:N0,deps:[[De,new ys,new _s]]},{provide:da,useValue:n||{}},n?.useHash?T0():P0(),M0(),n?.preloadingStrategy?O0(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?L0(n):[],n?.bindToComponentInputs?k0().\u0275providers:[],n?.enableViewTransitions?A0().\u0275providers:[],$0()]}}static forChild(e){return{ngModule:t,providers:[{provide:wn,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||t)(K(sp,8))}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({})}}return t})();function M0(){return{provide:zp,useFactory:()=>{let t=X(Nm),r=X(zt),e=X(da),n=X(sd),i=X(sa);return e.scrollOffset&&t.setOffset(e.scrollOffset),new E0(i,n,t,r,e)}}}function T0(){return{provide:Ko,useClass:Mm}}function P0(){return{provide:Ko,useClass:Im}}function N0(t){return"guarded"}function L0(t){return[t.initialNavigation==="disabled"?D0().\u0275providers:[],t.initialNavigation==="enabledBlocking"?R0().\u0275providers:[]]}var cp=new vt("");function $0(){return[{provide:cp,useFactory:Vp},{provide:_u,multi:!0,useExisting:cp}]}var F0=new vt("LOCALIZE_ROUTER_FORROOT_GUARD"),ud=new vt("RAW_ROUTES"),Sn=function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Cookie="Cookie",t}(Sn||{}),Qp=new vt("USE_CACHED_LANG"),Yp=new vt("CACHE_MECHANISM"),Gp=new vt("CACHE_NAME"),Xp=new vt("COOKIE_FORMAT"),Zp=new vt("INITIAL_NAVIGATION"),Jp=new vt("DEFAULT_LANG_FUNCTION"),tg=new vt("ALWAYS_SET_PREFIX"),B0="LOCALIZE_DEFAULT_LANGUAGE",j0="{{value}};{{expires}}",z0=!1,Zs=(()=>{class t{constructor(e=!0,n=!0,i=Sn.LocalStorage,o=B0,c=void 0,u=j0,d=z0){this.useCachedLang=e,this.alwaysSetPrefix=n,this.cacheName=o,this.cookieFormat=u,this.initialNavigation=d,this.cacheMechanism=i,this.defaultLangFunction=c}static{this.\u0275fac=function(n){return new(n||t)(K(Qp),K(tg),K(Yp),K(Gp),K(Jp),K(Xp),K(Zp))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})(),U0=30,ha=(()=>{class t{constructor(e,n,i){this.translate=e,this.location=n,this.settings=i}init(e){let n;if(this.routes=e,!this.locales||!this.locales.length)return Promise.resolve();let i=this.getLocationLang(),o=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,o):this.defaultLang=this._cachedLang||o||this.locales[0],n=i||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let c=[];if(this.settings.alwaysSetPrefix){let u={path:"",redirectTo:this.defaultLang,pathMatch:"full"},d=e.findIndex(m=>m.path==="**");d!==-1&&(this._wildcardRoute=e.splice(d,1)[0]),c=this.routes.splice(0,this.routes.length,u)}else c=[...this.routes];for(let u=c.length-1;u>=0;u--)c[u].data&&c[u].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(c[u]),(c[u].redirectTo===void 0||!c[u].data.skipRouteLocalization.localizeRedirectTo||typeof c[u].redirectTo=="function")&&c.splice(u,1));return c&&c.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:c},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),em(this.translateRoutes(n))}initChildRoutes(e){return this._translateRouteTree(e),e}translateRoutes(e){return new $o(n=>{this._cachedLang=e,this._languageRoute&&(this._languageRoute.path=e),this.translate.use(e).subscribe(i=>{this._translationObject=i,this.currentLang=e,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(e,n){e.forEach(i=>{let o=i.data&&i.data.skipRouteLocalization,c=!o||o.localizeRedirectTo;if(i.redirectTo&&c&&typeof i.redirectTo!="function"){let u=i.redirectTo.indexOf("/")===0||n;this._translateProperty(i,"redirectTo",u)}o||(i.path!==null&&i.path!==void 0&&this._translateProperty(i,"path"),i.children&&this._translateRouteTree(i.children),i.loadChildren&&i._loadedRoutes?.length&&this._translateRouteTree(i._loadedRoutes))})}_translateProperty(e,n,i){let o=e.data=e.data||{};o.localizeRouter||(o.localizeRouter={}),o.localizeRouter[n]||(o.localizeRouter=gt(B({},o.localizeRouter),{[n]:e[n]}));let c=this.translateRoute(o.localizeRouter[n]);e[n]=i?this.addPrefixToUrl(c):c}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(e){let n=e.split("?"),i=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let o=n.join("?");return this.urlPrefix===""?o:!o.startsWith("/")&&!i?`${this.urlPrefix}/${o}`:`/${this.urlPrefix}${o}`}translateRoute(e){let n=e.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(o=>o.length?this.translateText(o):o).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(e){let n=(e||this.location.path()).split(/[\?;]/),i=[];return n.length>0&&(i=n[0].split("/")),i.length>1&&this.locales.indexOf(i[1])!==-1?i[1]:i.length&&this.locales.indexOf(i[0])!==-1?i[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Sn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Sn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Sn.Cookie)return this._cacheWithCookies()}}set _cachedLang(e){this.settings.useCachedLang&&(this.settings.cacheMechanism===Sn.LocalStorage&&this._cacheWithLocalStorage(e),this.settings.cacheMechanism===Sn.SessionStorage&&this._cacheWithSessionStorage(e),this.settings.cacheMechanism===Sn.Cookie&&this._cacheWithCookies(e))}_cacheWithLocalStorage(e){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(e){window.localStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(e){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(e){window.sessionStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(e){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(e){let c=`${this.settings.cookieFormat}`;c=c.replace("{{value}}",`${n}=${encodeURIComponent(e)}`).replace(/{{expires:?(\d+)?}}/g,(u,d)=>{let m=d===void 0?U0:parseInt(d,10),p=new Date;return p.setTime(p.getTime()+m*864e5),`expires=${p.toUTCString()}`}),document.cookie=c;return}let o=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(o[1])}catch{return}}_returnIfInLocales(e){return e&&this.locales.indexOf(e)!==-1?e:null}translateText(e){if(this.escapePrefix&&e.startsWith(this.escapePrefix))return e.replace(this.escapePrefix,"");{if(!this._translationObject)return e;let n=this.prefix+e,i=this.translate.getParsedResult(this._translationObject,n);return i!==n?i:e}}chooseQueryParams(e,n){let i;return e&&e.queryParams?i=e.queryParams:n&&(i=n),i}formatQueryParams(e){return new Lm({fromObject:e}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(n){return new(n||t)(K(Wm),K(rr),K(Zs))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})();var V0=(()=>{class t extends ha{load(e){return new Promise(n=>{this.init(e).then(n)})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})()}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})();function Xs(t,r){if(t===r)return!0;if(t===null||r===null)return!1;if(t!==t&&r!==r)return!0;let e=typeof t,n=typeof r,i,o,c;if(e===n&&e==="object")if(Array.isArray(t)){if(!Array.isArray(r))return!1;if((i=t.length)===r.length){for(o=0;o<i;o++)if(!Xs(t[o],r[o]))return!1;return!0}}else{if(Array.isArray(r))return!1;c=Object.create(null);for(o in t)if(t.hasOwnProperty(o)){if(!Xs(t[o],r[o]))return!1;c[o]=!0}for(o in r)if(r.hasOwnProperty(o)&&!(o in c)&&typeof r[o]<"u")return!1;return!0}return!1}function K0(t){return!!t&&typeof t.then=="function"}function fd(t){let r=Array.isArray(t)?[]:{};for(let e in t)if(e){let n=t[e];r[e]=typeof n=="object"?fd(n):n}return r}var hd=(()=>{class t{constructor(e,n,i,o){this.parser=e,this.settings=n,this.router=i,this.route=o,this.routerEvents=new lt;let c=new Jh(1);this.hooks={_initializedSubject:c,initialized:c.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(wt(e=>e instanceof _n),hu()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(e,n,i){if(e!==this.parser.currentLang){let o=this.router.routerState.snapshot.root;this.parser.translateRoutes(e).subscribe(()=>{let c=this.traverseRouteSnapshot(o);if(c=this.translateRoute(c),!this.settings.alwaysSetPrefix){let m=c.split("/"),p=m.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(p===0||p===1&&m[0]==="")&&(m=m.slice(0,p).concat(m.slice(p+1)));else if(p===-1){let b=m[0]===""?1:0;m=m.slice(0,b).concat(this.parser.currentLang,m.slice(b))}c=m.join("/")}c=c.replace(/\/+/g,"/");let u=c.lastIndexOf("/");u>0&&u===c.length-1&&(c=c.slice(0,-1));let d=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,i){let m=n?B({},n):{};d&&(m.queryParams=d),this.router.navigate([c],m)}else{let m=this.parser.formatQueryParams(d);m=m?`?${m}`:"",this.router.navigateByUrl(`${c}${m}`,n)}})}}traverseRouteSnapshot(e){return e.firstChild&&e.routeConfig?`${this.parseSegmentValue(e)}/${this.traverseRouteSnapshot(e.firstChild)}`:e.firstChild?this.traverseRouteSnapshot(e.firstChild):this.parseSegmentValue(e)}buildUrlFromSegments(e,n){return n.map((i,o)=>i.indexOf(":")===0?e.url[o].path:i).join("/")}parseSegmentValue(e){if(e.routeConfig&&e.routeConfig.matcher){let n=this.parseSegmentValueMatcher(e);return this.buildUrlFromSegments(e,n)}else if(e.data.localizeRouter){let i=e.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(e,i)}else if(e.parent&&e.parent.parent){let i=e.routeConfig.path.split("/");return this.buildUrlFromSegments(e,i)}else return""}parseSegmentValueMatcher(e){let n=e.data&&e.data.localizeMatcher&&e.data.localizeMatcher.params||{};return e.url.map(o=>{let c=o.path,u=o.localizedParamName;return(u&&n[u]?n[u](c):null)||`${this.parser.getEscapePrefix()}${c}`})}translateRoute(e){if(typeof e=="string"){let i=this.parser.translateRoute(e);return e.indexOf("/")?i:this.parser.addPrefixToUrl(i)}let n=[];return e.forEach((i,o)=>{if(typeof i=="string"){let c=this.parser.translateRoute(i);!o&&!i.indexOf("/")?n.push(this.parser.addPrefixToUrl(c)):n.push(c)}else n.push(i)}),n}_routeChanged(){return([e,n])=>{let i=this.parser.getLocationLang(e.url)||this.parser.defaultLang,o=this.parser.getLocationLang(n.url)||this.parser.defaultLang,c=this.lastExtras;o!==i&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(o).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,c),this.routerEvents.next(o)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let e=this.router.getCurrentNavigation(),n=this.router.serializeUrl(e.extractedUrl);this.router.events.next(new ir(e.id,n,"")),this.router.navigationTransitions.transitions.next(gt(B({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(e){this.router.resetConfig(fd(e))}static{this.\u0275fac=function(n){return new(n||t)(K(ha),K(Zs),K(De),K(Sr))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})(),W0=128,TO=(()=>{class t{constructor(e,n){this.localize=e,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(e){if(!e||e.length===0||!this.localize.parser.currentLang)return e;if(Xs(e,this.lastKey)&&Xs(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=e,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(e),this.lastKey=e;let n=this._ref._view;return n&&n.state&W0?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}static{this.\u0275fac=function(n){return new(n||t)(H(hd,16),H(yr,16))}}static{this.\u0275pipe=lm({name:"localize",type:t,pure:!1,standalone:!0})}}return t})(),dd=class{constructor(){}shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r&&e?this.getKey(r)===this.getKey(e):!1}getKey(r){if(r.firstChild&&r.firstChild.routeConfig&&r.firstChild.routeConfig.path&&r.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!r.data.localizeRouter&&(!r.parent||!r.parent.parent)&&!r.data.skipRouteLocalization)return"LANG";if(r.routeConfig.matcher){let e=`${this.getKey(r.parent)}/${r.routeConfig.matcher.name}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else if(r.data.localizeRouter){let e=`${this.getKey(r.parent)}/${r.data.localizeRouter.path}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else{let e=r.routeConfig.path;return r.parent&&(e=`${this.getKey(r.parent)}/${r.routeConfig.path}`),r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}}},H0=(()=>{class t extends De{constructor(){super(),this.platformId=X(pm),this.compiler=X(Li),this.localize=X(ha),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(i,o)=>Y0(o.loadChildren()).pipe(mt(Q0),qt(c=>c instanceof ws||Array.isArray(c)?rt(c):he(this.compiler.compileModuleAsync(c))),mt(c=>{this.onLoadEndListener&&this.onLoadEndListener(o);let u,d;if(Array.isArray(c))d=this.localize.initChildRoutes([].concat(...c));else{u=c.create(i).injector;let p=u.get.bind(u);u.get=(b,w,E)=>{let O=p(b,w,E);return b===wn?this.localize.initChildRoutes([].concat(...O)):O},d=u.get(wn,[],{optional:!0,self:!0}).reduce((b,w)=>b.concat(w),[])}return{routes:d.map(eg),injector:u}}));let n=Pm(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(i,o)=>{if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return rt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let u=this.loadModuleFactoryOrRoutes(i,o).pipe(Ii(()=>{this.childrenLoaders.delete(o)})),d=new Yn(u,()=>new lt).pipe(Fo());return this.childrenLoaders.set(o,d),d}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eg(t){let r=t.children&&t.children.map(eg),e=r?gt(B({},t),{children:r}):B({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=nd),e}function q0(t){return t&&typeof t=="object"&&"default"in t}function Q0(t){return q0(t)?t.default:t}function Y0(t){return Ri(t)?t:K0(t)?he(Promise.resolve(t)):rt(t)}var qp=(()=>{class t{constructor(e){this.injector=e}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(hd),i=this.injector.get(De),o=this.injector.get(Zs);if(n.init(),o.initialNavigation)return new Promise(c=>{let u=i.navigationTransitions.afterPreactivation,d=!0;i.navigationTransitions.afterPreactivation=()=>(d&&(c(),d=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),u())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(e,n){return this.parser=e,this.routes=n.reduce((i,o)=>i.concat(o)),this.appInitializer}static{this.\u0275fac=function(n){return new(n||t)(K(Wt))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac})}}return t})();function G0(t,r,e){let n=fd(e);return t.generateInitializer(r,n).bind(t)}function X0(t,r){return[{provide:De,useClass:H0},{provide:F0,useFactory:J0,deps:[[Z0,new ys,new _s]]},{provide:Qp,useValue:r.useCachedLang},{provide:tg,useValue:r.alwaysSetPrefix},{provide:Gp,useValue:r.cacheName},{provide:Yp,useValue:r.cacheMechanism},{provide:Jp,useValue:r.defaultLangFunction},{provide:Xp,useValue:r.cookieFormat},{provide:Zp,useValue:r.initialNavigation},Zs,r.parser||{provide:ha,useClass:V0},{provide:ud,multi:!0,useValue:t},hd,qp,{provide:Vo,multi:!0,useFactory:G0,deps:[qp,ha,ud]},{provide:cd,useClass:dd}]}var Z0=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:X0(e,n)}}static forChild(e){return{ngModule:t,providers:[{provide:ud,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({imports:[Tm,Hp,Hm]})}}return t})();function J0(t){if(t)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function ii(t){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ii(t)}function rg(t,r){if(ii(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ng(t){var r=rg(t,"string");return ii(r)=="symbol"?r:r+""}function ig(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ng(n.key),n)}}function xe(t,r,e){return r&&ig(t.prototype,r),e&&ig(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ma(t){return Array.isArray(t)?t.slice(0):[t]}function Er(t){return Array.isArray(t)}function og(t){return t!=null}function Js(t,r){var e=0,n=-1;for(var i of t){n=n+1;var o=r(i,n);if(o)e=e+1;else break}return e}function or(t,r){var e=r.length;if(e!==0){var n=t.length;t.length=n+r.length;for(var i=0;i<e;++i)t[n+i]=r[i]}}function ag(t){return t.filter(function(r,e,n){return n.indexOf(r)===e})}function sg(t){for(var r="",e=new Uint8Array(t),n=e.byteLength,i=0;i<n;i++)r+=String.fromCharCode(e[i]);return btoa(r)}function cg(t,r){return z(this,null,function*(){var e=yield fetch("data:"+r+";base64,"+t),n=yield e.blob();return n})}function lg(t){var r=Object.prototype.toString.call(t);return r==="[object Uint8Array]"&&(t=new Blob([t])),typeof t=="string"?Promise.resolve(t):t.text()}function ug(t){return z(this,null,function*(){if(typeof t=="string")return t;var r=Object.prototype.toString.call(t);r==="[object Uint8Array]"&&(t=new Blob([t]));var e=yield t.arrayBuffer();return sg(e)})}function dg(t){return t.size}function oi(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(n==="-")return parseInt(r,10);r+=n}throw new Error("malformatted revision: "+t)}function Xi(t,r){var e=r?oi(r._rev)+1:1;return e+"-"+t}function pd(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==null&&(typeof t[r]=="object"||typeof t[r]=="function")&&!Object.isFrozen(t[r])&&pd(t[r])}),t}function fg(t){var r=t.split("."),e=r.length;return e===1?n=>n[t]:n=>{for(var i=n,o=0;o<e;++o){var c=r[o];if(i=i[c],typeof i>"u")return i}return i}}function tc(t){var r={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))if(typeof t[e]=="object"){var n=tc(t[e]);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[e+"."+i]=n[i])}else r[e]=t[e];return r}function kt(t){return Object.assign({},t)}function hg(t){return Object.keys(t)[0]}function Zi(t,r=!1){if(!t)return t;if(!r&&Array.isArray(t))return t.sort((n,i)=>typeof n=="string"&&typeof i=="string"?n.localeCompare(i):typeof n=="object"?1:-1).map(n=>Zi(n,r));if(typeof t=="object"&&!Array.isArray(t)){var e={};return Object.keys(t).sort((n,i)=>n.localeCompare(i)).forEach(n=>{e[n]=Zi(t[n],r)}),e}return t}function md(t){if(!t||t===null||typeof t!="object")return t;if(Array.isArray(t)){for(var r=new Array(t.length),e=r.length;e--;)r[e]=md(t[e]);return r}var n={};for(var i in t)n[i]=md(t[i]);return n}var qe=md;function Le(t,r,e){return Object.defineProperty(t,r,{get:function(){return e}}),e}var ec=1;function En(){return{lwt:ec}}function Kr(){return""}function mg(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function pg(t,r,e){if(r.length!==e.length)return!1;for(var n=0,i=r.length;n<i;){var o=r[n],c=e[n];if(n++,o._rev!==c._rev||o[t]!==c[t])return!1}return!0}var JO=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var tk=Object.freeze(["prototype","__proto__","constructor"]);var tC="[native code] }",ek=tC.length;var Rn=class t{constructor(r,e){r=this.words=r||[],this.sigBytes=e===void 0?r.length*4:e}toString(r){return(r||eC).stringify(this)}concat(r){if(this.clamp(),this.sigBytes%4)for(let e=0;e<r.sigBytes;e++){let n=r.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<r.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=r.words[e>>>2];return this.sigBytes+=r.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new t([...this.words])}},eC={stringify(t){let r=[];for(let e=0;e<t.sigBytes;e++){let n=t.words[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16),(n&15).toString(16))}return r.join("")}};var rC={parse(t){let r=t.length,e=[];for(let n=0;n<r;n++)e[n>>>2]|=(t.charCodeAt(n)&255)<<24-n%4*8;return new Rn(e,r)}},nC={parse(t){return rC.parse(unescape(encodeURIComponent(t)))}},gd=class{constructor(){this._data=new Rn,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Rn,this._nDataBytes=0}_append(r){typeof r=="string"&&(r=nC.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_doProcessBlock(r,e){}_process(r){let e,n=this._data.sigBytes/(this.blockSize*4);r?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);let i=n*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let c=0;c<i;c+=this.blockSize)this._doProcessBlock(this._data.words,c);e=this._data.words.splice(0,i),this._data.sigBytes-=o}return new Rn(e,o)}},vd=class extends gd{update(r){return this._append(r),this._process(),this}finalize(r){r&&this._append(r)}},gg=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],iC=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ai=[],bd=class extends vd{constructor(){super(...arguments),this._hash=new Rn([...gg])}reset(){super.reset(),this._hash=new Rn([...gg])}_doProcessBlock(r,e){let n=this._hash.words,i=n[0],o=n[1],c=n[2],u=n[3],d=n[4],m=n[5],p=n[6],b=n[7];for(let w=0;w<64;w++){if(w<16)ai[w]=r[e+w]|0;else{let Z=ai[w-15],Ft=(Z<<25|Z>>>7)^(Z<<14|Z>>>18)^Z>>>3,yt=ai[w-2],Pt=(yt<<15|yt>>>17)^(yt<<13|yt>>>19)^yt>>>10;ai[w]=Ft+ai[w-7]+Pt+ai[w-16]}let E=d&m^~d&p,O=i&o^i&c^o&c,$=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),W=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),et=b+W+E+iC[w]+ai[w],ot=$+O;b=p,p=m,m=d,d=u+et|0,u=c,c=o,o=i,i=et+ot|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+c|0,n[3]=n[3]+u|0,n[4]=n[4]+d|0,n[5]=n[5]+m|0,n[6]=n[6]+p|0,n[7]=n[7]+b|0}finalize(r){super.finalize(r);let e=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(n+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function vg(t){return new bd().finalize(t).toString()}function oC(t){return Promise.resolve(vg(t))}function aC(t){return z(this,null,function*(){var r=new TextEncoder().encode(t),e=yield crypto.subtle.digest("SHA-256",r),n=Array.prototype.map.call(new Uint8Array(e),i=>("00"+i.toString(16)).slice(-2)).join("");return n})}var sC=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",Ji=sC?aC:oC;function bg(){return new Promise(t=>setTimeout(t,0))}function yg(t=0){return new Promise(r=>setTimeout(r,t))}var cC=Promise.resolve(!0),Rr=Promise.resolve(!1),_g=Promise.resolve(null),Dn=Promise.resolve();function to(t=1e4){return typeof requestIdleCallback=="function"?new Promise(r=>{requestIdleCallback(()=>r(),{timeout:t})}):yg(0)}var yd=Dn;function xg(t=void 0){return yd=yd.then(()=>to(t)),yd}function wg(t,r){return t.reduce((e,n)=>e.then(n),Promise.resolve(r))}var Cg=/\./g;var Sg="abcdefghijklmnopqrstuvwxyz";function si(t=10){for(var r="",e=0;e<t;e++)r+=Sg.charAt(Math.floor(Math.random()*Sg.length));return r}function rc(t){t+="";var r=t.charAt(0).toUpperCase();return r+t.substr(1)}function ar(t){for(;t.charAt(0)===".";)t=t.substr(1);for(;t.slice(-1)===".";)t=t.slice(0,-1);return t}function _d(t){return!!(t.includes("/")||t.includes("\\"))}function On(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var e,n;if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!On(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();var i=Object.keys(t);if(e=i.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=e;n--!==0;){var o=i[n];if(!On(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}var wd=t=>{var r=typeof t;return t!==null&&(r==="object"||r==="function")},xd=new Set(["__proto__","prototype","constructor"]),lC=new Set("0123456789");function Eg(t){var r=[],e="",n="start",i=!1;for(var o of t)switch(o){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(e+=o),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,e+=o;break}if(xd.has(e))return[];r.push(e),e="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,e+=o;break}if(n==="property"){if(xd.has(e))return[];r.push(e),e=""}n="index";break}case"]":{if(n==="index"){r.push(Number.parseInt(e,10)),e="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!lC.has(o))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,e+="\\"),e+=o}}switch(i&&(e+="\\"),n){case"property":{if(xd.has(e))return[];r.push(e);break}case"index":throw new Error("Index was not closed");case"start":{r.push("");break}}return r}function Rg(t,r){if(typeof r!="number"&&Array.isArray(t)){var e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}function uC(t,r){if(Rg(t,r))throw new Error("Cannot use string index")}function Oe(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!r.includes(".")&&!r.includes("["))return t[r];if(!wd(t)||typeof r!="string")return e===void 0?t:e;var n=Eg(r);if(n.length===0)return e;for(var i=0;i<n.length;i++){var o=n[i];if(Rg(t,o)?t=i===n.length-1?void 0:null:t=t[o],t==null){if(i!==n.length-1)return e;break}}return t===void 0?e:t}function Cd(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!wd(t)||typeof r!="string")return t;for(var n=t,i=Eg(r),o=0;o<i.length;o++){var c=i[o];uC(t,c),o===i.length-1?t[c]=e:wd(t[c])||(t[c]=typeof i[o+1]=="number"?[]:{}),t=t[c]}return n}function kn(t,r){var e=t.get(r);if(typeof e>"u")throw new Error("missing value from map "+r);return e}function $e(t,r,e,n){var i=t.get(r);return typeof i>"u"?(i=e(),t.set(r,i)):n&&n(i),i}function Rt(t){var r=t.split("-"),e="RxDB";return r.forEach(n=>{e+=rc(n)}),e+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+e+" } from 'rxdb/plugins/"+t+`';
            addRxPlugin(`+e+`);
        `)}var Sd=0;function ee(){var t=Date.now();t=t+.01,t<=Sd&&(t=Sd+.01);var r=parseFloat(t.toFixed(2));return Sd=r,r}function Dt(t,r){if(!t)throw r||(r=""),new Error("ensureNotFalsy() is falsy: "+r);return t}var nc={bufferSize:1,refCount:!0};var ci="15.33.0";var An={},ic="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function In(t,r){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},In(t,r)}function Ed(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,In(t,r)}function oc(t){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oc(t)}function Dg(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Rd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rd=function(){return!!t})()}function Og(t,r,e){if(Rd())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var i=new(t.bind.apply(t,n));return e&&In(i,e.prototype),i}function pa(t){var r=typeof Map=="function"?new Map:void 0;return pa=function(n){if(n===null||!Dg(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return Og(n,arguments,oc(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),In(i,n)},pa(t)}var Mt={isDevMode(){return!1},deepFreezeWhenDevMode(t){return t},tunnelErrorMessage(t){return"RxDB Error-Code "+t+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function dC(t){var r="";return Object.keys(t).length===0||(r+=`Given parameters: {
`,r+=Object.keys(t).map(e=>{var n="[object Object]";try{e==="errors"?n=t[e].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):n=JSON.stringify(t[e],function(i,o){return o===void 0?null:o},2)}catch{}return e+":"+n}).join(`
`),r+="}"),r}function kg(t,r,e){return"RxError ("+r+`):
`+t+`
`+dC(e)}var fC=function(t){function r(n,i,o={}){var c,u=kg(i,n,o);return c=t.call(this,u)||this,c.code=n,c.message=u,c.url=Dd(n),c.parameters=o,c.rxdb=!0,c}Ed(r,t);var e=r.prototype;return e.toString=function(){return this.message},xe(r,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(pa(Error)),hC=function(t){function r(n,i,o={}){var c,u=kg(i,n,o);return c=t.call(this,u)||this,c.code=n,c.message=u,c.url=Dd(n),c.parameters=o,c.rxdb=!0,c}Ed(r,t);var e=r.prototype;return e.toString=function(){return this.message},xe(r,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(pa(TypeError));function Dd(t){return"https://rxdb.info/errors.html?console=errors#"+t}function Ag(t){return`
 You can find out more about this error here: `+Dd(t)+" "}function T(t,r){return new fC(t,Mt.tunnelErrorMessage(t)+Ag(t),r)}function oe(t,r){return new hC(t,Mt.tunnelErrorMessage(t)+Ag(t),r)}function ac(t){return t&&t.status===409?t:!1}var mC={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Ig(t){return T("COL20",{name:mC[t.status],document:t.documentId,writeError:t})}var eo={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Gt(t,r){eo[t].length>0&&eo[t].forEach(e=>e(r))}function Mn(t,r){return Promise.all(eo[t].map(e=>e(r)))}function ke(t,r){var e=r;e=e.replace(Cg,".properties."),e="properties."+e,e=ar(e);var n=Oe(t,e);return n}function sc(t,r,e){if(typeof r.primaryKey=="string")return e;var n=ga(r,e),i=e[t];if(i&&i!==n)throw T("DOC19",{args:{documentData:e,existingPrimary:i,newPrimary:n},schema:r});return e[t]=n,e}function le(t){return typeof t=="string"?t:t.key}function ga(t,r){if(typeof t.primaryKey=="string")return r[t.primaryKey];var e=t.primaryKey;return e.fields.map(n=>{var i=Oe(r,n);if(typeof i>"u")throw T("DOC18",{args:{field:n,documentData:r}});return i}).join(e.separator)}function Mg(t){var r=Zi(t,!0);return r}function pC(t){return["_deleted",t]}function cc(t){t=kt(t);var r=le(t.primaryKey);t.properties=kt(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=gC,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var e=Od(t);or(t.required,e),t.required=t.required.filter(o=>!o.includes(".")).filter((o,c,u)=>u.indexOf(o)===c),t.version=t.version||0;var n=t.indexes.map(o=>{var c=Er(o)?o.slice(0):[o];return c.includes(r)||c.push(r),c[0]!=="_deleted"&&c.unshift("_deleted"),c});n.length===0&&n.push(pC(r)),n.push(["_meta.lwt",r]),t.internalIndexes&&t.internalIndexes.map(o=>{n.push(o)});var i=new Set;return n.filter(o=>{var c=o.join(",");return i.has(c)?!1:(i.add(c),!0)}),t.indexes=n,t}var gC={type:"object",properties:{lwt:{type:"number",minimum:ec,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Od(t){var r=Object.keys(t.properties).filter(n=>t.properties[n].final),e=le(t.primaryKey);return r.push(e),typeof t.primaryKey!="string"&&t.primaryKey.fields.forEach(n=>r.push(n)),r}function Tg(t,r){for(var e=Object.keys(t.defaultValues),n=0;n<e.length;++n){var i=e[n];(!Object.prototype.hasOwnProperty.call(r,i)||typeof r[i]>"u")&&(r[i]=t.defaultValues[i])}return r}var kd=function(){function t(e,n){this.jsonSchema=e,this.hashFunction=n,this.indexes=vC(this.jsonSchema),this.primaryPath=le(this.jsonSchema.primaryKey),this.finalFields=Od(this.jsonSchema)}var r=t.prototype;return r.validateChange=function(n,i){this.finalFields.forEach(o=>{if(!On(n[o],i[o]))throw T("DOC9",{dataBefore:n,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},r.getDocumentPrototype=function(){var n={},i=ke(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var c=o;n.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var u=this.get(c);return u}}),Object.defineProperty(n,o+"$",{get:function(){return this.get$(c)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"$$",{get:function(){return this.get$$(c)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"_",{get:function(){return this.populate(c)},enumerable:!1,configurable:!1})}),Le(this,"getDocumentPrototype",()=>n),n},r.getPrimaryOfDocumentData=function(n){return ga(this.jsonSchema,n)},xe(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,i])=>e[n]=i.default),Le(this,"defaultValues",e)}},{key:"hash",get:function(){return Le(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function vC(t){return(t.indexes||[]).map(r=>Er(r)?r:[r])}function Pg(t){var r=t.version?t.version:0,e=0;return new Array(r).fill(0).map(()=>e++)}function Ng(t,r,e=!0){e&&Gt("preCreateRxSchema",t);var n=cc(t);n=Mg(n),Mt.deepFreezeWhenDevMode(n);var i=new kd(n,r);return Gt("createRxSchema",i),i}function Lg(t){return t.documentData?t.documentData:t.previousDocumentData}function $g(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:Mt.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}function lc(t){return t[t.length-1]}function bC(t){let r=typeof t;return t!==null&&(r==="object"||r==="function")}function Ad(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!bC(t)||typeof r!="string")return e===void 0?t:e;let n=r.split(".");if(n.length===0)return e;for(let i=0;i<n.length;i++){let o=n[i];if(yC(t,o)?t=i===n.length-1?void 0:null:t=t[o],t==null){if(i!==n.length-1)return e;break}}return t===void 0?e:t}function yC(t,r){if(typeof r!="number"&&Array.isArray(t)){let e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}var Id=t=>!!t.queryParams.limit,Fg=t=>t.queryParams.limit===1,Bg=t=>!!(t.queryParams.skip&&t.queryParams.skip>0),jg=t=>t.changeEvent.operation==="DELETE",zg=t=>t.changeEvent.operation==="INSERT",Ug=t=>t.changeEvent.operation==="UPDATE",Vg=t=>Id(t)&&t.previousResults.length>=t.queryParams.limit,Kg=t=>{let r=t.queryParams.sortFields,e=t.changeEvent.previous,n=t.changeEvent.doc;if(!n)return!1;if(!e)return!0;for(let i=0;i<r.length;i++){let o=r[i],c=Ad(e,o),u=Ad(n,o);if(c!==u)return!0}return!1},Wg=t=>{let r=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(r);{let e=t.queryParams.primaryKey,n=t.previousResults;for(let i=0;i<n.length;i++)if(n[i][e]===r)return!0;return!1}},Hg=t=>{let r=t.previousResults[0];return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},qg=t=>{let r=lc(t.previousResults);return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},Qg=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Yg=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=lc(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},Gg=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Xg=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=lc(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},Zg=t=>{let r=t.changeEvent.previous;return r?t.queryParams.queryMatcher(r):!1},Jg=t=>{let r=t.changeEvent.doc;return r?t.queryParams.queryMatcher(r):!1},tv=t=>t.previousResults.length===0;var ev={0:zg,1:Ug,2:jg,3:Id,4:Fg,5:Bg,6:tv,7:Vg,8:Hg,9:qg,10:Kg,11:Wg,12:Qg,13:Yg,14:Gg,15:Xg,16:Zg,17:Jg};function rv(t,r,e,n){var i=t.length,o=i-1,c=0;if(i===0)return t.push(r),0;for(var u;n<=o;)c=n+(o-n>>1),u=t[c],e(u,r)<=0?n=c+1:o=c-1;return e(u,r)<=0&&c++,t.splice(c,0,r),c}var nv=t=>{},uc=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},dc=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},fc=t=>{let r=t.previousResults.shift();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},hc=t=>{let r=t.previousResults.pop();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},iv=t=>{fc(t),dc(t)},ov=t=>{hc(t),uc(t)},av=t=>{fc(t),uc(t)},sv=t=>{hc(t),dc(t)},Md=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);let r=t.queryParams.primaryKey,e=t.previousResults;for(let n=0;n<e.length;n++)if(e[n][r]===t.changeEvent.id){e.splice(n,1);break}},cv=t=>{let r=t.changeEvent.doc,e=t.queryParams.primaryKey,n=t.previousResults;for(let i=0;i<n.length;i++)if(n[i][e]===t.changeEvent.id){n[i]=r,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,r);break}},lv=t=>{let r={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(r),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(r._id,r))},Td=t=>{let r=t.changeEvent.id,e=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(r))return;t.keyDocumentMap.set(r,e)}else if(t.previousResults.find(i=>i[t.queryParams.primaryKey]===r))return;rv(t.previousResults,e,t.queryParams.sortComparator,0)},uv=t=>{Md(t),Td(t)},dv=t=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},fv=t=>{throw new Error("Action unknownAction should never be called")};var hv=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],mv={doNothing:nv,insertFirst:uc,insertLast:dc,removeFirstItem:fc,removeLastItem:hc,removeFirstInsertLast:iv,removeLastInsertFirst:ov,removeFirstInsertFirst:av,removeLastInsertLast:sv,removeExisting:Md,replaceExisting:cv,alwaysWrong:lv,insertAtSortPosition:Td,removeExistingAndInsertAtSortPosition:uv,runFullQueryAgain:dv,unknownAction:fv};function mc(t){return t.charCodeAt(0)-40}function pv(t){return t?"1":"0"}function _C(t=6){let r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let i=0;i<t;i++)r+=e.charAt(Math.floor(Math.random()*n));return r}var hA=_C(4);function Pd(t,r){let e=[];for(let n=0,i=t.length;n<i;n+=r)e.push(t.substring(n,n+r));return e}function gv(t){let r=new Map,n=2+parseInt(t.charAt(0)+t.charAt(1),10)*2,i=t.substring(2,n),o=Pd(i,2);for(let $=0;$<o.length;$++){let W=o[$],et=W.charAt(0),ot=mc(W.charAt(1));r.set(et,ot)}let c=t.substring(n,t.length-3),u=Pd(c,4);for(let $=0;$<u.length;$++){let W=u[$],et=W.charAt(0),ot=W.charAt(1),Z=W.charAt(2),Ft=mc(W.charAt(3));if(!r.has(ot))throw new Error("missing node with id "+ot);if(!r.has(Z))throw new Error("missing node with id "+Z);let yt=r.get(ot),Pt=r.get(Z),bt={l:Ft,0:yt,1:Pt};r.set(et,bt)}let d=t.slice(-3),m=d.charAt(0),p=d.charAt(1),b=mc(d.charAt(2)),w=r.get(m),E=r.get(p);return{l:b,0:w,1:E}}function vv(t,r,e){let n=t,i=t.l;for(;;){let o=r[i](e),c=pv(o);if(n=n[c],typeof n=="number"||typeof n=="string")return n;i=n.l}}var xC="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",Nd;function wC(){return Nd||(Nd=gv(xC)),Nd}var bv=t=>vv(wC(),ev,t);function yv(t){let r=bv(t);return hv[r]}function _v(t,r,e,n,i){let o=mv[t];return o({queryParams:r,changeEvent:e,previousResults:n,keyDocumentMap:i}),n}var li="\uFFFF",ui=Number.MIN_SAFE_INTEGER;function xv(t,r){var e=r.selector,n=t.indexes?t.indexes.slice(0):[];r.index&&(n=[r.index]);var i=!!r.sort.find(p=>Object.values(p)[0]==="desc"),o=new Set;Object.keys(e).forEach(p=>{var b=ke(t,p);b&&b.type==="boolean"&&Object.prototype.hasOwnProperty.call(e[p],"$eq")&&o.add(p)});var c=r.sort.map(p=>Object.keys(p)[0]),u=c.filter(p=>!o.has(p)).join(","),d=-1,m;if(n.forEach(p=>{var b=!0,w=!0,E=p.map(ot=>{var Z=e[ot],Ft=Z?Object.keys(Z):[],yt={};if(!Z||!Ft.length){var Pt=w?ui:li;yt={startKey:Pt,endKey:b?li:ui,inclusiveStart:!0,inclusiveEnd:!0}}else Ft.forEach(bt=>{if(pc.has(bt)){var xt=Z[bt],de=RC(bt,xt);yt=Object.assign(yt,de)}});return typeof yt.startKey>"u"&&(yt.startKey=ui),typeof yt.endKey>"u"&&(yt.endKey=li),typeof yt.inclusiveStart>"u"&&(yt.inclusiveStart=!0),typeof yt.inclusiveEnd>"u"&&(yt.inclusiveEnd=!0),w&&!yt.inclusiveStart&&(w=!1),b&&!yt.inclusiveEnd&&(b=!1),yt}),O=E.map(ot=>ot.startKey),$=E.map(ot=>ot.endKey),W={index:p,startKeys:O,endKeys:$,inclusiveEnd:b,inclusiveStart:w,sortSatisfiedByIndex:!i&&u===p.filter(ot=>!o.has(ot)).join(","),selectorSatisfiedByIndex:EC(p,r.selector,O,$)},et=DC(t,r,W);(et>=d||r.index)&&(d=et,m=W)}),!m)throw T("SNH",{query:r});return m}var pc=new Set(["$eq","$gt","$gte","$lt","$lte"]),CC=new Set(["$eq","$gt","$gte"]),SC=new Set(["$eq","$lt","$lte"]);function EC(t,r,e,n){var i=Object.entries(r),o=i.find(([bt,xt])=>{if(!t.includes(bt))return!0;var de=Object.entries(xt).find(([lr,yo])=>!pc.has(lr));return de});if(o||r.$and||r.$or)return!1;var c=[],u=new Set;for(var[d,m]of Object.entries(r)){if(!t.includes(d))return!1;var p=Object.keys(m).filter(bt=>CC.has(bt));if(p.length>1)return!1;var b=p[0];if(b&&u.add(d),b!=="$eq"){if(c.length>0)return!1;c.push(b)}}var w=[],E=new Set;for(var[O,$]of Object.entries(r)){if(!t.includes(O))return!1;var W=Object.keys($).filter(bt=>SC.has(bt));if(W.length>1)return!1;var et=W[0];if(et&&E.add(O),et!=="$eq"){if(w.length>0)return!1;w.push(et)}}var ot=0;for(var Z of t){for(var Ft of[u,E]){if(!Ft.has(Z)&&Ft.size>0)return!1;Ft.delete(Z)}var yt=e[ot],Pt=n[ot];if(yt!==Pt&&u.size>0&&E.size>0)return!1;ot++}return!0}function RC(t,r){switch(t){case"$eq":return{startKey:r,endKey:r,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:r,inclusiveEnd:!0};case"$gte":return{startKey:r,inclusiveStart:!0};case"$lt":return{endKey:r,inclusiveEnd:!1};case"$gt":return{startKey:r,inclusiveStart:!1};default:throw new Error("SNH")}}function DC(t,r,e){var n=0,i=p=>{p>0&&(n=n+p)},o=10,c=Js(e.startKeys,p=>p!==ui&&p!==li);i(c*o);var u=Js(e.startKeys,p=>p!==li&&p!==ui);i(u*o);var d=Js(e.startKeys,(p,b)=>p===e.endKeys[b]);i(d*o*1.5);var m=e.sortSatisfiedByIndex?5:0;return i(m),n}var ae=class extends Error{},yc=2147483647,_c=-2147483648,jd=Number.MAX_SAFE_INTEGER,zd=Number.MIN_SAFE_INTEGER,Wr=Symbol("missing"),Sv=Object.freeze(new Error("mingo: cycle detected while processing object/array")),OC="[object Object]",kC=/^\[object ([a-zA-Z0-9]+)\]$/,va=t=>{let r=PC(t),e=0,n=r.length;for(;n;)e=(e<<5)-e^r.charCodeAt(--n);return e>>>0},Ev=new Set(["null","undefined","boolean","number","string","date","regexp"]),AC={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Nt=(t,r)=>{t===Wr&&(t=void 0),r===Wr&&(r=void 0);let[e,n]=[t,r].map(i=>AC[Tn(i).toLowerCase()]);return e!==n?e-n:e===1||e===2||e===6?t<r?-1:t>r?1:0:ue(t,r)?0:t<r?-1:t>r?1:0};function U(t,r){if(!t)throw new ae(r)}var Tn=t=>kC.exec(Object.prototype.toString.call(t))[1],ba=t=>typeof t=="boolean",St=t=>typeof t=="string";var ht=t=>!isNaN(t)&&typeof t=="number";var it=Array.isArray,ft=t=>{if(!t)return!1;let r=Object.getPrototypeOf(t);return(r===Object.prototype||r===null)&&OC===Object.prototype.toString.call(t)},ya=t=>t===Object(t),Pn=t=>t instanceof Date,io=t=>t instanceof RegExp,_a=t=>typeof t=="function",Q=t=>t==null,Dr=(t,r)=>t.includes(r),xc=(t,r)=>!Dr(t,r),we=(t,r=!0)=>!!t||r&&t==="",Fe=t=>Q(t)||St(t)&&!t||t instanceof Array&&t.length===0||ft(t)&&Object.keys(t).length===0,wv=t=>t===Wr,Or=t=>t instanceof Array?t:[t],Ut=(t,r)=>!!t&&Object.prototype.hasOwnProperty.call(t,r),Ud=t=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t),IC=[Pn,io,Ud],$d=(t,r)=>{if(Q(t))return t;if(r.has(t))throw Sv;let e=t.constructor;if(IC.some(n=>n(t)))return new e(t);try{if(r.add(t),it(t))return t.map(n=>$d(n,r));if(ft(t)){let n={};for(let i in t)n[i]=$d(t[i],r);return n}}finally{r.delete(t)}return t},oo=t=>$d(t,new Set),MC=(t,r)=>ft(t)&&ft(r)||it(t)&&it(r);function vc(t,r,e){if(e=e||{flatten:!1},wv(t)||Q(t))return r;if(wv(r)||Q(r))return t;if(!MC(t,r)){if(e.skipValidation)return r||t;throw Error("mismatched types. must both be array or object")}if(e.skipValidation=!0,it(t)){let n=t,i=r;if(e.flatten){let o=0,c=0;for(;o<n.length&&c<i.length;)n[o]=vc(n[o++],i[c++],e);for(;c<i.length;)n.push(r[c++])}else Qe(n,i)}else for(let n in r)t[n]=vc(t[n],r[n],e);return t}function Fd(t,r=va){let e=new Map;return t.forEach((n,i)=>{let o=wc(n,r);e.has(o)?e.get(o).some(c=>ue(t[c],n))||e.get(o).push(i):e.set(o,[i])}),e}function Hr(t,r=va){if(t.some(u=>u.length==0))return[];if(t.length===1)return Array.from(t);let e=Rv(t.map((u,d)=>[d,u.length]),u=>u[1]),n=t[e[0][0]],i=Fd(n,r),o=new Map,c=new Array;return i.forEach((u,d)=>{let m=u.map(E=>n[E]),p=m.map(E=>0),b=m.map(E=>[e[0][0],0]),w=!1;for(let E=1;E<t.length;E++){let[O,$]=e[E],W=t[O];if(o.has(E)||o.set(E,Fd(W)),o.get(E).has(d)){let et=o.get(E).get(d).map(ot=>W[ot]);w=m.map((ot,Z)=>et.some((Ft,yt)=>{let Pt=p[Z];return ue(ot,Ft)&&(p[Z]++,O<b[Z][0]&&(b[Z]=[O,o.get(E).get(d)[yt]])),Pt<p[Z]})).some(Boolean)}if(!w)return}w&&Qe(c,p.map((E,O)=>E===t.length-1?[m[O],b[O]]:Wr).filter(E=>E!==Wr))}),c.sort((u,d)=>{let[m,[p,b]]=u,[w,[E,O]]=d,$=Nt(p,E);return $!==0?$:Nt(b,O)}).map(u=>u[0])}function Vd(t,r=0){let e=new Array;function n(i,o){for(let c=0,u=i.length;c<u;c++)it(i[c])&&(o>0||o<0)?n(i[c],Math.max(-1,o-1)):e.push(i[c])}return n(t,r),e}var TC=t=>{let[r,e]=[Object.getPrototypeOf(t),Object.getOwnPropertyNames(t)],n=r;for(;!e.length&&r!==Object.prototype&&r!==Array.prototype;)n=r,e=Object.getOwnPropertyNames(r),r=Object.getPrototypeOf(r);let i={};return e.forEach(o=>i[o]=t[o]),[i,n]};function ue(t,r){if(t===r||Object.is(t,r))return!0;let e=!!t&&t.constructor||t;if(t===null||r===null||t===void 0||r===void 0||e!==r.constructor||e===Function)return!1;if(e===Array||e===Object){let o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length||new Set([...o,...c]).size!=o.length)return!1;for(let u of o)if(!ue(t[u],r[u]))return!1;return!0}let n=Object.getPrototypeOf(t);return(Ud(t)||n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))&&t.toString()===r.toString()}function xa(t,r=va){let e=t.map(n=>Wr);return Fd(t,r).forEach((n,i)=>{n.forEach(o=>e[o]=t[o])}),e.filter(n=>n!==Wr)}var gc=(t,r)=>{if(t===null)return"null";if(t===void 0)return"undefined";let e=t.constructor;switch(e){case RegExp:case Number:case Boolean:case Function:case Symbol:return t.toString();case String:return JSON.stringify(t);case Date:return t.toISOString()}if(Ud(t))return e.name+"["+t.toString()+"]";if(r.has(t))throw Sv;try{if(r.add(t),it(t))return"["+t.map(c=>gc(c,r)).join(",")+"]";if(e===Object)return"{"+Object.keys(t).sort().map(c=>c+":"+gc(t[c],r)).join(",")+"}";let n=Object.getPrototypeOf(t);if(n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))return e.name+"("+JSON.stringify(t.toString())+")";let[i,o]=TC(t);return e.name+gc(i,r)}finally{r.delete(t)}},PC=t=>gc(t,new Set);function wc(t,r){return r=r||va,Q(t)?null:r(t).toString()}function Rv(t,r,e=Nt){if(Fe(t))return t;let n=new Array,i=new Array;for(let o=0;o<t.length;o++){let c=t[o],u=r(c,o);Q(u)?i.push(c):n.push([u,c])}return n.sort((o,c)=>e(o[0],c[0])),Qe(i,n.map(o=>o[1]))}function Cc(t,r,e=va){if(t.length<1)return new Map;let n=new Map,i=new Map;for(let o=0;o<t.length;o++){let c=t[o],u=r(c,o),d=wc(u,e);if(d===null)i.has(null)?i.get(null).push(c):i.set(null,[c]);else{let m=n.has(d)?n.get(d).find(p=>ue(p,u)):null;Q(m)?(i.set(u,[c]),n.has(d)?n.get(d).push(u):n.set(d,[u])):i.get(m).push(c)}}return i}var Ld=5e4;function Qe(t,...r){return t instanceof Array?r.reduce((e,n)=>{let i=Math.ceil(n.length/Ld),o=0;for(;i-- >0;)Array.prototype.push.apply(e,n.slice(o,o+Ld)),o+=Ld;return e},t):r.filter(ya).reduce((e,n)=>(Object.assign(e,n),e),t)}function Bd(t,r){return ya(t)?t[r]:void 0}function NC(t,r){if(r<1)return t;for(;r--&&t.length===1;)t=t[0];return t}function Ce(t,r,e){let n=0;function i(c,u){let d=c;for(let m=0;m<u.length;m++){let p=u[m];if(/^\d+$/.exec(p)===null&&d instanceof Array){if(m===0&&n>0)break;n+=1;let w=u.slice(m);d=d.reduce((E,O)=>{let $=i(O,w);return $!==void 0&&E.push($),E},[]);break}else d=Bd(d,p);if(d===void 0)break}return d}let o=Ev.has(Tn(t).toLowerCase())?t:i(t,r.split("."));return o instanceof Array&&e?.unwrapArray?NC(o,n):o}function ro(t,r,e){let n=r.split("."),i=n[0],o=n.slice(1).join("."),c=/^\d+$/.exec(i)!==null,u=n.length>1,d,m;if(t instanceof Array)if(c)d=Bd(t,Number(i)),u&&(d=ro(d,o,e)),d=[d];else{d=[];for(let p of t)m=ro(p,r,e),e?.preserveMissing?(m===void 0&&(m=Wr),d.push(m)):m!==void 0&&d.push(m)}else{if(m=Bd(t,i),u&&(m=ro(m,o,e)),m===void 0)return;d=e?.preserveKeys?B({},t):{},d[i]=m}return d}function bc(t){if(t instanceof Array)for(let r=t.length-1;r>=0;r--)t[r]===Wr?t.splice(r,1):bc(t[r]);else if(ft(t))for(let r in t)Ut(t,r)&&bc(t[r])}var Cv=/^\d+$/;function no(t,r,e,n){let i=r.split("."),o=i[0],c=i.slice(1).join(".");if(i.length===1)(ft(t)||it(t)&&Cv.test(o))&&e(t,o);else{n?.buildGraph&&Q(t[o])&&(t[o]={});let u=t[o];if(!u)return;let d=!!(i.length>1&&Cv.test(i[1]));u instanceof Array&&n?.descendArray&&!d?u.forEach(m=>no(m,c,e,n)):no(u,c,e,n)}}function Sc(t,r,e){no(t,r,(n,i)=>{n[i]=_a(e)?e(n[i]):e},{buildGraph:!0})}function wa(t,r,e){no(t,r,(n,i)=>{if(n instanceof Array){if(/^\d+$/.test(i))n.splice(parseInt(i),1);else if(e&&e.descendArray)for(let o of n)ft(o)&&delete o[i]}else ft(n)&&delete n[i]},e)}var LC=/^\$[a-zA-Z0-9_]+$/;function Be(t){return LC.test(t)}function Ec(t){if(Ev.has(Tn(t).toLowerCase()))return io(t)?{$regex:t}:{$eq:t};if(ya(t)){if(!Object.keys(t).some(Be))return{$eq:t};if(Ut(t,"$regex")){let e=B({},t);return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}var fi=(t=>(t.CLONE_ALL="CLONE_ALL",t.CLONE_INPUT="CLONE_INPUT",t.CLONE_OUTPUT="CLONE_OUTPUT",t.CLONE_OFF="CLONE_OFF",t))(fi||{}),Kt=class t{constructor(r,e,n,i=Date.now()){this._opts=r,this._root=e,this._local=n,this.timestamp=i,this.update(e,n)}static init(r,e,n){return r instanceof t?new t(r._opts,Q(r.root)?e:r.root,Object.assign({},r.local,n)):new t(r,e,n)}update(r,e){return this._root=r,this._local=e&&Object.assign({},e,{variables:Object.assign({},this._local?.variables,e?.variables)}),this}getOptions(){return Object.freeze(gt(B({},this._opts),{context:ao.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function qr(t){return t instanceof Kt?t.getOptions():Object.freeze(gt(B({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},t),{context:t?.context?ao.from(t?.context):ao.init({})}))}var cr=(t=>(t.ACCUMULATOR="accumulator",t.EXPRESSION="expression",t.PIPELINE="pipeline",t.PROJECTION="projection",t.QUERY="query",t.WINDOW="window",t))(cr||{}),ao=class t{constructor(r){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[e,n]of Object.entries(r))this.addOperators(e,n)}static init(r={}){return new t(r)}static from(r){return new t(r.operators)}addOperators(r,e){for(let[n,i]of Object.entries(e))this.getOperator(r,n)||(this.operators[r][n]=i);return this}addAccumulatorOps(r){return this.addOperators("accumulator",r)}addExpressionOps(r){return this.addOperators("expression",r)}addQueryOps(r){return this.addOperators("query",r)}addPipelineOps(r){return this.addOperators("pipeline",r)}addProjectionOps(r){return this.addOperators("projection",r)}addWindowOps(r){return this.addOperators("window",r)}getOperator(r,e){return r in this.operators&&this.operators[r][e]||null}},di=ao.init();function Hd(t,r){for(let[e,n]of Object.entries(r)){U(_a(n)&&Be(e),`'${e}' is not a valid operator`);let i=sr(t,e,null);U(!i||n===i,`${e} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":di.addAccumulatorOps(r);break;case"expression":di.addExpressionOps(r);break;case"pipeline":di.addPipelineOps(r);break;case"projection":di.addProjectionOps(r);break;case"query":di.addQueryOps(r);break;case"window":di.addWindowOps(r);break}}function sr(t,r,e){let{context:n,useGlobalContext:i}=e||{},o=n?n.getOperator(t,r):null;return!o&&i?di.getOperator(t,r):o}var Dv={$$ROOT(t,r,e){return e.root},$$CURRENT(t,r,e){return t},$$REMOVE(t,r,e){},$$NOW(t,r,e){return new Date(e.timestamp)}},Kd={$$KEEP(t,r,e){return t},$$PRUNE(t,r,e){},$$DESCEND(t,r,e){if(!Ut(r,"$cond"))return t;let n;for(let[i,o]of Object.entries(t))if(ya(o)){if(o instanceof Array){let c=[];for(let u of o)ft(u)&&(u=Wd(u,r,e.update(u))),Q(u)||c.push(u);n=c}else n=Wd(o,r,e.update(o));Q(n)?delete t[i]:t[i]=n}return t}};function M(t,r,e,n){let i=Kt.init(n,t);if(e=e||"",Be(e)){let o=sr("expression",e,n);if(o)return o(t,r,i);let c=sr("accumulator",e,n);if(c)return t instanceof Array||(t=M(t,r,null,i),r=null),U(t instanceof Array,`'${e}' target must be an array.`),c(t,r,i.update(null,i.local));throw new ae(`operator '${e}' is not registered`)}if(St(r)&&r.length>0&&r[0]==="$"){if(Ut(Kd,r))return r;let o=i.root,c=r.split(".");if(Ut(Dv,c[0]))o=Dv[c[0]](t,null,i),r=r.slice(c[0].length+1);else if(c[0].slice(0,2)==="$$"){o=Object.assign({},i.variables,{this:t},i.local?.variables);let u=c[0].slice(2);U(Ut(o,u),`Use of undefined variable: ${u}`),r=r.slice(2)}else r=r.slice(1);return r===""?o:Ce(o,r)}if(it(r))return r.map(o=>M(t,o,null,i));if(ft(r)){let o={};for(let[c,u]of Object.entries(r))if(o[c]=M(t,u,c,i),["expression","accumulator"].some(d=>!!sr(d,c,n)))return U(Object.keys(r).length===1,"Invalid aggregation expression '"+JSON.stringify(r)+"'"),o[c];return o}return r}function Wd(t,r,e){let n=M(t,r,null,e);return Ut(Kd,n)?Kd[n](t,r,e):n}function je(t){return t instanceof Ca?t:new Ca(t)}function Rc(...t){let r=0;return je(()=>{for(;r<t.length;){let e=t[r].next();if(!e.done)return e;r++}return{done:!0}})}function $C(t){return!!t&&typeof t=="object"&&t?.next instanceof Function}function FC(t,r){let e=t.slice(r+1);t.splice(r),Array.prototype.push.apply(t,e)}var qd=new Error;function BC(t,r,e){let n=!1,i=-1,o=0;return function(c){try{t:for(;!n;){let u=t();i++;let d=-1,m=r.length,p=!1;for(;++d<m;){let b=r[d];switch(b.action){case 0:u=b.func(u,i);break;case 1:if(!b.func(u,i))continue t;break;case 2:--b.count,b.count||(p=!0);break;case 3:--b.count,b.count||FC(r,d);continue t;default:break t}}if(n=p,c)e[o++]=u;else return{value:u,done:!1}}}catch(u){if(u!==qd)throw u}return n=!0,{done:n}}}var Ca=class{constructor(r){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let e;if(r instanceof Function&&(r={next:r}),$C(r)){let n=r;e=()=>{let i=n.next();if(i.done)throw qd;return i.value}}else if(r instanceof Array){let n=r,i=n.length,o=0;e=()=>{if(o<i)return n[o++];throw qd}}else if(!(r instanceof Function))throw new ae("Lazy must be initialized with an array, generator, or function.");this.getNext=BC(e,this.iteratees,this.yieldedValues)}push(r,e){return typeof e=="function"?this.iteratees.push({action:r,func:e}):typeof e=="number"&&this.iteratees.push({action:r,count:e}),this}next(){return this.getNext()}map(r){return this.push(0,r)}filter(r){return this.push(1,r)}take(r){return r>0?this.push(2,r):this}drop(r){return r>0?this.push(3,r):this}transform(r){let e=this,n;return je(()=>(n||(n=je(r(e.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(r){for(;;){let e=this.next();if(e.done)break;if(r(e.value)===!1)return!1}return!0}reduce(r,e){let n=this.next();for(e===void 0&&!n.done&&(e=n.value,n=this.next());!n.done;)e=r(e,n.value),n=this.next();return e}size(){return this.reduce((r,e)=>++r,0)}[Symbol.iterator](){return this}};var kr=class{constructor(r,e){this.pipeline=r,this.options=qr(e)}stream(r){let e=je(r),n=this.options.processingMode;(n==fi.CLONE_ALL||n==fi.CLONE_INPUT)&&e.map(oo);let i=new Array;if(!Fe(this.pipeline))for(let o of this.pipeline){let c=Object.keys(o),u=c[0],d=sr(cr.PIPELINE,u,this.options);U(c.length===1&&!!d,`invalid pipeline operator ${u}`),i.push(u),e=d(e,o[u],this.options)}return(n==fi.CLONE_OUTPUT||n==fi.CLONE_ALL&&Hr([["$group","$unwind"],i]).length)&&e.map(oo),e}run(r){return this.stream(r).value()}};var Dc=class{constructor(r,e,n,i){this.source=r,this.predicate=e,this.projection=n,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(ft(this.projection)&&this.operators.push({$project:this.projection}),this.result=je(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new kr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let r=je([...this.buffer]);return this.buffer=[],Rc(r,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(r){return this.operators.push({$skip:r}),this}limit(r){return this.operators.push({$limit:r}),this}sort(r){return this.operators.push({$sort:r}),this}collation(r){return this.options=gt(B({},this.options),{collation:r}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let r=this.fetch().next();if(!r.done)return r.value}hasNext(){if(this.buffer.length>0)return!0;let r=this.fetch().next();return r.done?!1:(this.buffer.push(r.value),!0)}map(r){return this.all().map(r)}forEach(r){this.all().forEach(r)}[Symbol.iterator](){return this.fetchAll()}};var Xt=class{constructor(r,e){this.condition=r,this.options=qr(e),this.compiled=[],this.compile()}compile(){U(ft(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let r={};for(let[e,n]of Object.entries(this.condition)){if(e==="$where")Object.assign(r,{field:e,expr:n});else if(Dr(["$and","$or","$nor","$expr","$jsonSchema"],e))this.processOperator(e,e,n);else{U(!Be(e),`unknown top level operator: ${e}`);for(let[i,o]of Object.entries(Ec(n)))this.processOperator(e,i,o)}r.field&&this.processOperator(r.field,r.field,r.expr)}}processOperator(r,e,n){let i=sr(cr.QUERY,e,this.options);if(!i)throw new ae(`unknown query operator ${e}`);let o=i(r,n,this.options);this.compiled.push(o)}test(r){for(let e=0,n=this.compiled.length;e<n;e++)if(!this.compiled[e](r))return!1;return!0}find(r,e){return new Dc(r,n=>this.test(n),e||{},this.options)}remove(r){return r.reduce((e,n)=>(this.test(n)||e.push(n),e),[])}};var so=1e3*60*60*24,Ov={week:so*7,day:so,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var kT={week:so*7,day:so,hour:so/24,minute:6e4,second:1e3,millisecond:1};var kc=(t,r,e)=>{if(Fe(r)||!ft(r))return t;let n=Nt,i=e.collation;return ft(i)&&St(i.locale)&&(n=YC(i)),t.transform(o=>{let c=Object.keys(r);for(let u of c.reverse()){let d=Cc(o,p=>Ce(p,u),e.hashFunction),m=Array.from(d.keys()).sort(n);r[u]===-1&&m.reverse(),o=[],m.reduce((p,b)=>Qe(p,d.get(b)),o)}return o})},QC={1:"base",2:"accent",3:"variant"};function YC(t){let r={sensitivity:QC[t.strength||3],caseFirst:t.caseFirst==="off"?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:t.alternate==="shifted"};(t.caseLevel||!1)===!0&&(r.sensitivity==="base"&&(r.sensitivity="case"),r.sensitivity==="accent"&&(r.sensitivity="variant"));let e=new Intl.Collator(t.locale,r);return(n,i)=>{if(!St(n)||!St(i))return Nt(n,i);let o=e.compare(n,i);return o<0?-1:o>0?1:0}}function Et(t){let r=(e,n,i)=>{let o={unwrapArray:!0},c=Math.max(1,e.split(".").length-1);return u=>{let d=Ce(u,e,o);return t(d,n,gt(B({},i),{depth:c}))}};return r.op="query",r}function Ae(t){return(r,e,n)=>{let i=M(r,e,null,n);return t(...i)}}function Sa(t,r,e){if(ue(t,r)||Q(t)&&Q(r))return!0;if(t instanceof Array){let n=ue.bind(null,r);return t.some(n)||Vd(t,e?.depth).some(n)}return!1}function Ac(t,r,e){return!Sa(t,r,e)}function Yd(t,r,e){return Q(t)?r.some(n=>n===null):Hr([Or(t),r],e?.hashFunction).length>0}function Ic(t,r,e){return!Yd(t,r,e)}function Mc(t,r,e){return Lc(t,r,(n,i)=>Nt(n,i)<0)}function Tc(t,r,e){return Lc(t,r,(n,i)=>Nt(n,i)<=0)}function Pc(t,r,e){return Lc(t,r,(n,i)=>Nt(n,i)>0)}function Nc(t,r,e){return Lc(t,r,(n,i)=>Nt(n,i)>=0)}function Pv(t,r,e){return Or(t).some(n=>r.length===2&&n%r[0]===r[1])}function Nv(t,r,e){let n=Or(t),i=o=>St(o)&&we(r.exec(o),e?.useStrictMode);return n.some(i)||Vd(n,1).some(i)}function Lv(t,r,e){return(r===!1||r===0)&&t===void 0||(r===!0||r===1)&&t!==void 0}function $v(t,r,e){if(!it(t)||!it(r)||!t.length||!r.length)return!1;let n=!0;for(let i of r){if(!n)break;ft(i)&&Dr(Object.keys(i),"$elemMatch")?n=Gd(t,i.$elemMatch,e):i instanceof RegExp?n=t.some(o=>typeof o=="string"&&i.test(o)):n=t.some(o=>ue(i,o))}return n}function Fv(t,r,e){return Array.isArray(t)&&t.length===r}function JC(t){return Be(t)&&["$and","$or","$nor"].indexOf(t)===-1}function Gd(t,r,e){if(it(t)&&!Fe(t)){let n=c=>c,i=r;Object.keys(r).every(JC)&&(i={temp:r},n=c=>({temp:c}));let o=new Xt(i,e);for(let c=0,u=t.length;c<u;c++)if(o.test(n(t[c])))return!0}return!1}var Av=t=>t===null,Iv=t=>ht(t)&&t>=_c&&t<=yc&&t.toString().indexOf(".")===-1,Mv=t=>ht(t)&&t>=zd&&t<=jd&&t.toString().indexOf(".")===-1,tS={array:it,bool:ba,boolean:ba,date:Pn,decimal:ht,double:ht,int:Iv,long:Mv,number:ht,null:Av,object:ft,regex:io,regexp:io,string:St,undefined:Q,function:t=>{throw new ae("unsupported type key `function`.")},1:ht,2:St,3:ft,4:it,6:Q,8:ba,9:Pn,10:Av,11:io,16:Iv,18:Mv,19:ht};function Tv(t,r,e){let n=tS[r];return n?n(t):!1}function Bv(t,r,e){return Array.isArray(r)?r.findIndex(n=>Tv(t,n,e))>=0:Tv(t,r,e)}function Lc(t,r,e){return Or(t).some(n=>Tn(n)===Tn(r)&&e(n,r))}var jN=Ae(Ic);var co=(t,r)=>(e,n,i)=>{U(it(n),`${t}: expression must be an array.`);let o=M(e,n,null,i);return o.some(Q)?null:(U(o.every(ht),`${t}: expression must evalue to array of numbers.`),r(o))};var LL=co("$bitAnd",t=>t.reduce((r,e)=>r&e,-1));var UL=co("$bitOr",t=>t.reduce((r,e)=>r|e,0));var WL=co("$bitXor",t=>t.reduce((r,e)=>r^e,0));var Xd={};vs(Xd,{$and:()=>eS,$not:()=>rS,$or:()=>nS});var eS=(t,r,e)=>{let n=M(t,r,null,e);return we(n,e.useStrictMode)&&n.every(i=>we(i,e.useStrictMode))};var rS=(t,r,e)=>{let n=Or(r);if(n.length==0)return!1;if(n.length==1)return!M(t,n[0],null,e);throw"Expression $not takes exactly 1 argument"};var nS=(t,r,e)=>{let n=M(t,r,null,e),i=e.useStrictMode;return we(n,i)&&n.some(o=>we(o,i))};var Zd={};vs(Zd,{$cmp:()=>iS,$eq:()=>oS,$gt:()=>aS,$gte:()=>sS,$lt:()=>cS,$lte:()=>lS,$ne:()=>uS});var iS=(t,r,e)=>{let n=M(t,r,null,e);return n[0]>n[1]?1:n[0]<n[1]?-1:0};var oS=Ae(Sa);var aS=Ae(Pc);var sS=Ae(Nc);var cS=Ae(Mc);var lS=Ae(Tc);var uS=Ae(Ac);var jv=(t,r)=>{let e={};return t.split("").forEach((n,i)=>e[n]=r*(i+1)),e},rF=gt(B(B({},jv("ABCDEFGHIKLM",1)),jv("NOPQRSTUVWXY",-1)),{Z:0});var Kv={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Lt(t,r=Kv){let e=Object.assign({},Kv,r),n=new Set(Object.keys(e));return(i,o,c)=>{let u=M(i,o,null,c);if(n.has(`${u}`)){let d=e[`${u}`];if(d instanceof Error)throw new ae(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return d}return t(u)}}var uU=Lt(Math.acos,{Infinity:1/0,0:new Error});var hU=Lt(Math.acosh,{Infinity:1/0,0:new Error});var gU=Lt(Math.asin);var yU=Lt(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var wU=Lt(Math.atan);var OU=Lt(Math.atanh,{1:1/0,"-1":-1/0});var IU=Lt(Math.cos);var PU=Lt(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var mS=Math.PI/180,$U=Lt(t=>t*mS,{Infinity:1/0,"-Infinity":1/0});var pS=180/Math.PI,jU=Lt(t=>t*pS,{Infinity:1/0,"-Infinity":-1/0});var VU=Lt(Math.sin);var HU=Lt(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var YU=Lt(Math.tan);var tf=(t,r,e)=>{if(Fe(r))return t;let n=Object.keys(r),i=!1;Hv(r,e);let o=e.idKey;if(Dr(n,o)){let u=r[o];(u===0||u===!1)&&(n=n.filter(xc.bind(null,[o])),i=n.length==0)}else n.push(o);let c=Kt.init(e);return t.map(u=>Jd(u,r,c.update(u),n,i))};function Jd(t,r,e,n,i){let o={},c=!1,u=!1,d=[];i&&d.push(e.idKey);for(let m of n){let p,b=r[m];if(m!==e.idKey&&Dr([0,!1],b)&&(u=!0),m===e.idKey&&Fe(b))p=t[m];else if(St(b))p=M(t,b,m,e);else if(!Dr([1,!0],b))if(b instanceof Array)p=b.map(E=>{let O=M(t,E,null,e);return Q(O)?null:O});else if(ft(b)){let E=b,O=Object.keys(b),$=O.length==1?O[0]:"",W=sr(cr.PROJECTION,$,e);if(W)$==="$slice"?Or(E[$]).every(ht)?(p=W(t,E[$],m,e),c=!0):p=M(t,E,m,e):p=W(t,E[$],m,e);else if(Be($))p=M(t,E[$],$,e);else if(Ut(t,m)){Hv(E,e);let et=t[m];et instanceof Array?p=et.map(ot=>Jd(ot,E,e,O,!1)):(et=ft(et)?et:t,p=Jd(et,E,e,O,!1))}else p=M(t,b,null,e)}else{d.push(m);continue}let w=ro(t,m,{preserveMissing:!0});w!==void 0&&vc(o,w,{flatten:!0}),xc([0,1,!1,!0],b)&&(p===void 0?wa(o,m,{descendArray:!0}):Sc(o,m,p))}if(bc(o),(c||u||i)&&(o=Qe({},t,o),d.length>0))for(let m of d)wa(o,m,{descendArray:!0});return o}function Hv(t,r){let e=[!1,!1];for(let[n,i]of Object.entries(t)){if(n===r?.idKey)return;i===0||i===!1?e[0]=!0:(i===1||i===!0)&&(e[1]=!0),U(!(e[0]&&e[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var ef=(t,r,e)=>{U(it(r),"Invalid expression: $and expects value to be an Array.");let n=r.map(i=>new Xt(i,e));return i=>n.every(o=>o.test(i))};var Ea=(t,r,e)=>{U(it(r),"Invalid expression. $or expects value to be an Array");let n=r.map(i=>new Xt(i,e));return i=>n.some(o=>o.test(i))};var rf=(t,r,e)=>{U(it(r),"Invalid expression. $nor expects value to be an array.");let n=Ea("$or",r,e);return i=>!n(i)};var nf=(t,r,e)=>{let n={};n[t]=Ec(r);let i=new Xt(n,e);return o=>!i.test(o)};var $c=Et(Sa);var Fc=Et(Pc);var Bc=Et(Nc);var jc=Et(Yd);var zc=Et(Mc);var Uc=Et(Tc);var Vc=Et(Ac);var Kc=Et(Ic);function bS(t,r,e){return n=>M(n,r,null,e)}function yS(t,r,e){if(!e?.jsonSchemaValidator)throw new ae("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let n=e?.jsonSchemaValidator(r);return i=>n(i)}var of=Et(Pv);var af=Et(Nv);function _S(t,r,e){U(e.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let n=r;return U(_a(n),"$where only accepts a Function object"),i=>we(n.call(i),e?.useStrictMode)}var xS=Et($v);var sf=Et(Gd);var cf=Et(Fv);var lf=Et(Lv);var uf=Et(Bv);var qv=!1;function Qv(t){return qv||(Hd(cr.PIPELINE,{$sort:kc,$project:tf}),Hd(cr.QUERY,{$and:ef,$eq:$c,$elemMatch:sf,$exists:lf,$gt:Fc,$gte:Bc,$in:jc,$lt:zc,$lte:Uc,$ne:Vc,$nin:Kc,$mod:of,$nor:rf,$not:nf,$or:Ea,$regex:af,$size:cf,$type:uf}),qv=!0),new Xt(t)}function Ra(t,r){var e=le(t.primaryKey);r=kt(r);var n=qe(r);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([m,p])=>{(typeof p!="object"||p===null)&&(n.selector[m]={$eq:p})})):n.selector={},n.index){var i=ma(n.index);i.includes(e)||i.push(e),n.index=i}if(n.sort){var d=n.sort.find(m=>hg(m)===e);d||(n.sort=n.sort.slice(0),n.sort.push({[e]:"asc"}))}else if(n.index)n.sort=n.index.map(m=>({[m]:"asc"}));else{if(t.indexes){var o=new Set;Object.entries(n.selector).forEach(([m,p])=>{var b=!1;typeof p=="object"&&p!==null?b=!!Object.keys(p).find(w=>pc.has(w)):b=!0,b&&o.add(m)});var c=-1,u;t.indexes.forEach(m=>{var p=Er(m)?m:[m],b=p.findIndex(w=>!o.has(w));b>0&&b>c&&(c=b,u=p)}),u&&(n.sort=u.map(m=>({[m]:"asc"})))}n.sort||(n.sort=[{[e]:"asc"}])}return n}function Wc(t,r){if(!r.sort)throw T("SNH",{query:r});var e=[];r.sort.forEach(i=>{var o=Object.keys(i)[0],c=Object.values(i)[0];e.push({key:o,direction:c,getValueFn:fg(o)})});var n=(i,o)=>{for(var c=0;c<e.length;++c){var u=e[c],d=u.getValueFn(i),m=u.getValueFn(o);if(d!==m){var p=u.direction==="asc"?Nt(d,m):Nt(m,d);return p}}};return n}function lo(t,r){if(!r.sort)throw T("SNH",{query:r});var e=Qv(r.selector),n=i=>e.test(i);return n}function Nn(t,r){return z(this,null,function*(){var e=yield t.exec();if(!e)return null;if(Array.isArray(e))return Promise.all(e.map(i=>r(i)));var n=yield r(e);return n})}function wS(t,r){return!r.sort||r.sort.length===0?[t]:r.sort.map(e=>Object.keys(e)[0])}var CS=new WeakMap;function SS(t){return $e(CS,t,()=>{var r=t.collection,e=Ra(r.storageInstance.schema,qe(t.mangoQuery)),n=r.schema.primaryPath,i=Wc(r.schema.jsonSchema,e),o=(m,p)=>{var b={docA:m,docB:p,rxQuery:t};return i(b.docA,b.docB)},c=lo(r.schema.jsonSchema,e),u=m=>{var p={doc:m,rxQuery:t};return c(p.doc)},d={primaryKey:t.collection.schema.primaryPath,skip:e.skip,limit:e.limit,sortFields:wS(n,e),sortComparator:o,queryMatcher:u};return d})}function Yv(t,r){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var e=SS(t),n=Dt(t._result).docsData.slice(0),i=Dt(t._result).docsDataMap,o=!1,c=r.map(d=>$g(d)).filter(og),u=c.find(d=>{var m={queryParams:e,changeEvent:d,previousResults:n,keyDocumentMap:i},p=yv(m);if(p==="runFullQueryAgain")return!0;if(p!=="doNothing")return o=!0,_v(p,e,d,n,i),!1});return u?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:n}}var ES=function(){function t(){this._map=new Map}var r=t.prototype;return r.getByQuery=function(n){var i=n.toString();return $e(this._map,i,()=>n)},t}();function Xv(){return new ES}function Gv(t,r){r.uncached=!0;var e=r.toString();t._map.delete(e)}function RS(t){return t.refCount$.observers.length}var DS=100,OS=30*1e3,kS=(t,r)=>(e,n)=>{if(!(n._map.size<t)){var i=ee()-r,o=[],c=Array.from(n._map.values());for(var u of c)if(!(RS(u)>0)){if(u._lastEnsureEqual===0&&u._creationTime<i){Gv(n,u);continue}o.push(u)}var d=o.length-t;if(!(d<=0)){var m=o.sort((b,w)=>b._lastEnsureEqual-w._lastEnsureEqual),p=m.slice(0,d);p.forEach(b=>Gv(n,b))}}},ff=kS(DS,OS),df=new WeakSet;function Zv(t){df.has(t)||(df.add(t),bg().then(()=>xg(200)).then(()=>{t.destroyed||t.cacheReplacementPolicy(t,t._queryCache),df.delete(t)}))}var tb=function(){function t(e,n,i){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var c=o.docId,u=this.cacheItemByDocId.get(c);u&&(u[0].delete(o.revisionHeight),u[0].size===0&&this.cacheItemByDocId.delete(c))}):void 0,this.primaryPath=e,this.changes$=n,this.documentCreator=i,n.subscribe(o=>{this.tasks.add(()=>{for(var c=this.cacheItemByDocId,u=0;u<o.length;u++){var d=o[u],m=c.get(d.documentId);if(m){var p=d.documentData;p||(p=d.previousDocumentData),m[1]=p}}}),this.tasks.size<=1&&to().then(()=>{this.processTasks()})})}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},r.getLatestDocumentData=function(n){this.processTasks();var i=kn(this.cacheItemByDocId,n);return i[1]},r.getLatestDocumentDataIfExists=function(n){this.processTasks();var i=this.cacheItemByDocId.get(n);if(i)return i[1]},xe(t,[{key:"getCachedRxDocuments",get:function(){var e=Jv(this);return Le(this,"getCachedRxDocuments",e)}},{key:"getCachedRxDocument",get:function(){var e=Jv(this);return Le(this,"getCachedRxDocument",n=>e([n])[0])}}])}();function Jv(t){var r=t.primaryPath,e=t.cacheItemByDocId,n=t.registry,i=Mt.deepFreezeWhenDevMode,o=t.documentCreator,c=u=>{for(var d=new Array(u.length),m=[],p=0;p<u.length;p++){var b=u[p],w=b[r],E=oi(b._rev),O=void 0,$=void 0,W=e.get(w);W?(O=W[0],$=O.get(E)):(O=new Map,W=[O,b],e.set(w,W));var et=$?$.deref():void 0;et||(b=i(b),et=o(b),O.set(E,IS(et)),n&&m.push(et)),d[p]=et}return m.length>0&&n&&(t.tasks.add(()=>{for(var ot=0;ot<m.length;ot++){var Z=m[ot];n.register(Z,{docId:Z.primary,revisionHeight:oi(Z.revision)})}}),t.tasks.size<=1&&to().then(()=>{t.processTasks()})),d};return c}function Hc(t,r){var e=t.getCachedRxDocuments;return e(r)}var AS=typeof WeakRef=="function",IS=AS?MS:TS;function MS(t){return new WeakRef(t)}function TS(t){return{deref(){return t}}}var hf=function(){function t(e,n,i){this.time=ee(),this.query=e,this.count=i,this.documents=Hc(this.query.collection._docCache,n)}var r=t.prototype;return r.getValue=function(n){var i=this.query.op;if(i==="count")return this.count;if(i==="findOne"){var o=this.documents.length===0?null:this.documents[0];if(!o&&n)throw T("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:i});return o}else return i==="findByIds"?this.docsMap:this.documents.slice(0)},xe(t,[{key:"docsData",get:function(){return Le(this,"docsData",this.documents.map(e=>e._data))}},{key:"docsDataMap",get:function(){var e=new Map;return this.documents.forEach(n=>{e.set(n.primary,n._data)}),Le(this,"docsDataMap",e)}},{key:"docsMap",get:function(){for(var e=new Map,n=this.documents,i=0;i<n.length;i++){var o=n[i];e.set(o.primary,o)}return Le(this,"docsMap",e)}}])}();var PS=0,NS=function(){return++PS},mf=function(){function t(e,n,i,o={}){this.id=NS(),this._execOverDatabaseCount=0,this._creationTime=ee(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new fe(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Rr,this.op=e,this.mangoQuery=n,this.collection=i,this.other=o,n||(this.mangoQuery=Da()),this.isFindOneByIdQuery=BS(this.collection.schema.primaryPath,n)}var r=t.prototype;return r._setResultData=function(n){if(typeof n=="number"){this._result=new hf(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var i=new hf(this,n,n.length);this._result=i},r._execOverDatabase=function(){return z(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=ee(),this.op==="count"){var n=this.getPreparedQuery(),i=yield this.collection.storageInstance.count(n);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw T("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=Dt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,c=new Map,u=[];if(o.forEach(p=>{var b=this.collection._docCache.getLatestDocumentDataIfExists(p);if(b){if(!b._deleted){var w=this.collection._docCache.getCachedRxDocument(b);c.set(p,w)}}else u.push(p)}),u.length>0){var d=yield this.collection.storageInstance.findDocumentsById(u,!1);d.forEach(p=>{var b=this.collection._docCache.getCachedRxDocument(p);c.set(b.primary,b)})}return c}var m=FS(this);return m.then(p=>(this._lastExecEnd=ee(),p))})},r.exec=function(n){return z(this,null,function*(){if(n&&this.op!=="findOne")throw T("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield eb(this);var i=Dt(this._result);return i.getValue(n)})},r.toString=function(){var n=Zi({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n);return this.toString=()=>i,i},r.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:Ra(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),Gt("prePrepareQuery",n);var i=Oa(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>i,i},r.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},r.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(i=>i.remove())):n.remove())},r.incrementalRemove=function(){return Nn(this.asRxQuery,n=>n.incrementalRemove())},r.update=function(n){throw Rt("update")},r.patch=function(n){return Nn(this.asRxQuery,i=>i.patch(n))},r.incrementalPatch=function(n){return Nn(this.asRxQuery,i=>i.incrementalPatch(n))},r.modify=function(n){return Nn(this.asRxQuery,i=>i.modify(n))},r.incrementalModify=function(n){return Nn(this.asRxQuery,i=>i.incrementalModify(n))},r.where=function(n){throw Rt("query-builder")},r.sort=function(n){throw Rt("query-builder")},r.skip=function(n){throw Rt("query-builder")},r.limit=function(n){throw Rt("query-builder")},xe(t,[{key:"$",get:function(){if(!this._$){var e=this.collection.$.pipe(wt(n=>!n.isLocal),tr(null),qt(()=>eb(this)),mt(()=>this._result),jo(nc),Ai((n,i)=>!!(n&&n.time===Dt(i).time)),wt(n=>!!n),mt(n=>Dt(n).getValue()));this._$=Di(e,this.refCount$.pipe(wt(()=>!1)))}return this._$}},{key:"$$",get:function(){var e=this.collection.database.getReactivityFactory();return e.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var e=this.collection.schema.jsonSchema,n=Ra(this.collection.schema.jsonSchema,this.mangoQuery);return Le(this,"queryMatcher",lo(e,n))}},{key:"asRxQuery",get:function(){return this}}])}();function Da(){return{selector:{}}}function LS(t){return t.collection._queryCache.getByQuery(t)}function uo(t,r,e,n){Gt("preCreateRxQuery",{op:t,queryObj:r,collection:e,other:n});var i=new mf(t,r,e,n);return i=LS(i),Zv(e),i}function rb(t){var r=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=r}function eb(t){return z(this,null,function*(){return t.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(t.collection.awaitBeforeReads).map(r=>r()))),t.collection.database.destroyed||rb(t)?!1:(t._ensureEqualQueue=t._ensureEqualQueue.then(()=>$S(t)),t._ensureEqualQueue)})}function $S(t){if(t._lastEnsureEqual=ee(),t.collection.database.destroyed||rb(t))return Rr;var r=!1,e=!1;if(t._latestChangeEvent===-1&&(e=!0),!e){var n=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(n===null)e=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var i=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(t.op==="count"){var o=Dt(t._result).count,c=o;i.forEach(d=>{var m=d.previousDocumentData&&t.doesDocumentDataMatch(d.previousDocumentData),p=t.doesDocumentDataMatch(d.documentData);!m&&p&&c++,m&&!p&&c--}),c!==o&&(r=!0,t._setResultData(c))}else{var u=Yv(t,i);u.runFullQueryAgain?e=!0:u.changed&&(r=!0,t._setResultData(u.newResults))}}}return e?t._execOverDatabase().then(d=>(t._latestChangeEvent=t.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!t._result||d!==t._result.count)&&(r=!0,t._setResultData(d)),r):((!t._result||!pg(t.collection.schema.primaryPath,d,t._result.docsData))&&(r=!0,t._setResultData(d)),r))):Promise.resolve(r)}function Oa(t,r){if(!r.sort)throw T("SNH",{query:r});var e=xv(t,r);return{query:r,queryPlan:e}}function FS(t){return z(this,null,function*(){var r=[],e=t.collection;if(t.isFindOneByIdQuery)if(Array.isArray(t.isFindOneByIdQuery)){var n=t.isFindOneByIdQuery;if(n=n.filter(p=>{var b=t.collection._docCache.getLatestDocumentDataIfExists(p);return b?(b._deleted||r.push(b),!1):!0}),n.length>0){var i=yield e.storageInstance.findDocumentsById(n,!1);or(r,i)}}else{var o=t.isFindOneByIdQuery,c=t.collection._docCache.getLatestDocumentDataIfExists(o);if(!c){var u=yield e.storageInstance.findDocumentsById([o],!1);u[0]&&(c=u[0])}c&&!c._deleted&&r.push(c)}else{var d=t.getPreparedQuery(),m=yield e.storageInstance.query(d);r=m.documents}return r})}function BS(t,r){if(!r.skip&&r.selector&&Object.keys(r.selector).length===1&&r.selector[t]){var e=r.selector[t];if(typeof e=="string")return e;if(Object.keys(e).length===1&&typeof e.$eq=="string"||Object.keys(e).length===1&&Array.isArray(e.$eq)&&!e.$eq.find(n=>typeof n!="string"))return e.$eq}return!1}var nb="_rxdb_internal";function gf(t,r){return z(this,null,function*(){var e=yield t.findDocumentsById([r],!1),n=e[0];if(n)return n})}function fo(t,r,e,n){if(n)throw n.status===409?T("CONFLICT",{collection:t.name,id:r,writeError:n,data:e}):n.status===422?T("VD2",{collection:t.name,id:r,writeError:n,data:e}):n}function ib(t,r,e,n,i,o,c){for(var u=!!t.schema.attachments,d=[],m=[],p=[],b=si(10),w={id:b,events:[],checkpoint:null,context:i,startTime:ee(),endTime:0},E=w.events,O=[],$=[],W=[],et=e.size>0,ot,Z=n.length,Ft=function(){var Pt=n[yt],bt=Pt.document,xt=Pt.previous,de=bt[r],lr=bt._deleted,yo=xt&&xt._deleted,Xr=void 0;et&&(Xr=e.get(de));var Tr;if(Xr){var yl=Xr._rev;if(!xt||xt&&yl!==xt._rev){var jn={isError:!0,status:409,documentId:de,writeRow:Pt,documentInDb:Xr};return p.push(jn),1}var Ue=u?pf(Pt):Pt;u&&(lr?xt&&Object.keys(xt._attachments).forEach(be=>{$.push({documentId:de,attachmentId:be,digest:Dt(xt)._attachments[be].digest})}):(Object.entries(bt._attachments).find(([be,Zt])=>{var Ge=xt?xt._attachments[be]:void 0;return!Ge&&!Zt.data&&(Tr={documentId:de,documentInDb:Xr,isError:!0,status:510,writeRow:Pt,attachmentId:be}),!0}),Tr||Object.entries(bt._attachments).forEach(([be,Zt])=>{var Ge=xt?xt._attachments[be]:void 0;if(!Ge)O.push({documentId:de,attachmentId:be,attachmentData:Zt,digest:Zt.digest});else{var Xe=Ue.document._attachments[be].digest;Zt.data&&Ge.digest!==Xe&&W.push({documentId:de,attachmentId:be,attachmentData:Zt,digest:Zt.digest})}}))),Tr?p.push(Tr):(u?(m.push(pf(Ue)),c&&c(bt)):(m.push(Ue),c&&c(bt)),ot=Ue);var Zr=null,_o=null,Jr=null;if(yo&&!lr)Jr="INSERT",Zr=u?Ar(bt):bt;else if(xt&&!yo&&!lr)Jr="UPDATE",Zr=u?Ar(bt):bt,_o=xt;else if(lr)Jr="DELETE",Zr=Dt(bt),_o=xt;else throw T("SNH",{args:{writeRow:Pt}});var xo={documentId:de,documentData:Zr,previousDocumentData:_o,operation:Jr};E.push(xo)}else{var Ua=!!lr;if(u&&Object.entries(bt._attachments).forEach(([be,Zt])=>{Zt.data?O.push({documentId:de,attachmentId:be,attachmentData:Zt,digest:Zt.digest}):(Tr={documentId:de,isError:!0,status:510,writeRow:Pt,attachmentId:be},p.push(Tr))}),Tr||(u?(d.push(pf(Pt)),o&&o(bt)):(d.push(Pt),o&&o(bt)),ot=Pt),!Ua){var Va={documentId:de,operation:"INSERT",documentData:u?Ar(bt):bt,previousDocumentData:u&&xt?Ar(xt):xt};E.push(Va)}}},yt=0;yt<Z;yt++)Ft();return{bulkInsertDocs:d,bulkUpdateDocs:m,newestRow:ot,errors:p,eventBulk:w,attachmentsAdd:O,attachmentsRemove:$,attachmentsUpdate:W}}function pf(t){return{previous:t.previous,document:Ar(t.document)}}function jS(t){return atob(t).length}function zS(t){var r=t.data;if(!r)return t;var e={length:jS(r),digest:t.digest,type:t.type};return e}function Ar(t){if(!t._attachments||Object.keys(t._attachments).length===0)return t;var r=kt(t);return r._attachments={},Object.entries(t._attachments).forEach(([e,n])=>{r._attachments[e]=zS(n)}),r}function hi(t){return Object.assign({},t,{_meta:kt(t._meta)})}var ob=new WeakMap;function qc(t,r,e){Mt.deepFreezeWhenDevMode(e);var n=le(r.schema.primaryKey),i={originalStorageInstance:r,schema:r.schema,internals:r.internals,collectionName:r.collectionName,databaseName:r.databaseName,options:r.options,bulkWrite(o,c){for(var u=t.token,d=new Array(o.length),m=ee(),p=0;p<o.length;p++){var b=o[p],w=hi(b.document);w._meta.lwt=m;var E=b.previous;w._rev=Xi(u,E),d[p]={document:w,previous:E}}return Gt("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),t.lockedRun(()=>r.bulkWrite(d,c)).then(O=>{var $={error:[]},W=Ye(n,d,O);ob.set($,W);var et=O.error.length===0?[]:O.error.filter(Z=>Z.status===409&&!Z.writeRow.previous&&!Z.writeRow.document._deleted&&Dt(Z.documentInDb)._deleted?!0:($.error.push(Z),!1));if(et.length>0){var ot=et.map(Z=>({previous:Z.documentInDb,document:Object.assign({},Z.writeRow.document,{_rev:Xi(t.token,Z.documentInDb)})}));return t.lockedRun(()=>r.bulkWrite(ot,c)).then(Z=>{or($.error,Z.error);var Ft=Ye(n,ot,Z);return or(W,Ft),$})}return $})},query(o){return t.lockedRun(()=>r.query(o))},count(o){return t.lockedRun(()=>r.count(o))},findDocumentsById(o,c){return t.lockedRun(()=>r.findDocumentsById(o,c))},getAttachmentData(o,c,u){return t.lockedRun(()=>r.getAttachmentData(o,c,u))},getChangedDocumentsSince:r.getChangedDocumentsSince?(o,c)=>t.lockedRun(()=>r.getChangedDocumentsSince(Dt(o),c)):void 0,cleanup(o){return t.lockedRun(()=>r.cleanup(o))},remove(){return t.storageInstances.delete(i),t.lockedRun(()=>r.remove())},close(){return t.storageInstances.delete(i),t.lockedRun(()=>r.close())},changeStream(){return r.changeStream()},conflictResultionTasks(){return r.conflictResultionTasks()},resolveConflictResultionTask(o){if(o.output.isEqual)return r.resolveConflictResultionTask(o);var c=Object.assign({},o.output.documentData,{_meta:En(),_rev:Kr(),_attachments:{}}),u=kt(c);return delete u._meta,delete u._rev,delete u._attachments,r.resolveConflictResultionTask({id:o.id,output:{isEqual:!1,documentData:u}})}};return t.storageInstances.add(i),i}function ab(t){if(t.schema.keyCompression)throw T("UT5",{args:{params:t}});if(US(t.schema))throw T("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw T("UT7",{args:{params:t}})}function US(t){return!!(t.encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)}function Ye(t,r,e){var n=ob.get(e);if(n)return n;var i=[];if(e.error.length>0){for(var o=new Set,c=0;c<e.error.length;c++){var u=e.error[c];o.add(u.documentId)}for(var d=0;d<r.length;d++){var m=r[d].document;o.has(m[t])||i.push(Ar(m))}}else{i.length=r.length-e.error.length;for(var p=0;p<r.length;p++){var b=r[p].document;i[p]=Ar(b)}}return i}var sb=function(){function t(e,n,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=e,this.primaryPath=n,this.preWrite=i,this.postWrite=o}var r=t.prototype;return r.addWrite=function(n,i){var o=n[this.primaryPath],c=$e(this.queueByDocId,o,()=>[]),u=new Promise((d,m)=>{var p={lastKnownDocumentState:n,modifier:i,resolve:d,reject:m};Dt(c).push(p),this.triggerRun()});return u},r.triggerRun=function(){return z(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],i=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(i.entries()).map(d=>z(this,[d],function*([c,u]){var m=VS(u.map(w=>w.lastKnownDocumentState)),p=m;for(var b of u)try{p=yield b.modifier(qe(p))}catch(w){b.reject(w),b.reject=()=>{},b.resolve=()=>{}}try{yield this.preWrite(p,m)}catch(w){u.forEach(E=>E.reject(w));return}n.push({previous:m,document:p})})));var o=n.length>0?yield this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return yield Promise.all(Ye(this.primaryPath,n,o).map(c=>{var u=c[this.primaryPath];this.postWrite(c);var d=kn(i,u);d.forEach(m=>m.resolve(c))})),o.error.forEach(c=>{var u=c.documentId,d=kn(i,u),m=ac(c);if(m){var p=$e(this.queueByDocId,u,()=>[]);d.reverse().forEach(w=>{w.lastKnownDocumentState=Dt(m.documentInDb),Dt(p).unshift(w)})}else{var b=Ig(c);d.forEach(w=>w.reject(b))}}),this.isRunning=!1,this.triggerRun()}})},t}();function vf(t){var r=e=>z(this,null,function*(){var n=mg(e);n._deleted=e._deleted;var i=yield t(n),o=Object.assign({},i,{_meta:e._meta,_attachments:e._attachments,_rev:e._rev,_deleted:typeof i._deleted<"u"?i._deleted:e._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return r}function VS(t){var r=t[0],e=oi(r._rev);return t.forEach(n=>{var i=oi(n._rev);i>e&&(r=n,e=i)}),r}var Ln={get primaryPath(){var t=this;if(t.isInstanceOfRxDocument)return t.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){var t=this;if(t.isInstanceOfRxDocument)return t._data._rev},get deleted$(){var t=this;if(t.isInstanceOfRxDocument)return t.$.pipe(mt(r=>r._data._deleted))},get deleted$$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.deleted$,t.getLatest().deleted,t.collection.database)},get deleted(){var t=this;if(t.isInstanceOfRxDocument)return t._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){var t=this;return t.collection.$.pipe(wt(r=>!r.isLocal),wt(r=>r.documentId===this.primary),mt(r=>Lg(r)),tr(t.collection._docCache.getLatestDocumentData(this.primary)),Ai((r,e)=>r._rev===e._rev),mt(r=>this.collection._docCache.getCachedRxDocument(r)),jo(nc))},get $$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.$,t.getLatest()._data,t.collection.database)},get$(t){if(Mt.isDevMode()){if(t.includes(".item."))throw T("DOC1",{path:t});if(t===this.primaryPath)throw T("DOC2");if(this.collection.schema.finalFields.includes(t))throw T("DOC3",{path:t});var r=ke(this.collection.schema.jsonSchema,t);if(!r)throw T("DOC4",{path:t})}return this.$.pipe(mt(e=>Oe(e,t)),Ai())},get$$(t){var r=this.get$(t),e=this.collection.database.getReactivityFactory();return e.fromObservable(r,this.getLatest().get(t),this.collection.database)},populate(t){var r=ke(this.collection.schema.jsonSchema,t),e=this.get(t);if(!e)return _g;if(!r)throw T("DOC5",{path:t});if(!r.ref)throw T("DOC6",{path:t,schemaObj:r});var n=this.collection.database.collections[r.ref];if(!n)throw T("DOC7",{ref:r.ref,path:t,schemaObj:r});return r.type==="array"?n.findByIds(e).exec().then(i=>{var o=i.values();return Array.from(o)}):n.findOne(e).exec()},get(t){return $e(this._propertyCache,t,()=>{var r=Oe(this._data,t);if(typeof r!="object"||r===null||Array.isArray(r))return Mt.deepFreezeWhenDevMode(r);var e=this,n=new Proxy(kt(r),{get(i,o){if(typeof o!="string")return i[o];var c=o.charAt(o.length-1);if(o.endsWith("$$")){var u=o.slice(0,-2);return e.get$$(ar(t+"."+u))}else if(c==="$"){var d=o.slice(0,-1);return e.get$(ar(t+"."+d))}else if(c==="_"){var m=o.slice(0,-1);return e.populate(ar(t+"."+m))}else return e.get(ar(t+"."+o))}});return n})},toJSON(t=!1){if(t)return Mt.deepFreezeWhenDevMode(this._data);var r=kt(this._data);return delete r._rev,delete r._attachments,delete r._deleted,delete r._meta,Mt.deepFreezeWhenDevMode(r)},toMutableJSON(t=!1){return qe(this.toJSON(t))},update(t){throw Rt("update")},incrementalUpdate(t){throw Rt("update")},updateCRDT(t){throw Rt("crdt")},putAttachment(){throw Rt("attachments")},getAttachment(){throw Rt("attachments")},allAttachments(){throw Rt("attachments")},get allAttachments$(){throw Rt("attachments")},modify(t,r){return z(this,null,function*(){var e=this._data,n=yield vf(t)(e);return this._saveData(n,e)})},incrementalModify(t,r){return this.collection.incrementalWriteQueue.addWrite(this._data,vf(t)).then(e=>this.collection._docCache.getCachedRxDocument(e))},patch(t){var r=this._data,e=qe(r);return Object.entries(t).forEach(([n,i])=>{e[n]=i}),this._saveData(e,r)},incrementalPatch(t){return this.incrementalModify(r=>(Object.entries(t).forEach(([e,n])=>{r[e]=n}),r))},_saveData(t,r){return z(this,null,function*(){if(t=kt(t),this._data._deleted)throw T("DOC11",{id:this.primary,document:this});yield bf(this.collection,t,r);var e=[{previous:r,document:t}],n=yield this.collection.storageInstance.bulkWrite(e,"rx-document-save-data"),i=n.error[0];return fo(this.collection,this.primary,t,i),yield this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument(Ye(this.collection.schema.primaryPath,e,n)[0])})},remove(){var t=this.collection;if(this.deleted)return Promise.reject(T("DOC13",{document:this,id:this.primary}));var r=kt(this._data),e;return t._runHooks("pre","remove",r,this).then(()=>z(this,null,function*(){r._deleted=!0;var n=[{previous:this._data,document:r}],i=yield t.storageInstance.bulkWrite(n,"rx-document-remove"),o=i.error[0];return fo(t,this.primary,r,o),Ye(this.collection.schema.primaryPath,n,i)[0]})).then(n=>(e=n,this.collection._runHooks("post","remove",r,this))).then(()=>this.collection._docCache.getCachedRxDocument(e))},incrementalRemove(){return this.incrementalModify(t=>z(this,null,function*(){return yield this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t})).then(t=>z(this,null,function*(){return yield this.collection._runHooks("post","remove",t._data,t),t}))},destroy(){throw T("DOC14")}};function Qc(t=Ln){var r=function(n,i){this.collection=n,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return r.prototype=t,r}function cb(t,r,e){var n=new t(r,e);return Gt("createRxDocument",n),n}function bf(t,r,e){return r._meta=Object.assign({},e._meta,r._meta),Mt.isDevMode()&&t.schema.validateChange(e,r),t._runHooks("pre","save",r,e)}var ho="collection",yf="storage-token",KS="rx-migration-status",WS="RxInternalDocument",Yc=cc({version:0,title:WS,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[ho,yf,KS,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Gc(t,r){return ga(Yc,{key:t,context:r})}function Xc(t){return z(this,null,function*(){var r=Oa(t.schema,{selector:{context:ho,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),e=yield t.query(r),n=e.documents;return n})}var lb="storageToken",HS=Gc(lb,yf);function ub(t){return z(this,null,function*(){var r=si(10),e=t.password?yield t.hashFunction(JSON.stringify(t.password)):void 0,n={id:HS,context:yf,key:lb,data:{rxdbVersion:t.rxdbVersion,token:r,instanceToken:t.token,passwordHash:e},_deleted:!1,_meta:En(),_rev:Kr(),_attachments:{}},i=[{document:n}],o=yield t.internalStore.bulkWrite(i,"internal-add-storage-token");if(!o.error[0])return Ye("id",i,o)[0];var c=Dt(o.error[0]);if(c.isError&&ac(c)){var u=c;if(!qS(u.documentInDb.data.rxdbVersion,t.rxdbVersion))throw T("DM5",{args:{database:t.name,databaseStateVersion:u.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(e&&e!==u.documentInDb.data.passwordHash)throw T("DB1",{passwordHash:e,existingPasswordHash:u.documentInDb.data.passwordHash});var d=u.documentInDb;return Dt(d)}throw c})}function qS(t,r){if(!t||r.includes("beta")&&r!==t)return!1;var e=t.split(".")[0],n=r.split(".")[0];return e===n}function _f(t,r){return t+"-"+r.version}function ka(t,r){return r=kt(r),r=Tg(t,r),typeof t.jsonSchema.primaryKey!="string"&&(r=sc(t.primaryPath,t.jsonSchema,r)),r._meta=En(),Object.prototype.hasOwnProperty.call(r,"_deleted")||(r._deleted=!1),Object.prototype.hasOwnProperty.call(r,"_attachments")||(r._attachments={}),Object.prototype.hasOwnProperty.call(r,"_rev")||(r._rev=Kr()),r}function db(t,r){return z(this,null,function*(){r.multiInstance=t.multiInstance;var e=yield t.storage.createStorageInstance(r);return e})}function Zc(t,r,e,n,i,o,c){return z(this,null,function*(){var u=yield Xc(r),d=u.filter(w=>w.data.name===i),m=[];d.forEach(w=>{m.push({collectionName:w.data.name,schema:w.data.schema,isCollection:!0}),w.data.connectedStorages.forEach(E=>m.push({collectionName:E.collectionName,isCollection:!1,schema:E.schema}))});var p=new Set;if(m=m.filter(w=>{var E=w.collectionName+"||"+w.schema.version;return p.has(E)?!1:(p.add(E),!0)}),yield Promise.all(m.map(w=>z(this,null,function*(){var E=yield t.createStorageInstance({collectionName:w.collectionName,databaseInstanceToken:e,databaseName:n,multiInstance:!1,options:{},schema:w.schema,password:o,devMode:Mt.isDevMode()});yield E.remove(),w.isCollection&&(yield Mn("postRemoveRxCollection",{storage:t,databaseName:n,collectionName:i}))}))),c){var b=d.map(w=>{var E=hi(w);return E._deleted=!0,E._meta.lwt=ee(),E._rev=Xi(e,w),{previous:w,document:E}});yield r.bulkWrite(b,"rx-database-remove-collection-all")}})}function ze(t){if(t.destroyed)throw T("COL21",{collection:t.name,version:t.schema.version})}var QS=function(){function t(e){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=e,this.subs.push(this.collection.database.eventBulks$.pipe(wt(n=>n.collectionName===this.collection.name),wt(n=>{var i=n.events[0];return!i.isLocal})).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&to().then(()=>{this.processTasks()})}))}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},r._handleChangeEvents=function(n){var i=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(or(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var o=i+1,c=this.eventCounterMap,u=0;u<n.length;u++){var d=n[u];c.set(d,o+u)}},r.getCounter=function(){return this.processTasks(),this.counter},r.getBuffer=function(){return this.processTasks(),this.buffer},r.getArrayIndexByPointer=function(n){this.processTasks();var i=this.buffer[0],o=this.eventCounterMap.get(i);if(n<o)return null;var c=n-o;return c},r.getFrom=function(n){this.processTasks();var i=[],o=this.getArrayIndexByPointer(n);if(o===null)return null;for(;;){var c=this.buffer[o];if(o++,c)i.push(c);else return i}},r.runFrom=function(n,i){this.processTasks();var o=this.getFrom(n);if(o===null)throw new Error("out of bounds");o.forEach(c=>i(c))},r.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0);var i={};return n.forEach(o=>{i[o.documentId]=o}),Object.values(i)},r.destroy=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},t}();function fb(t){return new QS(t)}var YS=new WeakMap;function GS(t){var r=t.schema.getDocumentPrototype(),e=XS(t),n=Ln,i={};return[r,e,n].forEach(o=>{var c=Object.getOwnPropertyNames(o);c.forEach(u=>{var d=Object.getOwnPropertyDescriptor(o,u),m=!0;(u.startsWith("_")||u.endsWith("_")||u.startsWith("$")||u.endsWith("$"))&&(m=!1),typeof d.value=="function"?Object.defineProperty(i,u,{get(){return d.value.bind(this)},enumerable:m,configurable:!1}):(d.enumerable=m,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(i,u,d))})}),i}function hb(t){return $e(YS,t,()=>Qc(GS(t)))}function mb(t,r,e){var n=cb(r,t,Mt.deepFreezeWhenDevMode(e));return t._runHooksSync("post","create",e,n),Gt("postCreateRxDocument",n),n}function XS(t){var r={};return Object.entries(t.methods).forEach(([e,n])=>{r[e]=n}),r}var xf=function(t,r){var e=Ar(t.newDocumentState),n=Ar(t.realMasterState);return On(e,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:t.realMasterState})};function Jc(t){var r=t.collection.schema.jsonSchema;if(!r.attachments)throw T("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function pb(t){Object.entries(t.doc.collection.attachments).forEach(([r,e])=>{Object.defineProperty(t,r,{get:()=>e.bind(t)})})}var ZS=function(){function t({doc:e,id:n,type:i,length:o,digest:c}){this.doc=e,this.id=n,this.type=i,this.length=o,this.digest=c,pb(this)}var r=t.prototype;return r.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,n=>(delete n._attachments[this.id],n)).then(()=>{})},r.getData=function(){return z(this,null,function*(){var n=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),i=yield cg(n,this.type);return i})},r.getStringData=function(){return z(this,null,function*(){var n=yield this.getData(),i=yield lg(n);return i})},t}();function tl(t,r,e){return new ZS({doc:e,id:t,type:r.type,length:r.length,digest:r.digest})}function JS(t){return z(this,null,function*(){Jc(this);var r=dg(t.data),e=yield ug(t.data),n=yield this.collection.database.hashFunction(e),i=t.id,o=t.type,c=e;return this.collection.incrementalWriteQueue.addWrite(this._data,u=>(u=kt(u),u._attachments=kt(u._attachments),u._attachments[i]={length:r,type:o,data:c,digest:n},u)).then(u=>{var d=this.collection._docCache.getCachedRxDocument(u),m=u._attachments[i],p=tl(i,m,d);return p})})}function tE(t){Jc(this);var r=this._data;if(!r._attachments||!r._attachments[t])return null;var e=r._attachments[t],n=tl(t,e,this);return n}function eE(){Jc(this);var t=this._data;return t._attachments?Object.keys(t._attachments).map(r=>tl(r,t._attachments[r],this)):[]}function rE(t){return z(this,null,function*(){var r=t.docData._attachments;if(r){var e={};yield Promise.all(Object.keys(r).map(n=>z(this,null,function*(){var i=r[n],o=t.docData[t.oldCollection.schema.primaryPath],c=yield t.oldCollection.storageInstance.getAttachmentData(o,n,i.digest),u=yield t.oldCollection.database.hashFunction(c);e[n]={length:i.length,type:i.type,data:c,digest:u}}))),t.docData._attachments=e}})}function nE(t){return Dn}var gb={name:"attachments",rxdb:!0,prototypes:{RxDocument:t=>{t.putAttachment=JS,t.getAttachment=tE,t.allAttachments=eE,Object.defineProperty(t,"allAttachments$",{get:function(){return this.$.pipe(mt(e=>Object.entries(e.toJSON(!0)._attachments)),mt(e=>e.map(([n,i])=>tl(n,i,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:rE},postMigrateDocument:{after:nE}}};var bb=["pre","post"],yb=["insert","save","remove","create"],vb=!1,Aa=function(){function t(e,n,i,o,c={},u={},d={},m={},p={},b=ff,w={},E=xf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Xv(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=e,this.name=n,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=c,this.migrationStrategies=u,this.methods=d,this.attachments=m,this.options=p,this.cacheReplacementPolicy=b,this.statics=w,this.conflictHandler=E,iE(this.asRxCollection)}var r=t.prototype;return r.prepare=function(){return z(this,null,function*(){this.storageInstance=qc(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new sb(this.storageInstance,this.schema.primaryPath,(d,m)=>bf(this,d,m),d=>this._runHooks("post","save",d));var n=this.database.eventBulks$.pipe(wt(d=>d.collectionName===this.name));this.$=n.pipe(qt(d=>d.events)),this.checkpoint$=n.pipe(mt(d=>d.checkpoint)),this._changeEventBuffer=fb(this.asRxCollection);var i;this._docCache=new tb(this.schema.primaryPath,this.database.eventBulks$.pipe(wt(d=>d.collectionName===this.name&&!d.events[0].isLocal),mt(d=>d.events)),d=>(i||(i=hb(this.asRxCollection)),mb(this.asRxCollection,i,d)));var o=this.database.internalStore.changeStream().pipe(wt(d=>{var m=this.name+"-"+this.schema.version,p=d.events.find(b=>b.documentData.context==="collection"&&b.documentData.key===m&&b.operation==="DELETE");return!!p})).subscribe(()=>z(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(o);var c=yield this.database.storageToken,u=this.storageInstance.changeStream().subscribe(d=>{for(var m=new Array(d.events.length),p=d.events,b=this.name,w=Mt.deepFreezeWhenDevMode,E=0;E<p.length;E++){var O=p[E];m[E]={documentId:O.documentId,collectionName:b,isLocal:!1,operation:O.operation,documentData:w(O.documentData),previousDocumentData:w(O.previousDocumentData)}}var $={id:d.id,internal:!1,collectionName:this.name,storageToken:c,events:m,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit($)});return this._subs.push(u),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(m=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:m})})})),Dn})},r.cleanup=function(n){throw ze(this),Rt("cleanup")},r.migrationNeeded=function(){throw Rt("migration-schema")},r.getMigrationState=function(){throw Rt("migration-schema")},r.startMigration=function(n=10){return ze(this),this.getMigrationState().startMigration(n)},r.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},r.insert=function(n){return z(this,null,function*(){ze(this);var i=yield this.bulkInsert([n]),o=i.error[0];fo(this,n[this.schema.primaryPath],n,o);var c=Dt(i.success[0]);return c})},r.bulkInsert=function(n){return z(this,null,function*(){if(ze(this),n.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o;if(this.hasHooks("pre","insert"))o=yield Promise.all(n.map($=>{var W=ka(this.schema,$);return this._runHooks("pre","insert",W).then(()=>({document:W}))}));else{o=new Array(n.length);for(var c=this.schema,u=0;u<n.length;u++){var d=n[u],m=ka(c,d);o[u]={document:m}}}var p=yield this.storageInstance.bulkWrite(o,"rx-collection-bulk-insert"),b,w=this,E={get success(){if(!b){var $=Ye(w.schema.primaryPath,o,p);b=Hc(w._docCache,$)}return b},error:p.error};if(this.hasHooks("post","insert")){var O=new Map;o.forEach($=>{var W=$.document;O.set(W[i],W)}),yield Promise.all(E.success.map($=>this._runHooks("post","insert",O.get($.primary),$)))}return E})},r.bulkRemove=function(n){return z(this,null,function*(){ze(this);var i=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var o=yield this.findByIds(n).exec(),c=[],u=new Map;Array.from(o.values()).forEach(E=>{var O=E.toMutableJSON(!0);c.push(O),u.set(E.primary,O)}),yield Promise.all(c.map(E=>{var O=E[this.schema.primaryPath];return this._runHooks("pre","remove",E,o.get(O))}));var d=c.map(E=>{var O=kt(E);return O._deleted=!0,{previous:E,document:O}}),m=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),p=Ye(this.schema.primaryPath,d,m),b=p.map(E=>E[i]);yield Promise.all(b.map(E=>this._runHooks("post","remove",u.get(E),o.get(E))));var w=b.map(E=>kn(o,E));return{success:w,error:m.error}})},r.bulkUpsert=function(n){return z(this,null,function*(){ze(this);var i=[],o=new Map;n.forEach(m=>{var p=ka(this.schema,m),b=p[this.schema.primaryPath];if(!b)throw T("COL3",{primaryPath:this.schema.primaryPath,data:p,schema:this.schema.jsonSchema});o.set(b,p),i.push(p)});var c=yield this.bulkInsert(i),u=c.success.slice(0),d=[];return yield Promise.all(c.error.map(m=>z(this,null,function*(){if(m.status!==409)d.push(m);else{var p=m.documentId,b=kn(o,p),w=Dt(m.documentInDb),E=this._docCache.getCachedRxDocuments([w])[0],O=yield E.incrementalModify(()=>b);u.push(O)}}))),{error:d,success:u}})},r.upsert=function(n){return z(this,null,function*(){ze(this);var i=yield this.bulkUpsert([n]);return fo(this.asRxCollection,n[this.schema.primaryPath],n,i.error[0]),i.success[0]})},r.incrementalUpsert=function(n){ze(this);var i=ka(this.schema,n),o=i[this.schema.primaryPath];if(!o)throw T("COL4",{data:n});var c=this._incrementalUpsertQueues.get(o);return c||(c=Dn),c=c.then(()=>aE(this,o,i)).then(u=>u.inserted?u.doc:oE(u.doc,i)),this._incrementalUpsertQueues.set(o,c),c},r.find=function(n){if(ze(this),typeof n=="string")throw T("COL5",{queryObj:n});n||(n=Da());var i=uo("find",n,this);return i},r.findOne=function(n){if(ze(this),typeof n=="number"||Array.isArray(n))throw oe("COL6",{queryObj:n});var i;if(typeof n=="string")i=uo("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=Da()),n.limit)throw T("QU6");n=kt(n),n.limit=1,i=uo("findOne",n,this)}return i},r.count=function(n){ze(this),n||(n=Da());var i=uo("count",n,this);return i},r.findByIds=function(n){ze(this);var i={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},o=uo("findByIds",i,this);return o},r.exportJSON=function(){throw Rt("json-dump")},r.importJSON=function(n){throw Rt("json-dump")},r.insertCRDT=function(n){throw Rt("crdt")},r.addPipeline=function(n){throw Rt("pipeline")},r.addHook=function(n,i,o,c=!1){if(typeof o!="function")throw oe("COL7",{key:i,when:n});if(!bb.includes(n))throw oe("COL8",{key:i,when:n});if(!yb.includes(i))throw T("COL9",{key:i});if(n==="post"&&i==="create"&&c===!0)throw T("COL10",{when:n,key:i,parallel:c});var u=o.bind(this),d=c?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][d].push(u)},r.getHooks=function(n,i){return!this.hooks[i]||!this.hooks[i][n]?{series:[],parallel:[]}:this.hooks[i][n]},r.hasHooks=function(n,i){if(!this.hooks[i]||!this.hooks[i][n])return!1;var o=this.getHooks(n,i);return o?o.series.length>0||o.parallel.length>0:!1},r._runHooks=function(n,i,o,c){var u=this.getHooks(n,i);if(!u)return Dn;var d=u.series.map(m=>()=>m(o,c));return wg(d).then(()=>Promise.all(u.parallel.map(m=>m(o,c))))},r._runHooksSync=function(n,i,o,c){if(this.hasHooks(n,i)){var u=this.getHooks(n,i);u&&u.series.forEach(d=>d(o,c))}},r.promiseWait=function(n){var i=new Promise(o=>{var c=setTimeout(()=>{this.timeouts.delete(c),o()},n);this.timeouts.add(c)});return i},r.destroy=function(){return z(this,null,function*(){return this.destroyed?Rr:(yield Promise.all(this.onDestroy.map(n=>n())),this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Mn("postDestroyRxCollection",this).then(()=>!0))))})},r.remove=function(){return z(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(n=>n())),yield Zc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},xe(t,[{key:"insert$",get:function(){return this.$.pipe(wt(e=>e.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(wt(e=>e.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(wt(e=>e.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function iE(t){if(!vb){vb=!0;var r=Object.getPrototypeOf(t);yb.forEach(e=>{bb.map(n=>{var i=n+rc(e);r[i]=function(o,c){return this.addHook(n,e,o,c)}})})}}function oE(t,r){return t.incrementalModify(e=>r)}function aE(t,r,e){var n=t._docCache.getLatestDocumentDataIfExists(r);return n?Promise.resolve({doc:t._docCache.getCachedRxDocuments([n])[0],inserted:!1}):t.findOne(r).exec().then(i=>i?{doc:i,inserted:!1}:t.insert(e).then(o=>({doc:o,inserted:!0})))}function _b({database:t,name:r,schema:e,instanceCreationOptions:n={},migrationStrategies:i={},autoMigrate:o=!0,statics:c={},methods:u={},attachments:d={},options:m={},localDocuments:p=!1,cacheReplacementPolicy:b=ff,conflictHandler:w=xf}){var E={databaseInstanceToken:t.token,databaseName:t.name,collectionName:r,schema:e.jsonSchema,options:n,multiInstance:t.multiInstance,password:t.password,devMode:Mt.isDevMode()};return Gt("preCreateRxStorageInstance",E),db(t,E).then(O=>{var $=new Aa(t,r,e,O,n,i,u,d,m,b,c,w);return $.prepare().then(()=>{Object.entries(c).forEach(([et,ot])=>{Object.defineProperty($,et,{get:()=>ot.bind($)})});var W=Dn;return o&&$.schema.version!==0&&(W=$.migratePromise()),W}).then(()=>(Gt("createRxCollection",{collection:$,creator:{name:r,schema:e,storageInstance:O,instanceCreationOptions:n,migrationStrategies:i,methods:u,attachments:d,options:m,cacheReplacementPolicy:b,localDocuments:p,statics:c}}),$)).catch(W=>O.close().then(()=>Promise.reject(W)))})}var Sf=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=r||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Sf.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Cf(this)},wrapCall:function(r){var e=this;this.lock();var n;try{n=r()}catch(i){throw this.unlock(),i}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(i){return e.unlock(),i}).catch(function(i){throw e.unlock(),i})},requestIdlePromise:function(r){var e=this;r=r||{};var n,i=new Promise(function(u){return n=u}),o=function(){wf(e,i),n()};if(i._manRes=o,r.timeout){var c=setTimeout(function(){i._manRes()},r.timeout);i._timeoutObj=c}return this._iC.add(i),Cf(this),i},cancelIdlePromise:function(r){wf(this,r)},requestIdleCallback:function(r,e){var n=this._lHN++,i=this.requestIdlePromise(e);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return r()}),n},cancelIdleCallback:function(r){var e=this._hPM.get(r);this.cancelIdlePromise(e)},clear:function(){var r=this;this._iC.forEach(function(e){return wf(r,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function sE(t){if(t._iC.size!==0){var r=t._iC.values(),e=r.next().value;e._manRes(),setTimeout(function(){return Cf(t)},0)}}function wf(t,r){if(r){if(r._timeoutObj&&clearTimeout(r._timeoutObj),t._pHM.has(r)){var e=t._pHM.get(r);t._hPM.delete(e),t._pHM.delete(r)}t._iC.delete(r)}}function Cf(t){t._tryIR||t._iC.size===0||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}sE(t),t._tryIR=!1},0)},0))}var $n=class{ttl;map=new Map;_to=!1;constructor(r){this.ttl=r}has(r){return this.map.has(r)}add(r){this.map.set(r,xb()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,cE(this)},0))}clear(){this.map.clear()}};function cE(t){let r=xb()-t.ttl,e=t.map[Symbol.iterator]();for(;;){let n=e.next().value;if(!n)return;let i=n[0];if(n[1]<r)t.map.delete(i);else return}}function xb(){return Date.now()}var el=new Set,wb=0,Ia=function(){function t(e,n,i,o,c,u,d=!1,m={},p,b,w,E,O){this.idleQueue=new Sf,this.rxdbVersion=ci,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new lt,this.observable$=this.eventBulks$.pipe(qt($=>$.events)),this.storageToken=Rr,this.storageTokenDocument=Rr,this.emittedEventBulkIds=new $n(60*1e3),this.name=e,this.token=n,this.storage=i,this.instanceCreationOptions=o,this.password=c,this.multiInstance=u,this.eventReduce=d,this.options=m,this.internalStore=p,this.hashFunction=b,this.cleanupPolicy=w,this.allowSlowCount=E,this.reactivity=O,wb++,this.name!=="pseudoInstance"&&(this.internalStore=qc(this.asRxDatabase,p,Yc),this.storageTokenDocument=ub(this.asRxDatabase).catch($=>this.startupErrors.push($)),this.storageToken=this.storageTokenDocument.then($=>$.data.token).catch($=>this.startupErrors.push($)))}var r=t.prototype;return r.getReactivityFactory=function(){if(!this.reactivity)throw T("DB14",{database:this.name});return this.reactivity},r.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},r.removeCollectionDoc=function(n,i){return z(this,null,function*(){var o=yield gf(this.internalStore,Gc(_f(n,i),ho));if(!o)throw T("SNH",{name:n,schema:i});var c=hi(o);c._deleted=!0,yield this.internalStore.bulkWrite([{document:c,previous:o}],"rx-database-remove-collection")})},r.addCollections=function(n){return z(this,null,function*(){var i={},o={},c=[],u={};yield Promise.all(Object.entries(n).map(w=>z(this,[w],function*([p,b]){var E=p,O=b.schema;i[E]=O;var $=Ng(O,this.hashFunction);if(o[E]=$,this.collections[p])throw T("DB3",{name:p});var W=_f(p,O),et={id:Gc(W,ho),key:W,context:ho,data:{name:E,schemaHash:yield $.hash,schema:$.jsonSchema,version:$.version,connectedStorages:[]},_deleted:!1,_meta:En(),_rev:Kr(),_attachments:{}};c.push({document:et});var ot=Object.assign({},b,{name:E,schema:$,database:this}),Z=kt(b);Z.database=this,Z.name=p,Gt("preCreateRxCollection",Z),ot.conflictHandler=Z.conflictHandler,u[E]=ot})));var d=yield this.internalStore.bulkWrite(c,"rx-database-add-collection");yield dE(this),yield Promise.all(d.error.map(p=>z(this,null,function*(){if(p.status!==409)throw T("DB12",{database:this.name,writeError:p});var b=Dt(p.documentInDb),w=b.data.name,E=o[w];if(b.data.schemaHash!==(yield E.hash))throw T("DB6",{database:this.name,collection:w,previousSchemaHash:b.data.schemaHash,schemaHash:yield E.hash,previousSchema:b.data.schema,schema:Dt(i[w])})})));var m={};return yield Promise.all(Object.keys(n).map(p=>z(this,null,function*(){var b=u[p],w=yield _b(b);m[p]=w,this.collections[p]=w,this[p]||Object.defineProperty(this,p,{get:()=>this.collections[p]})}))),m})},r.lockedRun=function(n){return this.idleQueue.wrapCall(n)},r.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},r.exportJSON=function(n){throw Rt("json-dump")},r.addState=function(n){throw Rt("state")},r.importJSON=function(n){throw Rt("json-dump")},r.backup=function(n){throw Rt("backup")},r.leaderElector=function(){throw Rt("leader-election")},r.isLeader=function(){throw Rt("leader-election")},r.waitForLeadership=function(){throw Rt("leader-election")},r.migrationStates=function(){throw Rt("migration-schema")},r.destroy=function(){return z(this,null,function*(){return this.destroyed?Rr:(this.destroyed=!0,yield Mn("preDestroyRxDatabase",this),this.eventBulks$.complete(),wb--,this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance"?Rr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>el.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},r.remove=function(){return this.destroy().then(()=>uE(this.name,this.storage,this.password))},xe(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function lE(t,r){var e=r.name+"|"+t;if(el.has(e))throw T("DB8",{name:t,storage:r.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function Cb(t,r,e,n,i,o){return z(this,null,function*(){var c=yield r.createStorageInstance({databaseInstanceToken:t,databaseName:e,collectionName:nb,schema:Yc,options:n,multiInstance:i,password:o,devMode:Mt.isDevMode()});return c})}function Sb({storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:c=!1,options:u={},cleanupPolicy:d,allowSlowCount:m=!1,localDocuments:p=!1,hashFunction:b=Ji,reactivity:w}){Gt("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:c,options:u,localDocuments:p}),c||lE(e,t),el.add(t.name+"|"+e);var E=si(10);return Cb(E,t,e,r,i,n).catch(O=>{throw el.delete(t.name+"|"+e),O}).then(O=>{var $=new Ia(e,E,t,r,n,i,o,u,O,b,d,m,w);return Mn("createRxDatabase",{database:$,creator:{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:c,options:u,localDocuments:p}}).then(()=>$)})}function uE(t,r,e){return z(this,null,function*(){var n=si(10),i=yield Cb(n,r,t,{},!1,e),o=yield Xc(i),c=new Set;o.forEach(d=>c.add(d.data.name));var u=Array.from(c);return yield Promise.all(u.map(d=>Zc(r,i,n,t,d,e))),yield Mn("postRemoveRxDatabase",{databaseName:t,storage:r}),yield i.remove(),u})}function dE(t){return z(this,null,function*(){if(yield t.storageToken,t.startupErrors[0])throw t.startupErrors[0]})}var fE={RxSchema:kd.prototype,RxDocument:Ln,RxQuery:mf.prototype,RxCollection:Aa.prototype,RxDatabase:Ia.prototype},Ef=new Set,Eb=new Set;function rl(t){if(Gt("preAddRxPlugin",{plugin:t,plugins:Ef}),!Ef.has(t)){{if(Eb.has(t.name))throw T("PL3",{name:t.name,plugin:t});Ef.add(t),Eb.add(t.name)}if(!t.rxdb)throw oe("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([r,e])=>e(fE[r])),t.overwritable&&Object.assign(Mt,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([r,e])=>{e.after&&eo[r].push(e.after),e.before&&eo[r].unshift(e.before)})}}function Rb(t){return t&&typeof t.then=="function"}var hE=Promise.resolve(!1),a5=Promise.resolve(!0),Ir=Promise.resolve();function nl(t,r){return t||(t=0),new Promise(function(e){return setTimeout(function(){return e(r)},t)})}function Db(t,r){return Math.floor(Math.random()*(r-t+1)+t)}function Ma(){return Math.random().toString(36).substring(2)}var Rf=0;function Qr(){var t=Date.now()*1e3;return t<=Rf&&(t=Rf+1),Rf=t,t}var mE=Qr,pE="native";function gE(t){var r={time:Qr(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return r.bc.onmessage=function(e){r.messagesCallback&&r.messagesCallback(e.data)},r}function vE(t){t.bc.close(),t.subFns=[]}function bE(t,r){try{return t.bc.postMessage(r,!1),Ir}catch(e){return Promise.reject(e)}}function yE(t,r){t.messagesCallback=r}function _E(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function xE(){return 150}var Ob={create:gE,close:vE,onMessage:yE,postMessage:bE,canBeUsed:_E,type:pE,averageResponseTime:xE,microSeconds:mE};function mo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=JSON.parse(JSON.stringify(t));return typeof r.webWorkerSupport>"u"&&(r.webWorkerSupport=!0),r.idb||(r.idb={}),r.idb.ttl||(r.idb.ttl=1e3*45),r.idb.fallbackInterval||(r.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(r.idb.onclose=t.idb.onclose),r.localstorage||(r.localstorage={}),r.localstorage.removeTimeout||(r.localstorage.removeTimeout=1e3*60),t.methods&&(r.methods=t.methods),r.node||(r.node={}),r.node.ttl||(r.node.ttl=1e3*60*2),r.node.maxParallelWrites||(r.node.maxParallelWrites=2048),typeof r.node.useFastPath>"u"&&(r.node.useFastPath=!0),r}var wE=Qr,CE="pubkey.broadcast-channel-0-",Yr="messages",il={durability:"relaxed"},SE="idb";function kb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Df(t){t.commit&&t.commit()}function EE(t){var r=kb(),e=CE+t,n=r.open(e);return n.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Yr,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){n.onerror=function(c){return o(c)},n.onsuccess=function(){i(n.result)}})}function RE(t,r,e){var n=Date.now(),i={uuid:r,time:n,data:e},o=t.transaction([Yr],"readwrite",il);return new Promise(function(c,u){o.oncomplete=function(){return c()},o.onerror=function(m){return u(m)};var d=o.objectStore(Yr);d.add(i),Df(o)})}function DE(t,r){var e=t.transaction(Yr,"readonly",il),n=e.objectStore(Yr),i=[],o=IDBKeyRange.bound(r+1,1/0);if(n.getAll){var c=n.getAll(o);return new Promise(function(d,m){c.onerror=function(p){return m(p)},c.onsuccess=function(p){d(p.target.result)}})}function u(){try{return o=IDBKeyRange.bound(r+1,1/0),n.openCursor(o)}catch{return n.openCursor()}}return new Promise(function(d,m){var p=u();p.onerror=function(b){return m(b)},p.onsuccess=function(b){var w=b.target.result;w?w.value.id<r+1?w.continue(r+1):(i.push(w.value),w.continue()):(Df(e),d(i))}})}function OE(t,r){if(t.closed)return Promise.resolve([]);var e=t.db.transaction(Yr,"readwrite",il),n=e.objectStore(Yr);return Promise.all(r.map(function(i){var o=n.delete(i);return new Promise(function(c){o.onsuccess=function(){return c()}})}))}function kE(t,r){var e=Date.now()-r,n=t.transaction(Yr,"readonly",il),i=n.objectStore(Yr),o=[];return new Promise(function(c){i.openCursor().onsuccess=function(u){var d=u.target.result;if(d){var m=d.value;m.time<e?(o.push(m),d.continue()):(Df(n),c(o))}else c(o)}})}function AE(t){return kE(t.db,t.options.idb.ttl).then(function(r){return OE(t,r.map(function(e){return e.id}))})}function IE(t,r){return r=mo(r),EE(t).then(function(e){var n={closed:!1,lastCursorId:0,channelName:t,options:r,uuid:Ma(),eMIs:new $n(r.idb.ttl*2),writeBlockPromise:Ir,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){n.closed=!0,r.idb.onclose&&r.idb.onclose()},Ab(n),n})}function Ab(t){t.closed||Ib(t).then(function(){return nl(t.options.idb.fallbackInterval)}).then(function(){return Ab(t)})}function ME(t,r){return!(t.uuid===r.uuid||r.eMIs.has(t.id)||t.data.time<r.messagesCallbackTime)}function Ib(t){return t.closed?Ir:t.messagesCallback?DE(t.db,t.lastCursorId).then(function(r){var e=r.filter(function(n){return!!n}).map(function(n){return n.id>t.lastCursorId&&(t.lastCursorId=n.id),n}).filter(function(n){return ME(n,t)}).sort(function(n,i){return n.time-i.time});return e.forEach(function(n){t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),Ir}):Ir}function TE(t){t.closed=!0,t.db.close()}function PE(t,r){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return RE(t.db,t.uuid,r)}).then(function(){Db(0,10)===0&&AE(t)}),t.writeBlockPromise}function NE(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r,Ib(t)}function LE(){return!!kb()}function $E(t){return t.idb.fallbackInterval*2}var Mb={create:IE,close:TE,onMessage:NE,postMessage:PE,canBeUsed:LE,type:SE,averageResponseTime:$E,microSeconds:wE};var FE=Qr,BE="pubkey.broadcastChannel-",jE="localstorage";function Tb(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Pb(t){return BE+t}function zE(t,r){return new Promise(function(e){nl().then(function(){var n=Pb(t.channelName),i={token:Ma(),time:Date.now(),data:r,uuid:t.uuid},o=JSON.stringify(i);Tb().setItem(n,o);var c=document.createEvent("Event");c.initEvent("storage",!0,!0),c.key=n,c.newValue=o,window.dispatchEvent(c),e()})})}function UE(t,r){var e=Pb(t),n=function(o){o.key===e&&r(JSON.parse(o.newValue))};return window.addEventListener("storage",n),n}function VE(t){window.removeEventListener("storage",t)}function KE(t,r){if(r=mo(r),!Nb())throw new Error("BroadcastChannel: localstorage cannot be used");var e=Ma(),n=new $n(r.localstorage.removeTimeout),i={channelName:t,uuid:e,eMIs:n};return i.listener=UE(t,function(o){i.messagesCallback&&o.uuid!==e&&(!o.token||n.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(n.add(o.token),i.messagesCallback(o.data)))}),i}function WE(t){VE(t.listener)}function HE(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r}function Nb(){var t=Tb();if(!t)return!1;try{var r="__broadcastchannel_check";t.setItem(r,"works"),t.removeItem(r)}catch{return!1}return!0}function qE(){var t=120,r=navigator.userAgent.toLowerCase();return r.includes("safari")&&!r.includes("chrome")?t*2:t}var Lb={create:KE,close:WE,onMessage:HE,postMessage:zE,canBeUsed:Nb,type:jE,averageResponseTime:qE,microSeconds:FE};var $b=Qr,QE="simulate",Of=new Set;function YE(t){var r={time:$b(),name:t,messagesCallback:null};return Of.add(r),r}function GE(t){Of.delete(t)}var Fb=5;function XE(t,r){return new Promise(function(e){return setTimeout(function(){var n=Array.from(Of);n.forEach(function(i){i.name===t.name&&i!==t&&i.messagesCallback&&i.time<r.time&&i.messagesCallback(r)}),e()},Fb)})}function ZE(t,r){t.messagesCallback=r}function JE(){return!0}function tR(){return Fb}var Bb={create:YE,close:GE,onMessage:ZE,postMessage:XE,canBeUsed:JE,type:QE,averageResponseTime:tR,microSeconds:$b};var jb=[Ob,Mb,Lb];function zb(t){var r=[].concat(t.methods,jb).filter(Boolean);if(t.type){if(t.type==="simulate")return Bb;var e=r.find(function(i){return i.type===t.type});if(e)return e;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(r=r.filter(function(i){return i.type!=="idb"}));var n=r.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(jb.map(function(i){return i.type})))}var kf=new Set,eR=0,Ta=function(r,e){this.id=eR++,kf.add(this),this.name=r,Ub&&(e=Ub),this.options=mo(e),this.method=zb(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,rR(this)};Ta._pubkey=!0;var Ub;Ta.prototype={postMessage:function(r){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(r));return Vb(this,"message",r)},postInternal:function(r){return Vb(this,"internal",r)},set onmessage(t){var r=this.method.microSeconds(),e={time:r,fn:t};Wb(this,"message",this._onML),t&&typeof t=="function"?(this._onML=e,Kb(this,"message",e)):this._onML=null},addEventListener:function(r,e){var n=this.method.microSeconds(),i={time:n,fn:e};Kb(this,r,i)},removeEventListener:function(r,e){var n=this._addEL[r].find(function(i){return i.fn===e});Wb(this,r,n)},close:function(){var r=this;if(!this.closed){kf.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Ir;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(r._uMP))}).then(function(){return Promise.all(r._befC.map(function(n){return n()}))}).then(function(){return r.method.close(r._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Vb(t,r,e){var n=t.method.microSeconds(),i={time:n,type:r,data:e},o=t._prepP?t._prepP:Ir;return o.then(function(){var c=t.method.postMessage(t._state,i);return t._uMP.add(c),c.catch().then(function(){return t._uMP.delete(c)}),c})}function rR(t){var r=t.method.create(t.name,t.options);Rb(r)?(t._prepP=r,r.then(function(e){t._state=e})):t._state=r}function Hb(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function Kb(t,r,e){t._addEL[r].push(e),nR(t)}function Wb(t,r,e){t._addEL[r]=t._addEL[r].filter(function(n){return n!==e}),iR(t)}function nR(t){if(!t._iL&&Hb(t)){var r=function(i){t._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},e=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,r,e)}):(t._iL=!0,t.method.onMessage(t._state,r,e))}}function iR(t){if(t._iL&&!Hb(t)){t._iL=!1;var r=t.method.microSeconds();t.method.onMessage(t._state,null,r)}}var ol=new Map;function oR(t,r,e,n){var i=ol.get(r);return i||(i={bc:new Ta(["RxDB:",t,e].join("|")),refs:new Set},ol.set(r,i)),i.refs.add(n),i.bc}function qb(t,r){var e=ol.get(t);if(e&&(e.refs.delete(r),e.refs.size===0))return ol.delete(t),e.bc.close()}function Qb(t,r,e,n){if(r.multiInstance){var i=n||oR(t,r.databaseInstanceToken,e.databaseName,e),o=new lt,c=w=>{w.storageName===t&&w.databaseName===r.databaseName&&w.collectionName===r.collectionName&&w.version===r.schema.version&&o.next(w.eventBulk)};i.addEventListener("message",c);var u=e.changeStream(),d=!1,m=u.subscribe(w=>{d||i.postMessage({storageName:t,databaseName:r.databaseName,collectionName:r.collectionName,version:r.schema.version,eventBulk:w})});e.changeStream=function(){return o.asObservable().pipe(om(u))};var p=e.close.bind(e);e.close=function(){return z(this,null,function*(){return d=!0,m.unsubscribe(),i.removeEventListener("message",c),n||(yield qb(r.databaseInstanceToken,e)),p()})};var b=e.remove.bind(e);e.remove=function(){return z(this,null,function*(){return d=!0,m.unsubscribe(),i.removeEventListener("message",c),n||(yield qb(r.databaseInstanceToken,e)),b()})}}}var Af={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var If;function Yb(){if(!If){var t=new Aa,r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));If=[...r,...e]}return If}var Mf;function Gb(){if(!Mf){var t=new Ia("pseudoInstance","memory"),r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Mf=[...r,...e],t.destroy()}return Mf}var aR=Qc(Ln),sR=new aR,Tf;function al(){if(!Tf){var t=["deleted","synced"],r=Object.getOwnPropertyNames(sR),e=Object.getOwnPropertyNames(Ln);Tf=[...r,...e,...t]}return Tf}function cR(t){if(t!=="_deleted"){if(["properties"].includes(t))throw T("SC23",{fieldName:t});var r="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",e=new RegExp(r);if(t!=="_id"&&!t.match(e))throw T("SC1",{regex:r,fieldName:t})}}function lR(t){var r=le(t.primaryKey);function e(i,o,c){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&c.split(".").pop()!=="patternProperties"&&cR(i),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw T("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw T("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw T("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw T("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw T("SC3",{fieldName:i});break;default:throw T("SC4",{fieldName:i})}var u=c.split(".").length>=2;if(u&&o.default)throw T("SC7",{path:c});if(!u){if(i==="_id"&&r!=="_id")throw T("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw T("SC8",{fieldName:i})}}}function n(i,o){!i||typeof i!="object"||Object.keys(i).forEach(c=>{var u=i[c];!i.properties&&u&&typeof u=="object"&&!Array.isArray(i)&&e(c,u,o);var d=o;c!=="properties"&&(d=d+"."+c),n(u,d)})}return n(t,""),!0}function uR(t){if(!t.primaryKey)throw T("SC30",{schema:t});function r(d){if(!d)throw T("SC33",{schema:t});var m=d.type;if(!m||!["string","number","integer"].includes(m))throw T("SC32",{schema:t,args:{schemaPart:d}})}if(typeof t.primaryKey=="string"){var e=t.primaryKey,n=t.properties[e];r(n)}else{var i=t.primaryKey,o=ke(t,i.key);r(o),i.fields.forEach(d=>{var m=ke(t,d);r(m)})}var c=le(t.primaryKey),u=t.properties[c];if(u.maxLength){if(!isFinite(u.maxLength))throw T("SC41",{schema:t,args:{primaryPathSchemaPart:u}})}else throw T("SC39",{schema:t,args:{primaryPathSchemaPart:u}})}function Xb(t){for(var r=t.split("."),e="",n=0;n<r.length;n+=1)r[n]!=="[]"?e=e.concat(".properties.".concat(r[n])):e=e.concat(".items");return ar(e)}function Zb(t){if(!t.primaryKey)throw T("SC30",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"properties"))throw T("SC29",{schema:t});if(t.properties._rev)throw T("SC10",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"version")||typeof t.version!="number"||t.version<0)throw T("SC11",{version:t.version});if(lR(t),uR(t),Object.keys(t.properties).forEach(r=>{var e=t.properties[r];if(r===t.primaryKey){if(t.indexes&&t.indexes.includes(r))throw T("SC13",{value:e,schema:t});if(e.unique)throw T("SC14",{value:e,schema:t});if(t.encrypted&&t.encrypted.includes(r))throw T("SC15",{value:e,schema:t});if(e.type!=="string")throw T("SC16",{value:e,schema:t})}if(al().includes(r))throw T("SC17",{key:r,schema:t})}),t.indexes){if(!Er(t.indexes))throw T("SC18",{indexes:t.indexes,schema:t});t.indexes.forEach(r=>{if(!(typeof r=="string"||Array.isArray(r)))throw T("SC19",{index:r,schema:t});if(Array.isArray(r)){for(var e=0;e<r.length;e+=1)if(typeof r[e]!="string")throw T("SC20",{index:r,schema:t})}var n=Er(r)?r:[r];n.forEach(i=>{var o=ke(t,i),c=o.type;switch(c){case"string":var u=o.maxLength;if(!u)throw T("SC34",{index:r,field:i,schema:t});break;case"number":case"integer":var d=o.multipleOf;if(!d)throw T("SC35",{index:r,field:i,schema:t});var m=o.maximum,p=o.minimum;if(typeof m>"u"||typeof p>"u")throw T("SC37",{index:r,field:i,schema:t});if(!isFinite(m)||!isFinite(p))throw T("SC41",{index:r,field:i,schema:t});break;case"boolean":var b="",w=i;if(i.includes(".")){var E=i.split(".");w=E.pop(),b=E.join(".")}var O=b===""?t:ke(t,b);if(!O.required||!O.required.includes(w))throw T("SC38",{index:r,field:i,schema:t});break;default:throw T("SC36",{fieldName:i,type:o.type,schema:t})}})})}Object.keys(tc(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!=="").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Oe(t,r);return e&&!!e.index}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),T("SC26",{index:ar(r),schema:t})}),(t.indexes||[]).reduce((r,e)=>(Er(e)?or(r,e):r.push(e),r),[]).filter((r,e,n)=>n.indexOf(r)===e).map(r=>{var e=Xb(r),n=Oe(t,e);if(!n||typeof n!="object")throw T("SC21",{index:r,schema:t});return{indexPath:r,schemaObj:n}}).filter(r=>r.schemaObj.type!=="string"&&r.schemaObj.type!=="integer"&&r.schemaObj.type!=="number"&&r.schemaObj.type!=="boolean").forEach(r=>{throw T("SC22",{key:r.indexPath,type:r.schemaObj.type,schema:t})}),Object.keys(tc(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!==""&&r!=="attachments").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Oe(t,r);return e&&!!e.encrypted}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),T("SC27",{index:ar(r),schema:t})}),t.encrypted&&t.encrypted.forEach(r=>{var e=Xb(r),n=Oe(t,e);if(!n||typeof n!="object")throw T("SC28",{field:r,schema:t})})}function sl(t){t&&Object.entries(t).forEach(([r,e])=>{if(typeof r!="string")throw oe("COL14",{name:r});if(r.startsWith("_"))throw oe("COL15",{name:r});if(typeof e!="function")throw oe("COL16",{name:r,type:typeof r});if(Yb().includes(r)||al().includes(r))throw T("COL17",{name:r})})}function Jb(t,r){var e=Object.keys(t.properties);r&&Object.keys(r).filter(n=>e.includes(n)).forEach(n=>{throw T("COL18",{funName:n})})}function ty(t,r){if(typeof r!="object"||Array.isArray(r))throw oe("COL11",{schema:t});var e=Pg(t);if(e.length!==Object.keys(r).length)throw T("COL12",{have:Object.keys(r),should:e});return e.map(n=>({v:n,s:r[n+1]})).filter(n=>typeof n.s!="function").forEach(n=>{throw oe("COL13",{version:n.v,type:typeof n,schema:t})}),!0}function ey(t){if(Gb().includes(t.name))throw T("DB5",{name:t.name});iy(t.name)}function ry(t){if(iy(t.name),t.name.includes("$"))throw T("DB13",{name:t.name});if(_d(t.name)&&(t.name.endsWith("/")||t.name.endsWith("\\")))throw T("DB11",{name:t.name})}var ny="^[a-z][_$a-z0-9\\-]*$",dR=new RegExp(ny);function iy(t){if(typeof t!="string"||t.length===0)throw oe("UT1",{name:t});if(_d(t))return!0;if(!t.match(dR)&&t!==":memory:")throw T("UT2",{regex:ny,givenName:t});return!0}function oy(t){var r=Object.prototype.toString.call(t.queryObj)==="[object Object]";if(!r)throw oe("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj});var e=["selector","limit","skip","sort","index"];if(Object.keys(t.queryObj).forEach(n=>{if(!e.includes(n))throw oe("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj,key:n,args:{validKeys:e}})}),t.op==="count"&&(t.queryObj.limit||t.queryObj.skip))throw T("QU15",{collection:t.collection.name,query:t.queryObj});cl(t.queryObj)}function ay(t){var r=t.rxQuery.collection.schema.jsonSchema,e=t.mangoQuery.selector,n=Object.keys(r.properties);Object.keys(e).filter(u=>!u.startsWith("$")).filter(u=>!u.includes(".")).forEach(u=>{if(!n.includes(u))throw T("QU13",{schema:r,field:u,query:t.mangoQuery})});var i=r.indexes?r.indexes:[],o=t.mangoQuery.index;if(o){var c=i.find(u=>On(u,o));if(!c)throw T("QU12",{collection:t.rxQuery.collection.name,query:t.mangoQuery,schema:r})}if(t.rxQuery.op==="count"&&!fR(t.rxQuery.collection.schema.jsonSchema,t.mangoQuery)&&!t.rxQuery.collection.database.allowSlowCount)throw T("QU14",{collection:t.rxQuery.collection,query:t.mangoQuery});t.mangoQuery.sort&&t.mangoQuery.sort.map(u=>Object.keys(u)[0]).filter(u=>!u.includes(".")).forEach(u=>{if(!n.includes(u))throw T("QU13",{schema:r,field:u,query:t.mangoQuery})}),cl(t.mangoQuery)}function fR(t,r){var e=Oa(t,r);return e.queryPlan.selectorSatisfiedByIndex}function cl(t){if(!(typeof t!="object"||t===null)){var r=Object.keys(t);r.forEach(e=>{var n=t[e];if(n instanceof RegExp)throw T("QU16",{field:e,query:t});Array.isArray(n)?n.forEach(i=>cl(i)):cl(n)})}}function sy(t,r){if(!t)throw T("DOC20",{primaryKey:t,document:r});if(t!==t.trim())throw T("DOC21",{primaryKey:t,document:r});if(t.includes("\r")||t.includes(`
`))throw T("DOC22",{primaryKey:t,document:r});if(t.includes('"'))throw T("DOC23",{primaryKey:t,document:r})}function cy(t){if(typeof t!="object"||t===null)return!1;for(var r in t)if(t.hasOwnProperty(r)&&(t[r]instanceof Date||typeof t[r]=="object"&&cy(t[r])))return!0;return!1}function ly(t,r){var e=le(t.schema.primaryKey),n=function(o){o.document=sc(e,t.schema,o.document),o.previous&&Object.keys(o.previous._meta).forEach(c=>{if(!Object.prototype.hasOwnProperty.call(o.document._meta,c))throw T("SNH",{dataBefore:o.previous,dataAfter:o.document,args:{metaFieldName:c}})});try{typeof structuredClone=="function"?structuredClone(o):JSON.parse(JSON.stringify(o))}catch{throw T("DOC24",{collection:t.collectionName,document:o.document})}if(cy(o.document))throw T("DOC24",{collection:t.collectionName,document:o.document})};for(var i of r)n(i)}var uy=!1;function dy(t){return z(this,null,function*(){if(!(uy||typeof window>"u"||typeof location>"u")&&!(An.premium&&typeof An.premium=="string"&&(yield Ji(An.premium))===ic)){uy=!0;var r=document.createElement("iframe");r.style.display="none",r.src="https://rxdb.info/html/dev-mode-iframe.html?version="+ci,document.body.appendChild(r)}})}var hR=!0;function mR(t){return!t||typeof t=="string"||typeof t=="number"?t:pd(t)}var pR="dev-mode",fy={name:pR,rxdb:!0,init:()=>{hR&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:mR,tunnelErrorMessage(t){if(!Af[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return Af[t]}},hooks:{preCreateRxSchema:{after:Zb},preCreateRxDatabase:{after:function(t){ry(t)}},createRxDatabase:{after:function(t){return z(this,null,function*(){dy(t.database)})}},preCreateRxCollection:{after:function(t){if(ey(t),Jb(t.schema,t.methods),t.name.charAt(0)==="_")throw T("DB2",{name:t.name});if(!t.schema)throw T("DB4",{name:t.name,args:t})}},createRxDocument:{before:function(t){sy(t.primary,t.toJSON(!0))}},preCreateRxQuery:{after:function(t){oy(t)}},prePrepareQuery:{after:t=>{ay(t)}},preStorageWrite:{before:t=>{ly(t.storageInstance,t.rows)}},createRxCollection:{after:t=>{sl(t.creator.statics),sl(t.creator.methods),sl(t.creator.attachments),t.creator.schema&&t.creator.migrationStrategies&&ty(t.creator.schema,t.creator.migrationStrategies)}}}};var ll=Nx(hy(),1),my=Symbol.for("Dexie"),Pa=globalThis[my]||(globalThis[my]=ll.default);if(ll.default.semVer!==Pa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ll.default.semVer} and ${Pa.semVer}`);var{liveQuery:A3,mergeRanges:I3,rangesOverlap:M3,RangeSet:T3,cmp:P3,Entity:N3,PropModSymbol:L3,PropModification:$3,replacePrefix:F3,add:B3,remove:j3}=Pa;var Na="docs",gR="changes",py="attachments",dl="dexie",gy=new Map,ul=new Map;function vy(t,r,e,n){var i="rxdb-dexie-"+t+"--"+n.version+"--"+r,o=$e(gy,i,()=>{var c=z(this,null,function*(){var u=kt(e);u.autoOpen=!1;var d=new Pa(i,u),m={[Na]:vR(n),[gR]:"++sequence, id",[py]:"id"};return d.version(1).stores(m),yield d.open(),{dexieDb:d,dexieTable:d[Na],dexieAttachmentsTable:d[py],booleanIndexes:bR(n)}});return gy.set(i,o),ul.set(o,0),c});return o}function by(t){return z(this,null,function*(){var r=yield t,e=ul.get(t),n=e-1;n===0?(r.dexieDb.close(),ul.delete(t)):ul.set(t,n)})}var Lf="__";function mi(t){var r=t.split(".");if(r.length>1)return r.map(n=>mi(n)).join(".");if(t.startsWith("|")){var e=t.substring(1);return Lf+e}else return t}function yy(t){var r=t.split(".");if(r.length>1)return r.map(n=>yy(n)).join(".");if(t.startsWith(Lf)){var e=t.substring(Lf.length);return"|"+e}else return t}function _y(t,r){if(!r)return r;var e=kt(r);return e=$f(e),t.forEach(n=>{var i=Oe(r,n),o=i?"1":"0",c=mi(n);Cd(e,c,o)}),e}function Bf(t,r){return r&&(r=kt(r),r=Ff(r),t.forEach(e=>{var n=Oe(r,e),i=n==="1";Cd(r,e,i)}),r)}function $f(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>$f(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="object"&&(n=$f(n)),r[mi(e)]=n}),r}}function Ff(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>Ff(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{(typeof n=="object"||Array.isArray(t))&&(n=Ff(n)),r[yy(e)]=n}),r}}function vR(t){var r=[],e=le(t.primaryKey);r.push([e]),r.push(["_deleted",e]),t.indexes&&t.indexes.forEach(o=>{var c=ma(o);r.push(c)}),r.push(["_meta.lwt",e]),r.push(["_meta.lwt"]),r=r.map(o=>o.map(c=>mi(c)));var n=r.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");n=n.filter((o,c,u)=>u.indexOf(o)===c);var i=n.join(", ");return i}function jf(t,r){return z(this,null,function*(){var e=yield t,n=yield e.dexieTable.bulkGet(r);return n.map(i=>Bf(e.booleanIndexes,i))})}function La(t,r){return t+"||"+r}function bR(t){var r=new Set,e=[];return t.indexes?(t.indexes.forEach(n=>{var i=ma(n);i.forEach(o=>{if(!r.has(o)){r.add(o);var c=ke(t,o);c.type==="boolean"&&e.push(o)}})}),e.push("_deleted"),ag(e)):e}function xy(t){return t===ui?-1/0:t}function wy(t,r,e){if(t.includes(r)){var n=e===li||e===!0?"1":"0";return n}else return e}function Cy(t,r,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var n=r.startKeys.map((c,u)=>{var d=r.index[u];return wy(t,d,c)}).map(xy),i=r.endKeys.map((c,u)=>{var d=r.index[u];return wy(t,d,c)}).map(xy),o=e.bound(n,i,!r.inclusiveStart,!r.inclusiveEnd);return o}function zf(t,r){return z(this,null,function*(){var e=yield t.internals,n=r.query,i=n.skip?n.skip:0,o=n.limit?n.limit:1/0,c=i+o,u=r.queryPlan,d=!1;u.selectorSatisfiedByIndex||(d=lo(t.schema,r.query));var m=Cy(e.booleanIndexes,u,e.dexieDb._options.IDBKeyRange),p=u.index,b=[];if(yield e.dexieDb.transaction("r",e.dexieTable,E=>z(this,null,function*(){var O=E.idbtrans,$=O.objectStore(Na),W,et;et="["+p.map(Z=>mi(Z)).join("+")+"]",W=$.index(et);var ot=W.openCursor(m);yield new Promise(Z=>{ot.onsuccess=function(Ft){var yt=Ft.target.result;if(yt){var Pt=Bf(e.booleanIndexes,yt.value);(!d||d(Pt))&&b.push(Pt),u.sortSatisfiedByIndex&&b.length===c?Z():yt.continue()}else Z()}})})),!u.sortSatisfiedByIndex){var w=Wc(t.schema,r.query);b=b.sort(w)}return b=b.slice(i,c),{documents:b}})}function Sy(t,r){return z(this,null,function*(){var e=yield t.internals,n=r.queryPlan,i=n.index,o=Cy(e.booleanIndexes,n,e.dexieDb._options.IDBKeyRange),c=-1;return yield e.dexieDb.transaction("r",e.dexieTable,u=>z(this,null,function*(){var d=u.idbtrans,m=d.objectStore(Na),p,b;b="["+i.map(E=>mi(E)).join("+")+"]",p=m.index(b);var w=p.count(o);c=yield new Promise((E,O)=>{w.onsuccess=function(){E(w.result)},w.onerror=$=>O($)})})),c})}var yR=ee(),Uf=!1,_R=function(){function t(e,n,i,o,c,u,d,m){this.changes$=new lt,this.instanceId=yR++,this.storage=e,this.databaseName=n,this.collectionName=i,this.schema=o,this.internals=c,this.options=u,this.settings=d,this.devMode=m,this.primaryPath=le(this.schema.primaryKey)}var r=t.prototype;return r.bulkWrite=function(n,i){return z(this,null,function*(){pi(this),!Uf&&(!An.premium||typeof An.premium!="string"||(yield Ji(An.premium))!==ic)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),Uf=!0,n.forEach(p=>{if(!p.document._rev||p.previous&&!p.previous._rev)throw T("SNH",{args:{row:p}})});var o=yield this.internals,c={error:[]};this.devMode&&(n=n.map(p=>{var b=hi(p.document);return{previous:p.previous,document:b}}));var u=n.map(p=>p.document[this.primaryPath]),d;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>z(this,null,function*(){var p=new Map,b=yield jf(this.internals,u);b.forEach(O=>{var $=O;return $&&p.set($[this.primaryPath],$),$}),d=ib(this,this.primaryPath,p,n,i),c.error=d.errors;var w=[];d.bulkInsertDocs.forEach(O=>{w.push(O.document)}),d.bulkUpdateDocs.forEach(O=>{w.push(O.document)}),w=w.map(O=>_y(o.booleanIndexes,O)),w.length>0&&(yield o.dexieTable.bulkPut(w));var E=[];d.attachmentsAdd.forEach(O=>{E.push({id:La(O.documentId,O.attachmentId),data:O.attachmentData.data})}),d.attachmentsUpdate.forEach(O=>{E.push({id:La(O.documentId,O.attachmentId),data:O.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(E),yield o.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(O=>La(O.documentId,O.attachmentId)))})),d=Dt(d),d.eventBulk.events.length>0){var m=Dt(d.newestRow).document;d.eventBulk.checkpoint={id:m[this.primaryPath],lwt:m._meta.lwt},d.eventBulk.endTime=ee(),this.changes$.next(d.eventBulk)}return c})},r.findDocumentsById=function(n,i){return z(this,null,function*(){pi(this);var o=yield this.internals,c=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>z(this,null,function*(){var u=yield jf(this.internals,n);u.forEach(d=>{d&&(!d._deleted||i)&&c.push(d)})})),c})},r.query=function(n){return pi(this),zf(this,n)},r.count=function(n){return z(this,null,function*(){if(n.queryPlan.selectorSatisfiedByIndex){var i=yield Sy(this,n);return{count:i,mode:"fast"}}else{var o=yield zf(this,n);return{count:o.documents.length,mode:"slow"}}})},r.changeStream=function(){return pi(this),this.changes$.asObservable()},r.cleanup=function(n){return z(this,null,function*(){pi(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieTable,()=>z(this,null,function*(){var o=ee()-n,c=yield i.dexieTable.where("_meta.lwt").below(o).toArray(),u=[];c.forEach(d=>{d._deleted==="1"&&u.push(d[this.primaryPath])}),yield i.dexieTable.bulkDelete(u)})),!0})},r.getAttachmentData=function(n,i,o){return z(this,null,function*(){pi(this);var c=yield this.internals,u=La(n,i);return yield c.dexieDb.transaction("r",c.dexieAttachmentsTable,()=>z(this,null,function*(){var d=yield c.dexieAttachmentsTable.get(u);if(d)return d.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+i)}))})},r.remove=function(){return z(this,null,function*(){pi(this);var n=yield this.internals;return yield n.dexieTable.clear(),this.close()})},r.close=function(){return this.closed?this.closed:(this.closed=z(this,null,function*(){this.changes$.complete(),yield by(this.internals)}),this.closed)},r.conflictResultionTasks=function(){return new lt},r.resolveConflictResultionTask=function(n){return z(this,null,function*(){})},t}();function Ey(t,r,e){return z(this,null,function*(){var n=vy(r.databaseName,r.collectionName,e,r.schema),i=new _R(t,r.databaseName,r.collectionName,r.schema,n,r.options,e,r.devMode);return yield Qb(dl,r,i),Promise.resolve(i)})}function pi(t){if(t.closed)throw new Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var xR=function(){function t(e){this.name=dl,this.rxdbVersion=ci,this.settings=e}var r=t.prototype;return r.createStorageInstance=function(n){return ab(n),Ey(this,n,this.settings)},t}();function Ry(t={}){var r=new xR(t);return r}var Vf={};vs(Vf,{$all:()=>xS,$and:()=>ef,$bitsAllClear:()=>Dy,$bitsAllSet:()=>Oy,$bitsAnyClear:()=>ky,$bitsAnySet:()=>Ay,$elemMatch:()=>sf,$eq:()=>$c,$exists:()=>lf,$expr:()=>bS,$gt:()=>Fc,$gte:()=>Bc,$in:()=>jc,$jsonSchema:()=>yS,$lt:()=>zc,$lte:()=>Uc,$mod:()=>of,$ne:()=>Vc,$nin:()=>Kc,$nor:()=>rf,$not:()=>nf,$or:()=>Ea,$regex:()=>af,$size:()=>cf,$type:()=>uf,$where:()=>_S});var Fn=t=>Et((r,e,n)=>{let i=0;if(e instanceof Array)for(let o of e)i=i|1<<o;else i=e;return t(r&i,i)});var Dy=Fn((t,r)=>t==0);var Oy=Fn((t,r)=>t==r);var ky=Fn((t,r)=>t<r);var Ay=Fn((t,r)=>t>0);var fl={};vs(fl,{$addToSet:()=>CR,$bit:()=>ER,$currentDate:()=>RR,$inc:()=>DR,$max:()=>OR,$min:()=>kR,$mul:()=>AR,$pop:()=>IR,$pull:()=>Kf,$pullAll:()=>MR,$push:()=>PR,$rename:()=>NR,$set:()=>Wf,$unset:()=>LR});var po=(t,r)=>{switch(t){case"deep":return oo(r);case"copy":return Pn(r)?new Date(r):it(r)?[...r]:ft(r)?B({},r):r;default:return r}},wR=/^[a-z]+[a-zA-Z0-9]*$/;function Iy(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];let r=t.indexOf(".$"),e=t.indexOf("]"),n=t.substring(0,r),i=t.substring(r+3,e);U(i===""||wR.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let o=t.substring(e+2),[c,u]=o?Iy(o):[];return[{selector:t,parent:n,child:i||"$",next:c},[i,...u||[]].filter(Boolean)]}var Tt=(t,r,e,n,i)=>{let{parent:o,child:c,next:u}=r;if(!c){let m=!1;return no(t,o,(b,w)=>m=!!n(b,w)||m,i),m}let d=Ce(t,o);return it(d)?d.map((m,p)=>e[c]&&!e[c].test({[c]:m})?!1:u?Tt(m,u,e,n,i):n(d,p)).some(Boolean):!1};function $t(t,r,e,n){let i=[];for(let[o,c]of Object.entries(t)){let[u,d]=Iy(o);if(!d.length)n(c,u,{})&&i.push(u.parent);else{let m={};r.forEach(b=>{Object.keys(b).forEach(w=>{d.forEach(E=>{(w===E||w.startsWith(E+"."))&&(m[E]=m[E]||{},Object.assign(m[E],{[w]:b[w]}))})})});let p={};for(let[b,w]of Object.entries(m))p[b]=new Xt(w,e.queryOptions);n(c,u,p)&&i.push(u.parent)}}return i}var CR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>{let u={$each:[i]};return ft(i)&&Ut(i,"$each")&&Object.assign(u,i),Tt(t,o,c,(d,m)=>{let p=d[m]||=[];return Hr([p,u.$each]).length===u.$each.length?!1:(d[m]=po(n.cloneMode,xa(p.concat(u.$each))),!0)},{buildGraph:!0})});var SR=new Set(["and","or","xor"]),ER=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>{let u=Object.keys(i);return U(u.length===1&&SR.has(u[0]),`Invalid bit operator '${u[0]}'. Must be one of 'and', 'or', or 'xor'.`),Tt(t,o,c,(d,m)=>{let p=d[m],b=i[u[0]];if(p!==void 0&&!(ht(p)&&ht(b)))return!1;switch(p=p||0,u[0]){case"and":d[m]=p&b;break;case"or":d[m]=p|b;break;case"xor":d[m]=p^b;break}return d[m]!==p},{buildGraph:!0})});var RR=(t,r,e=[],n={})=>{let i=Date.now();return $t(r,e,n,(o,c,u)=>Tt(t,c,u,(d,m)=>(d[m]=i,!0),{buildGraph:!0}))};var DR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>{if(!o.child){let u=Ce(t,o.parent);U(u===void 0||ht(u),"cannot apply $inc to a value of non-numeric type")}return Tt(t,o,c,(u,d)=>(u[d]=(u[d]||=0)+i,!0),{buildGraph:!0})});var OR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>Tt(t,o,c,(u,d)=>u[d]!==void 0&&Nt(u[d],i)>-1?!1:(u[d]=i,!0),{buildGraph:!0}));var kR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>Tt(t,o,c,(u,d)=>u[d]!==void 0&&Nt(u[d],i)<1?!1:(u[d]=i,!0),{buildGraph:!0}));var AR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>Tt(t,o,c,(u,d)=>{let m=u[d];return u[d]=u[d]===void 0?0:u[d]*i,u[d]!==m},{buildGraph:!0}));var IR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>Tt(t,o,c,(u,d)=>{let m=u[d];return U(it(m),`path '${o.selector}' contains an element of non-array type.`),m.length?(i===-1?m.splice(0,1):m.pop(),!0):!1}));var Kf=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>{let u=!ft(i)||Object.keys(i).some(Be),d=new Xt(u?{k:i}:i,n.queryOptions),m=u?p=>d.test({k:p}):p=>d.test(p);return Tt(t,o,c,(p,b)=>{let w=p[b],E=new Array;return w.map($=>{let W=m($);return W||E.push($),W}).some(Boolean)?(p[b]=E,!0):!1})});var MR=(t,r,e=[],n={})=>{let i={};return Object.entries(r).forEach(([o,c])=>{i[o]={$in:c}}),Kf(t,i,e,n)};var TR=Object.freeze(["$each","$slice","$sort","$position"]),PR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>{let u={$each:[i]};return ft(i)&&TR.some(d=>Ut(i,d))&&Object.assign(u,i),Tt(t,o,c,(d,m)=>{let p=d[m]||=[],b=p.slice(0,u.$slice||p.length),w=p.length,E=ht(u.$position)?u.$position:p.length;if(p.splice(E,0,...po(n.cloneMode,u.$each)),u.$sort){let O=ft(u.$sort)?Object.keys(u.$sort||{}).pop():"",$=O?u.$sort[O]:u.$sort,W=O?et=>Ce(et,O):et=>et;p.sort((et,ot)=>$*Nt(W(et),W(ot)))}return ht(u.$slice)&&(u.$slice<0?p.splice(0,p.length+u.$slice):p.splice(u.$slice)),w!=p.length||!ue(b,p)},{descendArray:!0,buildGraph:!0})});var Wf=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>Tt(t,o,c,(u,d)=>ue(u[d],i)?!1:(u[d]=po(n.cloneMode,i),!0),{buildGraph:!0}));var NR=(t,r,e=[],n={})=>{let i=[],o=$t(r,e,n,(c,u,d)=>Tt(t,u,d,(m,p)=>Ut(m,p)?(i.push(...Wf(t,{[c]:m[p]},e,n)),delete m[p],!0):!1));return Array.from(new Set(o.concat(i)))};var LR=(t,r,e=[],n={})=>$t(r,e,n,(i,o,c)=>Tt(t,o,c,(u,d)=>Ut(u,d)?(it(u)?u[d]=null:delete u[d],!0):!1));function Hf(t){return t=gt(B({},t),{queryOptions:qr(t.queryOptions)}),t.queryOptions.context.addQueryOps(Vf).addExpressionOps(Xd).addExpressionOps(Zd),(r,e,n=[],i={},o={})=>{let c=Object.assign({cloneMode:"copy"},t,o);Object.assign(c,{queryOptions:qr(Object.assign({useStrictMode:!1},c?.queryOptions))}),n=n||[],i=i||{};let u=Object.entries(e);U(u.length===1,"Update expression must contain only one operator.");let[d,m]=u[0];U(Ut(fl,d),`Update operator '${d}' is not supported.`);let p=fl[d];return Object.keys(i).length&&!(i instanceof Xt?i:new Xt(i,c.queryOptions)).test(r)?[]:p(r,m,n,c)}}var U6=Hf({});var qf;function Qf(t,r){if(!qf){var e=Hf({cloneMode:"none"});qf=(n,i)=>{var o=qe(n);return e(o,i),o}}return qf(t,r)}function $R(t){return this.incrementalModify(r=>{var e=Qf(r,t);return e})}function FR(t){var r=this._data,e=Qf(r,t);return this._saveData(e,r)}function BR(t){return z(this,null,function*(){return Nn(this.asRxQuery,r=>r.update(t))})}var My={name:"update",rxdb:!0,prototypes:{RxDocument:t=>{t.update=FR,t.incrementalUpdate=$R},RxQuery:t=>{t.update=BR}}};var jR={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function zR(){return z(this,null,function*(){rl(gb),rl(My),Rm()&&rl(fy)})}zR();var a9=(()=>{class t{constructor(){this.dataBaseReadySubj=new fe(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(e){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[e]}initDB(e){return z(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===e&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield Sb({name:e,storage:Ry(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:jR}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var u9=(()=>{class t{constructor(){this.activePortal=new lt,this.portal$=this.activePortal.asObservable()}setPortal(e){this.activePortal.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Mr=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Mr||{}),f9="*";function Ny(t,r){return{type:Mr.Trigger,name:t,definitions:r,options:{}}}function Yf(t,r=null){return{type:Mr.Animate,styles:r,timings:t}}function h9(t,r=null){return{type:Mr.Sequence,steps:t,options:r}}function hl(t){return{type:Mr.Style,styles:t,offset:null}}function Gf(t,r,e){return{type:Mr.State,name:t,styles:r,options:e}}function m9(t){return{type:Mr.Keyframes,steps:t}}function Xf(t,r,e=null){return{type:Mr.Transition,expr:t,animation:r,options:e}}function p9(t=null){return{type:Mr.AnimateChild,options:t}}function g9(t,r,e=null){return{type:Mr.Query,selector:t,animation:r,options:e}}var Ty=class{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){let e=r=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Py=class{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++n==o&&this._onDestroy()}),c.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,u)=>Math.max(c,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){let e=r*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i)})}getPosition(){let r=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return r!=null?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){let e=r=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},v9="!";function w9(t){return t&&typeof t.connect=="function"&&!(t instanceof Yn)}var ml=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(ml||{}),C9=new vt("_ViewRepeater"),Ly=class{applyChanges(r,e,n,i,o){r.forEachOperation((c,u,d)=>{let m,p;if(c.previousIndex==null){let b=n(c,u,d);m=e.createEmbeddedView(b.templateRef,b.context,b.index),p=ml.INSERTED}else d==null?(e.remove(u),p=ml.REMOVED):(m=e.get(u),e.move(m,d),p=ml.MOVED);o&&o({context:m?.context,operation:p,record:c})})}detach(){}};var $y=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(r=!1,e,n=!0,i){this._multiple=r,this._emitChanges=n,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new lt,e&&e.length&&(r?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...r){this._verifyValueAssignment(r),r.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...r){this._verifyValueAssignment(r),r.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...r){this._verifyValueAssignment(r);let e=this.selected,n=new Set(r);r.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r)}clear(r=!0){this._unmarkAll();let e=this._hasQueuedChanges();return r&&this._emitChangeEvent(),e}isSelected(r){return this._selection.has(this._getConcreteValue(r))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){r=this._getConcreteValue(r),this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){r=this._getConcreteValue(r),this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){r.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(r,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(r,n))return n;return r}else return r}};var VR=20,pl=(()=>{class t{constructor(e,n,i){this._ngZone=e,this._platform=n,this._scrolled=new lt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=VR){return this._platform.isBrowser?new $o(n=>{this._globalSubscription||this._addGlobalListener();let i=e>0?this._scrolled.pipe(uu(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let i=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(wt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let i=Fm(n),o=e.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return lu(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||t)(K(zt),K(ve),K(Qt,8))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zf=(()=>{class t{constructor(e,n,i,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=o,this._destroyed=new lt,this._elementScrolled=new $o(c=>this.ngZone.runOutsideAngular(()=>lu(this.elementRef.nativeElement,"scroll").pipe(hn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),i&&Fi()!=$i.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),Fi()==$i.INVERTED?e.left=e.right:Fi()==$i.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;Es()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",i="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let c=this.dir&&this.dir.value=="rtl";return e=="start"?e=c?i:n:e=="end"&&(e=c?n:i),c&&Fi()==$i.INVERTED?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&Fi()==$i.NEGATED?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(n){return new(n||t)(H(Vt),H(pl),H(zt),H(vn,8))}}static{this.\u0275dir=jt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return t})(),KR=20,gl=(()=>{class t{constructor(e,n,i){this._platform=e,this._change=new lt,this._changeListener=o=>{this._change.next(o)},this._document=i,n.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect(),c=-o.top||e.body.scrollTop||n.scrollY||i.scrollTop||0,u=-o.left||e.body.scrollLeft||n.scrollX||i.scrollLeft||0;return{top:c,left:u}}change(e=KR){return e>0?this._change.pipe(uu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||t)(K(ve),K(zt),K(Qt,8))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fy=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({})}}return t})(),Jf=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({imports:[Wo,Fy,Wo,Fy]})}}return t})();var jy=Es(),th=class{constructor(r,e){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Yt(-this._previousScrollPosition.left),r.style.top=Yt(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,e=this._document.body,n=r.style,i=e.style,o=n.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),jy&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jy&&(n.scrollBehavior=o,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var eh=class{constructor(r,e,n,i){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(wt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},vl=class{enable(){}disable(){}attach(){}};function rh(t,r){return r.some(e=>{let n=t.bottom<e.top,i=t.top>e.bottom,o=t.right<e.left,c=t.left>e.right;return n||i||o||c})}function zy(t,r){return r.some(e=>{let n=t.top<e.top,i=t.bottom>e.bottom,o=t.left<e.left,c=t.right>e.right;return n||i||o||c})}var nh=class{constructor(r,e,n,i){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();rh(e,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},WR=(()=>{class t{constructor(e,n,i,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=()=>new vl,this.close=c=>new eh(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new th(this._viewportRuler,this._document),this.reposition=c=>new nh(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}static{this.\u0275fac=function(n){return new(n||t)(K(pl),K(gl),K(zt),K(Qt))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bn=class{constructor(r){if(this.scrollStrategy=new vl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){let e=Object.keys(r);for(let n of e)r[n]!==void 0&&(this[n]=r[n])}}};var ih=class{constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}};var Qy=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(n){return new(n||t)(K(Qt))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HR=(()=>{class t extends Qy{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=i=>{let o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){let u=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(i)):u.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(n){return new(n||t)(K(Qt),K(zt,8))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qR=(()=>{class t extends Qy{constructor(e,n,i){super(e),this._platform=n,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ds(o)},this._clickListener=o=>{let c=Ds(o),u=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let m=d.length-1;m>-1;m--){let p=d[m];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(Uy(p.overlayElement,c)||Uy(p.overlayElement,u))break;let b=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(o)):b.next(o)}}}add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(n){return new(n||t)(K(Qt),K(ve),K(zt,8))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Uy(t,r){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=r;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var go=(()=>{class t{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||xu()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let n=this._document.createElement("div");n.classList.add(e),xu()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static{this.\u0275fac=function(n){return new(n||t)(K(Qt),K(ve))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gr=class{constructor(r,e,n,i,o,c,u,d,m,p=!1,b){this._portalOutlet=r,this._host=e,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=c,this._document=u,this._location=d,this._outsideClickDispatcher=m,this._animationsDisabled=p,this._injector=b,this._backdropElement=null,this._backdropClick=new lt,this._attachments=new lt,this._detachments=new lt,this._locationChanges=mr.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new lt,this._outsidePointerEvents=new lt,this._renders=new lt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=Om(()=>ym(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ti(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,r&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=B(B({},this._config),r),this._updateElementSize()}setDirection(r){this._config=gt(B({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=Yt(this._config.width),r.height=Yt(this._config.height),r.minWidth=Yt(this._config.minWidth),r.minHeight=Yt(this._config.minHeight),r.maxWidth=Yt(this._config.maxWidth),r.maxHeight=Yt(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let r=this._backdropElement;if(r){if(this._animationsDisabled){this._disposeBackdrop(r);return}r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",this._backdropTransitionendHandler)}),r.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(r)},500))}}_toggleClasses(r,e,n){let i=wu(e||[]).filter(o=>!!o);i.length&&(n?r.classList.add(...i):r.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let r=this._renders.pipe(hn(Di(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){let r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}_disposeBackdrop(r){r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",this._backdropTransitionendHandler),r.remove(),this._backdropElement===r&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Vy="cdk-overlay-connected-position-bounding-box",QR=/([A-Za-z%]+)$/,oh=class{get positions(){return this._preferredPositions}constructor(r,e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt,this._resizeSubscription=mr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(Vy),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,e=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[],c;for(let u of this._preferredPositions){let d=this._getOriginPoint(r,i,u),m=this._getOverlayPoint(d,e,u),p=this._getOverlayFit(m,e,n,u);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(u,d);return}if(this._canFitWithFlexibleDimensions(p,m,n)){o.push({position:u,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,u)});continue}(!c||c.overlayFit.visibleArea<p.visibleArea)&&(c={overlayFit:p,overlayPoint:m,originPoint:d,position:u,overlayRect:e})}if(o.length){let u=null,d=-1;for(let m of o){let p=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);p>d&&(d=p,u=m)}this._isPushed=!1,this._applyPosition(u.position,u.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(c.position,c.originPoint);return}this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Vy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,e)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e,n){let i;if(n.originX=="center")i=r.left+r.width/2;else{let c=this._isRtl()?r.right:r.left,u=this._isRtl()?r.left:r.right;i=n.originX=="start"?c:u}e.left<0&&(i-=e.left);let o;return n.originY=="center"?o=r.top+r.height/2:o=n.originY=="top"?r.top:r.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(r,e,n){let i;n.overlayX=="center"?i=-e.width/2:n.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:r.x+i,y:r.y+o}}_getOverlayFit(r,e,n,i){let o=Wy(e),{x:c,y:u}=r,d=this._getOffset(i,"x"),m=this._getOffset(i,"y");d&&(c+=d),m&&(u+=m);let p=0-c,b=c+o.width-n.width,w=0-u,E=u+o.height-n.height,O=this._subtractOverflows(o.width,p,b),$=this._subtractOverflows(o.height,w,E),W=O*$;return{visibleArea:W,isCompletelyWithinViewport:o.width*o.height===W,fitsInViewportVertically:$===o.height,fitsInViewportHorizontally:O==o.width}}_canFitWithFlexibleDimensions(r,e,n){if(this._hasFlexibleDimensions){let i=n.bottom-e.y,o=n.right-e.x,c=Ky(this._overlayRef.getConfig().minHeight),u=Ky(this._overlayRef.getConfig().minWidth),d=r.fitsInViewportVertically||c!=null&&c<=i,m=r.fitsInViewportHorizontally||u!=null&&u<=o;return d&&m}return!1}_pushOverlayOnScreen(r,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let i=Wy(e),o=this._viewportRect,c=Math.max(r.x+i.width-o.width,0),u=Math.max(r.y+i.height-o.height,0),d=Math.max(o.top-n.top-r.y,0),m=Math.max(o.left-n.left-r.x,0),p=0,b=0;return i.width<=o.width?p=m||-c:p=r.x<this._viewportMargin?o.left-n.left-r.x:0,i.height<=o.height?b=d||-u:b=r.y<this._viewportMargin?o.top-n.top-r.y:0,this._previousPushAmount={x:p,y:b},{x:r.x+p,y:r.y+b}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!YR(this._lastScrollVisibility,n)){let i=new ih(r,n);this._positionChanges.next(i)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,i=r.overlayY;r.overlayX==="center"?n="center":this._isRtl()?n=r.overlayX==="start"?"right":"left":n=r.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(r,e){let n=this._viewportRect,i=this._isRtl(),o,c,u;if(e.overlayY==="top")c=r.y,o=n.height-c+this._viewportMargin;else if(e.overlayY==="bottom")u=n.height-r.y+this._viewportMargin*2,o=n.height-u+this._viewportMargin;else{let E=Math.min(n.bottom-r.y+n.top,r.y),O=this._lastBoundingBoxSize.height;o=E*2,c=r.y-E,o>O&&!this._isInitialRender&&!this._growAfterOpen&&(c=r.y-O/2)}let d=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,m=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,p,b,w;if(m)w=n.width-r.x+this._viewportMargin*2,p=r.x-this._viewportMargin;else if(d)b=r.x,p=n.right-r.x;else{let E=Math.min(n.right-r.x+n.left,r.x),O=this._lastBoundingBoxSize.width;p=E*2,b=r.x-E,p>O&&!this._isInitialRender&&!this._growAfterOpen&&(b=r.x-O/2)}return{top:c,left:b,bottom:u,right:w,width:p,height:o}}_setBoundingBoxStyles(r,e){let n=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Yt(n.height),i.top=Yt(n.top),i.bottom=Yt(n.bottom),i.width=Yt(n.width),i.left=Yt(n.left),i.right=Yt(n.right),e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Yt(o)),c&&(i.maxWidth=Yt(c))}this._lastBoundingBoxSize=n,gi(this._boundingBox.style,i)}_resetBoundingBoxStyles(){gi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){let n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){let p=this._viewportRuler.getViewportScrollPosition();gi(n,this._getExactOverlayY(e,r,p)),gi(n,this._getExactOverlayX(e,r,p))}else n.position="static";let u="",d=this._getOffset(e,"x"),m=this._getOffset(e,"y");d&&(u+=`translateX(${d}px) `),m&&(u+=`translateY(${m}px)`),n.transform=u.trim(),c.maxHeight&&(i?n.maxHeight=Yt(c.maxHeight):o&&(n.maxHeight="")),c.maxWidth&&(i?n.maxWidth=Yt(c.maxWidth):o&&(n.maxWidth="")),gi(this._pane.style,n)}_getExactOverlayY(r,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,r);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r.overlayY==="bottom"){let c=this._document.documentElement.clientHeight;i.bottom=`${c-(o.y+this._overlayRect.height)}px`}else i.top=Yt(o.y);return i}_getExactOverlayX(r,e,n){let i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let c;if(this._isRtl()?c=r.overlayX==="end"?"left":"right":c=r.overlayX==="end"?"right":"left",c==="right"){let u=this._document.documentElement.clientWidth;i.right=`${u-(o.x+this._overlayRect.width)}px`}else i.left=Yt(o.x);return i}_getScrollVisibility(){let r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zy(r,n),isOriginOutsideView:rh(r,n),isOverlayClipped:zy(e,n),isOverlayOutsideView:rh(e,n)}}_subtractOverflows(r,...e){return e.reduce((n,i)=>n-Math.max(i,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+r-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return e==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&wu(r).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){let r=this._origin;if(r instanceof Vt)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let e=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+e,height:n,width:e}}};function gi(t,r){for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function Ky(t){if(typeof t!="number"&&t!=null){let[r,e]=t.split(QR);return!e||e==="px"?parseFloat(r):null}return t||null}function Wy(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function YR(t,r){return t===r?!0:t.isOriginClipped===r.isOriginClipped&&t.isOriginOutsideView===r.isOriginOutsideView&&t.isOverlayClipped===r.isOverlayClipped&&t.isOverlayOutsideView===r.isOverlayOutsideView}var Hy="cdk-global-overlay-wrapper",ah=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(r){let e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(Hy),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:c,maxHeight:u}=n,d=(i==="100%"||i==="100vw")&&(!c||c==="100%"||c==="100vw"),m=(o==="100%"||o==="100vh")&&(!u||u==="100%"||u==="100vh"),p=this._xPosition,b=this._xOffset,w=this._overlayRef.getConfig().direction==="rtl",E="",O="",$="";d?$="flex-start":p==="center"?($="center",w?O=b:E=b):w?p==="left"||p==="end"?($="flex-end",E=b):(p==="right"||p==="start")&&($="flex-start",O=b):p==="left"||p==="start"?($="flex-start",E=b):(p==="right"||p==="end")&&($="flex-end",O=b),r.position=this._cssPosition,r.marginLeft=d?"0":E,r.marginTop=m?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=d?"0":O,e.justifyContent=$,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Hy),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},GR=(()=>{class t{constructor(e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o}global(){return new ah}flexibleConnectedTo(e){return new oh(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(n){return new(n||t)(K(gl),K(Qt),K(ve),K(go))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XR=0,Ie=(()=>{class t{constructor(e,n,i,o,c,u,d,m,p,b,w,E){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=u,this._ngZone=d,this._document=m,this._directionality=p,this._location=b,this._outsideClickDispatcher=w,this._animationsModuleType=E}create(e){let n=this._createHostElement(),i=this._createPaneElement(n),o=this._createPortalOutlet(i),c=new Bn(e);return c.direction=c.direction||this._directionality.value,new Gr(o,n,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Xn))}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=`cdk-overlay-${XR++}`,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ss)),new Is(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(n){return new(n||t)(K(WR),K(go),K(xs),K(GR),K(HR),K(Wt),K(zt),K(Qt),K(vn),K(rr),K(qR),K($r,8))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yy=new vt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=X(Ie);return()=>t.scrollStrategies.reposition()}}),qy=(()=>{class t{constructor(e){this.elementRef=e}static{this.\u0275fac=function(n){return new(n||t)(H(Vt))}}static{this.\u0275dir=jt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return t})(),Z9=(()=>{class t{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,n,i,o,c){this._overlay=e,this._dir=c,this._backdropSubscription=mr.EMPTY,this._attachSubscription=mr.EMPTY,this._detachSubscription=mr.EMPTY,this._positionSubscription=mr.EMPTY,this._disposeOnNavigation=!1,this._ngZone=X(zt),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new pe,this.positionChange=new pe,this.attach=new pe,this.detach=new pe,this.overlayKeydown=new pe,this.overlayOutsideClick=new pe,this._templatePortal=new _r(n,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ZR);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Bi(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let i=this._getOriginElement(),o=Ds(n);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Bn({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof qy?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof qy?this.origin.elementRef.nativeElement:this.origin instanceof Vt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(sm(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(H(Ie),H(Fr),H(pn),H(Yy),H(vn,8))}}static{this.\u0275dir=jt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ge],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ge],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ge],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ge],push:[2,"cdkConnectedOverlayPush","push",ge],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ge]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[gn,mn]})}}return t})();function JR(t){return()=>t.scrollStrategies.reposition()}var tD={provide:Yy,deps:[Ie],useFactory:JR},vo=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({providers:[Ie,tD],imports:[Wo,Ur,Jf,Jf]})}}return t})();function eD(t,r){if(t&1){let e=xm();br(0,"div",1)(1,"button",2),Pi("click",function(){dm(e);let i=vu();return fm(i.action())}),bu(2),er()()}if(t&2){let e=vu();Mi(2),yu(" ",e.data.action," ")}}var rD=["label"];function nD(t,r){}var iD=Math.pow(2,31)-1,Fa=class{constructor(r,e){this._overlayRef=e,this._afterDismissed=new lt,this._afterOpened=new lt,this._onAction=new lt,this._dismissedByAction=!1,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,iD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Xy=new vt("MatSnackBarData"),bo=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},oD=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=jt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return t})(),aD=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=jt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return t})(),sD=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=jt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return t})(),Zy=(()=>{class t{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(n){return new(n||t)(H(Fa),H(Xy))}}static{this.\u0275cmp=Ee({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Re],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,i){n&1&&(br(0,"div",0),bu(1),er(),Zn(2,eD,3,1,"div",1)),n&2&&(Mi(),yu(" ",i.data.message,`
`),Mi(),_m(i.hasAction?2:-1))},dependencies:[Xm,oD,aD,sD],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return t})(),cD={snackBarState:Ny("state",[Gf("void, hidden",hl({transform:"scale(0.8)",opacity:0})),Gf("visible",hl({transform:"scale(1)",opacity:1})),Xf("* => visible",Yf("150ms cubic-bezier(0, 0, 0.2, 1)")),Xf("* => void, * => hidden",Yf("75ms cubic-bezier(0.4, 0.0, 1, 1)",hl({opacity:0})))])},lD=0,uD=(()=>{class t extends bn{constructor(e,n,i,o,c){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=c,this._document=X(Qt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new lt,this._onExit=new lt,this._onEnter=new lt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${lD++}`,this.attachDomPortal=u=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),d},c.politeness==="assertive"&&!c.announcementMessage?this._live="assertive":c.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){let{fromState:n,toState:i}=e;if((i==="void"&&n!=="void"||i==="hidden")&&this._completeExit(),i==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(c=>e.classList.add(c)):e.classList.add(n)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],c=o.getAttribute("aria-owns");this._trackedModals.add(o),c?c.indexOf(e)===-1&&o.setAttribute("aria-owns",c+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let i=n.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(n){return new(n||t)(H(zt),H(Vt),H(yr),H(ve),H(bo))}}static{this.\u0275cmp=Ee({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,i){if(n&1&&(Ni(yn,7),Ni(rD,7)),n&2){let o;Jn(o=ti())&&(i._portalOutlet=o.first),Jn(o=ti())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,i){n&1&&Cm("@state.done",function(c){return i.onAnimationEnd(c)}),n&2&&wm("@state",i._animationState)},standalone:!0,features:[ce,Re],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(br(0,"div",1)(1,"div",2,0)(3,"div",3),Zn(4,nD,0,0,"ng-template",4),er(),We(5,"div"),er()()),n&2&&(Mi(5),Te("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[yn],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[cD.snackBarState]}})}}return t})();function dD(){return new bo}var fD=new vt("mat-snack-bar-default-options",{providedIn:"root",factory:dD}),hD=(()=>{class t{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,i,o,c,u){this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=c,this._defaultConfig=u,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Zy,this.snackBarContainerComponent=uD,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",i){let o=B(B({},this._defaultConfig),i);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let i=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Wt.create({parent:i||this._injector,providers:[{provide:bo,useValue:n}]}),c=new zr(this.snackBarContainerComponent,n.viewContainerRef,o),u=e.attach(c);return u.instance.snackBarConfig=n,u.instance}_attach(e,n){let i=B(B(B({},new bo),this._defaultConfig),n),o=this._createOverlay(i),c=this._attachSnackBarContainer(o,i),u=new Fa(c,o);if(e instanceof Fr){let d=new _r(e,null,{$implicit:i.data,snackBarRef:u});u.instance=c.attachTemplatePortal(d)}else{let d=this._createInjector(i,u),m=new zr(e,void 0,d),p=c.attachComponentPortal(m);u.instance=p.instance}return this._breakpointObserver.observe(jm.HandsetPortrait).pipe(hn(o.detachments())).subscribe(d=>{o.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(u,i),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){let n=new Bn;n.direction=e.direction;let i=this._overlay.position().global(),o=e.direction==="rtl",c=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,u=!c&&e.horizontalPosition!=="center";return c?i.left("0"):u?i.right("0"):i.centerHorizontally(),e.verticalPosition==="top"?i.top("0"):i.bottom("0"),n.positionStrategy=i,this._overlay.create(n)}_createInjector(e,n){let i=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Wt.create({parent:i||this._injector,providers:[{provide:Fa,useValue:n},{provide:Xy,useValue:e.data}]})}static{this.\u0275fac=function(n){return new(n||t)(K(Ie),K(zm),K(Wt),K(Bm),K(t,12),K(fD))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wQ=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({providers:[hD],imports:[vo,Ur,Zm,jr,Zy,jr]})}}return t})();var EQ={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function mD(t,r){}var vi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var lh=(()=>{class t extends bn{constructor(e,n,i,o,c,u,d,m){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=c,this._ngZone=u,this._overlayRef=d,this._focusMonitor=m,this._platform=X(ve),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=X(yr),this._injector=X(Wt),this._isDestroyed=!1,this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let b=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),b},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_trapFocus(){this._isDestroyed||Ti(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let i=Rs(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,n=Rs();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Rs()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(n){return new(n||t)(H(Vt),H(As),H(Qt,8),H(vi),H(ks),H(zt),H(Gr),H(ji))}}static{this.\u0275cmp=Ee({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,i){if(n&1&&Ni(yn,7),n&2){let o;Jn(o=ti())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,i){n&2&&Te("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[ce,Re],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,i){n&1&&Zn(0,mD,0,0,"ng-template",0)},dependencies:[yn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return t})(),Ba=class{constructor(r,e){this.overlayRef=r,this.config=e,this.closed=new lt,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Bi(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(r),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}},pD=new vt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=X(Ie);return()=>t.scrollStrategies.block()}}),gD=new vt("DialogData"),vD=new vt("DefaultDialogConfig");var bD=0,uh=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,i,o,c,u){this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt,this._afterOpenedAtThisLevel=new lt,this._ariaHiddenElements=new Map,this.afterAllClosed=Gn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tr(void 0))),this._scrollStrategy=u}open(e,n){let i=this._defaultOptions||new vi;n=B(B({},i),n),n.id=n.id||`cdk-dialog-${bD++}`,n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),c=this._overlay.create(o),u=new Ba(c,n),d=this._attachContainer(c,u,n);return u.containerInstance=d,this._attachDialogContent(e,u,d,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){ch(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){ch(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),ch(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new Bn({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,i){let o=i.injector||i.viewContainerRef?.injector,c=[{provide:vi,useValue:i},{provide:Ba,useValue:n},{provide:Gr,useValue:e}],u;i.container?typeof i.container=="function"?u=i.container:(u=i.container.type,c.push(...i.container.providers(i))):u=lh;let d=new zr(u,i.viewContainerRef,Wt.create({parent:o||this._injector,providers:c}),i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,n,i,o){if(e instanceof Fr){let c=this._createInjector(o,n,i,void 0),u={$implicit:o.data,dialogRef:n};o.templateContext&&(u=B(B({},u),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new _r(e,null,u,c))}else{let c=this._createInjector(o,n,i,this._injector),u=i.attachComponentPortal(new zr(e,o.viewContainerRef,c,o.componentFactoryResolver));n.componentRef=u,n.componentInstance=u.instance}}_createInjector(e,n,i,o){let c=e.injector||e.viewContainerRef?.injector,u=[{provide:gD,useValue:e.data},{provide:Ba,useValue:n}];return e.providers&&(typeof e.providers=="function"?u.push(...e.providers(n,e,i)):u.push(...e.providers)),e.direction&&(!c||!c.get(vn,null,{optional:!0}))&&u.push({provide:vn,useValue:{value:e.direction,change:rt()}}),Wt.create({parent:c||o,providers:u})}_removeOpenDialog(e,n){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let n=e.parentElement.children;for(let i=n.length-1;i>-1;i--){let o=n[i];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(n){return new(n||t)(K(Ie),K(Wt),K(vD,8),K(t,12),K(go),K(pD))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ch(t,r){let e=t.length;for(;e--;)r(t[e])}var Jy=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({providers:[uh],imports:[vo,Ur,Um,Ur]})}}return t})();function yD(t,r){}var ja=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},dh="mdc-dialog--open",t_="mdc-dialog--opening",e_="mdc-dialog--closing",_D=150,xD=75,wD=(()=>{class t extends lh{constructor(e,n,i,o,c,u,d,m,p){super(e,n,i,o,c,u,d,p),this._animationMode=m,this._animationStateChanged=new pe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?n_(this._config.enterAnimationDuration)??_D:0,this._exitAnimationDuration=this._animationsEnabled?n_(this._config.exitAnimationDuration)??xD:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(r_,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(t_,dh)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(dh),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(dh),this._animationsEnabled?(this._hostElement.style.setProperty(r_,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(e_)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(t_,e_)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static{this.\u0275fac=function(n){return new(n||t)(H(Vt),H(As),H(Qt,8),H(ja),H(ks),H(zt),H(Gr),H($r,8),H(ji))}}static{this.\u0275cmp=Ee({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,i){n&2&&(gu("id",i._config.id),Te("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),vr("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[ce,Re],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(br(0,"div",0)(1,"div",1),Zn(2,yD,0,0,"ng-template",2),er()())},dependencies:[yn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return t})(),r_="--mat-dialog-transition-duration";function n_(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Os(t.substring(0,t.length-2)):t.endsWith("s")?Os(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var bl=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(bl||{}),za=class{constructor(r,e,n){this._ref=r,this._containerInstance=n,this._afterOpened=new lt,this._beforeClosed=new lt,this._state=bl.OPEN,this.disableClose=e.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(wt(i=>i.state==="opened"),pr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(wt(i=>i.state==="closed"),pr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Di(this.backdropClick(),this.keydownEvents().pipe(wt(i=>i.keyCode===27&&!this.disableClose&&!Bi(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),i_(this,i.type==="keydown"?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(wt(e=>e.state==="closing"),pr(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=bl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=bl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function i_(t,r,e){return t._closeInteractionType=r,t.close(e)}var CD=new vt("MatMdcDialogData"),SD=new vt("mat-mdc-dialog-default-options"),ED=new vt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=X(Ie);return()=>t.scrollStrategies.block()}});var RD=0,fh=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,i,o,c,u,d,m){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=c,this._parentDialog=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt,this._afterOpenedAtThisLevel=new lt,this.dialogConfigClass=ja,this.afterAllClosed=Gn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tr(void 0))),this._dialog=n.get(uh),this._dialogRefConstructor=za,this._dialogContainerType=wD,this._dialogDataToken=CD}open(e,n){let i;n=B(B({},this._defaultOptions||new ja),n),n.id=n.id||`mat-mdc-dialog-${RD++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,gt(B({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:vi,useValue:n}]},templateContext:()=>({dialogRef:i}),providers:(c,u,d)=>(i=new this._dialogRefConstructor(c,n,d),i.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(i);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static{this.\u0275fac=function(n){return new(n||t)(K(Ie),K(Wt),K(rr,8),K(SD,8),K(ED),K(t,12),K(go),K($r,8))}}static{this.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DD=0,mY=(()=>{class t{constructor(e,n,i){this.dialogRef=e,this._elementRef=n,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=a_(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){i_(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(n){return new(n||t)(H(za,8),H(Vt),H(fh))}}static{this.\u0275dir=jt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,i){n&1&&Pi("click",function(c){return i._onButtonClick(c)}),n&2&&Te("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[mn]})}}return t})(),o_=(()=>{class t{constructor(e,n,i){this._dialogRef=e,this._elementRef=n,this._dialog=i}ngOnInit(){this._dialogRef||(this._dialogRef=a_(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(n){return new(n||t)(H(za,8),H(Vt),H(fh))}}static{this.\u0275dir=jt({type:t,standalone:!0})}}return t})(),pY=(()=>{class t extends o_{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${DD++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})()}static{this.\u0275dir=jt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,i){n&2&&gu("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[ce]})}}return t})(),gY=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=jt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[bm([Zf])]})}}return t})(),vY=(()=>{class t extends o_{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})()}static{this.\u0275dir=jt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,i){n&2&&vr("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},standalone:!0,features:[ce]})}}return t})();function a_(t,r){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?r.find(n=>n.id===e.id):null}var bY=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Jt({providers:[fh],imports:[Jy,vo,Ur,jr,jr]})}}return t})();export{zr as a,_r as b,ND as c,yn as d,Ur as e,Xm as f,QD as g,YD as h,Zm as i,Cr as j,Sr as k,bw as l,Np as m,De as n,bO as o,yO as p,A0 as q,Zs as r,ha as s,hd as t,TO as u,Z0 as v,a9 as w,u9 as x,w9 as y,ml as z,C9 as A,Ly as B,$y as C,pl as D,gl as E,Fy as F,Jf as G,Bn as H,Ie as I,qy as J,Z9 as K,vo as L,Mr as M,f9 as N,Ny as O,Yf as P,h9 as Q,hl as R,Gf as S,m9 as T,Xf as U,p9 as V,g9 as W,Ty as X,Py as Y,v9 as Z,za as _,CD as $,fh as aa,mY as ba,pY as ca,gY as da,vY as ea,bY as fa,fD as ga,hD as ha,wQ as ia,EQ as ja};
