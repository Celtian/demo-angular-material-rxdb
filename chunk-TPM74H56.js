import{A as H,B as $,C as z,D as J,E as K,F as Q,f as B,i as O,j as L,y as N,z as G}from"./chunk-QKMNFV3P.js";import{$a as F,D as A,Ha as m,Ia as u,N as p,Q as l,S as C,Uc as P,Vc as V,Wc as W,Xa as f,Ya as g,a as c,cb as j,db as w,la as d,m as s,ma as M,q as a,r as E,wa as b}from"./chunk-T6DZY7YY.js";var X=(()=>{let t=class t{constructor(i,n){this.data=i,this.dialogRef=n}};t.\u0275fac=function(n){return new(n||t)(M(G),M(N))},t.\u0275cmp=C({type:t,selectors:[["app-confirm-dialog"]],standalone:!0,features:[F],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,r){n&1&&(m(0,"h1",0),f(1),u(),m(2,"div",1),f(3),u(),m(4,"div",2)(5,"button",3),f(6),j(7,"translate"),u(),m(8,"button",4),f(9),j(10,"translate"),u()()),n&2&&(d(1),g(r.data.title),d(2),g(r.data.content),d(2),b("mat-dialog-close",!1),d(1),g(w(7,6,"UNI.no")),d(2),b("mat-dialog-close",!0),d(1),g(w(10,8,"UNI.yes")))},dependencies:[Q,$,z,K,J,O,B,W,V],changeDetection:0});let e=t;return e})();var Y=(()=>{let t=class t{constructor(i){this.dialog=i}open(i,n){return this.dialog.open(X,{width:"sm",data:{title:i,content:n}}).afterClosed()}};t.\u0275fac=function(n){return new(n||t)(l(H))},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var h=function(e){return e[e.Delete=0]="Delete",e[e.UnsavedWork=1]="UnsavedWork",e}(h||{}),mt=(()=>{let t=class t{constructor(i,n){this.confirm=i,this.translate=n}openCustomConfirmDialog(i){let n=this.getTitle(i),r=this.getContent(i);return this.open(n,r)}getTitle(i){switch(i){case h.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case h.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(i){switch(i){case h.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case h.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(i,n){return this.confirm.open(i,n).pipe(A(),a(r=>!!r))}};t.\u0275fac=function(n){return new(n||t)(l(Y),l(P))},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var x,it=new Uint8Array(16);function T(){if(!x&&(x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(it)}var o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function Z(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var nt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),R={randomUUID:nt};function ot(e,t,y){if(R.randomUUID&&!t&&!e)return R.randomUUID();e=e||{};let i=e.random||(e.rng||T)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){y=y||0;for(let n=0;n<16;++n)t[y+n]=i[n];return t}return Z(i)}var S=ot;var wt=(()=>{let t=class t{constructor(i){this.rxdbProvider=i}get collection(){return this.rxdbProvider.getDatabaseCollection("posts")}create(i){return s(this.collection.insert(c({id:S()},i))).pipe(a(n=>n._data))}patch(i,n){return s(this.collection.findOne({selector:{id:i}}).update(c({id:i},n))).pipe(a(r=>c(c({},r._data),n)))}put(i,n){return s(this.collection.upsert(c({id:i},n))).pipe(a(r=>c(c({},r._data),n)))}detail(i){return s(this.collection.findOne({selector:{id:i}}).exec()).pipe(a(n=>n._data))}delete(i){return s(this.collection.findOne({selector:{id:i}}).remove()).pipe(a(n=>n._data))}list(i=1,n=5,r="id",I="asc",v=""){let D=v?{title:{$regex:new RegExp(v,"i")}}:void 0;return s(this.collection.find({skip:i-1,limit:n,selector:D,sort:[{[r]:I}]}).exec()).pipe(a(U=>U.map(q=>q._data)))}count(){return s(this.collection.count().exec())}listAndCount(i=1,n=5,r="id",I="asc",v=""){return E([this.list(i,n,r,I,v),this.count()]).pipe(a(([D,U])=>({items:D,totalCount:U})))}};t.\u0275fac=function(n){return new(n||t)(l(L))},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();export{h as a,mt as b,wt as c};
