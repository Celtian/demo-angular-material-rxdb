import{a as u,b as f,c as h}from"./chunk-EYWVFTVC.js";import{sa as m}from"./chunk-F2EJLCQ2.js";import{Db as c,E as r,N as n,U as o,Vc as d,Za as a,ea as e,fc as l,gc as p}from"./chunk-7LBV3Q4X.js";var w=(()=>{class t{constructor(){this.apiService=e(u),this.confirm=e(h),this.snackBar=e(m),this.translate=e(d),this.id=p.required({alias:"appPostDelete"}),this.deleted=l()}onClick(){this.confirm.openCustomConfirmDialog(f.Delete).pipe(n(),r(i=>!!i),o(()=>this.apiService.delete(this.id()))).subscribe({next:()=>{this.deleted.emit(this.id()),this.snackBar.open(this.translate.instant("response.delete.success"),this.translate.instant("uni.close"))},error:()=>{this.snackBar.open(this.translate.instant("response.delete.failed"),this.translate.instant("uni.close"))}})}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275dir=a({type:t,selectors:[["","appPostDelete",""]],hostBindings:function(s,D){s&1&&c("click",function(){return D.onClick()})},inputs:{id:[1,"appPostDelete","id"]},outputs:{deleted:"deleted"}})}}return t})();export{w as a};
