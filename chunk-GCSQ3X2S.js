import{$a as Tt,$b as ve,A as gp,Aa as zt,Ab as Ku,Ac as Zp,B as lo,Bb as go,Cb as Gu,D as Yo,Da as kp,Db as Jo,E as yt,Ea as Qt,Eb as Ir,F as Bu,Fc as Jp,G as uo,Gb as ti,Gc as th,H as fo,Hb as vo,Hc as eh,Ia as Ap,Ib as bo,Ic as aa,J as $u,Ja as nr,Jc as nn,K as qe,Ka as Ip,Kc as Dn,La as js,Lc as Oe,M as Qo,Ma as po,Mb as Yu,Mc as qs,N as Xo,Na as Mp,Nc as sa,O as Rn,Oa as Zo,Ob as Qu,Oc as ri,P as ju,Pa as tn,Pc as Hs,Q as vp,Qa as en,Qc as kn,R as bp,Ra as On,S as Uu,Sa as rn,Sc as Xu,T as yp,Ta as Tp,Tc as Zu,U as na,Ua as En,V as hr,Vc as rh,W as rr,Wa as qu,Wc as nh,X as mo,Xa as Us,Xb as ei,Xc as oh,Y as _p,Ya as zs,Yb as Up,Yc as ih,Z as Se,Za as Xt,Zb as Mr,Zc as on,_ as Re,_a as Zt,_c as yo,a as j,aa as ct,ab as Pp,ac as zp,b as gt,ba as Yt,bb as le,bc as Vp,ca as xp,cb as Np,d as px,da as lt,db as ho,e as Fs,ea as zu,eb as Lp,ec as qp,ed as An,f as hx,fa as jt,fb as Fp,fc as Hp,fd as ca,g as U,ga as R,gb as Bp,gc as ue,gd as or,h as Er,ha as Vu,hb as Hu,i as fp,ia as wp,ib as Wu,j as Bs,ja as Cp,jb as Vs,jc as Wp,k as ta,kb as Le,kc as ia,kd as ah,l as co,la as Dr,m as at,ma as kr,mb as ke,mc as Kp,md as sh,n as Ce,nb as oa,nc as Tr,o as mp,oa as Jr,oc as Gp,p as Zr,pa as Sp,pb as $p,q as he,qa as Rp,r as nt,s as ea,t as ra,ta as ce,tb as Ar,tc as Yp,u as pp,ua as Op,ub as gr,uc as Qp,v as hp,va as qt,vb as He,w as pt,wc as Xp,x as $s,xa as Ep,y as Wt,ya as Dp,z as Fu,za as ge,zb as jp}from"./chunk-JO7XO5UC.js";var zy=px((am,sm)=>{"use strict";(function(t,r){typeof am=="object"&&typeof sm<"u"?sm.exports=r():typeof define=="function"&&define.amd?define(r):(t=typeof globalThis<"u"?globalThis:t||self).Dexie=r()})(am,function(){"use strict";var t=function(a,c){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])})(a,c)},r=function(){return(r=Object.assign||function(a){for(var c,u=1,f=arguments.length;u<f;u++)for(var m in c=arguments[u])Object.prototype.hasOwnProperty.call(c,m)&&(a[m]=c[m]);return a}).apply(this,arguments)};function e(a,c,u){if(u||arguments.length===2)for(var f,m=0,g=c.length;m<g;m++)!f&&m in c||((f=f||Array.prototype.slice.call(c,0,m))[m]=c[m]);return a.concat(f||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,i=Array.isArray;function s(a,c){return typeof c!="object"||o(c).forEach(function(u){a[u]=c[u]}),a}typeof Promise>"u"||n.Promise||(n.Promise=Promise);var l=Object.getPrototypeOf,d={}.hasOwnProperty;function p(a,c){return d.call(a,c)}function h(a,c){typeof c=="function"&&(c=c(l(a))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(u){O(a,u,c[u])})}var y=Object.defineProperty;function O(a,c,u,f){y(a,c,s(u&&p(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function k(a){return{from:function(c){return a.prototype=Object.create(c.prototype),O(a.prototype,"constructor",a),{extend:h.bind(null,a.prototype)}}}}var T=Object.getOwnPropertyDescriptor,$=[].slice;function W(a,c,u){return $.call(a,c,u)}function J(a,c){return c(a)}function rt(a){if(!a)throw new Error("Assertion Failed")}function tt(a){n.setImmediate?setImmediate(a):setTimeout(a,0)}function kt(a,c){if(typeof c=="string"&&p(a,c))return a[c];if(!c)return a;if(typeof c!="string"){for(var u=[],f=0,m=c.length;f<m;++f){var g=kt(a,c[f]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var b=a[c.substr(0,v)];return b==null?void 0:kt(b,c.substr(v+1))}}function st(a,c,u){if(a&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof c!="string"&&"length"in c){rt(typeof u!="string"&&"length"in u);for(var f=0,m=c.length;f<m;++f)st(a,c[f],u[f])}else{var g,v,b=c.indexOf(".");b!==-1?(g=c.substr(0,b),(v=c.substr(b+1))===""?u===void 0?i(a)&&!isNaN(parseInt(g))?a.splice(g,1):delete a[g]:a[g]=u:st(b=!(b=a[g])||!p(a,g)?a[g]={}:b,v,u)):u===void 0?i(a)&&!isNaN(parseInt(c))?a.splice(c,1):delete a[c]:a[c]=u}}function Mt(a){var c,u={};for(c in a)p(a,c)&&(u[c]=a[c]);return u}var Et=[].concat;function Bt(a){return Et.apply([],a)}var Qr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bt([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(c){return c+a+"Array"})}))).filter(function(a){return n[a]}),pe=new Set(Qr.map(function(a){return n[a]})),Ue=null;function fr(a){return Ue=new WeakMap,a=function c(u){if(!u||typeof u!="object")return u;var f=Ue.get(u);if(f)return f;if(i(u)){f=[],Ue.set(u,f);for(var m=0,g=u.length;m<g;++m)f.push(c(u[m]))}else if(pe.has(u.constructor))f=u;else{var v,b=l(u);for(v in f=b===Object.prototype?{}:Object.create(b),Ue.set(u,f),u)p(u,v)&&(f[v]=c(u[v]))}return f}(a),Ue=null,a}var Xn={}.toString;function mr(a){return Xn.call(a).slice(8,-1)}var Bi=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Jl=typeof Bi=="symbol"?function(a){var c;return a!=null&&(c=a[Bi])&&c.apply(a)}:function(){return null};function Gr(a,c){return c=a.indexOf(c),0<=c&&a.splice(c,1),0<=c}var hn={};function Ne(a){var c,u,f,m;if(arguments.length===1){if(i(a))return a.slice();if(this===hn&&typeof a=="string")return[a];if(m=Jl(a)){for(u=[];!(f=m.next()).done;)u.push(f.value);return u}if(a==null)return[a];if(typeof(c=a.length)!="number")return[a];for(u=new Array(c);c--;)u[c]=a[c];return u}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var gn=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},zi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],er=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zi),$i={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pr(a,c){this.name=a,this.message=c}function ls(a,c){return a+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,f,m){return m.indexOf(u)===f}).join(`
`)}function oe(a,c,u,f){this.failures=c,this.failedKeys=f,this.successCount=u,this.message=ls(a,c)}function ie(a,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=ls(a,this.failures)}k(pr).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(oe).from(pr),k(ie).from(pr);var vn=er.reduce(function(a,c){return a[c]=c+"Error",a},{}),tu=pr,ot=er.reduce(function(a,c){var u=c+"Error";function f(m,g){this.name=u,m?typeof m=="string"?(this.message="".concat(m).concat(g?`
 `+g:""),this.inner=g||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=$i[c]||u,this.inner=null)}return k(f).from(tu),a[c]=f,a},{});ot.Syntax=SyntaxError,ot.Type=TypeError,ot.Range=RangeError;var Mm=zi.reduce(function(a,c){return a[c+"Error"]=ot[c],a},{}),us=er.reduce(function(a,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(a[c+"Error"]=ot[c]),a},{});function At(){}function ji(a){return a}function B_(a,c){return a==null||a===ji?c:function(u){return c(a(u))}}function Zn(a,c){return function(){a.apply(this,arguments),c.apply(this,arguments)}}function $_(a,c){return a===At?c:function(){var u=a.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?Zn(f,this.onsuccess):f),m&&(this.onerror=this.onerror?Zn(m,this.onerror):m),g!==void 0?g:u}}function j_(a,c){return a===At?c:function(){a.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Zn(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Zn(f,this.onerror):f)}}function U_(a,c){return a===At?c:function(u){var f=a.apply(this,arguments);s(u,f);var m=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=c.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Zn(m,this.onsuccess):m),g&&(this.onerror=this.onerror?Zn(g,this.onerror):g),f===void 0?u===void 0?void 0:u:s(f,u)}}function z_(a,c){return a===At?c:function(){return c.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function eu(a,c){return a===At?c:function(){var u=a.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return u.then(function(){return c.apply(f,g)})}return c.apply(this,arguments)}}us.ModifyError=oe,us.DexieError=pr,us.BulkError=ie;var Sr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Tm(a){Sr=a}var Ui={},Pm=100,Qr=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,l(a),a];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,l(c),a]}(),zi=Qr[0],er=Qr[1],Qr=Qr[2],er=er&&er.then,Jn=zi&&zi.constructor,ru=!!Qr,Vi=function(a,c){qi.push([a,c]),ds&&(queueMicrotask(q_),ds=!1)},nu=!0,ds=!0,to=[],fs=[],ou=ji,bn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:At,pgp:!1,env:{},finalize:At},et=bn,qi=[],eo=0,ms=[];function Q(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=et;if(typeof a!="function"){if(a!==Ui)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&au(this,this._value))}this._state=null,this._value=null,++c.ref,function u(f,m){try{m(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&zo();g&&typeof g.then=="function"?u(f,function(b,x){g instanceof Q?g._then(b,x):g.then(b,x)}):(f._state=!0,f._value=g,Lm(f)),v&&Vo()}},au.bind(null,f))}catch(g){au(f,g)}}(this,a)}var iu={get:function(){var a=et,c=vs;function u(f,m){var g=this,v=!a.global&&(a!==et||c!==vs),b=v&&!_n(),x=new Q(function(C,D){su(g,new Nm(Bm(f,a,v,b),Bm(m,a,v,b),C,D,a))});return this._consoleTask&&(x._consoleTask=this._consoleTask),x}return u.prototype=Ui,u},set:function(a){O(this,"then",a&&a.prototype===Ui?iu:{get:function(){return a},set:iu.set})}};function Nm(a,c,u,f,m){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=f,this.psd=m}function au(a,c){var u,f;fs.push(c),a._state===null&&(u=a._lib&&zo(),c=ou(c),a._state=!1,a._value=c,f=a,to.some(function(m){return m._value===f._value})||to.push(f),Lm(a),u&&Vo())}function Lm(a){var c=a._listeners;a._listeners=[];for(var u=0,f=c.length;u<f;++u)su(a,c[u]);var m=a._PSD;--m.ref||m.finalize(),eo===0&&(++eo,Vi(function(){--eo==0&&cu()},[]))}function su(a,c){if(a._state!==null){var u=a._state?c.onFulfilled:c.onRejected;if(u===null)return(a._state?c.resolve:c.reject)(a._value);++c.psd.ref,++eo,Vi(V_,[u,a,c])}else a._listeners.push(c)}function V_(a,c,u){try{var f,m=c._value;!c._state&&fs.length&&(fs=[]),f=Sr&&c._consoleTask?c._consoleTask.run(function(){return a(m)}):a(m),c._state||fs.indexOf(m)!==-1||function(g){for(var v=to.length;v;)if(to[--v]._value===g._value)return to.splice(v,1)}(c),u.resolve(f)}catch(g){u.reject(g)}finally{--eo==0&&cu(),--u.psd.ref||u.psd.finalize()}}function q_(){ro(bn,function(){zo()&&Vo()})}function zo(){var a=nu;return ds=nu=!1,a}function Vo(){var a,c,u;do for(;0<qi.length;)for(a=qi,qi=[],u=a.length,c=0;c<u;++c){var f=a[c];f[0].apply(null,f[1])}while(0<qi.length);ds=nu=!0}function cu(){var a=to;to=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=ms.slice(0),u=c.length;u;)c[--u]()}function ps(a){return new Q(Ui,!1,a)}function Ut(a,c){var u=et;return function(){var f=zo(),m=et;try{return xn(u,!0),a.apply(this,arguments)}catch(g){c&&c(g)}finally{xn(m,!1),f&&Vo()}}}h(Q.prototype,{then:iu,_then:function(a,c){su(this,new Nm(null,null,a,c,et))},catch:function(a){if(arguments.length===1)return this.then(null,a);var c=a,u=arguments[1];return typeof c=="function"?this.then(null,function(f){return(f instanceof c?u:ps)(f)}):this.then(null,function(f){return(f&&f.name===c?u:ps)(f)})},finally:function(a){return this.then(function(c){return Q.resolve(a()).then(function(){return c})},function(c){return Q.resolve(a()).then(function(){return ps(c)})})},timeout:function(a,c){var u=this;return a<1/0?new Q(function(f,m){var g=setTimeout(function(){return m(new ot.Timeout(c))},a);u.then(f,m).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(Q.prototype,Symbol.toStringTag,"Dexie.Promise"),bn.env=Fm(),h(Q,{all:function(){var a=Ne.apply(null,arguments).map(bs);return new Q(function(c,u){a.length===0&&c([]);var f=a.length;a.forEach(function(m,g){return Q.resolve(m).then(function(v){a[g]=v,--f||c(a)},u)})})},resolve:function(a){return a instanceof Q?a:a&&typeof a.then=="function"?new Q(function(c,u){a.then(c,u)}):new Q(Ui,!0,a)},reject:ps,race:function(){var a=Ne.apply(null,arguments).map(bs);return new Q(function(c,u){a.map(function(f){return Q.resolve(f).then(c,u)})})},PSD:{get:function(){return et},set:function(a){return et=a}},totalEchoes:{get:function(){return vs}},newPSD:yn,usePSD:ro,scheduler:{get:function(){return Vi},set:function(a){Vi=a}},rejectionMapper:{get:function(){return ou},set:function(a){ou=a}},follow:function(a,c){return new Q(function(u,f){return yn(function(m,g){var v=et;v.unhandleds=[],v.onunhandled=g,v.finalize=Zn(function(){var b,x=this;b=function(){x.unhandleds.length===0?m():g(x.unhandleds[0])},ms.push(function C(){b(),ms.splice(ms.indexOf(C),1)}),++eo,Vi(function(){--eo==0&&cu()},[])},v.finalize),a()},c,u,f)})}}),Jn&&(Jn.allSettled&&O(Q,"allSettled",function(){var a=Ne.apply(null,arguments).map(bs);return new Q(function(c){a.length===0&&c([]);var u=a.length,f=new Array(u);a.forEach(function(m,g){return Q.resolve(m).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||c(f)})})})}),Jn.any&&typeof AggregateError<"u"&&O(Q,"any",function(){var a=Ne.apply(null,arguments).map(bs);return new Q(function(c,u){a.length===0&&u(new AggregateError([]));var f=a.length,m=new Array(f);a.forEach(function(g,v){return Q.resolve(g).then(function(b){return c(b)},function(b){m[v]=b,--f||u(new AggregateError(m))})})})}),Jn.withResolvers&&(Q.withResolvers=Jn.withResolvers));var ae={awaits:0,echoes:0,id:0},H_=0,hs=[],gs=0,vs=0,W_=0;function yn(a,c,u,f){var m=et,g=Object.create(m);return g.parent=m,g.ref=0,g.global=!1,g.id=++W_,bn.env,g.env=ru?{Promise:Q,PromiseProp:{value:Q,configurable:!0,writable:!0},all:Q.all,race:Q.race,allSettled:Q.allSettled,any:Q.any,resolve:Q.resolve,reject:Q.reject}:{},c&&s(g,c),++m.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=ro(g,a,u,f),g.ref===0&&g.finalize(),f}function qo(){return ae.id||(ae.id=++H_),++ae.awaits,ae.echoes+=Pm,ae.id}function _n(){return!!ae.awaits&&(--ae.awaits==0&&(ae.id=0),ae.echoes=ae.awaits*Pm,!0)}function bs(a){return ae.echoes&&a&&a.constructor===Jn?(qo(),a.then(function(c){return _n(),c},function(c){return _n(),Kt(c)})):a}function K_(){var a=hs[hs.length-1];hs.pop(),xn(a,!1)}function xn(a,c){var u,f=et;(c?!ae.echoes||gs++&&a===et:!gs||--gs&&a===et)||queueMicrotask(c?function(m){++vs,ae.echoes&&--ae.echoes!=0||(ae.echoes=ae.awaits=ae.id=0),hs.push(et),xn(m,!0)}.bind(null,a):K_),a!==et&&(et=a,f===bn&&(bn.env=Fm()),ru&&(u=bn.env.Promise,c=a.env,(f.global||a.global)&&(Object.defineProperty(n,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any&&(u.any=c.any))))}function Fm(){var a=n.Promise;return ru?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function ro(a,c,u,f,m){var g=et;try{return xn(a,!0),c(u,f,m)}finally{xn(g,!1)}}function Bm(a,c,u,f){return typeof a!="function"?a:function(){var m=et;u&&qo(),xn(c,!0);try{return a.apply(this,arguments)}finally{xn(m,!1),f&&queueMicrotask(_n)}}}function lu(a){Promise===Jn&&ae.echoes===0?gs===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+er).indexOf("[native code]")===-1&&(qo=_n=At);var Kt=Q.reject,no="\uFFFF",Yr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",$m="String expected.",Ho=[],ys="__dbnames",uu="readonly",du="readwrite";function oo(a,c){return a?c?function(){return a.apply(this,arguments)&&c.apply(this,arguments)}:a:c}var jm={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function _s(a){return typeof a!="string"||/\./.test(a)?function(c){return c}:function(c){return c[a]===void 0&&a in c&&delete(c=fr(c))[a],c}}function Um(){throw ot.Type()}function _t(a,c){try{var u=zm(a),f=zm(c);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return c<a?1:a<c?-1:0;case"binary":return function(m,g){for(var v=m.length,b=g.length,x=v<b?v:b,C=0;C<x;++C)if(m[C]!==g[C])return m[C]<g[C]?-1:1;return v===b?0:v<b?-1:1}(Vm(a),Vm(c));case"Array":return function(m,g){for(var v=m.length,b=g.length,x=v<b?v:b,C=0;C<x;++C){var D=_t(m[C],g[C]);if(D!==0)return D}return v===b?0:v<b?-1:1}(a,c)}}catch{}return NaN}function zm(a){var c=typeof a;return c!="object"?c:ArrayBuffer.isView(a)?"binary":(a=mr(a),a==="ArrayBuffer"?"binary":a)}function Vm(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var qm=($t.prototype._trans=function(a,c,u){var f=this._tx||et.trans,m=this.name,g=Sr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function v(C,D,_){if(!_.schema[m])throw new ot.NotFound("Table "+m+" not part of transaction");return c(_.idbtrans,_)}var b=zo();try{var x=f&&f.db._novip===this.db._novip?f===et.trans?f._promise(a,v,u):yn(function(){return f._promise(a,v,u)},{trans:f,transless:et.transless||et}):function C(D,_,I,w){if(D.idbdb&&(D._state.openComplete||et.letThrough||D._vip)){var E=D._createTransaction(_,I,D._dbSchema);try{E.create(),D._state.PR1398_maxLoop=3}catch(A){return A.name===vn.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return C(D,_,I,w)})):Kt(A)}return E._promise(_,function(A,S){return yn(function(){return et.trans=E,w(A,S,E)})}).then(function(A){if(_==="readwrite")try{E.idbtrans.commit()}catch{}return _==="readonly"?A:E._completion.then(function(){return A})})}if(D._state.openComplete)return Kt(new ot.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return Kt(new ot.DatabaseClosed);D.open().catch(At)}return D._state.dbReadyPromise.then(function(){return C(D,_,I,w)})}(this.db,a,[this.name],v);return g&&(x._consoleTask=g,x=x.catch(function(C){return console.trace(C),Kt(C)})),x}finally{b&&Vo()}},$t.prototype.get=function(a,c){var u=this;return a&&a.constructor===Object?this.where(a).first(c):a==null?Kt(new ot.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:a}).then(function(m){return u.hook.reading.fire(m)})}).then(c)},$t.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(i(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var c=o(a);if(c.length===1)return this.where(c[0]).equals(a[c[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&c.every(function(C){return 0<=b.keyPath.indexOf(C)})){for(var x=0;x<c.length;++x)if(c.indexOf(b.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(b,x){return b.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==no){var g=u.keyPath.slice(0,c.length);return this.where(g).equals(g.map(function(x){return a[x]}))}!u&&Sr&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName;function m(b,x){return _t(b,x)===0}var v=c.reduce(function(_,x){var C=_[0],D=_[1],_=f[x],I=a[x];return[C||_,C||!_?oo(D,_&&_.multi?function(w){return w=kt(w,x),i(w)&&w.some(function(E){return m(I,E)})}:function(w){return m(I,kt(w,x))}):D]},[null,null]),g=v[0],v=v[1];return g?this.where(g.name).equals(a[g.keyPath]).filter(v):u?this.filter(v):this.where(c).equals("")},$t.prototype.filter=function(a){return this.toCollection().and(a)},$t.prototype.count=function(a){return this.toCollection().count(a)},$t.prototype.offset=function(a){return this.toCollection().offset(a)},$t.prototype.limit=function(a){return this.toCollection().limit(a)},$t.prototype.each=function(a){return this.toCollection().each(a)},$t.prototype.toArray=function(a){return this.toCollection().toArray(a)},$t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},$t.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,i(a)?"[".concat(a.join("+"),"]"):a))},$t.prototype.reverse=function(){return this.toCollection().reverse()},$t.prototype.mapToClass=function(a){var c,u=this.db,f=this.name;function m(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof Um&&(function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function D(){this.constructor=x}t(x,C),x.prototype=C===null?Object.create(C):(D.prototype=C.prototype,new D)}(m,c=a),Object.defineProperty(m.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),m.prototype.table=function(){return f},a=m);for(var g=new Set,v=a.prototype;v;v=l(v))Object.getOwnPropertyNames(v).forEach(function(x){return g.add(x)});function b(x){if(!x)return x;var C,D=Object.create(a.prototype);for(C in x)if(!g.has(C))try{D[C]=x[C]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),a},$t.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},$t.prototype.add=function(a,c){var u=this,f=this.schema.primKey,m=f.auto,g=f.keyPath,v=a;return g&&m&&(v=_s(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:c!=null?[c]:null,values:[v]})}).then(function(b){return b.numFailures?Q.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{st(a,g,b)}catch{}return b})},$t.prototype.update=function(a,c){return typeof a!="object"||i(a)?this.where(":id").equals(a).modify(c):(a=kt(a,this.schema.primKey.keyPath),a===void 0?Kt(new ot.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(c))},$t.prototype.put=function(a,c){var u=this,f=this.schema.primKey,m=f.auto,g=f.keyPath,v=a;return g&&m&&(v=_s(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[v],keys:c!=null?[c]:null})}).then(function(b){return b.numFailures?Q.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{st(a,g,b)}catch{}return b})},$t.prototype.delete=function(a){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"delete",keys:[a]})}).then(function(u){return u.numFailures?Q.reject(u.failures[0]):void 0})},$t.prototype.clear=function(){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"deleteRange",range:jm})}).then(function(c){return c.numFailures?Q.reject(c.failures[0]):void 0})},$t.prototype.bulkGet=function(a){var c=this;return this._trans("readonly",function(u){return c.core.getMany({keys:a,trans:u}).then(function(f){return f.map(function(m){return c.hook.reading.fire(m)})})})},$t.prototype.bulkAdd=function(a,c,u){var f=this,m=Array.isArray(c)?c:void 0,g=(u=u||(m?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var C=f.schema.primKey,b=C.auto,C=C.keyPath;if(C&&m)throw new ot.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==a.length)throw new ot.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,C=C&&b?a.map(_s(C)):a;return f.core.mutate({trans:v,type:"add",keys:m,values:C,wantResults:g}).then(function(E){var _=E.numFailures,I=E.results,w=E.lastResult,E=E.failures;if(_===0)return g?I:w;throw new ie("".concat(f.name,".bulkAdd(): ").concat(_," of ").concat(x," operations failed"),E)})})},$t.prototype.bulkPut=function(a,c,u){var f=this,m=Array.isArray(c)?c:void 0,g=(u=u||(m?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var C=f.schema.primKey,b=C.auto,C=C.keyPath;if(C&&m)throw new ot.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==a.length)throw new ot.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,C=C&&b?a.map(_s(C)):a;return f.core.mutate({trans:v,type:"put",keys:m,values:C,wantResults:g}).then(function(E){var _=E.numFailures,I=E.results,w=E.lastResult,E=E.failures;if(_===0)return g?I:w;throw new ie("".concat(f.name,".bulkPut(): ").concat(_," of ").concat(x," operations failed"),E)})})},$t.prototype.bulkUpdate=function(a){var c=this,u=this.core,f=a.map(function(v){return v.key}),m=a.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:f,cache:"clone"}).then(function(b){var x=[],C=[];a.forEach(function(_,I){var w=_.key,E=_.changes,A=b[I];if(A){for(var S=0,M=Object.keys(E);S<M.length;S++){var P=M[S],N=E[P];if(P===c.schema.primKey.keyPath){if(_t(N,w)!==0)throw new ot.Constraint("Cannot update primary key in bulkUpdate()")}else st(A,P,N)}g.push(I),x.push(w),C.push(A)}});var D=x.length;return u.mutate({trans:v,type:"put",keys:x,values:C,updates:{keys:f,changeSpecs:m}}).then(function(_){var I=_.numFailures,w=_.failures;if(I===0)return D;for(var E=0,A=Object.keys(w);E<A.length;E++){var S,M=A[E],P=g[Number(M)];P!=null&&(S=w[M],delete w[M],w[P]=S)}throw new ie("".concat(c.name,".bulkUpdate(): ").concat(I," of ").concat(D," operations failed"),w)})})})},$t.prototype.bulkDelete=function(a){var c=this,u=a.length;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:a})}).then(function(v){var m=v.numFailures,g=v.lastResult,v=v.failures;if(m===0)return g;throw new ie("".concat(c.name,".bulkDelete(): ").concat(m," of ").concat(u," operations failed"),v)})},$t);function $t(){}function Hi(a){function c(v,b){if(b){for(var x=arguments.length,C=new Array(x-1);--x;)C[x-1]=arguments[x];return u[v].subscribe.apply(null,C),a}if(typeof v=="string")return u[v]}var u={};c.addEventType=g;for(var f=1,m=arguments.length;f<m;++f)g(arguments[f]);return c;function g(v,b,x){if(typeof v!="object"){var C;b=b||z_;var D={subscribers:[],fire:x=x||At,subscribe:function(_){D.subscribers.indexOf(_)===-1&&(D.subscribers.push(_),D.fire=b(D.fire,_))},unsubscribe:function(_){D.subscribers=D.subscribers.filter(function(I){return I!==_}),D.fire=D.subscribers.reduce(b,x)}};return u[v]=c[v]=D}o(C=v).forEach(function(_){var I=C[_];if(i(I))g(_,C[_][0],C[_][1]);else{if(I!=="asap")throw new ot.InvalidArgument("Invalid event config");var w=g(_,ji,function(){for(var E=arguments.length,A=new Array(E);E--;)A[E]=arguments[E];w.subscribers.forEach(function(S){tt(function(){S.apply(null,A)})})})}})}}function Wi(a,c){return k(c).from({prototype:a}),c}function Wo(a,c){return!(a.filter||a.algorithm||a.or)&&(c?a.justLimit:!a.replayFilter)}function fu(a,c){a.filter=oo(a.filter,c)}function mu(a,c,u){var f=a.replayFilter;a.replayFilter=f?function(){return oo(f(),c())}:c,a.justLimit=u&&!f}function xs(a,c){if(a.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(a.index);if(!u)throw new ot.Schema("KeyPath "+a.index+" on object store "+c.name+" is not indexed");return u}function Hm(a,c,u){var f=xs(a,c.schema);return c.openCursor({trans:u,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function ws(a,c,u,f){var m=a.replayFilter?oo(a.filter,a.replayFilter()):a.filter;if(a.or){var g={},v=function(b,x,C){var D,_;m&&!m(x,C,function(I){return x.stop(I)},function(I){return x.fail(I)})||((_=""+(D=x.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(D)),p(g,_)||(g[_]=!0,c(b,x,C)))};return Promise.all([a.or._iterate(v,u),Wm(Hm(a,f,u),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}return Wm(Hm(a,f,u),oo(a.algorithm,m),c,!a.keysOnly&&a.valueMapper)}function Wm(a,c,u,f){var m=Ut(f?function(g,v,b){return u(f(g),v,b)}:u);return a.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};c&&!c(g,function(b){return v=b},function(b){g.stop(b),v=At},function(b){g.fail(b),v=At})||m(g.value,g,function(b){return v=b}),v()})})}var Qr=Symbol(),Ki=(Km.prototype.execute=function(a){if(this.add!==void 0){var c=this.add;if(i(c))return e(e([],i(a)?a:[],!0),c,!0).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var u=this.remove;if(i(u))return i(a)?a.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(a)-u;if(typeof u=="bigint")try{return BigInt(a)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?this.replacePrefix[1]+a.substring(c.length):a},Km);function Km(a){Object.assign(this,a)}var G_=(xt.prototype._read=function(a,c){var u=this._ctx;return u.error?u.table._trans(null,Kt.bind(null,u.error)):u.table._trans("readonly",a).then(c)},xt.prototype._write=function(a){var c=this._ctx;return c.error?c.table._trans(null,Kt.bind(null,c.error)):c.table._trans("readwrite",a,"locked")},xt.prototype._addAlgorithm=function(a){var c=this._ctx;c.algorithm=oo(c.algorithm,a)},xt.prototype._iterate=function(a,c){return ws(this._ctx,a,c,this._ctx.table.core)},xt.prototype.clone=function(a){var c=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return a&&s(u,a),c._ctx=u,c},xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},xt.prototype.each=function(a){var c=this._ctx;return this._read(function(u){return ws(c,a,u,c.table.core)})},xt.prototype.count=function(a){var c=this;return this._read(function(u){var f=c._ctx,m=f.table.core;if(Wo(f,!0))return m.count({trans:u,query:{index:xs(f,m.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return ws(f,function(){return++g,!1},u,m).then(function(){return g})}).then(a)},xt.prototype.sortBy=function(a,c){var u=a.split(".").reverse(),f=u[0],m=u.length-1;function g(x,C){return C?g(x[u[C]],C-1):x[f]}var v=this._ctx.dir==="next"?1:-1;function b(x,C){return _t(g(x,m),g(C,m))*v}return this.toArray(function(x){return x.sort(b)}).then(c)},xt.prototype.toArray=function(a){var c=this;return this._read(function(u){var f=c._ctx;if(f.dir==="next"&&Wo(f,!0)&&0<f.limit){var m=f.valueMapper,g=xs(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(b){return b=b.result,m?b.map(m):b})}var v=[];return ws(f,function(b){return v.push(b)},u,f.table.core).then(function(){return v})},a)},xt.prototype.offset=function(a){var c=this._ctx;return a<=0||(c.offset+=a,Wo(c)?mu(c,function(){var u=a;return function(f,m){return u===0||(u===1?--u:m(function(){f.advance(u),u=0}),!1)}}):mu(c,function(){var u=a;return function(){return--u<0}})),this},xt.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),mu(this._ctx,function(){var c=a;return function(u,f,m){return--c<=0&&f(m),0<=c}},!0),this},xt.prototype.until=function(a,c){return fu(this._ctx,function(u,f,m){return!a(u.value)||(f(m),c)}),this},xt.prototype.first=function(a){return this.limit(1).toArray(function(c){return c[0]}).then(a)},xt.prototype.last=function(a){return this.reverse().first(a)},xt.prototype.filter=function(a){var c;return fu(this._ctx,function(u){return a(u.value)}),(c=this._ctx).isMatch=oo(c.isMatch,a),this},xt.prototype.and=function(a){return this.filter(a)},xt.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xt.prototype.desc=function(){return this.reverse()},xt.prototype.eachKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.key,f)})},xt.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},xt.prototype.eachPrimaryKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.primaryKey,f)})},xt.prototype.keys=function(a){var c=this._ctx;c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,m){u.push(m.key)}).then(function(){return u}).then(a)},xt.prototype.primaryKeys=function(a){var c=this._ctx;if(c.dir==="next"&&Wo(c,!0)&&0<c.limit)return this._read(function(f){var m=xs(c,c.table.core.schema);return c.table.core.query({trans:f,values:!1,limit:c.limit,query:{index:m,range:c.range}})}).then(function(f){return f.result}).then(a);c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,m){u.push(m.primaryKey)}).then(function(){return u}).then(a)},xt.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},xt.prototype.firstKey=function(a){return this.limit(1).keys(function(c){return c[0]}).then(a)},xt.prototype.lastKey=function(a){return this.reverse().firstKey(a)},xt.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var c={};return fu(this._ctx,function(m){var f=m.primaryKey.toString(),m=p(c,f);return c[f]=!0,!m}),this},xt.prototype.modify=function(a){var c=this,u=this._ctx;return this._write(function(f){var m,g,v;v=typeof a=="function"?a:(m=o(a),g=m.length,function(S){for(var M=!1,P=0;P<g;++P){var N=m[P],B=a[N],V=kt(S,N);B instanceof Ki?(st(S,N,B.execute(V)),M=!0):V!==B&&(st(S,N,B),M=!0)}return M});var b=u.table.core,_=b.schema.primaryKey,x=_.outbound,C=_.extractKey,D=200,_=c.db._options.modifyChunkSize;_&&(D=typeof _=="object"?_[b.name]||_["*"]||200:_);function I(S,N){var P=N.failures,N=N.numFailures;E+=S-N;for(var B=0,V=o(P);B<V.length;B++){var G=V[B];w.push(P[G])}}var w=[],E=0,A=[];return c.clone().primaryKeys().then(function(S){function M(N){var B=Math.min(D,S.length-N);return b.getMany({trans:f,keys:S.slice(N,N+B),cache:"immutable"}).then(function(V){for(var G=[],q=[],H=x?[]:null,Y=[],K=0;K<B;++K){var Z=V[K],ht={value:fr(Z),primKey:S[N+K]};v.call(ht,ht.value,ht)!==!1&&(ht.value==null?Y.push(S[N+K]):x||_t(C(Z),C(ht.value))===0?(q.push(ht.value),x&&H.push(S[N+K])):(Y.push(S[N+K]),G.push(ht.value)))}return Promise.resolve(0<G.length&&b.mutate({trans:f,type:"add",values:G}).then(function(vt){for(var bt in vt.failures)Y.splice(parseInt(bt),1);I(G.length,vt)})).then(function(){return(0<q.length||P&&typeof a=="object")&&b.mutate({trans:f,type:"put",keys:H,values:q,criteria:P,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<N}).then(function(vt){return I(q.length,vt)})}).then(function(){return(0<Y.length||P&&a===pu)&&b.mutate({trans:f,type:"delete",keys:Y,criteria:P,isAdditionalChunk:0<N}).then(function(vt){return I(Y.length,vt)})}).then(function(){return S.length>N+B&&M(N+D)})})}var P=Wo(u)&&u.limit===1/0&&(typeof a!="function"||a===pu)&&{index:u.index,range:u.range};return M(0).then(function(){if(0<w.length)throw new oe("Error modifying one or more objects",w,E,A);return S.length})})})},xt.prototype.delete=function(){var a=this._ctx,c=a.range;return Wo(a)&&(a.isPrimKey||c.type===3)?this._write(function(u){var f=a.table.core.schema.primaryKey,m=c;return a.table.core.count({trans:u,query:{index:f,range:m}}).then(function(g){return a.table.core.mutate({trans:u,type:"deleteRange",range:m}).then(function(v){var b=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new oe("Could not delete some values",Object.keys(b).map(function(x){return b[x]}),g-v);return g-v})})}):this.modify(pu)},xt);function xt(){}var pu=function(a,c){return c.value=null};function Y_(a,c){return a<c?-1:a===c?0:1}function Q_(a,c){return c<a?-1:a===c?0:1}function ze(a,c,u){return a=a instanceof Ym?new a.Collection(a):a,a._ctx.error=new(u||TypeError)(c),a}function Ko(a){return new a.Collection(a,function(){return Gm("")}).limit(0)}function Cs(a,c,u,f){var m,g,v,b,x,C,D,_=u.length;if(!u.every(function(E){return typeof E=="string"}))return ze(a,$m);function I(E){m=E==="next"?function(S){return S.toUpperCase()}:function(S){return S.toLowerCase()},g=E==="next"?function(S){return S.toLowerCase()}:function(S){return S.toUpperCase()},v=E==="next"?Y_:Q_;var A=u.map(function(S){return{lower:g(S),upper:m(S)}}).sort(function(S,M){return v(S.lower,M.lower)});b=A.map(function(S){return S.upper}),x=A.map(function(S){return S.lower}),D=(C=E)==="next"?"":f}I("next"),a=new a.Collection(a,function(){return wn(b[0],x[_-1]+f)}),a._ondirectionchange=function(E){I(E)};var w=0;return a._addAlgorithm(function(E,A,S){var M=E.key;if(typeof M!="string")return!1;var P=g(M);if(c(P,x,w))return!0;for(var N=null,B=w;B<_;++B){var V=function(G,q,H,Y,K,Z){for(var ht=Math.min(G.length,Y.length),vt=-1,bt=0;bt<ht;++bt){var Ve=q[bt];if(Ve!==Y[bt])return K(G[bt],H[bt])<0?G.substr(0,bt)+H[bt]+H.substr(bt+1):K(G[bt],Y[bt])<0?G.substr(0,bt)+Y[bt]+H.substr(bt+1):0<=vt?G.substr(0,vt)+q[vt]+H.substr(vt+1):null;K(G[bt],Ve)<0&&(vt=bt)}return ht<Y.length&&Z==="next"?G+H.substr(G.length):ht<G.length&&Z==="prev"?G.substr(0,H.length):vt<0?null:G.substr(0,vt)+Y[vt]+H.substr(vt+1)}(M,P,b[B],x[B],v,C);V===null&&N===null?w=B+1:(N===null||0<v(N,V))&&(N=V)}return A(N!==null?function(){E.continue(N+D)}:S),!1}),a}function wn(a,c,u,f){return{type:2,lower:a,upper:c,lowerOpen:u,upperOpen:f}}function Gm(a){return{type:1,lower:a,upper:a}}var Ym=(Object.defineProperty(se.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),se.prototype.between=function(a,c,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(a,c)||this._cmp(a,c)===0&&(u||f)&&(!u||!f)?Ko(this):new this.Collection(this,function(){return wn(a,c,!u,!f)})}catch{return ze(this,Yr)}},se.prototype.equals=function(a){return a==null?ze(this,Yr):new this.Collection(this,function(){return Gm(a)})},se.prototype.above=function(a){return a==null?ze(this,Yr):new this.Collection(this,function(){return wn(a,void 0,!0)})},se.prototype.aboveOrEqual=function(a){return a==null?ze(this,Yr):new this.Collection(this,function(){return wn(a,void 0,!1)})},se.prototype.below=function(a){return a==null?ze(this,Yr):new this.Collection(this,function(){return wn(void 0,a,!1,!0)})},se.prototype.belowOrEqual=function(a){return a==null?ze(this,Yr):new this.Collection(this,function(){return wn(void 0,a)})},se.prototype.startsWith=function(a){return typeof a!="string"?ze(this,$m):this.between(a,a+no,!0,!0)},se.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):Cs(this,function(c,u){return c.indexOf(u[0])===0},[a],no)},se.prototype.equalsIgnoreCase=function(a){return Cs(this,function(c,u){return c===u[0]},[a],"")},se.prototype.anyOfIgnoreCase=function(){var a=Ne.apply(hn,arguments);return a.length===0?Ko(this):Cs(this,function(c,u){return u.indexOf(c)!==-1},a,"")},se.prototype.startsWithAnyOfIgnoreCase=function(){var a=Ne.apply(hn,arguments);return a.length===0?Ko(this):Cs(this,function(c,u){return u.some(function(f){return c.indexOf(f)===0})},a,no)},se.prototype.anyOf=function(){var a=this,c=Ne.apply(hn,arguments),u=this._cmp;try{c.sort(u)}catch{return ze(this,Yr)}if(c.length===0)return Ko(this);var f=new this.Collection(this,function(){return wn(c[0],c[c.length-1])});f._ondirectionchange=function(g){u=g==="next"?a._ascending:a._descending,c.sort(u)};var m=0;return f._addAlgorithm(function(g,v,b){for(var x=g.key;0<u(x,c[m]);)if(++m===c.length)return v(b),!1;return u(x,c[m])===0||(v(function(){g.continue(c[m])}),!1)}),f},se.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},se.prototype.noneOf=function(){var a=Ne.apply(hn,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return ze(this,Yr)}var c=a.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return c.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},se.prototype.inAnyRange=function(M,c){var u=this,f=this._cmp,m=this._ascending,g=this._descending,v=this._min,b=this._max;if(M.length===0)return Ko(this);if(!M.every(function(P){return P[0]!==void 0&&P[1]!==void 0&&m(P[0],P[1])<=0}))return ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ot.InvalidArgument);var x=!c||c.includeLowers!==!1,C=c&&c.includeUppers===!0,D,_=m;function I(P,N){return _(P[0],N[0])}try{(D=M.reduce(function(P,N){for(var B=0,V=P.length;B<V;++B){var G=P[B];if(f(N[0],G[1])<0&&0<f(N[1],G[0])){G[0]=v(G[0],N[0]),G[1]=b(G[1],N[1]);break}}return B===V&&P.push(N),P},[])).sort(I)}catch{return ze(this,Yr)}var w=0,E=C?function(P){return 0<m(P,D[w][1])}:function(P){return 0<=m(P,D[w][1])},A=x?function(P){return 0<g(P,D[w][0])}:function(P){return 0<=g(P,D[w][0])},S=E,M=new this.Collection(this,function(){return wn(D[0][0],D[D.length-1][1],!x,!C)});return M._ondirectionchange=function(P){_=P==="next"?(S=E,m):(S=A,g),D.sort(I)},M._addAlgorithm(function(P,N,B){for(var V,G=P.key;S(G);)if(++w===D.length)return N(B),!1;return!E(V=G)&&!A(V)||(u._cmp(G,D[w][1])===0||u._cmp(G,D[w][0])===0||N(function(){_===m?P.continue(D[w][0]):P.continue(D[w][1])}),!1)}),M},se.prototype.startsWithAnyOf=function(){var a=Ne.apply(hn,arguments);return a.every(function(c){return typeof c=="string"})?a.length===0?Ko(this):this.inAnyRange(a.map(function(c){return[c,c+no]})):ze(this,"startsWithAnyOf() only works with strings")},se);function se(){}function Rr(a){return Ut(function(c){return Gi(c),a(c.target.error),!1})}function Gi(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Yi="storagemutated",hu="x-storagemutated-1",Cn=Hi(null,Yi),X_=(Or.prototype._lock=function(){return rt(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},Or.prototype._unlock=function(){if(rt(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{ro(a[1],a[0])}catch{}}return this},Or.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},Or.prototype.create=function(a){var c=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(rt(!this.idbtrans),!a&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new ot.DatabaseClosed(f);case"MissingAPIError":throw new ot.MissingAPI(f.message,f);default:throw new ot.OpenFailed(f)}if(!this.active)throw new ot.TransactionInactive;return rt(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ut(function(m){Gi(m),c._reject(a.error)}),a.onabort=Ut(function(m){Gi(m),c.active&&c._reject(new ot.Abort(a.error)),c.active=!1,c.on("abort").fire(m)}),a.oncomplete=Ut(function(){c.active=!1,c._resolve(),"mutatedParts"in a&&Cn.storagemutated.fire(a.mutatedParts)}),this},Or.prototype._promise=function(a,c,u){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return Kt(new ot.ReadOnly("Transaction is readonly"));if(!this.active)return Kt(new ot.TransactionInactive);if(this._locked())return new Q(function(g,v){f._blockedFuncs.push([function(){f._promise(a,c,u).then(g,v)},et])});if(u)return yn(function(){var g=new Q(function(v,b){f._lock();var x=c(v,b,f);x&&x.then&&x.then(v,b)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var m=new Q(function(g,v){var b=c(g,v,f);b&&b.then&&b.then(g,v)});return m._lib=!0,m},Or.prototype._root=function(){return this.parent?this.parent._root():this},Or.prototype.waitFor=function(a){var c,u=this._root(),f=Q.resolve(a);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],c=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(c.get(-1/0).onsuccess=g)}());var m=u._waitingFor;return new Q(function(g,v){f.then(function(b){return u._waitingQueue.push(Ut(g.bind(null,b)))},function(b){return u._waitingQueue.push(Ut(v.bind(null,b)))}).finally(function(){u._waitingFor===m&&(u._waitingFor=null)})})},Or.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ot.Abort))},Or.prototype.table=function(a){var c=this._memoizedTables||(this._memoizedTables={});if(p(c,a))return c[a];var u=this.schema[a];if(!u)throw new ot.NotFound("Table "+a+" not part of transaction");return u=new this.db.Table(a,u,this),u.core=this.db.core.table(a),c[a]=u},Or);function Or(){}function gu(a,c,u,f,m,g,v){return{name:a,keyPath:c,unique:u,multi:f,auto:m,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(m?"++":"")+Qm(c)}}function Qm(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function vu(a,c,u){return{name:a,primKey:c,indexes:u,mappedClass:null,idxByName:(f=function(m){return[m.name,m]},u.reduce(function(m,g,v){return v=f(g,v),v&&(m[v[0]]=v[1]),m},{}))};var f}var Qi=function(a){try{return a.only([[]]),Qi=function(){return[[]]},[[]]}catch{return Qi=function(){return no},no}};function bu(a){return a==null?function(){}:typeof a=="string"?(c=a).split(".").length===1?function(u){return u[c]}:function(u){return kt(u,c)}:function(u){return kt(u,a)};var c}function Xm(a){return[].slice.call(a)}var Z_=0;function Xi(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function J_(a,c,x){function f(S){if(S.type===3)return null;if(S.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var w=S.lower,E=S.upper,A=S.lowerOpen,S=S.upperOpen;return w===void 0?E===void 0?null:c.upperBound(E,!!S):E===void 0?c.lowerBound(w,!!A):c.bound(w,E,!!A,!!S)}function m(I){var w,E=I.name;return{name:E,schema:I,mutate:function(A){var S=A.trans,M=A.type,P=A.keys,N=A.values,B=A.range;return new Promise(function(V,G){V=Ut(V);var q=S.objectStore(E),H=q.keyPath==null,Y=M==="put"||M==="add";if(!Y&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var K,Z=(P||N||{length:1}).length;if(P&&N&&P.length!==N.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function ht(De){++Ve,Gi(De)}var vt=[],bt=[],Ve=0;if(M==="deleteRange"){if(B.type===4)return V({numFailures:Ve,failures:bt,results:[],lastResult:void 0});B.type===3?vt.push(K=q.clear()):vt.push(K=q.delete(f(B)))}else{var H=Y?H?[N,P]:[N,null]:[P,null],mt=H[0],xe=H[1];if(Y)for(var we=0;we<Z;++we)vt.push(K=xe&&xe[we]!==void 0?q[M](mt[we],xe[we]):q[M](mt[we])),K.onerror=ht;else for(we=0;we<Z;++we)vt.push(K=q[M](mt[we])),K.onerror=ht}function Ls(De){De=De.target.result,vt.forEach(function(so,Lu){return so.error!=null&&(bt[Lu]=so.error)}),V({numFailures:Ve,failures:bt,results:M==="delete"?P:vt.map(function(so){return so.result}),lastResult:De})}K.onerror=function(De){ht(De),Ls(De)},K.onsuccess=Ls})},getMany:function(A){var S=A.trans,M=A.keys;return new Promise(function(P,N){P=Ut(P);for(var B,V=S.objectStore(E),G=M.length,q=new Array(G),H=0,Y=0,K=function(vt){vt=vt.target,q[vt._pos]=vt.result,++Y===H&&P(q)},Z=Rr(N),ht=0;ht<G;++ht)M[ht]!=null&&((B=V.get(M[ht]))._pos=ht,B.onsuccess=K,B.onerror=Z,++H);H===0&&P(q)})},get:function(A){var S=A.trans,M=A.key;return new Promise(function(P,N){P=Ut(P);var B=S.objectStore(E).get(M);B.onsuccess=function(V){return P(V.target.result)},B.onerror=Rr(N)})},query:(w=C,function(A){return new Promise(function(S,M){S=Ut(S);var P,N,B,H=A.trans,V=A.values,G=A.limit,K=A.query,q=G===1/0?void 0:G,Y=K.index,K=K.range,H=H.objectStore(E),Y=Y.isPrimaryKey?H:H.index(Y.name),K=f(K);if(G===0)return S({result:[]});w?((q=V?Y.getAll(K,q):Y.getAllKeys(K,q)).onsuccess=function(Z){return S({result:Z.target.result})},q.onerror=Rr(M)):(P=0,N=!V&&"openKeyCursor"in Y?Y.openKeyCursor(K):Y.openCursor(K),B=[],N.onsuccess=function(Z){var ht=N.result;return ht?(B.push(V?ht.value:ht.primaryKey),++P===G?S({result:B}):void ht.continue()):S({result:B})},N.onerror=Rr(M))})}),openCursor:function(A){var S=A.trans,M=A.values,P=A.query,N=A.reverse,B=A.unique;return new Promise(function(V,G){V=Ut(V);var Y=P.index,q=P.range,H=S.objectStore(E),H=Y.isPrimaryKey?H:H.index(Y.name),Y=N?B?"prevunique":"prev":B?"nextunique":"next",K=!M&&"openKeyCursor"in H?H.openKeyCursor(f(q),Y):H.openCursor(f(q),Y);K.onerror=Rr(G),K.onsuccess=Ut(function(Z){var ht,vt,bt,Ve,mt=K.result;mt?(mt.___id=++Z_,mt.done=!1,ht=mt.continue.bind(mt),vt=(vt=mt.continuePrimaryKey)&&vt.bind(mt),bt=mt.advance.bind(mt),Ve=function(){throw new Error("Cursor not stopped")},mt.trans=S,mt.stop=mt.continue=mt.continuePrimaryKey=mt.advance=function(){throw new Error("Cursor not started")},mt.fail=Ut(G),mt.next=function(){var xe=this,we=1;return this.start(function(){return we--?xe.continue():xe.stop()}).then(function(){return xe})},mt.start=function(xe){function we(){if(K.result)try{xe()}catch(De){mt.fail(De)}else mt.done=!0,mt.start=function(){throw new Error("Cursor behind last entry")},mt.stop()}var Ls=new Promise(function(De,so){De=Ut(De),K.onerror=Rr(so),mt.fail=so,mt.stop=function(Lu){mt.stop=mt.continue=mt.continuePrimaryKey=mt.advance=Ve,De(Lu)}});return K.onsuccess=Ut(function(De){K.onsuccess=we,we()}),mt.continue=ht,mt.continuePrimaryKey=vt,mt.advance=bt,we(),Ls},V(mt)):V(null)},G)})},count:function(A){var S=A.query,M=A.trans,P=S.index,N=S.range;return new Promise(function(B,V){var G=M.objectStore(E),q=P.isPrimaryKey?G:G.index(P.name),G=f(N),q=G?q.count(G):q.count();q.onsuccess=Ut(function(H){return B(H.target.result)}),q.onerror=Rr(V)})}}}var g,v,b,D=(v=x,b=Xm((g=a).objectStoreNames),{schema:{name:g.name,tables:b.map(function(I){return v.objectStore(I)}).map(function(I){var w=I.keyPath,S=I.autoIncrement,E=i(w),A={},S={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w==null,compound:E,keyPath:w,autoIncrement:S,unique:!0,extractKey:bu(w)},indexes:Xm(I.indexNames).map(function(M){return I.index(M)}).map(function(B){var P=B.name,N=B.unique,V=B.multiEntry,B=B.keyPath,V={name:P,compound:i(B),keyPath:B,unique:N,multiEntry:V,extractKey:bu(B)};return A[Xi(B)]=V}),getIndexByKeyPath:function(M){return A[Xi(M)]}};return A[":id"]=S.primaryKey,w!=null&&(A[Xi(w)]=S.primaryKey),S})},hasGetAll:0<b.length&&"getAll"in v.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),x=D.schema,C=D.hasGetAll,D=x.tables.map(m),_={};return D.forEach(function(I){return _[I.name]=I}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(I){if(!_[I])throw new Error("Table '".concat(I,"' not found"));return _[I]},MIN_KEY:-1/0,MAX_KEY:Qi(c),schema:x}}function tx(a,c,u,f){var m=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=J_(c,m,f),a.dbcore.reduce(function(g,v){return v=v.create,r(r({},g),v(g))},f))}}function Ss(a,f){var u=f.db,f=tx(a._middlewares,u,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(m){var g=m.name;a.core.schema.tables.some(function(v){return v.name===g})&&(m.core=a.core.table(g),a[g]instanceof a.Table&&(a[g].core=m.core))})}function Rs(a,c,u,f){u.forEach(function(m){var g=f[m];c.forEach(function(v){var b=function x(C,D){return T(C,D)||(C=l(C))&&x(C,D)}(v,m);(!b||"value"in b&&b.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?O(v,m,{get:function(){return this.table(m)},set:function(x){y(this,m,{value:x,writable:!0,configurable:!0,enumerable:!0})}}):v[m]=new a.Table(m,g))})})}function yu(a,c){c.forEach(function(u){for(var f in u)u[f]instanceof a.Table&&delete u[f]})}function ex(a,c){return a._cfg.version-c._cfg.version}function rx(a,c,u,f){var m=a._dbSchema;u.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=vu("$meta",Jm("")[0],[]),a._storeNames.push("$meta"));var g=a._createTransaction("readwrite",a._storeNames,m);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),b=et.transless||et;yn(function(){return et.trans=g,et.transless=b,c!==0?(Ss(a,u),C=c,((x=g).storeNames.includes("$meta")?x.table("$meta").get("version").then(function(D){return D??C}):Q.resolve(C)).then(function(D){return I=D,w=g,E=u,A=[],D=(_=a)._versions,S=_._dbSchema=Es(0,_.idbdb,E),(D=D.filter(function(M){return M._cfg.version>=I})).length!==0?(D.forEach(function(M){A.push(function(){var P=S,N=M._cfg.dbschema;Ds(_,P,E),Ds(_,N,E),S=_._dbSchema=N;var B=_u(P,N);B.add.forEach(function(Y){xu(E,Y[0],Y[1].primKey,Y[1].indexes)}),B.change.forEach(function(Y){if(Y.recreate)throw new ot.Upgrade("Not yet support for changing primary key");var K=E.objectStore(Y.name);Y.add.forEach(function(Z){return Os(K,Z)}),Y.change.forEach(function(Z){K.deleteIndex(Z.name),Os(K,Z)}),Y.del.forEach(function(Z){return K.deleteIndex(Z)})});var V=M._cfg.contentUpgrade;if(V&&M._cfg.version>I){Ss(_,E),w._memoizedTables={};var G=Mt(N);B.del.forEach(function(Y){G[Y]=P[Y]}),yu(_,[_.Transaction.prototype]),Rs(_,[_.Transaction.prototype],o(G),G),w.schema=G;var q,H=gn(V);return H&&qo(),B=Q.follow(function(){var Y;(q=V(w))&&H&&(Y=_n.bind(null,null),q.then(Y,Y))}),q&&typeof q.then=="function"?Q.resolve(q):B.then(function(){return q})}}),A.push(function(P){var N,B,V=M._cfg.dbschema;N=V,B=P,[].slice.call(B.db.objectStoreNames).forEach(function(G){return N[G]==null&&B.db.deleteObjectStore(G)}),yu(_,[_.Transaction.prototype]),Rs(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),w.schema=_._dbSchema}),A.push(function(P){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===M._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(N){return N!=="$meta"})):P.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return A.length?Q.resolve(A.shift()(w.idbtrans)).then(M):Q.resolve()}().then(function(){Zm(S,E)})):Q.resolve();var _,I,w,E,A,S}).catch(v)):(o(m).forEach(function(D){xu(u,D,m[D].primKey,m[D].indexes)}),Ss(a,u),void Q.follow(function(){return a.on.populate.fire(g)}).catch(v));var x,C})}function nx(a,c){Zm(a._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=Es(0,a.idbdb,c);Ds(a,a._dbSchema,c);for(var f=0,m=_u(u,a._dbSchema).change;f<m.length;f++){var g=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=c.objectStore(v.name);v.add.forEach(function(x){Sr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(x.src)),Os(b,x)})}(m[f]);if(typeof g=="object")return g.value}}function _u(a,c){var u,f={del:[],add:[],change:[]};for(u in a)c[u]||f.del.push(u);for(u in c){var m=a[u],g=c[u];if(m){var v={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||m.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var b=m.idxByName,x=g.idxByName,C=void 0;for(C in b)x[C]||v.del.push(C);for(C in x){var D=b[C],_=x[C];D?D.src!==_.src&&v.change.push(_):v.add.push(_)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([u,g])}return f}function xu(a,c,u,f){var m=a.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return Os(m,g)}),m}function Zm(a,c){o(a).forEach(function(u){c.db.objectStoreNames.contains(u)||(Sr&&console.debug("Dexie: Creating missing table",u),xu(c,u,a[u].primKey,a[u].indexes))})}function Os(a,c){a.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Es(a,c,u){var f={};return W(c.objectStoreNames,0).forEach(function(m){for(var g=u.objectStore(m),v=gu(Qm(C=g.keyPath),C||"",!0,!1,!!g.autoIncrement,C&&typeof C!="string",!0),b=[],x=0;x<g.indexNames.length;++x){var D=g.index(g.indexNames[x]),C=D.keyPath,D=gu(D.name,C,!!D.unique,!!D.multiEntry,!1,C&&typeof C!="string",!1);b.push(D)}f[m]=vu(m,v,b)}),f}function Ds(a,c,u){for(var f=u.db.objectStoreNames,m=0;m<f.length;++m){var g=f[m],v=u.objectStore(g);a._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var x=v.indexNames[b],C=v.index(x).keyPath,D=typeof C=="string"?C:"["+W(C).join("+")+"]";!c[g]||(C=c[g].idxByName[D])&&(C.name=x,delete c[g].idxByName[D],c[g].idxByName[x]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Jm(a){return a.split(",").map(function(c,u){var f=(c=c.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return gu(f,m||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),i(m),u===0)})}var ox=(ks.prototype._parseStoresSpec=function(a,c){o(a).forEach(function(u){if(a[u]!==null){var f=Jm(a[u]),m=f.shift();if(m.unique=!0,m.multi)throw new ot.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new ot.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new ot.Schema("Index must have a name and cannot be an empty string")}),c[u]=vu(u,m,f)}})},ks.prototype.stores=function(u){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,u):u;var u=c._versions,f={},m={};return u.forEach(function(g){s(f,g._cfg.storesSource),m=g._cfg.dbschema={},g._parseStoresSpec(f,m)}),c._dbSchema=m,yu(c,[c._allTables,c,c.Transaction.prototype]),Rs(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],o(m),m),c._storeNames=o(m),this},ks.prototype.upgrade=function(a){return this._cfg.contentUpgrade=eu(this._cfg.contentUpgrade||At,a),this},ks);function ks(){}function wu(a,c){var u=a._dbNamesDB;return u||(u=a._dbNamesDB=new Xr(ys,{addons:[],indexedDB:a,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Cu(a){return a&&typeof a.databases=="function"}function Su(a){return yn(function(){return et.letThrough=!0,a()})}function Ru(a){return!("from"in a)}var _e=function(a,c){if(!this){var u=new _e;return a&&"d"in a&&s(u,a),u}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?c:a}:{d:0})};function Zi(a,c,u){var f=_t(c,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Ru(a))return s(a,{from:c,to:u,d:1});var m=a.l,f=a.r;if(_t(u,a.from)<0)return m?Zi(m,c,u):a.l={from:c,to:u,d:1,l:null,r:null},ep(a);if(0<_t(c,a.to))return f?Zi(f,c,u):a.r={from:c,to:u,d:1,l:null,r:null},ep(a);_t(c,a.from)<0&&(a.from=c,a.l=null,a.d=f?f.d+1:1),0<_t(u,a.to)&&(a.to=u,a.r=null,a.d=a.l?a.l.d+1:1),u=!a.r,m&&!a.l&&Ji(a,m),f&&u&&Ji(a,f)}}function Ji(a,c){Ru(c)||function u(f,x){var g=x.from,v=x.to,b=x.l,x=x.r;Zi(f,g,v),b&&u(f,b),x&&u(f,x)}(a,c)}function tp(a,c){var u=As(c),f=u.next();if(f.done)return!1;for(var m=f.value,g=As(a),v=g.next(m.from),b=v.value;!f.done&&!v.done;){if(_t(b.from,m.to)<=0&&0<=_t(b.to,m.from))return!0;_t(m.from,b.from)<0?m=(f=u.next(b.from)).value:b=(v=g.next(m.from)).value}return!1}function As(a){var c=Ru(a)?null:{s:0,n:a};return{next:function(u){for(var f=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&_t(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||_t(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function ep(a){var c,u,f=(((c=a.r)===null||c===void 0?void 0:c.d)||0)-(((u=a.l)===null||u===void 0?void 0:u.d)||0),m=1<f?"r":f<-1?"l":"";m&&(c=m=="r"?"l":"r",u=r({},a),f=a[m],a.from=f.from,a.to=f.to,a[m]=f[m],u[m]=f[c],(a[c]=u).d=rp(u)),a.d=rp(a)}function rp(u){var c=u.r,u=u.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function Is(a,c){return o(c).forEach(function(u){a[u]?Ji(a[u],c[u]):a[u]=function f(m){var g,v,b={};for(g in m)p(m,g)&&(v=m[g],b[g]=!v||typeof v!="object"||pe.has(v.constructor)?v:f(v));return b}(c[u])}),a}function Ou(a,c){return a.all||c.all||Object.keys(a).some(function(u){return c[u]&&tp(c[u],a[u])})}h(_e.prototype,((er={add:function(a){return Ji(this,a),this},addKey:function(a){return Zi(this,a,a),this},addKeys:function(a){var c=this;return a.forEach(function(u){return Zi(c,u,u)}),this},hasKey:function(a){var c=As(this).next(a).value;return c&&_t(c.from,a)<=0&&0<=_t(c.to,a)}})[Bi]=function(){return As(this)},er));var io={},Eu={},Du=!1;function Ms(a){Is(Eu,a),Du||(Du=!0,setTimeout(function(){Du=!1,ku(Eu,!(Eu={}))},0))}function ku(a,c){c===void 0&&(c=!1);var u=new Set;if(a.all)for(var f=0,m=Object.values(io);f<m.length;f++)np(v=m[f],a,u,c);else for(var g in a){var v,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(v=io["idb://".concat(g,"/").concat(b)])&&np(v,a,u,c))}u.forEach(function(x){return x()})}function np(a,c,u,f){for(var m=[],g=0,v=Object.entries(a.queries.query);g<v.length;g++){for(var b=v[g],x=b[0],C=[],D=0,_=b[1];D<_.length;D++){var I=_[D];Ou(c,I.obsSet)?I.subscribers.forEach(function(S){return u.add(S)}):f&&C.push(I)}f&&m.push([x,C])}if(f)for(var w=0,E=m;w<E.length;w++){var A=E[w],x=A[0],C=A[1];a.queries.query[x]=C}}function ix(a){var c=a._state,u=a._deps.indexedDB;if(c.isBeingOpened||a.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Kt(c.dbOpenError):a});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,m=Math.round(10*a.verno),g=!1;function v(){if(c.openCanceller!==f)throw new ot.DatabaseClosed("db.open() was cancelled")}function b(){return new Q(function(I,w){if(v(),!u)throw new ot.MissingAPI;var E=a.name,A=c.autoSchema||!m?u.open(E):u.open(E,m);if(!A)throw new ot.MissingAPI;A.onerror=Rr(w),A.onblocked=Ut(a._fireOnBlocked),A.onupgradeneeded=Ut(function(S){var M;D=A.transaction,c.autoSchema&&!a._options.allowEmptyDB?(A.onerror=Gi,D.abort(),A.result.close(),(M=u.deleteDatabase(E)).onsuccess=M.onerror=Ut(function(){w(new ot.NoSuchDatabase("Database ".concat(E," doesnt exist")))})):(D.onerror=Rr(w),S=S.oldVersion>Math.pow(2,62)?0:S.oldVersion,_=S<1,a.idbdb=A.result,g&&nx(a,D),rx(a,S/10,D,w))},w),A.onsuccess=Ut(function(){D=null;var S,M,P,N,B,V=a.idbdb=A.result,G=W(V.objectStoreNames);if(0<G.length)try{var q=V.transaction((N=G).length===1?N[0]:N,"readonly");if(c.autoSchema)M=V,P=q,(S=a).verno=M.version/10,P=S._dbSchema=Es(0,M,P),S._storeNames=W(M.objectStoreNames,0),Rs(S,[S._allTables],o(P),P);else if(Ds(a,a._dbSchema,q),((B=_u(Es(0,(B=a).idbdb,q),B._dbSchema)).add.length||B.change.some(function(H){return H.add.length||H.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),m=V.version+1,g=!0,I(b());Ss(a,q)}catch{}Ho.push(a),V.onversionchange=Ut(function(H){c.vcFired=!0,a.on("versionchange").fire(H)}),V.onclose=Ut(function(H){a.on("close").fire(H)}),_&&(B=a._deps,q=E,V=B.indexedDB,B=B.IDBKeyRange,Cu(V)||q===ys||wu(V,B).put({name:q}).catch(At)),I()},w)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<m)return m=0,b()}return Q.reject(I)})}var x,C=c.dbReadyResolve,D=null,_=!1;return Q.race([f,(typeof navigator>"u"?Q.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function w(){return indexedDB.databases().finally(I)}x=setInterval(w,100),w()}).finally(function(){return clearInterval(x)}):Promise.resolve()).then(b)]).then(function(){return v(),c.onReadyBeingFired=[],Q.resolve(Su(function(){return a.on.ready.fire(a.vip)})).then(function I(){if(0<c.onReadyBeingFired.length){var w=c.onReadyBeingFired.reduce(eu,At);return c.onReadyBeingFired=[],Q.resolve(Su(function(){return w(a.vip)})).then(I)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(I){c.dbOpenError=I;try{D&&D.abort()}catch{}return f===c.openCanceller&&a._close(),Kt(I)}).finally(function(){c.openComplete=!0,C()}).then(function(){var I;return _&&(I={},a.tables.forEach(function(w){w.schema.indexes.forEach(function(E){E.name&&(I["idb://".concat(a.name,"/").concat(w.name,"/").concat(E.name)]=new _e(-1/0,[[[]]]))}),I["idb://".concat(a.name,"/").concat(w.name,"/")]=I["idb://".concat(a.name,"/").concat(w.name,"/:dels")]=new _e(-1/0,[[[]]])}),Cn(Yi).fire(I),ku(I,!0)),a})}function Au(a){function c(g){return a.next(g)}var u=m(c),f=m(function(g){return a.throw(g)});function m(g){return function(x){var b=g(x),x=b.value;return b.done?x:x&&typeof x.then=="function"?x.then(u,f):i(x)?Promise.all(x).then(u,f):u(x)}}return m(c)()}function Ts(a,c,u){for(var f=i(a)?a.slice():[a],m=0;m<u;++m)f.push(c);return f}var ax={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema,m={},g=[];function v(_,I,w){var E=Xi(_),A=m[E]=m[E]||[],S=_==null?0:typeof _=="string"?1:_.length,M=0<I,M=r(r({},w),{name:M?"".concat(E,"(virtual-from:").concat(w.name,")"):w.name,lowLevelIndex:w,isVirtual:M,keyTail:I,keyLength:S,extractKey:bu(_),unique:!M&&w.unique});return A.push(M),M.isPrimaryKey||g.push(M),1<S&&v(S===2?_[0]:_.slice(0,S-1),I+1,w),A.sort(function(P,N){return P.keyTail-N.keyTail}),M}c=v(f.primaryKey.keyPath,0,f.primaryKey),m[":id"]=[c];for(var b=0,x=f.indexes;b<x.length;b++){var C=x[b];v(C.keyPath,0,C)}function D(_){var I,w=_.query.index;return w.isVirtual?r(r({},_),{query:{index:w.lowLevelIndex,range:(I=_.query.range,w=w.keyTail,{type:I.type===1?2:I.type,lower:Ts(I.lower,I.lowerOpen?a.MAX_KEY:a.MIN_KEY,w),lowerOpen:!0,upper:Ts(I.upper,I.upperOpen?a.MIN_KEY:a.MAX_KEY,w),upperOpen:!0})}}):_}return r(r({},u),{schema:r(r({},f),{primaryKey:c,indexes:g,getIndexByKeyPath:function(_){return(_=m[Xi(_)])&&_[0]}}),count:function(_){return u.count(D(_))},query:function(_){return u.query(D(_))},openCursor:function(_){var I=_.query.index,w=I.keyTail,E=I.isVirtual,A=I.keyLength;return E?u.openCursor(D(_)).then(function(M){return M&&S(M)}):u.openCursor(_);function S(M){return Object.create(M,{continue:{value:function(P){P!=null?M.continue(Ts(P,_.reverse?a.MAX_KEY:a.MIN_KEY,w)):_.unique?M.continue(M.key.slice(0,A).concat(_.reverse?a.MIN_KEY:a.MAX_KEY,w)):M.continue()}},continuePrimaryKey:{value:function(P,N){M.continuePrimaryKey(Ts(P,a.MAX_KEY,w),N)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var P=M.key;return A===1?P[0]:P.slice(0,A)}},value:{get:function(){return M.value}}})}}})}})}};function Iu(a,c,u,f){return u=u||{},f=f||"",o(a).forEach(function(m){var g,v,b;p(c,m)?(g=a[m],v=c[m],typeof g=="object"&&typeof v=="object"&&g&&v?(b=mr(g))!==mr(v)?u[f+m]=c[m]:b==="Object"?Iu(g,v,u,f+m+"."):g!==v&&(u[f+m]=c[m]):g!==v&&(u[f+m]=c[m])):u[f+m]=void 0}),o(c).forEach(function(m){p(a,m)||(u[f+m]=c[m])}),u}function Mu(a,c){return c.type==="delete"?c.keys:c.keys||c.values.map(a.extractKey)}var sx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema.primaryKey;return r(r({},u),{mutate:function(m){var g=et.trans,v=g.table(c).hook,b=v.deleting,x=v.creating,C=v.updating;switch(m.type){case"add":if(x.fire===At)break;return g._promise("readwrite",function(){return D(m)},!0);case"put":if(x.fire===At&&C.fire===At)break;return g._promise("readwrite",function(){return D(m)},!0);case"delete":if(b.fire===At)break;return g._promise("readwrite",function(){return D(m)},!0);case"deleteRange":if(b.fire===At)break;return g._promise("readwrite",function(){return function _(I,w,E){return u.query({trans:I,values:!1,query:{index:f,range:w},limit:E}).then(function(A){var S=A.result;return D({type:"delete",keys:S,trans:I}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):S.length<E?{failures:[],numFailures:0,lastResult:void 0}:_(I,r(r({},w),{lower:S[S.length-1],lowerOpen:!0}),E)})})}(m.trans,m.range,1e4)},!0)}return u.mutate(m);function D(_){var I,w,E,A=et.trans,S=_.keys||Mu(f,_);if(!S)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?r(r({},_),{keys:S}):r({},_)).type!=="delete"&&(_.values=e([],_.values,!0)),_.keys&&(_.keys=e([],_.keys,!0)),I=u,E=S,((w=_).type==="add"?Promise.resolve([]):I.getMany({trans:w.trans,keys:E,cache:"immutable"})).then(function(M){var P=S.map(function(N,B){var V,G,q,H=M[B],Y={onerror:null,onsuccess:null};return _.type==="delete"?b.fire.call(Y,N,H,A):_.type==="add"||H===void 0?(V=x.fire.call(Y,N,_.values[B],A),N==null&&V!=null&&(_.keys[B]=N=V,f.outbound||st(_.values[B],f.keyPath,N))):(V=Iu(H,_.values[B]),(G=C.fire.call(Y,V,N,H,A))&&(q=_.values[B],Object.keys(G).forEach(function(K){p(q,K)?q[K]=G[K]:st(q,K,G[K])}))),Y});return u.mutate(_).then(function(N){for(var B=N.failures,V=N.results,G=N.numFailures,N=N.lastResult,q=0;q<S.length;++q){var H=(V||S)[q],Y=P[q];H==null?Y.onerror&&Y.onerror(B[q]):Y.onsuccess&&Y.onsuccess(_.type==="put"&&M[q]?_.values[q]:H)}return{failures:B,results:V,numFailures:G,lastResult:N}}).catch(function(N){return P.forEach(function(B){return B.onerror&&B.onerror(N)}),Promise.reject(N)})})}}})}})}};function op(a,c,u){try{if(!c||c.keys.length<a.length)return null;for(var f=[],m=0,g=0;m<c.keys.length&&g<a.length;++m)_t(c.keys[m],a[g])===0&&(f.push(u?fr(c.values[m]):c.values[m]),++g);return f.length===a.length?f:null}catch{return null}}var cx={stack:"dbcore",level:-1,create:function(a){return{table:function(c){var u=a.table(c);return r(r({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var m=op(f.keys,f.trans._cache,f.cache==="clone");return m?Q.resolve(m):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?fr(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function ip(a,c){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function ap(a,c){switch(a){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var lx={stack:"dbcore",level:0,name:"Observability",create:function(a){var c=a.schema.name,u=new _e(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(f,m,g){if(et.subscr&&m!=="readonly")throw new ot.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return a.transaction(f,m,g)},table:function(f){var m=a.table(f),g=m.schema,v=g.primaryKey,_=g.indexes,b=v.extractKey,x=v.outbound,C=v.autoIncrement&&_.filter(function(w){return w.compound&&w.keyPath.includes(v.keyPath)}),D=r(r({},m),{mutate:function(w){function E(K){return K="idb://".concat(c,"/").concat(f,"/").concat(K),N[K]||(N[K]=new _e)}var A,S,M,P=w.trans,N=w.mutatedParts||(w.mutatedParts={}),B=E(""),V=E(":dels"),G=w.type,Y=w.type==="deleteRange"?[w.range]:w.type==="delete"?[w.keys]:w.values.length<50?[Mu(v,w).filter(function(K){return K}),w.values]:[],q=Y[0],H=Y[1],Y=w.trans._cache;return i(q)?(B.addKeys(q),(Y=G==="delete"||q.length===H.length?op(q,Y):null)||V.addKeys(q),(Y||H)&&(A=E,S=Y,M=H,g.indexes.forEach(function(K){var Z=A(K.name||"");function ht(bt){return bt!=null?K.extractKey(bt):null}function vt(bt){return K.multiEntry&&i(bt)?bt.forEach(function(Ve){return Z.addKey(Ve)}):Z.addKey(bt)}(S||M).forEach(function(bt,xe){var mt=S&&ht(S[xe]),xe=M&&ht(M[xe]);_t(mt,xe)!==0&&(mt!=null&&vt(mt),xe!=null&&vt(xe))})}))):q?(H={from:(H=q.lower)!==null&&H!==void 0?H:a.MIN_KEY,to:(H=q.upper)!==null&&H!==void 0?H:a.MAX_KEY},V.add(H),B.add(H)):(B.add(u),V.add(u),g.indexes.forEach(function(K){return E(K.name).add(u)})),m.mutate(w).then(function(K){return!q||w.type!=="add"&&w.type!=="put"||(B.addKeys(K.results),C&&C.forEach(function(Z){for(var ht=w.values.map(function(mt){return Z.extractKey(mt)}),vt=Z.keyPath.findIndex(function(mt){return mt===v.keyPath}),bt=0,Ve=K.results.length;bt<Ve;++bt)ht[bt][vt]=K.results[bt];E(Z.name).addKeys(ht)})),P.mutatedParts=Is(P.mutatedParts||{},N),K})}}),_=function(E){var A=E.query,E=A.index,A=A.range;return[E,new _e((E=A.lower)!==null&&E!==void 0?E:a.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:a.MAX_KEY)]},I={get:function(w){return[v,new _e(w.key)]},getMany:function(w){return[v,new _e().addKeys(w.keys)]},count:_,query:_,openCursor:_};return o(I).forEach(function(w){D[w]=function(E){var A=et.subscr,S=!!A,M=ip(et,m)&&ap(w,E)?E.obsSet={}:A;if(S){var P=function(H){return H="idb://".concat(c,"/").concat(f,"/").concat(H),M[H]||(M[H]=new _e)},N=P(""),B=P(":dels"),A=I[w](E),S=A[0],A=A[1];if((w==="query"&&S.isPrimaryKey&&!E.values?B:P(S.name||"")).add(A),!S.isPrimaryKey){if(w!=="count"){var V=w==="query"&&x&&E.values&&m.query(r(r({},E),{values:!1}));return m[w].apply(this,arguments).then(function(H){if(w==="query"){if(x&&E.values)return V.then(function(ht){return ht=ht.result,N.addKeys(ht),H});var Y=E.values?H.result.map(b):H.result;(E.values?N:B).addKeys(Y)}else if(w==="openCursor"){var K=H,Z=E.values;return K&&Object.create(K,{key:{get:function(){return B.addKey(K.primaryKey),K.key}},primaryKey:{get:function(){var ht=K.primaryKey;return B.addKey(ht),ht}},value:{get:function(){return Z&&N.addKey(K.primaryKey),K.value}}})}return H})}B.add(u)}}return m[w].apply(this,arguments)}}),D}})}};function sp(a,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return u.numFailures===f?null:(c=r({},c),i(c.keys)&&(c.keys=c.keys.filter(function(m,g){return!(g in u.failures)})),"values"in c&&i(c.values)&&(c.values=c.values.filter(function(m,g){return!(g in u.failures)})),c)}function Tu(a,c){return u=a,((f=c).lower===void 0||(f.lowerOpen?0<_t(u,f.lower):0<=_t(u,f.lower)))&&(a=a,(c=c).upper===void 0||(c.upperOpen?_t(a,c.upper)<0:_t(a,c.upper)<=0));var u,f}function cp(a,c,I,f,m,g){if(!I||I.length===0)return a;var v=c.query.index,b=v.multiEntry,x=c.query.range,C=f.schema.primaryKey.extractKey,D=v.extractKey,_=(v.lowLevelIndex||v).extractKey,I=I.reduce(function(w,E){var A=w,S=[];if(E.type==="add"||E.type==="put")for(var M=new _e,P=E.values.length-1;0<=P;--P){var N,B=E.values[P],V=C(B);M.hasKey(V)||(N=D(B),(b&&i(N)?N.some(function(K){return Tu(K,x)}):Tu(N,x))&&(M.addKey(V),S.push(B)))}switch(E.type){case"add":var G=new _e().addKeys(c.values?w.map(function(Z){return C(Z)}):w),A=w.concat(c.values?S.filter(function(Z){return Z=C(Z),!G.hasKey(Z)&&(G.addKey(Z),!0)}):S.map(function(Z){return C(Z)}).filter(function(Z){return!G.hasKey(Z)&&(G.addKey(Z),!0)}));break;case"put":var q=new _e().addKeys(E.values.map(function(Z){return C(Z)}));A=w.filter(function(Z){return!q.hasKey(c.values?C(Z):Z)}).concat(c.values?S:S.map(function(Z){return C(Z)}));break;case"delete":var H=new _e().addKeys(E.keys);A=w.filter(function(Z){return!H.hasKey(c.values?C(Z):Z)});break;case"deleteRange":var Y=E.range;A=w.filter(function(Z){return!Tu(C(Z),Y)})}return A},a);return I===a?a:(I.sort(function(w,E){return _t(_(w),_(E))||_t(C(w),C(E))}),c.limit&&c.limit<1/0&&(I.length>c.limit?I.length=c.limit:a.length===c.limit&&I.length<c.limit&&(m.dirty=!0)),g?Object.freeze(I):I)}function lp(a,c){return _t(a.lower,c.lower)===0&&_t(a.upper,c.upper)===0&&!!a.lowerOpen==!!c.lowerOpen&&!!a.upperOpen==!!c.upperOpen}function ux(a,c){return function(u,f,m,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=_t(u,f))===0){if(m&&g)return 0;if(m)return 1;if(g)return-1}return f}(a.lower,c.lower,a.lowerOpen,c.lowerOpen)<=0&&0<=function(u,f,m,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=_t(u,f))===0){if(m&&g)return 0;if(m)return-1;if(g)return 1}return f}(a.upper,c.upper,a.upperOpen,c.upperOpen)}function dx(a,c,u,f){a.subscribers.add(u),f.addEventListener("abort",function(){var m,g;a.subscribers.delete(u),a.subscribers.size===0&&(m=a,g=c,setTimeout(function(){m.subscribers.size===0&&Gr(g,m)},3e3))})}var fx={stack:"dbcore",level:0,name:"Cache",create:function(a){var c=a.schema.name;return r(r({},a),{transaction:function(u,f,m){var g,v,b=a.transaction(u,f,m);return f==="readwrite"&&(v=(g=new AbortController).signal,m=function(x){return function(){if(g.abort(),f==="readwrite"){for(var C=new Set,D=0,_=u;D<_.length;D++){var I=_[D],w=io["idb://".concat(c,"/").concat(I)];if(w){var E=a.table(I),A=w.optimisticOps.filter(function(Z){return Z.trans===b});if(b._explicit&&x&&b.mutatedParts)for(var S=0,M=Object.values(w.queries.query);S<M.length;S++)for(var P=0,N=(G=M[S]).slice();P<N.length;P++)Ou((q=N[P]).obsSet,b.mutatedParts)&&(Gr(G,q),q.subscribers.forEach(function(Z){return C.add(Z)}));else if(0<A.length){w.optimisticOps=w.optimisticOps.filter(function(Z){return Z.trans!==b});for(var B=0,V=Object.values(w.queries.query);B<V.length;B++)for(var G,q,H,Y=0,K=(G=V[B]).slice();Y<K.length;Y++)(q=K[Y]).res!=null&&b.mutatedParts&&(x&&!q.dirty?(H=Object.isFrozen(q.res),H=cp(q.res,q.req,A,E,q,H),q.dirty?(Gr(G,q),q.subscribers.forEach(function(Z){return C.add(Z)})):H!==q.res&&(q.res=H,q.promise=Q.resolve({result:H}))):(q.dirty&&Gr(G,q),q.subscribers.forEach(function(Z){return C.add(Z)})))}}}C.forEach(function(Z){return Z()})}}},b.addEventListener("abort",m(!1),{signal:v}),b.addEventListener("error",m(!1),{signal:v}),b.addEventListener("complete",m(!0),{signal:v})),b},table:function(u){var f=a.table(u),m=f.schema.primaryKey;return r(r({},f),{mutate:function(g){var v=et.trans;if(m.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(g);var b=io["idb://".concat(c,"/").concat(u)];return b?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Mu(m,g).some(function(x){return x==null}))?(b.optimisticOps.push(g),g.mutatedParts&&Ms(g.mutatedParts),v.then(function(x){0<x.numFailures&&(Gr(b.optimisticOps,g),(x=sp(0,g,x))&&b.optimisticOps.push(x),g.mutatedParts&&Ms(g.mutatedParts))}),v.catch(function(){Gr(b.optimisticOps,g),g.mutatedParts&&Ms(g.mutatedParts)})):v.then(function(x){var C=sp(0,r(r({},g),{values:g.values.map(function(D,_){var I;return x.failures[_]?D:(D=(I=m.keyPath)!==null&&I!==void 0&&I.includes(".")?fr(D):r({},D),st(D,m.keyPath,x.results[_]),D)})}),x);b.optimisticOps.push(C),queueMicrotask(function(){return g.mutatedParts&&Ms(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!ip(et,f)||!ap("query",g))return f.query(g);var v=((C=et.trans)===null||C===void 0?void 0:C.db._options.cache)==="immutable",_=et,b=_.requery,x=_.signal,C=function(E,A,S,M){var P=io["idb://".concat(E,"/").concat(A)];if(!P)return[];if(!(A=P.queries[S]))return[null,!1,P,null];var N=A[(M.query?M.query.index.name:null)||""];if(!N)return[null,!1,P,null];switch(S){case"query":var B=N.find(function(V){return V.req.limit===M.limit&&V.req.values===M.values&&lp(V.req.query.range,M.query.range)});return B?[B,!0,P,N]:[N.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=M.limit&&(!M.values||V.req.values)&&ux(V.req.query.range,M.query.range)}),!1,P,N];case"count":return B=N.find(function(V){return lp(V.req.query.range,M.query.range)}),[B,!!B,P,N]}}(c,u,"query",g),D=C[0],_=C[1],I=C[2],w=C[3];return D&&_?D.obsSet=g.obsSet:(_=f.query(g).then(function(E){var A=E.result;if(D&&(D.res=A),v){for(var S=0,M=A.length;S<M;++S)Object.freeze(A[S]);Object.freeze(A)}else E.result=fr(A);return E}).catch(function(E){return w&&D&&Gr(w,D),Promise.reject(E)}),D={obsSet:g.obsSet,promise:_,subscribers:new Set,type:"query",req:g,dirty:!1},w?w.push(D):(w=[D],(I=I||(io["idb://".concat(c,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=w)),dx(D,w,b,x),D.promise.then(function(E){return{result:cp(E.result,g,I?.optimisticOps,f,D,v)}})}})}})}};function Ps(a,c){return new Proxy(a,{get:function(u,f,m){return f==="db"?c:Reflect.get(u,f,m)}})}var Xr=(Gt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new ot.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new ot.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var c=this._versions,u=c.filter(function(f){return f._cfg.version===a})[0];return u||(u=new this.Version(a),c.push(u),c.sort(ex),u.stores({}),this._state.autoSchema=!1,u)},Gt.prototype._whenReady=function(a){var c=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?a():new Q(function(u,f){if(c._state.openComplete)return f(new ot.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void f(new ot.DatabaseClosed);c.open().catch(At)}c._state.dbReadyPromise.then(u,f)}).then(a)},Gt.prototype.use=function(a){var c=a.stack,u=a.create,f=a.level,m=a.name;return m&&this.unuse({stack:c,name:m}),a=this._middlewares[c]||(this._middlewares[c]=[]),a.push({stack:c,create:u,level:f??10,name:m}),a.sort(function(g,v){return g.level-v.level}),this},Gt.prototype.unuse=function(a){var c=a.stack,u=a.name,f=a.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(m){return f?m.create!==f:!!u&&m.name!==u})),this},Gt.prototype.open=function(){var a=this;return ro(bn,function(){return ix(a)})},Gt.prototype._close=function(){var a=this._state,c=Ho.indexOf(this);if(0<=c&&Ho.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new Q(function(u){a.dbReadyResolve=u}),a.openCanceller=new Q(function(u,f){a.cancelOpen=f}))},Gt.prototype.close=function(u){var c=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;c?(u.isBeingOpened&&u.cancelOpen(new ot.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new ot.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Gt.prototype.delete=function(a){var c=this;a===void 0&&(a={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new Q(function(m,g){function v(){c.close(a);var b=c._deps.indexedDB.deleteDatabase(c.name);b.onsuccess=Ut(function(){var x,C,D;x=c._deps,C=c.name,D=x.indexedDB,x=x.IDBKeyRange,Cu(D)||C===ys||wu(D,x).delete(C).catch(At),m()}),b.onerror=Rr(g),b.onblocked=c._fireOnBlocked}if(u)throw new ot.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},Gt.prototype.backendDB=function(){return this.idbdb},Gt.prototype.isOpen=function(){return this.idbdb!==null},Gt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Gt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Gt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Gt.prototype,"tables",{get:function(){var a=this;return o(this._allTables).map(function(c){return a._allTables[c]})},enumerable:!1,configurable:!0}),Gt.prototype.transaction=function(){var a=function(c,u,f){var m=arguments.length;if(m<2)throw new ot.InvalidArgument("Too few arguments");for(var g=new Array(m-1);--m;)g[m-1]=arguments[m];return f=g.pop(),[c,Bt(g),f]}.apply(this,arguments);return this._transaction.apply(this,a)},Gt.prototype._transaction=function(a,c,u){var f=this,m=et.trans;m&&m.db===this&&a.indexOf("!")===-1||(m=null);var g,v,b=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(v=c.map(function(C){if(C=C instanceof f.Table?C.name:C,typeof C!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return C}),a=="r"||a===uu)g=uu;else{if(a!="rw"&&a!=du)throw new ot.InvalidArgument("Invalid transaction mode: "+a);g=du}if(m){if(m.mode===uu&&g===du){if(!b)throw new ot.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&v.forEach(function(C){if(m&&m.storeNames.indexOf(C)===-1){if(!b)throw new ot.SubTransaction("Table "+C+" not included in parent transaction.");m=null}}),b&&m&&!m.active&&(m=null)}}catch(C){return m?m._promise(null,function(D,_){_(C)}):Kt(C)}var x=function C(D,_,I,w,E){return Q.resolve().then(function(){var A=et.transless||et,S=D._createTransaction(_,I,D._dbSchema,w);if(S.explicit=!0,A={trans:S,transless:A},w)S.idbtrans=w.idbtrans;else try{S.create(),S.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(N){return N.name===vn.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return C(D,_,I,null,E)})):Kt(N)}var M,P=gn(E);return P&&qo(),A=Q.follow(function(){var N;(M=E.call(S,S))&&(P?(N=_n.bind(null,null),M.then(N,N)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Au(M)))},A),(M&&typeof M.then=="function"?Q.resolve(M).then(function(N){return S.active?N:Kt(new ot.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return M})).then(function(N){return w&&S._resolve(),S._completion.then(function(){return N})}).catch(function(N){return S._reject(N),Kt(N)})})}.bind(null,this,g,v,m,u);return m?m._promise(g,x,"lock"):et.trans?ro(et.transless,function(){return f._whenReady(x)}):this._whenReady(x)},Gt.prototype.table=function(a){if(!p(this._allTables,a))throw new ot.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Gt);function Gt(a,c){var u=this;this._middlewares={},this.verno=0;var f=Gt.dependencies;this._options=c=r({addons:Gt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},f=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,g,v,b,x,C={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};C.dbReadyPromise=new Q(function(_){C.dbReadyResolve=_}),C.openCanceller=new Q(function(_,I){C.cancelOpen=I}),this._state=C,this.name=a,this.on=Hi(this,"populate","blocked","versionchange","close",{ready:[eu,At]}),this.on.ready.subscribe=J(this.on.ready.subscribe,function(_){return function(I,w){Gt.vip(function(){var E,A=u._state;A.openComplete?(A.dbOpenError||Q.resolve().then(I),w&&_(I)):A.onReadyBeingFired?(A.onReadyBeingFired.push(I),w&&_(I)):(_(I),E=u,w||_(function S(){E.on.ready.unsubscribe(I),E.on.ready.unsubscribe(S)}))})}}),this.Collection=(m=this,Wi(G_.prototype,function(M,S){this.db=m;var w=jm,E=null;if(S)try{w=S()}catch(P){E=P}var A=M._ctx,S=A.table,M=S.hook.reading.fire;this._ctx={table:S,index:A.index,isPrimKey:!A.index||S.schema.primKey.keyPath&&A.index===S.schema.primKey.name,range:w,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:E,or:A.or,valueMapper:M!==ji?M:null}})),this.Table=(g=this,Wi(qm.prototype,function(_,I,w){this.db=g,this._tx=w,this.name=_,this.schema=I,this.hook=g._allTables[_]?g._allTables[_].hook:Hi(null,{creating:[$_,At],reading:[B_,ji],updating:[U_,At],deleting:[j_,At]})})),this.Transaction=(v=this,Wi(X_.prototype,function(_,I,w,E,A){var S=this;this.db=v,this.mode=_,this.storeNames=I,this.schema=w,this.chromeTransactionDurability=E,this.idbtrans=null,this.on=Hi(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Q(function(M,P){S._resolve=M,S._reject=P}),this._completion.then(function(){S.active=!1,S.on.complete.fire()},function(M){var P=S.active;return S.active=!1,S.on.error.fire(M),S.parent?S.parent._reject(M):P&&S.idbtrans&&S.idbtrans.abort(),Kt(M)})})),this.Version=(b=this,Wi(ox.prototype,function(_){this.db=b,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,Wi(Ym.prototype,function(_,I,w){if(this.db=x,this._ctx={table:_,index:I===":id"?null:I,or:w},this._cmp=this._ascending=_t,this._descending=function(E,A){return _t(A,E)},this._max=function(E,A){return 0<_t(E,A)?E:A},this._min=function(E,A){return _t(E,A)<0?E:A},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new ot.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=Qi(c.IDBKeyRange),this._createTransaction=function(_,I,w,E){return new u.Transaction(_,I,w,u._options.chromeTransactionDurability,E)},this._fireOnBlocked=function(_){u.on("blocked").fire(_),Ho.filter(function(I){return I.name===u.name&&I!==u&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(_)})},this.use(cx),this.use(fx),this.use(lx),this.use(ax),this.use(sx);var D=new Proxy(this,{get:function(_,I,w){if(I==="_vip")return!0;if(I==="table")return function(A){return Ps(u.table(A),D)};var E=Reflect.get(_,I,w);return E instanceof qm?Ps(E,D):I==="tables"?E.map(function(A){return Ps(A,D)}):I==="_createTransaction"?function(){return Ps(E.apply(this,arguments),D)}:E}});this.vip=D,f.forEach(function(_){return _(u)})}var Ns,er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",mx=(Pu.prototype.subscribe=function(a,c,u){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:c,complete:u})},Pu.prototype[er]=function(){return this},Pu);function Pu(a){this._subscribe=a}try{Ns={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch{Ns={indexedDB:null,IDBKeyRange:null}}function up(a){var c,u=!1,f=new mx(function(m){var g=gn(a),v,b=!1,x={},C={},D={get closed(){return b},unsubscribe:function(){b||(b=!0,v&&v.abort(),_&&Cn.storagemutated.unsubscribe(w))}};m.start&&m.start(D);var _=!1,I=function(){return lu(E)},w=function(A){Is(x,A),Ou(C,x)&&I()},E=function(){var A,S,M;!b&&Ns.indexedDB&&(x={},A={},v&&v.abort(),v=new AbortController,M=function(P){var N=zo();try{g&&qo();var B=yn(a,P);return B=g?B.finally(_n):B}finally{N&&Vo()}}(S={subscr:A,signal:v.signal,requery:I,querier:a,trans:null}),Promise.resolve(M).then(function(P){u=!0,c=P,b||S.signal.aborted||(x={},function(N){for(var B in N)if(p(N,B))return;return 1}(C=A)||_||(Cn(Yi,w),_=!0),lu(function(){return!b&&m.next&&m.next(P)}))},function(P){u=!1,["DatabaseClosedError","AbortError"].includes(P?.name)||b||lu(function(){b||m.error&&m.error(P)})}))};return setTimeout(I,0),D});return f.hasValue=function(){return u},f.getValue=function(){return c},f}var ao=Xr;function Nu(a){var c=Sn;try{Sn=!0,Cn.storagemutated.fire(a),ku(a,!0)}finally{Sn=c}}h(ao,r(r({},us),{delete:function(a){return new ao(a,{addons:[]}).delete()},exists:function(a){return new ao(a,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return c=ao.dependencies,u=c.indexedDB,c=c.IDBKeyRange,(Cu(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(m){return m.name}).filter(function(m){return m!==ys})}):wu(u,c).toCollection().primaryKeys()).then(a)}catch{return Kt(new ot.MissingAPI)}var c,u},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return et.trans?ro(et.transless,a):a()},vip:Su,async:function(a){return function(){try{var c=Au(a.apply(this,arguments));return c&&typeof c.then=="function"?c:Q.resolve(c)}catch(u){return Kt(u)}}},spawn:function(a,c,u){try{var f=Au(a.apply(u,c||[]));return f&&typeof f.then=="function"?f:Q.resolve(f)}catch(m){return Kt(m)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(a,c){return c=Q.resolve(typeof a=="function"?ao.ignoreTransaction(a):a).timeout(c||6e4),et.trans?et.trans.waitFor(c):c},Promise:Q,debug:{get:function(){return Sr},set:function(a){Tm(a)}},derive:k,extend:s,props:h,override:J,Events:Hi,on:Cn,liveQuery:up,extendObservabilitySet:Is,getByKeyPath:kt,setByKeyPath:st,delByKeyPath:function(a,c){typeof c=="string"?st(a,c,void 0):"length"in c&&[].map.call(c,function(u){st(a,u,void 0)})},shallowClone:Mt,deepClone:fr,getObjectDiff:Iu,cmp:_t,asap:tt,minKey:-1/0,addons:[],connections:Ho,errnames:vn,dependencies:Ns,cache:io,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,c,u){return a+c/Math.pow(10,2*u)})})),ao.maxKey=Qi(ao.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Cn(Yi,function(a){Sn||(a=new CustomEvent(hu,{detail:a}),Sn=!0,dispatchEvent(a),Sn=!1)}),addEventListener(hu,function(a){a=a.detail,Sn||Nu(a)}));var Go,Sn=!1,dp=function(){};return typeof BroadcastChannel<"u"&&((dp=function(){(Go=new BroadcastChannel(hu)).onmessage=function(a){return a.data&&Nu(a.data)}})(),typeof Go.unref=="function"&&Go.unref(),Cn(Yi,function(a){Sn||Go.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Xr.disableBfCache&&a.persisted){Sr&&console.debug("Dexie: handling persisted pagehide"),Go?.close();for(var c=0,u=Ho;c<u.length;c++)u[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Xr.disableBfCache&&a.persisted&&(Sr&&console.debug("Dexie: handling persisted pageshow"),dp(),Nu({all:new _e(-1/0,[[]])}))})),Q.rejectionMapper=function(a,c){return!a||a instanceof pr||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Mm[a.name]?a:(c=new Mm[a.name](c||a.message,a),"stack"in a&&O(c,"stack",{get:function(){return this.inner.stack}}),c)},Tm(Sr),r(Xr,Object.freeze({__proto__:null,Dexie:Xr,liveQuery:up,Entity:Um,cmp:_t,PropModSymbol:Qr,PropModification:Ki,replacePrefix:function(a,c){return new Ki({replacePrefix:[a,c]})},add:function(a){return new Ki({add:a})},remove:function(a){return new Ki({remove:a})},default:Xr,RangeSet:_e,mergeRanges:Ji,rangesOverlap:tp}),{default:Xr}),Xr})});var ni=class{_attachedHost;attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},Pr=class extends ni{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(r,e,n,o,i){super(),this.component=r,this.viewContainerRef=e,this.injector=n,this.projectableNodes=i}},vr=class extends ni{templateRef;viewContainerRef;context;injector;constructor(r,e,n,o){super(),this.templateRef=r,this.viewContainerRef=e,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}},Ws=class extends ni{element;constructor(r){super(),this.element=r instanceof Qt?r.nativeElement:r}},an=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(r){if(r instanceof Pr)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof vr)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof Ws)return this._attachedPortal=r,this.attachDomPortal(r)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var la=class extends an{outletElement;_appRef;_defaultInjector;_document;constructor(r,e,n,o,i){super(),this.outletElement=r,this._appRef=n,this._defaultInjector=o,this._document=i}attachComponentPortal(r){let e;if(r.viewContainerRef){let n=r.injector||r.viewContainerRef.injector,o=n.get(qu,null,{optional:!0})||void 0;e=r.viewContainerRef.createComponent(r.component,{index:r.viewContainerRef.length,injector:n,ngModuleRef:o,projectableNodes:r.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,o=r.injector||this._defaultInjector||qt.NULL,i=o.get(Dr,n.injector);e=qp(r.component,{elementInjector:o,environmentInjector:i,projectableNodes:r.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=r,e}attachTemplatePortal(r){let e=r.viewContainerRef,n=e.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(n);o!==-1&&e.remove(o)}),this._attachedPortal=r,n}attachDomPortal=r=>{let e=r.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=r,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}};var vx=(()=>{class t extends vr{constructor(){let e=R(tn),n=R(En);super(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[le]})}return t})();var sn=(()=>{class t extends an{_moduleRef=R(qu,{optional:!0});_document=R(ue);_viewContainerRef=R(En);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ge;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(o,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(n,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[le]})}return t})();var Nr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({})}return t})();var br=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(br||{}),Ks,_o;function Gs(){if(_o==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _o=!1,_o;if("scrollBehavior"in document.documentElement.style)_o=!0;else{let t=Element.prototype.scrollTo;t?_o=!/\{\s*\[native code\]\s*\}/.test(t.toString()):_o=!1}}return _o}function oi(){if(typeof document!="object"||!document)return br.NORMAL;if(Ks==null){let t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),Ks=br.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Ks=t.scrollLeft===0?br.NEGATED:br.INVERTED),t.remove()}return Ks}function Ju(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ii,ch=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function SE(){if(ii)return ii;if(typeof document!="object"||!document)return ii=new Set(ch),ii;let t=document.createElement("input");return ii=new Set(ch.filter(r=>(t.setAttribute("type",r),t.type===r))),ii}function bx(t){return t!=null&&`${t}`!="false"}function Jt(t){return t==null?"":typeof t=="string"?t:`${t}px`}var ir=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(ir||{}),td=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ir.HIDDEN;constructor(r,e,n,o=!1){this._renderer=r,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=o}fadeOut(){this._renderer.fadeOutRipple(this)}},lh=qs({passive:!0,capture:!0}),ed=class{_events=new Map;addHandler(r,e,n,o){let i=this._events.get(e);if(i){let s=i.get(n);s?s.add(o):i.set(n,new Set([o]))}else this._events.set(e,new Map([[n,new Set([o])]])),r.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,lh)})}removeHandler(r,e,n){let o=this._events.get(r);if(!o)return;let i=o.get(e);i&&(i.delete(n),i.size===0&&o.delete(e),o.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,lh)))}_delegateEventHandler=r=>{let e=nn(r);e&&this._events.get(r.type)?.forEach((n,o)=>{(o===e||o.contains(e))&&n.forEach(i=>i.handleEvent(r))})}},ua={enterDuration:225,exitDuration:150},yx=800,uh=qs({passive:!0,capture:!0}),dh=["mousedown","touchstart"],fh=["mouseup","mouseleave","touchend","touchcancel"],_x=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return t})(),da=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new ed;constructor(r,e,n,o,i){this._target=r,this._ngZone=e,this._platform=o,o.isBrowser&&(this._containerElement=ri(n)),i&&i.get(kn).load(_x)}fadeInRipple(r,e,n={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=j(j({},ua),n.animation);n.centered&&(r=o.left+o.width/2,e=o.top+o.height/2);let s=n.radius||xx(r,e,o),l=r-o.left,d=e-o.top,p=i.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${l-s}px`,h.style.top=`${d-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,n.color!=null&&(h.style.backgroundColor=n.color),h.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(h);let y=window.getComputedStyle(h),O=y.transitionProperty,k=y.transitionDuration,T=O==="none"||k==="0s"||k==="0s, 0s"||o.width===0&&o.height===0,$=new td(this,h,n,T);h.style.transform="scale3d(1, 1, 1)",$.state=ir.FADING_IN,n.persistent||(this._mostRecentTransientRipple=$);let W=null;return!T&&(p||i.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let J=()=>{W&&(W.fallbackTimer=null),clearTimeout(tt),this._finishRippleTransition($)},rt=()=>this._destroyRipple($),tt=setTimeout(rt,p+100);h.addEventListener("transitionend",J),h.addEventListener("transitioncancel",rt),W={onTransitionEnd:J,onTransitionCancel:rt,fallbackTimer:tt}}),this._activeRipples.set($,W),(T||!p)&&this._finishRippleTransition($),$}fadeOutRipple(r){if(r.state===ir.FADING_OUT||r.state===ir.HIDDEN)return;let e=r.element,n=j(j({},ua),r.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",r.state=ir.FADING_OUT,(r._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let e=ri(r);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,dh.forEach(n=>{t._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fh.forEach(e=>{this._triggerElement.addEventListener(e,this,uh)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===ir.FADING_IN?this._startFadeOutTransition(r):r.state===ir.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let e=r===this._mostRecentTransientRipple,{persistent:n}=r.config;r.state=ir.VISIBLE,!n&&(!e||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let e=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=ir.HIDDEN,e!==null&&(r.element.removeEventListener("transitionend",e.onTransitionEnd),r.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),r.element.remove()}_onMousedown(r){let e=th(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+yx;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!eh(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=r.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let e=r.state===ir.VISIBLE||r.config.terminateOnPointerUp&&r.state===ir.FADING_IN;!r.config.persistent&&e&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(dh.forEach(e=>t._eventManager.removeHandler(e,r,this)),this._pointerUpEventsRegistered&&(fh.forEach(e=>r.removeEventListener(e,this,uh)),this._pointerUpEventsRegistered=!1))}};function xx(t,r,e){let n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),o=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(n*n+o*o)}var rd=new lt("mat-ripple-global-options"),WE=(()=>{class t{_elementRef=R(Qt);_animationMode=R(nr,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=R(zt),n=R(Oe),o=R(rd,{optional:!0}),i=R(qt);this._globalOptions=o||{},this._rippleRenderer=new da(this,e,this._elementRef,n,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,j(j({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,o){n&2&&ke("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var wx={capture:!0},Cx=["focus","mousedown","mouseenter","touchstart"],nd="mat-ripple-loader-uninitialized",od="mat-ripple-loader-class-name",mh="mat-ripple-loader-centered",Ys="mat-ripple-loader-disabled",ph=(()=>{class t{_document=R(ue);_animationMode=R(nr,{optional:!0});_globalRippleOptions=R(rd,{optional:!0});_platform=R(Oe);_ngZone=R(zt);_injector=R(qt);_eventCleanups;_hosts=new Map;constructor(){let e=R(en).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Cx.map(n=>Dn(e,this._document,n,this._onInteraction,wx)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(nd,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(od))&&e.setAttribute(od,n.className||""),n.centered&&e.setAttribute(mh,""),n.disabled&&e.setAttribute(Ys,"")}setDisabled(e,n){let o=this._hosts.get(e);o?(o.target.rippleDisabled=n,!n&&!o.hasSetUpEvents&&(o.hasSetUpEvents=!0,o.renderer.setupTriggerEvents(e))):n?e.setAttribute(Ys,""):e.removeAttribute(Ys)}_onInteraction=e=>{let n=nn(e);if(n instanceof HTMLElement){let o=n.closest(`[${nd}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(od)),e.append(n);let o=this._animationMode==="NoopAnimations",i=this._globalRippleOptions,s=o?0:i?.animation?.enterDuration??ua.enterDuration,l=o?0:i?.animation?.exitDuration??ua.exitDuration,d={rippleDisabled:o||i?.disabled||e.hasAttribute(Ys),rippleConfig:{centered:e.hasAttribute(mh),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:l}}},p=new da(d,this._ngZone,n,this._platform,this._injector),h=!d.rippleDisabled;h&&p.setupTriggerEvents(e),this._hosts.set(e,{target:d,renderer:p,hasSetUpEvents:h}),e.removeAttribute(nd)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hh=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,o){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return t})();var Sx=["mat-icon-button",""],Rx=["*"];var gh=new lt("MAT_BUTTON_CONFIG");var Ox=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Qs=(()=>{class t{_elementRef=R(Qt);_ngZone=R(zt);_animationMode=R(nr,{optional:!0});_focusMonitor=R(Hs);_rippleLoader=R(ph);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){R(kn).load(hh);let e=R(gh,{optional:!0}),n=this._elementRef.nativeElement,o=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:i,mdcClasses:s}of Ox)n.hasAttribute(i)&&o.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ve],disabled:[2,"disabled","disabled",ve],ariaDisabled:[2,"aria-disabled","ariaDisabled",ve],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ve]}})}return t})();var vh=(()=>{class t extends Qs{_renderer=R(On);_cleanupClick;tabIndex;ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._elementRef.nativeElement,"click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._cleanupClick?.()}_haltDisabledEvents=e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())};_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275dir=Tt({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:zp(e)]},features:[le]})}return t})(),Ex=(()=>{class t extends Qs{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Le("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),oa(o.color?"mat-"+o.color:""),ke("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[le],attrs:Sx,ngContentSelectors:Rx,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(Jo(),He(0,"span",0),Ir(1),He(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})();var bh=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({imports:[or,or]})}return t})();var yh=["mat-button",""],_h=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],xh=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Dx='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',kx="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}";var id=(()=>{class t extends Qs{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275cmp=Xt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Le("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),oa(o.color?"mat-"+o.color:""),ke("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[le],attrs:yh,ngContentSelectors:xh,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(Jo(_h),He(0,"span",0),Ir(1),Ar(2,"span",1),Ir(3,1),gr(),Ir(4,2),He(5,"span",2)(6,"span",3)),n&2&&ke("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})(),Ax=(()=>{class t extends vh{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275cmp=Xt({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Le("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getAriaDisabled()),oa(o.color?"mat-"+o.color:""),ke("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[le],attrs:yh,ngContentSelectors:xh,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(Jo(_h),He(0,"span",0),Ir(1),Ar(2,"span",1),Ir(3,1),gr(),Ir(4,2),He(5,"span",2)(6,"span",3)),n&2&&ke("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[Dx,kx],encapsulation:2,changeDetection:0})}return t})();var ad=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({imports:[or,bh,or]})}return t})();var ut="primary",Sa=Symbol("RouteTitle"),dd=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Co(t){return new dd(t)}function kh(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let o={};for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(s[0]===":")o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function Ix(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!Lr(t[e],r[e]))return!1;return!0}function Lr(t,r){let e=t?fd(t):void 0,n=r?fd(r):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Ah(t[o],r[o]))return!1;return!0}function fd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ah(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((o,i)=>n[i]===o)}else return t===r}function Ih(t){return t.length>0?t[t.length-1]:null}function Pn(t){return ra(t)?t:Fp(t)?he(Promise.resolve(t)):nt(t)}var Mx={exact:Th,subset:Ph},Mh={exact:Tx,subset:Px,ignored:()=>!0};function wh(t,r,e){return Mx[e.paths](t.root,r.root,e.matrixParams)&&Mh[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function Tx(t,r){return Lr(t,r)}function Th(t,r,e){if(!xo(t.segments,r.segments)||!Js(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!Th(t.children[n],r.children[n],e))return!1;return!0}function Px(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>Ah(t[e],r[e]))}function Ph(t,r,e){return Nh(t,r,r.segments,e)}function Nh(t,r,e,n){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!xo(o,e)||r.hasChildren()||!Js(o,e,n))}else if(t.segments.length===e.length){if(!xo(t.segments,e)||!Js(t.segments,e,n))return!1;for(let o in r.children)if(!t.children[o]||!Ph(t.children[o],r.children[o],n))return!1;return!0}else{let o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!xo(t.segments,o)||!Js(t.segments,o,n)||!t.children[ut]?!1:Nh(t.children[ut],r,i,n)}}function Js(t,r,e){return r.every((n,o)=>Mh[e](t[o].parameters,n.parameters))}var Fr=class{root;queryParams;fragment;_queryParamMap;constructor(r=new St([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return Fx.serialize(this)}},St=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tc(this)}},In=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return Fh(this)}};function Nx(t,r){return xo(t,r)&&t.every((e,n)=>Lr(e.parameters,r[n].parameters))}function xo(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function Lx(t,r){let e=[];return Object.entries(t.children).forEach(([n,o])=>{n===ut&&(e=e.concat(r(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==ut&&(e=e.concat(r(o,n)))}),e}var So=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>new Mn,providedIn:"root"})}return t})(),Mn=class{parse(r){let e=new pd(r);return new Fr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${fa(r.root,!0)}`,n=jx(r.queryParams),o=typeof r.fragment=="string"?`#${Bx(r.fragment)}`:"";return`${e}${n}${o}`}},Fx=new Mn;function tc(t){return t.segments.map(r=>Fh(r)).join("/")}function fa(t,r){if(!t.hasChildren())return tc(t);if(r){let e=t.children[ut]?fa(t.children[ut],!1):"",n=[];return Object.entries(t.children).forEach(([o,i])=>{o!==ut&&n.push(`${o}:${fa(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Lx(t,(n,o)=>o===ut?[fa(t.children[ut],!1)]:[`${o}:${fa(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ut]!=null?`${tc(t)}/${e[0]}`:`${tc(t)}/(${e.join("//")})`}}function Lh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xs(t){return Lh(t).replace(/%3B/gi,";")}function Bx(t){return encodeURI(t)}function md(t){return Lh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ec(t){return decodeURIComponent(t)}function Ch(t){return ec(t.replace(/\+/g,"%20"))}function Fh(t){return`${md(t.path)}${$x(t.parameters)}`}function $x(t){return Object.entries(t).map(([r,e])=>`;${md(r)}=${md(e)}`).join("")}function jx(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(o=>`${Xs(e)}=${Xs(o)}`).join("&"):`${Xs(e)}=${Xs(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var Ux=/^[^\/()?;#]+/;function sd(t){let r=t.match(Ux);return r?r[0]:""}var zx=/^[^\/()?;=#]+/;function Vx(t){let r=t.match(zx);return r?r[0]:""}var qx=/^[^=?&#]+/;function Hx(t){let r=t.match(qx);return r?r[0]:""}var Wx=/^[^&#]+/;function Kx(t){let r=t.match(Wx);return r?r[0]:""}var pd=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[ut]=new St(r,e)),n}parseSegment(){let r=sd(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new Re(4009,!1);return this.capture(r),new In(ec(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=Vx(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=sd(this.remaining);o&&(n=o,this.capture(n))}r[ec(e)]=ec(n)}parseQueryParam(r){let e=Hx(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=Kx(this.remaining);s&&(n=s,this.capture(n))}let o=Ch(e),i=Ch(n);if(r.hasOwnProperty(o)){let s=r[o];Array.isArray(s)||(s=[s],r[o]=s),s.push(i)}else r[o]=i}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=sd(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new Re(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):r&&(i=ut);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[ut]:new St([],s),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new Re(4011,!1)}};function Bh(t){return t.segments.length>0?new St([],{[ut]:t}):t}function $h(t){let r={};for(let[n,o]of Object.entries(t.children)){let i=$h(o);if(n===ut&&i.segments.length===0&&i.hasChildren())for(let[s,l]of Object.entries(i.children))r[s]=l;else(i.segments.length>0||i.hasChildren())&&(r[n]=i)}let e=new St(t.segments,r);return Gx(e)}function Gx(t){if(t.numberOfChildren===1&&t.children[ut]){let r=t.children[ut];return new St(t.segments.concat(r.segments),r.children)}return t}function Tn(t){return t instanceof Fr}function jh(t,r,e=null,n=null){let o=Uh(t);return zh(o,r,e,n)}function Uh(t){let r;function e(i){let s={};for(let d of i.children){let p=e(d);s[d.outlet]=p}let l=new St(i.url,s);return i===t&&(r=l),l}let n=e(t.root),o=Bh(n);return r??o}function zh(t,r,e,n){let o=t;for(;o.parent;)o=o.parent;if(r.length===0)return cd(o,o,o,e,n);let i=Yx(r);if(i.toRoot())return cd(o,o,new St([],{}),e,n);let s=Qx(i,o,t),l=s.processChildren?pa(s.segmentGroup,s.index,i.commands):qh(s.segmentGroup,s.index,i.commands);return cd(o,s.segmentGroup,l,e,n)}function nc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ga(t){return typeof t=="object"&&t!=null&&t.outlets}function cd(t,r,e,n,o){let i={};n&&Object.entries(n).forEach(([d,p])=>{i[d]=Array.isArray(p)?p.map(h=>`${h}`):`${p}`});let s;t===r?s=e:s=Vh(t,r,e);let l=Bh($h(s));return new Fr(l,i,o)}function Vh(t,r,e){let n={};return Object.entries(t.children).forEach(([o,i])=>{i===r?n[o]=e:n[o]=Vh(i,r,e)}),new St(t.segments,n)}var oc=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&nc(n[0]))throw new Re(4003,!1);let o=n.find(ga);if(o&&o!==Ih(n))throw new Re(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Yx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new oc(!0,0,t);let r=0,e=!1,n=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let l={};return Object.entries(i.outlets).forEach(([d,p])=>{l[d]=typeof p=="string"?p.split("/"):p}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?e=!0:l===".."?r++:l!=""&&o.push(l))}),o):[...o,i]},[]);return new oc(e,r,n)}var ci=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function Qx(t,r,e){if(t.isAbsolute)return new ci(r,!0,0);if(!e)return new ci(r,!1,NaN);if(e.parent===null)return new ci(e,!0,0);let n=nc(t.commands[0])?0:1,o=e.segments.length-1+n;return Xx(e,o,t.numberOfDoubleDots)}function Xx(t,r,e){let n=t,o=r,i=e;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Re(4005,!1);o=n.segments.length}return new ci(n,!1,o-i)}function Zx(t){return ga(t[0])?t[0].outlets:{[ut]:t}}function qh(t,r,e){if(t??=new St([],{}),t.segments.length===0&&t.hasChildren())return pa(t,r,e);let n=Jx(t,r,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let i=new St(t.segments.slice(0,n.pathIndex),{});return i.children[ut]=new St(t.segments.slice(n.pathIndex),t.children),pa(i,0,o)}else return n.match&&o.length===0?new St(t.segments,{}):n.match&&!t.hasChildren()?hd(t,r,e):n.match?pa(t,0,o):hd(t,r,e)}function pa(t,r,e){if(e.length===0)return new St(t.segments,{});{let n=Zx(e),o={};if(Object.keys(n).some(i=>i!==ut)&&t.children[ut]&&t.numberOfChildren===1&&t.children[ut].segments.length===0){let i=pa(t.children[ut],r,e);return new St(t.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=qh(t.children[i],r,s))}),Object.entries(t.children).forEach(([i,s])=>{n[i]===void 0&&(o[i]=s)}),new St(t.segments,o)}}function Jx(t,r,e){let n=0,o=r,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=e.length)return i;let s=t.segments[o],l=e[n];if(ga(l))break;let d=`${l}`,p=n<e.length-1?e[n+1]:null;if(o>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!Rh(d,p,s))return i;n+=2}else{if(!Rh(d,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function hd(t,r,e){let n=t.segments.slice(0,r),o=0;for(;o<e.length;){let i=e[o];if(ga(i)){let d=tw(i.outlets);return new St(n,d)}if(o===0&&nc(e[0])){let d=t.segments[r];n.push(new In(d.path,Sh(e[0]))),o++;continue}let s=ga(i)?i.outlets[ut]:`${i}`,l=o<e.length-1?e[o+1]:null;s&&l&&nc(l)?(n.push(new In(s,Sh(l))),o+=2):(n.push(new In(s,{})),o++)}return new St(n,{})}function tw(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=hd(new St([],{}),0,n))}),r}function Sh(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function Rh(t,r,e){return t==e.path&&Lr(r,e.parameters)}var rc="imperative",re=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(re||{}),Ke=class{id;url;constructor(r,e){this.id=r,this.url=e}},Br=class extends Ke{type=re.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",o=null){super(r,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends Ke{urlAfterRedirects;type=re.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Fe||{}),ui=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ui||{}),ar=class extends Ke{reason;code;type=re.NavigationCancel;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends Ke{reason;code;type=re.NavigationSkipped;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}},di=class extends Ke{error;target;type=re.NavigationError;constructor(r,e,n,o){super(r,e),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},va=class extends Ke{urlAfterRedirects;state;type=re.RoutesRecognized;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ic=class extends Ke{urlAfterRedirects;state;type=re.GuardsCheckStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ac=class extends Ke{urlAfterRedirects;state;shouldActivate;type=re.GuardsCheckEnd;constructor(r,e,n,o,i){super(r,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sc=class extends Ke{urlAfterRedirects;state;type=re.ResolveStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cc=class extends Ke{urlAfterRedirects;state;type=re.ResolveEnd;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lc=class{route;type=re.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},uc=class{route;type=re.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dc=class{snapshot;type=re.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fc=class{snapshot;type=re.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mc=class{snapshot;type=re.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pc=class{snapshot;type=re.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fi=class{routerEvent;position;anchor;type=re.Scroll;constructor(r,e,n){this.routerEvent=r,this.position=e,this.anchor=n}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},ba=class{},mi=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function ew(t,r){return t.providers&&!t._injector&&(t._injector=zs(t.providers,r,`Route: ${t.path}`)),t._injector??r}function yr(t){return t.outlet||ut}function rw(t,r){let e=t.filter(n=>yr(n)===r);return e.push(...t.filter(n=>yr(n)!==r)),e}function Ra(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var hc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ra(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new Ro(this.rootInjector)}},Ro=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new hc(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(jt(Dr))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gc=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=gd(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=gd(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=vd(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return vd(r,this._root).map(e=>e.value)}};function gd(t,r){if(t===r.value)return r;for(let e of r.children){let n=gd(t,e);if(n)return n}return null}function vd(t,r){if(t===r.value)return[r];for(let e of r.children){let n=vd(t,e);if(n.length)return n.unshift(r),n}return[]}var We=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function si(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var ya=class extends gc{snapshot;constructor(r,e){super(r),this.snapshot=e,Rd(this,r)}toString(){return this.snapshot.toString()}};function Hh(t){let r=nw(t),e=new Ce([new In("",{})]),n=new Ce({}),o=new Ce({}),i=new Ce({}),s=new Ce(""),l=new cr(e,n,i,s,o,ut,t,r.root);return l.snapshot=r.root,new ya(new We(l,[]),r)}function nw(t){let r={},e={},n={},o="",i=new wo([],r,n,o,e,ut,t,null,{});return new _a("",new We(i,[]))}var cr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,o,i,s,l,d){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(pt(p=>p[Sa]))??nt(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pt(r=>Co(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pt(r=>Co(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vc(t,r,e="emptyOnly"){let n,{routeConfig:o}=t;return r!==null&&(e==="always"||o?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:j(j({},r.params),t.params),data:j(j({},r.data),t.data),resolve:j(j(j(j({},t.data),r.data),o?.data),t._resolvedData)}:n={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},o&&Kh(o)&&(n.resolve[Sa]=o.title),n}var wo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Sa]}constructor(r,e,n,o,i,s,l,d,p){this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},_a=class extends gc{url;constructor(r,e){super(e),this.url=r,Rd(this,e)}toString(){return Wh(this._root)}};function Rd(t,r){r.value._routerState=t,r.children.forEach(e=>Rd(t,e))}function Wh(t){let r=t.children.length>0?` { ${t.children.map(Wh).join(", ")} } `:"";return`${t.value}${r}`}function ld(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Lr(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Lr(r.params,e.params)||t.paramsSubject.next(e.params),Ix(r.url,e.url)||t.urlSubject.next(e.url),Lr(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bd(t,r){let e=Lr(t.params,r.params)&&Nx(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||bd(t.parent,r.parent))}function Kh(t){return typeof t.title=="string"||t.title===null}var Gh=new lt(""),Od=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ut;activateEvents=new ge;deactivateEvents=new ge;attachEvents=new ge;detachEvents=new ge;routerOutletData=kp(void 0);parentContexts=R(Ro);location=R(En);changeDetector=R(Mr);inputBinder=R(Oa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Re(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Re(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new yd(e,l,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jr]})}return t})(),yd=class{route;childContexts;parent;outletData;constructor(r,e,n,o){this.route=r,this.childContexts=e,this.parent=n,this.outletData=o}get(r,e){return r===cr?this.route:r===Ro?this.childContexts:r===Gh?this.outletData:this.parent.get(r,e)}},Oa=new lt(""),Ed=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,o=$s([n.queryParams,n.params,n.data]).pipe(rr(([i,s,l],d)=>(l=j(j(j({},i),s),l),d===0?nt(l):Promise.resolve(l)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=Hp(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,i[l])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac})}return t})();function ow(t,r,e){let n=xa(t,r._root,e?e._root:void 0);return new ya(n,r)}function xa(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let o=iw(t,r,e);return new We(n,o)}else{if(t.shouldAttach(r.value)){let i=t.retrieve(r.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(l=>xa(t,l)),s}}let n=aw(r.value),o=r.children.map(i=>xa(t,i));return new We(n,o)}}function iw(t,r,e){return r.children.map(n=>{for(let o of e.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return xa(t,n,o);return xa(t,n)})}function aw(t){return new cr(new Ce(t.url),new Ce(t.params),new Ce(t.queryParams),new Ce(t.fragment),new Ce(t.data),t.outlet,t.component,t)}var pi=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},Yh="ngNavigationCancelingError";function bc(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=Tn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=Qh(!1,Fe.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function Qh(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Yh]=!0,e.cancellationCode=r,e}function sw(t){return Xh(t)&&Tn(t.url)}function Xh(t){return!!t&&t[Yh]}var cw=(t,r,e,n)=>pt(o=>(new _d(r,o.targetRouterState,o.currentRouterState,e,n).activate(t),o)),_d=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,o,i){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),ld(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let o=si(e);r.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(o===i)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(r,e,s.children)}else this.deactivateChildRoutes(r,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=si(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:l})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=si(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let o=si(e);r.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new pc(i.value.snapshot))}),r.children.length&&this.forwardEvent(new fc(r.value.snapshot))}activateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(ld(o),o===i)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,s.children)}else this.activateChildRoutes(r,e,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),ld(l.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},yc=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},li=class{component;route;constructor(r,e){this.component=r,this.route=e}};function lw(t,r,e){let n=t._root,o=r?r._root:null;return ma(n,o,e,[n.value])}function uw(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function gi(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!xp(t)?t:r.get(t):n}function ma(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=si(r);return t.children.forEach(s=>{dw(s,i[s.value.outlet],e,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,l])=>ha(l,e.getContext(s),o)),o}function dw(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=r?r.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let d=fw(s,i,i.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new yc(n)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ma(t,r,l?l.children:null,n,o):ma(t,r,e,n,o),d&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new li(l.outlet.component,s))}else s&&ha(r,l,o),o.canActivateChecks.push(new yc(n)),i.component?ma(t,null,l?l.children:null,n,o):ma(t,null,e,n,o);return o}function fw(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!xo(t.url,r.url);case"pathParamsOrQueryParamsChange":return!xo(t.url,r.url)||!Lr(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bd(t,r)||!Lr(t.queryParams,r.queryParams);case"paramsChange":default:return!bd(t,r)}}function ha(t,r,e){let n=si(t),o=t.value;Object.entries(n).forEach(([i,s])=>{o.component?r?ha(s,r.children.getContext(i),e):ha(s,null,e):ha(s,r,e)}),o.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new li(r.outlet.component,o)):e.canDeactivateChecks.push(new li(null,o)):e.canDeactivateChecks.push(new li(null,o))}function Ea(t){return typeof t=="function"}function mw(t){return typeof t=="boolean"}function pw(t){return t&&Ea(t.canLoad)}function hw(t){return t&&Ea(t.canActivate)}function gw(t){return t&&Ea(t.canActivateChild)}function vw(t){return t&&Ea(t.canDeactivate)}function bw(t){return t&&Ea(t.canMatch)}function Zh(t){return t instanceof pp||t?.name==="EmptyError"}var Zs=Symbol("INITIAL_VALUE");function hi(){return rr(t=>$s(t.map(r=>r.pipe(qe(1),hr(Zs)))).pipe(pt(r=>{for(let e of r)if(e!==!0){if(e===Zs)return Zs;if(e===!1||yw(e))return e}return!0}),yt(r=>r!==Zs),qe(1)))}function yw(t){return Tn(t)||t instanceof pi}function _w(t,r){return Wt(e=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?nt(gt(j({},e),{guardsResult:!0})):xw(s,n,o,t).pipe(Wt(l=>l&&mw(l)?ww(n,i,t,r):nt(l)),pt(l=>gt(j({},e),{guardsResult:l})))})}function xw(t,r,e,n){return he(t).pipe(Wt(o=>Ew(o.component,o.route,e,r,n)),Rn(o=>o!==!0,!0))}function ww(t,r,e,n){return he(r).pipe(fo(o=>gp(Sw(o.route.parent,n),Cw(o.route,n),Ow(t,o.path,e),Rw(t,o.route,e))),Rn(o=>o!==!0,!0))}function Cw(t,r){return t!==null&&r&&r(new mc(t)),nt(!0)}function Sw(t,r){return t!==null&&r&&r(new dc(t)),nt(!0)}function Rw(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return nt(!0);let o=n.map(i=>lo(()=>{let s=Ra(r)??e,l=gi(i,s),d=hw(l)?l.canActivate(r,t):kr(s,()=>l(r,t));return Pn(d).pipe(Rn())}));return nt(o).pipe(hi())}function Ow(t,r,e){let n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(s=>uw(s)).filter(s=>s!==null).map(s=>lo(()=>{let l=s.guards.map(d=>{let p=Ra(s.node)??e,h=gi(d,p),y=gw(h)?h.canActivateChild(n,t):kr(p,()=>h(n,t));return Pn(y).pipe(Rn())});return nt(l).pipe(hi())}));return nt(i).pipe(hi())}function Ew(t,r,e,n,o){let i=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!i||i.length===0)return nt(!0);let s=i.map(l=>{let d=Ra(r)??o,p=gi(l,d),h=vw(p)?p.canDeactivate(t,r,e,n):kr(d,()=>p(t,r,e,n));return Pn(h).pipe(Rn())});return nt(s).pipe(hi())}function Dw(t,r,e,n){let o=r.canLoad;if(o===void 0||o.length===0)return nt(!0);let i=o.map(s=>{let l=gi(s,t),d=pw(l)?l.canLoad(r,e):kr(t,()=>l(r,e));return Pn(d)});return nt(i).pipe(hi(),Jh(n))}function Jh(t){return fp(Se(r=>{if(typeof r!="boolean")throw bc(t,r)}),pt(r=>r===!0))}function kw(t,r,e,n){let o=r.canMatch;if(!o||o.length===0)return nt(!0);let i=o.map(s=>{let l=gi(s,t),d=bw(l)?l.canMatch(r,e):kr(t,()=>l(r,e));return Pn(d)});return nt(i).pipe(hi(),Jh(n))}var wa=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},Ca=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function ai(t){return ea(new wa(t))}function Aw(t){return ea(new Re(4e3,!1))}function Iw(t){return ea(Qh(!1,Fe.GuardRejected))}var xd=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return nt(n);if(o.numberOfChildren>1||!o.children[ut])return Aw(`${r.redirectTo}`);o=o.children[ut]}}applyRedirectCommands(r,e,n,o,i){if(typeof e!="string"){let l=e,{queryParams:d,fragment:p,routeConfig:h,url:y,outlet:O,params:k,data:T,title:$}=o,W=kr(i,()=>l({params:k,data:T,queryParams:d,fragment:p,routeConfig:h,url:y,outlet:O,title:$}));if(W instanceof Fr)throw new Ca(W);e=W}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new Ca(s);return s}applyRedirectCreateUrlTree(r,e,n,o){let i=this.createSegmentGroup(r,e.root,n,o);return new Fr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let l=i.substring(1);n[o]=e[l]}else n[o]=i}),n}createSegmentGroup(r,e,n,o){let i=this.createSegments(r,e.segments,n,o),s={};return Object.entries(e.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(r,d,n,o)}),new St(i,s)}createSegments(r,e,n,o){return e.map(i=>i.path[0]===":"?this.findPosParam(r,i,o):this.findOrReturn(i,n))}findPosParam(r,e,n){let o=n[e.path.substring(1)];if(!o)throw new Re(4001,!1);return o}findOrReturn(r,e){let n=0;for(let o of e){if(o.path===r.path)return e.splice(n),o;n++}return r}},wd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mw(t,r,e,n,o){let i=tg(t,r,e);return i.matched?(n=ew(r,n),kw(n,r,e,o).pipe(pt(s=>s===!0?i:j({},wd)))):nt(i)}function tg(t,r,e){if(r.path==="**")return Tw(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?j({},wd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(r.matcher||kh)(e,t,r);if(!o)return j({},wd);let i={};Object.entries(o.posParams??{}).forEach(([l,d])=>{i[l]=d.path});let s=o.consumed.length>0?j(j({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Tw(t){return{matched:!0,parameters:t.length>0?Ih(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Oh(t,r,e,n){return e.length>0&&Lw(t,e,n)?{segmentGroup:new St(r,Nw(n,new St(e,t.children))),slicedSegments:[]}:e.length===0&&Fw(t,e,n)?{segmentGroup:new St(t.segments,Pw(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new St(t.segments,t.children),slicedSegments:e}}function Pw(t,r,e,n){let o={};for(let i of e)if(xc(t,r,i)&&!n[yr(i)]){let s=new St([],{});o[yr(i)]=s}return j(j({},n),o)}function Nw(t,r){let e={};e[ut]=r;for(let n of t)if(n.path===""&&yr(n)!==ut){let o=new St([],{});e[yr(n)]=o}return e}function Lw(t,r,e){return e.some(n=>xc(t,r,n)&&yr(n)!==ut)}function Fw(t,r,e){return e.some(n=>xc(t,r,n))}function xc(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Bw(t,r,e){return r.length===0&&!t.children[e]}var Cd=class{};function $w(t,r,e,n,o,i,s="emptyOnly"){return new Sd(t,r,e,n,o,s,i).recognize()}var jw=31,Sd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,o,i,s,l){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new xd(this.urlSerializer,this.urlTree)}noMatchError(r){return new Re(4002,`'${r.segmentGroup}'`)}recognize(){let r=Oh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(pt(({children:e,rootSnapshot:n})=>{let o=new We(n,e),i=new _a("",o),s=jh(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(r){let e=new wo([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ut,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,ut,e).pipe(pt(n=>({children:n,rootSnapshot:e})),uo(n=>{if(n instanceof Ca)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof wa?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,o,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,i):this.processSegment(r,e,n,n.segments,o,!0,i).pipe(pt(s=>s instanceof We?[s]:[]))}processChildren(r,e,n,o){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return he(i).pipe(fo(s=>{let l=n.children[s],d=rw(e,s);return this.processSegmentGroup(r,d,l,s,o)}),yp((s,l)=>(s.push(...l),s)),$u(null),vp(),Wt(s=>{if(s===null)return ai(n);let l=eg(s);return Uw(l),nt(l)}))}processSegment(r,e,n,o,i,s,l){return he(e).pipe(fo(d=>this.processSegmentAgainstRoute(d._injector??r,e,d,n,o,i,s,l).pipe(uo(p=>{if(p instanceof wa)return nt(null);throw p}))),Rn(d=>!!d),uo(d=>{if(Zh(d))return Bw(n,o,i)?nt(new Cd):ai(n);throw d}))}processSegmentAgainstRoute(r,e,n,o,i,s,l,d){return yr(n)!==s&&(s===ut||!xc(o,i,n))?ai(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,o,n,i,s,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(r,o,e,n,i,s,d):ai(o)}expandSegmentAgainstRouteUsingRedirect(r,e,n,o,i,s,l){let{matched:d,parameters:p,consumedSegments:h,positionalParamSegments:y,remainingSegments:O}=tg(e,o,i);if(!d)return ai(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jw&&(this.allowRedirects=!1));let k=new wo(i,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Eh(o),yr(o),o.component??o._loadedComponent??null,o,Dh(o)),T=vc(k,l,this.paramsInheritanceStrategy);k.params=Object.freeze(T.params),k.data=Object.freeze(T.data);let $=this.applyRedirects.applyRedirectCommands(h,o.redirectTo,y,k,r);return this.applyRedirects.lineralizeSegments(o,$).pipe(Wt(W=>this.processSegment(r,n,e,W.concat(O),s,!1,l)))}matchSegmentAgainstRoute(r,e,n,o,i,s){let l=Mw(e,n,o,r,this.urlSerializer);return n.path==="**"&&(e.children={}),l.pipe(rr(d=>d.matched?(r=n._injector??r,this.getChildConfig(r,n,o).pipe(rr(({routes:p})=>{let h=n._loadedInjector??r,{parameters:y,consumedSegments:O,remainingSegments:k}=d,T=new wo(O,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Eh(n),yr(n),n.component??n._loadedComponent??null,n,Dh(n)),$=vc(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze($.params),T.data=Object.freeze($.data);let{segmentGroup:W,slicedSegments:J}=Oh(e,O,k,p);if(J.length===0&&W.hasChildren())return this.processChildren(h,p,W,T).pipe(pt(tt=>new We(T,tt)));if(p.length===0&&J.length===0)return nt(new We(T,[]));let rt=yr(n)===i;return this.processSegment(h,p,W,J,rt?ut:i,!0,T).pipe(pt(tt=>new We(T,tt instanceof We?[tt]:[])))}))):ai(e)))}getChildConfig(r,e,n){return e.children?nt({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?nt({routes:e._loadedRoutes,injector:e._loadedInjector}):Dw(r,e,n,this.urlSerializer).pipe(Wt(o=>o?this.configLoader.loadChildren(r,e).pipe(Se(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):Iw(e))):nt({routes:[],injector:r})}};function Uw(t){t.sort((r,e)=>r.value.outlet===ut?-1:e.value.outlet===ut?1:r.value.outlet.localeCompare(e.value.outlet))}function zw(t){let r=t.value.routeConfig;return r&&r.path===""}function eg(t){let r=[],e=new Set;for(let n of t){if(!zw(n)){r.push(n);continue}let o=r.find(i=>n.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...n.children),e.add(o)):r.push(n)}for(let n of e){let o=eg(n.children);r.push(new We(n.value,o))}return r.filter(n=>!e.has(n))}function Eh(t){return t.data||{}}function Dh(t){return t.resolve||{}}function Vw(t,r,e,n,o,i){return Wt(s=>$w(t,r,e,n,s.extractedUrl,o,i).pipe(pt(({state:l,tree:d})=>gt(j({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function qw(t,r){return Wt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return nt(e);let i=new Set(o.map(d=>d.route)),s=new Set;for(let d of i)if(!s.has(d))for(let p of rg(d))s.add(p);let l=0;return he(s).pipe(fo(d=>i.has(d)?Hw(d,n,t,r):(d.data=vc(d,d.parent,t).resolve,nt(void 0))),Se(()=>l++),ju(1),Wt(d=>l===s.size?nt(e):Zr))})}function rg(t){let r=t.children.map(e=>rg(e)).flat();return[t,...r]}function Hw(t,r,e,n){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!Kh(o)&&(i[Sa]=o.title),Ww(i,t,r,n).pipe(pt(s=>(t._resolvedData=s,t.data=vc(t,t.parent,e).resolve,null)))}function Ww(t,r,e,n){let o=fd(t);if(o.length===0)return nt({});let i={};return he(o).pipe(Wt(s=>Kw(t[s],r,e,n).pipe(Rn(),Se(l=>{if(l instanceof pi)throw bc(new Mn,l);i[s]=l}))),ju(1),pt(()=>i),uo(s=>Zh(s)?Zr:ea(s)))}function Kw(t,r,e,n){let o=Ra(r)??n,i=gi(t,o),s=i.resolve?i.resolve(r,e):kr(o,()=>i(r,e));return Pn(s)}function ud(t){return rr(r=>{let e=t(r);return e?he(e).pipe(pt(()=>r)):nt(r)})}var Dd=(()=>{class t{buildTitle(e){let n,o=e.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(i=>i.outlet===ut);return n}getResolvedTitleForRoute(e){return e.data[Sa]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>R(ng),providedIn:"root"})}return t})(),ng=(()=>{class t extends Dd{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(jt(Jp))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oo=new lt("",{providedIn:"root",factory:()=>({})}),Da=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,o){n&1&&He(0,"router-outlet")},dependencies:[Od],encapsulation:2})}return t})();function kd(t){let r=t.children&&t.children.map(kd),e=r?gt(j({},t),{children:r}):j({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ut&&(e.component=Da),e}var jr=new lt(""),wc=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(ei);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Pn(e.loadComponent()).pipe(pt(ig),Se(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Xo(()=>{this.componentLoaders.delete(e)})),o=new co(n,()=>new at).pipe(ta());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return nt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=og(n,this.compiler,e,this.onLoadEndListener).pipe(Xo(()=>{this.childrenLoaders.delete(n)})),s=new co(i,()=>new at).pipe(ta());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function og(t,r,e,n){return Pn(t.loadChildren()).pipe(pt(ig),Wt(o=>o instanceof Us||Array.isArray(o)?nt(o):he(r.compileModuleAsync(o))),pt(o=>{n&&n(t);let i,s,l=!1;return Array.isArray(o)?(s=o,l=!0):(i=o.create(e).injector,s=i.get(jr,[],{optional:!0,self:!0}).flat()),{routes:s.map(kd),injector:i}}))}function Gw(t){return t&&typeof t=="object"&&"default"in t}function ig(t){return Gw(t)?t.default:t}var Cc=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>R(Yw),providedIn:"root"})}return t})(),Yw=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ad=new lt(""),Id=new lt("");function ag(t,r,e){let n=t.get(Id),o=t.get(ue);return t.get(zt).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(p=>setTimeout(p));let i,s=new Promise(p=>{i=p}),l=o.startViewTransition(()=>(i(),Qw(t))),{onViewTransitionCreated:d}=n;return d&&kr(t,()=>d({transition:l,from:r,to:e})),s})}function Qw(t){return new Promise(r=>{po({read:()=>setTimeout(r)},{injector:t})})}var Md=new lt(""),Sc=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new at;transitionAbortSubject=new at;configLoader=R(wc);environmentInjector=R(Dr);destroyRef=R(Ep);urlSerializer=R(So);rootContexts=R(Ro);location=R(Tr);inputBindingEnabled=R(Oa,{optional:!0})!==null;titleStrategy=R(Dd);options=R(Oo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Cc);createViewTransition=R(Ad,{optional:!0});navigationErrorHandler=R(Md,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>nt(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new lc(o)),n=o=>this.events.next(new uc(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(gt(j({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new Ce(null),this.transitions.pipe(yt(n=>n!==null),rr(n=>{let o=!1,i=!1;return nt(n).pipe(rr(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Fe.SupersededByNewNavigation),Zr;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?gt(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&d!=="reload"){let p="";return this.events.next(new $r(s.id,this.urlSerializer.serialize(s.rawUrl),p,ui.IgnoredSameUrlNavigation)),s.resolve(!1),Zr}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return nt(s).pipe(rr(p=>(this.events.next(new Br(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?Zr:Promise.resolve(p))),Vw(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(p=>{n.targetSnapshot=p.targetSnapshot,n.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=gt(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let h=new va(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:p,extractedUrl:h,source:y,restoredState:O,extras:k}=s,T=new Br(p,this.urlSerializer.serialize(h),y,O);this.events.next(T);let $=Hh(this.rootComponentType).snapshot;return this.currentTransition=n=gt(j({},s),{targetSnapshot:$,urlAfterRedirects:h,extras:gt(j({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,nt(n)}else{let p="";return this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),p,ui.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Zr}}),Se(s=>{let l=new ic(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),pt(s=>(this.currentTransition=n=gt(j({},s),{guards:lw(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),_w(this.environmentInjector,s=>this.events.next(s)),Se(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw bc(this.urlSerializer,s.guardsResult);let l=new ac(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),yt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Fe.GuardRejected),!1)),ud(s=>{if(s.guards.canActivateChecks.length!==0)return nt(s).pipe(Se(l=>{let d=new sc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),rr(l=>{let d=!1;return nt(l).pipe(qw(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Fe.NoDataFromResolver)}}))}),Se(l=>{let d=new cc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),ud(s=>{let l=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(Se(h=>{d.component=h}),pt(()=>{})));for(let h of d.children)p.push(...l(h));return p};return $s(l(s.targetSnapshot.root)).pipe($u(null),qe(1))}),ud(()=>this.afterPreactivation()),rr(()=>{let{currentSnapshot:s,targetSnapshot:l}=n,d=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return d?he(d).pipe(pt(()=>n)):nt(n)}),pt(s=>{let l=ow(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=gt(j({},s),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,n}),Se(()=>{this.events.next(new ba)}),cw(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),qe(1),Se({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),mo(this.transitionAbortSubject.pipe(Se(s=>{throw s}))),Xo(()=>{!o&&!i&&this.cancelNavigationTransition(n,"",Fe.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),uo(s=>{if(this.destroyed)return n.resolve(!1),Zr;if(i=!0,Xh(s))this.events.next(new ar(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),sw(s)?this.events.next(new mi(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let l=new di(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let d=kr(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof pi){let{message:p,cancellationCode:h}=bc(this.urlSerializer,d);this.events.next(new ar(n.id,this.urlSerializer.serialize(n.extractedUrl),p,h)),this.events.next(new mi(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(d){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(d)}}return Zr}))}))}cancelNavigationTransition(e,n,o){let i=new ar(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xw(t){return t!==rc}var Rc=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>R(Zw),providedIn:"root"})}return t})(),_c=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},Zw=(()=>{class t extends _c{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sg=(()=>{class t{urlSerializer=R(So);options=R(Oo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(Tr);urlHandlingStrategy=R(Cc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=o??i;return s instanceof Fr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:o}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,o),this.routerState=e):this.rawUrlTree=o}routerState=Hh(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>R(Jw),providedIn:"root"})}return t})(),Jw=(()=>{class t extends sg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof Br?this.updateStateMemento():e instanceof $r?this.commitTransition(n):e instanceof va?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof ba?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof ar&&(e.code===Fe.GuardRejected||e.code===Fe.NoDataFromResolver)?this.restoreHistory(n):e instanceof di?this.restoreHistory(n,!0):e instanceof sr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:o}){let{replaceUrl:i,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||i){let l=this.browserPageId,d=j(j({},s),this.generateNgRouterState(o,l));this.location.replaceState(e,"",d)}else{let l=j(j({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Oc(t,r){t.events.pipe(yt(e=>e instanceof sr||e instanceof ar||e instanceof di||e instanceof $r),pt(e=>e instanceof sr||e instanceof $r?0:(e instanceof ar?e.code===Fe.Redirect||e.code===Fe.SupersededByNewNavigation:!1)?2:1),yt(e=>e!==2),qe(1)).subscribe(()=>{r()})}var t0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(Lp);stateManager=R(sg);options=R(Oo,{optional:!0})||{};pendingTasks=R(Dp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(Sc);urlSerializer=R(So);location=R(Tr);urlHandlingStrategy=R(Cc);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(Rc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(jr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Oa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Er;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(n,i),n instanceof ar&&n.code!==Fe.Redirect&&n.code!==Fe.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof sr)this.navigated=!0;else if(n instanceof mi){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),d=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Xw(o.source)},s);this.scheduleNavigation(l,rc,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}n0(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,o)=>{this.navigateToSyncWithBrowser(e,o,n)})}navigateToSyncWithBrowser(e,n,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let d=j({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(i.state=d)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(kd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:d}=n,p=d?this.currentUrlTree.fragment:s,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}h!==null&&(h=this.removeEmptyProps(h));let y;try{let O=o?o.snapshot:this.routerState.snapshot.root;y=Uh(O)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return zh(y,e,h,p??null)}navigateByUrl(e,n={skipLocationChange:!1}){let o=Tn(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,rc,null,n)}navigate(e,n={skipLocationChange:!1}){return r0(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(n===!0?o=j({},t0):n===!1?o=j({},e0):o=n,Tn(e))return wh(this.currentUrlTree,e,o);let i=this.parseUrl(e);return wh(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,i])=>(i!=null&&(n[o]=i),n),{})}scheduleNavigation(e,n,o,i,s){if(this.disposed)return Promise.resolve(!1);let l,d,p;s?(l=s.resolve,d=s.reject,p=s.promise):p=new Promise((y,O)=>{l=y,d=O});let h=this.pendingTasks.add();return Oc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:l,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function r0(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new Re(4008,!1)}function n0(t){return!(t instanceof ba)&&!(t instanceof mi)}var cg=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new at;constructor(e,n,o,i,s,l){this.router=e,this.route=n,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=l;let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=e.events.subscribe(p=>{p instanceof sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Tn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,o,i,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||n||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:Mp(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let o=this.renderer,i=this.el.nativeElement;n!==null?o.setAttribute(i,e,n):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:Tn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(rn(Ae),rn(cr),Op("tabindex"),rn(On),rn(Qt),rn(ia))};static \u0275dir=Tt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){n&1&&go("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Le("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ve],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ve],replaceUrl:[2,"replaceUrl","replaceUrl",ve],routerLink:"routerLink"},features:[Jr]})}return t})();var ka=class{};var lg=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(yt(e=>e instanceof sr),fo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let o=[];for(let i of n){i.providers&&!i._injector&&(i._injector=zs(i.providers,e,`Route: ${i.path}`));let s=i._injector??e,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return he(o).pipe(Fu())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(e,n):o=nt(null);let i=o.pipe(Wt(s=>s===null?nt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return he([i,s]).pipe(Fu())}else return i})}static \u0275fac=function(n){return new(n||t)(jt(Ae),jt(ei),jt(Dr),jt(ka),jt(wc))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ug=new lt(""),o0=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,o,i,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sr?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof $r&&e.code===ui.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fi&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fi(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Tp()};static \u0275prov=ct({token:t,factory:t.\u0275fac})}return t})();function i0(t,...r){return Cp([{provide:jr,multi:!0,useValue:t},[],{provide:cr,useFactory:dg,deps:[Ae]},{provide:Wu,multi:!0,useFactory:fg},r.map(e=>e.\u0275providers)])}function dg(t){return t.routerState.root}function Aa(t,r){return{\u0275kind:t,\u0275providers:r}}function fg(){let t=R(qt);return r=>{let e=t.get(Vs);if(r!==e.components[0])return;let n=t.get(Ae),o=t.get(mg);t.get(Pd)===1&&n.initialNavigation(),t.get(gg,null,zu.Optional)?.setUpPreloading(),t.get(ug,null,zu.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var mg=new lt("",{factory:()=>new at}),Pd=new lt("",{providedIn:"root",factory:()=>1});function pg(){let t=[{provide:Pd,useValue:0},Hu(()=>{let r=R(qt);return r.get(Wp,Promise.resolve()).then(()=>new Promise(n=>{let o=r.get(Ae),i=r.get(mg);Oc(o,()=>{n(!0)}),r.get(Sc).afterPreactivation=()=>(n(!0),i.closed?nt(void 0):i),o.initialNavigation()}))})];return Aa(2,t)}function hg(){let t=[Hu(()=>{R(Ae).setUpLocationChangeListener()}),{provide:Pd,useValue:2}];return Aa(3,t)}var gg=new lt("");function vg(t){return Aa(0,[{provide:gg,useExisting:lg},{provide:ka,useExisting:t}])}function bg(){return Aa(8,[Ed,{provide:Oa,useExisting:Ed}])}function yg(t){Ip("NgRouterViewTransitions");let r=[{provide:Ad,useValue:ag},{provide:Id,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Aa(9,r)}var _g=[Tr,{provide:So,useClass:Mn},Ae,Ro,{provide:cr,useFactory:dg,deps:[Ae]},wc,[]],Nd=(()=>{class t{constructor(){}static forRoot(e,n){return{ngModule:t,providers:[_g,[],{provide:jr,multi:!0,useValue:e},[],n?.errorHandler?{provide:Md,useValue:n.errorHandler}:[],{provide:Oo,useValue:n||{}},n?.useHash?s0():c0(),a0(),n?.preloadingStrategy?vg(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?l0(n):[],n?.bindToComponentInputs?bg().\u0275providers:[],n?.enableViewTransitions?yg().\u0275providers:[],u0()]}}static forChild(e){return{ngModule:t,providers:[{provide:jr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({})}return t})();function a0(){return{provide:ug,useFactory:()=>{let t=R(Xp),r=R(zt),e=R(Oo),n=R(Sc),o=R(So);return e.scrollOffset&&t.setOffset(e.scrollOffset),new o0(o,n,t,r,e)}}}function s0(){return{provide:ia,useClass:Gp}}function c0(){return{provide:ia,useClass:Kp}}function l0(t){return[t.initialNavigation==="disabled"?hg().\u0275providers:[],t.initialNavigation==="enabledBlocking"?pg().\u0275providers:[]]}var Td=new lt("");function u0(){return[{provide:Td,useFactory:fg},{provide:Wu,multi:!0,useExisting:Td}]}var d0=new lt("LOCALIZE_ROUTER_FORROOT_GUARD"),Ld=new lt("RAW_ROUTES"),Nn=function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Cookie="Cookie",t}(Nn||{}),wg=new lt("USE_CACHED_LANG"),Cg=new lt("CACHE_MECHANISM"),Sg=new lt("CACHE_NAME"),Rg=new lt("COOKIE_FORMAT"),Og=new lt("INITIAL_NAVIGATION"),Eg=new lt("DEFAULT_LANG_FUNCTION"),Dg=new lt("ALWAYS_SET_PREFIX"),f0="LOCALIZE_DEFAULT_LANGUAGE",m0="{{value}};{{expires}}",p0=!1,Dc=(()=>{class t{constructor(e=!0,n=!0,o=Nn.LocalStorage,i=f0,s=void 0,l=m0,d=p0){this.useCachedLang=e,this.alwaysSetPrefix=n,this.cacheName=i,this.cookieFormat=l,this.initialNavigation=d,this.cacheMechanism=o,this.defaultLangFunction=s}static{this.\u0275fac=function(n){return new(n||t)(jt(wg),jt(Dg),jt(Cg),jt(Sg),jt(Eg),jt(Rg),jt(Og))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),h0=30,Ia=(()=>{class t{constructor(e,n,o){this.translate=e,this.location=n,this.settings=o}init(e){let n;if(this.routes=e,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),i=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,i):this.defaultLang=this._cachedLang||i||this.locales[0],n=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let s=[];if(this.settings.alwaysSetPrefix){let l={path:"",redirectTo:this.defaultLang,pathMatch:"full"},d=e.findIndex(p=>p.path==="**");d!==-1&&(this._wildcardRoute=e.splice(d,1)[0]),s=this.routes.splice(0,this.routes.length,l)}else s=[...this.routes];for(let l=s.length-1;l>=0;l--)s[l].data&&s[l].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(s[l]),(s[l].redirectTo===void 0||!s[l].data.skipRouteLocalization.localizeRedirectTo||typeof s[l].redirectTo=="function")&&s.splice(l,1));return s&&s.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:s},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),hp(this.translateRoutes(n))}initChildRoutes(e){return this._translateRouteTree(e),e}translateRoutes(e){return new Bs(n=>{this._cachedLang=e,this._languageRoute&&(this._languageRoute.path=e),this.translate.use(e).subscribe(o=>{this._translationObject=o,this.currentLang=e,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(e,n){e.forEach(o=>{let i=o.data&&o.data.skipRouteLocalization,s=!i||i.localizeRedirectTo;if(o.redirectTo&&s&&typeof o.redirectTo!="function"){let l=o.redirectTo.indexOf("/")===0||n;this._translateProperty(o,"redirectTo",l)}i||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(e,n,o){let i=e.data=e.data||{};i.localizeRouter||(i.localizeRouter={}),i.localizeRouter[n]||(i.localizeRouter=gt(j({},i.localizeRouter),{[n]:e[n]}));let s=this.translateRoute(i.localizeRouter[n]);e[n]=o?this.addPrefixToUrl(s):s}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(e){let n=e.split("?"),o=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let i=n.join("?");return this.urlPrefix===""?i:!i.startsWith("/")&&!o?`${this.urlPrefix}/${i}`:`/${this.urlPrefix}${i}`}translateRoute(e){let n=e.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(i=>i.length?this.translateText(i):i).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(e){let n=(e||this.location.path()).split(/[\?;]/),o=[];return n.length>0&&(o=n[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Nn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Nn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Nn.Cookie)return this._cacheWithCookies()}}set _cachedLang(e){this.settings.useCachedLang&&(this.settings.cacheMechanism===Nn.LocalStorage&&this._cacheWithLocalStorage(e),this.settings.cacheMechanism===Nn.SessionStorage&&this._cacheWithSessionStorage(e),this.settings.cacheMechanism===Nn.Cookie&&this._cacheWithCookies(e))}_cacheWithLocalStorage(e){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(e){window.localStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(e){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(e){window.sessionStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(e){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(e){let s=`${this.settings.cookieFormat}`;s=s.replace("{{value}}",`${n}=${encodeURIComponent(e)}`).replace(/{{expires:?(\d+)?}}/g,(l,d)=>{let p=d===void 0?h0:parseInt(d,10),h=new Date;return h.setTime(h.getTime()+p*864e5),`expires=${h.toUTCString()}`}),document.cookie=s;return}let i=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(i[1])}catch{return}}_returnIfInLocales(e){return e&&this.locales.indexOf(e)!==-1?e:null}translateText(e){if(this.escapePrefix&&e.startsWith(this.escapePrefix))return e.replace(this.escapePrefix,"");{if(!this._translationObject)return e;let n=this.prefix+e,o=this.translate.getParsedResult(this._translationObject,n);return o!==n?o:e}}chooseQueryParams(e,n){let o;return e&&e.queryParams?o=e.queryParams:n&&(o=n),o}formatQueryParams(e){return new Zp({fromObject:e}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(n){return new(n||t)(jt(ah),jt(Tr),jt(Dc))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();var g0=(()=>{class t extends Ia{load(e){return new Promise(n=>{this.init(e).then(n)})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})()}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();function Ec(t,r){if(t===r)return!0;if(t===null||r===null)return!1;if(t!==t&&r!==r)return!0;let e=typeof t,n=typeof r,o,i,s;if(e===n&&e==="object")if(Array.isArray(t)){if(!Array.isArray(r))return!1;if((o=t.length)===r.length){for(i=0;i<o;i++)if(!Ec(t[i],r[i]))return!1;return!0}}else{if(Array.isArray(r))return!1;s=Object.create(null);for(i in t)if(t.hasOwnProperty(i)){if(!Ec(t[i],r[i]))return!1;s[i]=!0}for(i in r)if(r.hasOwnProperty(i)&&!(i in s)&&typeof r[i]<"u")return!1;return!0}return!1}function v0(t){return!!t&&typeof t.then=="function"}function Bd(t){let r=Array.isArray(t)?[]:{};for(let e in t)if(e){let n=t[e];r[e]=typeof n=="object"?Bd(n):n}return r}var $d=(()=>{class t{constructor(e,n,o,i){this.parser=e,this.settings=n,this.router=o,this.route=i,this.routerEvents=new at;let s=new mp(1);this.hooks={_initializedSubject:s,initialized:s.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(yt(e=>e instanceof Br),Uu()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(e,n,o){if(e!==this.parser.currentLang){let i=this.router.routerState.snapshot.root;this.parser.translateRoutes(e).subscribe(()=>{let s=this.traverseRouteSnapshot(i);if(s=this.translateRoute(s),!this.settings.alwaysSetPrefix){let p=s.split("/"),h=p.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(h===0||h===1&&p[0]==="")&&(p=p.slice(0,h).concat(p.slice(h+1)));else if(h===-1){let y=p[0]===""?1:0;p=p.slice(0,y).concat(this.parser.currentLang,p.slice(y))}s=p.join("/")}s=s.replace(/\/+/g,"/");let l=s.lastIndexOf("/");l>0&&l===s.length-1&&(s=s.slice(0,-1));let d=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,o){let p=n?j({},n):{};d&&(p.queryParams=d),this.router.navigate([s],p)}else{let p=this.parser.formatQueryParams(d);p=p?`?${p}`:"",this.router.navigateByUrl(`${s}${p}`,n)}})}}traverseRouteSnapshot(e){return e.firstChild&&e.routeConfig?`${this.parseSegmentValue(e)}/${this.traverseRouteSnapshot(e.firstChild)}`:e.firstChild?this.traverseRouteSnapshot(e.firstChild):this.parseSegmentValue(e)}buildUrlFromSegments(e,n){return n.map((o,i)=>o.indexOf(":")===0?e.url[i].path:o).join("/")}parseSegmentValue(e){if(e.routeConfig&&e.routeConfig.matcher){let n=this.parseSegmentValueMatcher(e);return this.buildUrlFromSegments(e,n)}else if(e.data.localizeRouter){let o=e.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(e,o)}else if(e.parent&&e.parent.parent){let o=e.routeConfig.path.split("/");return this.buildUrlFromSegments(e,o)}else return""}parseSegmentValueMatcher(e){let n=e.data&&e.data.localizeMatcher&&e.data.localizeMatcher.params||{};return e.url.map(i=>{let s=i.path,l=i.localizedParamName;return(l&&n[l]?n[l](s):null)||`${this.parser.getEscapePrefix()}${s}`})}translateRoute(e){if(typeof e=="string"){let o=this.parser.translateRoute(e);return e.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let n=[];return e.forEach((o,i)=>{if(typeof o=="string"){let s=this.parser.translateRoute(o);!i&&!o.indexOf("/")?n.push(this.parser.addPrefixToUrl(s)):n.push(s)}else n.push(o)}),n}_routeChanged(){return([e,n])=>{let o=this.parser.getLocationLang(e.url)||this.parser.defaultLang,i=this.parser.getLocationLang(n.url)||this.parser.defaultLang,s=this.lastExtras;i!==o&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(i).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,s),this.routerEvents.next(i)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let e=this.router.getCurrentNavigation(),n=this.router.serializeUrl(e.extractedUrl);this.router.events.next(new ar(e.id,n,"")),this.router.navigationTransitions.transitions.next(gt(j({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(e){this.router.resetConfig(Bd(e))}static{this.\u0275fac=function(n){return new(n||t)(jt(Ia),jt(Dc),jt(Ae),jt(cr))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),b0=128,Bk=(()=>{class t{constructor(e,n){this.localize=e,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(e){if(!e||e.length===0||!this.localize.parser.currentLang)return e;if(Ec(e,this.lastKey)&&Ec(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=e,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(e),this.lastKey=e;let n=this._ref._view;return n&&n.state&b0?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}static{this.\u0275fac=function(n){return new(n||t)(rn($d,16),rn(Mr,16))}}static{this.\u0275pipe=Pp({name:"localize",type:t,pure:!1})}}return t})(),Fd=class{constructor(){}shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r&&e?this.getKey(r)===this.getKey(e):!1}getKey(r){if(r.firstChild&&r.firstChild.routeConfig&&r.firstChild.routeConfig.path&&r.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!r.data.localizeRouter&&(!r.parent||!r.parent.parent)&&!r.data.skipRouteLocalization)return"LANG";if(r.routeConfig.matcher){let e=`${this.getKey(r.parent)}/${r.routeConfig.matcher.name}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else if(r.data.localizeRouter){let e=`${this.getKey(r.parent)}/${r.data.localizeRouter.path}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else{let e=r.routeConfig.path;return r.parent&&(e=`${this.getKey(r.parent)}/${r.routeConfig.path}`),r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}}},y0=(()=>{class t extends Ae{constructor(){super(),this.platformId=R(Ap),this.compiler=R(ei),this.localize=R(Ia),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,i)=>w0(i.loadChildren()).pipe(pt(x0),Wt(s=>s instanceof Us||Array.isArray(s)?nt(s):he(this.compiler.compileModuleAsync(s))),pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,d;if(Array.isArray(s))d=this.localize.initChildRoutes([].concat(...s));else{l=s.create(o).injector;let h=l.get.bind(l);l.get=(y,O,k)=>{let T=h(y,O,k);return y===jr?this.localize.initChildRoutes([].concat(...T)):T},d=l.get(jr,[],{optional:!0,self:!0}).reduce((y,O)=>y.concat(O),[])}return{routes:d.map(kg),injector:l}}));let n=Qp(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(o,i)=>{if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let l=this.loadModuleFactoryOrRoutes(o,i).pipe(Xo(()=>{this.childrenLoaders.delete(i)})),d=new co(l,()=>new at).pipe(ta());return this.childrenLoaders.set(i,d),d}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kg(t){let r=t.children&&t.children.map(kg),e=r?gt(j({},t),{children:r}):j({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ut&&(e.component=Da),e}function _0(t){return t&&typeof t=="object"&&"default"in t}function x0(t){return _0(t)?t.default:t}function w0(t){return ra(t)?t:v0(t)?he(Promise.resolve(t)):nt(t)}var xg=(()=>{class t{constructor(e){this.injector=e}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get($d),o=this.injector.get(Ae),i=this.injector.get(Dc);if(n.init(),i.initialNavigation)return new Promise(s=>{let l=o.navigationTransitions.afterPreactivation,d=!0;o.navigationTransitions.afterPreactivation=()=>(d&&(s(),d=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),l())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(e,n){return this.parser=e,this.routes=n.reduce((o,i)=>o.concat(i)),this.appInitializer}static{this.\u0275fac=function(n){return new(n||t)(jt(qt))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();function C0(t,r,e){let n=Bd(e);return t.generateInitializer(r,n).bind(t)}function S0(t,r){return[{provide:Ae,useClass:y0},{provide:d0,useFactory:O0,deps:[[R0,new Vu,new wp]]},{provide:wg,useValue:r.useCachedLang},{provide:Dg,useValue:r.alwaysSetPrefix},{provide:Sg,useValue:r.cacheName},{provide:Cg,useValue:r.cacheMechanism},{provide:Eg,useValue:r.defaultLangFunction},{provide:Rg,useValue:r.cookieFormat},{provide:Og,useValue:r.initialNavigation},Dc,r.parser||{provide:Ia,useClass:g0},{provide:Ld,multi:!0,useValue:t},$d,xg,{provide:Bp,multi:!0,useFactory:C0,deps:[xg,Ia,Ld]},{provide:Rc,useClass:Fd}]}var R0=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:S0(e,n)}}static forChild(e){return{ngModule:t,providers:[{provide:Ld,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Yt({imports:[Yp,Nd,sh]})}}return t})();function O0(t){if(t)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Eo(t)}function Ag(t,r){if(Eo(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ig(t){var r=Ag(t,"string");return Eo(r)=="symbol"?r:r+""}function Mg(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ig(n.key),n)}}function Ie(t,r,e){return r&&Mg(t.prototype,r),e&&Mg(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ma(t){return Array.isArray(t)?t.slice(0):[t]}function Ur(t){return Array.isArray(t)}function Tg(t){return t!=null}function kc(t,r){var e=0,n=-1;for(var o of t){n=n+1;var i=r(o,n);if(i)e=e+1;else break}return e}function _r(t,r){var e=r.length;if(e!==0){var n=t.length;t.length=n+r.length;for(var o=0;o<e;++o)t[n+o]=r[o]}}function Pg(t){return t.filter(function(r,e,n){return n.indexOf(r)===e})}function Ng(t){for(var r="",e=new Uint8Array(t),n=e.byteLength,o=0;o<n;o++)r+=String.fromCharCode(e[o]);return btoa(r)}function Lg(t,r){return U(this,null,function*(){var e=yield fetch("data:"+r+";base64,"+t),n=yield e.blob();return n})}function Fg(t){var r=Object.prototype.toString.call(t);return r==="[object Uint8Array]"&&(t=new Blob([t])),typeof t=="string"?Promise.resolve(t):t.text()}function Bg(t){return U(this,null,function*(){if(typeof t=="string")return t;var r=Object.prototype.toString.call(t);r==="[object Uint8Array]"&&(t=new Blob([t]));var e=yield t.arrayBuffer();return Ng(e)})}function $g(t){return t.size}function Do(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(n==="-")return parseInt(r,10);r+=n}throw new Error("malformatted revision: "+t)}function vi(t,r){var e=r?Do(r._rev)+1:1;return e+"-"+t}function Ud(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==null&&(typeof t[r]=="object"||typeof t[r]=="function")&&!Object.isFrozen(t[r])&&Ud(t[r])}),t}function jg(t){var r=t.split("."),e=r.length;return e===1?n=>n[t]:n=>{for(var o=n,i=0;i<e;++i){var s=r[i];if(o=o[s],typeof o>"u")return o}return o}}function Ac(t){var r={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))if(typeof t[e]=="object"){var n=Ac(t[e]);for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[e+"."+o]=n[o])}else r[e]=t[e];return r}function Dt(t){return Object.assign({},t)}function Ug(t){return Object.keys(t)[0]}function bi(t,r=!1){if(!t)return t;if(!r&&Array.isArray(t))return t.sort((n,o)=>typeof n=="string"&&typeof o=="string"?n.localeCompare(o):typeof n=="object"?1:-1).map(n=>bi(n,r));if(typeof t=="object"&&!Array.isArray(t)){var e={};return Object.keys(t).sort((n,o)=>n.localeCompare(o)).forEach(n=>{e[n]=bi(t[n],r)}),e}return t}function jd(t){if(!t||t===null||typeof t!="object")return t;if(Array.isArray(t)){for(var r=new Array(t.length),e=r.length;e--;)r[e]=jd(t[e]);return r}var n={};for(var o in t)n[o]=jd(t[o]);return n}var lr=jd;function Ge(t,r,e){return Object.defineProperty(t,r,{get:function(){return e}}),e}var Ic=1;function Ln(){return{lwt:Ic}}function cn(){return""}function zg(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Vg(t,r,e){if(r.length!==e.length)return!1;for(var n=0,o=r.length;n<o;){var i=r[n],s=e[n];if(n++,i._rev!==s._rev||i[t]!==s[t])return!1}return!0}var oA=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var iA=Object.freeze(["prototype","__proto__","constructor"]);var E0="[native code] }",aA=E0.length;var D0=Object.defineProperty,k0=(t,r,e)=>r in t?D0(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,yi=(t,r,e)=>(k0(t,typeof r!="symbol"?r+"":r,e),e),Fn=class t{constructor(r,e){yi(this,"words"),yi(this,"sigBytes"),r=this.words=r||[],this.sigBytes=e===void 0?r.length*4:e}toString(r){return(r||A0).stringify(this)}concat(r){if(this.clamp(),this.sigBytes%4)for(let e=0;e<r.sigBytes;e++){let n=r.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<r.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=r.words[e>>>2];return this.sigBytes+=r.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new t([...this.words])}},A0={stringify(t){let r=[];for(let e=0;e<t.sigBytes;e++){let n=t.words[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16),(n&15).toString(16))}return r.join("")}};var I0={parse(t){let r=t.length,e=[];for(let n=0;n<r;n++)e[n>>>2]|=(t.charCodeAt(n)&255)<<24-n%4*8;return new Fn(e,r)}},M0={parse(t){return I0.parse(unescape(encodeURIComponent(t)))}},zd=class{constructor(){yi(this,"_data",new Fn),yi(this,"_nDataBytes",0),yi(this,"_minBufferSize",0),yi(this,"blockSize",512/32)}reset(){this._data=new Fn,this._nDataBytes=0}_append(r){typeof r=="string"&&(r=M0.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_doProcessBlock(r,e){}_process(r){let e,n=this._data.sigBytes/(this.blockSize*4);r?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);let o=n*this.blockSize,i=Math.min(o*4,this._data.sigBytes);if(o){for(let s=0;s<o;s+=this.blockSize)this._doProcessBlock(this._data.words,s);e=this._data.words.splice(0,o),this._data.sigBytes-=i}return new Fn(e,i)}},Vd=class extends zd{update(r){return this._append(r),this._process(),this}finalize(r){r&&this._append(r)}},T0=Object.defineProperty,P0=(t,r,e)=>r in t?T0(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,N0=(t,r,e)=>(P0(t,typeof r!="symbol"?r+"":r,e),e),qg=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],L0=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ko=[],qd=class extends Vd{constructor(){super(...arguments),N0(this,"_hash",new Fn([...qg]))}reset(){super.reset(),this._hash=new Fn([...qg])}_doProcessBlock(r,e){let n=this._hash.words,o=n[0],i=n[1],s=n[2],l=n[3],d=n[4],p=n[5],h=n[6],y=n[7];for(let O=0;O<64;O++){if(O<16)ko[O]=r[e+O]|0;else{let tt=ko[O-15],kt=(tt<<25|tt>>>7)^(tt<<14|tt>>>18)^tt>>>3,st=ko[O-2],Mt=(st<<15|st>>>17)^(st<<13|st>>>19)^st>>>10;ko[O]=kt+ko[O-7]+Mt+ko[O-16]}let k=d&p^~d&h,T=o&i^o&s^i&s,$=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),W=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),J=y+W+k+L0[O]+ko[O],rt=$+T;y=h,h=p,p=d,d=l+J|0,l=s,s=i,i=o,o=J+rt|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+d|0,n[5]=n[5]+p|0,n[6]=n[6]+h|0,n[7]=n[7]+y|0}finalize(r){super.finalize(r);let e=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(n+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function Hg(t){return new qd().finalize(t).toString()}function F0(t){return Promise.resolve(Hg(t))}function B0(t){return U(this,null,function*(){var r=new TextEncoder().encode(t),e=yield crypto.subtle.digest("SHA-256",r),n=Array.prototype.map.call(new Uint8Array(e),o=>("00"+o.toString(16)).slice(-2)).join("");return n})}var $0=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",_i=$0?B0:F0;function Wg(){return new Promise(t=>setTimeout(t,0))}function Kg(t=0){return new Promise(r=>setTimeout(r,t))}var j0=Promise.resolve(!0),zr=Promise.resolve(!1),Gg=Promise.resolve(null),Bn=Promise.resolve();function xi(t=1e4){return typeof requestIdleCallback=="function"?new Promise(r=>{requestIdleCallback(()=>r(),{timeout:t})}):Kg(0)}var Hd=Bn;function Yg(t=void 0){return Hd=Hd.then(()=>xi(t)),Hd}function Qg(t,r){return t.reduce((e,n)=>e.then(n),Promise.resolve(r))}var Xg=/\./g;var Zg="abcdefghijklmnopqrstuvwxyz";function Ao(t=10){for(var r="",e=0;e<t;e++)r+=Zg.charAt(Math.floor(Math.random()*Zg.length));return r}function Mc(t){t+="";var r=t.charAt(0).toUpperCase();return r+t.substr(1)}function xr(t){for(;t.charAt(0)===".";)t=t.substr(1);for(;t.slice(-1)===".";)t=t.slice(0,-1);return t}function Wd(t){return!!(t.includes("/")||t.includes("\\"))}function $n(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var e,n;if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!$n(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();var o=Object.keys(t);if(e=o.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=e;n--!==0;){var i=o[n];if(!$n(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}var Gd=t=>{var r=typeof t;return t!==null&&(r==="object"||r==="function")},Kd=new Set(["__proto__","prototype","constructor"]),U0=new Set("0123456789");function Jg(t){var r=[],e="",n="start",o=!1;for(var i of t)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");o&&(e+=i),n="property",o=!o;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(o){o=!1,e+=i;break}if(Kd.has(e))return[];r.push(e),e="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(o){o=!1,e+=i;break}if(n==="property"){if(Kd.has(e))return[];r.push(e),e=""}n="index";break}case"]":{if(n==="index"){r.push(Number.parseInt(e,10)),e="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!U0.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),o&&(o=!1,e+="\\"),e+=i}}switch(o&&(e+="\\"),n){case"property":{if(Kd.has(e))return[];r.push(e);break}case"index":throw new Error("Index was not closed");case"start":{r.push("");break}}return r}function tv(t,r){if(typeof r!="number"&&Array.isArray(t)){var e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}function z0(t,r){if(tv(t,r))throw new Error("Cannot use string index")}function Be(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!r.includes(".")&&!r.includes("["))return t[r];if(!Gd(t)||typeof r!="string")return e===void 0?t:e;var n=Jg(r);if(n.length===0)return e;for(var o=0;o<n.length;o++){var i=n[o];if(tv(t,i)?t=o===n.length-1?void 0:null:t=t[i],t==null){if(o!==n.length-1)return e;break}}return t===void 0?e:t}function Yd(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!Gd(t)||typeof r!="string")return t;for(var n=t,o=Jg(r),i=0;i<o.length;i++){var s=o[i];z0(t,s),i===o.length-1?t[s]=e:Gd(t[s])||(t[s]=typeof o[i+1]=="number"?[]:{}),t=t[s]}return n}function jn(t,r){var e=t.get(r);if(typeof e>"u")throw new Error("missing value from map "+r);return e}function Ye(t,r,e,n){var o=t.get(r);return typeof o>"u"?(o=e(),t.set(r,o)):n&&n(o),o}function Rt(t){var r=t.split("-"),e="RxDB";return r.forEach(n=>{e+=Mc(n)}),e+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+e+" } from 'rxdb/plugins/"+t+`';
            addRxPlugin(`+e+`);
        `)}var Qd=0;function ne(){var t=Date.now();t=t+.01,t<=Qd&&(t=Qd+.01);var r=parseFloat(t.toFixed(2));return Qd=r,r}function Ot(t,r){if(!t)throw r||(r=""),new Error("ensureNotFalsy() is falsy: "+r);return t}var Tc={bufferSize:1,refCount:!0};var Io="15.39.0";var Un={},Pc="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function zn(t,r){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},zn(t,r)}function Xd(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,zn(t,r)}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nc(t)}function ev(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Zd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zd=function(){return!!t})()}function rv(t,r,e){if(Zd())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var o=new(t.bind.apply(t,n));return e&&zn(o,e.prototype),o}function Ta(t){var r=typeof Map=="function"?new Map:void 0;return Ta=function(n){if(n===null||!ev(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,o)}function o(){return rv(n,arguments,Nc(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),zn(o,n)},Ta(t)}var It={isDevMode(){return!1},deepFreezeWhenDevMode(t){return t},tunnelErrorMessage(t){return"RxDB Error-Code "+t+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function V0(t){var r="";return Object.keys(t).length===0||(r+=`Given parameters: {
`,r+=Object.keys(t).map(e=>{var n="[object Object]";try{e==="errors"?n=t[e].map(o=>JSON.stringify(o,Object.getOwnPropertyNames(o))):n=JSON.stringify(t[e],function(o,i){return i===void 0?null:i},2)}catch{}return e+":"+n}).join(`
`),r+="}"),r}function nv(t,r,e){return"RxError ("+r+`):
`+t+`
`+V0(e)}var q0=function(t){function r(n,o,i={}){var s,l=nv(o,n,i);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=Jd(n),s.parameters=i,s.rxdb=!0,s}Xd(r,t);var e=r.prototype;return e.toString=function(){return this.message},Ie(r,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(Ta(Error)),H0=function(t){function r(n,o,i={}){var s,l=nv(o,n,i);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=Jd(n),s.parameters=i,s.rxdb=!0,s}Xd(r,t);var e=r.prototype;return e.toString=function(){return this.message},Ie(r,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(Ta(TypeError));function Jd(t){return"https://rxdb.info/errors.html?console=errors#"+t}function ov(t){return`
 You can find out more about this error here: `+Jd(t)+" "}function L(t,r){return new q0(t,It.tunnelErrorMessage(t)+ov(t),r)}function de(t,r){return new H0(t,It.tunnelErrorMessage(t)+ov(t),r)}function Lc(t){return t&&t.status===409?t:!1}var W0={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function iv(t){return L("COL20",{name:W0[t.status],document:t.documentId,writeError:t})}var wi={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function te(t,r){wi[t].length>0&&wi[t].forEach(e=>e(r))}function Vn(t,r){return Promise.all(wi[t].map(e=>e(r)))}function $e(t,r){var e=r;e=e.replace(Xg,".properties."),e="properties."+e,e=xr(e);var n=Be(t,e);return n}function Fc(t,r,e){if(typeof r.primaryKey=="string")return e;var n=Pa(r,e),o=e[t];if(o&&o!==n)throw L("DOC19",{args:{documentData:e,existingPrimary:o,newPrimary:n},schema:r});return e[t]=n,e}function be(t){return typeof t=="string"?t:t.key}function Pa(t,r){if(typeof t.primaryKey=="string")return r[t.primaryKey];var e=t.primaryKey;return e.fields.map(n=>{var o=Be(r,n);if(typeof o>"u")throw L("DOC18",{args:{field:n,documentData:r}});return o}).join(e.separator)}function av(t){var r=bi(t,!0);return r}function K0(t){return["_deleted",t]}function Bc(t){t=Dt(t);var r=be(t.primaryKey);t.properties=Dt(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=G0,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var e=tf(t);_r(t.required,e),t.required=t.required.filter(i=>!i.includes(".")).filter((i,s,l)=>l.indexOf(i)===s),t.version=t.version||0;var n=t.indexes.map(i=>{var s=Ur(i)?i.slice(0):[i];return s.includes(r)||s.push(r),s[0]!=="_deleted"&&s.unshift("_deleted"),s});n.length===0&&n.push(K0(r)),n.push(["_meta.lwt",r]),t.internalIndexes&&t.internalIndexes.map(i=>{n.push(i)});var o=new Set;return n.filter(i=>{var s=i.join(",");return o.has(s)?!1:(o.add(s),!0)}),t.indexes=n,t}var G0={type:"object",properties:{lwt:{type:"number",minimum:Ic,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function tf(t){var r=Object.keys(t.properties).filter(n=>t.properties[n].final),e=be(t.primaryKey);return r.push(e),typeof t.primaryKey!="string"&&t.primaryKey.fields.forEach(n=>r.push(n)),r}function sv(t,r){for(var e=Object.keys(t.defaultValues),n=0;n<e.length;++n){var o=e[n];(!Object.prototype.hasOwnProperty.call(r,o)||typeof r[o]>"u")&&(r[o]=t.defaultValues[o])}return r}var ef=function(){function t(e,n){this.jsonSchema=e,this.hashFunction=n,this.indexes=Y0(this.jsonSchema),this.primaryPath=be(this.jsonSchema.primaryKey),this.finalFields=tf(this.jsonSchema)}var r=t.prototype;return r.validateChange=function(n,o){this.finalFields.forEach(i=>{if(!$n(n[i],o[i]))throw L("DOC9",{dataBefore:n,dataAfter:o,fieldName:i,schema:this.jsonSchema})})},r.getDocumentPrototype=function(){var n={},o=$e(this.jsonSchema,"");return Object.keys(o).forEach(i=>{var s=i;n.__defineGetter__(i,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(s);return l}}),Object.defineProperty(n,i+"$",{get:function(){return this.get$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,i+"$$",{get:function(){return this.get$$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,i+"_",{get:function(){return this.populate(s)},enumerable:!1,configurable:!1})}),Ge(this,"getDocumentPrototype",()=>n),n},r.getPrimaryOfDocumentData=function(n){return Pa(this.jsonSchema,n)},Ie(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,o])=>e[n]=o.default),Ge(this,"defaultValues",e)}},{key:"hash",get:function(){return Ge(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Y0(t){return(t.indexes||[]).map(r=>Ur(r)?r:[r])}function cv(t){var r=t.version?t.version:0,e=0;return new Array(r).fill(0).map(()=>e++)}function lv(t,r,e=!0){e&&te("preCreateRxSchema",t);var n=Bc(t);n=av(n),It.deepFreezeWhenDevMode(n);var o=new ef(n,r);return te("createRxSchema",o),o}function uv(t){return t.documentData?t.documentData:t.previousDocumentData}function dv(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:It.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}function $c(t){return t[t.length-1]}function Q0(t){let r=typeof t;return t!==null&&(r==="object"||r==="function")}function rf(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!Q0(t)||typeof r!="string")return e===void 0?t:e;let n=r.split(".");if(n.length===0)return e;for(let o=0;o<n.length;o++){let i=n[o];if(X0(t,i)?t=o===n.length-1?void 0:null:t=t[i],t==null){if(o!==n.length-1)return e;break}}return t===void 0?e:t}function X0(t,r){if(typeof r!="number"&&Array.isArray(t)){let e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}var nf=t=>!!t.queryParams.limit,fv=t=>t.queryParams.limit===1,mv=t=>!!(t.queryParams.skip&&t.queryParams.skip>0),pv=t=>t.changeEvent.operation==="DELETE",hv=t=>t.changeEvent.operation==="INSERT",gv=t=>t.changeEvent.operation==="UPDATE",vv=t=>nf(t)&&t.previousResults.length>=t.queryParams.limit,bv=t=>{let r=t.queryParams.sortFields,e=t.changeEvent.previous,n=t.changeEvent.doc;if(!n)return!1;if(!e)return!0;for(let o=0;o<r.length;o++){let i=r[o],s=rf(e,i),l=rf(n,i);if(s!==l)return!0}return!1},yv=t=>{let r=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(r);{let e=t.queryParams.primaryKey,n=t.previousResults;for(let o=0;o<n.length;o++)if(n[o][e]===r)return!0;return!1}},_v=t=>{let r=t.previousResults[0];return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},xv=t=>{let r=$c(t.previousResults);return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},wv=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Cv=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=$c(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},Sv=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Rv=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=$c(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},Ov=t=>{let r=t.changeEvent.previous;return r?t.queryParams.queryMatcher(r):!1},Ev=t=>{let r=t.changeEvent.doc;return r?t.queryParams.queryMatcher(r):!1},Dv=t=>t.previousResults.length===0;var kv={0:hv,1:gv,2:pv,3:nf,4:fv,5:mv,6:Dv,7:vv,8:_v,9:xv,10:bv,11:yv,12:wv,13:Cv,14:Sv,15:Rv,16:Ov,17:Ev};function Av(t,r,e,n){var o=t.length,i=o-1,s=0;if(o===0)return t.push(r),0;for(var l;n<=i;)s=n+(i-n>>1),l=t[s],e(l,r)<=0?n=s+1:i=s-1;return e(l,r)<=0&&s++,t.splice(s,0,r),s}var Iv=t=>{},jc=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},Uc=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},zc=t=>{let r=t.previousResults.shift();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},Vc=t=>{let r=t.previousResults.pop();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},Mv=t=>{zc(t),Uc(t)},Tv=t=>{Vc(t),jc(t)},Pv=t=>{zc(t),jc(t)},Nv=t=>{Vc(t),Uc(t)},of=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);let r=t.queryParams.primaryKey,e=t.previousResults;for(let n=0;n<e.length;n++)if(e[n][r]===t.changeEvent.id){e.splice(n,1);break}},Lv=t=>{let r=t.changeEvent.doc,e=t.queryParams.primaryKey,n=t.previousResults;for(let o=0;o<n.length;o++)if(n[o][e]===t.changeEvent.id){n[o]=r,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,r);break}},Fv=t=>{let r={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(r),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(r._id,r))},af=t=>{let r=t.changeEvent.id,e=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(r))return;t.keyDocumentMap.set(r,e)}else if(t.previousResults.find(o=>o[t.queryParams.primaryKey]===r))return;Av(t.previousResults,e,t.queryParams.sortComparator,0)},Bv=t=>{of(t),af(t)},$v=t=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},jv=t=>{throw new Error("Action unknownAction should never be called")};var Uv=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],zv={doNothing:Iv,insertFirst:jc,insertLast:Uc,removeFirstItem:zc,removeLastItem:Vc,removeFirstInsertLast:Mv,removeLastInsertFirst:Tv,removeFirstInsertFirst:Pv,removeLastInsertLast:Nv,removeExisting:of,replaceExisting:Lv,alwaysWrong:Fv,insertAtSortPosition:af,removeExistingAndInsertAtSortPosition:Bv,runFullQueryAgain:$v,unknownAction:jv};function qc(t){return t.charCodeAt(0)-40}function Vv(t){return t?"1":"0"}function Z0(t=6){let r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*n));return r}var bI=Z0(4);function sf(t,r){let e=[];for(let n=0,o=t.length;n<o;n+=r)e.push(t.substring(n,n+r));return e}function qv(t){let r=new Map,n=2+parseInt(t.charAt(0)+t.charAt(1),10)*2,o=t.substring(2,n),i=sf(o,2);for(let $=0;$<i.length;$++){let W=i[$],J=W.charAt(0),rt=qc(W.charAt(1));r.set(J,rt)}let s=t.substring(n,t.length-3),l=sf(s,4);for(let $=0;$<l.length;$++){let W=l[$],J=W.charAt(0),rt=W.charAt(1),tt=W.charAt(2),kt=qc(W.charAt(3));if(!r.has(rt))throw new Error("missing node with id "+rt);if(!r.has(tt))throw new Error("missing node with id "+tt);let st=r.get(rt),Mt=r.get(tt),Et={l:kt,0:st,1:Mt};r.set(J,Et)}let d=t.slice(-3),p=d.charAt(0),h=d.charAt(1),y=qc(d.charAt(2)),O=r.get(p),k=r.get(h);return{l:y,0:O,1:k}}function Hv(t,r,e){let n=t,o=t.l;for(;;){let i=r[o](e),s=Vv(i);if(n=n[s],typeof n=="number"||typeof n=="string")return n;o=n.l}}var J0="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",cf;function tC(){return cf||(cf=qv(J0)),cf}var Wv=t=>Hv(tC(),kv,t);function Kv(t){let r=Wv(t);return Uv[r]}function Gv(t,r,e,n,o){let i=zv[t];return i({queryParams:r,changeEvent:e,previousResults:n,keyDocumentMap:o}),n}var Mo="\uFFFF",To=Number.MIN_SAFE_INTEGER;function Yv(t,r){var e=r.selector,n=t.indexes?t.indexes.slice(0):[];r.index&&(n=[r.index]);var o=!!r.sort.find(h=>Object.values(h)[0]==="desc"),i=new Set;Object.keys(e).forEach(h=>{var y=$e(t,h);y&&y.type==="boolean"&&Object.prototype.hasOwnProperty.call(e[h],"$eq")&&i.add(h)});var s=r.sort.map(h=>Object.keys(h)[0]),l=s.filter(h=>!i.has(h)).join(","),d=-1,p;if(n.forEach(h=>{var y=!0,O=!0,k=h.map(rt=>{var tt=e[rt],kt=tt?Object.keys(tt):[],st={};if(!tt||!kt.length){var Mt=O?To:Mo;st={startKey:Mt,endKey:y?Mo:To,inclusiveStart:!0,inclusiveEnd:!0}}else kt.forEach(Et=>{if(Hc.has(Et)){var Bt=tt[Et],pe=oC(Et,Bt);st=Object.assign(st,pe)}});return typeof st.startKey>"u"&&(st.startKey=To),typeof st.endKey>"u"&&(st.endKey=Mo),typeof st.inclusiveStart>"u"&&(st.inclusiveStart=!0),typeof st.inclusiveEnd>"u"&&(st.inclusiveEnd=!0),O&&!st.inclusiveStart&&(O=!1),y&&!st.inclusiveEnd&&(y=!1),st}),T=k.map(rt=>rt.startKey),$=k.map(rt=>rt.endKey),W={index:h,startKeys:T,endKeys:$,inclusiveEnd:y,inclusiveStart:O,sortSatisfiedByIndex:!o&&l===h.filter(rt=>!i.has(rt)).join(","),selectorSatisfiedByIndex:nC(h,r.selector,T,$)},J=iC(t,r,W);(J>=d||r.index)&&(d=J,p=W)}),!p)throw L("SNH",{query:r});return p}var Hc=new Set(["$eq","$gt","$gte","$lt","$lte"]),eC=new Set(["$eq","$gt","$gte"]),rC=new Set(["$eq","$lt","$lte"]);function nC(t,r,e,n){var o=Object.entries(r),i=o.find(([Et,Bt])=>{if(!t.includes(Et))return!0;var pe=Object.entries(Bt).find(([Ue,fr])=>!Hc.has(Ue));return pe});if(i||r.$and||r.$or)return!1;var s=[],l=new Set;for(var[d,p]of Object.entries(r)){if(!t.includes(d))return!1;var h=Object.keys(p).filter(Et=>eC.has(Et));if(h.length>1)return!1;var y=h[0];if(y&&l.add(d),y!=="$eq"){if(s.length>0)return!1;s.push(y)}}var O=[],k=new Set;for(var[T,$]of Object.entries(r)){if(!t.includes(T))return!1;var W=Object.keys($).filter(Et=>rC.has(Et));if(W.length>1)return!1;var J=W[0];if(J&&k.add(T),J!=="$eq"){if(O.length>0)return!1;O.push(J)}}var rt=0;for(var tt of t){for(var kt of[l,k]){if(!kt.has(tt)&&kt.size>0)return!1;kt.delete(tt)}var st=e[rt],Mt=n[rt];if(st!==Mt&&l.size>0&&k.size>0)return!1;rt++}return!0}function oC(t,r){switch(t){case"$eq":return{startKey:r,endKey:r,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:r,inclusiveEnd:!0};case"$gte":return{startKey:r,inclusiveStart:!0};case"$lt":return{endKey:r,inclusiveEnd:!1};case"$gt":return{startKey:r,inclusiveStart:!1};default:throw new Error("SNH")}}function iC(t,r,e){var n=0,o=h=>{h>0&&(n=n+h)},i=10,s=kc(e.startKeys,h=>h!==To&&h!==Mo);o(s*i);var l=kc(e.startKeys,h=>h!==Mo&&h!==To);o(l*i);var d=kc(e.startKeys,(h,y)=>h===e.endKeys[y]);o(d*i*1.5);var p=e.sortSatisfiedByIndex?5:0;return o(p),n}var fe=class extends Error{},Yc=2147483647,Qc=-2147483648,mf=Number.MAX_SAFE_INTEGER,pf=Number.MIN_SAFE_INTEGER,ln=Symbol("missing"),Zv=Object.freeze(new Error("mingo: cycle detected while processing object/array")),aC="[object Object]",sC=/^\[object ([a-zA-Z0-9]+)\]$/,Na=t=>{let r=fC(t),e=0,n=r.length;for(;n;)e=(e<<5)-e^r.charCodeAt(--n);return e>>>0},Jv=new Set(["null","undefined","boolean","number","string","date","regexp"]),cC={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Nt=(t,r)=>{t===ln&&(t=void 0),r===ln&&(r=void 0);let[e,n]=[t,r].map(o=>cC[qn(o).toLowerCase()]);return e!==n?e-n:e===1||e===2||e===6?t<r?-1:t>r?1:0:ye(t,r)?0:t<r?-1:t>r?1:0};function z(t,r){if(!t)throw new fe(r)}var qn=t=>sC.exec(Object.prototype.toString.call(t))[1],La=t=>typeof t=="boolean",wt=t=>typeof t=="string";var ft=t=>!isNaN(t)&&typeof t=="number";var it=Array.isArray,dt=t=>{if(!t)return!1;let r=Object.getPrototypeOf(t);return(r===Object.prototype||r===null)&&aC===Object.prototype.toString.call(t)},Fa=t=>t===Object(t),Hn=t=>t instanceof Date,Ri=t=>t instanceof RegExp,Ba=t=>typeof t=="function",X=t=>t==null,Vr=(t,r)=>t.includes(r),Xc=(t,r)=>!Vr(t,r),Me=(t,r=!0)=>!!t||r&&t==="",Qe=t=>X(t)||wt(t)&&!t||t instanceof Array&&t.length===0||dt(t)&&Object.keys(t).length===0,Qv=t=>t===ln,qr=t=>t instanceof Array?t:[t],Vt=(t,r)=>!!t&&Object.prototype.hasOwnProperty.call(t,r),hf=t=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t),lC=[Hn,Ri,hf],uf=(t,r)=>{if(X(t))return t;if(r.has(t))throw Zv;let e=t.constructor;if(lC.some(n=>n(t)))return new e(t);try{if(r.add(t),it(t))return t.map(n=>uf(n,r));if(dt(t)){let n={};for(let o in t)n[o]=uf(t[o],r);return n}}finally{r.delete(t)}return t},Oi=t=>uf(t,new Set),uC=(t,r)=>dt(t)&&dt(r)||it(t)&&it(r);function Kc(t,r,e){if(e=e||{flatten:!1},Qv(t)||X(t))return r;if(Qv(r)||X(r))return t;if(!uC(t,r)){if(e.skipValidation)return r||t;throw Error("mismatched types. must both be array or object")}if(e.skipValidation=!0,it(t)){let n=t,o=r;if(e.flatten){let i=0,s=0;for(;i<n.length&&s<o.length;)n[i]=Kc(n[i++],o[s++],e);for(;s<o.length;)n.push(r[s++])}else ur(n,o)}else for(let n in r)t[n]=Kc(t[n],r[n],e);return t}function df(t,r=Na){let e=new Map;return t.forEach((n,o)=>{let i=Zc(n,r);e.has(i)?e.get(i).some(s=>ye(t[s],n))||e.get(i).push(o):e.set(i,[o])}),e}function un(t,r=Na){if(t.some(l=>l.length==0))return[];if(t.length===1)return Array.from(t);let e=tb(t.map((l,d)=>[d,l.length]),l=>l[1]),n=t[e[0][0]],o=df(n,r),i=new Map,s=new Array;return o.forEach((l,d)=>{let p=l.map(k=>n[k]),h=p.map(k=>0),y=p.map(k=>[e[0][0],0]),O=!1;for(let k=1;k<t.length;k++){let[T,$]=e[k],W=t[T];if(i.has(k)||i.set(k,df(W)),i.get(k).has(d)){let J=i.get(k).get(d).map(rt=>W[rt]);O=p.map((rt,tt)=>J.some((kt,st)=>{let Mt=h[tt];return ye(rt,kt)&&(h[tt]++,T<y[tt][0]&&(y[tt]=[T,i.get(k).get(d)[st]])),Mt<h[tt]})).some(Boolean)}if(!O)return}O&&ur(s,h.map((k,T)=>k===t.length-1?[p[T],y[T]]:ln).filter(k=>k!==ln))}),s.sort((l,d)=>{let[p,[h,y]]=l,[O,[k,T]]=d,$=Nt(h,k);return $!==0?$:Nt(y,T)}).map(l=>l[0])}function gf(t,r=0){let e=new Array;function n(o,i){for(let s=0,l=o.length;s<l;s++)it(o[s])&&(i>0||i<0)?n(o[s],Math.max(-1,i-1)):e.push(o[s])}return n(t,r),e}var dC=t=>{let[r,e]=[Object.getPrototypeOf(t),Object.getOwnPropertyNames(t)],n=r;for(;!e.length&&r!==Object.prototype&&r!==Array.prototype;)n=r,e=Object.getOwnPropertyNames(r),r=Object.getPrototypeOf(r);let o={};return e.forEach(i=>o[i]=t[i]),[o,n]};function ye(t,r){if(t===r||Object.is(t,r))return!0;let e=!!t&&t.constructor||t;if(t===null||r===null||t===void 0||r===void 0||e!==r.constructor||e===Function)return!1;if(e===Array||e===Object){let i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length||new Set([...i,...s]).size!=i.length)return!1;for(let l of i)if(!ye(t[l],r[l]))return!1;return!0}let n=Object.getPrototypeOf(t);return(hf(t)||n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))&&t.toString()===r.toString()}function $a(t,r=Na){let e=t.map(n=>ln);return df(t,r).forEach((n,o)=>{n.forEach(i=>e[i]=t[i])}),e.filter(n=>n!==ln)}var Wc=(t,r)=>{if(t===null)return"null";if(t===void 0)return"undefined";let e=t.constructor;switch(e){case RegExp:case Number:case Boolean:case Function:case Symbol:return t.toString();case String:return JSON.stringify(t);case Date:return t.toISOString()}if(hf(t))return e.name+"["+t.toString()+"]";if(r.has(t))throw Zv;try{if(r.add(t),it(t))return"["+t.map(s=>Wc(s,r)).join(",")+"]";if(e===Object)return"{"+Object.keys(t).sort().map(s=>s+":"+Wc(t[s],r)).join(",")+"}";let n=Object.getPrototypeOf(t);if(n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))return e.name+"("+JSON.stringify(t.toString())+")";let[o,i]=dC(t);return e.name+Wc(o,r)}finally{r.delete(t)}},fC=t=>Wc(t,new Set);function Zc(t,r){return r=r||Na,X(t)?null:r(t).toString()}function tb(t,r,e=Nt){if(Qe(t))return t;let n=new Array,o=new Array;for(let i=0;i<t.length;i++){let s=t[i],l=r(s,i);X(l)?o.push(s):n.push([l,s])}return n.sort((i,s)=>e(i[0],s[0])),ur(o,n.map(i=>i[1]))}function Jc(t,r,e=Na){if(t.length<1)return new Map;let n=new Map,o=new Map;for(let i=0;i<t.length;i++){let s=t[i],l=r(s,i),d=Zc(l,e);if(d===null)o.has(null)?o.get(null).push(s):o.set(null,[s]);else{let p=n.has(d)?n.get(d).find(h=>ye(h,l)):null;X(p)?(o.set(l,[s]),n.has(d)?n.get(d).push(l):n.set(d,[l])):o.get(p).push(s)}}return o}var lf=5e4;function ur(t,...r){return t instanceof Array?r.reduce((e,n)=>{let o=Math.ceil(n.length/lf),i=0;for(;o-- >0;)Array.prototype.push.apply(e,n.slice(i,i+lf)),i+=lf;return e},t):r.filter(Fa).reduce((e,n)=>(Object.assign(e,n),e),t)}function ff(t,r){return Fa(t)?t[r]:void 0}function mC(t,r){if(r<1)return t;for(;r--&&t.length===1;)t=t[0];return t}function Te(t,r,e){let n=0;function o(s,l){let d=s;for(let p=0;p<l.length;p++){let h=l[p];if(/^\d+$/.exec(h)===null&&d instanceof Array){if(p===0&&n>0)break;n+=1;let O=l.slice(p);d=d.reduce((k,T)=>{let $=o(T,O);return $!==void 0&&k.push($),k},[]);break}else d=ff(d,h);if(d===void 0)break}return d}let i=Jv.has(qn(t).toLowerCase())?t:o(t,r.split("."));return i instanceof Array&&e?.unwrapArray?mC(i,n):i}function Ci(t,r,e){let n=r.split("."),o=n[0],i=n.slice(1).join("."),s=/^\d+$/.exec(o)!==null,l=n.length>1,d,p;if(t instanceof Array)if(s)d=ff(t,Number(o)),l&&(d=Ci(d,i,e)),d=[d];else{d=[];for(let h of t)p=Ci(h,r,e),e?.preserveMissing?(p===void 0&&(p=ln),d.push(p)):p!==void 0&&d.push(p)}else{if(p=ff(t,o),l&&(p=Ci(p,i,e)),p===void 0)return;d=e?.preserveKeys?j({},t):{},d[o]=p}return d}function Gc(t){if(t instanceof Array)for(let r=t.length-1;r>=0;r--)t[r]===ln?t.splice(r,1):Gc(t[r]);else if(dt(t))for(let r in t)Vt(t,r)&&Gc(t[r])}var Xv=/^\d+$/;function Si(t,r,e,n){let o=r.split("."),i=o[0],s=o.slice(1).join(".");if(o.length===1)(dt(t)||it(t)&&Xv.test(i))&&e(t,i);else{n?.buildGraph&&X(t[i])&&(t[i]={});let l=t[i];if(!l)return;let d=!!(o.length>1&&Xv.test(o[1]));l instanceof Array&&n?.descendArray&&!d?l.forEach(p=>Si(p,s,e,n)):Si(l,s,e,n)}}function tl(t,r,e){Si(t,r,(n,o)=>{n[o]=Ba(e)?e(n[o]):e},{buildGraph:!0})}function ja(t,r,e){Si(t,r,(n,o)=>{if(n instanceof Array){if(/^\d+$/.test(o))n.splice(parseInt(o),1);else if(e&&e.descendArray)for(let i of n)dt(i)&&delete i[o]}else dt(n)&&delete n[o]},e)}var pC=/^\$[a-zA-Z0-9_]+$/;function Xe(t){return pC.test(t)}function el(t){if(Jv.has(qn(t).toLowerCase()))return Ri(t)?{$regex:t}:{$eq:t};if(Fa(t)){if(!Object.keys(t).some(Xe))return{$eq:t};if(Vt(t,"$regex")){let e=j({},t);return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}var No=(t=>(t.CLONE_ALL="CLONE_ALL",t.CLONE_INPUT="CLONE_INPUT",t.CLONE_OUTPUT="CLONE_OUTPUT",t.CLONE_OFF="CLONE_OFF",t))(No||{}),Ht=class t{constructor(r,e,n,o=Date.now()){this._opts=r,this._root=e,this._local=n,this.timestamp=o,this.update(e,n)}static init(r,e,n){return r instanceof t?new t(r._opts,X(r.root)?e:r.root,Object.assign({},r.local,n)):new t(r,e,n)}update(r,e){return this._root=r,this._local=e&&Object.assign({},e,{variables:Object.assign({},this._local?.variables,e?.variables)}),this}getOptions(){return Object.freeze(gt(j({},this._opts),{context:Ei.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function dn(t){return t instanceof Ht?t.getOptions():Object.freeze(gt(j({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},t),{context:t?.context?Ei.from(t?.context):Ei.init({})}))}var Cr=(t=>(t.ACCUMULATOR="accumulator",t.EXPRESSION="expression",t.PIPELINE="pipeline",t.PROJECTION="projection",t.QUERY="query",t.WINDOW="window",t))(Cr||{}),Ei=class t{constructor(r){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[e,n]of Object.entries(r))this.addOperators(e,n)}static init(r={}){return new t(r)}static from(r){return new t(r.operators)}addOperators(r,e){for(let[n,o]of Object.entries(e))this.getOperator(r,n)||(this.operators[r][n]=o);return this}addAccumulatorOps(r){return this.addOperators("accumulator",r)}addExpressionOps(r){return this.addOperators("expression",r)}addQueryOps(r){return this.addOperators("query",r)}addPipelineOps(r){return this.addOperators("pipeline",r)}addProjectionOps(r){return this.addOperators("projection",r)}addWindowOps(r){return this.addOperators("window",r)}getOperator(r,e){return r in this.operators&&this.operators[r][e]||null}},Po=Ei.init();function yf(t,r){for(let[e,n]of Object.entries(r)){z(Ba(n)&&Xe(e),`'${e}' is not a valid operator`);let o=wr(t,e,null);z(!o||n===o,`${e} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":Po.addAccumulatorOps(r);break;case"expression":Po.addExpressionOps(r);break;case"pipeline":Po.addPipelineOps(r);break;case"projection":Po.addProjectionOps(r);break;case"query":Po.addQueryOps(r);break;case"window":Po.addWindowOps(r);break}}function wr(t,r,e){let{context:n,useGlobalContext:o}=e||{},i=n?n.getOperator(t,r):null;return!i&&o?Po.getOperator(t,r):i}var eb={$$ROOT(t,r,e){return e.root},$$CURRENT(t,r,e){return t},$$REMOVE(t,r,e){},$$NOW(t,r,e){return new Date(e.timestamp)}},vf={$$KEEP(t,r,e){return t},$$PRUNE(t,r,e){},$$DESCEND(t,r,e){if(!Vt(r,"$cond"))return t;let n;for(let[o,i]of Object.entries(t))if(Fa(i)){if(i instanceof Array){let s=[];for(let l of i)dt(l)&&(l=bf(l,r,e.update(l))),X(l)||s.push(l);n=s}else n=bf(i,r,e.update(i));X(n)?delete t[o]:t[o]=n}return t}};function F(t,r,e,n){let o=Ht.init(n,t);if(e=e||"",Xe(e)){let i=wr("expression",e,n);if(i)return i(t,r,o);let s=wr("accumulator",e,n);if(s)return t instanceof Array||(t=F(t,r,null,o),r=null),z(t instanceof Array,`'${e}' target must be an array.`),s(t,r,o.update(null,o.local));throw new fe(`operator '${e}' is not registered`)}if(wt(r)&&r.length>0&&r[0]==="$"){if(Vt(vf,r))return r;let i=o.root,s=r.split(".");if(Vt(eb,s[0]))i=eb[s[0]](t,null,o),r=r.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){i=Object.assign({},o.variables,{this:t},o.local?.variables);let l=s[0].slice(2);z(Vt(i,l),`Use of undefined variable: ${l}`),r=r.slice(2)}else r=r.slice(1);return r===""?i:Te(i,r)}if(it(r))return r.map(i=>F(t,i,null,o));if(dt(r)){let i={};for(let[s,l]of Object.entries(r))if(i[s]=F(t,l,s,o),["expression","accumulator"].some(d=>!!wr(d,s,n)))return z(Object.keys(r).length===1,"Invalid aggregation expression '"+JSON.stringify(r)+"'"),i[s];return i}return r}function bf(t,r,e){let n=F(t,r,null,e);return Vt(vf,n)?vf[n](t,r,e):n}function Ze(t){return t instanceof Ua?t:new Ua(t)}function rl(...t){let r=0;return Ze(()=>{for(;r<t.length;){let e=t[r].next();if(!e.done)return e;r++}return{done:!0}})}function hC(t){return!!t&&typeof t=="object"&&t?.next instanceof Function}function gC(t,r){let e=t.slice(r+1);t.splice(r),Array.prototype.push.apply(t,e)}var _f=new Error;function vC(t,r,e){let n=!1,o=-1,i=0;return function(s){try{t:for(;!n;){let l=t();o++;let d=-1,p=r.length,h=!1;for(;++d<p;){let y=r[d];switch(y.action){case 0:l=y.func(l,o);break;case 1:if(!y.func(l,o))continue t;break;case 2:--y.count,y.count||(h=!0);break;case 3:--y.count,y.count||gC(r,d);continue t;default:break t}}if(n=h,s)e[i++]=l;else return{value:l,done:!1}}}catch(l){if(l!==_f)throw l}return n=!0,{done:n}}}var Ua=class{constructor(r){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let e;if(r instanceof Function&&(r={next:r}),hC(r)){let n=r;e=()=>{let o=n.next();if(o.done)throw _f;return o.value}}else if(r instanceof Array){let n=r,o=n.length,i=0;e=()=>{if(i<o)return n[i++];throw _f}}else if(!(r instanceof Function))throw new fe("Lazy must be initialized with an array, generator, or function.");this.getNext=vC(e,this.iteratees,this.yieldedValues)}push(r,e){return typeof e=="function"?this.iteratees.push({action:r,func:e}):typeof e=="number"&&this.iteratees.push({action:r,count:e}),this}next(){return this.getNext()}map(r){return this.push(0,r)}filter(r){return this.push(1,r)}take(r){return r>0?this.push(2,r):this}drop(r){return r>0?this.push(3,r):this}transform(r){let e=this,n;return Ze(()=>(n||(n=Ze(r(e.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(r){for(;;){let e=this.next();if(e.done)break;if(r(e.value)===!1)return!1}return!0}reduce(r,e){let n=this.next();for(e===void 0&&!n.done&&(e=n.value,n=this.next());!n.done;)e=r(e,n.value),n=this.next();return e}size(){return this.reduce((r,e)=>++r,0)}[Symbol.iterator](){return this}};var Hr=class{constructor(r,e){this.pipeline=r,this.options=dn(e)}stream(r){let e=Ze(r),n=this.options.processingMode;(n==No.CLONE_ALL||n==No.CLONE_INPUT)&&e.map(Oi);let o=new Array;if(!Qe(this.pipeline))for(let i of this.pipeline){let s=Object.keys(i),l=s[0],d=wr(Cr.PIPELINE,l,this.options);z(s.length===1&&!!d,`invalid pipeline operator ${l}`),o.push(l),e=d(e,i[l],this.options)}return(n==No.CLONE_OUTPUT||n==No.CLONE_ALL&&un([["$group","$unwind"],o]).length)&&e.map(Oi),e}run(r){return this.stream(r).value()}};var nl=class{constructor(r,e,n,o){this.source=r,this.predicate=e,this.projection=n,this.options=o,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(dt(this.projection)&&this.operators.push({$project:this.projection}),this.result=Ze(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Hr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let r=Ze([...this.buffer]);return this.buffer=[],rl(r,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(r){return this.operators.push({$skip:r}),this}limit(r){return this.operators.push({$limit:r}),this}sort(r){return this.operators.push({$sort:r}),this}collation(r){return this.options=gt(j({},this.options),{collation:r}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let r=this.fetch().next();if(!r.done)return r.value}hasNext(){if(this.buffer.length>0)return!0;let r=this.fetch().next();return r.done?!1:(this.buffer.push(r.value),!0)}map(r){return this.all().map(r)}forEach(r){this.all().forEach(r)}[Symbol.iterator](){return this.fetchAll()}};var ee=class{constructor(r,e){this.condition=r,this.options=dn(e),this.compiled=[],this.compile()}compile(){z(dt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let r={};for(let[e,n]of Object.entries(this.condition)){if(e==="$where")Object.assign(r,{field:e,expr:n});else if(Vr(["$and","$or","$nor","$expr","$jsonSchema"],e))this.processOperator(e,e,n);else{z(!Xe(e),`unknown top level operator: ${e}`);for(let[o,i]of Object.entries(el(n)))this.processOperator(e,o,i)}r.field&&this.processOperator(r.field,r.field,r.expr)}}processOperator(r,e,n){let o=wr(Cr.QUERY,e,this.options);if(!o)throw new fe(`unknown query operator ${e}`);let i=o(r,n,this.options);this.compiled.push(i)}test(r){for(let e=0,n=this.compiled.length;e<n;e++)if(!this.compiled[e](r))return!1;return!0}find(r,e){return new nl(r,n=>this.test(n),e||{},this.options)}remove(r){return r.reduce((e,n)=>(this.test(n)||e.push(n),e),[])}};var Di=1e3*60*60*24,rb={week:Di*7,day:Di,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var PP={week:Di*7,day:Di,hour:Di/24,minute:6e4,second:1e3,millisecond:1};var il=(t,r,e)=>{if(Qe(r)||!dt(r))return t;let n=Nt,o=e.collation;return dt(o)&&wt(o.locale)&&(n=EC(o)),t.transform(i=>{let s=Object.keys(r);for(let l of s.reverse()){let d=Jc(i,h=>Te(h,l),e.hashFunction),p=Array.from(d.keys()).sort(n);r[l]===-1&&p.reverse(),i=[],p.reduce((h,y)=>ur(h,d.get(y)),i)}return i})},OC={1:"base",2:"accent",3:"variant"};function EC(t){let r={sensitivity:OC[t.strength||3],caseFirst:t.caseFirst==="off"?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:t.alternate==="shifted"};(t.caseLevel||!1)===!0&&(r.sensitivity==="base"&&(r.sensitivity="case"),r.sensitivity==="accent"&&(r.sensitivity="variant"));let e=new Intl.Collator(t.locale,r);return(n,o)=>{if(!wt(n)||!wt(o))return Nt(n,o);let i=e.compare(n,o);return i<0?-1:i>0?1:0}}function Ct(t){let r=(e,n,o)=>{let i={unwrapArray:!0},s=Math.max(1,e.split(".").length-1);return l=>{let d=Te(l,e,i);return t(d,n,gt(j({},o),{depth:s}))}};return r.op="query",r}function je(t){return(r,e,n)=>{let o=F(r,e,null,n);return t(...o)}}function za(t,r,e){if(ye(t,r)||X(t)&&X(r))return!0;if(t instanceof Array){let n=ye.bind(null,r);return t.some(n)||gf(t,e?.depth).some(n)}return!1}function al(t,r,e){return!za(t,r,e)}function wf(t,r,e){return X(t)?r.some(n=>n===null):un([qr(t),r],e?.hashFunction).length>0}function sl(t,r,e){return!wf(t,r,e)}function cl(t,r,e){return fl(t,r,(n,o)=>Nt(n,o)<0)}function ll(t,r,e){return fl(t,r,(n,o)=>Nt(n,o)<=0)}function ul(t,r,e){return fl(t,r,(n,o)=>Nt(n,o)>0)}function dl(t,r,e){return fl(t,r,(n,o)=>Nt(n,o)>=0)}function cb(t,r,e){return qr(t).some(n=>r.length===2&&n%r[0]===r[1])}function lb(t,r,e){let n=qr(t),o=i=>wt(i)&&Me(r.exec(i),e?.useStrictMode);return n.some(o)||gf(n,1).some(o)}function ub(t,r,e){return(r===!1||r===0)&&t===void 0||(r===!0||r===1)&&t!==void 0}function db(t,r,e){if(!it(t)||!it(r)||!t.length||!r.length)return!1;let n=!0;for(let o of r){if(!n)break;dt(o)&&Vr(Object.keys(o),"$elemMatch")?n=Cf(t,o.$elemMatch,e):o instanceof RegExp?n=t.some(i=>typeof i=="string"&&o.test(i)):n=t.some(i=>ye(o,i))}return n}function fb(t,r,e){return Array.isArray(t)&&t.length===r}function IC(t){return Xe(t)&&["$and","$or","$nor"].indexOf(t)===-1}function Cf(t,r,e){if(it(t)&&!Qe(t)){let n=s=>s,o=r;Object.keys(r).every(IC)&&(o={temp:r},n=s=>({temp:s}));let i=new ee(o,e);for(let s=0,l=t.length;s<l;s++)if(i.test(n(t[s])))return!0}return!1}var ob=t=>t===null,ib=t=>ft(t)&&t>=Qc&&t<=Yc&&t.toString().indexOf(".")===-1,ab=t=>ft(t)&&t>=pf&&t<=mf&&t.toString().indexOf(".")===-1,MC={array:it,bool:La,boolean:La,date:Hn,decimal:ft,double:ft,int:ib,long:ab,number:ft,null:ob,object:dt,regex:Ri,regexp:Ri,string:wt,undefined:X,function:t=>{throw new fe("unsupported type key `function`.")},1:ft,2:wt,3:dt,4:it,6:X,8:La,9:Hn,10:ob,11:Ri,16:ib,18:ab,19:ft};function sb(t,r,e){let n=MC[r];return n?n(t):!1}function mb(t,r,e){return Array.isArray(r)?r.findIndex(n=>sb(t,n,e))>=0:sb(t,r,e)}function fl(t,r,e){return qr(t).some(n=>qn(n)===qn(r)&&e(n,r))}var HL=je(sl);var ki=(t,r)=>(e,n,o)=>{z(it(n),`${t}: expression must be an array.`);let i=F(e,n,null,o);return i.some(X)?null:(z(i.every(ft),`${t}: expression must evalue to array of numbers.`),r(i))};var UF=ki("$bitAnd",t=>t.reduce((r,e)=>r&e,-1));var KF=ki("$bitOr",t=>t.reduce((r,e)=>r|e,0));var QF=ki("$bitXor",t=>t.reduce((r,e)=>r^e,0));var Sf={};Fs(Sf,{$and:()=>TC,$not:()=>PC,$or:()=>NC});var TC=(t,r,e)=>{let n=F(t,r,null,e);return Me(n,e.useStrictMode)&&n.every(o=>Me(o,e.useStrictMode))};var PC=(t,r,e)=>{let n=qr(r);if(n.length==0)return!1;if(n.length==1)return!F(t,n[0],null,e);throw"Expression $not takes exactly 1 argument"};var NC=(t,r,e)=>{let n=F(t,r,null,e),o=e.useStrictMode;return Me(n,o)&&n.some(i=>Me(i,o))};var Rf={};Fs(Rf,{$cmp:()=>LC,$eq:()=>FC,$gt:()=>BC,$gte:()=>$C,$lt:()=>jC,$lte:()=>UC,$ne:()=>zC});var LC=(t,r,e)=>{let n=F(t,r,null,e);return n[0]>n[1]?1:n[0]<n[1]?-1:0};var FC=je(za);var BC=je(ul);var $C=je(dl);var jC=je(cl);var UC=je(ll);var zC=je(al);var pb=(t,r)=>{let e={};return t.split("").forEach((n,o)=>e[n]=r*(o+1)),e},s$=gt(j(j({},pb("ABCDEFGHIKLM",1)),pb("NOPQRSTUVWXY",-1)),{Z:0});var bb={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Lt(t,r=bb){let e=Object.assign({},bb,r),n=new Set(Object.keys(e));return(o,i,s)=>{let l=F(o,i,null,s);if(n.has(`${l}`)){let d=e[`${l}`];if(d instanceof Error)throw new fe(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return d}return t(l)}}var h2=Lt(Math.acos,{Infinity:1/0,0:new Error});var b2=Lt(Math.acosh,{Infinity:1/0,0:new Error});var x2=Lt(Math.asin);var S2=Lt(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var E2=Lt(Math.atan);var T2=Lt(Math.atanh,{1:1/0,"-1":-1/0});var L2=Lt(Math.cos);var $2=Lt(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var WC=Math.PI/180,z2=Lt(t=>t*WC,{Infinity:1/0,"-Infinity":1/0});var KC=180/Math.PI,H2=Lt(t=>t*KC,{Infinity:1/0,"-Infinity":-1/0});var G2=Lt(Math.sin);var X2=Lt(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var tV=Lt(Math.tan);var Ef=(t,r,e)=>{if(Qe(r))return t;let n=Object.keys(r),o=!1;_b(r,e);let i=e.idKey;if(Vr(n,i)){let l=r[i];(l===0||l===!1)&&(n=n.filter(Xc.bind(null,[i])),o=n.length==0)}else n.push(i);let s=Ht.init(e);return t.map(l=>Of(l,r,s.update(l),n,o))};function Of(t,r,e,n,o){let i={},s=!1,l=!1,d=[];o&&d.push(e.idKey);for(let p of n){let h,y=r[p];if(p!==e.idKey&&Vr([0,!1],y)&&(l=!0),p===e.idKey&&Qe(y))h=t[p];else if(wt(y))h=F(t,y,p,e);else if(!Vr([1,!0],y))if(y instanceof Array)h=y.map(k=>{let T=F(t,k,null,e);return X(T)?null:T});else if(dt(y)){let k=y,T=Object.keys(y),$=T.length==1?T[0]:"",W=wr(Cr.PROJECTION,$,e);if(W)$==="$slice"?qr(k[$]).every(ft)?(h=W(t,k[$],p,e),s=!0):h=F(t,k,p,e):h=W(t,k[$],p,e);else if(Xe($))h=F(t,k[$],$,e);else if(Vt(t,p)){_b(k,e);let J=t[p];J instanceof Array?h=J.map(rt=>Of(rt,k,e,T,!1)):(J=dt(J)?J:t,h=Of(J,k,e,T,!1))}else h=F(t,y,null,e)}else{d.push(p);continue}let O=Ci(t,p,{preserveMissing:!0});O!==void 0&&Kc(i,O,{flatten:!0}),Xc([0,1,!1,!0],y)&&(h===void 0?ja(i,p,{descendArray:!0}):tl(i,p,h))}if(Gc(i),(s||l||o)&&(i=ur({},t,i),d.length>0))for(let p of d)ja(i,p,{descendArray:!0});return i}function _b(t,r){let e=[!1,!1];for(let[n,o]of Object.entries(t)){if(n===r?.idKey)return;o===0||o===!1?e[0]=!0:(o===1||o===!0)&&(e[1]=!0),z(!(e[0]&&e[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var Df=(t,r,e)=>{z(it(r),"Invalid expression: $and expects value to be an Array.");let n=r.map(o=>new ee(o,e));return o=>n.every(i=>i.test(o))};var Va=(t,r,e)=>{z(it(r),"Invalid expression. $or expects value to be an Array");let n=r.map(o=>new ee(o,e));return o=>n.some(i=>i.test(o))};var kf=(t,r,e)=>{z(it(r),"Invalid expression. $nor expects value to be an array.");let n=Va("$or",r,e);return o=>!n(o)};var Af=(t,r,e)=>{let n={};n[t]=el(r);let o=new ee(n,e);return i=>!o.test(i)};var ml=Ct(za);var pl=Ct(ul);var hl=Ct(dl);var gl=Ct(wf);var vl=Ct(cl);var bl=Ct(ll);var yl=Ct(al);var _l=Ct(sl);function QC(t,r,e){return n=>F(n,r,null,e)}function XC(t,r,e){if(!e?.jsonSchemaValidator)throw new fe("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let n=e?.jsonSchemaValidator(r);return o=>n(o)}var If=Ct(cb);var Mf=Ct(lb);function ZC(t,r,e){z(e.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let n=r;return z(Ba(n),"$where only accepts a Function object"),o=>Me(n.call(o),e?.useStrictMode)}var JC=Ct(db);var Tf=Ct(Cf);var Pf=Ct(fb);var Nf=Ct(ub);var Lf=Ct(mb);var xb=!1;function wb(t){return xb||(yf(Cr.PIPELINE,{$sort:il,$project:Ef}),yf(Cr.QUERY,{$and:Df,$eq:ml,$elemMatch:Tf,$exists:Nf,$gt:pl,$gte:hl,$in:gl,$lt:vl,$lte:bl,$ne:yl,$nin:_l,$mod:If,$nor:kf,$not:Af,$or:Va,$regex:Mf,$size:Pf,$type:Lf}),xb=!0),new ee(t)}function qa(t,r){var e=be(t.primaryKey);r=Dt(r);var n=lr(r);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([p,h])=>{(typeof h!="object"||h===null)&&(n.selector[p]={$eq:h})})):n.selector={},n.index){var o=Ma(n.index);o.includes(e)||o.push(e),n.index=o}if(n.sort){var d=n.sort.find(p=>Ug(p)===e);d||(n.sort=n.sort.slice(0),n.sort.push({[e]:"asc"}))}else if(n.index)n.sort=n.index.map(p=>({[p]:"asc"}));else{if(t.indexes){var i=new Set;Object.entries(n.selector).forEach(([p,h])=>{var y=!1;typeof h=="object"&&h!==null?y=!!Object.keys(h).find(O=>Hc.has(O)):y=!0,y&&i.add(p)});var s=-1,l;t.indexes.forEach(p=>{var h=Ur(p)?p:[p],y=h.findIndex(O=>!i.has(O));y>0&&y>s&&(s=y,l=h)}),l&&(n.sort=l.map(p=>({[p]:"asc"})))}n.sort||(n.sort=[{[e]:"asc"}])}return n}function xl(t,r){if(!r.sort)throw L("SNH",{query:r});var e=[];r.sort.forEach(o=>{var i=Object.keys(o)[0],s=Object.values(o)[0];e.push({key:i,direction:s,getValueFn:jg(i)})});var n=(o,i)=>{for(var s=0;s<e.length;++s){var l=e[s],d=l.getValueFn(o),p=l.getValueFn(i);if(d!==p){var h=l.direction==="asc"?Nt(d,p):Nt(p,d);return h}}};return n}function Ai(t,r){if(!r.sort)throw L("SNH",{query:r});var e=wb(r.selector),n=o=>e.test(o);return n}function Wn(t,r){return U(this,null,function*(){var e=yield t.exec();if(!e)return null;if(Array.isArray(e))return Promise.all(e.map(o=>r(o)));if(e instanceof Map)return Promise.all([...e.values()].map(o=>r(o)));var n=yield r(e);return n})}function tS(t,r){return!r.sort||r.sort.length===0?[t]:r.sort.map(e=>Object.keys(e)[0])}var eS=new WeakMap;function rS(t){return Ye(eS,t,()=>{var r=t.collection,e=qa(r.storageInstance.schema,lr(t.mangoQuery)),n=r.schema.primaryPath,o=xl(r.schema.jsonSchema,e),i=(p,h)=>{var y={docA:p,docB:h,rxQuery:t};return o(y.docA,y.docB)},s=Ai(r.schema.jsonSchema,e),l=p=>{var h={doc:p,rxQuery:t};return s(h.doc)},d={primaryKey:t.collection.schema.primaryPath,skip:e.skip,limit:e.limit,sortFields:tS(n,e),sortComparator:i,queryMatcher:l};return d})}function Cb(t,r){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var e=rS(t),n=Ot(t._result).docsData.slice(0),o=Ot(t._result).docsDataMap,i=!1,s=r.map(d=>dv(d)).filter(Tg),l=s.find(d=>{var p={queryParams:e,changeEvent:d,previousResults:n,keyDocumentMap:o},h=Kv(p);if(h==="runFullQueryAgain")return!0;if(h!=="doNothing")return i=!0,Gv(h,e,d,n,o),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:i,newResults:n}}var nS=function(){function t(){this._map=new Map}var r=t.prototype;return r.getByQuery=function(n){var o=n.toString();return Ye(this._map,o,()=>n)},t}();function Rb(){return new nS}function Sb(t,r){r.uncached=!0;var e=r.toString();t._map.delete(e)}function oS(t){return t.refCount$.observers.length}var iS=100,aS=30*1e3,sS=(t,r)=>(e,n)=>{if(!(n._map.size<t)){var o=ne()-r,i=[],s=Array.from(n._map.values());for(var l of s)if(!(oS(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<o){Sb(n,l);continue}i.push(l)}var d=i.length-t;if(!(d<=0)){var p=i.sort((y,O)=>y._lastEnsureEqual-O._lastEnsureEqual),h=p.slice(0,d);h.forEach(y=>Sb(n,y))}}},Bf=sS(iS,aS),Ff=new WeakSet;function Ob(t){Ff.has(t)||(Ff.add(t),Wg().then(()=>Yg(200)).then(()=>{t.destroyed||t.cacheReplacementPolicy(t,t._queryCache),Ff.delete(t)}))}var Db=function(){function t(e,n,o){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(i=>{var s=i.docId,l=this.cacheItemByDocId.get(s);l&&(l[0].delete(i.revisionHeight),l[0].size===0&&this.cacheItemByDocId.delete(s))}):void 0,this.primaryPath=e,this.changes$=n,this.documentCreator=o,n.subscribe(i=>{this.tasks.add(()=>{for(var s=this.cacheItemByDocId,l=0;l<i.length;l++){var d=i[l],p=s.get(d.documentId);if(p){var h=d.documentData;h||(h=d.previousDocumentData),p[1]=h}}}),this.tasks.size<=1&&xi().then(()=>{this.processTasks()})})}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(o=>o()),this.tasks.clear()}},r.getLatestDocumentData=function(n){this.processTasks();var o=jn(this.cacheItemByDocId,n);return o[1]},r.getLatestDocumentDataIfExists=function(n){this.processTasks();var o=this.cacheItemByDocId.get(n);if(o)return o[1]},Ie(t,[{key:"getCachedRxDocuments",get:function(){var e=Eb(this);return Ge(this,"getCachedRxDocuments",e)}},{key:"getCachedRxDocument",get:function(){var e=Eb(this);return Ge(this,"getCachedRxDocument",n=>e([n])[0])}}])}();function Eb(t){var r=t.primaryPath,e=t.cacheItemByDocId,n=t.registry,o=It.deepFreezeWhenDevMode,i=t.documentCreator,s=l=>{for(var d=new Array(l.length),p=[],h=0;h<l.length;h++){var y=l[h],O=y[r],k=Do(y._rev),T=void 0,$=void 0,W=e.get(O);W?(T=W[0],$=T.get(k)):(T=new Map,W=[T,y],e.set(O,W));var J=$?$.deref():void 0;J||(y=o(y),J=i(y),T.set(k,lS(J)),n&&p.push(J)),d[h]=J}return p.length>0&&n&&(t.tasks.add(()=>{for(var rt=0;rt<p.length;rt++){var tt=p[rt];n.register(tt,{docId:tt.primary,revisionHeight:Do(tt.revision)})}}),t.tasks.size<=1&&xi().then(()=>{t.processTasks()})),d};return s}function wl(t,r){var e=t.getCachedRxDocuments;return e(r)}var cS=typeof WeakRef=="function",lS=cS?uS:dS;function uS(t){return new WeakRef(t)}function dS(t){return{deref(){return t}}}var $f=function(){function t(e,n,o){this.time=ne(),this.query=e,this.count=o,this.documents=wl(this.query.collection._docCache,n)}var r=t.prototype;return r.getValue=function(n){var o=this.query.op;if(o==="count")return this.count;if(o==="findOne"){var i=this.documents.length===0?null:this.documents[0];if(!i&&n)throw L("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:o});return i}else return o==="findByIds"?this.docsMap:this.documents.slice(0)},Ie(t,[{key:"docsData",get:function(){return Ge(this,"docsData",this.documents.map(e=>e._data))}},{key:"docsDataMap",get:function(){var e=new Map;return this.documents.forEach(n=>{e.set(n.primary,n._data)}),Ge(this,"docsDataMap",e)}},{key:"docsMap",get:function(){for(var e=new Map,n=this.documents,o=0;o<n.length;o++){var i=n[o];e.set(i.primary,i)}return Ge(this,"docsMap",e)}}])}();var fS=0,mS=function(){return++fS},jf=function(){function t(e,n,o,i={}){this.id=mS(),this._execOverDatabaseCount=0,this._creationTime=ne(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Ce(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=zr,this.op=e,this.mangoQuery=n,this.collection=o,this.other=i,n||(this.mangoQuery=Ha()),this.isFindOneByIdQuery=vS(this.collection.schema.primaryPath,n)}var r=t.prototype;return r._setResultData=function(n){if(typeof n>"u")throw L("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof n=="number"){this._result=new $f(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var o=new $f(this,n,n.length);this._result=o},r._execOverDatabase=function(){return U(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=ne(),this.op==="count"){var n=this.getPreparedQuery(),o=yield this.collection.storageInstance.count(n);if(o.mode==="slow"&&!this.collection.database.allowSlowCount)throw L("QU14",{collection:this.collection,queryObj:this.mangoQuery});return o.count}if(this.op==="findByIds"){var i=Ot(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,s=new Map,l=[];if(i.forEach(h=>{var y=this.collection._docCache.getLatestDocumentDataIfExists(h);if(y){if(!y._deleted){var O=this.collection._docCache.getCachedRxDocument(y);s.set(h,O)}}else l.push(h)}),l.length>0){var d=yield this.collection.storageInstance.findDocumentsById(l,!1);d.forEach(h=>{var y=this.collection._docCache.getCachedRxDocument(h);s.set(y.primary,y)})}return s}var p=gS(this);return p.then(h=>(this._lastExecEnd=ne(),h))})},r.exec=function(n){return U(this,null,function*(){if(n&&this.op!=="findOne")throw L("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield kb(this);var o=Ot(this._result);return o.getValue(n)})},r.toString=function(){var n=bi({op:this.op,query:this.mangoQuery,other:this.other},!0),o=JSON.stringify(n);return this.toString=()=>o,o},r.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:qa(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),te("prePrepareQuery",n);var o=Wa(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>o,o},r.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},r.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(o=>o.remove())):n.remove())},r.incrementalRemove=function(){return Wn(this.asRxQuery,n=>n.incrementalRemove())},r.update=function(n){throw Rt("update")},r.patch=function(n){return Wn(this.asRxQuery,o=>o.patch(n))},r.incrementalPatch=function(n){return Wn(this.asRxQuery,o=>o.incrementalPatch(n))},r.modify=function(n){return Wn(this.asRxQuery,o=>o.modify(n))},r.incrementalModify=function(n){return Wn(this.asRxQuery,o=>o.incrementalModify(n))},r.where=function(n){throw Rt("query-builder")},r.sort=function(n){throw Rt("query-builder")},r.skip=function(n){throw Rt("query-builder")},r.limit=function(n){throw Rt("query-builder")},Ie(t,[{key:"$",get:function(){if(!this._$){var e=this.collection.$.pipe(yt(n=>!n.isLocal),hr(null),Wt(()=>kb(this)),pt(()=>this._result),na(Tc),Qo((n,o)=>!!(n&&n.time===Ot(o).time)),yt(n=>!!n),pt(n=>Ot(n).getValue()));this._$=Yo(e,this.refCount$.pipe(yt(()=>!1)))}return this._$}},{key:"$$",get:function(){var e=this.collection.database.getReactivityFactory();return e.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var e=this.collection.schema.jsonSchema,n=qa(this.collection.schema.jsonSchema,this.mangoQuery);return Ge(this,"queryMatcher",Ai(e,n))}},{key:"asRxQuery",get:function(){return this}}])}();function Ha(){return{selector:{}}}function pS(t){return t.collection._queryCache.getByQuery(t)}function Ii(t,r,e,n){te("preCreateRxQuery",{op:t,queryObj:r,collection:e,other:n});var o=new jf(t,r,e,n);return o=pS(o),Ob(e),o}function Ab(t){var r=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=r}function kb(t){return U(this,null,function*(){return t.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(t.collection.awaitBeforeReads).map(r=>r()))),t.collection.database.destroyed||Ab(t)?!1:(t._ensureEqualQueue=t._ensureEqualQueue.then(()=>hS(t)),t._ensureEqualQueue)})}function hS(t){if(t._lastEnsureEqual=ne(),t.collection.database.destroyed||Ab(t))return zr;var r=!1,e=!1;if(t._latestChangeEvent===-1&&(e=!0),!e){var n=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(n===null)e=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var o=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(t.op==="count"){var i=Ot(t._result).count,s=i;o.forEach(d=>{var p=d.previousDocumentData&&t.doesDocumentDataMatch(d.previousDocumentData),h=t.doesDocumentDataMatch(d.documentData);!p&&h&&s++,p&&!h&&s--}),s!==i&&(r=!0,t._setResultData(s))}else{var l=Cb(t,o);l.runFullQueryAgain?e=!0:l.changed&&(r=!0,t._setResultData(l.newResults))}}}return e?t._execOverDatabase().then(d=>(t._latestChangeEvent=t.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!t._result||d!==t._result.count)&&(r=!0,t._setResultData(d)),r):((!t._result||!Vg(t.collection.schema.primaryPath,d,t._result.docsData))&&(r=!0,t._setResultData(d)),r))):Promise.resolve(r)}function Wa(t,r){if(!r.sort)throw L("SNH",{query:r});var e=Yv(t,r);return{query:r,queryPlan:e}}function gS(t){return U(this,null,function*(){var r=[],e=t.collection;if(t.isFindOneByIdQuery)if(Array.isArray(t.isFindOneByIdQuery)){var n=t.isFindOneByIdQuery;if(n=n.filter(h=>{var y=t.collection._docCache.getLatestDocumentDataIfExists(h);return y?(y._deleted||r.push(y),!1):!0}),n.length>0){var o=yield e.storageInstance.findDocumentsById(n,!1);_r(r,o)}}else{var i=t.isFindOneByIdQuery,s=t.collection._docCache.getLatestDocumentDataIfExists(i);if(!s){var l=yield e.storageInstance.findDocumentsById([i],!1);l[0]&&(s=l[0])}s&&!s._deleted&&r.push(s)}else{var d=t.getPreparedQuery(),p=yield e.storageInstance.query(d);r=p.documents}return r})}function vS(t,r){if(!r.skip&&r.selector&&Object.keys(r.selector).length===1&&r.selector[t]){var e=r.selector[t];if(typeof e=="string")return e;if(Object.keys(e).length===1&&typeof e.$eq=="string"||Object.keys(e).length===1&&Array.isArray(e.$eq)&&!e.$eq.find(n=>typeof n!="string"))return e.$eq}return!1}var Ib="_rxdb_internal";function zf(t,r){return U(this,null,function*(){var e=yield t.findDocumentsById([r],!1),n=e[0];if(n)return n})}function Mi(t,r,e,n){if(n)throw n.status===409?L("CONFLICT",{collection:t.name,id:r,writeError:n,data:e}):n.status===422?L("VD2",{collection:t.name,id:r,writeError:n,data:e}):n}function Mb(t,r,e,n,o,i,s){for(var l=!!t.schema.attachments,d=[],p=[],h=[],y=Ao(10),O={id:y,events:[],checkpoint:null,context:o,startTime:ne(),endTime:0},k=O.events,T=[],$=[],W=[],J=e.size>0,rt,tt=n.length,kt=function(){var Mt=n[st],Et=Mt.document,Bt=Mt.previous,pe=Et[r],Ue=Et._deleted,fr=Bt&&Bt._deleted,Xn=void 0;J&&(Xn=e.get(pe));var mr;if(Xn){var Gr=Xn._rev;if(!Bt||Bt&&Gr!==Bt._rev){var hn={isError:!0,status:409,documentId:pe,writeRow:Mt,documentInDb:Xn};return h.push(hn),1}var Ne=l?Uf(Mt):Mt;l&&(Ue?Bt&&Object.keys(Bt._attachments).forEach(oe=>{$.push({documentId:pe,attachmentId:oe,digest:Ot(Bt)._attachments[oe].digest})}):(Object.entries(Et._attachments).find(([oe,ie])=>{var vn=Bt?Bt._attachments[oe]:void 0;return!vn&&!ie.data&&(mr={documentId:pe,documentInDb:Xn,isError:!0,status:510,writeRow:Mt,attachmentId:oe}),!0}),mr||Object.entries(Et._attachments).forEach(([oe,ie])=>{var vn=Bt?Bt._attachments[oe]:void 0;if(!vn)T.push({documentId:pe,attachmentId:oe,attachmentData:ie,digest:ie.digest});else{var tu=Ne.document._attachments[oe].digest;ie.data&&vn.digest!==tu&&W.push({documentId:pe,attachmentId:oe,attachmentData:ie,digest:ie.digest})}}))),mr?h.push(mr):(l?(p.push(Uf(Ne)),s&&s(Et)):(p.push(Ne),s&&s(Et)),rt=Ne);var gn=null,$i=null,pr=null;if(fr&&!Ue)pr="INSERT",gn=l?Wr(Et):Et;else if(Bt&&!fr&&!Ue)pr="UPDATE",gn=l?Wr(Et):Et,$i=Bt;else if(Ue)pr="DELETE",gn=Ot(Et),$i=Bt;else throw L("SNH",{args:{writeRow:Mt}});var ls={documentId:pe,documentData:gn,previousDocumentData:$i,operation:pr};k.push(ls)}else{var Bi=!!Ue;if(l&&Object.entries(Et._attachments).forEach(([oe,ie])=>{ie.data?T.push({documentId:pe,attachmentId:oe,attachmentData:ie,digest:ie.digest}):(mr={documentId:pe,isError:!0,status:510,writeRow:Mt,attachmentId:oe},h.push(mr))}),mr||(l?(d.push(Uf(Mt)),i&&i(Et)):(d.push(Mt),i&&i(Et)),rt=Mt),!Bi){var Jl={documentId:pe,operation:"INSERT",documentData:l?Wr(Et):Et,previousDocumentData:l&&Bt?Wr(Bt):Bt};k.push(Jl)}}},st=0;st<tt;st++)kt();return{bulkInsertDocs:d,bulkUpdateDocs:p,newestRow:rt,errors:h,eventBulk:O,attachmentsAdd:T,attachmentsRemove:$,attachmentsUpdate:W}}function Uf(t){return{previous:t.previous,document:Wr(t.document)}}function bS(t){return atob(t).length}function yS(t){var r=t.data;if(!r)return t;var e={length:bS(r),digest:t.digest,type:t.type};return e}function Wr(t){if(!t._attachments||Object.keys(t._attachments).length===0)return t;var r=Dt(t);return r._attachments={},Object.entries(t._attachments).forEach(([e,n])=>{r._attachments[e]=yS(n)}),r}function Lo(t){return Object.assign({},t,{_meta:Dt(t._meta)})}var Tb=new WeakMap;function Cl(t,r,e){It.deepFreezeWhenDevMode(e);var n=be(r.schema.primaryKey),o={originalStorageInstance:r,schema:r.schema,internals:r.internals,collectionName:r.collectionName,databaseName:r.databaseName,options:r.options,bulkWrite(i,s){for(var l=t.token,d=new Array(i.length),p=ne(),h=0;h<i.length;h++){var y=i[h],O=Lo(y.document);O._meta.lwt=p;var k=y.previous;O._rev=vi(l,k),d[h]={document:O,previous:k}}return te("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),t.lockedRun(()=>r.bulkWrite(d,s)).then(T=>{var $={error:[]},W=dr(n,d,T);Tb.set($,W);var J=T.error.length===0?[]:T.error.filter(tt=>tt.status===409&&!tt.writeRow.previous&&!tt.writeRow.document._deleted&&Ot(tt.documentInDb)._deleted?!0:($.error.push(tt),!1));if(J.length>0){var rt=J.map(tt=>({previous:tt.documentInDb,document:Object.assign({},tt.writeRow.document,{_rev:vi(t.token,tt.documentInDb)})}));return t.lockedRun(()=>r.bulkWrite(rt,s)).then(tt=>{_r($.error,tt.error);var kt=dr(n,rt,tt);return _r(W,kt),$})}return $})},query(i){return t.lockedRun(()=>r.query(i))},count(i){return t.lockedRun(()=>r.count(i))},findDocumentsById(i,s){return t.lockedRun(()=>r.findDocumentsById(i,s))},getAttachmentData(i,s,l){return t.lockedRun(()=>r.getAttachmentData(i,s,l))},getChangedDocumentsSince:r.getChangedDocumentsSince?(i,s)=>t.lockedRun(()=>r.getChangedDocumentsSince(Ot(i),s)):void 0,cleanup(i){return t.lockedRun(()=>r.cleanup(i))},remove(){return t.storageInstances.delete(o),t.lockedRun(()=>r.remove())},close(){return t.storageInstances.delete(o),t.lockedRun(()=>r.close())},changeStream(){return r.changeStream()},conflictResultionTasks(){return r.conflictResultionTasks()},resolveConflictResultionTask(i){if(i.output.isEqual)return r.resolveConflictResultionTask(i);var s=Object.assign({},i.output.documentData,{_meta:Ln(),_rev:cn(),_attachments:{}}),l=Dt(s);return delete l._meta,delete l._rev,delete l._attachments,r.resolveConflictResultionTask({id:i.id,output:{isEqual:!1,documentData:l}})}};return t.storageInstances.add(o),o}function Pb(t){if(t.schema.keyCompression)throw L("UT5",{args:{params:t}});if(_S(t.schema))throw L("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw L("UT7",{args:{params:t}})}function _S(t){return!!(t.encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)}function dr(t,r,e){var n=Tb.get(e);if(n)return n;var o=[];if(e.error.length>0){for(var i=new Set,s=0;s<e.error.length;s++){var l=e.error[s];i.add(l.documentId)}for(var d=0;d<r.length;d++){var p=r[d].document;i.has(p[t])||o.push(Wr(p))}}else{o.length=r.length-e.error.length;for(var h=0;h<r.length;h++){var y=r[h].document;o[h]=Wr(y)}}return o}var Nb=function(){function t(e,n,o,i){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=e,this.primaryPath=n,this.preWrite=o,this.postWrite=i}var r=t.prototype;return r.addWrite=function(n,o){var i=n[this.primaryPath],s=Ye(this.queueByDocId,i,()=>[]),l=new Promise((d,p)=>{var h={lastKnownDocumentState:n,modifier:o,resolve:d,reject:p};Ot(s).push(h),this.triggerRun()});return l},r.triggerRun=function(){return U(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],o=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(o.entries()).map(d=>U(this,[d],function*([s,l]){var p=xS(l.map(O=>O.lastKnownDocumentState)),h=p;for(var y of l)try{h=yield y.modifier(lr(h))}catch(O){y.reject(O),y.reject=()=>{},y.resolve=()=>{}}try{yield this.preWrite(h,p)}catch(O){l.forEach(k=>k.reject(O));return}n.push({previous:p,document:h})})));var i=n.length>0?yield this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return yield Promise.all(dr(this.primaryPath,n,i).map(s=>{var l=s[this.primaryPath];this.postWrite(s);var d=jn(o,l);d.forEach(p=>p.resolve(s))})),i.error.forEach(s=>{var l=s.documentId,d=jn(o,l),p=Lc(s);if(p){var h=Ye(this.queueByDocId,l,()=>[]);d.reverse().forEach(O=>{O.lastKnownDocumentState=Ot(p.documentInDb),Ot(h).unshift(O)})}else{var y=iv(s);d.forEach(O=>O.reject(y))}}),this.isRunning=!1,this.triggerRun()}})},t}();function Vf(t){var r=e=>U(this,null,function*(){var n=zg(e);n._deleted=e._deleted;var o=yield t(n),i=Object.assign({},o,{_meta:e._meta,_attachments:e._attachments,_rev:e._rev,_deleted:typeof o._deleted<"u"?o._deleted:e._deleted});return typeof i._deleted>"u"&&(i._deleted=!1),i});return r}function xS(t){var r=t[0],e=Do(r._rev);return t.forEach(n=>{var o=Do(n._rev);o>e&&(r=n,e=o)}),r}var Kn={get primaryPath(){var t=this;if(t.isInstanceOfRxDocument)return t.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){var t=this;if(t.isInstanceOfRxDocument)return t._data._rev},get deleted$(){var t=this;if(t.isInstanceOfRxDocument)return t.$.pipe(pt(r=>r._data._deleted))},get deleted$$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.deleted$,t.getLatest().deleted,t.collection.database)},get deleted(){var t=this;if(t.isInstanceOfRxDocument)return t._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){var t=this;return t.collection.$.pipe(yt(r=>!r.isLocal),yt(r=>r.documentId===this.primary),pt(r=>uv(r)),hr(t.collection._docCache.getLatestDocumentData(this.primary)),Qo((r,e)=>r._rev===e._rev),pt(r=>this.collection._docCache.getCachedRxDocument(r)),na(Tc))},get $$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.$,t.getLatest()._data,t.collection.database)},get$(t){if(It.isDevMode()){if(t.includes(".item."))throw L("DOC1",{path:t});if(t===this.primaryPath)throw L("DOC2");if(this.collection.schema.finalFields.includes(t))throw L("DOC3",{path:t});var r=$e(this.collection.schema.jsonSchema,t);if(!r)throw L("DOC4",{path:t})}return this.$.pipe(pt(e=>Be(e,t)),Qo())},get$$(t){var r=this.get$(t),e=this.collection.database.getReactivityFactory();return e.fromObservable(r,this.getLatest().get(t),this.collection.database)},populate(t){var r=$e(this.collection.schema.jsonSchema,t),e=this.get(t);if(!e)return Gg;if(!r)throw L("DOC5",{path:t});if(!r.ref)throw L("DOC6",{path:t,schemaObj:r});var n=this.collection.database.collections[r.ref];if(!n)throw L("DOC7",{ref:r.ref,path:t,schemaObj:r});return r.type==="array"?n.findByIds(e).exec().then(o=>{var i=o.values();return Array.from(i)}):n.findOne(e).exec()},get(t){return Fb(this,t)},toJSON(t=!1){if(t)return It.deepFreezeWhenDevMode(this._data);var r=Dt(this._data);return delete r._rev,delete r._attachments,delete r._deleted,delete r._meta,It.deepFreezeWhenDevMode(r)},toMutableJSON(t=!1){return lr(this.toJSON(t))},update(t){throw Rt("update")},incrementalUpdate(t){throw Rt("update")},updateCRDT(t){throw Rt("crdt")},putAttachment(){throw Rt("attachments")},getAttachment(){throw Rt("attachments")},allAttachments(){throw Rt("attachments")},get allAttachments$(){throw Rt("attachments")},modify(t,r){return U(this,null,function*(){var e=this._data,n=yield Vf(t)(e);return this._saveData(n,e)})},incrementalModify(t,r){return this.collection.incrementalWriteQueue.addWrite(this._data,Vf(t)).then(e=>this.collection._docCache.getCachedRxDocument(e))},patch(t){var r=this._data,e=lr(r);return Object.entries(t).forEach(([n,o])=>{e[n]=o}),this._saveData(e,r)},incrementalPatch(t){return this.incrementalModify(r=>(Object.entries(t).forEach(([e,n])=>{r[e]=n}),r))},_saveData(t,r){return U(this,null,function*(){if(t=Dt(t),this._data._deleted)throw L("DOC11",{id:this.primary,document:this});yield qf(this.collection,t,r);var e=[{previous:r,document:t}],n=yield this.collection.storageInstance.bulkWrite(e,"rx-document-save-data"),o=n.error[0];return Mi(this.collection,this.primary,t,o),yield this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument(dr(this.collection.schema.primaryPath,e,n)[0])})},remove(){var t=this.collection;if(this.deleted)return Promise.reject(L("DOC13",{document:this,id:this.primary}));var r=Dt(this._data),e;return t._runHooks("pre","remove",r,this).then(()=>U(this,null,function*(){r._deleted=!0;var n=[{previous:this._data,document:r}],o=yield t.storageInstance.bulkWrite(n,"rx-document-remove"),i=o.error[0];return Mi(t,this.primary,r,i),dr(this.collection.schema.primaryPath,n,o)[0]})).then(n=>(e=n,this.collection._runHooks("post","remove",r,this))).then(()=>this.collection._docCache.getCachedRxDocument(e))},incrementalRemove(){return this.incrementalModify(t=>U(this,null,function*(){return yield this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t})).then(t=>U(this,null,function*(){return yield this.collection._runHooks("post","remove",t._data,t),t}))},destroy(){throw L("DOC14")}};function Sl(t=Kn){var r=function(n,o){this.collection=n,this._data=o,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return r.prototype=t,r}function Lb(t,r,e){var n=new t(r,e);return te("createRxDocument",n),n}function qf(t,r,e){return r._meta=Object.assign({},e._meta,r._meta),It.isDevMode()&&t.schema.validateChange(e,r),t._runHooks("pre","save",r,e)}function Fb(t,r){return Ye(t._propertyCache,r,()=>{var e=Be(t._data,r);if(typeof e!="object"||e===null||Array.isArray(e))return It.deepFreezeWhenDevMode(e);var n=new Proxy(Dt(e),{get(o,i){if(typeof i!="string")return o[i];var s=i.charAt(i.length-1);if(s==="$")if(i.endsWith("$$")){var l=i.slice(0,-2);return t.get$$(xr(r+"."+l))}else{var d=i.slice(0,-1);return t.get$(xr(r+"."+d))}else if(s==="_"){var p=i.slice(0,-1);return t.populate(xr(r+"."+p))}else{var h=o[i];return typeof h=="number"||typeof h=="string"||typeof h=="boolean"?h:Fb(t,xr(r+"."+i))}}});return n})}var Ti="collection",Hf="storage-token",wS="rx-migration-status",CS="RxInternalDocument",Rl=Bc({version:0,title:CS,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ti,Hf,wS,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Ol(t,r){return Pa(Rl,{key:t,context:r})}function El(t){return U(this,null,function*(){var r=Wa(t.schema,{selector:{context:Ti,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),e=yield t.query(r),n=e.documents;return n})}var Bb="storageToken",SS=Ol(Bb,Hf);function $b(t){return U(this,null,function*(){var r=Ao(10),e=t.password?yield t.hashFunction(JSON.stringify(t.password)):void 0,n={id:SS,context:Hf,key:Bb,data:{rxdbVersion:t.rxdbVersion,token:r,instanceToken:t.token,passwordHash:e},_deleted:!1,_meta:Ln(),_rev:cn(),_attachments:{}},o=[{document:n}],i=yield t.internalStore.bulkWrite(o,"internal-add-storage-token");if(!i.error[0])return dr("id",o,i)[0];var s=Ot(i.error[0]);if(s.isError&&Lc(s)){var l=s;if(!RS(l.documentInDb.data.rxdbVersion,t.rxdbVersion))throw L("DM5",{args:{database:t.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(e&&e!==l.documentInDb.data.passwordHash)throw L("DB1",{passwordHash:e,existingPasswordHash:l.documentInDb.data.passwordHash});var d=l.documentInDb;return Ot(d)}throw s})}function RS(t,r){if(!t||r.includes("beta")&&r!==t)return!1;var e=t.split(".")[0],n=r.split(".")[0];return e===n}function Wf(t,r){return t+"-"+r.version}function Ka(t,r){return r=Dt(r),r=sv(t,r),typeof t.jsonSchema.primaryKey!="string"&&(r=Fc(t.primaryPath,t.jsonSchema,r)),r._meta=Ln(),Object.prototype.hasOwnProperty.call(r,"_deleted")||(r._deleted=!1),Object.prototype.hasOwnProperty.call(r,"_attachments")||(r._attachments={}),Object.prototype.hasOwnProperty.call(r,"_rev")||(r._rev=cn()),r}function jb(t,r){return U(this,null,function*(){r.multiInstance=t.multiInstance;var e=yield t.storage.createStorageInstance(r);return e})}function Dl(t,r,e,n,o,i,s){return U(this,null,function*(){var l=yield El(r),d=l.filter(O=>O.data.name===o),p=[];d.forEach(O=>{p.push({collectionName:O.data.name,schema:O.data.schema,isCollection:!0}),O.data.connectedStorages.forEach(k=>p.push({collectionName:k.collectionName,isCollection:!1,schema:k.schema}))});var h=new Set;if(p=p.filter(O=>{var k=O.collectionName+"||"+O.schema.version;return h.has(k)?!1:(h.add(k),!0)}),yield Promise.all(p.map(O=>U(this,null,function*(){var k=yield t.createStorageInstance({collectionName:O.collectionName,databaseInstanceToken:e,databaseName:n,multiInstance:!1,options:{},schema:O.schema,password:i,devMode:It.isDevMode()});yield k.remove(),O.isCollection&&(yield Vn("postRemoveRxCollection",{storage:t,databaseName:n,collectionName:o}))}))),s){var y=d.map(O=>{var k=Lo(O);return k._deleted=!0,k._meta.lwt=ne(),k._rev=vi(e,O),{previous:O,document:k}});yield r.bulkWrite(y,"rx-database-remove-collection-all")}})}function Je(t){if(t.destroyed)throw L("COL21",{collection:t.name,version:t.schema.version})}var OS=function(){function t(e){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=e,this.subs.push(this.collection.database.eventBulks$.pipe(yt(n=>n.collectionName===this.collection.name),yt(n=>{var o=n.events[0];return!o.isLocal})).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&xi().then(()=>{this.processTasks()})}))}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(o=>o()),this.tasks.clear()}},r._handleChangeEvents=function(n){var o=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(_r(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var i=o+1,s=this.eventCounterMap,l=0;l<n.length;l++){var d=n[l];s.set(d,i+l)}},r.getCounter=function(){return this.processTasks(),this.counter},r.getBuffer=function(){return this.processTasks(),this.buffer},r.getArrayIndexByPointer=function(n){this.processTasks();var o=this.buffer[0],i=this.eventCounterMap.get(o);if(n<i)return null;var s=n-i;return s},r.getFrom=function(n){this.processTasks();var o=[],i=this.getArrayIndexByPointer(n);if(i===null)return null;for(;;){var s=this.buffer[i];if(i++,s)o.push(s);else return o}},r.runFrom=function(n,o){this.processTasks();var i=this.getFrom(n);if(i===null)throw new Error("out of bounds");i.forEach(s=>o(s))},r.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0);var o={};return n.forEach(i=>{o[i.documentId]=i}),Object.values(o)},r.destroy=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},t}();function Ub(t){return new OS(t)}var ES=new WeakMap;function DS(t){var r=t.schema.getDocumentPrototype(),e=kS(t),n=Kn,o={};return[r,e,n].forEach(i=>{var s=Object.getOwnPropertyNames(i);s.forEach(l=>{var d=Object.getOwnPropertyDescriptor(i,l),p=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(p=!1),typeof d.value=="function"?Object.defineProperty(o,l,{get(){return d.value.bind(this)},enumerable:p,configurable:!1}):(d.enumerable=p,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(o,l,d))})}),o}function zb(t){return Ye(ES,t,()=>Sl(DS(t)))}function Vb(t,r,e){var n=Lb(r,t,It.deepFreezeWhenDevMode(e));return t._runHooksSync("post","create",e,n),te("postCreateRxDocument",n),n}function kS(t){var r={};return Object.entries(t.methods).forEach(([e,n])=>{r[e]=n}),r}var Kf=function(t,r){var e=Wr(t.newDocumentState),n=Wr(t.realMasterState);return $n(e,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:t.realMasterState})};function kl(t){var r=t.collection.schema.jsonSchema;if(!r.attachments)throw L("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function qb(t){Object.entries(t.doc.collection.attachments).forEach(([r,e])=>{Object.defineProperty(t,r,{get:()=>e.bind(t)})})}var AS=function(){function t({doc:e,id:n,type:o,length:i,digest:s}){this.doc=e,this.id=n,this.type=o,this.length=i,this.digest=s,qb(this)}var r=t.prototype;return r.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,n=>(delete n._attachments[this.id],n)).then(()=>{})},r.getData=function(){return U(this,null,function*(){var n=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),o=yield Lg(n,this.type);return o})},r.getStringData=function(){return U(this,null,function*(){var n=yield this.getData(),o=yield Fg(n);return o})},t}();function Al(t,r,e){return new AS({doc:e,id:t,type:r.type,length:r.length,digest:r.digest})}function IS(t){return U(this,null,function*(){kl(this);var r=$g(t.data),e=yield Bg(t.data),n=yield this.collection.database.hashFunction(e),o=t.id,i=t.type,s=e;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=Dt(l),l._attachments=Dt(l._attachments),l._attachments[o]={length:r,type:i,data:s,digest:n},l)).then(l=>{var d=this.collection._docCache.getCachedRxDocument(l),p=l._attachments[o],h=Al(o,p,d);return h})})}function MS(t){kl(this);var r=this._data;if(!r._attachments||!r._attachments[t])return null;var e=r._attachments[t],n=Al(t,e,this);return n}function TS(){kl(this);var t=this._data;return t._attachments?Object.keys(t._attachments).map(r=>Al(r,t._attachments[r],this)):[]}function PS(t){return U(this,null,function*(){var r=t.docData._attachments;if(r){var e={};yield Promise.all(Object.keys(r).map(n=>U(this,null,function*(){var o=r[n],i=t.docData[t.oldCollection.schema.primaryPath],s=yield t.oldCollection.storageInstance.getAttachmentData(i,n,o.digest),l=yield t.oldCollection.database.hashFunction(s);e[n]={length:o.length,type:o.type,data:s,digest:l}}))),t.docData._attachments=e}})}function NS(t){return Bn}var Hb={name:"attachments",rxdb:!0,prototypes:{RxDocument:t=>{t.putAttachment=IS,t.getAttachment=MS,t.allAttachments=TS,Object.defineProperty(t,"allAttachments$",{get:function(){return this.$.pipe(pt(e=>Object.entries(e.toJSON(!0)._attachments)),pt(e=>e.map(([n,o])=>Al(n,o,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:PS},postMigrateDocument:{after:NS}}};var Kb=["pre","post"],Gb=["insert","save","remove","create"],Wb=!1,Ga=function(){function t(e,n,o,i,s={},l={},d={},p={},h={},y=Bf,O={},k=Kf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Rb(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=e,this.name=n,this.schema=o,this.internalStorageInstance=i,this.instanceCreationOptions=s,this.migrationStrategies=l,this.methods=d,this.attachments=p,this.options=h,this.cacheReplacementPolicy=y,this.statics=O,this.conflictHandler=k,LS(this.asRxCollection)}var r=t.prototype;return r.prepare=function(){return U(this,null,function*(){this.storageInstance=Cl(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Nb(this.storageInstance,this.schema.primaryPath,(d,p)=>qf(this,d,p),d=>this._runHooks("post","save",d));var n=this.database.eventBulks$.pipe(yt(d=>d.collectionName===this.name));this.$=n.pipe(Wt(d=>d.events)),this.checkpoint$=n.pipe(pt(d=>d.checkpoint)),this._changeEventBuffer=Ub(this.asRxCollection);var o;this._docCache=new Db(this.schema.primaryPath,this.database.eventBulks$.pipe(yt(d=>d.collectionName===this.name&&!d.events[0].isLocal),pt(d=>d.events)),d=>(o||(o=zb(this.asRxCollection)),Vb(this.asRxCollection,o,d)));var i=this.database.internalStore.changeStream().pipe(yt(d=>{var p=this.name+"-"+this.schema.version,h=d.events.find(y=>y.documentData.context==="collection"&&y.documentData.key===p&&y.operation==="DELETE");return!!h})).subscribe(()=>U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(i);var s=yield this.database.storageToken,l=this.storageInstance.changeStream().subscribe(d=>{for(var p=new Array(d.events.length),h=d.events,y=this.name,O=It.deepFreezeWhenDevMode,k=0;k<h.length;k++){var T=h[k];p[k]={documentId:T.documentId,collectionName:y,isLocal:!1,operation:T.operation,documentData:O(T.documentData),previousDocumentData:O(T.previousDocumentData)}}var $={id:d.id,internal:!1,collectionName:this.name,storageToken:s,events:p,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit($)});return this._subs.push(l),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(p=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:p})})})),Bn})},r.cleanup=function(n){throw Je(this),Rt("cleanup")},r.migrationNeeded=function(){throw Rt("migration-schema")},r.getMigrationState=function(){throw Rt("migration-schema")},r.startMigration=function(n=10){return Je(this),this.getMigrationState().startMigration(n)},r.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},r.insert=function(n){return U(this,null,function*(){Je(this);var o=yield this.bulkInsert([n]),i=o.error[0];Mi(this,n[this.schema.primaryPath],n,i);var s=Ot(o.success[0]);return s})},r.bulkInsert=function(n){return U(this,null,function*(){if(Je(this),n.length===0)return{success:[],error:[]};var o=this.schema.primaryPath,i=new Set,s;if(this.hasHooks("pre","insert"))s=yield Promise.all(n.map(W=>{var J=Ka(this.schema,W);return this._runHooks("pre","insert",J).then(()=>(i.add(J[o]),{document:J}))}));else{s=new Array(n.length);for(var l=this.schema,d=0;d<n.length;d++){var p=n[d],h=Ka(l,p);i.add(h[o]),s[d]={document:h}}}if(i.size!==n.length)throw L("COL22",{collection:this.name,args:{documents:n}});var y=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),O,k=this,T={get success(){if(!O){var W=dr(k.schema.primaryPath,s,y);O=wl(k._docCache,W)}return O},error:y.error};if(this.hasHooks("post","insert")){var $=new Map;s.forEach(W=>{var J=W.document;$.set(J[o],J)}),yield Promise.all(T.success.map(W=>this._runHooks("post","insert",$.get(W.primary),W)))}return T})},r.bulkRemove=function(n){return U(this,null,function*(){Je(this);var o=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var i=yield this.findByIds(n).exec(),s=[],l=new Map;Array.from(i.values()).forEach(k=>{var T=k.toMutableJSON(!0);s.push(T),l.set(k.primary,T)}),yield Promise.all(s.map(k=>{var T=k[this.schema.primaryPath];return this._runHooks("pre","remove",k,i.get(T))}));var d=s.map(k=>{var T=Dt(k);return T._deleted=!0,{previous:k,document:T}}),p=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),h=dr(this.schema.primaryPath,d,p),y=h.map(k=>k[o]);yield Promise.all(y.map(k=>this._runHooks("post","remove",l.get(k),i.get(k))));var O=y.map(k=>jn(i,k));return{success:O,error:p.error}})},r.bulkUpsert=function(n){return U(this,null,function*(){Je(this);var o=[],i=new Map;n.forEach(p=>{var h=Ka(this.schema,p),y=h[this.schema.primaryPath];if(!y)throw L("COL3",{primaryPath:this.schema.primaryPath,data:h,schema:this.schema.jsonSchema});i.set(y,h),o.push(h)});var s=yield this.bulkInsert(o),l=s.success.slice(0),d=[];return yield Promise.all(s.error.map(p=>U(this,null,function*(){if(p.status!==409)d.push(p);else{var h=p.documentId,y=jn(i,h),O=Ot(p.documentInDb),k=this._docCache.getCachedRxDocuments([O])[0],T=yield k.incrementalModify(()=>y);l.push(T)}}))),{error:d,success:l}})},r.upsert=function(n){return U(this,null,function*(){Je(this);var o=yield this.bulkUpsert([n]);return Mi(this.asRxCollection,n[this.schema.primaryPath],n,o.error[0]),o.success[0]})},r.incrementalUpsert=function(n){Je(this);var o=Ka(this.schema,n),i=o[this.schema.primaryPath];if(!i)throw L("COL4",{data:n});var s=this._incrementalUpsertQueues.get(i);return s||(s=Bn),s=s.then(()=>BS(this,i,o)).then(l=>l.inserted?l.doc:FS(l.doc,o)),this._incrementalUpsertQueues.set(i,s),s},r.find=function(n){if(Je(this),typeof n=="string")throw L("COL5",{queryObj:n});n||(n=Ha());var o=Ii("find",n,this);return o},r.findOne=function(n){if(Je(this),typeof n=="number"||Array.isArray(n))throw de("COL6",{queryObj:n});var o;if(typeof n=="string")o=Ii("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=Ha()),n.limit)throw L("QU6");n=Dt(n),n.limit=1,o=Ii("findOne",n,this)}return o},r.count=function(n){Je(this),n||(n=Ha());var o=Ii("count",n,this);return o},r.findByIds=function(n){Je(this);var o={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},i=Ii("findByIds",o,this);return i},r.exportJSON=function(){throw Rt("json-dump")},r.importJSON=function(n){throw Rt("json-dump")},r.insertCRDT=function(n){throw Rt("crdt")},r.addPipeline=function(n){throw Rt("pipeline")},r.addHook=function(n,o,i,s=!1){if(typeof i!="function")throw de("COL7",{key:o,when:n});if(!Kb.includes(n))throw de("COL8",{key:o,when:n});if(!Gb.includes(o))throw L("COL9",{key:o});if(n==="post"&&o==="create"&&s===!0)throw L("COL10",{when:n,key:o,parallel:s});var l=i.bind(this),d=s?"parallel":"series";this.hooks[o]=this.hooks[o]||{},this.hooks[o][n]=this.hooks[o][n]||{series:[],parallel:[]},this.hooks[o][n][d].push(l)},r.getHooks=function(n,o){return!this.hooks[o]||!this.hooks[o][n]?{series:[],parallel:[]}:this.hooks[o][n]},r.hasHooks=function(n,o){if(!this.hooks[o]||!this.hooks[o][n])return!1;var i=this.getHooks(n,o);return i?i.series.length>0||i.parallel.length>0:!1},r._runHooks=function(n,o,i,s){var l=this.getHooks(n,o);if(!l)return Bn;var d=l.series.map(p=>()=>p(i,s));return Qg(d).then(()=>Promise.all(l.parallel.map(p=>p(i,s))))},r._runHooksSync=function(n,o,i,s){if(this.hasHooks(n,o)){var l=this.getHooks(n,o);l&&l.series.forEach(d=>d(i,s))}},r.promiseWait=function(n){var o=new Promise(i=>{var s=setTimeout(()=>{this.timeouts.delete(s),i()},n);this.timeouts.add(s)});return o},r.destroy=function(){return U(this,null,function*(){return this.destroyed?zr:(yield Promise.all(this.onDestroy.map(n=>n())),this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Vn("postDestroyRxCollection",this).then(()=>!0))))})},r.remove=function(){return U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(n=>n())),yield Dl(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},Ie(t,[{key:"insert$",get:function(){return this.$.pipe(yt(e=>e.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(yt(e=>e.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(yt(e=>e.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function LS(t){if(!Wb){Wb=!0;var r=Object.getPrototypeOf(t);Gb.forEach(e=>{Kb.map(n=>{var o=n+Mc(e);r[o]=function(i,s){return this.addHook(n,e,i,s)}})})}}function FS(t,r){return t.incrementalModify(e=>r)}function BS(t,r,e){var n=t._docCache.getLatestDocumentDataIfExists(r);return n?Promise.resolve({doc:t._docCache.getCachedRxDocuments([n])[0],inserted:!1}):t.findOne(r).exec().then(o=>o?{doc:o,inserted:!1}:t.insert(e).then(i=>({doc:i,inserted:!0})))}function Yb({database:t,name:r,schema:e,instanceCreationOptions:n={},migrationStrategies:o={},autoMigrate:i=!0,statics:s={},methods:l={},attachments:d={},options:p={},localDocuments:h=!1,cacheReplacementPolicy:y=Bf,conflictHandler:O=Kf}){var k={databaseInstanceToken:t.token,databaseName:t.name,collectionName:r,schema:e.jsonSchema,options:n,multiInstance:t.multiInstance,password:t.password,devMode:It.isDevMode()};return te("preCreateRxStorageInstance",k),jb(t,k).then(T=>{var $=new Ga(t,r,e,T,n,o,l,d,p,y,s,O);return $.prepare().then(()=>{Object.entries(s).forEach(([J,rt])=>{Object.defineProperty($,J,{get:()=>rt.bind($)})});var W=Bn;return i&&$.schema.version!==0&&(W=$.migratePromise()),W}).then(()=>(te("createRxCollection",{collection:$,creator:{name:r,schema:e,storageInstance:T,instanceCreationOptions:n,migrationStrategies:o,methods:l,attachments:d,options:p,cacheReplacementPolicy:y,localDocuments:h,statics:s}}),$)).catch(W=>T.close().then(()=>Promise.reject(W)))})}var Qf=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=r||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Qf.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Yf(this)},wrapCall:function(r){var e=this;this.lock();var n;try{n=r()}catch(o){throw this.unlock(),o}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(o){return e.unlock(),o}).catch(function(o){throw e.unlock(),o})},requestIdlePromise:function(r){var e=this;r=r||{};var n,o=new Promise(function(l){return n=l}),i=function(){Gf(e,o),n()};if(o._manRes=i,r.timeout){var s=setTimeout(function(){o._manRes()},r.timeout);o._timeoutObj=s}return this._iC.add(o),Yf(this),o},cancelIdlePromise:function(r){Gf(this,r)},requestIdleCallback:function(r,e){var n=this._lHN++,o=this.requestIdlePromise(e);return this._hPM.set(n,o),this._pHM.set(o,n),o.then(function(){return r()}),n},cancelIdleCallback:function(r){var e=this._hPM.get(r);this.cancelIdlePromise(e)},clear:function(){var r=this;this._iC.forEach(function(e){return Gf(r,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function $S(t){if(t._iC.size!==0){var r=t._iC.values(),e=r.next().value;e._manRes(),setTimeout(function(){return Yf(t)},0)}}function Gf(t,r){if(r){if(r._timeoutObj&&clearTimeout(r._timeoutObj),t._pHM.has(r)){var e=t._pHM.get(r);t._hPM.delete(e),t._pHM.delete(r)}t._iC.delete(r)}}function Yf(t){t._tryIR||t._iC.size===0||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}$S(t),t._tryIR=!1},0)},0))}var Gn=class{ttl;map=new Map;_to=!1;constructor(r){this.ttl=r}has(r){return this.map.has(r)}add(r){this.map.set(r,Qb()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,jS(this)},0))}clear(){this.map.clear()}};function jS(t){let r=Qb()-t.ttl,e=t.map[Symbol.iterator]();for(;;){let n=e.next().value;if(!n)return;let o=n[0];if(n[1]<r)t.map.delete(o);else return}}function Qb(){return Date.now()}var Il=new Set,Xb=0,Ya=function(){function t(e,n,o,i,s,l,d=!1,p={},h,y,O,k,T){this.idleQueue=new Qf,this.rxdbVersion=Io,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new at,this.observable$=this.eventBulks$.pipe(Wt($=>$.events)),this.storageToken=zr,this.storageTokenDocument=zr,this.emittedEventBulkIds=new Gn(60*1e3),this.name=e,this.token=n,this.storage=o,this.instanceCreationOptions=i,this.password=s,this.multiInstance=l,this.eventReduce=d,this.options=p,this.internalStore=h,this.hashFunction=y,this.cleanupPolicy=O,this.allowSlowCount=k,this.reactivity=T,Xb++,this.name!=="pseudoInstance"&&(this.internalStore=Cl(this.asRxDatabase,h,Rl),this.storageTokenDocument=$b(this.asRxDatabase).catch($=>this.startupErrors.push($)),this.storageToken=this.storageTokenDocument.then($=>$.data.token).catch($=>this.startupErrors.push($)))}var r=t.prototype;return r.getReactivityFactory=function(){if(!this.reactivity)throw L("DB14",{database:this.name});return this.reactivity},r.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},r.removeCollectionDoc=function(n,o){return U(this,null,function*(){var i=yield zf(this.internalStore,Ol(Wf(n,o),Ti));if(!i)throw L("SNH",{name:n,schema:o});var s=Lo(i);s._deleted=!0,yield this.internalStore.bulkWrite([{document:s,previous:i}],"rx-database-remove-collection")})},r.addCollections=function(n){return U(this,null,function*(){var o={},i={},s=[],l={};yield Promise.all(Object.entries(n).map(O=>U(this,[O],function*([h,y]){var k=h,T=y.schema;o[k]=T;var $=lv(T,this.hashFunction);if(i[k]=$,this.collections[h])throw L("DB3",{name:h});var W=Wf(h,T),J={id:Ol(W,Ti),key:W,context:Ti,data:{name:k,schemaHash:yield $.hash,schema:$.jsonSchema,version:$.version,connectedStorages:[]},_deleted:!1,_meta:Ln(),_rev:cn(),_attachments:{}};s.push({document:J});var rt=Object.assign({},y,{name:k,schema:$,database:this}),tt=Dt(y);tt.database=this,tt.name=h,te("preCreateRxCollection",tt),rt.conflictHandler=tt.conflictHandler,l[k]=rt})));var d=yield this.internalStore.bulkWrite(s,"rx-database-add-collection");yield VS(this),yield Promise.all(d.error.map(h=>U(this,null,function*(){if(h.status!==409)throw L("DB12",{database:this.name,writeError:h});var y=Ot(h.documentInDb),O=y.data.name,k=i[O];if(y.data.schemaHash!==(yield k.hash))throw L("DB6",{database:this.name,collection:O,previousSchemaHash:y.data.schemaHash,schemaHash:yield k.hash,previousSchema:y.data.schema,schema:Ot(o[O])})})));var p={};return yield Promise.all(Object.keys(n).map(h=>U(this,null,function*(){var y=l[h],O=yield Yb(y);p[h]=O,this.collections[h]=O,this[h]||Object.defineProperty(this,h,{get:()=>this.collections[h]})}))),p})},r.lockedRun=function(n){return this.idleQueue.wrapCall(n)},r.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},r.exportJSON=function(n){throw Rt("json-dump")},r.addState=function(n){throw Rt("state")},r.importJSON=function(n){throw Rt("json-dump")},r.backup=function(n){throw Rt("backup")},r.leaderElector=function(){throw Rt("leader-election")},r.isLeader=function(){throw Rt("leader-election")},r.waitForLeadership=function(){throw Rt("leader-election")},r.migrationStates=function(){throw Rt("migration-schema")},r.destroy=function(){return U(this,null,function*(){return this.destroyed?zr:(this.destroyed=!0,yield Vn("preDestroyRxDatabase",this),this.eventBulks$.complete(),Xb--,this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance"?zr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>Il.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},r.remove=function(){return this.destroy().then(()=>zS(this.name,this.storage,this.password))},Ie(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function US(t,r){var e=r.name+"|"+t;if(Il.has(e))throw L("DB8",{name:t,storage:r.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function Zb(t,r,e,n,o,i){return U(this,null,function*(){var s=yield r.createStorageInstance({databaseInstanceToken:t,databaseName:e,collectionName:Ib,schema:Rl,options:n,multiInstance:o,password:i,devMode:It.isDevMode()});return s})}function Jb({storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:o=!0,eventReduce:i=!0,ignoreDuplicate:s=!1,options:l={},cleanupPolicy:d,allowSlowCount:p=!1,localDocuments:h=!1,hashFunction:y=_i,reactivity:O}){te("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:o,eventReduce:i,ignoreDuplicate:s,options:l,localDocuments:h}),s||US(e,t),Il.add(t.name+"|"+e);var k=Ao(10);return Zb(k,t,e,r,o,n).catch(T=>{throw Il.delete(t.name+"|"+e),T}).then(T=>{var $=new Ya(e,k,t,r,n,o,i,l,T,y,d,p,O);return Vn("createRxDatabase",{database:$,creator:{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:o,eventReduce:i,ignoreDuplicate:s,options:l,localDocuments:h}}).then(()=>$)})}function zS(t,r,e){return U(this,null,function*(){var n=Ao(10),o=yield Zb(n,r,t,{},!1,e),i=yield El(o),s=new Set;i.forEach(d=>s.add(d.data.name));var l=Array.from(s);return yield Promise.all(l.map(d=>Dl(r,o,n,t,d,e))),yield Vn("postRemoveRxDatabase",{databaseName:t,storage:r}),yield o.remove(),l})}function VS(t){return U(this,null,function*(){if(yield t.storageToken,t.startupErrors[0])throw t.startupErrors[0]})}var qS={RxSchema:ef.prototype,RxDocument:Kn,RxQuery:jf.prototype,RxCollection:Ga.prototype,RxDatabase:Ya.prototype},Xf=new Set,ty=new Set;function Ml(t){if(te("preAddRxPlugin",{plugin:t,plugins:Xf}),!Xf.has(t)){{if(ty.has(t.name))throw L("PL3",{name:t.name,plugin:t});Xf.add(t),ty.add(t.name)}if(!t.rxdb)throw de("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([r,e])=>e(qS[r])),t.overwritable&&Object.assign(It,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([r,e])=>{e.after&&wi[r].push(e.after),e.before&&wi[r].unshift(e.before)})}}function ey(t){return t&&typeof t.then=="function"}var HS=Promise.resolve(!1),d3=Promise.resolve(!0),Kr=Promise.resolve();function Tl(t,r){return t||(t=0),new Promise(function(e){return setTimeout(function(){return e(r)},t)})}function ry(t,r){return Math.floor(Math.random()*(r-t+1)+t)}function Qa(){return Math.random().toString(36).substring(2)}var Zf=0;function fn(){var t=Date.now()*1e3;return t<=Zf&&(t=Zf+1),Zf=t,t}var WS=fn,KS="native";function GS(t){var r={time:fn(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return r.bc.onmessage=function(e){r.messagesCallback&&r.messagesCallback(e.data)},r}function YS(t){t.bc.close(),t.subFns=[]}function QS(t,r){try{return t.bc.postMessage(r,!1),Kr}catch(e){return Promise.reject(e)}}function XS(t,r){t.messagesCallback=r}function ZS(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function JS(){return 150}var ny={create:GS,close:YS,onMessage:XS,postMessage:QS,canBeUsed:ZS,type:KS,averageResponseTime:JS,microSeconds:WS};function Pi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=JSON.parse(JSON.stringify(t));return typeof r.webWorkerSupport>"u"&&(r.webWorkerSupport=!0),r.idb||(r.idb={}),r.idb.ttl||(r.idb.ttl=1e3*45),r.idb.fallbackInterval||(r.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(r.idb.onclose=t.idb.onclose),r.localstorage||(r.localstorage={}),r.localstorage.removeTimeout||(r.localstorage.removeTimeout=1e3*60),t.methods&&(r.methods=t.methods),r.node||(r.node={}),r.node.ttl||(r.node.ttl=1e3*60*2),r.node.maxParallelWrites||(r.node.maxParallelWrites=2048),typeof r.node.useFastPath>"u"&&(r.node.useFastPath=!0),r}var tR=fn,eR="pubkey.broadcast-channel-0-",mn="messages",Pl={durability:"relaxed"},rR="idb";function oy(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Jf(t){t.commit&&t.commit()}function nR(t){var r=oy(),e=eR+t,n=r.open(e);return n.onupgradeneeded=function(o){var i=o.target.result;i.createObjectStore(mn,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,i){n.onerror=function(s){return i(s)},n.onsuccess=function(){o(n.result)}})}function oR(t,r,e){var n=Date.now(),o={uuid:r,time:n,data:e},i=t.transaction([mn],"readwrite",Pl);return new Promise(function(s,l){i.oncomplete=function(){return s()},i.onerror=function(p){return l(p)};var d=i.objectStore(mn);d.add(o),Jf(i)})}function iR(t,r){var e=t.transaction(mn,"readonly",Pl),n=e.objectStore(mn),o=[],i=IDBKeyRange.bound(r+1,1/0);if(n.getAll){var s=n.getAll(i);return new Promise(function(d,p){s.onerror=function(h){return p(h)},s.onsuccess=function(h){d(h.target.result)}})}function l(){try{return i=IDBKeyRange.bound(r+1,1/0),n.openCursor(i)}catch{return n.openCursor()}}return new Promise(function(d,p){var h=l();h.onerror=function(y){return p(y)},h.onsuccess=function(y){var O=y.target.result;O?O.value.id<r+1?O.continue(r+1):(o.push(O.value),O.continue()):(Jf(e),d(o))}})}function aR(t,r){if(t.closed)return Promise.resolve([]);var e=t.db.transaction(mn,"readwrite",Pl),n=e.objectStore(mn);return Promise.all(r.map(function(o){var i=n.delete(o);return new Promise(function(s){i.onsuccess=function(){return s()}})}))}function sR(t,r){var e=Date.now()-r,n=t.transaction(mn,"readonly",Pl),o=n.objectStore(mn),i=[];return new Promise(function(s){o.openCursor().onsuccess=function(l){var d=l.target.result;if(d){var p=d.value;p.time<e?(i.push(p),d.continue()):(Jf(n),s(i))}else s(i)}})}function cR(t){return sR(t.db,t.options.idb.ttl).then(function(r){return aR(t,r.map(function(e){return e.id}))})}function lR(t,r){return r=Pi(r),nR(t).then(function(e){var n={closed:!1,lastCursorId:0,channelName:t,options:r,uuid:Qa(),eMIs:new Gn(r.idb.ttl*2),writeBlockPromise:Kr,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){n.closed=!0,r.idb.onclose&&r.idb.onclose()},iy(n),n})}function iy(t){t.closed||ay(t).then(function(){return Tl(t.options.idb.fallbackInterval)}).then(function(){return iy(t)})}function uR(t,r){return!(t.uuid===r.uuid||r.eMIs.has(t.id)||t.data.time<r.messagesCallbackTime)}function ay(t){return t.closed?Kr:t.messagesCallback?iR(t.db,t.lastCursorId).then(function(r){var e=r.filter(function(n){return!!n}).map(function(n){return n.id>t.lastCursorId&&(t.lastCursorId=n.id),n}).filter(function(n){return uR(n,t)}).sort(function(n,o){return n.time-o.time});return e.forEach(function(n){t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),Kr}):Kr}function dR(t){t.closed=!0,t.db.close()}function fR(t,r){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return oR(t.db,t.uuid,r)}).then(function(){ry(0,10)===0&&cR(t)}),t.writeBlockPromise}function mR(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r,ay(t)}function pR(){return!!oy()}function hR(t){return t.idb.fallbackInterval*2}var sy={create:lR,close:dR,onMessage:mR,postMessage:fR,canBeUsed:pR,type:rR,averageResponseTime:hR,microSeconds:tR};var gR=fn,vR="pubkey.broadcastChannel-",bR="localstorage";function cy(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function ly(t){return vR+t}function yR(t,r){return new Promise(function(e){Tl().then(function(){var n=ly(t.channelName),o={token:Qa(),time:Date.now(),data:r,uuid:t.uuid},i=JSON.stringify(o);cy().setItem(n,i);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=n,s.newValue=i,window.dispatchEvent(s),e()})})}function _R(t,r){var e=ly(t),n=function(i){i.key===e&&r(JSON.parse(i.newValue))};return window.addEventListener("storage",n),n}function xR(t){window.removeEventListener("storage",t)}function wR(t,r){if(r=Pi(r),!uy())throw new Error("BroadcastChannel: localstorage cannot be used");var e=Qa(),n=new Gn(r.localstorage.removeTimeout),o={channelName:t,uuid:e,eMIs:n};return o.listener=_R(t,function(i){o.messagesCallback&&i.uuid!==e&&(!i.token||n.has(i.token)||i.data.time&&i.data.time<o.messagesCallbackTime||(n.add(i.token),o.messagesCallback(i.data)))}),o}function CR(t){xR(t.listener)}function SR(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r}function uy(){var t=cy();if(!t)return!1;try{var r="__broadcastchannel_check";t.setItem(r,"works"),t.removeItem(r)}catch{return!1}return!0}function RR(){var t=120,r=navigator.userAgent.toLowerCase();return r.includes("safari")&&!r.includes("chrome")?t*2:t}var dy={create:wR,close:CR,onMessage:SR,postMessage:yR,canBeUsed:uy,type:bR,averageResponseTime:RR,microSeconds:gR};var fy=fn,OR="simulate",tm=new Set;function ER(t){var r={time:fy(),name:t,messagesCallback:null};return tm.add(r),r}function DR(t){tm.delete(t)}var my=5;function kR(t,r){return new Promise(function(e){return setTimeout(function(){var n=Array.from(tm);n.forEach(function(o){o.name===t.name&&o!==t&&o.messagesCallback&&o.time<r.time&&o.messagesCallback(r)}),e()},my)})}function AR(t,r){t.messagesCallback=r}function IR(){return!0}function MR(){return my}var py={create:ER,close:DR,onMessage:AR,postMessage:kR,canBeUsed:IR,type:OR,averageResponseTime:MR,microSeconds:fy};var hy=[ny,sy,dy];function gy(t){var r=[].concat(t.methods,hy).filter(Boolean);if(t.type){if(t.type==="simulate")return py;var e=r.find(function(o){return o.type===t.type});if(e)return e;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(r=r.filter(function(o){return o.type!=="idb"}));var n=r.find(function(o){return o.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(hy.map(function(o){return o.type})))}var em=new Set,TR=0,Xa=function(r,e){this.id=TR++,em.add(this),this.name=r,vy&&(e=vy),this.options=Pi(e),this.method=gy(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,PR(this)};Xa._pubkey=!0;var vy;Xa.prototype={postMessage:function(r){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(r));return by(this,"message",r)},postInternal:function(r){return by(this,"internal",r)},set onmessage(t){var r=this.method.microSeconds(),e={time:r,fn:t};_y(this,"message",this._onML),t&&typeof t=="function"?(this._onML=e,yy(this,"message",e)):this._onML=null},addEventListener:function(r,e){var n=this.method.microSeconds(),o={time:n,fn:e};yy(this,r,o)},removeEventListener:function(r,e){var n=this._addEL[r].find(function(o){return o.fn===e});_y(this,r,n)},close:function(){var r=this;if(!this.closed){em.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Kr;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(r._uMP))}).then(function(){return Promise.all(r._befC.map(function(n){return n()}))}).then(function(){return r.method.close(r._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function by(t,r,e){var n=t.method.microSeconds(),o={time:n,type:r,data:e},i=t._prepP?t._prepP:Kr;return i.then(function(){var s=t.method.postMessage(t._state,o);return t._uMP.add(s),s.catch().then(function(){return t._uMP.delete(s)}),s})}function PR(t){var r=t.method.create(t.name,t.options);ey(r)?(t._prepP=r,r.then(function(e){t._state=e})):t._state=r}function xy(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function yy(t,r,e){t._addEL[r].push(e),NR(t)}function _y(t,r,e){t._addEL[r]=t._addEL[r].filter(function(n){return n!==e}),LR(t)}function NR(t){if(!t._iL&&xy(t)){var r=function(o){t._addEL[o.type].forEach(function(i){o.time>=i.time&&i.fn(o.data)})},e=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,r,e)}):(t._iL=!0,t.method.onMessage(t._state,r,e))}}function LR(t){if(t._iL&&!xy(t)){t._iL=!1;var r=t.method.microSeconds();t.method.onMessage(t._state,null,r)}}var Nl=new Map;function FR(t,r,e,n){var o=Nl.get(r);return o||(o={bc:new Xa(["RxDB:",t,e].join("|")),refs:new Set},Nl.set(r,o)),o.refs.add(n),o.bc}function wy(t,r){var e=Nl.get(t);if(e&&(e.refs.delete(r),e.refs.size===0))return Nl.delete(t),e.bc.close()}function Cy(t,r,e,n){if(r.multiInstance){var o=n||FR(t,r.databaseInstanceToken,e.databaseName,e),i=new at,s=O=>{O.storageName===t&&O.databaseName===r.databaseName&&O.collectionName===r.collectionName&&O.version===r.schema.version&&i.next(O.eventBulk)};o.addEventListener("message",s);var l=e.changeStream(),d=!1,p=l.subscribe(O=>{d||o.postMessage({storageName:t,databaseName:r.databaseName,collectionName:r.collectionName,version:r.schema.version,eventBulk:O})});e.changeStream=function(){return i.asObservable().pipe(bp(l))};var h=e.close.bind(e);e.close=function(){return U(this,null,function*(){return d=!0,p.unsubscribe(),o.removeEventListener("message",s),n||(yield wy(r.databaseInstanceToken,e)),h()})};var y=e.remove.bind(e);e.remove=function(){return U(this,null,function*(){return d=!0,p.unsubscribe(),o.removeEventListener("message",s),n||(yield wy(r.databaseInstanceToken,e)),y()})}}}var rm={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",QU18:"Malformated query result data. This likely happens because you create a OPFS-storage RxDatabase inside of a worker but did not set the usesRxDatabaseInWorker setting. https://rxdb.info/rx-storage-opfs.html#setting-usesrxdatabaseinworker-when-a-rxdatabase-is-also-used-inside-of-the-worker ",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",COL22:".bulkInsert() and .bulkUpsert() cannot be run with multiple documents that have the same primary key",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var nm;function Sy(){if(!nm){var t=new Ga,r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));nm=[...r,...e]}return nm}var om;function Ry(){if(!om){var t=new Ya("pseudoInstance","memory"),r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));om=[...r,...e],t.destroy()}return om}var BR=Sl(Kn),$R=new BR,im;function Ll(){if(!im){var t=["deleted","synced"],r=Object.getOwnPropertyNames($R),e=Object.getOwnPropertyNames(Kn);im=[...r,...e,...t]}return im}function jR(t){if(t!=="_deleted"){if(["properties"].includes(t))throw L("SC23",{fieldName:t});var r="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",e=new RegExp(r);if(t!=="_id"&&!t.match(e))throw L("SC1",{regex:r,fieldName:t})}}function UR(t){var r=be(t.primaryKey);function e(o,i,s){if(typeof o=="string"&&typeof i=="object"&&!Array.isArray(i)&&s.split(".").pop()!=="patternProperties"&&jR(o),Object.prototype.hasOwnProperty.call(i,"item")&&i.type!=="array")throw L("SC2",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"required")&&typeof i.required=="boolean")throw L("SC24",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"$ref"))throw L("SC40",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"ref"))if(Array.isArray(i.type)){if(i.type.length>2||!i.type.includes("string")||!i.type.includes("null"))throw L("SC4",{fieldName:o})}else switch(i.type){case"string":break;case"array":if(!i.items||!i.items.type||i.items.type!=="string")throw L("SC3",{fieldName:o});break;default:throw L("SC4",{fieldName:o})}var l=s.split(".").length>=2;if(l&&i.default)throw L("SC7",{path:s});if(!l){if(o==="_id"&&r!=="_id")throw L("COL2",{fieldName:o});if(o.charAt(0)==="_"){if(o==="_id"||o==="_deleted")return;throw L("SC8",{fieldName:o})}}}function n(o,i){!o||typeof o!="object"||Object.keys(o).forEach(s=>{var l=o[s];!o.properties&&l&&typeof l=="object"&&!Array.isArray(o)&&e(s,l,i);var d=i;s!=="properties"&&(d=d+"."+s),n(l,d)})}return n(t,""),!0}function zR(t){if(!t.primaryKey)throw L("SC30",{schema:t});function r(d){if(!d)throw L("SC33",{schema:t});var p=d.type;if(!p||!["string","number","integer"].includes(p))throw L("SC32",{schema:t,args:{schemaPart:d}})}if(typeof t.primaryKey=="string"){var e=t.primaryKey,n=t.properties[e];r(n)}else{var o=t.primaryKey,i=$e(t,o.key);r(i),o.fields.forEach(d=>{var p=$e(t,d);r(p)})}var s=be(t.primaryKey),l=t.properties[s];if(l.maxLength){if(!isFinite(l.maxLength))throw L("SC41",{schema:t,args:{primaryPathSchemaPart:l}})}else throw L("SC39",{schema:t,args:{primaryPathSchemaPart:l}})}function Oy(t){for(var r=t.split("."),e="",n=0;n<r.length;n+=1)r[n]!=="[]"?e=e.concat(".properties.".concat(r[n])):e=e.concat(".items");return xr(e)}function Ey(t){if(!t.primaryKey)throw L("SC30",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"properties"))throw L("SC29",{schema:t});if(t.properties._rev)throw L("SC10",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"version")||typeof t.version!="number"||t.version<0)throw L("SC11",{version:t.version});if(UR(t),zR(t),Object.keys(t.properties).forEach(r=>{var e=t.properties[r];if(r===t.primaryKey){if(t.indexes&&t.indexes.includes(r))throw L("SC13",{value:e,schema:t});if(e.unique)throw L("SC14",{value:e,schema:t});if(t.encrypted&&t.encrypted.includes(r))throw L("SC15",{value:e,schema:t});if(e.type!=="string")throw L("SC16",{value:e,schema:t})}if(Ll().includes(r))throw L("SC17",{key:r,schema:t})}),t.indexes){if(!Ur(t.indexes))throw L("SC18",{indexes:t.indexes,schema:t});t.indexes.forEach(r=>{if(!(typeof r=="string"||Array.isArray(r)))throw L("SC19",{index:r,schema:t});if(Array.isArray(r)){for(var e=0;e<r.length;e+=1)if(typeof r[e]!="string")throw L("SC20",{index:r,schema:t})}var n=Ur(r)?r:[r];n.forEach(o=>{var i=$e(t,o),s=i.type;switch(s){case"string":var l=i.maxLength;if(!l)throw L("SC34",{index:r,field:o,schema:t});break;case"number":case"integer":var d=i.multipleOf;if(!d)throw L("SC35",{index:r,field:o,schema:t});var p=i.maximum,h=i.minimum;if(typeof p>"u"||typeof h>"u")throw L("SC37",{index:r,field:o,schema:t});if(!isFinite(p)||!isFinite(h))throw L("SC41",{index:r,field:o,schema:t});break;case"boolean":var y="",O=o;if(o.includes(".")){var k=o.split(".");O=k.pop(),y=k.join(".")}var T=y===""?t:$e(t,y);if(!T.required||!T.required.includes(O))throw L("SC38",{index:r,field:o,schema:t});break;default:throw L("SC36",{fieldName:o,type:i.type,schema:t})}})})}Object.keys(Ac(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!=="").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Be(t,r);return e&&!!e.index}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),L("SC26",{index:xr(r),schema:t})}),(t.indexes||[]).reduce((r,e)=>(Ur(e)?_r(r,e):r.push(e),r),[]).filter((r,e,n)=>n.indexOf(r)===e).map(r=>{var e=Oy(r),n=Be(t,e);if(!n||typeof n!="object")throw L("SC21",{index:r,schema:t});return{indexPath:r,schemaObj:n}}).filter(r=>r.schemaObj.type!=="string"&&r.schemaObj.type!=="integer"&&r.schemaObj.type!=="number"&&r.schemaObj.type!=="boolean").forEach(r=>{throw L("SC22",{key:r.indexPath,type:r.schemaObj.type,schema:t})}),Object.keys(Ac(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!==""&&r!=="attachments").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Be(t,r);return e&&!!e.encrypted}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),L("SC27",{index:xr(r),schema:t})}),t.encrypted&&t.encrypted.forEach(r=>{var e=Oy(r),n=Be(t,e);if(!n||typeof n!="object")throw L("SC28",{field:r,schema:t})})}function Fl(t){t&&Object.entries(t).forEach(([r,e])=>{if(typeof r!="string")throw de("COL14",{name:r});if(r.startsWith("_"))throw de("COL15",{name:r});if(typeof e!="function")throw de("COL16",{name:r,type:typeof r});if(Sy().includes(r)||Ll().includes(r))throw L("COL17",{name:r})})}function Dy(t,r){var e=Object.keys(t.properties);r&&Object.keys(r).filter(n=>e.includes(n)).forEach(n=>{throw L("COL18",{funName:n})})}function ky(t,r){if(typeof r!="object"||Array.isArray(r))throw de("COL11",{schema:t});var e=cv(t);if(e.length!==Object.keys(r).length)throw L("COL12",{have:Object.keys(r),should:e});return e.map(n=>({v:n,s:r[n+1]})).filter(n=>typeof n.s!="function").forEach(n=>{throw de("COL13",{version:n.v,type:typeof n,schema:t})}),!0}function Ay(t){if(Ry().includes(t.name))throw L("DB5",{name:t.name});Ty(t.name)}function Iy(t){if(Ty(t.name),t.name.includes("$"))throw L("DB13",{name:t.name});if(Wd(t.name)&&(t.name.endsWith("/")||t.name.endsWith("\\")))throw L("DB11",{name:t.name})}var My="^[a-z][_$a-z0-9\\-]*$",VR=new RegExp(My);function Ty(t){if(typeof t!="string"||t.length===0)throw de("UT1",{name:t});if(Wd(t))return!0;if(!t.match(VR)&&t!==":memory:")throw L("UT2",{regex:My,givenName:t});return!0}function Py(t){var r=Object.prototype.toString.call(t.queryObj)==="[object Object]";if(!r)throw de("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj});var e=["selector","limit","skip","sort","index"];if(Object.keys(t.queryObj).forEach(n=>{if(!e.includes(n))throw de("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj,key:n,args:{validKeys:e}})}),t.op==="count"&&(t.queryObj.limit||t.queryObj.skip))throw L("QU15",{collection:t.collection.name,query:t.queryObj});Bl(t.queryObj)}function Ny(t){var r=t.rxQuery.collection.schema.jsonSchema,e=t.mangoQuery.selector,n=Object.keys(r.properties);Object.keys(e).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:r,field:l,query:t.mangoQuery})});var o=r.indexes?r.indexes:[],i=t.mangoQuery.index;if(i){var s=o.find(l=>$n(l,i));if(!s)throw L("QU12",{collection:t.rxQuery.collection.name,query:t.mangoQuery,schema:r})}if(t.rxQuery.op==="count"&&!qR(t.rxQuery.collection.schema.jsonSchema,t.mangoQuery)&&!t.rxQuery.collection.database.allowSlowCount)throw L("QU14",{collection:t.rxQuery.collection,query:t.mangoQuery});t.mangoQuery.sort&&t.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:r,field:l,query:t.mangoQuery})}),Bl(t.mangoQuery)}function qR(t,r){var e=Wa(t,r);return e.queryPlan.selectorSatisfiedByIndex}function Bl(t){if(!(typeof t!="object"||t===null)){var r=Object.keys(t);r.forEach(e=>{var n=t[e];if(n instanceof RegExp)throw L("QU16",{field:e,query:t});Array.isArray(n)?n.forEach(o=>Bl(o)):Bl(n)})}}function Ly(t,r){if(!t)throw L("DOC20",{primaryKey:t,document:r});if(t!==t.trim())throw L("DOC21",{primaryKey:t,document:r});if(t.includes("\r")||t.includes(`
`))throw L("DOC22",{primaryKey:t,document:r});if(t.includes('"'))throw L("DOC23",{primaryKey:t,document:r})}function Fy(t){if(typeof t!="object"||t===null)return!1;for(var r in t)if(t.hasOwnProperty(r)&&(t[r]instanceof Date||typeof t[r]=="object"&&Fy(t[r])))return!0;return!1}function By(t,r){var e=be(t.schema.primaryKey),n=function(i){i.document=Fc(e,t.schema,i.document),i.previous&&Object.keys(i.previous._meta).forEach(s=>{if(!Object.prototype.hasOwnProperty.call(i.document._meta,s))throw L("SNH",{dataBefore:i.previous,dataAfter:i.document,args:{metaFieldName:s}})});try{typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i))}catch{throw L("DOC24",{collection:t.collectionName,document:i.document})}if(Fy(i.document))throw L("DOC24",{collection:t.collectionName,document:i.document})};for(var o of r)n(o)}var $y=!1;function jy(t){return U(this,null,function*(){if(!($y||typeof window>"u"||typeof location>"u")&&!(Un.premium&&typeof Un.premium=="string"&&(yield _i(Un.premium))===Pc)){$y=!0;var r=document.createElement("iframe");r.style.visibility="hidden",r.width="1px",r.height="1px",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.opacity="0.1",r.src="https://rxdb.info/html/dev-mode-iframe.html?version="+Io,document.body.appendChild(r)}})}var HR=!0;function WR(t){return!t||typeof t=="string"||typeof t=="number"?t:Ud(t)}var KR="dev-mode",Uy={name:KR,rxdb:!0,init:()=>{HR&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:WR,tunnelErrorMessage(t){if(!rm[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return rm[t]}},hooks:{preCreateRxSchema:{after:Ey},preCreateRxDatabase:{after:function(t){Iy(t)}},createRxDatabase:{after:function(t){return U(this,null,function*(){jy(t.database)})}},preCreateRxCollection:{after:function(t){if(Ay(t),Dy(t.schema,t.methods),t.name.charAt(0)==="_")throw L("DB2",{name:t.name});if(!t.schema)throw L("DB4",{name:t.name,args:t})}},createRxDocument:{before:function(t){Ly(t.primary,t.toJSON(!0))}},preCreateRxQuery:{after:function(t){Py(t)}},prePrepareQuery:{after:t=>{Ny(t)}},preStorageWrite:{before:t=>{By(t.storageInstance,t.rows)}},createRxCollection:{after:t=>{Fl(t.creator.statics),Fl(t.creator.methods),Fl(t.creator.attachments),t.creator.schema&&t.creator.migrationStrategies&&ky(t.creator.schema,t.creator.migrationStrategies)}}}};var $l=hx(zy(),1),Vy=Symbol.for("Dexie"),Za=globalThis[Vy]||(globalThis[Vy]=$l.default);if($l.default.semVer!==Za.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${$l.default.semVer} and ${Za.semVer}`);var{liveQuery:N8,mergeRanges:L8,rangesOverlap:F8,RangeSet:B8,cmp:$8,Entity:j8,PropModSymbol:U8,PropModification:z8,replacePrefix:V8,add:q8,remove:H8}=Za;var Ja="docs",GR="changes",qy="attachments",Ul="dexie",Hy=new Map,jl=new Map;function Wy(t,r,e,n){var o="rxdb-dexie-"+t+"--"+n.version+"--"+r,i=Ye(Hy,o,()=>{var s=U(this,null,function*(){var l=Dt(e);l.autoOpen=!1;var d=new Za(o,l),p={[Ja]:YR(n),[GR]:"++sequence, id",[qy]:"id"};return d.version(1).stores(p),yield d.open(),{dexieDb:d,dexieTable:d[Ja],dexieAttachmentsTable:d[qy],booleanIndexes:QR(n)}});return Hy.set(o,i),jl.set(i,0),s});return i}function Ky(t){return U(this,null,function*(){var r=yield t,e=jl.get(t),n=e-1;n===0?(r.dexieDb.close(),jl.delete(t)):jl.set(t,n)})}var cm="__";function Fo(t){var r=t.split(".");if(r.length>1)return r.map(n=>Fo(n)).join(".");if(t.startsWith("|")){var e=t.substring(1);return cm+e}else return t}function Gy(t){var r=t.split(".");if(r.length>1)return r.map(n=>Gy(n)).join(".");if(t.startsWith(cm)){var e=t.substring(cm.length);return"|"+e}else return t}function Yy(t,r){if(!r)return r;var e=Dt(r);return e=lm(e),t.forEach(n=>{var o=Be(r,n),i=o?"1":"0",s=Fo(n);Yd(e,s,i)}),e}function dm(t,r){return r&&(r=Dt(r),r=um(r),t.forEach(e=>{var n=Be(r,e),o=n==="1";Yd(r,e,o)}),r)}function lm(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>lm(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="object"&&(n=lm(n)),r[Fo(e)]=n}),r}}function um(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>um(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{(typeof n=="object"||Array.isArray(t))&&(n=um(n)),r[Gy(e)]=n}),r}}function YR(t){var r=[],e=be(t.primaryKey);r.push([e]),r.push(["_deleted",e]),t.indexes&&t.indexes.forEach(i=>{var s=Ma(i);r.push(s)}),r.push(["_meta.lwt",e]),r.push(["_meta.lwt"]),r=r.map(i=>i.map(s=>Fo(s)));var n=r.map(i=>i.length===1?i[0]:"["+i.join("+")+"]");n=n.filter((i,s,l)=>l.indexOf(i)===s);var o=n.join(", ");return o}function fm(t,r){return U(this,null,function*(){var e=yield t,n=yield e.dexieTable.bulkGet(r);return n.map(o=>dm(e.booleanIndexes,o))})}function ts(t,r){return t+"||"+r}function QR(t){var r=new Set,e=[];return t.indexes?(t.indexes.forEach(n=>{var o=Ma(n);o.forEach(i=>{if(!r.has(i)){r.add(i);var s=$e(t,i);s.type==="boolean"&&e.push(i)}})}),e.push("_deleted"),Pg(e)):e}function Qy(t){return t===To?-1/0:t}function Xy(t,r,e){if(t.includes(r)){var n=e===Mo||e===!0?"1":"0";return n}else return e}function Zy(t,r,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var n=r.startKeys.map((s,l)=>{var d=r.index[l];return Xy(t,d,s)}).map(Qy),o=r.endKeys.map((s,l)=>{var d=r.index[l];return Xy(t,d,s)}).map(Qy),i=e.bound(n,o,!r.inclusiveStart,!r.inclusiveEnd);return i}function mm(t,r){return U(this,null,function*(){var e=yield t.internals,n=r.query,o=n.skip?n.skip:0,i=n.limit?n.limit:1/0,s=o+i,l=r.queryPlan,d=!1;l.selectorSatisfiedByIndex||(d=Ai(t.schema,r.query));var p=Zy(e.booleanIndexes,l,e.dexieDb._options.IDBKeyRange),h=l.index,y=[];if(yield e.dexieDb.transaction("r",e.dexieTable,k=>U(this,null,function*(){var T=k.idbtrans,$=T.objectStore(Ja),W,J;J="["+h.map(tt=>Fo(tt)).join("+")+"]",W=$.index(J);var rt=W.openCursor(p);yield new Promise(tt=>{rt.onsuccess=function(kt){var st=kt.target.result;if(st){var Mt=dm(e.booleanIndexes,st.value);(!d||d(Mt))&&y.push(Mt),l.sortSatisfiedByIndex&&y.length===s?tt():st.continue()}else tt()}})})),!l.sortSatisfiedByIndex){var O=xl(t.schema,r.query);y=y.sort(O)}return y=y.slice(o,s),{documents:y}})}function Jy(t,r){return U(this,null,function*(){var e=yield t.internals,n=r.queryPlan,o=n.index,i=Zy(e.booleanIndexes,n,e.dexieDb._options.IDBKeyRange),s=-1;return yield e.dexieDb.transaction("r",e.dexieTable,l=>U(this,null,function*(){var d=l.idbtrans,p=d.objectStore(Ja),h,y;y="["+o.map(k=>Fo(k)).join("+")+"]",h=p.index(y);var O=h.count(i);s=yield new Promise((k,T)=>{O.onsuccess=function(){k(O.result)},O.onerror=$=>T($)})})),s})}var XR=ne(),pm=!1,ZR=function(){function t(e,n,o,i,s,l,d,p){this.changes$=new at,this.instanceId=XR++,this.storage=e,this.databaseName=n,this.collectionName=o,this.schema=i,this.internals=s,this.options=l,this.settings=d,this.devMode=p,this.primaryPath=be(this.schema.primaryKey)}var r=t.prototype;return r.bulkWrite=function(n,o){return U(this,null,function*(){Bo(this),!pm&&(!Un.premium||typeof Un.premium!="string"||(yield _i(Un.premium))!==Pc)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),pm=!0,n.forEach(h=>{if(!h.document._rev||h.previous&&!h.previous._rev)throw L("SNH",{args:{row:h}})});var i=yield this.internals,s={error:[]};this.devMode&&(n=n.map(h=>{var y=Lo(h.document);return{previous:h.previous,document:y}}));var l=n.map(h=>h.document[this.primaryPath]),d;if(yield i.dexieDb.transaction("rw",i.dexieTable,i.dexieAttachmentsTable,()=>U(this,null,function*(){var h=new Map,y=yield fm(this.internals,l);y.forEach(T=>{var $=T;return $&&h.set($[this.primaryPath],$),$}),d=Mb(this,this.primaryPath,h,n,o),s.error=d.errors;var O=[];d.bulkInsertDocs.forEach(T=>{O.push(T.document)}),d.bulkUpdateDocs.forEach(T=>{O.push(T.document)}),O=O.map(T=>Yy(i.booleanIndexes,T)),O.length>0&&(yield i.dexieTable.bulkPut(O));var k=[];d.attachmentsAdd.forEach(T=>{k.push({id:ts(T.documentId,T.attachmentId),data:T.attachmentData.data})}),d.attachmentsUpdate.forEach(T=>{k.push({id:ts(T.documentId,T.attachmentId),data:T.attachmentData.data})}),yield i.dexieAttachmentsTable.bulkPut(k),yield i.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(T=>ts(T.documentId,T.attachmentId)))})),d=Ot(d),d.eventBulk.events.length>0){var p=Ot(d.newestRow).document;d.eventBulk.checkpoint={id:p[this.primaryPath],lwt:p._meta.lwt},d.eventBulk.endTime=ne(),this.changes$.next(d.eventBulk)}return s})},r.findDocumentsById=function(n,o){return U(this,null,function*(){Bo(this);var i=yield this.internals,s=[];return yield i.dexieDb.transaction("r",i.dexieTable,()=>U(this,null,function*(){var l=yield fm(this.internals,n);l.forEach(d=>{d&&(!d._deleted||o)&&s.push(d)})})),s})},r.query=function(n){return Bo(this),mm(this,n)},r.count=function(n){return U(this,null,function*(){if(n.queryPlan.selectorSatisfiedByIndex){var o=yield Jy(this,n);return{count:o,mode:"fast"}}else{var i=yield mm(this,n);return{count:i.documents.length,mode:"slow"}}})},r.changeStream=function(){return Bo(this),this.changes$.asObservable()},r.cleanup=function(n){return U(this,null,function*(){Bo(this);var o=yield this.internals;return yield o.dexieDb.transaction("rw",o.dexieTable,()=>U(this,null,function*(){var i=ne()-n,s=yield o.dexieTable.where("_meta.lwt").below(i).toArray(),l=[];s.forEach(d=>{d._deleted==="1"&&l.push(d[this.primaryPath])}),yield o.dexieTable.bulkDelete(l)})),!0})},r.getAttachmentData=function(n,o,i){return U(this,null,function*(){Bo(this);var s=yield this.internals,l=ts(n,o);return yield s.dexieDb.transaction("r",s.dexieAttachmentsTable,()=>U(this,null,function*(){var d=yield s.dexieAttachmentsTable.get(l);if(d)return d.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+o)}))})},r.remove=function(){return U(this,null,function*(){Bo(this);var n=yield this.internals;return yield n.dexieTable.clear(),this.close()})},r.close=function(){return this.closed?this.closed:(this.closed=U(this,null,function*(){this.changes$.complete(),yield Ky(this.internals)}),this.closed)},r.conflictResultionTasks=function(){return new at},r.resolveConflictResultionTask=function(n){return U(this,null,function*(){})},t}();function t_(t,r,e){return U(this,null,function*(){var n=Wy(r.databaseName,r.collectionName,e,r.schema),o=new ZR(t,r.databaseName,r.collectionName,r.schema,n,r.options,e,r.devMode);return yield Cy(Ul,r,o),Promise.resolve(o)})}function Bo(t){if(t.closed)throw new Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var JR=function(){function t(e){this.name=Ul,this.rxdbVersion=Io,this.settings=e}var r=t.prototype;return r.createStorageInstance=function(n){return Pb(n),t_(this,n,this.settings)},t}();function e_(t={}){var r=new JR(t);return r}var hm={};Fs(hm,{$all:()=>JC,$and:()=>Df,$bitsAllClear:()=>r_,$bitsAllSet:()=>n_,$bitsAnyClear:()=>o_,$bitsAnySet:()=>i_,$elemMatch:()=>Tf,$eq:()=>ml,$exists:()=>Nf,$expr:()=>QC,$gt:()=>pl,$gte:()=>hl,$in:()=>gl,$jsonSchema:()=>XC,$lt:()=>vl,$lte:()=>bl,$mod:()=>If,$ne:()=>yl,$nin:()=>_l,$nor:()=>kf,$not:()=>Af,$or:()=>Va,$regex:()=>Mf,$size:()=>Pf,$type:()=>Lf,$where:()=>ZC});var Yn=t=>Ct((r,e,n)=>{let o=0;if(e instanceof Array)for(let i of e)o=o|1<<i;else o=e;return t(r&o,o)});var r_=Yn((t,r)=>t==0);var n_=Yn((t,r)=>t==r);var o_=Yn((t,r)=>t<r);var i_=Yn((t,r)=>t>0);var zl={};Fs(zl,{$addToSet:()=>eO,$bit:()=>nO,$currentDate:()=>oO,$inc:()=>iO,$max:()=>aO,$min:()=>sO,$mul:()=>cO,$pop:()=>lO,$pull:()=>gm,$pullAll:()=>uO,$push:()=>fO,$rename:()=>mO,$set:()=>vm,$unset:()=>pO});var Ni=(t,r)=>{switch(t){case"deep":return Oi(r);case"copy":return Hn(r)?new Date(r):it(r)?[...r]:dt(r)?j({},r):r;default:return r}},tO=/^[a-z]+[a-zA-Z0-9]*$/;function a_(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];let r=t.indexOf(".$"),e=t.indexOf("]"),n=t.substring(0,r),o=t.substring(r+3,e);z(o===""||tO.test(o),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let i=t.substring(e+2),[s,l]=i?a_(i):[];return[{selector:t,parent:n,child:o||"$",next:s},[o,...l||[]].filter(Boolean)]}var Pt=(t,r,e,n,o)=>{let{parent:i,child:s,next:l}=r;if(!s){let p=!1;return Si(t,i,(y,O)=>p=!!n(y,O)||p,o),p}let d=Te(t,i);return it(d)?d.map((p,h)=>e[s]&&!e[s].test({[s]:p})?!1:l?Pt(p,l,e,n,o):n(d,h)).some(Boolean):!1};function Ft(t,r,e,n){let o=[];for(let[i,s]of Object.entries(t)){let[l,d]=a_(i);if(!d.length)n(s,l,{})&&o.push(l.parent);else{let p={};r.forEach(y=>{Object.keys(y).forEach(O=>{d.forEach(k=>{(O===k||O.startsWith(k+"."))&&(p[k]=p[k]||{},Object.assign(p[k],{[O]:y[O]}))})})});let h={};for(let[y,O]of Object.entries(p))h[y]=new ee(O,e.queryOptions);n(s,l,h)&&o.push(l.parent)}}return o}var eO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>{let l={$each:[o]};return dt(o)&&Vt(o,"$each")&&Object.assign(l,o),Pt(t,i,s,(d,p)=>{let h=d[p]||=[];return un([h,l.$each]).length===l.$each.length?!1:(d[p]=Ni(n.cloneMode,$a(h.concat(l.$each))),!0)},{buildGraph:!0})});var rO=new Set(["and","or","xor"]),nO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>{let l=Object.keys(o);return z(l.length===1&&rO.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Pt(t,i,s,(d,p)=>{let h=d[p],y=o[l[0]];if(h!==void 0&&!(ft(h)&&ft(y)))return!1;switch(h=h||0,l[0]){case"and":d[p]=h&y;break;case"or":d[p]=h|y;break;case"xor":d[p]=h^y;break}return d[p]!==h},{buildGraph:!0})});var oO=(t,r,e=[],n={})=>{let o=Date.now();return Ft(r,e,n,(i,s,l)=>Pt(t,s,l,(d,p)=>(d[p]=o,!0),{buildGraph:!0}))};var iO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>{if(!i.child){let l=Te(t,i.parent);z(l===void 0||ft(l),"cannot apply $inc to a value of non-numeric type")}return Pt(t,i,s,(l,d)=>(l[d]=(l[d]||=0)+o,!0),{buildGraph:!0})});var aO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>l[d]!==void 0&&Nt(l[d],o)>-1?!1:(l[d]=o,!0),{buildGraph:!0}));var sO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>l[d]!==void 0&&Nt(l[d],o)<1?!1:(l[d]=o,!0),{buildGraph:!0}));var cO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>{let p=l[d];return l[d]=l[d]===void 0?0:l[d]*o,l[d]!==p},{buildGraph:!0}));var lO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>{let p=l[d];return z(it(p),`path '${i.selector}' contains an element of non-array type.`),p.length?(o===-1?p.splice(0,1):p.pop(),!0):!1}));var gm=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>{let l=!dt(o)||Object.keys(o).some(Xe),d=new ee(l?{k:o}:o,n.queryOptions),p=l?h=>d.test({k:h}):h=>d.test(h);return Pt(t,i,s,(h,y)=>{let O=h[y],k=new Array;return O.map($=>{let W=p($);return W||k.push($),W}).some(Boolean)?(h[y]=k,!0):!1})});var uO=(t,r,e=[],n={})=>{let o={};return Object.entries(r).forEach(([i,s])=>{o[i]={$in:s}}),gm(t,o,e,n)};var dO=Object.freeze(["$each","$slice","$sort","$position"]),fO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>{let l={$each:[o]};return dt(o)&&dO.some(d=>Vt(o,d))&&Object.assign(l,o),Pt(t,i,s,(d,p)=>{let h=d[p]||=[],y=h.slice(0,l.$slice||h.length),O=h.length,k=ft(l.$position)?l.$position:h.length;if(h.splice(k,0,...Ni(n.cloneMode,l.$each)),l.$sort){let T=dt(l.$sort)?Object.keys(l.$sort||{}).pop():"",$=T?l.$sort[T]:l.$sort,W=T?J=>Te(J,T):J=>J;h.sort((J,rt)=>$*Nt(W(J),W(rt)))}return ft(l.$slice)&&(l.$slice<0?h.splice(0,h.length+l.$slice):h.splice(l.$slice)),O!=h.length||!ye(y,h)},{descendArray:!0,buildGraph:!0})});var vm=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>ye(l[d],o)?!1:(l[d]=Ni(n.cloneMode,o),!0),{buildGraph:!0}));var mO=(t,r,e=[],n={})=>{let o=[],i=Ft(r,e,n,(s,l,d)=>Pt(t,l,d,(p,h)=>Vt(p,h)?(o.push(...vm(t,{[s]:p[h]},e,n)),delete p[h],!0):!1));return Array.from(new Set(i.concat(o)))};var pO=(t,r,e=[],n={})=>Ft(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>Vt(l,d)?(it(l)?l[d]=null:delete l[d],!0):!1));function bm(t){return t=gt(j({},t),{queryOptions:dn(t.queryOptions)}),t.queryOptions.context.addQueryOps(hm).addExpressionOps(Sf).addExpressionOps(Rf),(r,e,n=[],o={},i={})=>{let s=Object.assign({cloneMode:"copy"},t,i);Object.assign(s,{queryOptions:dn(Object.assign({useStrictMode:!1},s?.queryOptions))}),n=n||[],o=o||{};let l=Object.entries(e);z(l.length===1,"Update expression must contain only one operator.");let[d,p]=l[0];z(Vt(zl,d),`Update operator '${d}' is not supported.`);let h=zl[d];return Object.keys(o).length&&!(o instanceof ee?o:new ee(o,s.queryOptions)).test(r)?[]:h(r,p,n,s)}}var K9=bm({});var ym;function _m(t,r){if(!ym){var e=bm({cloneMode:"none"});ym=(n,o)=>{var i=lr(n);return e(i,o),i}}return ym(t,r)}function hO(t){return this.incrementalModify(r=>{var e=_m(r,t);return e})}function gO(t){var r=this._data,e=_m(r,t);return this._saveData(e,r)}function vO(t){return U(this,null,function*(){return Wn(this.asRxQuery,r=>r.update(t))})}var s_={name:"update",rxdb:!0,prototypes:{RxDocument:t=>{t.update=gO,t.incrementalUpdate=hO},RxQuery:t=>{t.update=vO}}};var bO={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function yO(){return U(this,null,function*(){Ml(Hb),Ml(s_),Up()&&Ml(Uy)})}yO();var dG=(()=>{class t{constructor(){this.dataBaseReadySubj=new Ce(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(e){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[e]}initDB(e){return U(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===e&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield Jb({name:e,storage:e_(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:bO}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hG=(()=>{class t{constructor(){this.activePortal=new at,this.portal$=this.activePortal.asObservable()}setPortal(e){this.activePortal.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var c_={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function xG(t){return t&&typeof t.connect=="function"&&!(t instanceof co)}var _O=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(_O||{}),SG=new lt("_ViewRepeater");var l_=20,es=(()=>{class t{_ngZone=R(zt);_platform=R(Oe);_renderer=R(en).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new at;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=l_){return this._platform.isBrowser?new Bs(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(Bu(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):nt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let o=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(yt(i=>!i||o.indexOf(i)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((o,i)=>{this._scrollableContainsElement(i,e)&&n.push(i)}),n}_scrollableContainsElement(e,n){let o=ri(n),i=e.getElementRef().nativeElement;do if(o==i)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ql=(()=>{class t{elementRef=R(Qt);scrollDispatcher=R(es);ngZone=R(zt);dir=R(An,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new at;_renderer=R(On);_cleanupScroll;_elementScrolled=new at;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=o?e.end:e.start),e.right==null&&(e.right=o?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),o&&oi()!=br.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),oi()==br.INVERTED?e.left=e.right:oi()==br.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;Gs()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",o="right",i=this.elementRef.nativeElement;if(e=="top")return i.scrollTop;if(e=="bottom")return i.scrollHeight-i.clientHeight-i.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?o:n:e=="end"&&(e=s?n:o),s&&oi()==br.INVERTED?e==n?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:s&&oi()==br.NEGATED?e==n?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:e==n?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),u_=20,rs=(()=>{class t{_platform=R(Oe);_listeners;_viewportSize;_change=new at;_document=R(ue,{optional:!0});constructor(){let e=R(zt),n=R(en).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=i=>this._change.next(i);this._listeners=[n.listen("window","resize",o),n.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),o=e.documentElement,i=o.getBoundingClientRect(),s=-i.top||e.body.scrollTop||n.scrollY||o.scrollTop||0,l=-i.left||e.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:s,left:l}}change(e=u_){return e>0?this._change.pipe(Bu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Vl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({})}return t})(),Hl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({imports:[ca,Vl,ca,Vl]})}return t})();var d_=Gs(),Wl=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(r,e){this._viewportRuler=r,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Jt(-this._previousScrollPosition.left),r.style.top=Jt(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,e=this._document.body,n=r.style,o=e.style,i=n.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),d_&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),d_&&(n.scrollBehavior=i,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var Kl=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(r,e,n,o){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=n,this._config=o}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(yt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},ns=class{enable(){}disable(){}attach(){}};function xm(t,r){return r.some(e=>{let n=t.bottom<e.top,o=t.top>e.bottom,i=t.right<e.left,s=t.left>e.right;return n||o||i||s})}function f_(t,r){return r.some(e=>{let n=t.top<e.top,o=t.bottom>e.bottom,i=t.left<e.left,s=t.right>e.right;return n||o||i||s})}var Gl=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(r,e,n,o){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=n,this._config=o}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();xm(e,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},b_=(()=>{class t{_scrollDispatcher=R(es);_viewportRuler=R(rs);_ngZone=R(zt);_document=R(ue);constructor(){}noop=()=>new ns;close=e=>new Kl(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Wl(this._viewportRuler,this._document);reposition=e=>new Gl(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pn=class{positionStrategy;scrollStrategy=new ns;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(r){if(r){let e=Object.keys(r);for(let n of e)r[n]!==void 0&&(this[n]=r[n])}}};var Yl=class{connectionPair;scrollableViewProperties;constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}};var y_=(()=>{class t{_attachedOverlays=[];_document=R(ue);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),__=(()=>{class t extends y_{_ngZone=R(zt);_renderer=R(en).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let o=n.length-1;o>-1;o--)if(n[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x_=(()=>{class t extends y_{_platform=R(Oe);_ngZone=R(zt);_renderer=R(en).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,o={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Dn(this._renderer,n,"pointerdown",this._pointerDownListener,o),Dn(this._renderer,n,"click",this._clickListener,o),Dn(this._renderer,n,"auxclick",this._clickListener,o),Dn(this._renderer,n,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=nn(e)};_clickListener=e=>{let n=nn(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let i=this._attachedOverlays.slice();for(let s=i.length-1;s>-1;s--){let l=i[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(m_(l.overlayElement,n)||m_(l.overlayElement,o))break;let d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(e)):d.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m_(t,r){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=r;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var w_=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),os=(()=>{class t{_platform=R(Oe);_containerElement;_document=R(ue);_styleLoader=R(kn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Ju()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let i=0;i<o.length;i++)o[i].remove()}let n=this._document.createElement("div");n.classList.add(e),Ju()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(w_)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wm=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(r,e,n,o){this._renderer=e,this._ngZone=n,this.element=r.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let r=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(r,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),r.style.pointerEvents="none",r.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},jo=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new at;_attachments=new at;_detachments=new at;_positionStrategy;_scrollStrategy;_locationChanges=Er.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new at;_outsidePointerEvents=new at;_renders=new at;_afterRenderRef;_afterNextRenderRef;constructor(r,e,n,o,i,s,l,d,p,h=!1,y,O){this._portalOutlet=r,this._host=e,this._pane=n,this._config=o,this._ngZone=i,this._keyboardDispatcher=s,this._document=l,this._location=d,this._outsideClickDispatcher=p,this._animationsDisabled=h,this._injector=y,this._renderer=O,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Vp(()=>js(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=po(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,r&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=j(j({},this._config),r),this._updateElementSize()}setDirection(r){this._config=gt(j({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=Jt(this._config.width),r.height=Jt(this._config.height),r.minWidth=Jt(this._config.minWidth),r.minHeight=Jt(this._config.minHeight),r.maxWidth=Jt(this._config.maxWidth),r.maxHeight=Jt(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new wm(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(r))}):this._backdropRef.element.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(r,e,n){let o=Xu(e||[]).filter(i=>!!i);o.length&&(n?r.classList.add(...o):r.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let r=this._renders.pipe(mo(Yo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){let r=this._scrollStrategy;r?.disable(),r?.detach?.()}},p_="cdk-overlay-connected-position-bounding-box",xO=/([A-Za-z%]+)$/,Ql=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new at;_resizeSubscription=Er.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(r,e,n,o,i){this._viewportRuler=e,this._document=n,this._platform=o,this._overlayContainer=i,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(p_),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,e=this._overlayRect,n=this._viewportRect,o=this._containerRect,i=[],s;for(let l of this._preferredPositions){let d=this._getOriginPoint(r,o,l),p=this._getOverlayPoint(d,e,l),h=this._getOverlayFit(p,e,n,l);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(h,p,n)){i.push({position:l,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:p,originPoint:d,position:l,overlayRect:e})}if(i.length){let l=null,d=-1;for(let p of i){let h=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);h>d&&(d=h,l=p)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$o(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(p_),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,e)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e,n){let o;if(n.originX=="center")o=r.left+r.width/2;else{let s=this._isRtl()?r.right:r.left,l=this._isRtl()?r.left:r.right;o=n.originX=="start"?s:l}e.left<0&&(o-=e.left);let i;return n.originY=="center"?i=r.top+r.height/2:i=n.originY=="top"?r.top:r.bottom,e.top<0&&(i-=e.top),{x:o,y:i}}_getOverlayPoint(r,e,n){let o;n.overlayX=="center"?o=-e.width/2:n.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let i;return n.overlayY=="center"?i=-e.height/2:i=n.overlayY=="top"?0:-e.height,{x:r.x+o,y:r.y+i}}_getOverlayFit(r,e,n,o){let i=g_(e),{x:s,y:l}=r,d=this._getOffset(o,"x"),p=this._getOffset(o,"y");d&&(s+=d),p&&(l+=p);let h=0-s,y=s+i.width-n.width,O=0-l,k=l+i.height-n.height,T=this._subtractOverflows(i.width,h,y),$=this._subtractOverflows(i.height,O,k),W=T*$;return{visibleArea:W,isCompletelyWithinViewport:i.width*i.height===W,fitsInViewportVertically:$===i.height,fitsInViewportHorizontally:T==i.width}}_canFitWithFlexibleDimensions(r,e,n){if(this._hasFlexibleDimensions){let o=n.bottom-e.y,i=n.right-e.x,s=h_(this._overlayRef.getConfig().minHeight),l=h_(this._overlayRef.getConfig().minWidth),d=r.fitsInViewportVertically||s!=null&&s<=o,p=r.fitsInViewportHorizontally||l!=null&&l<=i;return d&&p}return!1}_pushOverlayOnScreen(r,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let o=g_(e),i=this._viewportRect,s=Math.max(r.x+o.width-i.width,0),l=Math.max(r.y+o.height-i.height,0),d=Math.max(i.top-n.top-r.y,0),p=Math.max(i.left-n.left-r.x,0),h=0,y=0;return o.width<=i.width?h=p||-s:h=r.x<this._viewportMargin?i.left-n.left-r.x:0,o.height<=i.height?y=d||-l:y=r.y<this._viewportMargin?i.top-n.top-r.y:0,this._previousPushAmount={x:h,y},{x:r.x+h,y:r.y+y}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!wO(this._lastScrollVisibility,n)){let o=new Yl(r,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=r.overlayY;r.overlayX==="center"?n="center":this._isRtl()?n=r.overlayX==="start"?"right":"left":n=r.overlayX==="start"?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(r,e){let n=this._viewportRect,o=this._isRtl(),i,s,l;if(e.overlayY==="top")s=r.y,i=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")l=n.height-r.y+this._viewportMargin*2,i=n.height-l+this._viewportMargin;else{let k=Math.min(n.bottom-r.y+n.top,r.y),T=this._lastBoundingBoxSize.height;i=k*2,s=r.y-k,i>T&&!this._isInitialRender&&!this._growAfterOpen&&(s=r.y-T/2)}let d=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,p=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,h,y,O;if(p)O=n.width-r.x+this._viewportMargin*2,h=r.x-this._viewportMargin;else if(d)y=r.x,h=n.right-r.x;else{let k=Math.min(n.right-r.x+n.left,r.x),T=this._lastBoundingBoxSize.width;h=k*2,y=r.x-k,h>T&&!this._isInitialRender&&!this._growAfterOpen&&(y=r.x-T/2)}return{top:s,left:y,bottom:l,right:O,width:h,height:i}}_setBoundingBoxStyles(r,e){let n=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let i=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=Jt(n.height),o.top=Jt(n.top),o.bottom=Jt(n.bottom),o.width=Jt(n.width),o.left=Jt(n.left),o.right=Jt(n.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",i&&(o.maxHeight=Jt(i)),s&&(o.maxWidth=Jt(s))}this._lastBoundingBoxSize=n,$o(this._boundingBox.style,o)}_resetBoundingBoxStyles(){$o(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$o(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){let n={},o=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let h=this._viewportRuler.getViewportScrollPosition();$o(n,this._getExactOverlayY(e,r,h)),$o(n,this._getExactOverlayX(e,r,h))}else n.position="static";let l="",d=this._getOffset(e,"x"),p=this._getOffset(e,"y");d&&(l+=`translateX(${d}px) `),p&&(l+=`translateY(${p}px)`),n.transform=l.trim(),s.maxHeight&&(o?n.maxHeight=Jt(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(o?n.maxWidth=Jt(s.maxWidth):i&&(n.maxWidth="")),$o(this._pane.style,n)}_getExactOverlayY(r,e,n){let o={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,r);if(this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),r.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(i.y+this._overlayRect.height)}px`}else o.top=Jt(i.y);return o}_getExactOverlayX(r,e,n){let o={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s;if(this._isRtl()?s=r.overlayX==="end"?"left":"right":s=r.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;o.right=`${l-(i.x+this._overlayRect.width)}px`}else o.left=Jt(i.x);return o}_getScrollVisibility(){let r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:f_(r,n),isOriginOutsideView:xm(r,n),isOverlayClipped:f_(e,n),isOverlayOutsideView:xm(e,n)}}_subtractOverflows(r,...e){return e.reduce((n,o)=>n-Math.max(o,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+r-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return e==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&Xu(r).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){let r=this._origin;if(r instanceof Qt)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let e=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+e,height:n,width:e}}};function $o(t,r){for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function h_(t){if(typeof t!="number"&&t!=null){let[r,e]=t.split(xO);return!e||e==="px"?parseFloat(r):null}return t||null}function g_(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function wO(t,r){return t===r?!0:t.isOriginClipped===r.isOriginClipped&&t.isOriginOutsideView===r.isOriginOutsideView&&t.isOverlayClipped===r.isOverlayClipped&&t.isOverlayOutsideView===r.isOverlayOutsideView}var v_="cdk-global-overlay-wrapper",Xl=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(r){let e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(v_),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:i,maxWidth:s,maxHeight:l}=n,d=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),p=(i==="100%"||i==="100vh")&&(!l||l==="100%"||l==="100vh"),h=this._xPosition,y=this._xOffset,O=this._overlayRef.getConfig().direction==="rtl",k="",T="",$="";d?$="flex-start":h==="center"?($="center",O?T=y:k=y):O?h==="left"||h==="end"?($="flex-end",k=y):(h==="right"||h==="start")&&($="flex-start",T=y):h==="left"||h==="start"?($="flex-start",k=y):(h==="right"||h==="end")&&($="flex-end",T=y),r.position=this._cssPosition,r.marginLeft=d?"0":k,r.marginTop=p?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=d?"0":T,e.justifyContent=$,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(v_),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},C_=(()=>{class t{_viewportRuler=R(rs);_document=R(ue);_platform=R(Oe);_overlayContainer=R(os);constructor(){}global(){return new Xl}flexibleConnectedTo(e){return new Ql(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tr=(()=>{class t{scrollStrategies=R(b_);_overlayContainer=R(os);_positionBuilder=R(C_);_keyboardDispatcher=R(__);_injector=R(qt);_ngZone=R(zt);_document=R(ue);_directionality=R(An);_location=R(Tr);_outsideClickDispatcher=R(x_);_animationsModuleType=R(nr,{optional:!0});_idGenerator=R(on);_renderer=R(en).createRenderer(null,null);_appRef;_styleLoader=R(kn);constructor(){}create(e){this._styleLoader.load(w_);let n=this._createHostElement(),o=this._createPaneElement(n),i=this._createPortalOutlet(o),s=new pn(e);return s.direction=s.direction||this._directionality.value,new jo(i,n,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Dr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vs)),new la(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],S_=new lt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=R(tr);return()=>t.scrollStrategies.reposition()}}),Cm=(()=>{class t{elementRef=R(Qt);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),SO=(()=>{class t{_overlay=R(tr);_dir=R(An,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=Er.EMPTY;_attachSubscription=Er.EMPTY;_detachSubscription=Er.EMPTY;_positionSubscription=Er.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=R(S_);_disposeOnNavigation=!1;_ngZone=R(zt);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ge;positionChange=new ge;attach=new ge;detach=new ge;overlayKeydown=new ge;overlayOutsideClick=new ge;constructor(){let e=R(tn),n=R(En);this._templatePortal=new vr(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=CO);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!yo(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let o=this._getOriginElement(),i=nn(n);(!o||o!==i&&!o.contains(i))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new pn({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Cm?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Cm?this.origin.elementRef.nativeElement:this.origin instanceof Qt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(_p(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ve],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ve],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ve],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ve],push:[2,"cdkConnectedOverlayPush","push",ve],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ve]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Jr]})}return t})();function RO(t){return()=>t.scrollStrategies.reposition()}var OO={provide:S_,deps:[tr],useFactory:RO},Uo=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({providers:[tr,OO],imports:[ca,Nr,Hl,Hl]})}return t})();function MO(t,r){if(t&1){let e=jp();Ar(0,"div",1)(1,"button",2),go("click",function(){Sp(e);let o=Gu();return Rp(o.action())}),Yu(2),gr()()}if(t&2){let e=Gu();Zo(2),Qu(" ",e.data.action," ")}}var TO=["label"];function PO(t,r){}var NO=Math.pow(2,31)-1,is=class{_overlayRef;instance;containerInstance;_afterDismissed=new at;_afterOpened=new at;_onAction=new at;_durationTimeoutId;_dismissedByAction=!1;constructor(r,e){this._overlayRef=e,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,NO))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},R_=new lt("MatSnackBarData"),Li=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},LO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),FO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),BO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),O_=(()=>{class t{snackBarRef=R(is);data=R(R_);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(Ar(0,"div",0),Yu(1),gr(),ho(2,MO,3,1,"div",1)),n&2&&(Zo(),Qu(" ",o.data.message,`
`),Zo(),$p(o.hasAction?2:-1))},dependencies:[id,LO,FO,BO],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),Rm="_mat-snack-bar-enter",Om="_mat-snack-bar-exit",$O=(()=>{class t extends an{_ngZone=R(zt);_elementRef=R(Qt);_changeDetectorRef=R(Mr);_platform=R(Oe);_rendersRef;_animationsDisabled=R(nr,{optional:!0})==="NoopAnimations";snackBarConfig=R(Li);_document=R(ue);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new at;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new at;_onExit=new at;_onEnter=new at;_animationState="void";_live;_label;_role;_liveElementId=R(on).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=js(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===Om?this._completeExit():e===Rm&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(qe(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Rm)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Rm)},200)))}exit(){return this._destroyed?nt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(qe(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Om)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Om),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,i="mdc-snackbar__label";o.classList.toggle(i,!o.querySelector(`.${i}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let i=n[o],s=i.getAttribute("aria-owns");this._trackedModals.add(i),s?s.indexOf(e)===-1&&i.setAttribute("aria-owns",s+" "+e):i.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),o=e.querySelector("[aria-live]");if(n&&o){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(i=document.activeElement),n.removeAttribute("aria-hidden"),o.appendChild(n),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(ti(sn,7),ti(TO,7)),n&2){let i;vo(i=bo())&&(o._portalOutlet=i.first),vo(i=bo())&&(o._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,o){n&1&&go("animationend",function(s){return o.onAnimationEnd(s.animationName)})("animationcancel",function(s){return o.onAnimationEnd(s.animationName)}),n&2&&ke("mat-snack-bar-container-enter",o._animationState==="visible")("mat-snack-bar-container-exit",o._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!o._animationsDisabled)},features:[le],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(Ar(0,"div",1)(1,"div",2,0)(3,"div",3),ho(4,PO,0,0,"ng-template",4),gr(),He(5,"div"),gr()()),n&2&&(Zo(5),Le("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[sn],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2})}return t})();function jO(){return new Li}var UO=new lt("mat-snack-bar-default-options",{providedIn:"root",factory:jO}),zO=(()=>{class t{_overlay=R(tr);_live=R(oh);_injector=R(qt);_breakpointObserver=R(Zu);_parentSnackBar=R(t,{optional:!0,skipSelf:!0});_defaultConfig=R(UO);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=O_;snackBarContainerComponent=$O;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",o){let i=j(j({},this._defaultConfig),o);return i.data={message:e,action:n},i.announcementMessage===e&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,i=qt.create({parent:o||this._injector,providers:[{provide:Li,useValue:n}]}),s=new Pr(this.snackBarContainerComponent,n.viewContainerRef,i),l=e.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){let o=j(j(j({},new Li),this._defaultConfig),n),i=this._createOverlay(o),s=this._attachSnackBarContainer(i,o),l=new is(s,i);if(e instanceof tn){let d=new vr(e,null,{$implicit:o.data,snackBarRef:l});l.instance=s.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),p=new Pr(e,void 0,d),h=s.attachComponentPortal(p);l.instance=h.instance}return this._breakpointObserver.observe(c_.HandsetPortrait).pipe(mo(i.detachments())).subscribe(d=>{i.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new pn;n.direction=e.direction;let o=this._overlay.position().global(),i=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!i||e.horizontalPosition==="end"&&i,l=!s&&e.horizontalPosition!=="center";return s?o.left("0"):l?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(e,n){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return qt.create({parent:o||this._injector,providers:[{provide:is,useValue:n},{provide:R_,useValue:e.data}]})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZY=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({providers:[zO],imports:[Uo,Nr,ad,or,O_,or]})}return t})();var eQ={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function qO(t,r){}var Qn=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Dm=(()=>{class t extends an{_elementRef=R(Qt);_focusTrapFactory=R(nh);_config;_interactivityChecker=R(rh);_ngZone=R(zt);_overlayRef=R(jo);_focusMonitor=R(Hs);_renderer=R(On);_platform=R(Oe);_document=R(ue,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=R(Mr);_injector=R(qt);_isDestroyed=!1;constructor(){super(),this._config=R(Qn,{optional:!0})||new Qn,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i(),s(),e.removeAttribute("tabindex")},i=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||po(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=aa(),i=this._elementRef.nativeElement;(!o||o===this._document.body||o===i||i.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,n=aa();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=aa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&ti(sn,7),n&2){let i;vo(i=bo())&&(o._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Le("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[le],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&ho(0,qO,0,0,"ng-template",0)},dependencies:[sn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),as=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new at;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(r,e){this.overlayRef=r,this.config=e,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!yo(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(r),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}},HO=new lt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=R(tr);return()=>t.scrollStrategies.block()}}),WO=new lt("DialogData"),KO=new lt("DefaultDialogConfig");var km=(()=>{class t{_overlay=R(tr);_injector=R(qt);_defaultOptions=R(KO,{optional:!0});_parentDialog=R(t,{optional:!0,skipSelf:!0});_overlayContainer=R(os);_idGenerator=R(on);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new at;_afterOpenedAtThisLevel=new at;_ariaHiddenElements=new Map;_scrollStrategy=R(HO);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=lo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hr(void 0)));constructor(){}open(e,n){let o=this._defaultOptions||new Qn;n=j(j({},o),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let i=this._getOverlayConfig(n),s=this._overlay.create(i),l=new as(s,n),d=this._attachContainer(s,l,n);return l.containerInstance=d,this._attachDialogContent(e,l,d,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Em(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){Em(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Em(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new pn({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,o){let i=o.injector||o.viewContainerRef?.injector,s=[{provide:Qn,useValue:o},{provide:as,useValue:n},{provide:jo,useValue:e}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,s.push(...o.container.providers(o))):l=Dm;let d=new Pr(l,o.viewContainerRef,qt.create({parent:i||this._injector,providers:s}));return e.attach(d).instance}_attachDialogContent(e,n,o,i){if(e instanceof tn){let s=this._createInjector(i,n,o,void 0),l={$implicit:i.data,dialogRef:n};i.templateContext&&(l=j(j({},l),typeof i.templateContext=="function"?i.templateContext():i.templateContext)),o.attachTemplatePortal(new vr(e,null,l,s))}else{let s=this._createInjector(i,n,o,this._injector),l=o.attachComponentPortal(new Pr(e,i.viewContainerRef,s));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(e,n,o,i){let s=e.injector||e.viewContainerRef?.injector,l=[{provide:WO,useValue:e.data},{provide:as,useValue:n}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(n,e,o)):l.push(...e.providers)),e.direction&&(!s||!s.get(An,null,{optional:!0}))&&l.push({provide:An,useValue:{value:e.direction,change:nt()}}),qt.create({parent:s||i,providers:l})}_removeOpenDialog(e,n){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let n=e.parentElement.children;for(let o=n.length-1;o>-1;o--){let i=n[o];i!==e&&i.nodeName!=="SCRIPT"&&i.nodeName!=="STYLE"&&!i.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Em(t,r){let e=t.length;for(;e--;)r(t[e])}var E_=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({providers:[km],imports:[Uo,Nr,ih,Nr]})}return t})();function GO(t,r){}var cs=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Am="mdc-dialog--open",D_="mdc-dialog--opening",k_="mdc-dialog--closing",YO=150,QO=75,M_=(()=>{class t extends Dm{_animationMode=R(nr,{optional:!0});_animationStateChanged=new ge;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?I_(this._config.enterAnimationDuration)??YO:0;_exitAnimationDuration=this._animationsEnabled?I_(this._config.exitAnimationDuration)??QO:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(A_,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(D_,Am)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Am),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Am),this._animationsEnabled?(this._hostElement.style.setProperty(A_,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(k_)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(D_,k_)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275cmp=Xt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(Ku("id",o._config.id),Le("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),ke("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[le],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(Ar(0,"div",0)(1,"div",1),ho(2,GO,0,0,"ng-template",2),gr()())},dependencies:[sn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),A_="--mat-dialog-transition-duration";function I_(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?sa(t.substring(0,t.length-2)):t.endsWith("s")?sa(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var ss=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(ss||{}),Fi=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new at;_beforeClosed=new at;_result;_closeFallbackTimeout;_state=ss.OPEN;_closeInteractionType;constructor(r,e,n){this._ref=r,this._containerInstance=n,this.disableClose=e.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(yt(o=>o.state==="opened"),qe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(yt(o=>o.state==="closed"),qe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Yo(this.backdropClick(),this.keydownEvents().pipe(yt(o=>o.keyCode===27&&!this.disableClose&&!yo(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),Im(this,o.type==="keydown"?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(yt(e=>e.state==="closing"),qe(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=ss.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=ss.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Im(t,r,e){return t._closeInteractionType=r,t.close(e)}var T_=new lt("MatMdcDialogData"),P_=new lt("mat-mdc-dialog-default-options"),N_=new lt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=R(tr);return()=>t.scrollStrategies.block()}});var Zl=(()=>{class t{_overlay=R(tr);_defaultOptions=R(P_,{optional:!0});_scrollStrategy=R(N_);_parentDialog=R(t,{optional:!0,skipSelf:!0});_idGenerator=R(on);_dialog=R(km);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new at;_afterOpenedAtThisLevel=new at;dialogConfigClass=cs;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=lo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hr(void 0)));constructor(){this._dialogRefConstructor=Fi,this._dialogContainerType=M_,this._dialogDataToken=T_}open(e,n){let o;n=j(j({},this._defaultOptions||new cs),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let i=this._dialog.open(e,gt(j({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Qn,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(s,l,d)=>(o=new this._dialogRefConstructor(s,n,d),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=i.componentRef,o.componentInstance=i.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XO=(()=>{class t{dialogRef=R(Fi,{optional:!0});_elementRef=R(Qt);_dialog=R(Zl);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=F_(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){Im(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,o){n&1&&go("click",function(s){return o._onButtonClick(s)}),n&2&&Le("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Jr]})}return t})(),L_=(()=>{class t{_dialogRef=R(Fi,{optional:!0});_elementRef=R(Qt);_dialog=R(Zl);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=F_(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t})}return t})(),ZO=(()=>{class t extends L_{id=R(on).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275dir=Tt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,o){n&2&&Ku("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[le]})}return t})(),JO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Tt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Np([ql])]})}return t})(),tE=(()=>{class t extends L_{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ce(t)))(o||t)}})();static \u0275dir=Tt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,o){n&2&&ke("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[le]})}return t})();function F_(t,r){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?r.find(n=>n.id===e.id):null}var eE=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Zt({type:t});static \u0275inj=Yt({providers:[Zl],imports:[E_,Uo,Nr,or,or]})}return t})();export{Pr as a,vr as b,vx as c,sn as d,Nr as e,SE as f,bx as g,WE as h,hh as i,Ex as j,bh as k,id as l,Ax as m,ad as n,sr as o,cr as p,Od as q,Dd as r,Ae as s,cg as t,i0 as u,yg as v,Dc as w,Ia as x,$d as y,Bk as z,R0 as A,dG as B,hG as C,xG as D,_O as E,SG as F,es as G,rs as H,Vl as I,Hl as J,pn as K,tr as L,Cm as M,SO as N,Uo as O,Fi as P,T_ as Q,Zl as R,XO as S,ZO as T,JO as U,tE as V,eE as W,UO as X,zO as Y,ZY as Z,eQ as _};
