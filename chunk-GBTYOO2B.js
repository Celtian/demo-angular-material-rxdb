import{$a as rr,$b as ft,A as er,Ba as Xr,C as qr,Ca as Dr,Da as _u,Dc as $u,E as gu,F as Wn,G as Ae,Ha as be,Hb as Kt,I as qn,Ia as ae,J as bu,Ja as ve,Kb as Ru,Kc as Nu,Lb as eo,Mb as ns,N as dt,Na as xu,Nb as is,O as Tt,Oa as Ja,Ob as ku,P as kt,Pa as wu,Pb as os,Q as P,Qb as ro,R as Ie,Ra as Ji,Rb as as,S as Zt,Sa as Eu,T as Mt,Ta as ts,Tb as ss,U as bt,Ua as Qn,V as Yn,Va as Pe,W as vu,X as yu,Xa as es,Xb as tn,Za as rs,Zb as no,_b as cs,a as L,ac as Au,b as gt,c as X,cc as Iu,d as _b,da as At,dc as Pu,e as D,ea as he,f as tr,fa as Gi,fb as Te,g as fu,ga as vt,gb as Gr,h as mu,hb as Zr,i as V,j as Qi,jb as Jr,jc as io,kc as oo,la as Yr,lb as Cu,ma as I,mb as Su,n as Hn,na as Ga,nb as ye,nc as Tu,oa as Za,ob as Ou,oc as en,p as pu,pc as Mu,q as Ut,qa as ie,qb as yt,qc as rn,ra as Et,rc as Xn,s as Hr,sa as $t,t as Xi,tb as to,ua as Qr,uc as Me,v as hu,va as oe,w as Wr,x as it,y as Xa,ya as ge,za as Zi,zb as Du}from"./chunk-6Q5EBIWH.js";var lh=X((NU,Ma)=>{"use strict";var i0=function(){"use strict";function e(u,d){return d!=null&&u instanceof d}var t;try{t=Map}catch{t=function(){}}var n;try{n=Set}catch{n=function(){}}var r;try{r=Promise}catch{r=function(){}}function i(u,d,f,m,h){typeof d=="object"&&(f=d.depth,m=d.prototype,h=d.includeNonEnumerable,d=d.circular);var p=[],_=[],g=typeof Buffer<"u";typeof d>"u"&&(d=!0),typeof f>"u"&&(f=1/0);function w(b,x){if(b===null)return null;if(x===0)return b;var E,S;if(typeof b!="object")return b;if(e(b,t))E=new t;else if(e(b,n))E=new n;else if(e(b,r))E=new r(function(ut,J){b.then(function(st){ut(w(st,x-1))},function(st){J(w(st,x-1))})});else if(i.__isArray(b))E=[];else if(i.__isRegExp(b))E=new RegExp(b.source,l(b)),b.lastIndex&&(E.lastIndex=b.lastIndex);else if(i.__isDate(b))E=new Date(b.getTime());else{if(g&&Buffer.isBuffer(b))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(b.length):E=new Buffer(b.length),b.copy(E),E;e(b,Error)?E=Object.create(b):typeof m>"u"?(S=Object.getPrototypeOf(b),E=Object.create(S)):(E=Object.create(m),S=m)}if(d){var C=p.indexOf(b);if(C!=-1)return _[C];p.push(b),_.push(E)}e(b,t)&&b.forEach(function(ut,J){var st=w(J,x-1),ct=w(ut,x-1);E.set(st,ct)}),e(b,n)&&b.forEach(function(ut){var J=w(ut,x-1);E.add(J)});for(var O in b){var $;S&&($=Object.getOwnPropertyDescriptor(S,O)),!($&&$.set==null)&&(E[O]=w(b[O],x-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(b),O=0;O<U.length;O++){var B=U[O],at=Object.getOwnPropertyDescriptor(b,B);at&&!at.enumerable&&!h||(E[B]=w(b[B],x-1),at.enumerable||Object.defineProperty(E,B,{enumerable:!1}))}if(h)for(var N=Object.getOwnPropertyNames(b),O=0;O<N.length;O++){var xt=N[O],at=Object.getOwnPropertyDescriptor(b,xt);at&&at.enumerable||(E[xt]=w(b[xt],x-1),Object.defineProperty(E,xt,{enumerable:!1}))}return E}return w(u,f)}i.clonePrototype=function(d){if(d===null)return null;var f=function(){};return f.prototype=d,new f};function o(u){return Object.prototype.toString.call(u)}i.__objToStr=o;function a(u){return typeof u=="object"&&o(u)==="[object Date]"}i.__isDate=a;function s(u){return typeof u=="object"&&o(u)==="[object Array]"}i.__isArray=s;function c(u){return typeof u=="object"&&o(u)==="[object RegExp]"}i.__isRegExp=c;function l(u){var d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),d}return i.__getRegExpFlags=l,i}();typeof Ma=="object"&&Ma.exports&&(Ma.exports=i0)});var kl=X((BU,dh)=>{"use strict";var uh=Object.prototype.toString;dh.exports=function(t){var n=uh.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&uh.call(t.callee)==="[object Function]"),r}});var _h=X((FU,yh)=>{"use strict";var vh;Object.keys||(Fi=Object.prototype.hasOwnProperty,Al=Object.prototype.toString,fh=kl(),Il=Object.prototype.propertyIsEnumerable,mh=!Il.call({toString:null},"toString"),ph=Il.call(function(){},"prototype"),Li=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$a=function(e){var t=e.constructor;return t&&t.prototype===e},hh={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},gh=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!hh["$"+e]&&Fi.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{$a(window[e])}catch{return!0}}catch{return!0}return!1}(),bh=function(e){if(typeof window>"u"||!gh)return $a(e);try{return $a(e)}catch{return!1}},vh=function(t){var n=t!==null&&typeof t=="object",r=Al.call(t)==="[object Function]",i=fh(t),o=n&&Al.call(t)==="[object String]",a=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var s=ph&&r;if(o&&t.length>0&&!Fi.call(t,0))for(var c=0;c<t.length;++c)a.push(String(c));if(i&&t.length>0)for(var l=0;l<t.length;++l)a.push(String(l));else for(var u in t)!(s&&u==="prototype")&&Fi.call(t,u)&&a.push(String(u));if(mh)for(var d=bh(t),f=0;f<Li.length;++f)!(d&&Li[f]==="constructor")&&Fi.call(t,Li[f])&&a.push(Li[f]);return a});var Fi,Al,fh,Il,mh,ph,Li,$a,hh,gh,bh;yh.exports=vh});var Pl=X((LU,Eh)=>{"use strict";var o0=Array.prototype.slice,a0=kl(),xh=Object.keys,Na=xh?function(t){return xh(t)}:_h(),wh=Object.keys;Na.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return a0(r)?wh(o0.call(r)):wh(r)})}else Object.keys=Na;return Object.keys||Na};Eh.exports=Na});var Tl=X((jU,Ch)=>{"use strict";Ch.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var Ba=X((VU,Sh)=>{"use strict";var s0=Tl();Sh.exports=function(){return s0()&&!!Symbol.toStringTag}});var Rh=X((zU,Dh)=>{"use strict";var Oh=typeof Symbol<"u"&&Symbol,c0=Tl();Dh.exports=function(){return typeof Oh!="function"||typeof Symbol!="function"||typeof Oh("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:c0()}});var Ah=X((UU,kh)=>{"use strict";var l0="Function.prototype.bind called on incompatible ",Ml=Array.prototype.slice,u0=Object.prototype.toString,d0="[object Function]";kh.exports=function(t){var n=this;if(typeof n!="function"||u0.call(n)!==d0)throw new TypeError(l0+n);for(var r=Ml.call(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,r.concat(Ml.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,r.concat(Ml.call(arguments)))},a=Math.max(0,n.length-r.length),s=[],c=0;c<a;c++)s.push("$"+c);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var Fa=X((KU,Ih)=>{"use strict";var f0=Ah();Ih.exports=Function.prototype.bind||f0});var Th=X((HU,Ph)=>{"use strict";var m0=Fa();Ph.exports=m0.call(Function.call,Object.prototype.hasOwnProperty)});var Va=X((WU,Fh)=>{"use strict";var z,Fn=SyntaxError,Bh=Function,Bn=TypeError,$l=function(e){try{return Bh('"use strict"; return ('+e+").constructor;")()}catch{}},jr=Object.getOwnPropertyDescriptor;if(jr)try{jr({},"")}catch{jr=null}var Nl=function(){throw new Bn},p0=jr?function(){try{return arguments.callee,Nl}catch{try{return jr(arguments,"callee").get}catch{return Nl}}}():Nl,$n=Rh()(),ke=Object.getPrototypeOf||function(e){return e.__proto__},Nn={},h0=typeof Uint8Array>"u"?z:ke(Uint8Array),Vr={"%AggregateError%":typeof AggregateError>"u"?z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?z:ArrayBuffer,"%ArrayIteratorPrototype%":$n?ke([][Symbol.iterator]()):z,"%AsyncFromSyncIteratorPrototype%":z,"%AsyncFunction%":Nn,"%AsyncGenerator%":Nn,"%AsyncGeneratorFunction%":Nn,"%AsyncIteratorPrototype%":Nn,"%Atomics%":typeof Atomics>"u"?z:Atomics,"%BigInt%":typeof BigInt>"u"?z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?z:FinalizationRegistry,"%Function%":Bh,"%GeneratorFunction%":Nn,"%Int8Array%":typeof Int8Array>"u"?z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$n?ke(ke([][Symbol.iterator]())):z,"%JSON%":typeof JSON=="object"?JSON:z,"%Map%":typeof Map>"u"?z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$n?z:ke(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?z:Promise,"%Proxy%":typeof Proxy>"u"?z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$n?z:ke(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$n?ke(""[Symbol.iterator]()):z,"%Symbol%":$n?Symbol:z,"%SyntaxError%":Fn,"%ThrowTypeError%":p0,"%TypedArray%":h0,"%TypeError%":Bn,"%Uint8Array%":typeof Uint8Array>"u"?z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?z:WeakSet};try{null.error}catch(e){Mh=ke(ke(e)),Vr["%Error.prototype%"]=Mh}var Mh,g0=function e(t){var n;if(t==="%AsyncFunction%")n=$l("async function () {}");else if(t==="%GeneratorFunction%")n=$l("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=$l("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(n=ke(i.prototype))}return Vr[t]=n,n},$h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ji=Fa(),La=Th(),b0=ji.call(Function.call,Array.prototype.concat),v0=ji.call(Function.apply,Array.prototype.splice),Nh=ji.call(Function.call,String.prototype.replace),ja=ji.call(Function.call,String.prototype.slice),y0=ji.call(Function.call,RegExp.prototype.exec),_0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x0=/\\(\\)?/g,w0=function(t){var n=ja(t,0,1),r=ja(t,-1);if(n==="%"&&r!=="%")throw new Fn("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Fn("invalid intrinsic syntax, expected opening `%`");var i=[];return Nh(t,_0,function(o,a,s,c){i[i.length]=s?Nh(c,x0,"$1"):a||o}),i},E0=function(t,n){var r=t,i;if(La($h,r)&&(i=$h[r],r="%"+i[0]+"%"),La(Vr,r)){var o=Vr[r];if(o===Nn&&(o=g0(r)),typeof o>"u"&&!n)throw new Bn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Fn("intrinsic "+t+" does not exist!")};Fh.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new Bn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Bn('"allowMissing" argument must be a boolean');if(y0(/^%?[^%]*%?$/,t)===null)throw new Fn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=w0(t),i=r.length>0?r[0]:"",o=E0("%"+i+"%",n),a=o.name,s=o.value,c=!1,l=o.alias;l&&(i=l[0],v0(r,b0([0,1],l)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],m=ja(f,0,1),h=ja(f,-1);if((m==='"'||m==="'"||m==="`"||h==='"'||h==="'"||h==="`")&&m!==h)throw new Fn("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,a="%"+i+"%",La(Vr,a))s=Vr[a];else if(s!=null){if(!(f in s)){if(!n)throw new Bn("base intrinsic for "+t+" exists, but the property is not available.");return}if(jr&&u+1>=r.length){var p=jr(s,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?s=p.get:s=s[f]}else d=La(s,f),s=s[f];d&&!c&&(Vr[a]=s)}}return s}});var Ua=X((qU,za)=>{"use strict";var Bl=Fa(),Ln=Va(),Vh=Ln("%Function.prototype.apply%"),zh=Ln("%Function.prototype.call%"),Uh=Ln("%Reflect.apply%",!0)||Bl.call(zh,Vh),Lh=Ln("%Object.getOwnPropertyDescriptor%",!0),zr=Ln("%Object.defineProperty%",!0),C0=Ln("%Math.max%");if(zr)try{zr({},"a",{value:1})}catch{zr=null}za.exports=function(t){var n=Uh(Bl,zh,arguments);if(Lh&&zr){var r=Lh(n,"length");r.configurable&&zr(n,"length",{value:1+C0(0,t.length-(arguments.length-1))})}return n};var jh=function(){return Uh(Bl,Vh,arguments)};zr?zr(za.exports,"apply",{value:jh}):za.exports.apply=jh});var Fl=X((YU,Wh)=>{"use strict";var Kh=Va(),Hh=Ua(),S0=Hh(Kh("String.prototype.indexOf"));Wh.exports=function(t,n){var r=Kh(t,!!n);return typeof r=="function"&&S0(t,".prototype.")>-1?Hh(r):r}});var Qh=X((QU,Yh)=>{"use strict";var O0=Ba()(),D0=Fl(),Ll=D0("Object.prototype.toString"),Ka=function(t){return O0&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Ll(t)==="[object Arguments]"},qh=function(t){return Ka(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Ll(t)!=="[object Array]"&&Ll(t.callee)==="[object Function]"},R0=function(){return Ka(arguments)}();Ka.isLegacyArguments=qh;Yh.exports=R0?Ka:qh});var Gh=X((XU,Xh)=>{"use strict";var k0=Va(),jl=k0("%Object.defineProperty%",!0),Vl=function(){if(jl)try{return jl({},"a",{value:1}),!0}catch{return!1}return!1};Vl.hasArrayLengthDefineBug=function(){if(!Vl())return null;try{return jl([],"length",{value:1}).length!==1}catch{return!0}};Xh.exports=Vl});var jn=X((GU,eg)=>{"use strict";var A0=Pl(),I0=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",P0=Object.prototype.toString,T0=Array.prototype.concat,Zh=Object.defineProperty,M0=function(e){return typeof e=="function"&&P0.call(e)==="[object Function]"},$0=Gh()(),Jh=Zh&&$0,N0=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!M0(r)||!r())return}Jh?Zh(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n},tg=function(e,t){var n=arguments.length>2?arguments[2]:{},r=A0(t);I0&&(r=T0.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)N0(e,r[i],t[r[i]],n[r[i]])};tg.supportsDescriptors=!!Jh;eg.exports=tg});var zl=X((ZU,ng)=>{"use strict";var rg=function(e){return e!==e};ng.exports=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||rg(t)&&rg(n))}});var Ul=X((JU,ig)=>{"use strict";var B0=zl();ig.exports=function(){return typeof Object.is=="function"?Object.is:B0}});var ag=X((t3,og)=>{"use strict";var F0=Ul(),L0=jn();og.exports=function(){var t=F0();return L0(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var ug=X((e3,lg)=>{"use strict";var j0=jn(),V0=Ua(),z0=zl(),sg=Ul(),U0=ag(),cg=V0(sg(),Object);j0(cg,{getPolyfill:sg,implementation:z0,shim:U0});lg.exports=cg});var hg=X((r3,pg)=>{"use strict";var Kl=Fl(),dg=Ba()(),fg,mg,Hl,Wl;dg&&(fg=Kl("Object.prototype.hasOwnProperty"),mg=Kl("RegExp.prototype.exec"),Hl={},Ha=function(){throw Hl},Wl={toString:Ha,valueOf:Ha},typeof Symbol.toPrimitive=="symbol"&&(Wl[Symbol.toPrimitive]=Ha));var Ha,K0=Kl("Object.prototype.toString"),H0=Object.getOwnPropertyDescriptor,W0="[object RegExp]";pg.exports=dg?function(t){if(!t||typeof t!="object")return!1;var n=H0(t,"lastIndex"),r=n&&fg(n,"value");if(!r)return!1;try{mg(t,Wl)}catch(i){return i===Hl}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:K0(t)===W0}});var bg=X((n3,gg)=>{"use strict";var zi=function(){return typeof(function(){}).name=="string"},Vi=Object.getOwnPropertyDescriptor;if(Vi)try{Vi([],"length")}catch{Vi=null}zi.functionsHaveConfigurableNames=function(){if(!zi()||!Vi)return!1;var t=Vi(function(){},"name");return!!t&&!!t.configurable};var q0=Function.prototype.bind;zi.boundFunctionsHaveNames=function(){return zi()&&typeof q0=="function"&&(function(){}).bind().name!==""};gg.exports=zi});var Yl=X((i3,ql)=>{"use strict";var Y0=bg().functionsHaveConfigurableNames(),Q0=Object,X0=TypeError;ql.exports=function(){if(this!=null&&this!==Q0(this))throw new X0("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t};Y0&&Object.defineProperty&&Object.defineProperty(ql.exports,"name",{value:"get flags"})});var Ql=X((o3,vg)=>{"use strict";var G0=Yl(),Z0=jn().supportsDescriptors,J0=Object.getOwnPropertyDescriptor;vg.exports=function(){if(Z0&&/a/mig.flags==="gim"){var t=J0(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var n="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){n+="d"}}),Object.defineProperty(r,"sticky",{get:function(){n+="y"}}),n==="dy")return t.get}}return G0}});var xg=X((a3,_g)=>{"use strict";var tw=jn().supportsDescriptors,ew=Ql(),rw=Object.getOwnPropertyDescriptor,nw=Object.defineProperty,iw=TypeError,yg=Object.getPrototypeOf,ow=/a/;_g.exports=function(){if(!tw||!yg)throw new iw("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=ew(),n=yg(ow),r=rw(n,"flags");return(!r||r.get!==t)&&nw(n,"flags",{configurable:!0,enumerable:!1,get:t}),t}});var Sg=X((s3,Cg)=>{"use strict";var aw=jn(),sw=Ua(),cw=Yl(),wg=Ql(),lw=xg(),Eg=sw(wg());aw(Eg,{getPolyfill:wg,implementation:cw,shim:lw});Cg.exports=Eg});var Dg=X((c3,Og)=>{"use strict";var uw=Date.prototype.getDay,dw=function(t){try{return uw.call(t),!0}catch{return!1}},fw=Object.prototype.toString,mw="[object Date]",pw=Ba()();Og.exports=function(t){return typeof t!="object"||t===null?!1:pw?dw(t):fw.call(t)===mw}});var Lg=X((l3,Fg)=>{"use strict";var Rg=Pl(),kg=Qh(),Ag=ug(),Ig=hg(),Pg=Sg(),Tg=Dg(),Mg=Date.prototype.getTime;function Bg(e,t,n){var r=n||{};return(r.strict?Ag(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?r.strict?Ag(e,t):e==t:hw(e,t,r)}function $g(e){return e==null}function Ng(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function hw(e,t,n){var r,i;if(typeof e!=typeof t||$g(e)||$g(t)||e.prototype!==t.prototype||kg(e)!==kg(t))return!1;var o=Ig(e),a=Ig(t);if(o!==a)return!1;if(o||a)return e.source===t.source&&Pg(e)===Pg(t);if(Tg(e)&&Tg(t))return Mg.call(e)===Mg.call(t);var s=Ng(e),c=Ng(t);if(s!==c)return!1;if(s||c){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var l=Rg(e),u=Rg(t)}catch{return!1}if(l.length!==u.length)return!1;for(l.sort(),u.sort(),r=l.length-1;r>=0;r--)if(l[r]!=u[r])return!1;for(r=l.length-1;r>=0;r--)if(i=l[r],!Bg(e[i],t[i],n))return!1;return!0}Fg.exports=Bg});var Qg=X((u3,Yg)=>{"use strict";function zg(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var jg=zg(lh()),Vg=zg(Lg()),Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bw=function(e){return(typeof e>"u"?"undefined":Vn(e))==="object"&&e!==null},vw=function(e,t){return e.every(function(n){return t&&t(n)||n})},yw=function(e,t){return e.hasOwnProperty(t)},_w=function(e){return Object.keys(e)},Ug=function(e,t){Object.keys(e).forEach(function(n){t(e[n],n)})},xw=function(e){return Array.isArray(e)},Kg=function(e){return!!(typeof Uint8Array<"u"&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},Hg={isArray:xw,each:Ug},Wg=function(t){return Hg.isArray(t)&&!Kg(t)},ww=function(t){return Wg(t)||Xl(t)},Ew=function(t,n){if(!Xl(t))return!1;var r=void 0;return Hg.each(t,function(i,o){var a=o.substr(0,1)==="$";if(r===void 0)r=a;else if(r!==a){if(!n)throw new Error("Inconsistent operator: "+JSON.stringify(t));r=!1}}),!!r},Cw=function(t){return/^[0-9]+$/.test(t)},Xl=function(e){return!(!e||typeof e=="number"||typeof e=="string"||typeof e=="boolean"||Wg(e)||e===null||e instanceof RegExp||typeof e=="function"||e instanceof Date||Kg(e))},j=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="string"&&t.field&&(e+=" for field '"+t.field+"'");var n=new Error(e);return n.name="ModifyJsError",n},Cr={all:vw,each:Ug,keys:_w,has:yw,isObject:bw},Sw=function(e,t,n){if(!(n&&n.each))return Ow(e,t,gw({},n,{returnInsteadOfReplacing:!0}))},Ow=function(t,n,r){if(r=r||{},!Xl(n))throw j("Modifier must be an object");n=jg(n);var i=Ew(n),o;if(i?(o=jg(t),Cr.each(n,function(a,s){var c=Rw[s];if(!c)throw j("Invalid modifier specified "+s);Cr.each(a,function(l,u){if(u==="")throw j("An empty update path is not valid.");var d=u.split(".");if(!Cr.all(d))throw j("The update path '"+u+"' contains an empty field name, which is not allowed.");var f=qg(o,d,{noCreate:Dw[s],forbidArray:s==="$rename",arrayIndices:r.arrayIndices}),m=d.pop();c(f,m,l,u,o)})})):o=n,r.returnInsteadOfReplacing)return o;Cr.each(Cr.keys(t),function(a){a!=="_id"&&delete t[a]}),Cr.each(o,function(a,s){t[s]=a})},qg=function(t,n,r){r=r||{};for(var i=!1,o=0;o<n.length;o++){var a=o===n.length-1,s=n[o],c=ww(t);if(!c){if(r.noCreate)return;var l=j("cannot use the part '"+s+"' to traverse "+t);throw l.setPropertyError=!0,l}if(t instanceof Array){if(r.forbidArray)return null;if(s==="$"){if(i)throw j("Too many positional (i.e. '$') elements");if(!r.arrayIndices||!r.arrayIndices.length)throw j("The positional operator did not find the match needed from the query");s=r.arrayIndices[0],i=!0}else if(Cw(s))s=parseInt(s);else{if(r.noCreate)return;throw j("can't append to array using string field name ["+s+"]")}if(a&&(n[o]=s),r.noCreate&&s>=t.length)return;for(;t.length<s;)t.push(null);if(!a){if(t.length===s)t.push({});else if(Vn(t[s])!=="object")throw j("can't modify field '"+n[o+1]+"' of list value "+JSON.stringify(t[s]))}}else if(!(s in t)){if(r.noCreate)return;a||(t[s]={})}if(a)return t;t=t[s]}},Dw={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},Rw={$currentDate:function(t,n,r){if((typeof r>"u"?"undefined":Vn(r))==="object"&&r.hasOwnProperty("$type")){if(r.$type!=="date")throw j("Minimongo does currently only support the date type in $currentDate modifiers",{field:n})}else if(r!==!0)throw j("Invalid $currentDate modifier",{field:n});t[n]=new Date},$min:function(t,n,r){if(typeof r!="number")throw j("Modifier $min allowed for numbers only",{field:n});if(n in t){if(typeof t[n]!="number")throw j("Cannot apply $min modifier to non-number",{field:n});t[n]>r&&(t[n]=r)}else t[n]=r},$max:function(t,n,r){if(typeof r!="number")throw j("Modifier $max allowed for numbers only",{field:n});if(n in t){if(typeof t[n]!="number")throw j("Cannot apply $max modifier to non-number",{field:n});t[n]<r&&(t[n]=r)}else t[n]=r},$inc:function(t,n,r){if(typeof r!="number")throw j("Modifier $inc allowed for numbers only",{field:n});if(n in t){if(typeof t[n]!="number")throw j("Cannot apply $inc modifier to non-number",{field:n});t[n]+=r}else t[n]=r},$set:function(t,n,r){if(!Cr.isObject(t)){var i=j("Cannot set property on non-object field",{field:n});throw i.setPropertyError=!0,i}if(t===null){var i=j("Cannot set property on null",{field:n});throw i.setPropertyError=!0,i}t[n]=r},$setOnInsert:function(t,n,r){},$unset:function(t,n,r){t!==void 0&&(t instanceof Array?n in t&&(t[n]=null):delete t[n])},$push:function(t,n,r){if(t[n]===void 0&&(t[n]=[]),!(t[n]instanceof Array))throw j("Cannot apply $push modifier to non-array",{field:n});if(!(r&&r.$each)){t[n].push(r);return}var i=r.$each;if(!(i instanceof Array))throw j("$each must be an array",{field:n});var o=void 0;if("$position"in r){if(typeof r.$position!="number")throw j("$position must be a numeric value",{field:n});if(r.$position<0)throw j("$position in $push must be zero or positive",{field:n});o=r.$position}var a=void 0;if("$slice"in r){if(typeof r.$slice!="number")throw j("$slice must be a numeric value",{field:n});if(r.$slice>0)throw j("$slice in $push must be zero or negative",{field:n});a=r.$slice}var s=void 0;if(r.$sort)throw j("$sort in $push not implemented yet");if(o===void 0)for(var c=0;c<i.length;c++)t[n].push(i[c]);else{for(var l=[o,0],c=0;c<i.length;c++)l.push(i[c]);Array.prototype.splice.apply(t[n],l)}s&&t[n].sort(s),a!==void 0&&(a===0?t[n]=[]:t[n]=t[n].slice(a))},$pushAll:function(t,n,r){if(!((typeof r>"u"?"undefined":Vn(r))==="object"&&r instanceof Array))throw j("Modifier $pushAll/pullAll allowed for arrays only");var i=t[n];if(i===void 0)t[n]=r;else if(i instanceof Array)for(var o=0;o<r.length;o++)i.push(r[o]);else throw j("Cannot apply $pushAll modifier to non-array",{field:n})},$addToSet:function(t,n,r){var i=!1;if((typeof r>"u"?"undefined":Vn(r))==="object"){var o=Object.keys(r);o[0]==="$each"&&(i=!0)}var a=i?r.$each:[r],s=t[n];if(s===void 0)t[n]=a;else if(s instanceof Array)Cr.each(a,function(c){for(var l=0;l<s.length;l++)if(Vg(c,s[l]))return;s.push(c)});else throw j("Cannot apply $addToSet modifier to non-array",{field:n})},$pop:function(t,n,r){if(t!==void 0){var i=t[n];if(i!==void 0)if(i instanceof Array)typeof r=="number"&&r<0?i.splice(0,1):i.pop();else throw j("Cannot apply $pop modifier to non-array",{field:n})}},$pull:function(t,n,r){if(t!==void 0){var i=t[n];if(i!==void 0)throw i instanceof Array?j("$pull not implemented yet"):j("Cannot apply $pull/pullAll modifier to non-array",{field:n})}},$pullAll:function(t,n,r){if(!((typeof r>"u"?"undefined":Vn(r))==="object"&&r instanceof Array))throw j("Modifier $pushAll/pullAll allowed for arrays only",{field:n});if(t!==void 0){var i=t[n];if(i!==void 0)if(i instanceof Array){for(var o=[],a=0;a<i.length;a++){for(var s=!1,c=0;c<r.length;c++)if(Vg(i[a],r[c])){s=!0;break}s||o.push(i[a])}t[n]=o}else throw j("Cannot apply $pull/pullAll modifier to non-array",{field:n})}},$rename:function(t,n,r,i,o){if(i===r)throw j("$rename source must differ from target",{field:n});if(t===null)throw j("$rename source field invalid",{field:n});if(typeof r!="string")throw j("$rename target must be a string",{field:n});if(r.indexOf("\0")>-1)throw j("The 'to' field for $rename cannot contain an embedded null byte",{field:n});if(t!==void 0){var a=t[n];delete t[n];var s=r.split("."),c=qg(o,s,{forbidArray:!0});if(c===null)throw j("$rename target field invalid",{field:n});var l=s.pop();c[l]=a}},$bit:function(t,n,r){throw j("$bit is not supported",{field:n})}};Yg.exports=Sw});var Gn=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},$e=class extends Gn{constructor(t,n,r,i,o){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},_e=class extends Gn{constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},ls=class extends Gn{constructor(t){super(),this.element=t instanceof vt?t.nativeElement:t}},nr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof $e)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof _e)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof ls)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ao=class extends nr{constructor(t,n,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let c=this._document.createComment("dom-portal");s.parentNode.insertBefore(c,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=o}attachComponentPortal(t){let r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||At.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var DE=(()=>{let t=class t extends _e{constructor(r,i){super(r,i)}};t.\u0275fac=function(i){return new(i||t)(I(Te),I(Xr))},t.\u0275dir=bt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[$t]});let e=t;return e})();var xe=(()=>{let t=class t extends nr{constructor(r,i,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ie,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let c=this._document.createComment("dom-portal");a.setAttachedHost(this),s.parentNode.insertBefore(c,s),this._getRootNode().appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,a=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),s=i.createComponent(a,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=r,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};t.\u0275fac=function(i){return new(i||t)(I(Gi),I(Xr),I(yt))},t.\u0275dir=bt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[$t]});let e=t;return e})();var Jt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({});let e=t;return e})();var Bu=["mat-button",""],Fu=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Lu=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],wb='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',ju=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var Eb=["mat-icon-button",""],Cb=["*"];var Sb=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],fs=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,i,o,a){this._elementRef=r,this._platform=i,this._ngZone=o,this._animationMode=a,this._focusMonitor=Ie(en),this._rippleLoader=Ie(Nu),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let s=this._elementRef.nativeElement,c=s.classList;for(let{attribute:l,mdcClasses:u}of Sb)s.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(r="program",i){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(i){Ga()},t.\u0275dir=bt({type:t,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",ye],disabled:["disabled","disabled",ye]},features:[Qr]});let e=t;return e})();var Ob=(()=>{let t=class t extends fs{constructor(r,i,o,a){super(r,i,o,a),this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}};t.\u0275fac=function(i){Ga()},t.\u0275dir=bt({type:t,inputs:{tabIndex:["tabIndex","tabIndex",r=>r==null?void 0:Ou(r)]},features:[Qr,$t]});let e=t;return e})(),Vu=(()=>{let t=class t extends fs{constructor(r,i,o,a){super(r,i,o,a)}};t.\u0275fac=function(i){return new(i||t)(I(vt),I(Kt),I(Et),I(he,8))},t.\u0275cmp=Zt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,o){i&2&&(oe("disabled",o.disabled||null),Zi(o.color?"mat-"+o.color:""),ge("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[$t],attrs:Bu,ngContentSelectors:Lu,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(Qn(Fu),ve(0,"span",0),Pe(1),be(2,"span",1),Pe(3,1),ae(),Pe(4,2),ve(5,"span",2)(6,"span",3)),i&2&&ge("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),jE=(()=>{let t=class t extends Ob{constructor(r,i,o,a){super(r,i,o,a)}};t.\u0275fac=function(i){return new(i||t)(I(vt),I(Kt),I(Et),I(he,8))},t.\u0275cmp=Zt({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:11,hostBindings:function(i,o){i&2&&(oe("disabled",o.disabled||null)("tabindex",o.disabled?-1:o.tabIndex)("aria-disabled",o.disabled.toString()),Zi(o.color?"mat-"+o.color:""),ge("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[$t],attrs:Bu,ngContentSelectors:Lu,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(Qn(Fu),ve(0,"span",0),Pe(1),be(2,"span",1),Pe(3,1),ae(),Pe(4,2),ve(5,"span",2)(6,"span",3)),i&2&&ge("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[wb,ju],encapsulation:2,changeDetection:0});let e=t;return e})();var VE=(()=>{let t=class t extends fs{constructor(r,i,o,a){super(r,i,o,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(i){return new(i||t)(I(vt),I(Kt),I(Et),I(he,8))},t.\u0275cmp=Zt({type:t,selectors:[["button","mat-icon-button",""]],hostVars:9,hostBindings:function(i,o){i&2&&(oe("disabled",o.disabled||null),Zi(o.color?"mat-"+o.color:""),ge("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[$t],attrs:Eb,ngContentSelectors:Cb,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(Qn(),ve(0,"span",0),Pe(1),ve(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',ju],encapsulation:2,changeDetection:0});let e=t;return e})();var ms=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({imports:[Me,$u,Me]});let e=t;return e})();function or(e){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}function ps(e,t){if(or(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(or(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(e){var t=ps(e,"string");return or(t)==="symbol"?t:String(t)}function zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hs(r.key),r)}}function te(e,t,n){return t&&zu(e.prototype,t),n&&zu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uu(e){return e[e.length-1]}function Zn(e){return Array.isArray(e)?e.slice(0):[e]}function we(e){return Array.isArray(e)}function Ku(e){return e!=null}function so(e,t){var n=0,r=-1;for(var i of e){r=r+1;var o=t(i,r);if(o)n=n+1;else break}return n}function ar(e,t){for(var n=t.length,r=0;r<n;++r){var i=t[r];e.push(i)}}function Hu(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)}function Wu(e,t){return D(this,null,function*(){var n=yield fetch("data:"+t+";base64,"+e),r=yield n.blob();return r})}function qu(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8Array]"&&(e=new Blob([e])),typeof e=="string"?Promise.resolve(e):e.text()}function Yu(e){return D(this,null,function*(){if(typeof e=="string")return e;var t=Object.prototype.toString.call(e);t==="[object Uint8Array]"&&(e=new Blob([e]));var n=URL.createObjectURL(e),r=yield fetch(n).then(i=>i.arrayBuffer());return Hu(r)})}function Qu(e){return e.size}function co(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function Xu(e){var t=parseInt(e.split("-")[0],10);return t}function nn(e,t){var n=t?t._rev:null,r=n?co(n).height:0,i=r+1;return i+"-"+e}var Jn=1;function sr(){return{lwt:Jn}}function Ne(){return""}function Gu(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Zu(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var o=t[r],a=n[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}function Rb(e){return(t,n)=>t._meta.lwt===n._meta.lwt?n[e]<t[e]?1:-1:t._meta.lwt-n._meta.lwt}function Ju(e,t){return t.sort(Rb(e))}var iC=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var oC=Object.freeze(["prototype","__proto__","constructor"]);var kb="[native code] }",aC=kb.length;var cr=class e{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||Ab).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){let r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new e([...this.words])}},Ab={stringify(e){let t=[];for(let n=0;n<e.sigBytes;n++){let r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}};var Ib={parse(e){let t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new cr(n,t)}},Pb={parse(e){return Ib.parse(unescape(encodeURIComponent(e)))}},gs=class{constructor(){this._data=new cr,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new cr,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=Pb.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);let i=r*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=o}return new cr(n,o)}},bs=class extends gs{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}},td=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Tb=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Rr=[],vs=class extends bs{constructor(){super(...arguments),this._hash=new cr([...td])}reset(){super.reset(),this._hash=new cr([...td])}_doProcessBlock(t,n){let r=this._hash.words,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],d=r[7];for(let f=0;f<64;f++){if(f<16)Rr[f]=t[n+f]|0;else{let b=Rr[f-15],x=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,E=Rr[f-2],S=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;Rr[f]=x+Rr[f-7]+S+Rr[f-16]}let m=c&l^~c&u,h=i&o^i&a^o&a,p=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),g=d+_+m+Tb[f]+Rr[f],w=p+h;d=u,u=l,l=c,c=s+g|0,s=a,a=o,o=i,i=g+w|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+l|0,r[6]=r[6]+u|0,r[7]=r[7]+d|0}finalize(t){super.finalize(t);let n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function ed(e){return new vs().finalize(e).toString()}function kr(e){return ed(e)}function rd(){return new Promise(e=>setTimeout(e,0))}function Mb(e=0){return new Promise(t=>setTimeout(t,e))}var dC=Promise.resolve(!0),se=Promise.resolve(!1),nd=Promise.resolve(null),jt=Promise.resolve(),ys=jt;function id(e=void 0){return ys=ys.then(()=>typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):Mb(0)),ys}function od(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}function Ar(e=10){for(var t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function lo(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function lr(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function _s(e){return!!(e.includes("/")||e.includes("\\"))}function ur(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ur(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var o=i[r];if(!ur(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var $b=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},xs=new Set(["__proto__","prototype","constructor"]),Nb=new Set("0123456789");function Bb(e){var t=[],n="",r="start",i=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=o),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=o;break}if(xs.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=o;break}if(r==="property"){if(xs.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!Nb.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=o}}switch(i&&(n+="\\"),r){case"property":{if(xs.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Fb(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function ce(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!$b(e)||typeof t!="string")return n===void 0?e:n;var r=Bb(t);if(r.length===0)return n;for(var i=0;i<r.length;i++){var o=r[i];if(Fb(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function Es(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){e.hasOwnProperty(t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&Es(e[t])}),e}function ad(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var i=r,o=0;o<n;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function Cs(e,t){var n=e[t];if(!n)throw new Error("missing value from object "+t);return n}function uo(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if(typeof e[n]=="object"){var r=uo(e[n]);for(var i in r)r.hasOwnProperty(i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function G(e){return Object.assign({},e)}function sd(e){return Object.keys(e)[0]}function on(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>on(r,t));if(typeof e=="object"&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=on(e[r],t)}),n}return e}function ws(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=ws(e[n]);return t}var r={};for(var i in e)r[i]=ws(e[i]);return r}var le=ws;function an(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function cd(e,t){return t instanceof RegExp?t.toString():t}function dr(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function Ht(e,t,n,r){var i=e.get(t);return typeof i>"u"?(i=n(),e.set(t,i)):r&&r(i),i}function Z(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=lo(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}var Ss=0;function mt(){var e=new Date().getTime();e=e+.01,e<=Ss&&(e=Ss+.01);var t=parseFloat(e.toFixed(2));return Ss=t,t}function H(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}var fo={bufferSize:1,refCount:!0};var ld=/\./g;var Lb=/(\/?)(.+)\1([a-z]*)/i;function ud(e){var t=H(e.toString().match(Lb));return{pattern:t[2],flags:t[3]}}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Be(e,t)}function mo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Be(e,t)}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ti(e)}function Os(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ds(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sn(e,t,n){return Ds()?sn=Reflect.construct.bind():sn=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),l=new c;return a&&Be(l,a.prototype),l},sn.apply(null,arguments)}function cn(e){var t=typeof Map=="function"?new Map:void 0;return cn=function(r){if(r===null||!Os(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return sn(r,arguments,ti(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Be(i,r)},cn(e)}var Y={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function jb(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(e[n],function(i,o){return o===void 0?null:o},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function dd(e,t,n){return"RxError ("+t+`):
`+e+`
`+jb(n)}var Vb=function(e){mo(t,e);function t(r,i,o={}){var a,s=dd(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},te(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(cn(Error)),zb=function(e){mo(t,e);function t(r,i,o={}){var a,s=dd(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},te(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(cn(TypeError));function v(e,t){return new Vb(e,Y.tunnelErrorMessage(e),t)}function Ct(e,t){return new zb(e,Y.tunnelErrorMessage(e),t)}function Rs(e){return e&&e.status===409?e:!1}var Ub={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function fd(e){return v("COL20",{name:Ub[e.status],document:e.documentId,writeError:e})}var ln={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function St(e,t){ln[e]&&ln[e].forEach(n=>n(t))}function fr(e,t){return Promise.all(ln[e].map(n=>n(t)))}function po(e){return e.documentData?e.documentData:e.previousDocumentData}function md(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Y.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function ue(e,t){var n=t;n=n.replace(ld,".properties."),n="properties."+n,n=lr(n);var r=ce(e,n);return r}function ho(e,t,n){if(typeof t.primaryKey=="string")return n;var r=ei(t,n),i=n[e];if(i&&i!==r)throw v("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}function Ot(e){return typeof e=="string"?e:e.key}function ei(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var i=ce(t,r);if(typeof i>"u")throw v("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function pd(e){var t=on(e,!0);return t}function go(e){e=G(e);var t=Ot(e.primaryKey);e.properties=G(e.properties),e.additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Kb,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=ks(e);return ar(e.required,n),e.required=e.required.filter(r=>!r.includes(".")).filter((r,i,o)=>o.indexOf(r)===i),e.version=e.version||0,e.indexes&&(e.indexes=e.indexes.map(r=>{var i=we(r)?r.slice(0):[r];if(!i.includes(t)){var o=i.slice(0);return o.push(t),o}return i})),e}var Kb={type:"object",properties:{lwt:{type:"number",minimum:Jn,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function ks(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=Ot(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function hd(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];(!t.hasOwnProperty(i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var gd={type:"object",properties:{id:{type:"string"},lwt:{type:"number"}},required:["id","lwt"],additionalProperties:!1};var yd="_rxdb_internal";function _d(e,t){return D(this,null,function*(){var n=yield e.findDocumentsById([t],!1),r=n[t];return r||null})}function xd(e,t,n){var r=t.documentData,i=t.previousDocumentData,o={eventId:t.eventId,documentId:t.documentId,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.operation,documentData:Y.deepFreezeWhenDevMode(r),previousDocumentData:Y.deepFreezeWhenDevMode(i)};return o}function ni(e,t,n,r){if(r)throw r.status===409?v("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?v("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function wd(e,t,n,r,i){for(var o=!!e.schema.attachments,a=[],s=[],c={},l=new Map,u=Ar(10),d={id:u,events:[],checkpoint:null,context:i},f=d.events,m=[],h=[],p=[],_=mt(),g=typeof n.get=="function",w=g?n.size>0:Object.keys(n).length>0,b,x=r.length,E=function(){var C=r[S],O=C.document[t],$=!1;w&&($=g?n.get(O):n[O]);var U;if($){var N=$._rev;if(!C.previous||C.previous&&N!==C.previous._rev){var xt={isError:!0,status:409,documentId:O,writeRow:C,documentInDb:$};return c[O]=xt,1}var ut=o?bd(C):C;o&&(C.document._deleted?C.previous&&Object.keys(C.previous._attachments).forEach(Dt=>{h.push({documentId:O,attachmentId:Dt,digest:H(C.previous)._attachments[Dt].digest})}):(Object.entries(C.document._attachments).find(([Dt,wt])=>{var Or=C.previous?C.previous._attachments[Dt]:void 0;return!Or&&!wt.data&&(U={documentId:O,documentInDb:$,isError:!0,status:510,writeRow:C,attachmentId:Dt}),!0}),U||Object.entries(C.document._attachments).forEach(([Dt,wt])=>{var Or=C.previous?C.previous._attachments[Dt]:void 0;if(!Or)m.push({documentId:O,attachmentId:Dt,attachmentData:wt,digest:kr(wt.data)});else{var Qa=ut.document._attachments[Dt].digest;wt.data&&Or.digest!==Qa&&p.push({documentId:O,attachmentId:Dt,attachmentData:wt,digest:kr(wt.data)})}}))),U?c[O]=U:(s.push(ut),(!b||b.document._meta.lwt<ut.document._meta.lwt)&&(b=ut));var J=C.document,st=null,ct=null,pe=null;if(C.previous&&C.previous._deleted&&!J._deleted)pe="INSERT",st=o?ri(J):J;else if(C.previous&&!C.previous._deleted&&!J._deleted)pe="UPDATE",st=o?ri(J):J,ct=C.previous;else if(J._deleted)pe="DELETE",st=H(C.document),ct=C.previous;else throw v("SNH",{args:{writeRow:C}});var Yi={eventId:vd(u,S,O,C),documentId:O,documentData:st,previousDocumentData:ct,operation:pe,startTime:_,endTime:mt()};l.set(O,Yi),f.push(Yi)}else{var B=!!C.document._deleted;if(o&&Object.entries(C.document._attachments).forEach(([Dt,wt])=>{wt.data?m.push({documentId:O,attachmentId:Dt,attachmentData:wt,digest:kr(wt.data)}):(U={documentId:O,isError:!0,status:510,writeRow:C,attachmentId:Dt},c[O]=U)}),U||(o?a.push(bd(C)):a.push(C),(!b||b.document._meta.lwt<C.document._meta.lwt)&&(b=C)),!B){var at={eventId:vd(u,S,O,C),documentId:O,operation:"INSERT",documentData:o?ri(C.document):C.document,previousDocumentData:o&&C.previous?ri(C.previous):C.previous,startTime:_,endTime:mt()};l.set(O,at),f.push(at)}}},S=0;S<x;S++)E();return{bulkInsertDocs:a,bulkUpdateDocs:s,newestRow:b,errors:c,changeByDocId:l,eventBulk:d,attachmentsAdd:m,attachmentsRemove:h,attachmentsUpdate:p}}function bd(e){return{previous:e.previous,document:ri(e.document)}}function Hb(e){return atob(e).length}function Wb(e){var t=e.data;if(!t)return e;var n={digest:kr(t),length:Hb(t),type:e.type};return n}function ri(e){var t=G(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=Wb(r)}),t}function bo(e){var t=G(e);return t._meta=G(e._meta),t}function vd(e,t,n,r){return e+"|"+t+"|"+n+"|"+r.document._rev}function vo(e,t,n){Y.deepFreezeWhenDevMode(n);var r=Ot(n.primaryKey);function i(a){var s=G(a.document);return s._meta=G(s._meta),Y.isDevMode()&&(s=ho(r,n,s),a.previous,a.previous&&Object.keys(a.previous._meta).forEach(c=>{if(!a.document._meta.hasOwnProperty(c))throw v("SNH",{dataBefore:a.previous,dataAfter:a.document})})),s._meta.lwt=mt(),s._rev=nn(e.token,a.previous),{document:s,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var c=a.map(l=>i(l));return e.lockedRun(()=>t.bulkWrite(c,s)).then(l=>{var u=Object.values(l.error).filter(m=>!!(m.status===409&&!m.writeRow.previous&&!m.writeRow.document._deleted&&H(m.documentInDb)._deleted));if(u.length>0){var d={error:G(l.error),success:G(l.success)},f=u.map(m=>(delete d.error[m.documentId],{previous:m.documentInDb,document:Object.assign({},m.writeRow.document,{_rev:nn(e.token,m.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(f,s)).then(m=>(d.error=Object.assign(d.error,m.error),d.success=Object.assign(d.success,m.success),d))}return l})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,c){return e.lockedRun(()=>t.getAttachmentData(a,s,c))},getChangedDocumentsSince(a,s){return e.lockedRun(()=>t.getChangedDocumentsSince(H(a),s))},cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:sr(),_rev:Ne(),_attachments:{}}),c=G(s);return delete c._meta,delete c._rev,delete c._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:c}})}};return e.storageInstances.add(o),o}function Ed(e){if(e.schema.keyCompression)throw v("UT5",{args:{params:e}});if(qb(e.schema))throw v("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw v("UT7",{args:{params:e}})}function qb(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var Cd=function(){function e(n,r,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,i){var o=r[this.primaryPath],a=Ht(this.queueByDocId,o,()=>[]),s=new Promise((c,l)=>{var u={lastKnownDocumentState:r,modifier:i,resolve:c,reject:l};H(a).push(u),this.triggerRun()});return s},t.triggerRun=function(){return D(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(i.entries()).map(c=>D(this,[c],function*([a,s]){var l=Yb(s.map(f=>f.lastKnownDocumentState)),u=l;for(var d of s)try{u=yield d.modifier(le(u))}catch(f){d.reject(f),d.reject=()=>{},d.resolve=()=>{}}try{yield this.preWrite(u,l)}catch(f){s.forEach(m=>m.reject(f));return}r.push({previous:l,document:u})})));var o=r.length>0?yield this.storageInstance.bulkWrite(r,"incremental-write"):{error:{},success:{}};return yield Promise.all(Array.from(Object.entries(o.success)).map(([a,s])=>{this.postWrite(s);var c=dr(i,a);c.forEach(l=>l.resolve(s))})),Array.from(Object.entries(o.error)).forEach(([a,s])=>{var c=dr(i,a),l=Rs(s);if(l){var u=Ht(this.queueByDocId,a,()=>[]);c.reverse().forEach(f=>{f.lastKnownDocumentState=H(l.documentInDb),H(u).unshift(f)})}else{var d=fd(s);c.forEach(f=>f.reject(d))}}),this.isRunning=!1,this.triggerRun()}})},e}();function As(e){var t=n=>D(this,null,function*(){var r=Gu(n);r._deleted=n._deleted;var i=yield e(r),o=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return t}function Yb(e){var t=e[0],n=co(t._rev).height;return e.forEach(r=>{var i=co(r._rev).height;i>n&&(t=r,n=i)}),t}var mr={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(Ut(t=>t._deleted))},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(it(t=>!t.isLocal),it(t=>t.documentId===this.primary),Ut(t=>po(t)),Ae(e.collection._docCache.getLatestDocumentData(this.primary)),qr((t,n)=>t._rev===n._rev),Ut(t=>this.collection._docCache.getCachedRxDocument(t)),Wn(fo))},get$(e){if(Y.isDevMode()){if(e.includes(".item."))throw v("DOC1",{path:e});if(e===this.primaryPath)throw v("DOC2");if(this.collection.schema.finalFields.includes(e))throw v("DOC3",{path:e});var t=ue(this.collection.schema.jsonSchema,e);if(!t)throw v("DOC4",{path:e})}return this.$.pipe(Ut(n=>ce(n,e)),qr())},populate(e){var t=ue(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return nd;if(!t)throw v("DOC5",{path:e});if(!t.ref)throw v("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw v("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(i=>{var o=i.values();return Array.from(o)}):r.findOne(n).exec()},get(e){if(this._data){var t=this._propertyCache.get(e);if(t)return t;var n=ce(this._data,e);return typeof n!="object"||Array.isArray(n)?Y.deepFreezeWhenDevMode(n):(n=le(n),Is(this.collection.schema,n,e,this),this._propertyCache.set(e,n),n)}},toJSON(e=!1){if(e)return Y.deepFreezeWhenDevMode(this._data);var t=G(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Y.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return le(this.toJSON(e))},update(e){throw Z("update")},incrementalUpdate(e){throw Z("update")},updateCRDT(e){throw Z("crdt")},putAttachment(){throw Z("attachments")},getAttachment(){throw Z("attachments")},allAttachments(){throw Z("attachments")},get allAttachments$(){throw Z("attachments")},modify(e,t){return D(this,null,function*(){var n=this._data,r=yield As(e)(n);return this._saveData(r,n)})},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,As(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=le(t);return Object.entries(e).forEach(([r,i])=>{n[r]=i}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},_saveData(e,t){return D(this,null,function*(){if(e=G(e),this._data._deleted)throw v("DOC11",{id:this.primary,document:this});yield Ps(this.collection,e,t);var n=yield this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[this.primary];return ni(this.collection,this.primary,e,r),yield this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(Cs(n.success,this.primary))})},remove(){var e=this.collection;if(this.deleted)return Promise.reject(v("DOC13",{document:this,id:this.primary}));var t=G(this._data),n;return e._runHooks("pre","remove",t,this).then(()=>D(this,null,function*(){t._deleted=!0;var r=yield e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=r.error[this.primary];return ni(e,this.primary,t,i),Cs(r.success,this.primary)})).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(e=>D(this,null,function*(){return yield this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e})).then(e=>D(this,null,function*(){return yield this.collection._runHooks("post","remove",e._data,e),e}))},destroy(){throw v("DOC14")}};function yo(e=mr){var t=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Is(e,t,n="",r=!1){if(t!==null){var i=ue(e.jsonSchema,n);typeof i>"u"||(i.properties&&(i=i.properties),Object.keys(i).forEach(o=>{var a=lr(n+"."+o);t.__defineGetter__(o,function(){var s=r||this;if(!(!s.get||typeof s.get!="function")){var c=s.get(a);return c}}),Object.defineProperty(t,o+"$",{get:function(){var s=r||this;return s.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(t,o+"_",{get:function(){var s=r||this;return s.populate(a)},enumerable:!1,configurable:!1}),t.__defineSetter__(o,function(s){var c=r||this;return c.set(a,s)})}))}}function Sd(e,t,n){var r=new e(t,n);return St("createRxDocument",r),r}function Ps(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),Y.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var Ts=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=Qb(this.jsonSchema),this.primaryPath=Ot(this.jsonSchema.primaryKey),this.finalFields=ks(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,i){this.finalFields.forEach(o=>{if(!ur(r[o],i[o]))throw v("DOC9",{dataBefore:r,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={};return Is(this,r,""),an(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return ei(this.jsonSchema,r)},te(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>r.hasOwnProperty("default")).forEach(([r,i])=>n[r]=i.default),an(this,"defaultValues",n)}},{key:"hash",get:function(){return an(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function Qb(e){return(e.indexes||[]).map(t=>we(t)?t:[t])}function Od(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function Dd(e,t,n=!0){n&&St("preCreateRxSchema",e);var r=go(e);r=pd(r),Y.deepFreezeWhenDevMode(r);var i=new Ts(r,t);return St("createRxSchema",i),i}var un="UNKNOWN";function _o(e){return e[e.length-1]}function Xb(e){let t=typeof e;return e!==null&&(t==="object"||t==="function")}function Ms(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!Xb(e)||typeof t!="string")return n===void 0?e:n;let r=t.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){let o=r[i];if(Gb(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function Gb(e,t){if(typeof t!="number"&&Array.isArray(e)){let n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}var $s=e=>!!e.queryParams.limit,Rd=e=>e.queryParams.limit===1,kd=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),Ad=e=>e.changeEvent.operation==="DELETE",Id=e=>e.changeEvent.operation==="INSERT",Pd=e=>e.changeEvent.operation==="UPDATE",Td=e=>e.changeEvent.previous===un,Md=e=>$s(e)&&e.previousResults.length>=e.queryParams.limit,$d=e=>{let t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||n===un)return!0;for(let i=0;i<t.length;i++){let o=t[i],a=Ms(n,o),s=Ms(r,o);if(a!==s)return!0}return!1},Nd=e=>{let t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{let n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t)return!0;return!1}},Bd=e=>{let t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Fd=e=>{let t=_o(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Ld=e=>{let t=e.changeEvent.previous;if(!t||t===un)return!1;let n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},jd=e=>{let t=e.changeEvent.previous;if(!t||t===un)return!1;let n=_o(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},Vd=e=>{let t=e.changeEvent.doc;if(!t)return!1;let n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},zd=e=>{let t=e.changeEvent.doc;if(!t)return!1;let n=_o(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},Ud=e=>{let t=e.changeEvent.previous;return!t||t===un?!1:e.queryParams.queryMatcher(t)},Kd=e=>{let t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},Hd=e=>e.previousResults.length===0;var Wd={0:Id,1:Pd,2:Ad,3:$s,4:Rd,5:kd,6:Hd,7:Td,8:Md,9:Bd,10:Fd,11:$d,12:Nd,13:Ld,14:jd,15:Vd,16:zd,17:Ud,18:Kd};function qd(e,t,n,r){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;r<=o;)a=r+(o-r>>1),s=e[a],n(s,t)<=0?r=a+1:o=a-1;return n(s,t)<=0&&a++,e.splice(a,0,t),a}var Yd=e=>{},xo=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},wo=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Eo=e=>{let t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Co=e=>{let t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Qd=e=>{Eo(e),wo(e)},Xd=e=>{Co(e),xo(e)},Gd=e=>{Eo(e),xo(e)},Zd=e=>{Co(e),wo(e)},Ns=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);let t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},Jd=e=>{let t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},tf=e=>{let t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},Bs=e=>{let t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;qd(e.previousResults,n,e.queryParams.sortComparator,0)},ef=e=>{Ns(e),Bs(e)},rf=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},nf=e=>{throw new Error("Action unknownAction should never be called")};var of=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],af={doNothing:Yd,insertFirst:xo,insertLast:wo,removeFirstItem:Eo,removeLastItem:Co,removeFirstInsertLast:Qd,removeLastInsertFirst:Xd,removeFirstInsertFirst:Gd,removeLastInsertLast:Zd,removeExisting:Ns,replaceExisting:Jd,alwaysWrong:tf,insertAtSortPosition:Bs,removeExistingAndInsertAtSortPosition:ef,runFullQueryAgain:rf,unknownAction:nf};function So(e){return e.charCodeAt(0)-40}function sf(e){return e?"1":"0"}function Zb(e=6){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}var jS=Zb(4);function Fs(e,t){let n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function cf(e){let t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,r),o=Fs(i,2);for(let p=0;p<o.length;p++){let _=o[p],g=_.charAt(0),w=So(_.charAt(1));t.set(g,w)}let a=e.substring(r,e.length-3),s=Fs(a,4);for(let p=0;p<s.length;p++){let _=s[p],g=_.charAt(0),w=_.charAt(1),b=_.charAt(2),x=So(_.charAt(3));if(!t.has(w))throw new Error("missing node with id "+w);if(!t.has(b))throw new Error("missing node with id "+b);let E=t.get(w),S=t.get(b),C={l:x,0:E,1:S};t.set(g,C)}let c=e.slice(-3),l=c.charAt(0),u=c.charAt(1),d=So(c.charAt(2)),f=t.get(l),m=t.get(u);return{l:d,0:f,1:m}}function lf(e,t,n){let r=e,i=e.l;for(;;){let o=t[i](n),a=sf(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}var Jb="14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7Fef7\xA1bk7\xA2e{7\xA3g|7\xA4ry7\xA5dp7\xA6gk7\xA7eq7\xA8gt7\xA9ac7\xAAmv7\xABgu7\xACnm7\xADiy7\xAEnw7\xAF\xA4s8\xB0\xAB\xA68\xB1\xACk8\xB2\xAAm8\xB3\xAEv8\xB4\xABn8\xB5\xACn8\xB6vm8\xB7xv8\xB8mn8\xB9\xADj8\xBA\xAEm8\xBBxm8\xBC\xAD\xB93\xBD}~3\xBE\xA9\xB03\xBF\x7F\xA23\xC0\xA1\xA33\xC1m\xB13\xC2\xAE\xBA3\xC3m\xBA3\xC4\xA9\xB43\xC5b\xAE3\xC6m\xB53\xC7m\xBB3\xC8x\xBB3\xC9kn3\xCAm\xB83\xCB\xBCj6\xCC\xC2m6\xCD\xC6\xC36\xCE\xC8m6\xCFnm6\xD0\xCA\xC76\xD1\xCC\xCE,\xD2\xCD\xD0,\xD3\xC5\xC9,\xD4\xB2\xB6,\xD5\xB3\xB7,\xD6\xAEn,\xD7\xBA\xBB,\xD8mf9\xD9\xCB\xC19\xDAym9\xDBm\xCF9\xDC\xD1\xD29\xDDz{2\xDEpq2\xDF\xBD\xBF2\xE0\xBE\xC02\xE1\xA5\xA72\xE2\xB0\xA82\xE3\xC4\xD32\xE4\xB4\xD62\xE5\xDDn0\xE6\xDEn0\xE7\xD8\xDB0\xE8\xD9\xDC0\xE9\xDFn0\xEA\xE0\xE30\xEB\xB2\xD40\xEC\xAF\xD50\xED\xE1n0\xEE\xE2\xE40\xEF\xB9\xD70\xF0\xE7v/\xF1\xE5\xE6/\xF2\xE7\xEB/\xF3\xE8\xEC/\xF4\xE9\xED/\xF5\xEA\xEE/\xF6\xDAy/\xF7\xF2m(\xF8\xF3\xEF(\xF9\xF6y(\xFA\xF7\xF8:\xFB\xF4\xF5:\xFCm\xF9:\xFD\xF0\xF14\xFE\xFA\xFB4\xFF\xFE\xFD*\u0100\xFCm*\xFF\u0100.",Ls;function tv(){return Ls||(Ls=cf(Jb)),Ls}var uf=e=>lf(tv(),Wd,e);function df(e){let t=uf(e);return of[t]}function ff(e,t,n,r,i){let o=af[e];return o({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}var dn=String.fromCharCode(65535),pr=Number.MIN_VALUE;function pf(e,t){var n=Ot(e.primaryKey),r=t.selector,i=e.indexes?e.indexes.slice(0):[];t.index?i=[t.index]:i.push([n]);var o=t.sort.map(u=>Object.keys(u)[0]),a=o.join(","),s=!!t.sort.find(u=>Object.values(u)[0]==="desc"),c=-1,l;return i.forEach(u=>{var d=!0,f=!0,m=u.map(_=>{var g=r[_],w=g?Object.keys(g):[],b={};if(!g||!w.length){var x=f?pr:dn;b={startKey:x,endKey:d?dn:pr,inclusiveStart:!0,inclusiveEnd:!0}}else w.forEach(E=>{if(Oo.has(E)){var S=g[E],C=nv(E,S);b=Object.assign(b,C)}});return typeof b.startKey>"u"&&(b.startKey=pr),typeof b.endKey>"u"&&(b.endKey=dn),typeof b.inclusiveStart>"u"&&(b.inclusiveStart=!0),typeof b.inclusiveEnd>"u"&&(b.inclusiveEnd=!0),f&&!b.inclusiveStart&&(f=!1),d&&!b.inclusiveEnd&&(d=!1),b}),h={index:u,startKeys:m.map(_=>_.startKey),endKeys:m.map(_=>_.endKey),inclusiveEnd:d,inclusiveStart:f,sortFieldsSameAsIndexFields:!s&&a===u.join(","),selectorSatisfiedByIndex:mf(u,t.selector)},p=iv(e,t,h);(p>0&&p>c||t.index)&&(c=p,l=h)}),l||(l={index:[n],startKeys:[pr],endKeys:[dn],inclusiveEnd:!0,inclusiveStart:!0,sortFieldsSameAsIndexFields:!s&&a===n,selectorSatisfiedByIndex:mf([n],t.selector)}),l}var Oo=new Set(["$eq","$gt","$gte","$lt","$lte"]),ev=new Set(["$eq","$gt","$gte"]),rv=new Set(["$eq","$lt","$lte"]);function mf(e,t){var n=Object.entries(t),r=n.find(([c,l])=>{if(!e.includes(c))return!0;var u=Object.entries(l).find(([d,f])=>!Oo.has(d));return u});if(r)return!1;var i,o=e.find(c=>{var l=t[c];if(!l)return!1;var u=Object.keys(l).find(d=>ev.has(d));return i&&u?!0:(u!=="$eq"&&(i=u),!1)});if(o)return!1;var a,s=e.find(c=>{var l=t[c];if(!l)return!1;var u=Object.keys(l).find(d=>rv.has(d));return a&&u?!0:(u!=="$eq"&&(a=u),!1)});return!s}function nv(e,t){switch(e){case"$eq":return{startKey:t,endKey:t};case"$lte":return{endKey:t};case"$gte":return{startKey:t};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function iv(e,t,n){var r=0,i=u=>{u>0&&(r=r+u)},o=10,a=so(n.startKeys,u=>u!==pr&&u!==dn);i(a*o);var s=so(n.startKeys,u=>u!==dn&&u!==pr);i(s*o);var c=so(n.startKeys,(u,d)=>u===n.endKeys[d]);i(c*o*1.5);var l=n.sortFieldsSameAsIndexFields?5:0;return i(l),r}var zs=Number.MAX_SAFE_INTEGER,Us=Number.MIN_SAFE_INTEGER,Ir=Symbol("missing"),ov=Object.getPrototypeOf({}),av="[object Object]",sv=/^\[object ([a-zA-Z0-9]+)\]$/,ko=e=>{let t=fn(e),n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},vf=new Set(["null","undefined","boolean","number","string","date","regexp"]),cv={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},pt=(e,t)=>{e===Ir&&(e=void 0),t===Ir&&(t=void 0);let[n,r]=[e,t].map(i=>cv[ee(i).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:re(e,t)?0:e<t?-1:e>t?1:0};function R(e,t){if(!e)throw new Error(t)}var hn=e=>{let t=new Map,n=i=>{if(t.has(i))throw new Error("cycle detected during clone operation.");t.set(i,!0)},r=i=>{if(i instanceof Date)return new Date(i);if(F(i)){n(i);let o=new Array(i.length),a=i.length;for(let s=0;s<a;s++)o[s]=r(i[s]);return o}if(K(i)){n(i);let o={};for(let a in i)o[a]=r(i[a]);return o}return i};return r(e)},ee=e=>sv.exec(Object.prototype.toString.call(e))[1],ii=e=>typeof e=="boolean",W=e=>typeof e=="string",q=e=>!isNaN(e)&&typeof e=="number";var F=Array.isArray,K=e=>{if(!e)return!1;let t=Object.getPrototypeOf(e);return(t===ov||t===null)&&av===Object.prototype.toString.call(e)},oi=e=>e===Object(e),ai=e=>e instanceof Date,si=e=>e instanceof RegExp,Ks=e=>typeof e=="function",k=e=>e==null,Ee=(e,t)=>e.includes(t),Ao=(e,t)=>!Ee(e,t),Ce=(e,t=!0)=>!!e||t&&e==="",Wt=e=>k(e)||W(e)&&!e||e instanceof Array&&e.length===0||K(e)&&Object.keys(e).length===0,hf=e=>e===Ir,Fe=e=>e instanceof Array?e:[e],Nt=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),lv=(e,t)=>K(e)&&K(t)||F(e)&&F(t);function pn(e,t,n){if(n=n||{flatten:!1},hf(e)||k(e))return t;if(hf(t)||k(t))return e;if(!lv(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,F(e)){let r=e,i=t;if(n.flatten){let o=0,a=0;for(;o<r.length&&a<i.length;)r[o]=pn(r[o++],i[a++],n);for(;a<i.length;)r.push(t[a++])}else Vt(r,i)}else for(let r in t)e[r]=pn(e[r],t[r],n);return e}function gf(e,t=ko){let n=new Map;return e.forEach((r,i)=>{let o=Io(r,t);n.has(o)?n.get(o).some(a=>re(e[a],r))||n.get(o).push(i):n.set(o,[i])}),n}function Pr(e,t=ko){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);let n=yf(e.map((s,c)=>[c,s.length]),s=>s[1]),r=e[n[0][0]],i=gf(r,t),o=new Map,a=new Array;return i.forEach((s,c)=>{let l=s.map(m=>r[m]),u=l.map(m=>0),d=l.map(m=>[n[0][0],0]),f=!1;for(let m=1;m<e.length;m++){let[h,p]=n[m],_=e[h];if(o.has(m)||o.set(m,gf(_)),o.get(m).has(c)){let g=o.get(m).get(c).map(w=>_[w]);f=l.map((w,b)=>g.some((x,E)=>{let S=u[b];return re(w,x)&&(u[b]++,h<d[b][0]&&(d[b]=[h,o.get(m).get(c)[E]])),S<u[b]})).some(Boolean)}if(!f)return}f&&Vt(a,u.map((m,h)=>m===e.length-1?[l[h],d[h]]:Ir).filter(m=>m!==Ir))}),a.sort((s,c)=>{let[l,[u,d]]=s,[f,[m,h]]=c,p=pt(u,m);return p!==0?p:pt(d,h)}).map(s=>s[0])}function Hs(e,t=0){let n=new Array;function r(i,o){for(let a=0,s=i.length;a<s;a++)F(i[a])&&(o>0||o<0)?r(i[a],Math.max(-1,o-1)):n.push(i[a])}return r(e,t),n}function re(e,t){let n=[e],r=[t];for(;n.length>0;){if(e=n.pop(),t=r.pop(),e===t)continue;let i=ee(e).toLowerCase();if(i!==ee(t).toLowerCase()||i==="function")return!1;if(i==="array"){let o=e,a=t;if(o.length!==a.length)return!1;if(o.length===a.length&&o.length===0)continue;Vt(n,o),Vt(r,a)}else if(i==="object"){let o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(let s=0,c=o.length;s<c;s++){let l=o[s];if(!Nt(t,l))return!1;n.push(e[l]),r.push(t[l])}}else if(fn(e)!==fn(t))return!1}return n.length===0}function fn(e){let t=ee(e).toLowerCase();switch(t){case"boolean":case"number":case"regexp":return e.toString();case"string":return JSON.stringify(e);case"date":return e.toISOString();case"null":case"undefined":return t;case"array":return"["+e.map(fn).join(",")+"]";default:break}let n=t==="object"?"":`${ee(e)}`,r=Object.keys(e);return r.sort(),`${n}{`+r.map(i=>`${fn(i)}:${fn(e[i])}`).join(",")+"}"}function Io(e,t){return t=t||ko,k(e)?null:t(e).toString()}function yf(e,t,n=pt){if(Wt(e))return e;let r=new Array,i=new Array;for(let o=0;o<e.length;o++){let a=e[o],s=t(a,o);k(s)?i.push(a):r.push([s,a])}return r.sort((o,a)=>n(o[0],a[0])),Vt(i,r.map(o=>o[1]))}function Po(e,t,n=ko){if(e.length<1)return new Map;let r=new Map,i=new Map;for(let o=0;o<e.length;o++){let a=e[o],s=t(a,o),c=Io(s,n);if(c===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{let l=r.has(c)?r.get(c).find(u=>re(u,s)):null;k(l)?(i.set(s,[a]),r.has(c)?r.get(c).push(s):r.set(c,[s])):i.get(l).push(a)}}return i}var js=5e4;function Vt(e,...t){return e instanceof Array?t.reduce((n,r)=>{let i=Math.ceil(r.length/js),o=0;for(;i-- >0;)Array.prototype.push.apply(n,r.slice(o,o+js)),o+=js;return n},e):t.filter(oi).reduce((n,r)=>(Object.assign(n,r),n),e)}function Vs(e,t){return oi(e)?e[t]:void 0}function uv(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function Le(e,t,n){let r=0;function i(a,s){let c=a;for(let l=0;l<s.length;l++){let u=s[l];if(/^\d+$/.exec(u)===null&&c instanceof Array){if(l===0&&r>0)break;r+=1;let f=s.slice(l);c=c.reduce((m,h)=>{let p=i(h,f);return p!==void 0&&m.push(p),m},[]);break}else c=Vs(c,u);if(c===void 0)break}return c}let o=vf.has(ee(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&n?.unwrapArray?uv(o,r):o}function mn(e,t,n){let r=t.split("."),i=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(i)!==null,s=r.length>1,c,l;if(e instanceof Array)if(a)c=Vs(e,Number(i)),s&&(c=mn(c,o,n)),c=[c];else{c=[];for(let u of e)l=mn(u,t,n),n?.preserveMissing?(l===void 0&&(l=Ir),c.push(l)):l!==void 0&&c.push(l)}else{if(l=Vs(e,i),s&&(l=mn(l,o,n)),l===void 0)return;c=n?.preserveKeys?Object.assign({},e):{},c[i]=l}return c}function Do(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===Ir?e.splice(t,1):Do(e[t]);else if(K(e))for(let t in e)Nt(e,t)&&Do(e[t])}var bf=/^\d+$/;function Ro(e,t,n,r){let i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(K(e)||F(e)&&bf.test(o))&&n(e,o);else{r?.buildGraph&&k(e[o])&&(e[o]={});let s=e[o];if(!s)return;let c=!!(i.length>1&&bf.test(i[1]));s instanceof Array&&r?.descendArray&&!c?s.forEach(l=>Ro(l,a,n,r)):Ro(s,a,n,r)}}function To(e,t,n){Ro(e,t,(r,i)=>{r[i]=n},{buildGraph:!0})}function ci(e,t,n){Ro(e,t,(r,i)=>{if(r instanceof Array){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(let o of r)K(o)&&delete o[i]}else K(r)&&delete r[i]},n)}var dv=/^\$[a-zA-Z0-9_]+$/;function de(e){return dv.test(e)}function Mo(e){if(vf.has(ee(e).toLowerCase()))return si(e)?{$regex:e}:{$eq:e};if(oi(e)){if(!Object.keys(e).some(de))return{$eq:e};if(Nt(e,"$regex")){let n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var je=function(e){return e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF",e}(je||{}),lt=class e{constructor(t,n,r,i=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=i,this.update(n,r)}static init(t,n,r){return t instanceof e?new e(t._opts,k(t.root)?n:t.root,Object.assign({},t.local,r)):new e(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:gn.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||je.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}};function bn(e){return e instanceof lt?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:je.CLONE_OFF},e),{context:e?.context?gn.from(e?.context):gn.init({})}))}var tt=function(e){return e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e}(tt||{}),gn=class e{constructor(t){this.operators=hn(t)}static init(t){return new e(pn({[tt.ACCUMULATOR]:{},[tt.EXPRESSION]:{},[tt.PIPELINE]:{},[tt.PROJECTION]:{},[tt.QUERY]:{},[tt.WINDOW]:{}},t,{skipValidation:!0}))}static from(t){return new e(t.operators)}addOperators(t,n){for(let[r,i]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=i);return this}addAccumulatorOps(t){return this.addOperators(tt.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(tt.EXPRESSION,t)}addQueryOps(t){return this.addOperators(tt.QUERY,t)}addPipelineOps(t){return this.addOperators(tt.PIPELINE,t)}addProjectionOps(t){return this.addOperators(tt.PROJECTION,t)}addWindowOps(t){return this.addOperators(tt.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}},xf=gn.init({});function Ys(e,t){for(let[n,r]of Object.entries(t)){R(Ks(r)&&de(n),`'${n}' is not a valid operator`);let i=fe(e,n,null);R(!i||r===i,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}xf.addOperators(e,t)}function fe(e,t,n){let{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(e,t):null;return!o&&i?xf.getOperator(e,t):o}var _f={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},Ws={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!Nt(t,"$cond"))return e;let r;for(let[i,o]of Object.entries(e))if(oi(o)){if(o instanceof Array){let a=[];for(let s of o)K(s)&&(s=qs(s,t,n.update(s))),k(s)||a.push(s);r=a}else r=qs(o,t,n.update(o));k(r)?delete e[i]:e[i]=r}return e}};function y(e,t,n,r){var i;let o=lt.init(r,e);if(n=n||"",de(n)){let a=fe(tt.EXPRESSION,n,r);if(a)return a(e,t,o);let s=fe(tt.ACCUMULATOR,n,r);if(s)return e instanceof Array||(e=y(e,t,null,o),t=null),R(e instanceof Array,`'${n}' target must be an array.`),s(e,t,o.update(null,o.local));throw new Error(`operator '${n}' is not registered`)}if(W(t)&&t.length>0&&t[0]==="$"){if(Nt(Ws,t))return t;let a=o.root,s=t.split(".");if(Nt(_f,s[0]))a=_f[s[0]](e,null,o),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);let c=s[0].slice(2);R(Nt(a,c),`Use of undefined variable: ${c}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:Le(a,t)}if(F(t))return t.map(a=>y(e,a,null,o));if(K(t)){let a={};for(let[s,c]of Object.entries(t))if(a[s]=y(e,c,s,o),[tt.EXPRESSION,tt.ACCUMULATOR].some(l=>!!fe(l,s,r)))return R(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function qs(e,t,n){let r=y(e,t,null,n);return Nt(Ws,r)?Ws[r](e,t,n):r}function qt(e){return e instanceof li?e:new li(e)}function $o(...e){let t=0;return qt(()=>{for(;t<e.length;){let n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function fv(e){return!!e&&typeof e=="object"&&e?.next instanceof Function}function mv(e,t){let n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}var Qs=new Error,Ve=function(e){return e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP",e}(Ve||{});function pv(e,t,n){let r=!1,i=-1,o=0;return function(a){try{t:for(;!r;){let s=e();i++;let c=-1,l=t.length,u=!1;for(;++c<l;){let d=t[c];switch(d.action){case Ve.MAP:s=d.func(s,i);break;case Ve.FILTER:if(!d.func(s,i))continue t;break;case Ve.TAKE:--d.count,d.count||(u=!0);break;case Ve.DROP:--d.count,d.count||mv(t,c);continue t;default:break t}}if(r=u,a)n[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==Qs)throw s}return r=!0,{done:r}}}var li=class{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),fv(t)){let r=t;n=()=>{let i=r.next();if(i.done)throw Qs;return i.value}}else if(t instanceof Array){let r=t,i=r.length,o=0;n=()=>{if(o<i)return r[o++];throw Qs}}else if(!(t instanceof Function))throw new Error(`Source is of type '${typeof t}'. Must be Array, Function, or Generator`);this.getNext=pv(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(Ve.MAP,t)}filter(t){return this.push(Ve.FILTER,t)}take(t){return t>0?this.push(Ve.TAKE,t):this}drop(t){return t>0?this.push(Ve.DROP,t):this}transform(t){let n=this,r;return qt(()=>(r||(r=qt(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){let n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}};var Se=class{constructor(t,n){this.pipeline=t,this.options=bn(n)}stream(t){let n=qt(t),r=this.options.processingMode;(r==je.CLONE_ALL||r==je.CLONE_INPUT)&&n.map(hn);let i=new Array;if(!Wt(this.pipeline))for(let o of this.pipeline){let a=Object.keys(o),s=a[0],c=fe(tt.PIPELINE,s,this.options);R(a.length===1&&!!c,`invalid pipeline operator ${s}`),i.push(s),n=c(n,o[s],this.options)}return(r==je.CLONE_OUTPUT||r==je.CLONE_ALL&&Pr([["$group","$unwind"],i]).length)&&n.map(hn),n}run(t){return this.stream(t).value()}};var No=class{constructor(t,n,r,i){this.source=t,this.predicate=n,this.projection=r,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(K(this.projection)&&this.operators.push({$project:this.projection}),this.result=qt(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Se(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let t=qt([...this.buffer]);return this.buffer=[],$o(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;let t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}};var Yt=class{constructor(t,n){this.condition=t,this.options=bn(n),this.compiled=[],this.compile()}compile(){R(K(this.condition),"query criteria must be an object");let t={};for(let[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(Ee(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{R(!de(n),`unknown top level operator: ${n}`);for(let[i,o]of Object.entries(Mo(r)))this.processOperator(n,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){let i=fe(tt.QUERY,n,this.options);if(!i)throw new Error(`unknown operator ${n}`);let o=i(t,r,this.options);this.compiled.push(o)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new No(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}};var vn=1e3*60*60*24,Ef={week:vn*7,day:vn,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var F1={week:vn*7,day:vn,hour:vn/24,minute:6e4,second:1e3,millisecond:1};function Q(e){let t=(n,r,i)=>{let o={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return s=>{let c=Le(s,n,o);return e(c,r,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function zt(e){return(t,n,r)=>{let i=y(t,n,null,r);return e(...i)}}function ui(e,t,n){if(re(e,t)||k(e)&&k(t))return!0;if(e instanceof Array){let r=re.bind(null,t);return e.some(r)||Hs(e,n?.depth).some(r)}return!1}function Bo(e,t,n){return!ui(e,t,n)}function Zs(e,t,n){return k(e)?t.some(r=>r===null):Pr([Fe(e),t],n?.hashFunction).length>0}function Fo(e,t,n){return!Zs(e,t,n)}function Lo(e,t,n){return Uo(e,t,(r,i)=>pt(r,i)<0)}function jo(e,t,n){return Uo(e,t,(r,i)=>pt(r,i)<=0)}function Vo(e,t,n){return Uo(e,t,(r,i)=>pt(r,i)>0)}function zo(e,t,n){return Uo(e,t,(r,i)=>pt(r,i)>=0)}function Rf(e,t,n){return Fe(e).some(r=>t.length===2&&r%t[0]===t[1])}function kf(e,t,n){let r=Fe(e),i=o=>W(o)&&Ce(t.exec(o),n?.useStrictMode);return r.some(i)||Hs(r,1).some(i)}function Af(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function If(e,t,n){if(!F(e)||!F(t)||!e.length||!t.length)return!1;let r=!0;for(let i of t){if(!r)break;K(i)&&Ee(Object.keys(i),"$elemMatch")?r=Js(e,i.$elemMatch,n):i instanceof RegExp?r=e.some(o=>typeof o=="string"&&i.test(o)):r=e.some(o=>re(i,o))}return r}function Pf(e,t,n){return Array.isArray(e)&&e.length===t}function wv(e){return de(e)&&["$and","$or","$nor"].indexOf(e)===-1}function Js(e,t,n){if(F(e)&&!Wt(e)){let r=a=>a,i=t;Object.keys(t).every(wv)&&(i={temp:t},r=a=>({temp:a}));let o=new Yt(i,n);for(let a=0,s=e.length;a<s;a++)if(o.test(r(e[a])))return!0}return!1}var Cf=e=>e===null,Sf=e=>q(e)&&e>=-2147483648&&e<=2147483647&&e.toString().indexOf(".")===-1,Of=e=>q(e)&&e>=Us&&e<=zs&&e.toString().indexOf(".")===-1,Ev={array:F,bool:ii,boolean:ii,date:ai,decimal:q,double:q,int:Sf,long:Of,number:q,null:Cf,object:K,regex:si,regexp:si,string:W,undefined:k,function:e=>{throw new Error("unsupported type key `function`.")},1:q,2:W,3:K,4:F,6:k,8:ii,9:ai,10:Cf,11:si,16:Sf,18:Of,19:q};function Df(e,t,n){let r=Ev[t];return r?r(e):!1}function Tf(e,t,n){return Array.isArray(t)?t.findIndex(r=>Df(e,r,n))>=0:Df(e,t,n)}function Uo(e,t,n){return Fe(e).some(r=>ee(r)===ee(t)&&n(r,t))}var cA=zt(Fo);var gI=zt(ui);var yI=zt(Vo);var wI=zt(zo);var SI=zt(Lo);var RI=zt(jo);var II=zt(Bo);var Mf=(e,t)=>{let n={};return e.split("").forEach((r,i)=>n[r]=t*(i+1)),n},vP=Object.assign(Object.assign(Object.assign({},Mf("ABCDEFGHIKLM",1)),Mf("NOPQRSTUVWXY",-1)),{Z:0});var Ff={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function rt(e,t=Ff){let n=Object.assign({},Ff,t),r=new Set(Object.keys(n));return(i,o,a)=>{let s=y(i,o,null,a);if(r.has(`${s}`)){let c=n[`${s}`];if(c instanceof Error)throw new Error(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return c}return e(s)}}var pN=rt(Math.acos,{Infinity:1/0,0:new Error});var bN=rt(Math.acosh,{Infinity:1/0,0:new Error});var _N=rt(Math.asin);var EN=rt(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var ON=rt(Math.atan);var PN=rt(Math.atanh,{1:1/0,"-1":-1/0});var $N=rt(Math.cos);var FN=rt(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var Rv=Math.PI/180,VN=rt(e=>e*Rv,{Infinity:1/0,"-Infinity":1/0});var kv=180/Math.PI,KN=rt(e=>e*kv,{Infinity:1/0,"-Infinity":-1/0});var qN=rt(Math.sin);var XN=rt(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var JN=rt(Math.tan);var Ho=(e,t,n)=>{if(Wt(t)||!K(t))return e;let r=pt,i=n.collation;return K(i)&&W(i.locale)&&(r=Tv(i)),e.transform(o=>{let a=Object.keys(t);for(let s of a.reverse()){let c=Po(o,u=>Le(u,s),n.hashFunction),l=Array.from(c.keys()).sort(r);t[s]===-1&&l.reverse(),o=[],l.reduce((u,d)=>Vt(u,c.get(d)),o)}return o})},Pv={1:"base",2:"accent",3:"variant"};function Tv(e){let t={sensitivity:Pv[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));let n=new Intl.Collator(e.locale,t);return(r,i)=>{if(!W(r)||!W(i))return pt(r,i);let o=n.compare(r,i);return o<0?-1:o>0?1:0}}var rc=(e,t,n)=>{if(Wt(t))return e;let r=Object.keys(t),i=!1;Vf(t,n);let o=n.idKey;if(Ee(r,o)){let s=t[o];(s===0||s===!1)&&(r=r.filter(Ao.bind(null,[o])),i=r.length==0)}else r.push(o);let a=lt.init(n);return e.map(s=>ec(s,t,a.update(s),r,i))};function ec(e,t,n,r,i){let o={},a=!1,s=!1,c=[];i&&c.push(n.idKey);for(let l of r){let u,d=t[l];if(l!==n.idKey&&Ee([0,!1],d)&&(s=!0),l===n.idKey&&Wt(d))u=e[l];else if(W(d))u=y(e,d,l,n);else if(!Ee([1,!0],d))if(d instanceof Array)u=d.map(m=>{let h=y(e,m,null,n);return k(h)?null:h});else if(K(d)){let m=d,h=Object.keys(d),p=h.length==1?h[0]:"",_=fe(tt.PROJECTION,p,n);if(_)p==="$slice"?Fe(m[p]).every(q)?(u=_(e,m[p],l,n),a=!0):u=y(e,m,l,n):u=_(e,m[p],l,n);else if(de(p))u=y(e,m[p],p,n);else if(Nt(e,l)){Vf(m,n);let g=e[l];g instanceof Array?u=g.map(w=>ec(w,m,n,h,!1)):(g=K(g)?g:e,u=ec(g,m,n,h,!1))}else u=y(e,d,null,n)}else{c.push(l);continue}let f=mn(e,l,{preserveMissing:!0});f!==void 0&&pn(o,f,{flatten:!0}),Ao([0,1,!1,!0],d)&&(u===void 0?ci(o,l,{descendArray:!0}):To(o,l,u))}if(Do(o),(a||s||i)&&(o=Vt({},e,o),c.length>0))for(let l of c)ci(o,l,{descendArray:!0});return o}function Vf(e,t){let n=[!1,!1];for(let[r,i]of Object.entries(e)){if(r===t?.idKey)return;i===0||i===!1?n[0]=!0:(i===1||i===!0)&&(n[1]=!0),R(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var zf=(e,t,n)=>{R(F(t),"Invalid expression: $and expects value to be an Array.");let r=t.map(i=>new Yt(i,n));return i=>r.every(o=>o.test(i))};var Wo=(e,t,n)=>{R(F(t),"Invalid expression. $or expects value to be an Array");let r=t.map(i=>new Yt(i,n));return i=>r.some(o=>o.test(i))};var Uf=(e,t,n)=>{R(F(t),"Invalid expression. $nor expects value to be an array.");let r=Wo("$or",t,n);return i=>!r(i)};var Kf=(e,t,n)=>{let r={};r[e]=Mo(t);let i=new Yt(r,n);return o=>!i.test(o)};var nc=Q(ui);var ic=Q(Vo);var oc=Q(zo);var ac=Q(Zs);var sc=Q(Lo);var cc=Q(jo);var lc=Q(Bo);var uc=Q(Fo);var Hf=Q(Rf);var Wf=Q(kf);var Ij=Q(If);var qf=Q(Js);var Yf=Q(Pf);var Qf=Q(Af);var Xf=Q(Tf);var Gf=!1;function Zf(e){return Gf||(Ys(tt.PIPELINE,{$sort:Ho,$project:rc}),Ys(tt.QUERY,{$and:zf,$eq:nc,$elemMatch:qf,$exists:Qf,$gt:ic,$gte:oc,$in:ac,$lt:sc,$lte:cc,$ne:lc,$nin:uc,$mod:Hf,$nor:Uf,$not:Kf,$or:Wo,$regex:Wf,$size:Yf,$type:Xf}),Gf=!0),new Yt(e)}function di(e,t){var n=Ot(e.primaryKey);t=G(t),t.selector&&(t.selector=dc(t.selector));var r=le(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([l,u])=>{(typeof u!="object"||u===null)&&(r.selector[l]={$eq:u})})):r.selector={},r.index){var i=Zn(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var c=r.sort.find(l=>sd(l)===n);c||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(l=>({[l]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([l,u])=>{var d=!1;typeof u=="object"&&u!==null?d=!!Object.keys(u).find(f=>Oo.has(f)):d=!0,d&&o.add(l)});var a=-1,s;e.indexes.forEach(l=>{var u=we(l)?l:[l],d=u.findIndex(f=>!o.has(f));d>0&&d>a&&(a=d,s=u)}),s&&(r.sort=s.map(l=>({[l]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function dc(e){if(typeof e!="object"||e===null)return e;var t=Object.keys(e),n={};return t.forEach(r=>{var i=e[r];if(r==="$regex"&&i instanceof RegExp){var o=ud(i);n.$regex=o.pattern,n.$options=o.flags}else Array.isArray(i)?n[r]=i.map(a=>dc(a)):n[r]=dc(i)}),n}function qo(e,t){if(!t.sort)throw v("SNH",{query:t});var n=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:o,direction:a,getValueFn:ad(o)})});var r=(i,o)=>{for(var a=0;a<n.length;++a){var s=n[a],c=s.getValueFn(i),l=s.getValueFn(o);if(c!==l){var u=s.direction==="asc"?pt(c,l):pt(l,c);return u}}};return r}function yn(e,t){if(!t.sort)throw v("SNH",{query:t});var n=Zf(t.selector),r=i=>{if(i._deleted)return!1;var o=n.find([i]),a=o.next();return!!a};return r}function $v(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var Nv=new WeakMap;function Bv(e){return Ht(Nv,e,()=>{var t=e.collection,n=di(t.storageInstance.schema,le(e.mangoQuery)),r=t.schema.primaryPath,i=qo(t.schema.jsonSchema,n),o=(l,u)=>{var d={docA:l,docB:u,rxQuery:e};return i(d.docA,d.docB)},a=yn(t.schema.jsonSchema,n),s=l=>{var u={doc:l,rxQuery:e};return a(u.doc)},c={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:$v(r,n),sortComparator:o,queryMatcher:s};return c})}function Jf(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=Bv(e),r=H(e._result).docsData.slice(0),i=H(e._result).docsDataMap,o=!1,a=t.map(c=>md(c)).filter(Ku),s=a.find(c=>{var l={queryParams:n,changeEvent:c,previousResults:r,keyDocumentMap:i},u=df(l);if(u==="runFullQueryAgain")return!0;if(u!=="doNothing")return o=!0,ff(u,n,c,r,i),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var Fv=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var i=r.toString();return Ht(this._map,i,()=>r)},e}();function em(){return new Fv}function tm(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function Lv(e){return e.refCount$.observers.length}var jv=100,Vv=30*1e3,zv=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var i=mt()-t,o=[],a=Array.from(r._map.values());for(var s of a)if(!(Lv(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){tm(r,s);continue}o.push(s)}var c=o.length-e;if(!(c<=0)){var l=o.sort((d,f)=>d._lastEnsureEqual-f._lastEnsureEqual),u=l.slice(0,c);u.forEach(d=>tm(r,d))}}},mc=zv(jv,Vv),fc=new WeakSet;function rm(e){fc.has(e)||(fc.add(e),rd().then(()=>id(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),fc.delete(e)}))}var Uv=0,Kv=function(){return++Uv},pc=function(){function e(n,r,i,o={}){this.id=Kv(),this._execOverDatabaseCount=0,this._creationTime=mt(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Qi(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=se,this.op=n,this.mangoQuery=r,this.collection=i,this.other=o,r||(this.mangoQuery=fi()),this.isFindOneByIdQuery=Yv(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result={docsData:[],docsMap:new Map,docsDataMap:new Map,count:r,docs:[],time:mt()};return}else r instanceof Map&&(r=Array.from(r.values()));var i=new Map,o=new Map,a=r.map(c=>this.collection._docCache.getCachedRxDocument(c)),s=a.map(c=>(i.set(c.primary,c._data),o.set(c.primary,c),c._data));this._result={docsData:s,docsMap:o,docsDataMap:i,count:s.length,docs:a,time:mt()}},t._execOverDatabase=function(){return D(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=mt(),this.op==="count"){var r=this.getPreparedQuery(),i=yield this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw v("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=H(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(u=>{var d=this.collection._docCache.getLatestDocumentDataIfExists(u);if(d){if(!d._deleted){var f=this.collection._docCache.getCachedRxDocument(d);a.set(u,f)}}else s.push(u)}),s.length>0){var c=yield this.collection.storageInstance.findDocumentsById(s,!1);Object.values(c).forEach(u=>{var d=this.collection._docCache.getCachedRxDocument(u);a.set(d.primary,d)})}return a}var l=qv(this);return l.then(u=>(this._lastExecEnd=mt(),u))})},t.exec=function(r){if(r&&this.op!=="findOne")throw v("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return nm(this).then(()=>pu(this.$)).then(i=>{if(!i&&r)throw v("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var r=on({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r,cd);return this.toString=()=>i,i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:di(this.collection.schema.jsonSchema,this.mangoQuery)};St("prePrepareQuery",r);var i=this.collection.database.storage.statics.prepareQuery(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(i=>i.remove())):r.remove())},t.update=function(r){throw Z("update")},t.where=function(r){throw Z("query-builder")},t.sort=function(r){throw Z("query-builder")},t.skip=function(r){throw Z("query-builder")},t.limit=function(r){throw Z("query-builder")},te(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(it(r=>!r.isLocal),Ae(null),Hr(()=>nm(this)),Ut(()=>this._result),Wn(fo),qr((r,i)=>!!(r&&r.time===H(i).time)),it(r=>!!r),Ut(r=>{var i=H(r);return this.op==="count"?i.count:this.op==="findOne"?i.docs.length===0?null:i.docs[0]:this.op==="findByIds"?i.docsMap:i.docs.slice(0)}));this._$=Wr(n,this.refCount$.pipe(it(()=>!1)))}return this._$}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=di(this.collection.schema.jsonSchema,this.mangoQuery);return an(this,"queryMatcher",yn(n,r))}},{key:"asRxQuery",get:function(){return this}}]),e}();function fi(){return{selector:{}}}function Hv(e){return e.collection._queryCache.getByQuery(e)}function _n(e,t,n,r){St("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i=new pc(e,t,n,r);return i=Hv(i),rm(n),i}function im(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function nm(e){return e.collection.database.destroyed||im(e)?se:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>Wv(e)),e._ensureEqualQueue)}function Wv(e){if(e._lastEnsureEqual=mt(),e.collection.database.destroyed||im(e))return se;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=H(e._result).count,a=o;i.forEach(l=>{var u=l.previousDocumentData&&e.doesDocumentDataMatch(l.previousDocumentData),d=e.doesDocumentDataMatch(l.documentData);!u&&d&&a++,u&&!d&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=Jf(e,i);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}if(n){var c=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(l=>(e._latestChangeEvent=c,typeof l=="number"?((!e._result||l!==e._result.count)&&(t=!0,e._setResultData(l)),t):((!e._result||!Zu(e.collection.schema.primaryPath,l,e._result.docsData))&&(t=!0,e._setResultData(l)),t)))}return Promise.resolve(t)}function qv(e){return D(this,null,function*(){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(u=>{var d=e.collection._docCache.getLatestDocumentDataIfExists(u);return d?(d._deleted||t.push(d),!1):!0}),r.length>0){var i=yield n.storageInstance.findDocumentsById(r,!1);Object.values(i).forEach(u=>{t.push(u)})}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=yield n.storageInstance.findDocumentsById([o],!1);s.hasOwnProperty(o)&&(a=s[o])}a&&!a._deleted&&t.push(a)}else{var c=e.getPreparedQuery(),l=yield n.storageInstance.query(c);t=l.documents}return t})}function Yv(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var xn="collection",hc="storage-token",Qv="RxInternalDocument",Qo=go({version:0,title:Qv,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[xn,hc,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Xo(e,t){return ei(Qo,{key:e,context:t})}function Go(e,t){return D(this,null,function*(){var n=e.prepareQuery(t.schema,{selector:{context:xn},sort:[{id:"asc"}],skip:0}),r=yield t.query(n),i=r.documents;return i})}var om="storageToken",Yo=Xo(om,hc);function am(e){return D(this,null,function*(){var t=Ar(10),n=e.password?e.hashFunction(JSON.stringify(e.password)):void 0,r={id:Yo,context:hc,key:om,data:{token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:sr(),_rev:Ne(),_attachments:{}},i=yield e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(i.success[Yo])return i.success[Yo];var o=H(i.error[Yo]);if(o.isError&&o.status===409){var a=o;if(n&&n!==a.documentInDb.data.passwordHash)throw v("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return H(s)}throw o})}function gc(e,t){return e+"-"+t.version}function Zo(e,t){return t=G(t),t=hd(e,t),t=ho(e.primaryPath,e.jsonSchema,t),t._meta=sr(),t.hasOwnProperty("_deleted")||(t._deleted=!1),t.hasOwnProperty("_attachments")||(t._attachments={}),t.hasOwnProperty("_rev")||(t._rev=Ne()),t}function sm(e,t){return D(this,null,function*(){t.multiInstance=e.multiInstance;var n=yield e.storage.createStorageInstance(t);return n})}function Jo(e,t,n,r,i,o){return D(this,null,function*(){var a=yield Go(e.statics,t),s=a.filter(d=>d.data.name===i),c=[];s.forEach(d=>{c.push({collectionName:d.data.name,schema:d.data.schema,isCollection:!0}),d.data.connectedStorages.forEach(f=>c.push({collectionName:f.collectionName,isCollection:!1,schema:f.schema}))});var l=new Set;if(c=c.filter(d=>{var f=d.collectionName+"||"+d.schema.version;return l.has(f)?!1:(l.add(f),!0)}),yield Promise.all(c.map(d=>D(this,null,function*(){var f=yield e.createStorageInstance({collectionName:d.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:d.schema,devMode:Y.isDevMode()});yield f.remove(),d.isCollection&&(yield fr("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:i}))}))),o){var u=s.map(d=>{var f=bo(d);return f._deleted=!0,f._meta.lwt=mt(),f._rev=nn(n,d),{previous:d,document:f}});yield t.bulkWrite(u,"rx-database-remove-collection-all")}})}var cm=function(){function e(n,r,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s.documentByRevisionHeight.delete(o.revisionHeight),s.documentByRevisionHeight.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(o=>{var a=o.documentId,s=this.cacheItemByDocId.get(a);if(s){var c=po(o);s.latestDoc=c}})}var t=e.prototype;return t.getCachedRxDocument=function(r){var i=r[this.primaryPath],o=Xu(r._rev),a=Ht(this.cacheItemByDocId,i,()=>Xv(r)),s=a.documentByRevisionHeight.get(o),c=s?s.deref():void 0;return c||(r=Y.deepFreezeWhenDevMode(r),c=this.documentCreator(r),a.documentByRevisionHeight.set(o,Zv(c)),this.registry&&this.registry.register(c,{docId:i,revisionHeight:o})),c},t.getLatestDocumentData=function(r){var i=dr(this.cacheItemByDocId,r);return i.latestDoc},t.getLatestDocumentDataIfExists=function(r){var i=this.cacheItemByDocId.get(r);if(i)return i.latestDoc},e}();function Xv(e){return{documentByRevisionHeight:new Map,latestDoc:e}}var Gv=typeof WeakRef=="function";function Zv(e){return Gv?new WeakRef(e):{deref(){return e}}}var Jv=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(it(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var i=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(r,i){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(r){return r.slice(0);var i},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function lm(e){return new Jv(e)}var ty=new WeakMap;function ey(e){var t=e.schema.getDocumentPrototype(),n=ny(e),r=mr,i={};return[t,n,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var c=Object.getOwnPropertyDescriptor(o,s),l=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(l=!1),typeof c.value=="function"?Object.defineProperty(i,s,{get(){return c.value.bind(this)},enumerable:l,configurable:!1}):(c.enumerable=l,c.configurable=!1,c.writable&&(c.writable=!1),Object.defineProperty(i,s,c))})}),i}function ry(e){return Ht(ty,e,()=>yo(ey(e)))}function um(e,t){var n=Sd(ry(e),e,Y.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),St("postCreateRxDocument",n),n}function ny(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}var bc=function(e,t){return ur(e.newDocumentState,e.realMasterState)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};var fm=["pre","post"],mm=["insert","save","remove","create"],dm=!1,mi=function(){function e(n,r,i,o,a={},s={},c={},l={},u={},d=mc,f={},m=bc){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=em(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=c,this.attachments=l,this.options=u,this.cacheReplacementPolicy=d,this.statics=f,this.conflictHandler=m,iy(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){return D(this,null,function*(){this.storageInstance=vo(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Cd(this.storageInstance,this.schema.primaryPath,(a,s)=>Ps(this,a,s),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(it(a=>a.collectionName===this.name));this.$=r.pipe(Hr(a=>a.events)),this.checkpoint$=r.pipe(Ut(a=>a.checkpoint)),this._changeEventBuffer=lm(this.asRxCollection),this._docCache=new cm(this.schema.primaryPath,this.$.pipe(it(a=>!a.isLocal)),a=>um(this.asRxCollection,a));var i=yield this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(c=>xd(!1,c,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context};this.database.$emit(s)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),jt})},t.migrationNeeded=function(){throw Z("migration")},t.getDataMigrator=function(){throw Z("migration")},t.migrate=function(r=10){return this.getDataMigrator().migrate(r)},t.migratePromise=function(r=10){return this.getDataMigrator().migratePromise(r)},t.insert=function(r){return D(this,null,function*(){var i=yield this.bulkInsert([r]),o=i.error[0];ni(this,r[this.schema.primaryPath],r,o);var a=H(i.success[0]);return a})},t.bulkInsert=function(r){return D(this,null,function*(){if(r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=r.map(d=>{var f=Zo(this.schema,d);return f}),a=this.hasHooks("pre","insert")?yield Promise.all(o.map(d=>this._runHooks("pre","insert",d).then(()=>d))):o,s=new Map,c=a.map(d=>{s.set(d[i],d);var f={document:d};return f}),l=yield this.storageInstance.bulkWrite(c,"rx-collection-bulk-insert"),u=Object.values(l.success).map(d=>this._docCache.getCachedRxDocument(d));return this.hasHooks("post","insert")&&(yield Promise.all(u.map(d=>this._runHooks("post","insert",s.get(d.primary),d)))),{success:u,error:Object.values(l.error)}})},t.bulkRemove=function(r){return D(this,null,function*(){if(r.length===0)return{success:[],error:[]};var i=yield this.findByIds(r).exec(),o=[],a=new Map;Array.from(i.values()).forEach(d=>{var f=d.toMutableJSON(!0);o.push(f),a.set(d.primary,f)}),yield Promise.all(o.map(d=>{var f=d[this.schema.primaryPath];return this._runHooks("pre","remove",d,i.get(f))}));var s=o.map(d=>{var f=G(d);return f._deleted=!0,{previous:d,document:f}}),c=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-remove"),l=Object.keys(c.success);yield Promise.all(l.map(d=>this._runHooks("post","remove",a.get(d),i.get(d))));var u=l.map(d=>dr(i,d));return{success:u,error:Object.values(c.error)}})},t.bulkUpsert=function(r){return D(this,null,function*(){var i=[],o=new Map;r.forEach(l=>{var u=Zo(this.schema,l),d=u[this.schema.primaryPath];if(!d)throw v("COL3",{primaryPath:this.schema.primaryPath,data:u,schema:this.schema.jsonSchema});o.set(d,u),i.push(u)});var a=yield this.bulkInsert(i),s=a.success.slice(0),c=yield Promise.all(a.error.map(l=>D(this,null,function*(){if(l.status!==409)throw v("VD2",{collection:this.name,writeError:l});var u=l.documentId,d=dr(o,u),f=H(l.documentInDb),m=this._docCache.getCachedRxDocument(f),h=yield m.incrementalModify(()=>d);return h})));return ar(s,c),s})},t.upsert=function(r){return this.bulkUpsert([r]).then(i=>i[0])},t.incrementalUpsert=function(r){var i=Zo(this.schema,r),o=i[this.schema.primaryPath];if(!o)throw v("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=jt),a=a.then(()=>ay(this,o,i)).then(s=>s.inserted?s.doc:oy(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw v("COL5",{queryObj:r});r||(r=fi());var i=_n("find",r,this);return i},t.findOne=function(r){var i;if(typeof r=="string")i=_n("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=fi()),r.limit)throw v("QU6");r.limit=1,i=_n("findOne",r,this)}if(typeof r=="number"||Array.isArray(r))throw Ct("COL6",{queryObj:r});return i},t.count=function(r){r||(r=fi());var i=_n("count",r,this);return i},t.findByIds=function(r){var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=_n("findByIds",i,this);return o},t.exportJSON=function(){throw Z("json-dump")},t.importJSON=function(r){throw Z("json-dump")},t.insertCRDT=function(r){throw Z("crdt")},t.addHook=function(r,i,o,a=!1){if(typeof o!="function")throw Ct("COL7",{key:i,when:r});if(!fm.includes(r))throw Ct("COL8",{key:i,when:r});if(!mm.includes(i))throw v("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw v("COL10",{when:r,key:i,parallel:a});var s=o.bind(this),c=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][c].push(s)},t.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},t.hasHooks=function(r,i){var o=this.getHooks(r,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,i,o,a){var s=this.getHooks(r,i);if(!s)return jt;var c=s.series.map(l=>()=>l(o,a));return od(c).then(()=>Promise.all(s.parallel.map(l=>l(o,a))))},t._runHooksSync=function(r,i,o,a){var s=this.getHooks(r,i);s&&s.series.forEach(c=>c(o,a))},t.promiseWait=function(r){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?se:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],fr("postDestroyRxCollection",this).then(()=>!0))))},t.remove=function(){return D(this,null,function*(){yield this.destroy(),yield Jo(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.hashFunction)})},te(e,[{key:"insert$",get:function(){return this.$.pipe(it(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(it(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(it(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}]),e}();function iy(e){if(!dm){dm=!0;var t=Object.getPrototypeOf(e);mm.forEach(n=>{fm.map(r=>{var i=r+lo(n);t[i]=function(o,a){return this.addHook(r,n,o,a)}})})}}function oy(e,t){return e.incrementalModify(n=>t)}function ay(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(n).then(o=>({doc:o,inserted:!0})))}function pm({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:c={},options:l={},localDocuments:u=!1,cacheReplacementPolicy:d=mc,conflictHandler:f=bc}){var m={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:Y.isDevMode()};return St("preCreateRxStorageInstance",m),sm(e,m).then(h=>{var p=new mi(e,t,n,h,r,i,s,c,l,d,a,f);return p.prepare().then(()=>{Object.entries(a).forEach(([g,w])=>{Object.defineProperty(p,g,{get:()=>w.bind(p)})});var _=jt;return o&&p.schema.version!==0&&(_=p.migratePromise()),_}).then(()=>(St("createRxCollection",{collection:p,creator:{name:t,schema:n,storageInstance:h,instanceCreationOptions:r,migrationStrategies:i,methods:s,attachments:c,options:l,cacheReplacementPolicy:d,localDocuments:u,statics:a}}),p)).catch(_=>h.close().then(()=>Promise.reject(_)))})}var _c=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};_c.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,yc(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(s){return r=s}),o=function(){vc(n,i),r()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),yc(this),i},cancelIdlePromise:function(t){vc(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return vc(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function sy(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return yc(e)},0)}}function vc(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function yc(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}sy(e),e._tryIR=!1},0)},0))}var wn=function(){function e(t){this.ttl=t,this.map=new Map,this._to=!1}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.add=function(t){var n=this;this.map.set(t,hm()),this._to||(this._to=!0,setTimeout(function(){n._to=!1,cy(n)},0))},e.prototype.clear=function(){this.map.clear()},e}();function cy(e){for(var t=hm()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=r[0],o=r[1];if(o<t)e.map.delete(i);else return}}function hm(){return new Date().getTime()}var ta=new Set,gm=0,pi=function(){function e(n,r,i,o,a,s,c=!1,l={},u,d,f,m){this.idleQueue=new _c,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new V,this.observable$=this.eventBulks$.pipe(Hr(h=>h.events)),this.storageToken=se,this.storageTokenDocument=se,this.emittedEventBulkIds=new wn(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=c,this.options=l,this.internalStore=u,this.hashFunction=d,this.cleanupPolicy=f,this.allowSlowCount=m,gm++,this.name!=="pseudoInstance"&&(this.internalStore=vo(this.asRxDatabase,u,Qo),this.storageTokenDocument=am(this.asRxDatabase).catch(h=>this.startupErrors.push(h)),this.storageToken=this.storageTokenDocument.then(h=>h.data.token).catch(h=>this.startupErrors.push(h)))}var t=e.prototype;return t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=function(r,i){return D(this,null,function*(){var o=yield _d(this.internalStore,Xo(gc(r,i),xn));if(!o)throw v("SNH",{name:r,schema:i});var a=bo(o);a._deleted=!0,yield this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")})},t.addCollections=function(r){return D(this,null,function*(){var i={},o={},a=[],s={};Object.entries(r).forEach(([u,d])=>{var f=u,m=d.schema;i[f]=m;var h=Dd(m,this.hashFunction);if(o[f]=h,this.collections[u])throw v("DB3",{name:u});var p=gc(u,m),_={id:Xo(p,xn),key:p,context:xn,data:{name:f,schemaHash:h.hash,schema:h.jsonSchema,version:h.version,connectedStorages:[]},_deleted:!1,_meta:sr(),_rev:Ne(),_attachments:{}};a.push({document:_});var g=Object.assign({},d,{name:f,schema:h,database:this}),w=G(d);w.database=this,w.name=u,St("preCreateRxCollection",w),g.conflictHandler=w.conflictHandler,s[f]=g});var c=yield this.internalStore.bulkWrite(a,"rx-database-add-collection");yield dy(this),Object.entries(c.error).forEach(([u,d])=>{if(d.status!==409)throw v("DB12",{database:this.name,writeError:d});var f=H(d.documentInDb),m=f.data.name,h=o[m];if(f.data.schemaHash!==h.hash)throw v("DB6",{database:this.name,collection:m,previousSchemaHash:f.data.schemaHash,schemaHash:h.hash,previousSchema:f.data.schema,schema:H(i[m])})});var l={};return yield Promise.all(Object.keys(r).map(u=>D(this,null,function*(){var d=s[u],f=yield pm(d);l[u]=f,this.collections[u]=f,this[u]||Object.defineProperty(this,u,{get:()=>this.collections[u]})}))),l})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw Z("json-dump")},t.importJSON=function(r){throw Z("json-dump")},t.backup=function(r){throw Z("backup")},t.leaderElector=function(){throw Z("leader-election")},t.isLeader=function(){throw Z("leader-election")},t.waitForLeadership=function(){throw Z("leader-election")},t.migrationStates=function(){throw Z("migration")},t.destroy=function(){return D(this,null,function*(){return this.destroyed?se:(this.destroyed=!0,yield fr("preDestroyRxDatabase",this),this.eventBulks$.complete(),gm--,this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance"?se:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>ta.delete(this.name)).then(()=>!0))})},t.remove=function(){return this.destroy().then(()=>uy(this.name,this.storage))},te(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function ly(e){if(ta.has(e))throw v("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}function bm(e,t,n,r,i,o){return D(this,null,function*(){var a=yield t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:yd,schema:Qo,options:r,multiInstance:i,password:o,devMode:Y.isDevMode()});return a})}function vm({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i=!0,eventReduce:o=!1,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:c,allowSlowCount:l=!1,localDocuments:u=!1,hashFunction:d=kr}){St("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:u}),a||ly(n),ta.add(n);var f=Ar(10);return bm(f,e,n,t,i,r).catch(m=>{throw ta.delete(n),m}).then(m=>{var h=new pi(n,f,e,t,r,i,o,s,m,d,c,l);return fr("createRxDatabase",{database:h,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:u}}).then(()=>h)})}function uy(e,t){return D(this,null,function*(){var n=Ar(10),r=yield bm(n,t,e,{},!1),i=yield Go(t.statics,r),o=new Set;i.forEach(s=>o.add(s.data.name));var a=Array.from(o);return yield Promise.all(a.map(s=>Jo(t,r,n,e,s))),yield fr("postRemoveRxDatabase",{databaseName:e,storage:t}),yield r.remove(),a})}function dy(e){return D(this,null,function*(){if(yield e.storageToken,e.startupErrors[0])throw e.startupErrors[0]})}var fy={RxSchema:Ts.prototype,RxDocument:mr,RxQuery:pc.prototype,RxCollection:mi.prototype,RxDatabase:pi.prototype},xc=new Set,ym=new Set;function hi(e){if(St("preAddRxPlugin",{plugin:e,plugins:xc}),!xc.has(e)){{if(ym.has(e.name))throw v("PL3",{name:e.name,plugin:e});xc.add(e),ym.add(e.name)}if(!e.rxdb)throw Ct("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(fy[t])),e.overwritable&&Object.assign(Y,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&ln[t].push(n.after),n.before&&ln[t].unshift(n.before)})}}var _m={prepareQuery(e,t){if(!t.sort)throw v("SNH",{query:t});var n=pf(e,t);return{query:t,queryPlan:n}},checkpointSchema:gd};function wm(e){return e&&typeof e.then=="function"}var my=Promise.resolve(!1),Em=Promise.resolve(!0),Qt=Promise.resolve();function Oe(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function Cm(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ze(){return Math.random().toString(36).substring(2)}var xm=0,wc=0;function hr(){var e=new Date().getTime();return e===xm?(wc++,e*1e3+wc):(xm=e,wc=0,e*1e3)}var py=hr,hy="native";function gy(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function by(e){e.bc.close(),e.subFns=[]}function vy(e,t){try{return e.bc.postMessage(t,!1),Qt}catch(n){return Promise.reject(n)}}function yy(e,t){e.messagesCallback=t}function _y(){if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function xy(){return 150}var Sm={create:gy,close:by,onMessage:yy,postMessage:vy,canBeUsed:_y,type:hy,averageResponseTime:xy,microSeconds:py};function En(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var wy=hr,Ey="pubkey.broadcast-channel-0-",Ue="messages",ea={durability:"relaxed"},Cy="idb";function Om(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Ec(e){e.commit&&e.commit()}function Sy(e){var t=Om(),n=Ey+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(Ue,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function Oy(e,t,n){var r=new Date().getTime(),i={uuid:t,time:r,data:n},o=e.transaction([Ue],"readwrite",ea);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(l){return s(l)};var c=o.objectStore(Ue);c.add(i),Ec(o)})}function Dy(e,t){var n=e.transaction(Ue,"readonly",ea),r=n.objectStore(Ue),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(c,l){a.onerror=function(u){return l(u)},a.onsuccess=function(u){c(u.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(c,l){var u=s();u.onerror=function(d){return l(d)},u.onsuccess=function(d){var f=d.target.result;f?f.value.id<t+1?f.continue(t+1):(i.push(f.value),f.continue()):(Ec(n),c(i))}})}function Ry(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(Ue,"readwrite",ea),r=n.objectStore(Ue);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function ky(e,t){var n=new Date().getTime()-t,r=e.transaction(Ue,"readonly",ea),i=r.objectStore(Ue),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var c=s.target.result;if(c){var l=c.value;l.time<n?(o.push(l),c.continue()):(Ec(r),a(o))}else a(o)}})}function Ay(e){return ky(e.db,e.options.idb.ttl).then(function(t){return Ry(e,t.map(function(n){return n.id}))})}function Iy(e,t){return t=En(t),Sy(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:ze(),eMIs:new wn(t.idb.ttl*2),writeBlockPromise:Qt,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Dm(r),r})}function Dm(e){e.closed||Rm(e).then(function(){return Oe(e.options.idb.fallbackInterval)}).then(function(){return Dm(e)})}function Py(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Rm(e){return e.closed?Qt:e.messagesCallback?Dy(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return Py(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Qt}):Qt}function Ty(e){e.closed=!0,e.db.close()}function My(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return Oy(e.db,e.uuid,t)}).then(function(){Cm(0,10)===0&&Ay(e)}),e.writeBlockPromise}function $y(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Rm(e)}function Ny(){return!!Om()}function By(e){return e.idb.fallbackInterval*2}var km={create:Iy,close:Ty,onMessage:$y,postMessage:My,canBeUsed:Ny,type:Cy,averageResponseTime:By,microSeconds:wy};var Fy=hr,Ly="pubkey.broadcastChannel-",jy="localstorage";function Am(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Im(e){return Ly+e}function Vy(e,t){return new Promise(function(n){Oe().then(function(){var r=Im(e.channelName),i={token:ze(),time:new Date().getTime(),data:t,uuid:e.uuid},o=JSON.stringify(i);Am().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function zy(e,t){var n=Im(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function Uy(e){window.removeEventListener("storage",e)}function Ky(e,t){if(t=En(t),!Pm())throw new Error("BroadcastChannel: localstorage cannot be used");var n=ze(),r=new wn(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=zy(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function Hy(e){Uy(e.listener)}function Wy(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Pm(){var e=Am();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function qy(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var Tm={create:Ky,close:Hy,onMessage:Wy,postMessage:Vy,canBeUsed:Pm,type:jy,averageResponseTime:qy,microSeconds:Fy};var Yy=hr,Qy="simulate",Cc=new Set;function Xy(e){var t={name:e,messagesCallback:null};return Cc.add(t),t}function Gy(e){Cc.delete(e)}function Zy(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(Cc);r.filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})}function Jy(e,t){e.messagesCallback=t}function t_(){return!0}function e_(){return 5}var Mm={create:Xy,close:Gy,onMessage:Jy,postMessage:Zy,canBeUsed:t_,type:Qy,averageResponseTime:e_,microSeconds:Yy};var $m=[Sm,km,Tm];function Nm(e){var t=[].concat(e.methods,$m).filter(Boolean);if(e.type){if(e.type==="simulate")return Mm;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify($m.map(function(i){return i.type})))}var Sc=new Set,r_=0,gi=function(t,n){this.id=r_++,Sc.add(this),this.name=t,Bm&&(n=Bm),this.options=En(n),this.method=Nm(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,n_(this)};gi._pubkey=!0;var Bm;gi.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Fm(this,"message",t)},postInternal:function(t){return Fm(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};jm(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Lm(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};Lm(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});jm(this,t,r)},close:function(){var t=this;if(!this.closed){Sc.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Qt;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Fm(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:Qt;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function n_(e){var t=e.method.create(e.name,e.options);wm(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function Vm(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Lm(e,t,n){e._addEL[t].push(n),i_(e)}function jm(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),o_(e)}function i_(e){if(!e._iL&&Vm(e)){var t=function(i){e._addEL[i.type].forEach(function(o){var a=1e5,s=o.time-a;i.time>=s&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function o_(e){if(e._iL&&!Vm(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function zm(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function Um(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var a_=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",s_=a_?Um:zm,bi=new Set,Km=!1;function c_(){Km||(Km=!0,s_(l_))}function Hm(e){if(c_(),typeof e!="function")throw new Error("Listener is no function");bi.add(e);var t={remove:function(){return bi.delete(e)},run:function(){return bi.delete(e),e()}};return t}function l_(){var e=[];return bi.forEach(function(t){e.push(t()),bi.delete(t)}),Promise.all(e)}function Ke(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function vi(e){e.isLeader=!0,e._hasLeader=!0;var t=Hm(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&Ke(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),Ke(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Ke(e,"tell")}var Wm=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=ze(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};Wm.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,vi(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Ke(this,"death")}};var u_=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=ze(),this._aplQ=Qt,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};u_.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return Oe(0,!0);if(this.isDead)return Oe(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return Em;var o=!1,a,s=new Promise(function(u){a=function(){o=!0,u()}}),c=function(d){d.context==="leader"&&d.token!=n.token&&(d.action==="apply"&&d.token>n.token&&a(),d.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",c);var l=t?n._options.responseTime*4:n._options.responseTime;return Ke(n,"apply").then(function(){return Promise.race([Oe(l),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return Ke(n,"apply")}).then(function(){return Promise.race([Oe(l),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",c),o?!1:vi(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=d_(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Ke(this,"death")}};function d_(e){return e.isLeader?Qt:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function a(){return Oe(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():a()})})};i();var o=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}var ra=new Map;function f_(e,t,n){var r=ra.get(e);return r||(r={bc:new gi("RxDB:"+t),refs:new Set},ra.set(e,r)),r.refs.add(n),r.bc}function qm(e,t){var n=ra.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return ra.delete(e),n.bc.close()}function Ym(e,t,n,r){if(t.multiInstance){var i=r||f_(t.databaseInstanceToken,n.databaseName,n),o=new V,a=f=>{f.storageName===e&&f.databaseName===t.databaseName&&f.collectionName===t.collectionName&&f.version===t.schema.version&&o.next(f.eventBulk)};i.addEventListener("message",a);var s=n.changeStream(),c=!1,l=s.subscribe(f=>{c||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:f})});n.changeStream=function(){return o.asObservable().pipe(gu(s))};var u=n.close.bind(n);n.close=function(){return D(this,null,function*(){return c=!0,l.unsubscribe(),i.removeEventListener("message",a),r||(yield qm(t.databaseInstanceToken,n)),u()})};var d=n.remove.bind(n);n.remove=function(){return D(this,null,function*(){return c=!0,l.unsubscribe(),i.removeEventListener("message",a),r||(yield qm(t.databaseInstanceToken,n)),d()})}}}function Oc(e){var t=e.collection.schema.jsonSchema;if(!t.attachments)throw v("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var m_=function(e){Object.entries(e.doc.collection.attachments).forEach(([t,n])=>{Object.defineProperty(e,t,{get:()=>n.bind(e)})})},p_=function(){function e({doc:n,id:r,type:i,length:o,digest:a}){this.doc=n,this.id=r,this.type=i,this.length=o,this.digest=a,m_(this)}var t=e.prototype;return t.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,r=>(delete r._attachments[this.id],r)).then(()=>{})},t.getData=function(){return D(this,null,function*(){var r=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),i=yield Wu(r,this.type);return i})},t.getStringData=function(){return D(this,null,function*(){var r=yield this.getData(),i=yield qu(r);return i})},e}();function na(e,t,n){return new p_({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function h_(e){return D(this,null,function*(){Oc(this);var t=Qu(e.data),n=yield Yu(e.data),r=e.id,i=e.type,o=n;return this.collection.incrementalWriteQueue.addWrite(this._data,a=>(a._attachments=G(a._attachments),a._attachments[r]={length:t,type:i,data:o},a)).then(a=>{var s=this.collection._docCache.getCachedRxDocument(a),c=a._attachments[r],l=na(r,c,s);return l})})}function g_(e){Oc(this);var t=this._data;if(!t._attachments||!t._attachments[e])return null;var n=t._attachments[e],r=na(e,n,this);return r}function b_(){Oc(this);var e=this._data;return e._attachments?Object.keys(e._attachments).map(t=>na(t,e._attachments[t],this)):[]}function v_(e){return D(this,null,function*(){var t=e.docData._attachments;if(t){var n={};yield Promise.all(Object.keys(t).map(r=>D(this,null,function*(){var i=t[r],o=e.docData[e.oldCollection.schema.primaryPath],a=yield e.oldCollection.storageInstance.getAttachmentData(o,r,i.digest);n[r]={length:i.length,type:i.type,data:a}}))),e.docData._attachments=n}})}function y_(e){return jt}var Qm={name:"attachments",rxdb:!0,prototypes:{RxDocument:e=>{e.putAttachment=h_,e.getAttachment=g_,e.allAttachments=b_,Object.defineProperty(e,"allAttachments$",{get:function(){return this.$.pipe(Ut(n=>Object.entries(n.toJSON(!0)._attachments)),Ut(n=>n.map(([r,i])=>na(r,i,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:v_},postMigrateDocument:{after:y_}}};var Dc={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB8:`RxDatabase.create(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_P2P_PEER:"RxReplication P2P Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",DXE1:"The dexie.js RxStorage does not support boolean indexes, see https://rxdb.info/rx-storage-dexie.html#boolean-index",SNH:"This should never happen"};var Rc;function Xm(){if(!Rc){var e=new mi,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Rc=[...t,...n]}return Rc}var kc;function Gm(){if(!kc){var e=new pi("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));kc=[...t,...n],e.destroy()}return kc}var __=yo(mr),x_=new __,Ac;function ia(){if(!Ac){var e=["deleted","synced"],t=Object.getOwnPropertyNames(x_),n=Object.getOwnPropertyNames(mr);Ac=[...t,...n,...e]}return Ac}function w_(e){if(e!=="_deleted"){if(["properties"].includes(e))throw v("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if(e!=="_id"&&!e.match(n))throw v("SC1",{regex:t,fieldName:e})}}function E_(e){var t=Ot(e.primaryKey);function n(i,o,a){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&w_(i),o.hasOwnProperty("item")&&o.type!=="array")throw v("SC2",{fieldName:i});if(o.hasOwnProperty("required")&&typeof o.required=="boolean")throw v("SC24",{fieldName:i});if(o.hasOwnProperty("ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw v("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw v("SC3",{fieldName:i});break;default:throw v("SC4",{fieldName:i})}var s=a.split(".").length>=2;if(s){if(o.primary)throw v("SC6",{path:a,primary:o.primary});if(o.default)throw v("SC7",{path:a})}if(!s){if(i==="_id"&&t!=="_id")throw v("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw v("SC8",{fieldName:i})}}}function r(i,o){!i||typeof i!="object"||Object.keys(i).forEach(a=>{var s=i[a];!i.properties&&s&&typeof s=="object"&&!Array.isArray(i)&&n(a,s,o);var c=o;a!=="properties"&&(c=c+"."+a),r(s,c)})}return r(e,""),!0}function C_(e){if(!e.primaryKey)throw v("SC30",{schema:e});function t(c){if(!c)throw v("SC33",{schema:e});var l=c.type;if(!l||!["string","number","integer"].includes(l))throw v("SC32",{schema:e,args:{schemaPart:c}})}if(typeof e.primaryKey=="string"){var n=e.primaryKey,r=e.properties[n];t(r)}else{var i=e.primaryKey,o=ue(e,i.key);t(o),i.fields.forEach(c=>{var l=ue(e,c);t(l)})}var a=Ot(e.primaryKey),s=e.properties[a];if(!s.maxLength)throw v("SC39",{schema:e,args:{primaryPathSchemaPart:s}})}function Zm(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)t[r]!=="[]"?n=n.concat(".properties.".concat(t[r])):n=n.concat(".items");return lr(n)}function Jm(e){if(!e.primaryKey)throw v("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw v("SC29",{schema:e});if(e.properties._rev)throw v("SC10",{schema:e});if(!e.hasOwnProperty("version")||typeof e.version!="number"||e.version<0)throw v("SC11",{version:e.version});if(E_(e),C_(e),Object.keys(e.properties).forEach(t=>{var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw v("SC13",{value:n,schema:e});if(n.unique)throw v("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw v("SC15",{value:n,schema:e});if(n.type!=="string")throw v("SC16",{value:n,schema:e})}if(ia().includes(t))throw v("SC17",{key:t,schema:e})}),e.indexes){if(!we(e.indexes))throw v("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw v("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var n=0;n<t.length;n+=1)if(typeof t[n]!="string")throw v("SC20",{index:t,schema:e})}var r=we(t)?t:[t];r.forEach(i=>{var o=ue(e,i),a=o.type;switch(a){case"string":var s=o.maxLength;if(!s)throw v("SC34",{index:t,field:i,schema:e});break;case"number":case"integer":var c=o.multipleOf;if(!c)throw v("SC35",{index:t,field:i,schema:e});var l=o.maximum,u=o.minimum;if(typeof l>"u"||typeof u>"u")throw v("SC37",{index:t,field:i,schema:e});break;case"boolean":var d="",f=i;if(i.includes(".")){var m=i.split(".");f=m.pop(),d=m.join(".")}var h=d===""?e:ue(e,d);if(!h.required||!h.required.includes(f))throw v("SC38",{index:t,field:i,schema:e});break;default:throw v("SC36",{fieldName:i,type:o.type,schema:e})}})})}Object.keys(uo(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!=="").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=ce(e,t);return n&&!!n.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),v("SC26",{index:lr(t),schema:e})}),(e.indexes||[]).reduce((t,n)=>(we(n)?ar(t,n):t.push(n),t),[]).filter((t,n,r)=>r.indexOf(t)===n).map(t=>{var n=Zm(t),r=ce(e,n);if(!r||typeof r!="object")throw v("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw v("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(uo(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=ce(e,t);return n&&!!n.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),v("SC27",{index:lr(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var n=Zm(t),r=ce(e,n);if(!r||typeof r!="object")throw v("SC28",{field:t,schema:e})})}function oa(e){e&&Object.entries(e).forEach(([t,n])=>{if(typeof t!="string")throw Ct("COL14",{name:t});if(t.startsWith("_"))throw Ct("COL15",{name:t});if(typeof n!="function")throw Ct("COL16",{name:t,type:typeof t});if(Xm().includes(t)||ia().includes(t))throw v("COL17",{name:t})})}function tp(e,t){var n=Object.keys(e.properties);t&&Object.keys(t).filter(r=>n.includes(r)).forEach(r=>{throw v("COL18",{funName:r})})}function ep(e,t){if(typeof t!="object"||Array.isArray(t))throw Ct("COL11",{schema:e});var n=Od(e);if(n.length!==Object.keys(t).length)throw v("COL12",{have:Object.keys(t),should:n});return n.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw Ct("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function rp(e){if(Gm().includes(e.name))throw v("DB5",{name:e.name});op(e.name)}function np(e){if(op(e.name),e.name.includes("$"))throw v("DB13",{name:e.name});if(_s(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw v("DB11",{name:e.name})}var ip="^[a-z][_$a-z0-9\\-]*$",S_=new RegExp(ip);function op(e){if(typeof e!="string"||e.length===0)throw Ct("UT1",{name:e});if(_s(e))return!0;if(!e.match(S_)&&e!==":memory:")throw v("UT2",{regex:ip,givenName:e});return!0}var nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ht=Object.keys,Pt=Array.isArray;typeof Promise<"u"&&!nt.Promise&&(nt.Promise=Promise);function Lt(e,t){return typeof t!="object"||ht(t).forEach(function(n){e[n]=t[n]}),e}var Rn=Object.getPrototypeOf,O_={}.hasOwnProperty;function ne(e,t){return O_.call(e,t)}function kn(e,t){typeof t=="function"&&(t=t(Rn(e))),(typeof Reflect>"u"?ht:Reflect.ownKeys)(t).forEach(n=>{Xe(e,n,t[n])})}var vp=Object.defineProperty;function Xe(e,t,n,r){vp(e,t,Lt(n&&ne(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function In(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Xe(e.prototype,"constructor",e),{extend:kn.bind(null,e.prototype)}}}}var D_=Object.getOwnPropertyDescriptor;function dl(e,t){let n=D_(e,t),r;return n||(r=Rn(e))&&dl(r,t)}var R_=[].slice;function Da(e,t,n){return R_.call(e,t,n)}function yp(e,t){return t(e)}function yi(e){if(!e)throw new Error("Assertion Failed")}function _p(e){nt.setImmediate?setImmediate(e):setTimeout(e,0)}function xp(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function k_(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function Qe(e,t){if(ne(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=Qe(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:Qe(s,t.substr(a+1))}}function me(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){yi(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)me(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")n===void 0?Pt(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var c=e[a];(!c||!ne(e,a))&&(c=e[a]={}),me(c,s,n)}}else n===void 0?Pt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function A_(e,t){typeof t=="string"?me(e,t,void 0):"length"in t&&[].map.call(t,function(n){me(e,n,void 0)})}function wp(e){var t={};for(var n in e)ne(e,n)&&(t[n]=e[n]);return t}var I_=[].concat;function Ep(e){return I_.apply([],e)}var Cp="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ep([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>nt[e]),P_=Cp.map(e=>nt[e]);xp(Cp,e=>[e,!0]);var br=null;function Ai(e){br=typeof WeakMap<"u"&&new WeakMap;let t=Bc(e);return br=null,t}function Bc(e){if(!e||typeof e!="object")return e;let t=br&&br.get(e);if(t)return t;if(Pt(e)){t=[],br&&br.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Bc(e[n]))}else if(P_.indexOf(e.constructor)>=0)t=e;else{let o=Rn(e);t=o===Object.prototype?{}:Object.create(o),br&&br.set(e,t);for(var i in e)ne(e,i)&&(t[i]=Bc(e[i]))}return t}var{toString:T_}={};function Fc(e){return T_.call(e).slice(8,-1)}var Lc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",M_=typeof Lc=="symbol"?function(e){var t;return e!=null&&(t=e[Lc])&&t.apply(e)}:function(){return null},On={};function qe(e){var t,n,r,i;if(arguments.length===1){if(Pt(e))return e.slice();if(this===On&&typeof e=="string")return[e];if(i=M_(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var fl=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1,Re=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Sp(e,t){Re=e,Op=t}var Op=()=>!0,$_=!new Error("").stack;function Lr(){if($_)try{throw Lr.arguments,new Error}catch(e){return e}return new Error}function jc(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Op).map(r=>`
`+r).join("")):""}var N_=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Dp=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ml=N_.concat(Dp),B_={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pn(e,t){this._e=Lr(),this.name=e,this.message=t}In(Pn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+jc(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Rp(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function ba(e,t,n,r){this._e=Lr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Rp(e,t)}In(ba).from(Pn);function xi(e,t){this._e=Lr(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Rp(e,t)}In(xi).from(Pn);var pl=ml.reduce((e,t)=>(e[t]=t+"Error",e),{}),F_=Pn,M=ml.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=Lr(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=B_[t]||n,this.inner=null)}return In(r).from(F_),e[t]=r,e},{});M.Syntax=SyntaxError;M.Type=TypeError;M.Range=RangeError;var ap=Dp.reduce((e,t)=>(e[t+"Error"]=M[t],e),{});function L_(e,t){if(!e||e instanceof Pn||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ap[e.name])return e;var n=new ap[e.name](t||e.message,e);return"stack"in e&&Xe(n,"stack",{get:function(){return this.inner.stack}}),n}var Ra=ml.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=M[t]),e),{});Ra.ModifyError=ba;Ra.DexieError=Pn;Ra.BulkError=xi;function et(){}function Ii(e){return e}function j_(e,t){return e==null||e===Ii?t:function(n){return t(e(n))}}function Br(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function V_(e,t){return e===et?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Br(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Br(i,this.onerror):i),o!==void 0?o:n}}function z_(e,t){return e===et?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Br(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Br(r,this.onerror):r)}}function U_(e,t){return e===et?t:function(n){var r=e.apply(this,arguments);Lt(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Br(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Br(o,this.onerror):o),r===void 0?a===void 0?void 0:a:Lt(r,a)}}function K_(e,t){return e===et?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function hl(e,t){return e===et?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var Ci={},H_=100,W_=20,kp=100,[Vc,va,zc]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Rn(e),e];let t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Rn(t),e]})(),Ap=va&&va.then,da=Vc&&Vc.constructor,gl=!!zc,Uc=!1,q_=zc?()=>{zc.then(aa)}:nt.setImmediate?setImmediate.bind(null,aa):nt.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{aa(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(aa,0)},Si=function(e,t){_i.push([e,t]),ya&&(q_(),ya=!1)},Kc=!0,ya=!0,$r=[],fa=[],Hc=null,Wc=Ii,Dn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:lp,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{lp(e[0],e[1])}catch{}})}},T=Dn,_i=[],Nr=0,ma=[];function A(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=et,this._lib=!1;var t=this._PSD=T;if(Re&&(this._stackHolder=Lr(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Ci)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Yc(this,this._value);return}this._state=null,this._value=null,++t.ref,Pp(this,e)}var qc={get:function(){var e=T,t=_a;function n(r,i){var o=!e.global&&(e!==T||t!==_a);let a=o&&!Ge();var s=new A((c,l)=>{bl(this,new Ip(wa(r,e,o,a),wa(i,e,o,a),c,l,e))});return Re&&$p(s,this),s}return n.prototype=Ci,n},set:function(e){Xe(this,"then",e&&e.prototype===Ci?qc:{get:function(){return e},set:qc.set})}};kn(A.prototype,{then:qc,_then:function(e,t){bl(this,new Ip(null,null,e,t,T))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):pa(r)):this.then(null,r=>r&&r.name===t?n(r):pa(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),pa(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Uc=!0;var e=Mp(this,[],W_),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Uc=!1}}},timeout:function(e,t){return e<1/0?new A((n,r)=>{var i=setTimeout(()=>r(new M.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Xe(A.prototype,Symbol.toStringTag,"Dexie.Promise");Dn.env=Np();function Ip(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}kn(A,{all:function(){var e=qe.apply(null,arguments).map(xa);return new A(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>A.resolve(i).then(a=>{e[o]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof A)return e;if(e&&typeof e.then=="function")return new A((n,r)=>{e.then(n,r)});var t=new A(Ci,!0,e);return $p(t,Hc),t},reject:pa,race:function(){var e=qe.apply(null,arguments).map(xa);return new A((t,n)=>{e.map(r=>A.resolve(r).then(t,n))})},PSD:{get:()=>T,set:e=>T=e},totalEchoes:{get:()=>_a},newPSD:yr,usePSD:Mn,scheduler:{get:()=>Si,set:e=>{Si=e}},rejectionMapper:{get:()=>Wc,set:e=>{Wc=e}},follow:(e,t)=>new A((n,r)=>yr((i,o)=>{var a=T;a.unhandleds=[],a.onunhandled=o,a.finalize=Br(function(){Q_(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,n,r))});da&&(da.allSettled&&Xe(A,"allSettled",function(){let e=qe.apply(null,arguments).map(xa);return new A(t=>{e.length===0&&t([]);let n=e.length,r=new Array(n);e.forEach((i,o)=>A.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),da.any&&typeof AggregateError<"u"&&Xe(A,"any",function(){let e=qe.apply(null,arguments).map(xa);return new A((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length,i=new Array(r);e.forEach((o,a)=>A.resolve(o).then(s=>t(s),s=>{i[a]=s,--r||n(new AggregateError(i))}))})}));function Pp(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Pi();n&&typeof n.then=="function"?Pp(e,(i,o)=>{n instanceof A?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Tp(e)),r&&Ti()}},Yc.bind(null,e))}catch(n){Yc(e,n)}}function Yc(e,t){if(fa.push(t),e._state===null){var n=e._lib&&Pi();t=Wc(t),e._state=!1,e._value=t,Re&&t!==null&&typeof t=="object"&&!t._promise&&k_(()=>{var r=dl(t,"stack");t._promise=e,Xe(t,"stack",{get:()=>Uc?r&&(r.get?r.get.apply(t):r.value):e.stack})}),X_(e),Tp(e),n&&Ti()}}function Tp(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)bl(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Nr===0&&(++Nr,Si(()=>{--Nr===0&&vl()},[]))}function bl(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Nr,Si(Y_,[n,e,t])}function Y_(e,t,n){try{Hc=t;var r,i=t._value;t._state?r=e(i):(fa.length&&(fa=[]),r=e(i),fa.indexOf(i)===-1&&G_(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Hc=null,--Nr===0&&vl(),--n.psd.ref||n.psd.finalize()}}function Mp(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=jc(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return Re&&(r=jc(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&Mp(e._prev,t,n)),t}function $p(e,t){var n=t?t._numPrev+1:0;n<H_&&(e._prev=t,e._numPrev=n)}function aa(){Pi()&&Ti()}function Pi(){var e=Kc;return Kc=!1,ya=!1,e}function Ti(){var e,t,n;do for(;_i.length>0;)for(e=_i,_i=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(_i.length>0);Kc=!0,ya=!0}function vl(){var e=$r;$r=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=ma.slice(0),n=t.length;n;)t[--n]()}function Q_(e){function t(){e(),ma.splice(ma.indexOf(t),1)}ma.push(t),++Nr,Si(()=>{--Nr===0&&vl()},[])}function X_(e){$r.some(t=>t._value===e._value)||$r.push(e)}function G_(e){for(var t=$r.length;t;)if($r[--t]._value===e._value){$r.splice(t,1);return}}function pa(e){return new A(Ci,!1,e)}function ot(e,t){var n=T;return function(){var r=Pi(),i=T;try{return _r(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{_r(i,!1),r&&Ti()}}}var It={awaits:0,echoes:0,id:0},Z_=0,ha=[],Ic=0,_a=0,J_=0;function yr(e,t,n,r){var i=T,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++J_;var a=Dn.env;o.env=gl?{Promise:A,PromiseProp:{value:A,configurable:!0,writable:!0},all:A.all,race:A.race,allSettled:A.allSettled,any:A.any,resolve:A.resolve,reject:A.reject,nthen:sp(a.nthen,o),gthen:sp(a.gthen,o)}:{},t&&Lt(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Mn(o,e,n,r);return o.ref===0&&o.finalize(),s}function Tn(){return It.id||(It.id=++Z_),++It.awaits,It.echoes+=kp,It.id}function Ge(){return It.awaits?(--It.awaits===0&&(It.id=0),It.echoes=It.awaits*kp,!0):!1}(""+Ap).indexOf("[native code]")===-1&&(Tn=Ge=et);function xa(e){return It.echoes&&e&&e.constructor===da?(Tn(),e.then(t=>(Ge(),t),t=>(Ge(),_t(t)))):e}function tx(e){++_a,(!It.echoes||--It.echoes===0)&&(It.echoes=It.id=0),ha.push(T),_r(e,!0)}function ex(){var e=ha[ha.length-1];ha.pop(),_r(e,!1)}function _r(e,t){var n=T;if((t?It.echoes&&(!Ic++||e!==T):Ic&&(!--Ic||e!==T))&&Bp(t?tx.bind(null,e):ex),e!==T&&(T=e,n===Dn&&(Dn.env=Np()),gl)){var r=Dn.env.Promise,i=e.env;va.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(nt,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Np(){var e=nt.Promise;return gl?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(nt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:va.then,gthen:e.prototype.then}:{}}function Mn(e,t,n,r,i){var o=T;try{return _r(e,!0),t(n,r,i)}finally{_r(o,!1)}}function Bp(e){Ap.call(Vc,e)}function wa(e,t,n,r){return typeof e!="function"?e:function(){var i=T;n&&Tn(),_r(t,!0);try{return e.apply(this,arguments)}finally{_r(i,!1),r&&Bp(Ge)}}}function sp(e,t){return function(n,r){return e.call(this,wa(n,t),wa(r,t))}}var cp="unhandledrejection";function lp(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(nt.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(cp,!0,!0),Lt(r,i)):nt.CustomEvent&&(r=new CustomEvent(cp,{detail:i}),Lt(r,i)),r&&nt.dispatchEvent&&(dispatchEvent(r),!nt.PromiseRejectionEvent&&nt.onunhandledrejection))try{nt.onunhandledrejection(r)}catch{}Re&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var _t=A.reject;function Qc(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!T.letThrough&&!e._vip){if(e._state.openComplete)return _t(new M.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return _t(new M.DatabaseClosed);e.open().catch(et)}return e._state.dbReadyPromise.then(()=>Qc(e,t,n,r))}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===pl.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Qc(e,t,n,r))):_t(o)}return i._promise(t,(o,a)=>yr(()=>(T.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}}var up="4.0.0-alpha.4",Mr=String.fromCharCode(65535),Xc=-1/0,He="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Fp="String expected.",wi=[],ka=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),rx=ka,nx=ka,Lp=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Aa="__dbnames",Pc="readonly",Tc="readwrite";function Fr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var jp={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function sa(e){return typeof e=="string"&&!/\./.test(e)?t=>(t[e]===void 0&&e in t&&(t=Ai(t),delete t[e]),t):t=>t}function ix(){throw M.Type()}var Gc=class{_trans(t,n,r){let i=this._tx||T.trans,o=this.name;function a(c,l,u){if(!u.schema[o])throw new M.NotFound("Table "+o+" not part of transaction");return n(u.idbtrans,u)}let s=Pi();try{return i&&i.db===this.db?i===T.trans?i._promise(t,a,r):yr(()=>i._promise(t,a,r),{trans:i,transless:T.transless||T}):Qc(this.db,t,[this.name],a)}finally{s&&Ti()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Pt(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);let n=ht(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);let r=this.schema.indexes.concat(this.schema.primKey).filter(l=>l.compound&&n.every(u=>l.keyPath.indexOf(u)>=0)&&l.keyPath.every(u=>n.indexOf(u)>=0))[0];if(r&&this.db._maxKey!==Mr)return this.where(r.name).equals(r.keyPath.map(l=>t[l]));!r&&Re&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);let{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(l,u){try{return o.cmp(l,u)===0}catch{return!1}}let[s,c]=n.reduce(([l,u],d)=>{let f=i[d],m=t[d];return[l||f,l||!f?Fr(u,f&&f.multi?h=>{let p=Qe(h,d);return Pt(p)&&p.some(_=>a(m,_))}:h=>a(m,Qe(h,d))):u]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Pt(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){let{db:n,name:r}=this;this.schema.mappedClass=t,t.prototype instanceof ix&&(t=class extends t{get db(){return n}table(){return r}});let i=new Set;for(let a=t.prototype;a;a=Rn(a))Object.getOwnPropertyNames(a).forEach(s=>i.add(s));let o=a=>{if(!a)return a;let s=Object.create(t.prototype);for(let c in a)if(!i.has(c))try{s[c]=a[c]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t}defineClass(){function t(n){Lt(this,n)}return this.mapToClass(t)}add(t,n){let{auto:r,keyPath:i}=this.schema.primKey,o=t;return i&&r&&(o=sa(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?A.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{me(t,i,a)}catch{}return a})}update(t,n){if(typeof t=="object"&&!Pt(t)){let r=Qe(t,this.schema.primKey.keyPath);if(r===void 0)return _t(new M.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ht(n).forEach(i=>{me(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)}put(t,n){let{auto:r,keyPath:i}=this.schema.primKey,o=t;return i&&r&&(o=sa(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?A.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{me(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?A.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:jp})).then(t=>t.numFailures?A.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){let i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);let o=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:s,keyPath:c}=this.schema.primKey;if(c&&i)throw new M.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new M.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,u=c&&s?t.map(sa(c)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:u,wantResults:o}).then(({numFailures:d,results:f,lastResult:m,failures:h})=>{let p=o?f:m;if(d===0)return p;throw new xi(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,h)})})}bulkPut(t,n,r){let i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);let o=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:s,keyPath:c}=this.schema.primKey;if(c&&i)throw new M.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new M.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,u=c&&s?t.map(sa(c)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:u,wantResults:o}).then(({numFailures:d,results:f,lastResult:m,failures:h})=>{let p=o?f:m;if(d===0)return p;throw new xi(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,h)})})}bulkDelete(t){let n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new xi(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}};function Mi(e){var t={},n=function(s,c){if(c){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return t[s].subscribe.apply(null,u),e}else if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,c,l){if(typeof s=="object")return a(s);c||(c=K_),l||(l=et);var u={subscribers:[],fire:l,subscribe:function(d){u.subscribers.indexOf(d)===-1&&(u.subscribers.push(d),u.fire=c(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(f){return f!==d}),u.fire=u.subscribers.reduce(c,l)}};return t[s]=n[s]=u,u}function a(s){ht(s).forEach(function(c){var l=s[c];if(Pt(l))o(c,s[c][0],s[c][1]);else if(l==="asap")var u=o(c,Ii,function(){for(var f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];u.subscribers.forEach(function(h){_p(function(){h.apply(null,m)})})});else throw new M.InvalidArgument("Invalid event config")})}}function $i(e,t){return In(t).from({prototype:e}),t}function ox(e){return $i(Gc.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:Mi(null,{creating:[V_,et],reading:[j_,Ii],updating:[U_,et],deleting:[z_,et]})})}function Cn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Mc(e,t){e.filter=Fr(e.filter,t)}function $c(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Fr(r(),t()):t,e.justLimit=n&&!r}function ax(e,t){e.isMatch=Fr(e.isMatch,t)}function ga(e,t){if(e.isPrimKey)return t.primaryKey;let n=t.getIndexByKeyPath(e.index);if(!n)throw new M.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function dp(e,t,n){let r=ga(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function ca(e,t,n,r){let i=e.replayFilter?Fr(e.filter,e.replayFilter()):e.filter;if(e.or){let o={},a=(s,c,l)=>{if(!i||i(c,l,f=>c.stop(f),f=>c.fail(f))){var u=c.primaryKey,d=""+u;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(u)),ne(o,d)||(o[d]=!0,t(s,c,l))}};return Promise.all([e.or._iterate(a,n),fp(dp(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return fp(dp(e,r,n),Fr(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function fp(e,t,n,r){var i=r?(a,s,c)=>n(r(a),s,c):n,o=ot(i);return e.then(a=>{if(a)return a.start(()=>{var s=()=>a.continue();(!t||t(a,c=>s=c,c=>{a.stop(c),s=et},c=>{a.fail(c),s=et}))&&o(a.value,a,c=>s=c),s()})})}function Ft(e,t){try{let n=mp(e),r=mp(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return cx(pp(e),pp(t));case"Array":return sx(e,t)}}catch{}return NaN}function sx(e,t){let n=e.length,r=t.length,i=n<r?n:r;for(let o=0;o<i;++o){let a=Ft(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function cx(e,t){let n=e.length,r=t.length,i=n<r?n:r;for(let o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function mp(e){let t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";let n=Fc(e);return n==="ArrayBuffer"?"binary":n}function pp(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Zc=class{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,_t.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,_t.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Fr(n.algorithm,t)}_iterate(t,n){return ca(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Lt(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>ca(n,t,r,n.table.core))}count(t){return this._read(n=>{let r=this._ctx,i=r.table.core;if(Cn(r,!0))return i.count({trans:n,query:{index:ga(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return ca(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){let r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(l,u){return u?a(l[r[u]],u-1):l[i]}var s=this._ctx.dir==="next"?1:-1;function c(l,u){var d=a(l,o),f=a(u,o);return d<f?-s:d>f?s:0}return this.toArray(function(l){return l.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Cn(r,!0)&&r.limit>0){let{valueMapper:i}=r,o=ga(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}else{let i=[];return ca(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Cn(n)?$c(n,()=>{var r=t;return(i,o)=>r===0?!0:r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1)}):$c(n,()=>{var r=t;return()=>--r<0}),this)}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),$c(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return Mc(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){return Mc(this._ctx,function(n){return t(n.value)}),ax(this._ctx,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Cn(n,!0)&&n.limit>0)return this._read(i=>{var o=ga(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Mc(this._ctx,function(i){var o=i.primaryKey.toString(),a=ne(r,o);return r[o]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=ht(t),a=o.length;i=function(p){for(var _=!1,g=0;g<a;++g){var w=o[g],b=t[w];Qe(p,w)!==b&&(me(p,w,b),_=!0)}return _}}let s=n.table.core,{outbound:c,extractKey:l}=s.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[],f=0,m=[],h=(p,_)=>{let{failures:g,numFailures:w}=_;f+=p-w;for(let b of ht(g))d.push(g[b])};return this.clone().primaryKeys().then(p=>{let _=g=>{let w=Math.min(u,p.length-g);return s.getMany({trans:r,keys:p.slice(g,g+w),cache:"immutable"}).then(b=>{let x=[],E=[],S=c?[]:null,C=[];for(let $=0;$<w;++$){let U=b[$],B={value:Ai(U),primKey:p[g+$]};i.call(B,B.value,B)!==!1&&(B.value==null?C.push(p[g+$]):!c&&Ft(l(U),l(B.value))!==0?(C.push(p[g+$]),x.push(B.value)):(E.push(B.value),c&&S.push(p[g+$])))}let O=Cn(n)&&n.limit===1/0&&(typeof t!="function"||t===Nc)&&{index:n.index,range:n.range};return Promise.resolve(x.length>0&&s.mutate({trans:r,type:"add",values:x}).then($=>{for(let U in $.failures)C.splice(parseInt(U),1);h(x.length,$)})).then(()=>(E.length>0||O&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:S,values:E,criteria:O,changeSpec:typeof t!="function"&&t}).then($=>h(E.length,$))).then(()=>(C.length>0||O&&t===Nc)&&s.mutate({trans:r,type:"delete",keys:C,criteria:O}).then($=>h(C.length,$))).then(()=>p.length>g+w&&_(g+u))})};return _(0).then(()=>{if(d.length>0)throw new ba("Error modifying one or more objects",d,f,m);return p.length})})})}delete(){var t=this._ctx,n=t.range;return Cn(t)&&(t.isPrimKey&&!nx||n.type===3)?this._write(r=>{let{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:s,lastResult:c,results:l,numFailures:u})=>{if(u)throw new ba("Could not delete some values",Object.keys(s).map(d=>s[d]),a-u);return a-u}))}):this.modify(Nc)}},Nc=(e,t)=>t.value=null;function lx(e){return $i(Zc.prototype,function(n,r){this.db=e;let i=jp,o=null;if(r)try{i=r()}catch(l){o=l}let a=n._ctx,s=a.table,c=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:c!==Ii?c:null}})}function ux(e,t){return e<t?-1:e===t?0:1}function dx(e,t){return e>t?-1:e===t?0:1}function Xt(e,t,n){var r=e instanceof Ea?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Sn(e){return new e.Collection(e,()=>Vp("")).limit(0)}function fx(e){return e==="next"?t=>t.toUpperCase():t=>t.toLowerCase()}function mx(e){return e==="next"?t=>t.toLowerCase():t=>t.toUpperCase()}function px(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,c=0;c<a;++c){var l=t[c];if(l!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[c],l)<0&&(s=c)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function la(e,t,n,r){var i,o,a,s,c,l,u,d=n.length;if(!n.every(p=>typeof p=="string"))return Xt(e,Fp);function f(p){i=fx(p),o=mx(p),a=p==="next"?ux:dx;var _=n.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,w){return a(g.lower,w.lower)});s=_.map(function(g){return g.upper}),c=_.map(function(g){return g.lower}),l=p,u=p==="next"?"":r}f("next");var m=new e.Collection(e,()=>gr(s[0],c[d-1]+r));m._ondirectionchange=function(p){f(p)};var h=0;return m._addAlgorithm(function(p,_,g){var w=p.key;if(typeof w!="string")return!1;var b=o(w);if(t(b,c,h))return!0;for(var x=null,E=h;E<d;++E){var S=px(w,b,s[E],c[E],a,l);S===null&&x===null?h=E+1:(x===null||a(x,S)>0)&&(x=S)}return _(x!==null?function(){p.continue(x+u)}:g),!1}),m}function gr(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Vp(e){return{type:1,lower:e,upper:e}}var Ea=class{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Sn(this):new this.Collection(this,()=>gr(t,n,!r,!i))}catch{return Xt(this,He)}}equals(t){return t==null?Xt(this,He):new this.Collection(this,()=>Vp(t))}above(t){return t==null?Xt(this,He):new this.Collection(this,()=>gr(t,void 0,!0))}aboveOrEqual(t){return t==null?Xt(this,He):new this.Collection(this,()=>gr(t,void 0,!1))}below(t){return t==null?Xt(this,He):new this.Collection(this,()=>gr(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Xt(this,He):new this.Collection(this,()=>gr(void 0,t))}startsWith(t){return typeof t!="string"?Xt(this,Fp):this.between(t,t+Mr,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):la(this,(n,r)=>n.indexOf(r[0])===0,[t],Mr)}equalsIgnoreCase(t){return la(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=qe.apply(On,arguments);return t.length===0?Sn(this):la(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=qe.apply(On,arguments);return t.length===0?Sn(this):la(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Mr)}anyOf(){let t=qe.apply(On,arguments),n=this._cmp;try{t.sort(n)}catch{return Xt(this,He)}if(t.length===0)return Sn(this);let r=new this.Collection(this,()=>gr(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,a,s)=>{let c=o.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return a(s),!1;return n(c,t[i])===0?!0:(a(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[Xc,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let t=qe.apply(On,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Xt(this,He)}let n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[Xc,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){let r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(t.length===0)return Sn(this);if(!t.every(x=>x[0]!==void 0&&x[1]!==void 0&&i(x[0],x[1])<=0))return Xt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",M.InvalidArgument);let c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;function u(x,E){let S=0,C=x.length;for(;S<C;++S){let O=x[S];if(r(E[0],O[1])<0&&r(E[1],O[0])>0){O[0]=a(O[0],E[0]),O[1]=s(O[1],E[1]);break}}return S===C&&x.push(E),x}let d=i;function f(x,E){return d(x[0],E[0])}let m;try{m=t.reduce(u,[]),m.sort(f)}catch{return Xt(this,He)}let h=0,p=l?x=>i(x,m[h][1])>0:x=>i(x,m[h][1])>=0,_=c?x=>o(x,m[h][0])>0:x=>o(x,m[h][0])>=0;function g(x){return!p(x)&&!_(x)}let w=p,b=new this.Collection(this,()=>gr(m[0][0],m[m.length-1][1],!c,!l));return b._ondirectionchange=x=>{x==="next"?(w=p,d=i):(w=_,d=o),m.sort(f)},b._addAlgorithm((x,E,S)=>{for(var C=x.key;w(C);)if(++h,h===m.length)return E(S),!1;return g(C)?!0:(this._cmp(C,m[h][1])===0||this._cmp(C,m[h][0])===0||E(()=>{d===i?x.continue(m[h][0]):x.continue(m[h][1])}),!1)}),b}startsWithAnyOf(){let t=qe.apply(On,arguments);return t.every(n=>typeof n=="string")?t.length===0?Sn(this):this.inAnyRange(t.map(n=>[n,n+Mr])):Xt(this,"startsWithAnyOf() only works with strings")}};function hx(e){return $i(Ea.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};let o=e._deps.indexedDB;if(!o)throw new M.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(a,s)=>o.cmp(s,a),this._max=(a,s)=>o.cmp(a,s)>0?a:s,this._min=(a,s)=>o.cmp(a,s)<0?a:s,this._IDBKeyRange=e._deps.IDBKeyRange})}function De(e){return ot(function(t){return Oi(t),e(t.target.error),!1})}function Oi(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Di="storagemutated",vr="x-storagemutated-1",xr=Mi(null,Di),Jc=class{_lock(){return yi(!T.global),++this._reculock,this._reculock===1&&!T.global&&(T.lockOwnerFor=this),this}_unlock(){if(yi(!T.global),--this._reculock===0)for(T.global||(T.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Mn(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&T.lockOwnerFor!==this}create(t){if(!this.mode)return this;let n=this.db.idbdb,r=this.db._state.dbOpenError;if(yi(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new M.DatabaseClosed(r);case"MissingAPIError":throw new M.MissingAPI(r.message,r);default:throw new M.OpenFailed(r)}if(!this.active)throw new M.TransactionInactive;return yi(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=ot(i=>{Oi(i),this._reject(t.error)}),t.onabort=ot(i=>{Oi(i),this.active&&this._reject(new M.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=ot(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&xr.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return _t(new M.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new M.TransactionInactive);if(this._locked())return new A((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,a)},T])});if(r)return yr(()=>{var o=new A((a,s)=>{this._lock();let c=n(a,s,this);c&&c.then&&c.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new A((o,a)=>{var s=n(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();let r=A.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new A((a,s)=>{r.then(c=>n._waitingQueue.push(ot(a.bind(null,c))),c=>n._waitingQueue.push(ot(s.bind(null,c)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new M.Abort))}table(t){let n=this._memoizedTables||(this._memoizedTables={});if(ne(n,t))return n[t];let r=this.schema[t];if(!r)throw new M.NotFound("Table "+t+" not part of transaction");let i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}};function gx(e){return $i(Jc.prototype,function(n,r,i,o,a){this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Mi(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new A((s,c)=>{this._resolve=s,this._reject=c}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},s=>{var c=this.active;return this.active=!1,this.on.error.fire(s),this.parent?this.parent._reject(s):c&&this.idbtrans&&this.idbtrans.abort(),_t(s)})})}function tl(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+zp(t)}}function zp(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Up(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:xp(n,r=>[r.name,r])}}function bx(e){return e.length===1?e[0]:e}var Ri=e=>{try{return e.only([[]]),Ri=()=>[[]],[[]]}catch{return Ri=()=>Mr,Mr}};function el(e){return e==null?()=>{}:typeof e=="string"?vx(e):t=>Qe(t,e)}function vx(e){return e.split(".").length===1?n=>n[e]:n=>Qe(n,e)}function hp(e){return[].slice.call(e)}var yx=0;function Ei(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function _x(e,t,n){function r(u,d){let f=hp(u.objectStoreNames);return{schema:{name:u.name,tables:f.map(m=>d.objectStore(m)).map(m=>{let{keyPath:h,autoIncrement:p}=m,_=Pt(h),g=h==null,w={},b={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g,compound:_,keyPath:h,autoIncrement:p,unique:!0,extractKey:el(h)},indexes:hp(m.indexNames).map(x=>m.index(x)).map(x=>{let{name:E,unique:S,multiEntry:C,keyPath:O}=x,$=Pt(O),U={name:E,compound:$,keyPath:O,unique:S,multiEntry:C,extractKey:el(O)};return w[Ei(O)]=U,U}),getIndexByKeyPath:x=>w[Ei(x)]};return w[":id"]=b.primaryKey,h!=null&&(w[Ei(h)]=b.primaryKey),b})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:d,upper:f,lowerOpen:m,upperOpen:h}=u;return d===void 0?f===void 0?null:t.upperBound(f,!!h):f===void 0?t.lowerBound(d,!!m):t.bound(d,f,!!m,!!h)}function o(u){let d=u.name;function f({trans:p,type:_,keys:g,values:w,range:b}){return new Promise((x,E)=>{x=ot(x);let S=p.objectStore(d),C=S.keyPath==null,O=_==="put"||_==="add";if(!O&&_!=="delete"&&_!=="deleteRange")throw new Error("Invalid operation type: "+_);let{length:$}=g||w||{length:1};if(g&&w&&g.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if($===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});let U,B=[],at=[],N=0,xt=J=>{++N,Oi(J)};if(_==="deleteRange"){if(b.type===4)return x({numFailures:N,failures:at,results:[],lastResult:void 0});b.type===3?B.push(U=S.clear()):B.push(U=S.delete(i(b)))}else{let[J,st]=O?C?[w,g]:[w,null]:[g,null];if(O)for(let ct=0;ct<$;++ct)B.push(U=st&&st[ct]!==void 0?S[_](J[ct],st[ct]):S[_](J[ct])),U.onerror=xt;else for(let ct=0;ct<$;++ct)B.push(U=S[_](J[ct])),U.onerror=xt}let ut=J=>{let st=J.target.result;B.forEach((ct,pe)=>ct.error!=null&&(at[pe]=ct.error)),x({numFailures:N,failures:at,results:_==="delete"?g:B.map(ct=>ct.result),lastResult:st})};U.onerror=J=>{xt(J),ut(J)},U.onsuccess=ut})}function m({trans:p,values:_,query:g,reverse:w,unique:b}){return new Promise((x,E)=>{x=ot(x);let{index:S,range:C}=g,O=p.objectStore(d),$=S.isPrimaryKey?O:O.index(S.name),U=w?b?"prevunique":"prev":b?"nextunique":"next",B=_||!("openKeyCursor"in $)?$.openCursor(i(C),U):$.openKeyCursor(i(C),U);B.onerror=De(E),B.onsuccess=ot(at=>{let N=B.result;if(!N){x(null);return}N.___id=++yx,N.done=!1;let xt=N.continue.bind(N),ut=N.continuePrimaryKey;ut&&(ut=ut.bind(N));let J=N.advance.bind(N),st=()=>{throw new Error("Cursor not started")},ct=()=>{throw new Error("Cursor not stopped")};N.trans=p,N.stop=N.continue=N.continuePrimaryKey=N.advance=st,N.fail=ot(E),N.next=function(){let pe=1;return this.start(()=>pe--?this.continue():this.stop()).then(()=>this)},N.start=pe=>{let Yi=new Promise((wt,Or)=>{wt=ot(wt),B.onerror=De(Or),N.fail=Or,N.stop=Qa=>{N.stop=N.continue=N.continuePrimaryKey=N.advance=ct,wt(Qa)}}),Dt=()=>{if(B.result)try{pe()}catch(wt){N.fail(wt)}else N.done=!0,N.start=()=>{throw new Error("Cursor behind last entry")},N.stop()};return B.onsuccess=ot(wt=>{B.onsuccess=Dt,Dt()}),N.continue=xt,N.continuePrimaryKey=ut,N.advance=J,Dt(),Yi},x(N)},E)})}function h(p){return _=>new Promise((g,w)=>{g=ot(g);let{trans:b,values:x,limit:E,query:S}=_,C=E===1/0?void 0:E,{index:O,range:$}=S,U=b.objectStore(d),B=O.isPrimaryKey?U:U.index(O.name),at=i($);if(E===0)return g({result:[]});if(p){let N=x?B.getAll(at,C):B.getAllKeys(at,C);N.onsuccess=xt=>g({result:xt.target.result}),N.onerror=De(w)}else{let N=0,xt=x||!("openKeyCursor"in B)?B.openCursor(at):B.openKeyCursor(at),ut=[];xt.onsuccess=J=>{let st=xt.result;if(!st)return g({result:ut});if(ut.push(x?st.value:st.primaryKey),++N===E)return g({result:ut});st.continue()},xt.onerror=De(w)}})}return{name:d,schema:u,mutate:f,getMany({trans:p,keys:_}){return new Promise((g,w)=>{g=ot(g);let b=p.objectStore(d),x=_.length,E=new Array(x),S=0,C=0,O,$=B=>{let at=B.target;(E[at._pos]=at.result)!=null,++C===S&&g(E)},U=De(w);for(let B=0;B<x;++B)_[B]!=null&&(O=b.get(_[B]),O._pos=B,O.onsuccess=$,O.onerror=U,++S);S===0&&g(E)})},get({trans:p,key:_}){return new Promise((g,w)=>{g=ot(g);let x=p.objectStore(d).get(_);x.onsuccess=E=>g(E.target.result),x.onerror=De(w)})},query:h(s),openCursor:m,count({query:p,trans:_}){let{index:g,range:w}=p;return new Promise((b,x)=>{let E=_.objectStore(d),S=g.isPrimaryKey?E:E.index(g.name),C=i(w),O=C?S.count(C):S.count();O.onsuccess=ot($=>b($.target.result)),O.onerror=De(x)})}}}let{schema:a,hasGetAll:s}=r(e,n),c=a.tables.map(u=>o(u)),l={};return c.forEach(u=>l[u.name]=u),{stack:"dbcore",transaction:e.transaction.bind(e),table(u){if(!l[u])throw new Error(`Table '${u}' not found`);return l[u]},MIN_KEY:-1/0,MAX_KEY:Ri(t),schema:a}}function xx(e,t){return t.reduce((n,{create:r})=>L(L({},n),r(n)),e)}function wx(e,t,{IDBKeyRange:n,indexedDB:r},i){return{dbcore:xx(_x(t,n,i),e.dbcore)}}function yl({_novip:e},t){let n=t.db,r=wx(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{let o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Ca({_novip:e},t,n,r){n.forEach(i=>{let o=r[i];t.forEach(a=>{let s=dl(a,i);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?Xe(a,i,{get(){return this.table(i)},set(c){vp(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function rl({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Ex(e,t){return e._cfg.version-t._cfg.version}function Cx(e,t,n,r){let i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);let a=o._reject.bind(o),s=T.transless||T;yr(()=>{T.trans=o,T.transless=s,t===0?(ht(i).forEach(c=>{_l(n,c,i[c].primKey,i[c].indexes)}),yl(e,n),A.follow(()=>e.on.populate.fire(o)).catch(a)):Sx(e,t,o,n).catch(a)})}function Sx({_novip:e},t,n,r){let i=[],o=e._versions,a=e._dbSchema=xl(e,e.idbdb,r),s=!1;o.filter(u=>u._cfg.version>=t).forEach(u=>{i.push(()=>{let d=a,f=u._cfg.dbschema;il(e,d,r),il(e,f,r),a=e._dbSchema=f;let m=Kp(d,f);m.add.forEach(p=>{_l(r,p[0],p[1].primKey,p[1].indexes)}),m.change.forEach(p=>{if(p.recreate)throw new M.Upgrade("Not yet support for changing primary key");{let _=r.objectStore(p.name);p.add.forEach(g=>nl(_,g)),p.change.forEach(g=>{_.deleteIndex(g.name),nl(_,g)}),p.del.forEach(g=>_.deleteIndex(g))}});let h=u._cfg.contentUpgrade;if(h&&u._cfg.version>t){yl(e,r),n._memoizedTables={},s=!0;let p=wp(f);m.del.forEach(b=>{p[b]=d[b]}),rl(e,[e.Transaction.prototype]),Ca(e,[e.Transaction.prototype],ht(p),p),n.schema=p;let _=fl(h);_&&Tn();let g,w=A.follow(()=>{if(g=h(n),g&&_){var b=Ge.bind(null,null);g.then(b,b)}});return g&&typeof g.then=="function"?A.resolve(g):w.then(()=>g)}}),i.push(d=>{if(!s||!rx){let f=u._cfg.dbschema;Dx(f,d)}rl(e,[e.Transaction.prototype]),Ca(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema})});function l(){return i.length?A.resolve(i.shift()(n.idbtrans)).then(l):A.resolve()}return l().then(()=>{Ox(a,r)})}function Kp(e,t){let n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){let i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{let a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!ka)a.recreate=!0,n.change.push(a);else{let s=i.idxByName,c=o.idxByName,l;for(l in s)c[l]||a.del.push(l);for(l in c){let u=s[l],d=c[l];u?u.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function _l(e,t,n,r){let i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>nl(i,o)),i}function Ox(e,t){ht(e).forEach(n=>{t.db.objectStoreNames.contains(n)||_l(t,n,e[n].primKey,e[n].indexes)})}function Dx(e,t){[].slice.call(t.db.objectStoreNames).forEach(n=>e[n]==null&&t.db.deleteObjectStore(n))}function nl(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function xl(e,t,n){let r={};return Da(t.objectStoreNames,0).forEach(o=>{let a=n.objectStore(o),s=a.keyPath,c=tl(zp(s),s||"",!1,!1,!!a.autoIncrement,s&&typeof s!="string",!0),l=[];for(let d=0;d<a.indexNames.length;++d){let f=a.index(a.indexNames[d]);s=f.keyPath;var u=tl(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);l.push(u)}r[o]=Up(o,c,l)}),r}function Rx({_novip:e},t,n){e.verno=t.version/10;let r=e._dbSchema=xl(e,t,n);e._storeNames=Da(t.objectStoreNames,0),Ca(e,[e._allTables],ht(r),r)}function kx(e,t){let n=xl(e,e.idbdb,t),r=Kp(n,e._dbSchema);return!(r.add.length||r.change.some(i=>i.add.length||i.change.length))}function il({_novip:e},t,n){let r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){let o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){let c=a.indexNames[s],l=a.index(c).keyPath,u=typeof l=="string"?l:"["+Da(l).join("+")+"]";if(t[o]){let d=t[o].idxByName[u];d&&(d.name=c,delete t[o].idxByName[u],t[o].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&nt.WorkerGlobalScope&&nt instanceof nt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Ax(e){return e.split(",").map((t,n)=>{t=t.trim();let r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return tl(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Pt(i),n===0)})}var ol=class{_parseStoresSpec(t,n){ht(t).forEach(r=>{if(t[r]!==null){var i=Ax(t[r]),o=i.shift();if(o.multi)throw new M.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new M.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new M.Schema("Index must have a name and cannot be an empty string")}),n[r]=Up(r,o,i)}})}stores(t){let n=this.db;this._cfg.storesSource=this._cfg.storesSource?Lt(this._cfg.storesSource,t):t;let r=n._versions,i={},o={};return r.forEach(a=>{Lt(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,rl(n,[n._allTables,n,n.Transaction.prototype]),Ca(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ht(o),o),n._storeNames=ht(o),this}upgrade(t){return this._cfg.contentUpgrade=hl(this._cfg.contentUpgrade||et,t),this}};function Ix(e){return $i(ol.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function wl(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new An(Aa,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function El(e){return e&&typeof e.databases=="function"}function Px({indexedDB:e,IDBKeyRange:t}){return El(e)?Promise.resolve(e.databases()).then(n=>n.map(r=>r.name).filter(r=>r!==Aa)):wl(e,t).toCollection().primaryKeys()}function Tx({indexedDB:e,IDBKeyRange:t},n){!El(e)&&n!==Aa&&wl(e,t).put({name:n}).catch(et)}function Mx({indexedDB:e,IDBKeyRange:t},n){!El(e)&&n!==Aa&&wl(e,t).delete(n).catch(et)}function al(e){return yr(function(){return T.letThrough=!0,e()})}function $x(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function Nx(e){let t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?_t(t.dbOpenError):e);Re&&(t.openCanceller._stackHolder=Lr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;let r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new M.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return A.race([r,(typeof navigator>"u"?A.resolve():$x()).then(()=>new A((c,l)=>{if(i(),!n)throw new M.MissingAPI;let u=e.name,d=t.autoSchema?n.open(u):n.open(u,Math.round(e.verno*10));if(!d)throw new M.MissingAPI;d.onerror=De(l),d.onblocked=ot(e._fireOnBlocked),d.onupgradeneeded=ot(f=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=Oi,a.abort(),d.result.close();let h=n.deleteDatabase(u);h.onsuccess=h.onerror=ot(()=>{l(new M.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{a.onerror=De(l);var m=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;s=m<1,e._novip.idbdb=d.result,Cx(e,m/10,a,l)}},l),d.onsuccess=ot(()=>{a=null;let f=e._novip.idbdb=d.result,m=Da(f.objectStoreNames);if(m.length>0)try{let h=f.transaction(bx(m),"readonly");t.autoSchema?Rx(e,f,h):(il(e,e._dbSchema,h),kx(e,h)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),yl(e,h)}catch{}wi.push(e),f.onversionchange=ot(h=>{t.vcFired=!0,e.on("versionchange").fire(h)}),f.onclose=ot(h=>{e.on("close").fire(h)}),s&&Tx(e._deps,u),c()},l)}))]).then(()=>(i(),t.onReadyBeingFired=[],A.resolve(al(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let l=t.onReadyBeingFired.reduce(hl,et);return t.onReadyBeingFired=[],A.resolve(al(()=>l(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),_t(c)}).finally(()=>{t.openComplete=!0,o()})}function sl(e){var t=a=>e.next(a),n=a=>e.throw(a),r=o(t),i=o(n);function o(a){return s=>{var c=a(s),l=c.value;return c.done?l:!l||typeof l.then!="function"?Pt(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return o(t)()}function Bx(e,t,n){var r=arguments.length;if(r<2)throw new M.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=Ep(i);return[e,o,n]}function Hp(e,t,n,r,i){return A.resolve().then(()=>{let o=T.transless||T,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===pl.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Hp(e,t,n,null,i))):_t(d)}let c=fl(i);c&&Tn();let l,u=A.follow(()=>{if(l=i.call(a,a),l)if(c){var d=Ge.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=sl(l))},s);return(l&&typeof l.then=="function"?A.resolve(l).then(d=>a.active?d:_t(new M.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>l)).then(d=>(r&&a._resolve(),a._completion.then(()=>d))).catch(d=>(a._reject(d),_t(d)))})}function ua(e,t,n){let r=Pt(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}function Fx(e){return gt(L({},e),{table(t){let n=e.table(t),{schema:r}=n,i={},o=[];function a(f,m,h){let p=Ei(f),_=i[p]=i[p]||[],g=f==null?0:typeof f=="string"?1:f.length,w=m>0,b=gt(L({},h),{isVirtual:w,keyTail:m,keyLength:g,extractKey:el(f),unique:!w&&h.unique});if(_.push(b),b.isPrimaryKey||o.push(b),g>1){let x=g===2?f[0]:f.slice(0,g-1);a(x,m+1,h)}return _.sort((x,E)=>x.keyTail-E.keyTail),b}let s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(let f of r.indexes)a(f.keyPath,0,f);function c(f){let m=i[Ei(f)];return m&&m[0]}function l(f,m){return{type:f.type===1?2:f.type,lower:ua(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:ua(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0}}function u(f){let m=f.query.index;return m.isVirtual?gt(L({},f),{query:{index:m,range:l(f.query.range,m.keyTail)}}):f}return gt(L({},n),{schema:gt(L({},r),{primaryKey:s,indexes:o,getIndexByKeyPath:c}),count(f){return n.count(u(f))},query(f){return n.query(u(f))},openCursor(f){let{keyTail:m,isVirtual:h,keyLength:p}=f.query.index;if(!h)return n.openCursor(f);function _(g){function w(x){x!=null?g.continue(ua(x,f.reverse?e.MAX_KEY:e.MIN_KEY,m)):f.unique?g.continue(g.key.slice(0,p).concat(f.reverse?e.MIN_KEY:e.MAX_KEY,m)):g.continue()}return Object.create(g,{continue:{value:w},continuePrimaryKey:{value(x,E){g.continuePrimaryKey(ua(x,e.MAX_KEY,m),E)}},primaryKey:{get(){return g.primaryKey}},key:{get(){let x=g.key;return p===1?x[0]:x.slice(0,p)}},value:{get(){return g.value}}})}return n.openCursor(u(f)).then(g=>g&&_(g))}})}})}var Lx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Fx};function Cl(e,t,n,r){return n=n||{},r=r||"",ht(e).forEach(i=>{if(!ne(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){let s=Fc(o),c=Fc(a);s!==c?n[r+i]=t[i]:s==="Object"?Cl(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),ht(t).forEach(i=>{ne(e,i)||(n[r+i]=t[i])}),n}function jx(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Vx={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>gt(L({},e),{table(t){let n=e.table(t),{primaryKey:r}=n.schema;return gt(L({},n),{mutate(o){let a=T.trans,{deleting:s,creating:c,updating:l}=a.table(t).hook;switch(o.type){case"add":if(c.fire===et)break;return a._promise("readwrite",()=>u(o),!0);case"put":if(c.fire===et&&l.fire===et)break;return a._promise("readwrite",()=>u(o),!0);case"delete":if(s.fire===et)break;return a._promise("readwrite",()=>u(o),!0);case"deleteRange":if(s.fire===et)break;return a._promise("readwrite",()=>d(o),!0)}return n.mutate(o);function u(m){let h=T.trans,p=m.keys||jx(r,m);if(!p)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?gt(L({},m),{keys:p}):L({},m),m.type!=="delete"&&(m.values=[...m.values]),m.keys&&(m.keys=[...m.keys]),zx(n,m,p).then(_=>{let g=p.map((w,b)=>{let x=_[b],E={onerror:null,onsuccess:null};if(m.type==="delete")s.fire.call(E,w,x,h);else if(m.type==="add"||x===void 0){let S=c.fire.call(E,w,m.values[b],h);w==null&&S!=null&&(w=S,m.keys[b]=w,r.outbound||me(m.values[b],r.keyPath,w))}else{let S=Cl(x,m.values[b]),C=l.fire.call(E,S,w,x,h);if(C){let O=m.values[b];Object.keys(C).forEach($=>{ne(O,$)?O[$]=C[$]:me(O,$,C[$])})}}return E});return n.mutate(m).then(({failures:w,results:b,numFailures:x,lastResult:E})=>{for(let S=0;S<p.length;++S){let C=b?b[S]:p[S],O=g[S];C==null?O.onerror&&O.onerror(w[S]):O.onsuccess&&O.onsuccess(m.type==="put"&&_[S]?m.values[S]:C)}return{failures:w,results:b,numFailures:x,lastResult:E}}).catch(w=>(g.forEach(b=>b.onerror&&b.onerror(w)),Promise.reject(w)))})}function d(m){return f(m.trans,m.range,1e4)}function f(m,h,p){return n.query({trans:m,values:!1,query:{index:r,range:h},limit:p}).then(({result:_})=>u({type:"delete",keys:_,trans:m}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):_.length<p?{failures:[],numFailures:0,lastResult:void 0}:f(m,gt(L({},h),{lower:_[_.length-1],lowerOpen:!0}),p)))}}})}})};function zx(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function Wp(e,t,n){try{if(!t||t.keys.length<e.length)return null;let r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)Ft(t.keys[i],e[o])===0&&(r.push(n?Ai(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var Ux={stack:"dbcore",level:-1,create:e=>({table:t=>{let n=e.table(t);return gt(L({},n),{getMany:r=>{if(!r.cache)return n.getMany(r);let i=Wp(r.keys,r.trans._cache,r.cache==="clone");return i?A.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ai(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))})}})};function Sl(e){return!("from"in e)}var We=function(e,t){if(this)Lt(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{let n=new We;return e&&"d"in e&&Lt(n,e),n}};kn(We.prototype,{add(e){return Sa(this,e),this},addKey(e){return ki(this,e,e),this},addKeys(e){return e.forEach(t=>ki(this,t,t)),this},[Lc](){return cl(this)}});function ki(e,t,n){let r=Ft(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Sl(e))return Lt(e,{from:t,to:n,d:1});let i=e.l,o=e.r;if(Ft(n,e.from)<0)return i?ki(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},gp(e);if(Ft(t,e.to)>0)return o?ki(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},gp(e);Ft(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Ft(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);let a=!e.r;i&&!e.l&&Sa(e,i),o&&a&&Sa(e,o)}function Sa(e,t){function n(r,{from:i,to:o,l:a,r:s}){ki(r,i,o),a&&n(r,a),s&&n(r,s)}Sl(t)||n(e,t)}function Kx(e,t){let n=cl(t),r=n.next();if(r.done)return!1;let i=r.value,o=cl(e),a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(Ft(s.from,i.to)<=0&&Ft(s.to,i.from)>=0)return!0;Ft(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function cl(e){let t=Sl(e)?null:{s:0,n:e};return{next(n){let r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Ft(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Ft(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function gp(e){var t,n;let r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){let o=i==="r"?"l":"r",a=L({},e),s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=bp(a)}e.d=bp(e)}function bp({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}var Hx={stack:"dbcore",level:0,create:e=>{let t=e.schema.name,n=new We(e.MIN_KEY,e.MAX_KEY);return gt(L({},e),{table:r=>{let i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:c}=a,l=gt(L({},i),{mutate:f=>{let m=f.trans,h=m.mutatedParts||(m.mutatedParts={}),p=S=>{let C=`idb://${t}/${r}/${S}`;return h[C]||(h[C]=new We)},_=p(""),g=p(":dels"),{type:w}=f,[b,x]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],E=f.trans._cache;return i.mutate(f).then(S=>{if(Pt(b)){w!=="delete"&&(b=S.results),_.addKeys(b);let C=Wp(b,E);!C&&w!=="add"&&g.addKeys(b),(C||x)&&Wx(p,o,C,x)}else if(b){let C={from:b.lower,to:b.upper};g.add(C),_.add(C)}else _.add(n),g.add(n),o.indexes.forEach(C=>p(C.name).add(n));return S})}}),u=({query:{index:f,range:m}})=>{var h,p;return[f,new We((h=m.lower)!==null&&h!==void 0?h:e.MIN_KEY,(p=m.upper)!==null&&p!==void 0?p:e.MAX_KEY)]},d={get:f=>[a,new We(f.key)],getMany:f=>[a,new We().addKeys(f.keys)],count:u,query:u,openCursor:u};return ht(d).forEach(f=>{l[f]=function(m){let{subscr:h}=T;if(h){let p=x=>{let E=`idb://${t}/${r}/${x}`;return h[E]||(h[E]=new We)},_=p(""),g=p(":dels"),[w,b]=d[f](m);if(p(w.name||"").add(b),!w.isPrimaryKey)if(f==="count")g.add(n);else{let x=f==="query"&&c&&m.values&&i.query(gt(L({},m),{values:!1}));return i[f].apply(this,arguments).then(E=>{if(f==="query"){if(c&&m.values)return x.then(({result:C})=>(_.addKeys(C),E));let S=m.values?E.result.map(s):E.result;m.values?_.addKeys(S):g.addKeys(S)}else if(f==="openCursor"){let S=E,C=m.values;return S&&Object.create(S,{key:{get(){return g.addKey(S.primaryKey),S.key}},primaryKey:{get(){let O=S.primaryKey;return g.addKey(O),O}},value:{get(){return C&&_.addKey(S.primaryKey),S.value}}})}return E})}}return i[f].apply(this,arguments)}}),l}})}};function Wx(e,t,n,r){function i(o){let a=e(o.name||"");function s(l){return l!=null?o.extractKey(l):null}let c=l=>o.multiEntry&&Pt(l)?l.forEach(u=>a.addKey(u)):a.addKey(l);(n||r).forEach((l,u)=>{let d=n&&s(n[u]),f=r&&s(r[u]);Ft(d,f)!==0&&(d!=null&&c(d),f!=null&&c(f))})}t.indexes.forEach(i)}var An=class e{constructor(t,n){this._middlewares={},this.verno=0;let r=e.dependencies;this._options=n=L({addons:e.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};let{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new A(a=>{o.dbReadyResolve=a}),o.openCanceller=new A((a,s)=>{o.cancelOpen=s}),this._state=o,this.name=t,this.on=Mi(this,"populate","blocked","versionchange","close",{ready:[hl,et]}),this.on.ready.subscribe=yp(this.on.ready.subscribe,a=>(s,c)=>{e.vip(()=>{let l=this._state;if(l.openComplete)l.dbOpenError||A.resolve().then(s),c&&a(s);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(s),c&&a(s);else{a(s);let u=this;c||a(function d(){u.on.ready.unsubscribe(s),u.on.ready.unsubscribe(d)})}})}),this.Collection=lx(this),this.Table=ox(this),this.Transaction=gx(this),this.Version=Ix(this),this.WhereClause=hx(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Ri(n.IDBKeyRange),this._createTransaction=(a,s,c,l)=>new this.Transaction(a,s,c,this._options.chromeTransactionDurability,l),this._fireOnBlocked=a=>{this.on("blocked").fire(a),wi.filter(s=>s.name===this.name&&s!==this&&!s._state.vcFired).map(s=>s.on("versionchange").fire(a))},this.use(Lx),this.use(Vx),this.use(Hx),this.use(Ux),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new M.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new M.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);let n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Ex),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||T.letThrough||this._vip)?t():new A((n,r)=>{if(this._state.openComplete)return r(new M.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){r(new M.DatabaseClosed);return}this.open().catch(et)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});let o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:n?i.name!==n:!1)),this}open(){return Nx(this)}_close(){let t=this._state,n=wi.indexOf(this);if(n>=0&&wi.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new A(r=>{t.dbReadyResolve=r}),t.openCanceller=new A((r,i)=>{t.cancelOpen=i})}close(){this._close();let t=this._state;this._options.autoOpen=!1,t.dbOpenError=new M.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){let t=arguments.length>0,n=this._state;return new A((r,i)=>{let o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ot(()=>{Mx(this._deps,this.name),r()}),a.onerror=De(i),a.onblocked=this._fireOnBlocked};if(t)throw new M.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ht(this._allTables).map(t=>this._allTables[t])}transaction(){let t=Bx.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=T.trans;(!i||i.db!==this||t.indexOf("!")!==-1)&&(i=null);let o=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");let a,s;try{if(s=n.map(l=>{var u=l instanceof this.Table?l.name:l;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Pc)a=Pc;else if(t=="rw"||t==Tc)a=Tc;else throw new M.InvalidArgument("Invalid transaction mode: "+t);if(i){if(i.mode===Pc&&a===Tc)if(o)i=null;else throw new M.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&s.forEach(l=>{if(i&&i.storeNames.indexOf(l)===-1)if(o)i=null;else throw new M.SubTransaction("Table "+l+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(l){return i?i._promise(null,(u,d)=>{d(l)}):_t(l)}let c=Hp.bind(null,this,a,s,i,r);return i?i._promise(a,c,"lock"):T.trans?Mn(T.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!ne(this._allTables,t))throw new M.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}},qx=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ll=class{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)}[qx](){return this}};function qp(e,t){return ht(t).forEach(n=>{let r=e[n]||(e[n]=new We);Sa(r,t[n])}),e}function Yx(e){return new ll(t=>{let n=fl(e);function r(m){n&&Tn();let h=()=>yr(e,{subscr:m,trans:null}),p=T.trans?Mn(T.transless,h):h();return n&&p.then(Ge,Ge),p}let i=!1,o={},a={},s={get closed(){return i},unsubscribe:()=>{i=!0,xr.storagemutated.unsubscribe(d)}};t.start&&t.start(s);let c=!1,l=!1;function u(){return ht(a).some(m=>o[m]&&Kx(o[m],a[m]))}let d=m=>{qp(o,m),u()&&f()},f=()=>{if(c||i)return;o={};let m={},h=r(m);l||(xr(Di,d),l=!0),c=!0,Promise.resolve(h).then(p=>{c=!1,!i&&(u()?f():(o={},a=m,t.next&&t.next(p)))},p=>{["DatabaseClosedError","AbortError"].includes(p?.name)||(c=!1,t.error&&t.error(p),s.unsubscribe())})};return f(),s})}var ul;try{ul={indexedDB:nt.indexedDB||nt.mozIndexedDB||nt.webkitIndexedDB||nt.msIndexedDB,IDBKeyRange:nt.IDBKeyRange||nt.webkitIDBKeyRange}}catch{ul={indexedDB:null,IDBKeyRange:null}}var Tr=An;kn(Tr,gt(L({},Ra),{delete(e){return new Tr(e,{addons:[]}).delete()},exists(e){return new Tr(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(e){try{return Px(Tr.dependencies).then(e)}catch{return _t(new M.MissingAPI)}},defineClass(){function e(t){Lt(this,t)}return e},ignoreTransaction(e){return T.trans?Mn(T.transless,e):e()},vip:al,async:function(e){return function(){try{var t=sl(e.apply(this,arguments));return!t||typeof t.then!="function"?A.resolve(t):t}catch(n){return _t(n)}}},spawn:function(e,t,n){try{var r=sl(e.apply(n,t||[]));return!r||typeof r.then!="function"?A.resolve(r):r}catch(i){return _t(i)}},currentTransaction:{get:()=>T.trans||null},waitFor:function(e,t){let n=A.resolve(typeof e=="function"?Tr.ignoreTransaction(e):e).timeout(t||6e4);return T.trans?T.trans.waitFor(n):n},Promise:A,debug:{get:()=>Re,set:e=>{Sp(e,e==="dexie"?()=>!0:Lp)}},derive:In,extend:Lt,props:kn,override:yp,Events:Mi,on:xr,liveQuery:Yx,extendObservabilitySet:qp,getByKeyPath:Qe,setByKeyPath:me,delByKeyPath:A_,shallowClone:wp,deepClone:Ai,getObjectDiff:Cl,cmp:Ft,asap:_p,minKey:Xc,addons:[],connections:wi,errnames:pl,dependencies:ul,semVer:up,version:up.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,n*2))}));Tr.maxKey=Ri(Tr.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xr(Di,e=>{if(!Ye){let t;ka?(t=document.createEvent("CustomEvent"),t.initCustomEvent(vr,!0,!0,e)):t=new CustomEvent(vr,{detail:e}),Ye=!0,dispatchEvent(t),Ye=!1}}),addEventListener(vr,({detail:e})=>{Ye||Oa(e)}));function Oa(e){let t=Ye;try{Ye=!0,xr.storagemutated.fire(e)}finally{Ye=t}}var Ye=!1;if(typeof BroadcastChannel<"u"){let e=new BroadcastChannel(vr);typeof e.unref=="function"&&e.unref(),xr(Di,t=>{Ye||e.postMessage(t)}),e.onmessage=t=>{t.data&&Oa(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){xr(Di,t=>{try{Ye||(typeof localStorage<"u"&&localStorage.setItem(vr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:vr,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===vr){let n=JSON.parse(t.newValue);n&&Oa(n.changedParts)}});let e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",Qx)}function Qx({data:e}){e&&e.type===vr&&Oa(e.changedParts)}A.rejectionMapper=L_;Sp(Re,Lp);var Ni="docs",Yp="deleted-docs",Xx="changes",Pa="dexie",Ta=_m,Qp=new Map,Ia=new Map;function Xp(e,t,n,r){var i=Ot(r.primaryKey),o="rxdb-dexie-"+e+"--"+r.version+"--"+t,a=Ht(Qp,o,()=>{var s=(()=>D(this,null,function*(){var c=G(n);c.autoOpen=!1;var l=new An(o,c),u={[Ni]:Gx(r),[Xx]:"++sequence, id",[Yp]:i+",_meta.lwt,[_meta.lwt+"+i+"]"};return l.version(1).stores(u),yield l.open(),{dexieDb:l,dexieTable:l[Ni],dexieDeletedTable:l[Yp]}}))();return Qp.set(o,a),Ia.set(a,0),s});return a}function Gp(e){return D(this,null,function*(){var t=yield e,n=Ia.get(e),r=n-1;r===0?(t.dexieDb.close(),Ia.delete(e)):Ia.set(e,r)})}function Zp(e){if(e.indexes){var t=new Set;e.indexes.forEach(n=>{var r=Zn(n);r.forEach(i=>{if(!t.has(i)){t.add(i);var o=ue(e,i);if(o.type==="boolean")throw v("DXE1",{schema:e,index:n,field:i})}})})}}var Ol="__";function Er(e){var t=e.split(".");if(t.length>1)return t.map(r=>Er(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return Ol+n}else return e}function Jp(e){var t=e.split(".");if(t.length>1)return t.map(r=>Jp(r)).join(".");if(e.startsWith(Ol)){var n=e.substring(Ol.length);return"|"+n}else return e}function Bi(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Bi(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=Bi(r)),t[Er(n)]=r}),t}}function wr(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>wr(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=wr(r)),t[Jp(n)]=r}),t}}function Gx(e){var t=[],n=Ot(e.primaryKey);return t.push([n]),e.indexes&&e.indexes.forEach(r=>{var i=Zn(r);t.push(i)}),t.push(["_meta.lwt",n]),t=t.map(r=>r.map(i=>Er(i))),t.map(r=>r.length===1?r[0]:"["+r.join("+")+"]").join(", ")}function Dl(e,t){return D(this,null,function*(){var n=yield e,[r,i]=yield Promise.all([n.dexieTable.bulkGet(t),n.dexieDeletedTable.bulkGet(t)]),o=i.slice(0);return r.forEach((a,s)=>{a&&(o[s]=a)}),o})}function th(e){return e===pr?-1/0:e}function eh(e,t){if(!t){if(typeof window>"u")throw new Error("IDBKeyRange missing");t=window.IDBKeyRange}var n=e.startKeys.map(th),r=e.endKeys.map(th),i;if(e.index.length===1){var o=n[0]===r[0];i=t.bound(n[0],r[0],o?!1:!e.inclusiveStart,o?!1:!e.inclusiveEnd)}else i=t.bound(n,r,!e.inclusiveStart,!e.inclusiveEnd);return i}function Rl(e,t){return D(this,null,function*(){var n=yield e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=i+o,s=t.queryPlan,c=!1;s.selectorSatisfiedByIndex||(c=yn(e.schema,t.query));var l=eh(s,n.dexieDb._options.IDBKeyRange),u=s.index,d=[];if(yield n.dexieDb.transaction("r",n.dexieTable,m=>D(this,null,function*(){var h=m.idbtrans,p=h.objectStore(Ni),_;if(u.length===1&&u[0]===e.primaryPath)_=p;else{var g;u.length===1?g=Er(u[0]):g="["+u.map(b=>Er(b)).join("+")+"]",_=p.index(g)}var w=_.openCursor(l);yield new Promise(b=>{w.onsuccess=function(x){var E=x.target.result;if(E){var S=wr(E.value);!S._deleted&&(!c||c(S))&&d.push(S),s.sortFieldsSameAsIndexFields&&d.length===a?b():E.continue()}else b()}})})),!s.sortFieldsSameAsIndexFields){var f=qo(e.schema,t.query);d=d.sort(f)}return d=d.slice(i,a),{documents:d}})}function rh(e,t){return D(this,null,function*(){var n=yield e.internals,r=t.queryPlan,i=r.index,o=eh(r,n.dexieDb._options.IDBKeyRange),a=-1;return yield n.dexieDb.transaction("r",n.dexieTable,s=>D(this,null,function*(){var c=s.idbtrans,l=c.objectStore(Ni),u;if(i.length===1&&i[0]===e.primaryPath)u=l;else{var d;i.length===1?d=Er(i[0]):d="["+i.map(m=>Er(m)).join("+")+"]",u=l.index(d)}var f=u.count(o);a=yield new Promise((m,h)=>{f.onsuccess=function(){m(f.result)},f.onerror=p=>h(p)})})),a})}var Zx=mt(),Jx=function(){function e(n,r,i,o,a,s,c){this.changes$=new V,this.instanceId=Zx++,this.closed=!1,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=c,this.primaryPath=Ot(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,i){return D(this,null,function*(){Ze(this),r.forEach(d=>{if(!d.document._rev||d.previous&&!d.previous._rev)throw v("SNH",{args:{row:d}})});var o=yield this.internals,a={success:{},error:{}},s=r.map(d=>d.document[this.primaryPath]),c;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieDeletedTable,()=>D(this,null,function*(){var d=new Map,f=yield Dl(this.internals,s);f.forEach(g=>{var w=g&&wr(g);return w&&d.set(w[this.primaryPath],w),w}),c=wd(this,this.primaryPath,d,r,i),a.error=c.errors;var m=[],h=[],p=[],_=[];c.bulkInsertDocs.forEach(g=>{var w=g.document[this.primaryPath];a.success[w]=g.document,m.push(g.document)}),c.bulkUpdateDocs.forEach(g=>{var w=g.document[this.primaryPath];if(a.success[w]=g.document,g.document._deleted&&g.previous&&!g.previous._deleted)h.push(w),p.push(g.document);else if(g.document._deleted&&g.previous&&g.previous._deleted)p.push(g.document);else if(!g.document._deleted)m.push(g.document);else throw v("SNH",{args:{row:g}})}),yield Promise.all([m.length>0?o.dexieTable.bulkPut(m.map(g=>Bi(g))):jt,h.length>0?o.dexieTable.bulkDelete(h):jt,p.length>0?o.dexieDeletedTable.bulkPut(p.map(g=>Bi(g))):jt,_.length>0?o.dexieDeletedTable.bulkDelete(_):jt])})),c=H(c),c.eventBulk.events.length>0){var l=H(c.newestRow).document;c.eventBulk.checkpoint={id:l[this.primaryPath],lwt:l._meta.lwt};var u=mt();c.eventBulk.events.forEach(d=>d.endTime=u),this.changes$.next(c.eventBulk)}return a})},t.findDocumentsById=function(r,i){return D(this,null,function*(){Ze(this);var o=yield this.internals,a={};return yield o.dexieDb.transaction("r",o.dexieTable,o.dexieDeletedTable,()=>D(this,null,function*(){var s;i?s=yield Dl(this.internals,r):s=yield o.dexieTable.bulkGet(r),r.forEach((c,l)=>{var u=s[l];u&&(!u._deleted||i)&&(a[c]=wr(u))})})),a})},t.query=function(r){return Ze(this),Rl(this,r)},t.count=function(r){return D(this,null,function*(){if(r.queryPlan.selectorSatisfiedByIndex){var i=yield rh(this,r);return{count:i,mode:"fast"}}else{var o=yield Rl(this,r);return{count:o.documents.length,mode:"slow"}}})},t.getChangedDocumentsSince=function(r,i){return D(this,null,function*(){Ze(this);var o=i?i.lwt:Jn,a=i?i.id:"",s=yield this.internals,[c,l]=yield Promise.all([s.dexieTable,s.dexieDeletedTable].map(f=>D(this,null,function*(){var m=f.where("[_meta.lwt+"+this.primaryPath+"]").above([o,a]).limit(r),h=yield m.toArray();return h.map(p=>wr(p))}))),u=c.slice(0);ar(u,l),u=Ju(this.primaryPath,u),u=u.slice(0,r);var d=Uu(u);return{documents:u,checkpoint:d?{id:d[this.primaryPath],lwt:d._meta.lwt}:i||{id:"",lwt:0}}})},t.remove=function(){return D(this,null,function*(){Ze(this);var r=yield this.internals;return yield Promise.all([r.dexieDeletedTable.clear(),r.dexieTable.clear()]),this.close()})},t.changeStream=function(){return Ze(this),this.changes$.asObservable()},t.cleanup=function(r){return D(this,null,function*(){Ze(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieDeletedTable,()=>D(this,null,function*(){var o=mt()-r,a=yield i.dexieDeletedTable.where("_meta.lwt").below(o).toArray(),s=a.map(c=>c[this.primaryPath]);yield i.dexieDeletedTable.bulkDelete(s)})),!0})},t.getAttachmentData=function(r,i,o){throw Ze(this),new Error("Attachments are not implemented in the dexie RxStorage. Make a pull request.")},t.close=function(){return Ze(this),this.closed=!0,this.changes$.complete(),Gp(this.internals),jt},t.conflictResultionTasks=function(){return new V},t.resolveConflictResultionTask=function(r){return D(this,null,function*(){})},e}();function nh(e,t,n){var r=Xp(t.databaseName,t.collectionName,n,t.schema),i=new Jx(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return Ym(Pa,t,i),Promise.resolve(i)}function Ze(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var t0=function(){function e(n){this.name=Pa,this.statics=Ta,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return Ed(r),Zp(r.schema),nh(this,r,this.settings)},e}();function ih(e={}){var t=new t0(e);return t}function oh(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw Ct("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!n.includes(r))throw Ct("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:n}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw v("QU15",{collection:e.collection.name,query:e.queryObj})}function ah(e){var t=e.rxQuery.collection.schema.jsonSchema,n=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(n).filter(s=>!s.startsWith("$")).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw v("QU13",{schema:t,field:s,query:e.mangoQuery})});var i=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=i.find(s=>ur(s,o));if(!a)throw v("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!e0(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw v("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(s=>Object.keys(s)[0]).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw v("QU13",{schema:t,field:s,query:e.mangoQuery})})}function e0(e,t){var n=Ta.prepareQuery(e,t);return n.queryPlan.selectorSatisfiedByIndex}function sh(e,t){if(!e)throw v("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw v("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw v("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw v("DOC23",{primaryKey:e,document:t})}function r0(e){return!e||typeof e=="string"||typeof e=="number"?e:Es(e)}var n0="dev-mode",ch={name:n0,rxdb:!0,init:()=>{console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium.html","","Also take part in the RxDB User Survey: https://rxdb.info/survey.html","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:r0,tunnelErrorMessage(e){if(!Dc[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return Dc[e]}},hooks:{preCreateRxSchema:{after:Jm},preCreateRxDatabase:{after:function(e){np(e)}},preCreateRxCollection:{after:function(e){if(rp(e),tp(e.schema,e.methods),e.name.charAt(0)==="_")throw v("DB2",{name:e.name});if(!e.schema)throw v("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){sh(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){oh(e)}},prePrepareQuery:{after:e=>{ah(e)}},createRxCollection:{after:e=>{oa(e.creator.statics),oa(e.creator.methods),oa(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&ep(e.creator.schema,e.creator.migrationStrategies)}}}};var Gl=_b(Qg());function kw(e){return this.incrementalModify(t=>{var n=(0,Gl.default)(t,e);return n})}function Aw(e){var t=this._data,n=(0,Gl.default)(t,e);return this._saveData(n,t)}function Iw(e){return this.exec().then(t=>t?Array.isArray(t)?Promise.all(t.map(n=>n.update(e))).then(()=>t):t.update(e).then(()=>t):null)}var Xg={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=Aw,e.incrementalUpdate=kw},RxQuery:e=>{e.update=Iw}}};var Pw={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function Tw(){return D(this,null,function*(){hi(Qm),hi(Xg),Su()&&hi(ch)})}Tw();var _3=(()=>{let t=class t{constructor(){this.dataBaseReadySubj=new Qi(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(r){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[r]}initDB(r){return D(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===r&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield vm({name:r,storage:ih(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:Pw}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var C3=(()=>{let t=class t{constructor(){this.activePortal=new V,this.portal$=this.activePortal.asObservable()}setPortal(r){this.activePortal.next(r)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function k3(e){return e&&typeof e.connect=="function"&&!(e instanceof mu)}var Gg=class{applyChanges(t,n,r,i,o){t.forEachOperation((a,s,c)=>{let l,u;if(a.previousIndex==null){let d=r(a,s,c);l=n.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else c==null?(n.remove(s),u=3):(l=n.get(s),n.move(l,c),u=2);o&&o({context:l?.context,operation:u,record:a})})}detach(){}};var Zg=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,n,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new V,n&&n.length&&(t?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...t){this._verifyValueAssignment(t);let n=this.selected,r=new Set(t);t.forEach(o=>this._markSelected(o)),n.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let n=this._hasQueuedChanges();return t&&this._emitChangeEvent(),n}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let n of this._selection)if(this.compareWith(t,n))return n;return t}else return t}};var A3=new kt("_ViewRepeater");var $w=20,Zl=(()=>{let t=class t{constructor(r,i,o){this._ngZone=r,this._platform=i,this._scrolled=new V,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=$w){return this._platform.isBrowser?new fu(i=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(Xa(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Hn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let o=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(it(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,r)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let o=Au(i),a=r.getElementRef().nativeElement;do if(o==a)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return hu(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(P(Et),P(Kt),P(yt,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Nw=20,Wa=(()=>{let t=class t{constructor(r,i,o){this._platform=r,this._change=new V,this._changeListener=a=>{this._change.next(a)},this._document=o,i.runOutsideAngular(()=>{if(r.isBrowser){let a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),o=r.documentElement,a=o.getBoundingClientRect(),s=-a.top||r.body.scrollTop||i.scrollY||o.scrollTop||0,c=-a.left||r.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:s,left:c}}change(r=Nw){return r>0?this._change.pipe(Xa(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(i){return new(i||t)(P(Kt),P(Et),P(yt,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Jg=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({});let e=t;return e})(),Jl=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({imports:[Xn,Jg,Xn,Jg]});let e=t;return e})();var tb=Ru(),tu=class{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ft(-this._previousScrollPosition.left),t.style.top=ft(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,r=t.style,i=n.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),tb&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tb&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var eu=class{constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(it(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},qa=class{enable(){}disable(){}attach(){}};function ru(e,t){return t.some(n=>{let r=e.bottom<n.top,i=e.top>n.bottom,o=e.right<n.left,a=e.left>n.right;return r||i||o||a})}function eb(e,t){return t.some(n=>{let r=e.top<n.top,i=e.bottom>n.bottom,o=e.left<n.left,a=e.right>n.right;return r||i||o||a})}var nu=class{constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ru(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Lw=(()=>{let t=class t{constructor(r,i,o,a){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new qa,this.close=s=>new eu(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new tu(this._viewportRuler,this._document),this.reposition=s=>new nu(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=a}};t.\u0275fac=function(i){return new(i||t)(P(Zl),P(Wa),P(Et),P(yt))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Sr=class{constructor(t){if(this.scrollStrategy=new qa,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let n=Object.keys(t);for(let r of n)t[r]!==void 0&&(this[r]=t[r])}}};var iu=class{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var ab=(()=>{let t=class t{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(i){return new(i||t)(P(yt))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jw=(()=>{let t=class t extends ab{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=o=>{let a=this._attachedOverlays;for(let s=a.length-1;s>-1;s--)if(a[s]._keydownEvents.observers.length>0){let c=a[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(i){return new(i||t)(P(yt),P(Et,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Vw=(()=>{let t=class t extends ab{constructor(r,i,o){super(r),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ns(a)},this._clickListener=a=>{let s=ns(a),c=a.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let d=l[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(c))break;let f=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(a)):f.next(a)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(i){return new(i||t)(P(yt),P(Kt),P(Et,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zn=(()=>{let t=class t{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||is()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}let i=this._document.createElement("div");i.classList.add(r),is()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};t.\u0275fac=function(i){return new(i||t)(P(yt),P(Kt))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Je=class{constructor(t,n,r,i,o,a,s,c,l,u=!1){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new V,this._attachments=new V,this._detachments=new V,this._locationChanges=tr.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new V,this._outsidePointerEvents=new V,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(er(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=L(L({},this._config),t),this._updateElementSize()}setDirection(t){this._config=gt(L({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ft(this._config.width),t.height=ft(this._config.height),t.minWidth=ft(this._config.minWidth),t.minHeight=ft(this._config.minHeight),t.maxWidth=ft(this._config.maxWidth),t.maxHeight=ft(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,r){let i=cs(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(qn(Wr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},rb="cdk-overlay-connected-position-bounding-box",zw=/([A-Za-z%]+)$/,ou=class{get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V,this._resizeSubscription=tr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(rb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],a;for(let s of this._preferredPositions){let c=this._getOriginPoint(t,i,s),l=this._getOverlayPoint(c,n,s),u=this._getOverlayFit(l,n,r,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,c);return}if(this._canFitWithFlexibleDimensions(u,l,r)){o.push({position:s,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:l,originPoint:c,position:s,overlayRect:n})}if(o.length){let s=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,s=l)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ur(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i=r.originX=="start"?a:s}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){let o=ib(n),{x:a,y:s}=t,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(a+=c),l&&(s+=l);let u=0-a,d=a+o.width-r.width,f=0-s,m=s+o.height-r.height,h=this._subtractOverflows(o.width,u,d),p=this._subtractOverflows(o.height,f,m),_=h*p;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:p===o.height,fitsInViewportHorizontally:h==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,a=nb(this._overlayRef.getConfig().minHeight),s=nb(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||a!=null&&a<=i,l=t.fitsInViewportHorizontally||s!=null&&s<=o;return c&&l}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=ib(n),o=this._viewportRect,a=Math.max(t.x+i.width-o.width,0),s=Math.max(t.y+i.height-o.height,0),c=Math.max(o.top-r.top-t.y,0),l=Math.max(o.left-r.left-t.x,0),u=0,d=0;return i.width<=o.width?u=l||-a:u=t.x<this._viewportMargin?o.left-r.left-t.x:0,i.height<=o.height?d=c||-s:d=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){let r=this._getScrollVisibility(),i=new iu(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){let r=this._viewportRect,i=this._isRtl(),o,a,s;if(n.overlayY==="top")a=t.y,o=r.height-a+this._viewportMargin;else if(n.overlayY==="bottom")s=r.height-t.y+this._viewportMargin*2,o=r.height-s+this._viewportMargin;else{let m=Math.min(r.bottom-t.y+r.top,t.y),h=this._lastBoundingBoxSize.height;o=m*2,a=t.y-m,o>h&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-h/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,u,d,f;if(l)f=r.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if(c)d=t.x,u=r.right-t.x;else{let m=Math.min(r.right-t.x+r.left,t.x),h=this._lastBoundingBoxSize.width;u=m*2,d=t.x-m,u>h&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-h/2)}return{top:a,left:d,bottom:s,right:f,width:u,height:o}}_setBoundingBoxStyles(t,n){let r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=ft(r.height),i.top=ft(r.top),i.bottom=ft(r.bottom),i.width=ft(r.width),i.left=ft(r.left),i.right=ft(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=ft(o)),a&&(i.maxWidth=ft(a))}this._lastBoundingBoxSize=r,Ur(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ur(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ur(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Ur(r,this._getExactOverlayY(n,t,u)),Ur(r,this._getExactOverlayX(n,t,u))}else r.position="static";let s="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),r.transform=s.trim(),a.maxHeight&&(i?r.maxHeight=ft(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=ft(a.maxWidth):o&&(r.maxWidth="")),Ur(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;i.bottom=`${a-(o.y+this._overlayRect.height)}px`}else i.top=ft(o.y);return i}_getExactOverlayX(t,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;i.right=`${s-(o.x+this._overlayRect.width)}px`}else i.left=ft(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:eb(t,r),isOriginOutsideView:ru(t,r),isOverlayClipped:eb(n,r),isOverlayOutsideView:ru(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&cs(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof vt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}};function Ur(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function nb(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(zw);return!n||n==="px"?parseFloat(t):null}return e||null}function ib(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var ob="cdk-global-overlay-wrapper",au=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ob),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:s}=r,c=(i==="100%"||i==="100vw")&&(!a||a==="100%"||a==="100vw"),l=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,d=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",m="",h="",p="";c?p="flex-start":u==="center"?(p="center",f?h=d:m=d):f?u==="left"||u==="end"?(p="flex-end",m=d):(u==="right"||u==="start")&&(p="flex-start",h=d):u==="left"||u==="start"?(p="flex-start",m=d):(u==="right"||u==="end")&&(p="flex-end",h=d),t.position=this._cssPosition,t.marginLeft=c?"0":m,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":h,n.justifyContent=p,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(ob),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},Uw=(()=>{let t=class t{constructor(r,i,o,a){this._viewportRuler=r,this._document=i,this._platform=o,this._overlayContainer=a}global(){return new au}flexibleConnectedTo(r){return new ou(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(i){return new(i||t)(P(Wa),P(yt),P(Kt),P(zn))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Kw=0,Gt=(()=>{let t=class t{constructor(r,i,o,a,s,c,l,u,d,f,m,h){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=s,this._injector=c,this._ngZone=l,this._document=u,this._directionality=d,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=h}create(r){let i=this._createHostElement(),o=this._createPaneElement(i),a=this._createPortalOutlet(o),s=new Sr(r);return s.direction=s.direction||this._directionality.value,new Je(a,i,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${Kw++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Cu)),new ao(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(i){return new(i||t)(P(Lw),P(zn),P(Gi),P(Uw),P(jw),P(At),P(Et),P(yt),P(rn),P(to),P(Vw),P(he,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hw=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sb=new kt("cdk-connected-overlay-scroll-strategy"),Ww=(()=>{let t=class t{constructor(r){this.elementRef=r}};t.\u0275fac=function(i){return new(i||t)(I(vt))},t.\u0275dir=bt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let e=t;return e})(),c8=(()=>{let t=class t{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,i,o,a,s){this._overlay=r,this._dir=s,this._backdropSubscription=tr.EMPTY,this._attachSubscription=tr.EMPTY,this._detachSubscription=tr.EMPTY,this._positionSubscription=tr.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new ie,this.positionChange=new ie,this.attach=new ie,this.detach=new ie,this.overlayKeydown=new ie,this.overlayOutsideClick=new ie,this._templatePortal=new _e(i,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Hw);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!tn(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Sr({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(r){let i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(r),r}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Ww?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(bu(()=>this.positionChange.observers.length>0)).subscribe(r=>{this.positionChange.emit(r),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(I(Gt),I(Te),I(Xr),I(sb),I(rn,8))},t.\u0275dir=bt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop",ye],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition",ye],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ye],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ye],push:["cdkConnectedOverlayPush","push",ye],disposeOnNavigation:["cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ye]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Qr,Yn]});let e=t;return e})();function qw(e){return()=>e.scrollStrategies.reposition()}var Yw={provide:sb,deps:[Gt],useFactory:qw},Un=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({providers:[Gt,Yw],imports:[Xn,Jt,Jl,Jl]});let e=t;return e})();function Qw(e,t){if(e&1){let n=xu();be(0,"div",1)(1,"button",2),Ji("click",function(){vu(n);let i=ts();return yu(i.action())}),es(2),ae()()}if(e&2){let n=ts();Yr(2),rs(" ",n.data.action," ")}}var Xw=["label"];function Gw(e,t){}var Zw=Math.pow(2,31)-1,Ki=class{constructor(t,n){this._overlayRef=n,this._afterDismissed=new V,this._afterOpened=new V,this._onAction=new V,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Zw))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},lb=new kt("MatSnackBarData"),Kn=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Jw=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),tE=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),eE=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),ub=(()=>{let t=class t{constructor(r,i){this.snackBarRef=r,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(i){return new(i||t)(I(Ki),I(lb))},t.\u0275cmp=Zt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[rr],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,o){i&1&&(be(0,"div",0),es(1),ae(),Dr(2,Qw,3,1,"div",1)),i&2&&(Yr(1),rs(" ",o.data.message,`
`),Yr(1),_u(2,o.hasAction?2:-1))},dependencies:[ms,Vu,Jw,tE,eE,Du],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),rE={snackBarState:ku("state",[as("void, hidden",ro({transform:"scale(0.8)",opacity:0})),as("visible",ro({transform:"scale(1)",opacity:1})),ss("* => visible",os("150ms cubic-bezier(0, 0, 0.2, 1)")),ss("* => void, * => hidden",os("75ms cubic-bezier(0.4, 0.0, 1, 1)",ro({opacity:0})))])},nE=0,db=(()=>{let t=class t extends nr{constructor(r,i,o,a,s){super(),this._ngZone=r,this._elementRef=i,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=s,this._document=Ie(yt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new V,this._onExit=new V,this._onEnter=new V,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${nE++}`,this.attachDomPortal=c=>{this._assertNotAttached();let l=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),l},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),i}attachTemplatePortal(r){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),i}onAnimationEnd(r){let{fromState:i,toState:o}=r;if((o==="void"&&i!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(er(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){let r=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>r.classList.add(s)):r.classList.add(i)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let r=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){let a=i[o],s=a.getAttribute("aria-owns");this._trackedModals.add(a),s?s.indexOf(r)===-1&&a.setAttribute("aria-owns",s+" "+r):a.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let i=r.getAttribute("aria-owns");if(i){let o=i.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(i){return new(i||t)(I(Et),I(vt),I(Za),I(Kt),I(Kn))},t.\u0275cmp=Zt({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,o){if(i&1&&(Zr(xe,7),Zr(Xw,7)),i&2){let a;Gr(a=Jr())&&(o._portalOutlet=a.first),Gr(a=Jr())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,o){i&1&&Eu("@state.done",function(s){return o.onAnimationEnd(s)}),i&2&&wu("@state",o._animationState)},standalone:!0,features:[$t,rr],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(be(0,"div",0)(1,"div",1,2)(3,"div",3),Dr(4,Gw,0,0,"ng-template",4),ae(),ve(5,"div"),ae()()),i&2&&(Yr(5),oe("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[Jt,xe],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[rE.snackBarState]}});let e=t;return e})();function iE(){return new Kn}var oE=new kt("mat-snack-bar-default-options",{providedIn:"root",factory:iE}),aE=(()=>{let t=class t{get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(r,i,o,a,s,c){this._overlay=r,this._live=i,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=s,this._defaultConfig=c,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ub,this.snackBarContainerComponent=db,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(r,i){return this._attach(r,i)}openFromTemplate(r,i){return this._attach(r,i)}open(r,i="",o){let a=L(L({},this._defaultConfig),o);return a.data={message:r,action:i},a.announcementMessage===r&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,i){let o=i&&i.viewContainerRef&&i.viewContainerRef.injector,a=At.create({parent:o||this._injector,providers:[{provide:Kn,useValue:i}]}),s=new $e(this.snackBarContainerComponent,i.viewContainerRef,a),c=r.attach(s);return c.instance.snackBarConfig=i,c.instance}_attach(r,i){let o=L(L(L({},new Kn),this._defaultConfig),i),a=this._createOverlay(o),s=this._attachSnackBarContainer(a,o),c=new Ki(s,a);if(r instanceof Te){let l=new _e(r,null,{$implicit:o.data,snackBarRef:c});c.instance=s.attachTemplatePortal(l)}else{let l=this._createInjector(o,c),u=new $e(r,void 0,l),d=s.attachComponentPortal(u);c.instance=d.instance}return this._breakpointObserver.observe(Pu.HandsetPortrait).pipe(qn(a.detachments())).subscribe(l=>{a.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(c,o),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(r,i){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),i.duration&&i.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(i.duration))}_createOverlay(r){let i=new Sr;i.direction=r.direction;let o=this._overlay.position().global(),a=r.direction==="rtl",s=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!a||r.horizontalPosition==="end"&&a,c=!s&&r.horizontalPosition!=="center";return s?o.left("0"):c?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(r,i){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return At.create({parent:o||this._injector,providers:[{provide:Ki,useValue:i},{provide:lb,useValue:r.data}]})}};t.\u0275fac=function(i){return new(i||t)(P(Gt),P(Tu),P(At),P(Iu),P(t,12),P(oE))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var P8=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({providers:[aE],imports:[Un,Jt,ms,Me,ub,db,Me]});let e=t;return e})();function sE(e,t){}var Kr=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Ya=(()=>{let t=class t extends nr{constructor(r,i,o,a,s,c,l,u){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=s,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();let f=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),f},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r.removeEventListener("blur",o),r.removeEventListener("mousedown",o),r.removeAttribute("tabindex")};r.addEventListener("blur",o),r.addEventListener("mousedown",o)})),r.focus(i)}_focusByCssSelector(r,i){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let o=eo(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=eo();return r===i||r.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=eo())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(i){return new(i||t)(I(vt),I(oo),I(yt,8),I(Kr),I(io),I(Et),I(Je),I(en))},t.\u0275cmp=Zt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(i&1&&Zr(xe,7),i&2){let a;Gr(a=Jr())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){i&2&&oe("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[$t,rr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&Dr(0,sE,0,0,"ng-template",0)},dependencies:[Jt,xe],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Hi=class{constructor(t,n){this.overlayRef=t,this.config=n,this.closed=new V,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!tn(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},cE=new kt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=Ie(Gt);return()=>e.scrollStrategies.block()}}),lE=new kt("DialogData"),uE=new kt("DefaultDialogConfig");var dE=0,lu=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,o,a,s,c){this._overlay=r,this._injector=i,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new V,this._afterOpenedAtThisLevel=new V,this._ariaHiddenElements=new Map,this.afterAllClosed=Xi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ae(void 0))),this._scrollStrategy=c}open(r,i){let o=this._defaultOptions||new Kr;i=L(L({},o),i),i.id=i.id||`cdk-dialog-${dE++}`,i.id&&this.getDialogById(i.id);let a=this._getOverlayConfig(i),s=this._overlay.create(a),c=new Hi(s,i),l=this._attachContainer(s,c,i);return c.containerInstance=l,this._attachDialogContent(r,c,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){cu(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){cu(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),cu(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new Sr({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,o){let a=o.injector||o.viewContainerRef?.injector,s=[{provide:Kr,useValue:o},{provide:Hi,useValue:i},{provide:Je,useValue:r}],c;o.container?typeof o.container=="function"?c=o.container:(c=o.container.type,s.push(...o.container.providers(o))):c=Ya;let l=new $e(c,o.viewContainerRef,At.create({parent:a||this._injector,providers:s}),o.componentFactoryResolver);return r.attach(l).instance}_attachDialogContent(r,i,o,a){if(r instanceof Te){let s=this._createInjector(a,i,o,void 0),c={$implicit:a.data,dialogRef:i};a.templateContext&&(c=L(L({},c),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),o.attachTemplatePortal(new _e(r,null,c,s))}else{let s=this._createInjector(a,i,o,this._injector),c=o.attachComponentPortal(new $e(r,a.viewContainerRef,s,a.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,o,a){let s=r.injector||r.viewContainerRef?.injector,c=[{provide:lE,useValue:r.data},{provide:Hi,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,o)):c.push(...r.providers)),r.direction&&(!s||!s.get(rn,null,{optional:!0}))&&c.push({provide:rn,useValue:{value:r.direction,change:Hn()}}),At.create({parent:s||a,providers:c})}_removeOpenDialog(r,i){let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,s)=>{a?s.setAttribute("aria-hidden",a):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let o=i.length-1;o>-1;o--){let a=i[o];a!==r&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(i){return new(i||t)(P(Gt),P(At),P(uE,8),P(t,12),P(zn),P(cE))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function cu(e,t){let n=e.length;for(;n--;)t(e[n])}var fb=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({providers:[lu],imports:[Un,Jt,Mu,Ya,Jt]});let e=t;return e})();function fE(e,t){}var Wi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},uu="mdc-dialog--open",mb="mdc-dialog--opening",pb="mdc-dialog--closing",mE=150,pE=75,bb=(()=>{let t=class t extends Ya{constructor(r,i,o,a,s,c,l,u,d){super(r,i,o,a,s,c,l,d),this._animationMode=u,this._animationStateChanged=new ie,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?gb(this._config.enterAnimationDuration)??mE:0,this._exitAnimationDuration=this._animationsEnabled?gb(this._config.exitAnimationDuration)??pE:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(hb,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mb,uu)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(uu),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(uu),this._animationsEnabled?(this._hostElement.style.setProperty(hb,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(pb)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(mb,pb)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};t.\u0275fac=function(i){return new(i||t)(I(vt),I(oo),I(yt,8),I(Wi),I(io),I(Et),I(Je),I(he,8),I(en))},t.\u0275cmp=Zt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,o){i&2&&(Ja("id",o._config.id),oe("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),ge("_mat-animation-noopable",!o._animationsEnabled))},standalone:!0,features:[$t,rr],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(be(0,"div",0)(1,"div",1),Dr(2,fE,0,0,"ng-template",2),ae()())},dependencies:[Jt,xe],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),hb="--mat-dialog-transition-duration";function gb(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?no(e.substring(0,e.length-2)):e.endsWith("s")?no(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var qi=class{constructor(t,n,r){this._ref=t,this._containerInstance=r,this._afterOpened=new V,this._beforeClosed=new V,this._state=0,this.disableClose=n.disableClose,this.id=t.id,r._animationStateChanged.pipe(it(i=>i.state==="opened"),er(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(it(i=>i.state==="closed"),er(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Wr(this.backdropClick(),this.keydownEvents().pipe(it(i=>i.keyCode===27&&!this.disableClose&&!tn(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),vb(this,i.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(it(n=>n.state==="closing"),er(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function vb(e,t,n){return e._closeInteractionType=t,e.close(n)}var hE=new kt("MatMdcDialogData"),gE=new kt("mat-mdc-dialog-default-options"),bE=new kt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=Ie(Gt);return()=>e.scrollStrategies.block()}});var vE=0,du=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,o,a,s,c,l,u){this._overlay=r,this._defaultOptions=a,this._scrollStrategy=s,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new V,this._afterOpenedAtThisLevel=new V,this.dialogConfigClass=Wi,this.afterAllClosed=Xi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ae(void 0))),this._dialog=i.get(lu),this._dialogRefConstructor=qi,this._dialogContainerType=bb,this._dialogDataToken=hE}open(r,i){let o;i=L(L({},this._defaultOptions||new Wi),i),i.id=i.id||`mat-mdc-dialog-${vE++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(r,gt(L({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Kr,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(s,c,l)=>(o=new this._dialogRefConstructor(s,i,l),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=a.componentRef,o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};t.\u0275fac=function(i){return new(i||t)(P(Gt),P(At),P(to,8),P(gE,8),P(bE),P(t,12),P(zn),P(he,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yE=0,EK=(()=>{let t=class t{constructor(r,i,o){this.dialogRef=r,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=yb(this._elementRef,this._dialog.openDialogs))}ngOnChanges(r){let i=r._matDialogClose||r._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(r){vb(this.dialogRef,r.screenX===0&&r.screenY===0?"keyboard":"mouse",this.dialogResult)}};t.\u0275fac=function(i){return new(i||t)(I(qi,8),I(vt),I(du))},t.\u0275dir=bt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){i&1&&Ji("click",function(s){return o._onButtonClick(s)}),i&2&&oe("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Yn]});let e=t;return e})(),CK=(()=>{let t=class t{constructor(r,i,o){this._dialogRef=r,this._elementRef=i,this._dialog=o,this.id=`mat-mdc-dialog-title-${yE++}`}ngOnInit(){this._dialogRef||(this._dialogRef=yb(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){let r=this._dialogRef?._containerInstance?._ariaLabelledByQueue;r&&Promise.resolve().then(()=>{let i=r.indexOf(this.id);i>-1&&r.splice(i,1)})}};t.\u0275fac=function(i){return new(i||t)(I(qi,8),I(vt),I(du))},t.\u0275dir=bt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,o){i&2&&Ja("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0});let e=t;return e})(),SK=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let e=t;return e})(),OK=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,o){i&2&&ge("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0});let e=t;return e})();function yb(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?t.find(r=>r.id===n.id):null}var DK=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=Tt({providers:[du],imports:[fb,Un,Jt,Me,bb,Me]});let e=t;return e})();export{$e as a,_e as b,DE as c,xe as d,Jt as e,Vu as f,jE as g,VE as h,ms as i,_3 as j,C3 as k,k3 as l,Gg as m,Zg as n,A3 as o,Zl as p,Wa as q,Jg as r,Jl as s,Sr as t,Gt as u,Ww as v,c8 as w,Un as x,qi as y,hE as z,du as A,EK as B,CK as C,SK as D,OK as E,DK as F,oE as G,aE as H,P8 as I};
