import{$a as cm,$b as he,A as qh,Aa as Zt,Ab as mm,Ad as Fm,B as to,Bb as jo,Cb as pm,D as Po,Da as nm,Db as fu,E as _t,Ea as Jt,Eb as qi,Ed as Bm,F as ru,Fb as zr,Fc as Em,G as Mo,Gc as sr,Gd as jm,H as To,Hb as Uo,Ia as om,Ib as io,J as nu,Ja as $o,Jb as ao,Jc as Vo,K as yr,Ka as im,Kc as ws,La as no,Lc as qo,M as No,Ma as am,Mc as Cs,N as Lo,Na as Fo,Nb as hu,Nc as Ss,O as hn,Oa as jr,Oc as pu,P as ou,Pa as Bo,Pb as mu,Pc as Ki,Q as Wh,Qa as pn,Qc as Wo,R as Kh,Ra as Ur,S as iu,Sa as sm,Sc as Rs,T as Hh,Ta as gn,Tc as gu,U as zi,Uc as Ht,V as ir,Va as cu,Vc as km,W as Ye,Wa as bs,X as eo,Xa as lu,Xb as zo,Xc as Am,Y as Qh,Ya as Ce,Yb as gm,Yc as Im,Z as xe,Za as te,Zb as wr,_ as Oe,_a as Ut,a as j,aa as ct,ab as fe,ac as vm,b as gt,ba as Gt,bb as lm,ca as Yh,cb as vn,cc as ym,cd as Pm,d as A_,da as pt,db as oo,dd as Mm,e as gs,ea as au,eb as um,ec as bm,f as I_,fa as jt,fb as dm,fc as _m,g as U,ga as I,gb as Vi,gd as Tm,h as vr,ha as su,hb as uu,hc as Se,hd as Os,i as jh,ia as Gh,ib as _s,id as Nm,j as vs,ja as Xh,jb as Fe,jc as xm,jd as qr,k as ji,kc as Wi,kd as yn,l as Jn,la as ro,lb as _r,ld as Hi,m as at,ma as br,mb as xs,mc as wm,n as be,nc as Cm,o as Uh,oa as mn,ob as fm,oc as Vr,od as Wr,p as Br,pa as Zh,q as _e,qa as Jh,r as rt,rd as Lm,s as Ui,sb as xr,t as Io,ta as de,tb as ar,td as $m,u as zh,ua as tm,ub as Ge,uc as Sm,v as Vh,va as Xt,vc as Rm,w as lt,wc as Om,x as ys,xa as em,xc as Dm,y as Kt,ya as rm,yb as hm,z as eu,za as we,zb as du}from"./chunk-RXPMPZCQ.js";var sb=A_((Df,Ef)=>{"use strict";(function(t,e){typeof Df=="object"&&typeof Ef<"u"?Ef.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).Dexie=e()})(Df,function(){"use strict";var t=function(a,c){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])})(a,c)},e=function(){return(e=Object.assign||function(a){for(var c,u=1,f=arguments.length;u<f;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h]);return a}).apply(this,arguments)};function r(a,c,u){if(u||arguments.length===2)for(var f,h=0,g=c.length;h<g;h++)!f&&h in c||((f=f||Array.prototype.slice.call(c,0,h))[h]=c[h]);return a.concat(f||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,i=Array.isArray;function s(a,c){return typeof c!="object"||o(c).forEach(function(u){a[u]=c[u]}),a}typeof Promise>"u"||n.Promise||(n.Promise=Promise);var l=Object.getPrototypeOf,d={}.hasOwnProperty;function m(a,c){return d.call(a,c)}function p(a,c){typeof c=="function"&&(c=c(l(a))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(u){w(a,u,c[u])})}var y=Object.defineProperty;function w(a,c,u,f){y(a,c,s(u&&m(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function k(a){return{from:function(c){return a.prototype=Object.create(c.prototype),w(a.prototype,"constructor",a),{extend:p.bind(null,a.prototype)}}}}var N=Object.getOwnPropertyDescriptor,B=[].slice;function Q(a,c,u){return B.call(a,c,u)}function J(a,c){return c(a)}function nt(a){if(!a)throw new Error("Assertion Failed")}function tt(a){n.setImmediate?setImmediate(a):setTimeout(a,0)}function kt(a,c){if(typeof c=="string"&&m(a,c))return a[c];if(!c)return a;if(typeof c!="string"){for(var u=[],f=0,h=c.length;f<h;++f){var g=kt(a,c[f]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var b=a[c.substr(0,v)];return b==null?void 0:kt(b,c.substr(v+1))}}function st(a,c,u){if(a&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof c!="string"&&"length"in c){nt(typeof u!="string"&&"length"in u);for(var f=0,h=c.length;f<h;++f)st(a,c[f],u[f])}else{var g,v,b=c.indexOf(".");b!==-1?(g=c.substr(0,b),(v=c.substr(b+1))===""?u===void 0?i(a)&&!isNaN(parseInt(g))?a.splice(g,1):delete a[g]:a[g]=u:st(b=!(b=a[g])||!m(a,g)?a[g]={}:b,v,u)):u===void 0?i(a)&&!isNaN(parseInt(c))?a.splice(c,1):delete a[c]:a[c]=u}}function Pt(a){var c,u={};for(c in a)m(a,c)&&(u[c]=a[c]);return u}var Ot=[].concat;function $t(a){return Ot.apply([],a)}var $r="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($t([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(c){return c+a+"Array"})}))).filter(function(a){return n[a]}),ue=new Set($r.map(function(a){return n[a]})),Ne=null;function rr(a){return Ne=new WeakMap,a=function c(u){if(!u||typeof u!="object")return u;var f=Ne.get(u);if(f)return f;if(i(u)){f=[],Ne.set(u,f);for(var h=0,g=u.length;h<g;++h)f.push(c(u[h]))}else if(ue.has(u.constructor))f=u;else{var v,b=l(u);for(v in f=b===Object.prototype?{}:Object.create(b),Ne.set(u,f),u)m(u,v)&&(f[v]=c(u[v]))}return f}(a),Ne=null,a}var zn={}.toString;function nr(a){return zn.call(a).slice(8,-1)}var Si=typeof Symbol<"u"?Symbol.iterator:"@@iterator",vl=typeof Si=="symbol"?function(a){var c;return a!=null&&(c=a[Si])&&c.apply(a)}:function(){return null};function Nr(a,c){return c=a.indexOf(c),0<=c&&a.splice(c,1),0<=c}var rn={};function Ie(a){var c,u,f,h;if(arguments.length===1){if(i(a))return a.slice();if(this===rn&&typeof a=="string")return[a];if(h=vl(a)){for(u=[];!(f=h.next()).done;)u.push(f.value);return u}if(a==null)return[a];if(typeof(c=a.length)!="number")return[a];for(u=new Array(c);c--;)u[c]=a[c];return u}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var nn=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ei=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Qe=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ei),Ri={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function or(a,c){this.name=a,this.message=c}function za(a,c){return a+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function re(a,c,u,f){this.failures=c,this.failedKeys=f,this.successCount=u,this.message=za(a,c)}function ne(a,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=za(a,this.failures)}k(or).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(re).from(or),k(ne).from(or);var on=Qe.reduce(function(a,c){return a[c]=c+"Error",a},{}),yl=or,ot=Qe.reduce(function(a,c){var u=c+"Error";function f(h,g){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ri[c]||u,this.inner=null)}return k(f).from(yl),a[c]=f,a},{});ot.Syntax=SyntaxError,ot.Type=TypeError,ot.Range=RangeError;var ah=Ei.reduce(function(a,c){return a[c+"Error"]=ot[c],a},{}),Va=Qe.reduce(function(a,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(a[c+"Error"]=ot[c]),a},{});function At(){}function Oi(a){return a}function t_(a,c){return a==null||a===Oi?c:function(u){return c(a(u))}}function Vn(a,c){return function(){a.apply(this,arguments),c.apply(this,arguments)}}function e_(a,c){return a===At?c:function(){var u=a.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?Vn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Vn(h,this.onerror):h),g!==void 0?g:u}}function r_(a,c){return a===At?c:function(){a.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Vn(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Vn(f,this.onerror):f)}}function n_(a,c){return a===At?c:function(u){var f=a.apply(this,arguments);s(u,f);var h=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=c.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?Vn(h,this.onsuccess):h),g&&(this.onerror=this.onerror?Vn(g,this.onerror):g),f===void 0?u===void 0?void 0:u:s(f,u)}}function o_(a,c){return a===At?c:function(){return c.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function bl(a,c){return a===At?c:function(){var u=a.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return u.then(function(){return c.apply(f,g)})}return c.apply(this,arguments)}}Va.ModifyError=re,Va.DexieError=or,Va.BulkError=ne;var mr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function sh(a){mr=a}var Di={},ch=100,$r=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,l(a),a];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,l(c),a]}(),Ei=$r[0],Qe=$r[1],$r=$r[2],Qe=Qe&&Qe.then,qn=Ei&&Ei.constructor,_l=!!$r,ki=function(a,c){Ai.push([a,c]),qa&&(queueMicrotask(a_),qa=!1)},xl=!0,qa=!0,Wn=[],Wa=[],wl=Oi,an={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:At,pgp:!1,env:{},finalize:At},et=an,Ai=[],Kn=0,Ka=[];function G(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=et;if(typeof a!="function"){if(a!==Di)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Sl(this,this._value))}this._state=null,this._value=null,++c.ref,function u(f,h){try{h(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&So();g&&typeof g.then=="function"?u(f,function(b,x){g instanceof G?g._then(b,x):g.then(b,x)}):(f._state=!0,f._value=g,uh(f)),v&&Ro()}},Sl.bind(null,f))}catch(g){Sl(f,g)}}(this,a)}var Cl={get:function(){var a=et,c=Ga;function u(f,h){var g=this,v=!a.global&&(a!==et||c!==Ga),b=v&&!cn(),x=new G(function(S,D){Rl(g,new lh(fh(f,a,v,b),fh(h,a,v,b),S,D,a))});return this._consoleTask&&(x._consoleTask=this._consoleTask),x}return u.prototype=Di,u},set:function(a){w(this,"then",a&&a.prototype===Di?Cl:{get:function(){return a},set:Cl.set})}};function lh(a,c,u,f,h){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=f,this.psd=h}function Sl(a,c){var u,f;Wa.push(c),a._state===null&&(u=a._lib&&So(),c=wl(c),a._state=!1,a._value=c,f=a,Wn.some(function(h){return h._value===f._value})||Wn.push(f),uh(a),u&&Ro())}function uh(a){var c=a._listeners;a._listeners=[];for(var u=0,f=c.length;u<f;++u)Rl(a,c[u]);var h=a._PSD;--h.ref||h.finalize(),Kn===0&&(++Kn,ki(function(){--Kn==0&&Ol()},[]))}function Rl(a,c){if(a._state!==null){var u=a._state?c.onFulfilled:c.onRejected;if(u===null)return(a._state?c.resolve:c.reject)(a._value);++c.psd.ref,++Kn,ki(i_,[u,a,c])}else a._listeners.push(c)}function i_(a,c,u){try{var f,h=c._value;!c._state&&Wa.length&&(Wa=[]),f=mr&&c._consoleTask?c._consoleTask.run(function(){return a(h)}):a(h),c._state||Wa.indexOf(h)!==-1||function(g){for(var v=Wn.length;v;)if(Wn[--v]._value===g._value)return Wn.splice(v,1)}(c),u.resolve(f)}catch(g){u.reject(g)}finally{--Kn==0&&Ol(),--u.psd.ref||u.psd.finalize()}}function a_(){Hn(an,function(){So()&&Ro()})}function So(){var a=xl;return qa=xl=!1,a}function Ro(){var a,c,u;do for(;0<Ai.length;)for(a=Ai,Ai=[],u=a.length,c=0;c<u;++c){var f=a[c];f[0].apply(null,f[1])}while(0<Ai.length);qa=xl=!0}function Ol(){var a=Wn;Wn=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=Ka.slice(0),u=c.length;u;)c[--u]()}function Ha(a){return new G(Di,!1,a)}function Bt(a,c){var u=et;return function(){var f=So(),h=et;try{return ln(u,!0),a.apply(this,arguments)}catch(g){c&&c(g)}finally{ln(h,!1),f&&Ro()}}}p(G.prototype,{then:Cl,_then:function(a,c){Rl(this,new lh(null,null,a,c,et))},catch:function(a){if(arguments.length===1)return this.then(null,a);var c=a,u=arguments[1];return typeof c=="function"?this.then(null,function(f){return(f instanceof c?u:Ha)(f)}):this.then(null,function(f){return(f&&f.name===c?u:Ha)(f)})},finally:function(a){return this.then(function(c){return G.resolve(a()).then(function(){return c})},function(c){return G.resolve(a()).then(function(){return Ha(c)})})},timeout:function(a,c){var u=this;return a<1/0?new G(function(f,h){var g=setTimeout(function(){return h(new ot.Timeout(c))},a);u.then(f,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(G.prototype,Symbol.toStringTag,"Dexie.Promise"),an.env=dh(),p(G,{all:function(){var a=Ie.apply(null,arguments).map(Xa);return new G(function(c,u){a.length===0&&c([]);var f=a.length;a.forEach(function(h,g){return G.resolve(h).then(function(v){a[g]=v,--f||c(a)},u)})})},resolve:function(a){return a instanceof G?a:a&&typeof a.then=="function"?new G(function(c,u){a.then(c,u)}):new G(Di,!0,a)},reject:Ha,race:function(){var a=Ie.apply(null,arguments).map(Xa);return new G(function(c,u){a.map(function(f){return G.resolve(f).then(c,u)})})},PSD:{get:function(){return et},set:function(a){return et=a}},totalEchoes:{get:function(){return Ga}},newPSD:sn,usePSD:Hn,scheduler:{get:function(){return ki},set:function(a){ki=a}},rejectionMapper:{get:function(){return wl},set:function(a){wl=a}},follow:function(a,c){return new G(function(u,f){return sn(function(h,g){var v=et;v.unhandleds=[],v.onunhandled=g,v.finalize=Vn(function(){var b,x=this;b=function(){x.unhandleds.length===0?h():g(x.unhandleds[0])},Ka.push(function S(){b(),Ka.splice(Ka.indexOf(S),1)}),++Kn,ki(function(){--Kn==0&&Ol()},[])},v.finalize),a()},c,u,f)})}}),qn&&(qn.allSettled&&w(G,"allSettled",function(){var a=Ie.apply(null,arguments).map(Xa);return new G(function(c){a.length===0&&c([]);var u=a.length,f=new Array(u);a.forEach(function(h,g){return G.resolve(h).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||c(f)})})})}),qn.any&&typeof AggregateError<"u"&&w(G,"any",function(){var a=Ie.apply(null,arguments).map(Xa);return new G(function(c,u){a.length===0&&u(new AggregateError([]));var f=a.length,h=new Array(f);a.forEach(function(g,v){return G.resolve(g).then(function(b){return c(b)},function(b){h[v]=b,--f||u(new AggregateError(h))})})})}),qn.withResolvers&&(G.withResolvers=qn.withResolvers));var oe={awaits:0,echoes:0,id:0},s_=0,Qa=[],Ya=0,Ga=0,c_=0;function sn(a,c,u,f){var h=et,g=Object.create(h);return g.parent=h,g.ref=0,g.global=!1,g.id=++c_,an.env,g.env=_l?{Promise:G,PromiseProp:{value:G,configurable:!0,writable:!0},all:G.all,race:G.race,allSettled:G.allSettled,any:G.any,resolve:G.resolve,reject:G.reject}:{},c&&s(g,c),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=Hn(g,a,u,f),g.ref===0&&g.finalize(),f}function Oo(){return oe.id||(oe.id=++s_),++oe.awaits,oe.echoes+=ch,oe.id}function cn(){return!!oe.awaits&&(--oe.awaits==0&&(oe.id=0),oe.echoes=oe.awaits*ch,!0)}function Xa(a){return oe.echoes&&a&&a.constructor===qn?(Oo(),a.then(function(c){return cn(),c},function(c){return cn(),qt(c)})):a}function l_(){var a=Qa[Qa.length-1];Qa.pop(),ln(a,!1)}function ln(a,c){var u,f=et;(c?!oe.echoes||Ya++&&a===et:!Ya||--Ya&&a===et)||queueMicrotask(c?function(h){++Ga,oe.echoes&&--oe.echoes!=0||(oe.echoes=oe.awaits=oe.id=0),Qa.push(et),ln(h,!0)}.bind(null,a):l_),a!==et&&(et=a,f===an&&(an.env=dh()),_l&&(u=an.env.Promise,c=a.env,(f.global||a.global)&&(Object.defineProperty(n,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any&&(u.any=c.any))))}function dh(){var a=n.Promise;return _l?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Hn(a,c,u,f,h){var g=et;try{return ln(a,!0),c(u,f,h)}finally{ln(g,!1)}}function fh(a,c,u,f){return typeof a!="function"?a:function(){var h=et;u&&Oo(),ln(c,!0);try{return a.apply(this,arguments)}finally{ln(h,!1),f&&queueMicrotask(cn)}}}function Dl(a){Promise===qn&&oe.echoes===0?Ya===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Qe).indexOf("[native code]")===-1&&(Oo=cn=At);var qt=G.reject,Qn="\uFFFF",Lr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hh="String expected.",Do=[],Za="__dbnames",El="readonly",kl="readwrite";function Yn(a,c){return a?c?function(){return a.apply(this,arguments)&&c.apply(this,arguments)}:a:c}var mh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ja(a){return typeof a!="string"||/\./.test(a)?function(c){return c}:function(c){return c[a]===void 0&&a in c&&delete(c=rr(c))[a],c}}function ph(){throw ot.Type()}function bt(a,c){try{var u=gh(a),f=gh(c);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return c<a?1:a<c?-1:0;case"binary":return function(h,g){for(var v=h.length,b=g.length,x=v<b?v:b,S=0;S<x;++S)if(h[S]!==g[S])return h[S]<g[S]?-1:1;return v===b?0:v<b?-1:1}(vh(a),vh(c));case"Array":return function(h,g){for(var v=h.length,b=g.length,x=v<b?v:b,S=0;S<x;++S){var D=bt(h[S],g[S]);if(D!==0)return D}return v===b?0:v<b?-1:1}(a,c)}}catch{}return NaN}function gh(a){var c=typeof a;return c!="object"?c:ArrayBuffer.isView(a)?"binary":(a=nr(a),a==="ArrayBuffer"?"binary":a)}function vh(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var yh=(Ft.prototype._trans=function(a,c,u){var f=this._tx||et.trans,h=this.name,g=mr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function v(S,D,_){if(!_.schema[h])throw new ot.NotFound("Table "+h+" not part of transaction");return c(_.idbtrans,_)}var b=So();try{var x=f&&f.db._novip===this.db._novip?f===et.trans?f._promise(a,v,u):sn(function(){return f._promise(a,v,u)},{trans:f,transless:et.transless||et}):function S(D,_,A,C){if(D.idbdb&&(D._state.openComplete||et.letThrough||D._vip)){var O=D._createTransaction(_,A,D._dbSchema);try{O.create(),D._state.PR1398_maxLoop=3}catch(E){return E.name===on.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return S(D,_,A,C)})):qt(E)}return O._promise(_,function(E,R){return sn(function(){return et.trans=O,C(E,R,O)})}).then(function(E){if(_==="readwrite")try{O.idbtrans.commit()}catch{}return _==="readonly"?E:O._completion.then(function(){return E})})}if(D._state.openComplete)return qt(new ot.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return qt(new ot.DatabaseClosed);D.open().catch(At)}return D._state.dbReadyPromise.then(function(){return S(D,_,A,C)})}(this.db,a,[this.name],v);return g&&(x._consoleTask=g,x=x.catch(function(S){return console.trace(S),qt(S)})),x}finally{b&&Ro()}},Ft.prototype.get=function(a,c){var u=this;return a&&a.constructor===Object?this.where(a).first(c):a==null?qt(new ot.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:a}).then(function(h){return u.hook.reading.fire(h)})}).then(c)},Ft.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(i(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var c=o(a);if(c.length===1)return this.where(c[0]).equals(a[c[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&c.every(function(S){return 0<=b.keyPath.indexOf(S)})){for(var x=0;x<c.length;++x)if(c.indexOf(b.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(b,x){return b.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==Qn){var g=u.keyPath.slice(0,c.length);return this.where(g).equals(g.map(function(x){return a[x]}))}!u&&mr&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName;function h(b,x){return bt(b,x)===0}var v=c.reduce(function(_,x){var S=_[0],D=_[1],_=f[x],A=a[x];return[S||_,S||!_?Yn(D,_&&_.multi?function(C){return C=kt(C,x),i(C)&&C.some(function(O){return h(A,O)})}:function(C){return h(A,kt(C,x))}):D]},[null,null]),g=v[0],v=v[1];return g?this.where(g.name).equals(a[g.keyPath]).filter(v):u?this.filter(v):this.where(c).equals("")},Ft.prototype.filter=function(a){return this.toCollection().and(a)},Ft.prototype.count=function(a){return this.toCollection().count(a)},Ft.prototype.offset=function(a){return this.toCollection().offset(a)},Ft.prototype.limit=function(a){return this.toCollection().limit(a)},Ft.prototype.each=function(a){return this.toCollection().each(a)},Ft.prototype.toArray=function(a){return this.toCollection().toArray(a)},Ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ft.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,i(a)?"[".concat(a.join("+"),"]"):a))},Ft.prototype.reverse=function(){return this.toCollection().reverse()},Ft.prototype.mapToClass=function(a){var c,u=this.db,f=this.name;function h(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof ph&&(function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function D(){this.constructor=x}t(x,S),x.prototype=S===null?Object.create(S):(D.prototype=S.prototype,new D)}(h,c=a),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},a=h);for(var g=new Set,v=a.prototype;v;v=l(v))Object.getOwnPropertyNames(v).forEach(function(x){return g.add(x)});function b(x){if(!x)return x;var S,D=Object.create(a.prototype);for(S in x)if(!g.has(S))try{D[S]=x[S]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),a},Ft.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},Ft.prototype.add=function(a,c){var u=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=a;return g&&h&&(v=Ja(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:c!=null?[c]:null,values:[v]})}).then(function(b){return b.numFailures?G.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{st(a,g,b)}catch{}return b})},Ft.prototype.update=function(a,c){return typeof a!="object"||i(a)?this.where(":id").equals(a).modify(c):(a=kt(a,this.schema.primKey.keyPath),a===void 0?qt(new ot.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(c))},Ft.prototype.put=function(a,c){var u=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=a;return g&&h&&(v=Ja(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[v],keys:c!=null?[c]:null})}).then(function(b){return b.numFailures?G.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{st(a,g,b)}catch{}return b})},Ft.prototype.delete=function(a){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"delete",keys:[a]})}).then(function(u){return u.numFailures?G.reject(u.failures[0]):void 0})},Ft.prototype.clear=function(){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"deleteRange",range:mh})}).then(function(c){return c.numFailures?G.reject(c.failures[0]):void 0})},Ft.prototype.bulkGet=function(a){var c=this;return this._trans("readonly",function(u){return c.core.getMany({keys:a,trans:u}).then(function(f){return f.map(function(h){return c.hook.reading.fire(h)})})})},Ft.prototype.bulkAdd=function(a,c,u){var f=this,h=Array.isArray(c)?c:void 0,g=(u=u||(h?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var S=f.schema.primKey,b=S.auto,S=S.keyPath;if(S&&h)throw new ot.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new ot.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,S=S&&b?a.map(Ja(S)):a;return f.core.mutate({trans:v,type:"add",keys:h,values:S,wantResults:g}).then(function(O){var _=O.numFailures,A=O.results,C=O.lastResult,O=O.failures;if(_===0)return g?A:C;throw new ne("".concat(f.name,".bulkAdd(): ").concat(_," of ").concat(x," operations failed"),O)})})},Ft.prototype.bulkPut=function(a,c,u){var f=this,h=Array.isArray(c)?c:void 0,g=(u=u||(h?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var S=f.schema.primKey,b=S.auto,S=S.keyPath;if(S&&h)throw new ot.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new ot.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,S=S&&b?a.map(Ja(S)):a;return f.core.mutate({trans:v,type:"put",keys:h,values:S,wantResults:g}).then(function(O){var _=O.numFailures,A=O.results,C=O.lastResult,O=O.failures;if(_===0)return g?A:C;throw new ne("".concat(f.name,".bulkPut(): ").concat(_," of ").concat(x," operations failed"),O)})})},Ft.prototype.bulkUpdate=function(a){var c=this,u=this.core,f=a.map(function(v){return v.key}),h=a.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:f,cache:"clone"}).then(function(b){var x=[],S=[];a.forEach(function(_,A){var C=_.key,O=_.changes,E=b[A];if(E){for(var R=0,P=Object.keys(O);R<P.length;R++){var M=P[R],T=O[M];if(M===c.schema.primKey.keyPath){if(bt(T,C)!==0)throw new ot.Constraint("Cannot update primary key in bulkUpdate()")}else st(E,M,T)}g.push(A),x.push(C),S.push(E)}});var D=x.length;return u.mutate({trans:v,type:"put",keys:x,values:S,updates:{keys:f,changeSpecs:h}}).then(function(_){var A=_.numFailures,C=_.failures;if(A===0)return D;for(var O=0,E=Object.keys(C);O<E.length;O++){var R,P=E[O],M=g[Number(P)];M!=null&&(R=C[P],delete C[P],C[M]=R)}throw new ne("".concat(c.name,".bulkUpdate(): ").concat(A," of ").concat(D," operations failed"),C)})})})},Ft.prototype.bulkDelete=function(a){var c=this,u=a.length;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:a})}).then(function(v){var h=v.numFailures,g=v.lastResult,v=v.failures;if(h===0)return g;throw new ne("".concat(c.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),v)})},Ft);function Ft(){}function Ii(a){function c(v,b){if(b){for(var x=arguments.length,S=new Array(x-1);--x;)S[x-1]=arguments[x];return u[v].subscribe.apply(null,S),a}if(typeof v=="string")return u[v]}var u={};c.addEventType=g;for(var f=1,h=arguments.length;f<h;++f)g(arguments[f]);return c;function g(v,b,x){if(typeof v!="object"){var S;b=b||o_;var D={subscribers:[],fire:x=x||At,subscribe:function(_){D.subscribers.indexOf(_)===-1&&(D.subscribers.push(_),D.fire=b(D.fire,_))},unsubscribe:function(_){D.subscribers=D.subscribers.filter(function(A){return A!==_}),D.fire=D.subscribers.reduce(b,x)}};return u[v]=c[v]=D}o(S=v).forEach(function(_){var A=S[_];if(i(A))g(_,S[_][0],S[_][1]);else{if(A!=="asap")throw new ot.InvalidArgument("Invalid event config");var C=g(_,Oi,function(){for(var O=arguments.length,E=new Array(O);O--;)E[O]=arguments[O];C.subscribers.forEach(function(R){tt(function(){R.apply(null,E)})})})}})}}function Pi(a,c){return k(c).from({prototype:a}),c}function Eo(a,c){return!(a.filter||a.algorithm||a.or)&&(c?a.justLimit:!a.replayFilter)}function Al(a,c){a.filter=Yn(a.filter,c)}function Il(a,c,u){var f=a.replayFilter;a.replayFilter=f?function(){return Yn(f(),c())}:c,a.justLimit=u&&!f}function ts(a,c){if(a.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(a.index);if(!u)throw new ot.Schema("KeyPath "+a.index+" on object store "+c.name+" is not indexed");return u}function bh(a,c,u){var f=ts(a,c.schema);return c.openCursor({trans:u,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function es(a,c,u,f){var h=a.replayFilter?Yn(a.filter,a.replayFilter()):a.filter;if(a.or){var g={},v=function(b,x,S){var D,_;h&&!h(x,S,function(A){return x.stop(A)},function(A){return x.fail(A)})||((_=""+(D=x.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(D)),m(g,_)||(g[_]=!0,c(b,x,S)))};return Promise.all([a.or._iterate(v,u),_h(bh(a,f,u),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}return _h(bh(a,f,u),Yn(a.algorithm,h),c,!a.keysOnly&&a.valueMapper)}function _h(a,c,u,f){var h=Bt(f?function(g,v,b){return u(f(g),v,b)}:u);return a.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};c&&!c(g,function(b){return v=b},function(b){g.stop(b),v=At},function(b){g.fail(b),v=At})||h(g.value,g,function(b){return v=b}),v()})})}var $r=Symbol(),Mi=(xh.prototype.execute=function(a){if(this.add!==void 0){var c=this.add;if(i(c))return r(r([],i(a)?a:[],!0),c,!0).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var u=this.remove;if(i(u))return i(a)?a.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(a)-u;if(typeof u=="bigint")try{return BigInt(a)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?this.replacePrefix[1]+a.substring(c.length):a},xh);function xh(a){Object.assign(this,a)}var u_=(xt.prototype._read=function(a,c){var u=this._ctx;return u.error?u.table._trans(null,qt.bind(null,u.error)):u.table._trans("readonly",a).then(c)},xt.prototype._write=function(a){var c=this._ctx;return c.error?c.table._trans(null,qt.bind(null,c.error)):c.table._trans("readwrite",a,"locked")},xt.prototype._addAlgorithm=function(a){var c=this._ctx;c.algorithm=Yn(c.algorithm,a)},xt.prototype._iterate=function(a,c){return es(this._ctx,a,c,this._ctx.table.core)},xt.prototype.clone=function(a){var c=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return a&&s(u,a),c._ctx=u,c},xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},xt.prototype.each=function(a){var c=this._ctx;return this._read(function(u){return es(c,a,u,c.table.core)})},xt.prototype.count=function(a){var c=this;return this._read(function(u){var f=c._ctx,h=f.table.core;if(Eo(f,!0))return h.count({trans:u,query:{index:ts(f,h.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return es(f,function(){return++g,!1},u,h).then(function(){return g})}).then(a)},xt.prototype.sortBy=function(a,c){var u=a.split(".").reverse(),f=u[0],h=u.length-1;function g(x,S){return S?g(x[u[S]],S-1):x[f]}var v=this._ctx.dir==="next"?1:-1;function b(x,S){return bt(g(x,h),g(S,h))*v}return this.toArray(function(x){return x.sort(b)}).then(c)},xt.prototype.toArray=function(a){var c=this;return this._read(function(u){var f=c._ctx;if(f.dir==="next"&&Eo(f,!0)&&0<f.limit){var h=f.valueMapper,g=ts(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(b){return b=b.result,h?b.map(h):b})}var v=[];return es(f,function(b){return v.push(b)},u,f.table.core).then(function(){return v})},a)},xt.prototype.offset=function(a){var c=this._ctx;return a<=0||(c.offset+=a,Eo(c)?Il(c,function(){var u=a;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):Il(c,function(){var u=a;return function(){return--u<0}})),this},xt.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),Il(this._ctx,function(){var c=a;return function(u,f,h){return--c<=0&&f(h),0<=c}},!0),this},xt.prototype.until=function(a,c){return Al(this._ctx,function(u,f,h){return!a(u.value)||(f(h),c)}),this},xt.prototype.first=function(a){return this.limit(1).toArray(function(c){return c[0]}).then(a)},xt.prototype.last=function(a){return this.reverse().first(a)},xt.prototype.filter=function(a){var c;return Al(this._ctx,function(u){return a(u.value)}),(c=this._ctx).isMatch=Yn(c.isMatch,a),this},xt.prototype.and=function(a){return this.filter(a)},xt.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xt.prototype.desc=function(){return this.reverse()},xt.prototype.eachKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.key,f)})},xt.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},xt.prototype.eachPrimaryKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.primaryKey,f)})},xt.prototype.keys=function(a){var c=this._ctx;c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(a)},xt.prototype.primaryKeys=function(a){var c=this._ctx;if(c.dir==="next"&&Eo(c,!0)&&0<c.limit)return this._read(function(f){var h=ts(c,c.table.core.schema);return c.table.core.query({trans:f,values:!1,limit:c.limit,query:{index:h,range:c.range}})}).then(function(f){return f.result}).then(a);c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(a)},xt.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},xt.prototype.firstKey=function(a){return this.limit(1).keys(function(c){return c[0]}).then(a)},xt.prototype.lastKey=function(a){return this.reverse().firstKey(a)},xt.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var c={};return Al(this._ctx,function(h){var f=h.primaryKey.toString(),h=m(c,f);return c[f]=!0,!h}),this},xt.prototype.modify=function(a){var c=this,u=this._ctx;return this._write(function(f){var h,g,v;v=typeof a=="function"?a:(h=o(a),g=h.length,function(R){for(var P=!1,M=0;M<g;++M){var T=h[M],F=a[T],V=kt(R,T);F instanceof Mi?(st(R,T,F.execute(V)),P=!0):V!==F&&(st(R,T,F),P=!0)}return P});var b=u.table.core,_=b.schema.primaryKey,x=_.outbound,S=_.extractKey,D=200,_=c.db._options.modifyChunkSize;_&&(D=typeof _=="object"?_[b.name]||_["*"]||200:_);function A(R,T){var M=T.failures,T=T.numFailures;O+=R-T;for(var F=0,V=o(M);F<V.length;F++){var H=V[F];C.push(M[H])}}var C=[],O=0,E=[];return c.clone().primaryKeys().then(function(R){function P(T){var F=Math.min(D,R.length-T);return b.getMany({trans:f,keys:R.slice(T,T+F),cache:"immutable"}).then(function(V){for(var H=[],q=[],W=x?[]:null,Y=[],K=0;K<F;++K){var Z=V[K],mt={value:rr(Z),primKey:R[T+K]};v.call(mt,mt.value,mt)!==!1&&(mt.value==null?Y.push(R[T+K]):x||bt(S(Z),S(mt.value))===0?(q.push(mt.value),x&&W.push(R[T+K])):(Y.push(R[T+K]),H.push(mt.value)))}return Promise.resolve(0<H.length&&b.mutate({trans:f,type:"add",values:H}).then(function(vt){for(var yt in vt.failures)Y.splice(parseInt(yt),1);A(H.length,vt)})).then(function(){return(0<q.length||M&&typeof a=="object")&&b.mutate({trans:f,type:"put",keys:W,values:q,criteria:M,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<T}).then(function(vt){return A(q.length,vt)})}).then(function(){return(0<Y.length||M&&a===Pl)&&b.mutate({trans:f,type:"delete",keys:Y,criteria:M,isAdditionalChunk:0<T}).then(function(vt){return A(Y.length,vt)})}).then(function(){return R.length>T+F&&P(T+D)})})}var M=Eo(u)&&u.limit===1/0&&(typeof a!="function"||a===Pl)&&{index:u.index,range:u.range};return P(0).then(function(){if(0<C.length)throw new re("Error modifying one or more objects",C,O,E);return R.length})})})},xt.prototype.delete=function(){var a=this._ctx,c=a.range;return Eo(a)&&(a.isPrimKey||c.type===3)?this._write(function(u){var f=a.table.core.schema.primaryKey,h=c;return a.table.core.count({trans:u,query:{index:f,range:h}}).then(function(g){return a.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(v){var b=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new re("Could not delete some values",Object.keys(b).map(function(x){return b[x]}),g-v);return g-v})})}):this.modify(Pl)},xt);function xt(){}var Pl=function(a,c){return c.value=null};function d_(a,c){return a<c?-1:a===c?0:1}function f_(a,c){return c<a?-1:a===c?0:1}function Le(a,c,u){return a=a instanceof Ch?new a.Collection(a):a,a._ctx.error=new(u||TypeError)(c),a}function ko(a){return new a.Collection(a,function(){return wh("")}).limit(0)}function rs(a,c,u,f){var h,g,v,b,x,S,D,_=u.length;if(!u.every(function(O){return typeof O=="string"}))return Le(a,hh);function A(O){h=O==="next"?function(R){return R.toUpperCase()}:function(R){return R.toLowerCase()},g=O==="next"?function(R){return R.toLowerCase()}:function(R){return R.toUpperCase()},v=O==="next"?d_:f_;var E=u.map(function(R){return{lower:g(R),upper:h(R)}}).sort(function(R,P){return v(R.lower,P.lower)});b=E.map(function(R){return R.upper}),x=E.map(function(R){return R.lower}),D=(S=O)==="next"?"":f}A("next"),a=new a.Collection(a,function(){return un(b[0],x[_-1]+f)}),a._ondirectionchange=function(O){A(O)};var C=0;return a._addAlgorithm(function(O,E,R){var P=O.key;if(typeof P!="string")return!1;var M=g(P);if(c(M,x,C))return!0;for(var T=null,F=C;F<_;++F){var V=function(H,q,W,Y,K,Z){for(var mt=Math.min(H.length,Y.length),vt=-1,yt=0;yt<mt;++yt){var $e=q[yt];if($e!==Y[yt])return K(H[yt],W[yt])<0?H.substr(0,yt)+W[yt]+W.substr(yt+1):K(H[yt],Y[yt])<0?H.substr(0,yt)+Y[yt]+W.substr(yt+1):0<=vt?H.substr(0,vt)+q[vt]+W.substr(vt+1):null;K(H[yt],$e)<0&&(vt=yt)}return mt<Y.length&&Z==="next"?H+W.substr(H.length):mt<H.length&&Z==="prev"?H.substr(0,W.length):vt<0?null:H.substr(0,vt)+Y[vt]+W.substr(vt+1)}(P,M,b[F],x[F],v,S);V===null&&T===null?C=F+1:(T===null||0<v(T,V))&&(T=V)}return E(T!==null?function(){O.continue(T+D)}:R),!1}),a}function un(a,c,u,f){return{type:2,lower:a,upper:c,lowerOpen:u,upperOpen:f}}function wh(a){return{type:1,lower:a,upper:a}}var Ch=(Object.defineProperty(ie.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ie.prototype.between=function(a,c,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(a,c)||this._cmp(a,c)===0&&(u||f)&&(!u||!f)?ko(this):new this.Collection(this,function(){return un(a,c,!u,!f)})}catch{return Le(this,Lr)}},ie.prototype.equals=function(a){return a==null?Le(this,Lr):new this.Collection(this,function(){return wh(a)})},ie.prototype.above=function(a){return a==null?Le(this,Lr):new this.Collection(this,function(){return un(a,void 0,!0)})},ie.prototype.aboveOrEqual=function(a){return a==null?Le(this,Lr):new this.Collection(this,function(){return un(a,void 0,!1)})},ie.prototype.below=function(a){return a==null?Le(this,Lr):new this.Collection(this,function(){return un(void 0,a,!1,!0)})},ie.prototype.belowOrEqual=function(a){return a==null?Le(this,Lr):new this.Collection(this,function(){return un(void 0,a)})},ie.prototype.startsWith=function(a){return typeof a!="string"?Le(this,hh):this.between(a,a+Qn,!0,!0)},ie.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):rs(this,function(c,u){return c.indexOf(u[0])===0},[a],Qn)},ie.prototype.equalsIgnoreCase=function(a){return rs(this,function(c,u){return c===u[0]},[a],"")},ie.prototype.anyOfIgnoreCase=function(){var a=Ie.apply(rn,arguments);return a.length===0?ko(this):rs(this,function(c,u){return u.indexOf(c)!==-1},a,"")},ie.prototype.startsWithAnyOfIgnoreCase=function(){var a=Ie.apply(rn,arguments);return a.length===0?ko(this):rs(this,function(c,u){return u.some(function(f){return c.indexOf(f)===0})},a,Qn)},ie.prototype.anyOf=function(){var a=this,c=Ie.apply(rn,arguments),u=this._cmp;try{c.sort(u)}catch{return Le(this,Lr)}if(c.length===0)return ko(this);var f=new this.Collection(this,function(){return un(c[0],c[c.length-1])});f._ondirectionchange=function(g){u=g==="next"?a._ascending:a._descending,c.sort(u)};var h=0;return f._addAlgorithm(function(g,v,b){for(var x=g.key;0<u(x,c[h]);)if(++h===c.length)return v(b),!1;return u(x,c[h])===0||(v(function(){g.continue(c[h])}),!1)}),f},ie.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ie.prototype.noneOf=function(){var a=Ie.apply(rn,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return Le(this,Lr)}var c=a.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return c.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},ie.prototype.inAnyRange=function(P,c){var u=this,f=this._cmp,h=this._ascending,g=this._descending,v=this._min,b=this._max;if(P.length===0)return ko(this);if(!P.every(function(M){return M[0]!==void 0&&M[1]!==void 0&&h(M[0],M[1])<=0}))return Le(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ot.InvalidArgument);var x=!c||c.includeLowers!==!1,S=c&&c.includeUppers===!0,D,_=h;function A(M,T){return _(M[0],T[0])}try{(D=P.reduce(function(M,T){for(var F=0,V=M.length;F<V;++F){var H=M[F];if(f(T[0],H[1])<0&&0<f(T[1],H[0])){H[0]=v(H[0],T[0]),H[1]=b(H[1],T[1]);break}}return F===V&&M.push(T),M},[])).sort(A)}catch{return Le(this,Lr)}var C=0,O=S?function(M){return 0<h(M,D[C][1])}:function(M){return 0<=h(M,D[C][1])},E=x?function(M){return 0<g(M,D[C][0])}:function(M){return 0<=g(M,D[C][0])},R=O,P=new this.Collection(this,function(){return un(D[0][0],D[D.length-1][1],!x,!S)});return P._ondirectionchange=function(M){_=M==="next"?(R=O,h):(R=E,g),D.sort(A)},P._addAlgorithm(function(M,T,F){for(var V,H=M.key;R(H);)if(++C===D.length)return T(F),!1;return!O(V=H)&&!E(V)||(u._cmp(H,D[C][1])===0||u._cmp(H,D[C][0])===0||T(function(){_===h?M.continue(D[C][0]):M.continue(D[C][1])}),!1)}),P},ie.prototype.startsWithAnyOf=function(){var a=Ie.apply(rn,arguments);return a.every(function(c){return typeof c=="string"})?a.length===0?ko(this):this.inAnyRange(a.map(function(c){return[c,c+Qn]})):Le(this,"startsWithAnyOf() only works with strings")},ie);function ie(){}function pr(a){return Bt(function(c){return Ti(c),a(c.target.error),!1})}function Ti(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Ni="storagemutated",Ml="x-storagemutated-1",dn=Ii(null,Ni),h_=(gr.prototype._lock=function(){return nt(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},gr.prototype._unlock=function(){if(nt(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Hn(a[1],a[0])}catch{}}return this},gr.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},gr.prototype.create=function(a){var c=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(nt(!this.idbtrans),!a&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new ot.DatabaseClosed(f);case"MissingAPIError":throw new ot.MissingAPI(f.message,f);default:throw new ot.OpenFailed(f)}if(!this.active)throw new ot.TransactionInactive;return nt(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(h){Ti(h),c._reject(a.error)}),a.onabort=Bt(function(h){Ti(h),c.active&&c._reject(new ot.Abort(a.error)),c.active=!1,c.on("abort").fire(h)}),a.oncomplete=Bt(function(){c.active=!1,c._resolve(),"mutatedParts"in a&&dn.storagemutated.fire(a.mutatedParts)}),this},gr.prototype._promise=function(a,c,u){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return qt(new ot.ReadOnly("Transaction is readonly"));if(!this.active)return qt(new ot.TransactionInactive);if(this._locked())return new G(function(g,v){f._blockedFuncs.push([function(){f._promise(a,c,u).then(g,v)},et])});if(u)return sn(function(){var g=new G(function(v,b){f._lock();var x=c(v,b,f);x&&x.then&&x.then(v,b)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var h=new G(function(g,v){var b=c(g,v,f);b&&b.then&&b.then(g,v)});return h._lib=!0,h},gr.prototype._root=function(){return this.parent?this.parent._root():this},gr.prototype.waitFor=function(a){var c,u=this._root(),f=G.resolve(a);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],c=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(c.get(-1/0).onsuccess=g)}());var h=u._waitingFor;return new G(function(g,v){f.then(function(b){return u._waitingQueue.push(Bt(g.bind(null,b)))},function(b){return u._waitingQueue.push(Bt(v.bind(null,b)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},gr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ot.Abort))},gr.prototype.table=function(a){var c=this._memoizedTables||(this._memoizedTables={});if(m(c,a))return c[a];var u=this.schema[a];if(!u)throw new ot.NotFound("Table "+a+" not part of transaction");return u=new this.db.Table(a,u,this),u.core=this.db.core.table(a),c[a]=u},gr);function gr(){}function Tl(a,c,u,f,h,g,v){return{name:a,keyPath:c,unique:u,multi:f,auto:h,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(h?"++":"")+Sh(c)}}function Sh(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Nl(a,c,u){return{name:a,primKey:c,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,g,v){return v=f(g,v),v&&(h[v[0]]=v[1]),h},{}))};var f}var Li=function(a){try{return a.only([[]]),Li=function(){return[[]]},[[]]}catch{return Li=function(){return Qn},Qn}};function Ll(a){return a==null?function(){}:typeof a=="string"?(c=a).split(".").length===1?function(u){return u[c]}:function(u){return kt(u,c)}:function(u){return kt(u,a)};var c}function Rh(a){return[].slice.call(a)}var m_=0;function $i(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function p_(a,c,x){function f(R){if(R.type===3)return null;if(R.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=R.lower,O=R.upper,E=R.lowerOpen,R=R.upperOpen;return C===void 0?O===void 0?null:c.upperBound(O,!!R):O===void 0?c.lowerBound(C,!!E):c.bound(C,O,!!E,!!R)}function h(A){var C,O=A.name;return{name:O,schema:A,mutate:function(E){var R=E.trans,P=E.type,M=E.keys,T=E.values,F=E.range;return new Promise(function(V,H){V=Bt(V);var q=R.objectStore(O),W=q.keyPath==null,Y=P==="put"||P==="add";if(!Y&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var K,Z=(M||T||{length:1}).length;if(M&&T&&M.length!==T.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function mt(Re){++$e,Ti(Re)}var vt=[],yt=[],$e=0;if(P==="deleteRange"){if(F.type===4)return V({numFailures:$e,failures:yt,results:[],lastResult:void 0});F.type===3?vt.push(K=q.clear()):vt.push(K=q.delete(f(F)))}else{var W=Y?W?[T,M]:[T,null]:[M,null],ft=W[0],ve=W[1];if(Y)for(var ye=0;ye<Z;++ye)vt.push(K=ve&&ve[ye]!==void 0?q[P](ft[ye],ve[ye]):q[P](ft[ye])),K.onerror=mt;else for(ye=0;ye<Z;++ye)vt.push(K=q[P](ft[ye])),K.onerror=mt}function ps(Re){Re=Re.target.result,vt.forEach(function(Zn,tu){return Zn.error!=null&&(yt[tu]=Zn.error)}),V({numFailures:$e,failures:yt,results:P==="delete"?M:vt.map(function(Zn){return Zn.result}),lastResult:Re})}K.onerror=function(Re){mt(Re),ps(Re)},K.onsuccess=ps})},getMany:function(E){var R=E.trans,P=E.keys;return new Promise(function(M,T){M=Bt(M);for(var F,V=R.objectStore(O),H=P.length,q=new Array(H),W=0,Y=0,K=function(vt){vt=vt.target,q[vt._pos]=vt.result,++Y===W&&M(q)},Z=pr(T),mt=0;mt<H;++mt)P[mt]!=null&&((F=V.get(P[mt]))._pos=mt,F.onsuccess=K,F.onerror=Z,++W);W===0&&M(q)})},get:function(E){var R=E.trans,P=E.key;return new Promise(function(M,T){M=Bt(M);var F=R.objectStore(O).get(P);F.onsuccess=function(V){return M(V.target.result)},F.onerror=pr(T)})},query:(C=S,function(E){return new Promise(function(R,P){R=Bt(R);var M,T,F,W=E.trans,V=E.values,H=E.limit,K=E.query,q=H===1/0?void 0:H,Y=K.index,K=K.range,W=W.objectStore(O),Y=Y.isPrimaryKey?W:W.index(Y.name),K=f(K);if(H===0)return R({result:[]});C?((q=V?Y.getAll(K,q):Y.getAllKeys(K,q)).onsuccess=function(Z){return R({result:Z.target.result})},q.onerror=pr(P)):(M=0,T=!V&&"openKeyCursor"in Y?Y.openKeyCursor(K):Y.openCursor(K),F=[],T.onsuccess=function(Z){var mt=T.result;return mt?(F.push(V?mt.value:mt.primaryKey),++M===H?R({result:F}):void mt.continue()):R({result:F})},T.onerror=pr(P))})}),openCursor:function(E){var R=E.trans,P=E.values,M=E.query,T=E.reverse,F=E.unique;return new Promise(function(V,H){V=Bt(V);var Y=M.index,q=M.range,W=R.objectStore(O),W=Y.isPrimaryKey?W:W.index(Y.name),Y=T?F?"prevunique":"prev":F?"nextunique":"next",K=!P&&"openKeyCursor"in W?W.openKeyCursor(f(q),Y):W.openCursor(f(q),Y);K.onerror=pr(H),K.onsuccess=Bt(function(Z){var mt,vt,yt,$e,ft=K.result;ft?(ft.___id=++m_,ft.done=!1,mt=ft.continue.bind(ft),vt=(vt=ft.continuePrimaryKey)&&vt.bind(ft),yt=ft.advance.bind(ft),$e=function(){throw new Error("Cursor not stopped")},ft.trans=R,ft.stop=ft.continue=ft.continuePrimaryKey=ft.advance=function(){throw new Error("Cursor not started")},ft.fail=Bt(H),ft.next=function(){var ve=this,ye=1;return this.start(function(){return ye--?ve.continue():ve.stop()}).then(function(){return ve})},ft.start=function(ve){function ye(){if(K.result)try{ve()}catch(Re){ft.fail(Re)}else ft.done=!0,ft.start=function(){throw new Error("Cursor behind last entry")},ft.stop()}var ps=new Promise(function(Re,Zn){Re=Bt(Re),K.onerror=pr(Zn),ft.fail=Zn,ft.stop=function(tu){ft.stop=ft.continue=ft.continuePrimaryKey=ft.advance=$e,Re(tu)}});return K.onsuccess=Bt(function(Re){K.onsuccess=ye,ye()}),ft.continue=mt,ft.continuePrimaryKey=vt,ft.advance=yt,ye(),ps},V(ft)):V(null)},H)})},count:function(E){var R=E.query,P=E.trans,M=R.index,T=R.range;return new Promise(function(F,V){var H=P.objectStore(O),q=M.isPrimaryKey?H:H.index(M.name),H=f(T),q=H?q.count(H):q.count();q.onsuccess=Bt(function(W){return F(W.target.result)}),q.onerror=pr(V)})}}}var g,v,b,D=(v=x,b=Rh((g=a).objectStoreNames),{schema:{name:g.name,tables:b.map(function(A){return v.objectStore(A)}).map(function(A){var C=A.keyPath,R=A.autoIncrement,O=i(C),E={},R={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:O,keyPath:C,autoIncrement:R,unique:!0,extractKey:Ll(C)},indexes:Rh(A.indexNames).map(function(P){return A.index(P)}).map(function(F){var M=F.name,T=F.unique,V=F.multiEntry,F=F.keyPath,V={name:M,compound:i(F),keyPath:F,unique:T,multiEntry:V,extractKey:Ll(F)};return E[$i(F)]=V}),getIndexByKeyPath:function(P){return E[$i(P)]}};return E[":id"]=R.primaryKey,C!=null&&(E[$i(C)]=R.primaryKey),R})},hasGetAll:0<b.length&&"getAll"in v.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),x=D.schema,S=D.hasGetAll,D=x.tables.map(h),_={};return D.forEach(function(A){return _[A.name]=A}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(A){if(!_[A])throw new Error("Table '".concat(A,"' not found"));return _[A]},MIN_KEY:-1/0,MAX_KEY:Li(c),schema:x}}function g_(a,c,u,f){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=p_(c,h,f),a.dbcore.reduce(function(g,v){return v=v.create,e(e({},g),v(g))},f))}}function ns(a,f){var u=f.db,f=g_(a._middlewares,u,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(h){var g=h.name;a.core.schema.tables.some(function(v){return v.name===g})&&(h.core=a.core.table(g),a[g]instanceof a.Table&&(a[g].core=h.core))})}function os(a,c,u,f){u.forEach(function(h){var g=f[h];c.forEach(function(v){var b=function x(S,D){return N(S,D)||(S=l(S))&&x(S,D)}(v,h);(!b||"value"in b&&b.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?w(v,h,{get:function(){return this.table(h)},set:function(x){y(this,h,{value:x,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new a.Table(h,g))})})}function $l(a,c){c.forEach(function(u){for(var f in u)u[f]instanceof a.Table&&delete u[f]})}function v_(a,c){return a._cfg.version-c._cfg.version}function y_(a,c,u,f){var h=a._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Nl("$meta",Dh("")[0],[]),a._storeNames.push("$meta"));var g=a._createTransaction("readwrite",a._storeNames,h);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),b=et.transless||et;sn(function(){return et.trans=g,et.transless=b,c!==0?(ns(a,u),S=c,((x=g).storeNames.includes("$meta")?x.table("$meta").get("version").then(function(D){return D??S}):G.resolve(S)).then(function(D){return A=D,C=g,O=u,E=[],D=(_=a)._versions,R=_._dbSchema=as(0,_.idbdb,O),(D=D.filter(function(P){return P._cfg.version>=A})).length!==0?(D.forEach(function(P){E.push(function(){var M=R,T=P._cfg.dbschema;ss(_,M,O),ss(_,T,O),R=_._dbSchema=T;var F=Fl(M,T);F.add.forEach(function(Y){Bl(O,Y[0],Y[1].primKey,Y[1].indexes)}),F.change.forEach(function(Y){if(Y.recreate)throw new ot.Upgrade("Not yet support for changing primary key");var K=O.objectStore(Y.name);Y.add.forEach(function(Z){return is(K,Z)}),Y.change.forEach(function(Z){K.deleteIndex(Z.name),is(K,Z)}),Y.del.forEach(function(Z){return K.deleteIndex(Z)})});var V=P._cfg.contentUpgrade;if(V&&P._cfg.version>A){ns(_,O),C._memoizedTables={};var H=Pt(T);F.del.forEach(function(Y){H[Y]=M[Y]}),$l(_,[_.Transaction.prototype]),os(_,[_.Transaction.prototype],o(H),H),C.schema=H;var q,W=nn(V);return W&&Oo(),F=G.follow(function(){var Y;(q=V(C))&&W&&(Y=cn.bind(null,null),q.then(Y,Y))}),q&&typeof q.then=="function"?G.resolve(q):F.then(function(){return q})}}),E.push(function(M){var T,F,V=P._cfg.dbschema;T=V,F=M,[].slice.call(F.db.objectStoreNames).forEach(function(H){return T[H]==null&&F.db.deleteObjectStore(H)}),$l(_,[_.Transaction.prototype]),os(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),C.schema=_._dbSchema}),E.push(function(M){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===P._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(T){return T!=="$meta"})):M.objectStore("$meta").put(P._cfg.version,"version"))})}),function P(){return E.length?G.resolve(E.shift()(C.idbtrans)).then(P):G.resolve()}().then(function(){Oh(R,O)})):G.resolve();var _,A,C,O,E,R}).catch(v)):(o(h).forEach(function(D){Bl(u,D,h[D].primKey,h[D].indexes)}),ns(a,u),void G.follow(function(){return a.on.populate.fire(g)}).catch(v));var x,S})}function b_(a,c){Oh(a._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=as(0,a.idbdb,c);ss(a,a._dbSchema,c);for(var f=0,h=Fl(u,a._dbSchema).change;f<h.length;f++){var g=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=c.objectStore(v.name);v.add.forEach(function(x){mr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(x.src)),is(b,x)})}(h[f]);if(typeof g=="object")return g.value}}function Fl(a,c){var u,f={del:[],add:[],change:[]};for(u in a)c[u]||f.del.push(u);for(u in c){var h=a[u],g=c[u];if(h){var v={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var b=h.idxByName,x=g.idxByName,S=void 0;for(S in b)x[S]||v.del.push(S);for(S in x){var D=b[S],_=x[S];D?D.src!==_.src&&v.change.push(_):v.add.push(_)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([u,g])}return f}function Bl(a,c,u,f){var h=a.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return is(h,g)}),h}function Oh(a,c){o(a).forEach(function(u){c.db.objectStoreNames.contains(u)||(mr&&console.debug("Dexie: Creating missing table",u),Bl(c,u,a[u].primKey,a[u].indexes))})}function is(a,c){a.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function as(a,c,u){var f={};return Q(c.objectStoreNames,0).forEach(function(h){for(var g=u.objectStore(h),v=Tl(Sh(S=g.keyPath),S||"",!0,!1,!!g.autoIncrement,S&&typeof S!="string",!0),b=[],x=0;x<g.indexNames.length;++x){var D=g.index(g.indexNames[x]),S=D.keyPath,D=Tl(D.name,S,!!D.unique,!!D.multiEntry,!1,S&&typeof S!="string",!1);b.push(D)}f[h]=Nl(h,v,b)}),f}function ss(a,c,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var g=f[h],v=u.objectStore(g);a._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var x=v.indexNames[b],S=v.index(x).keyPath,D=typeof S=="string"?S:"["+Q(S).join("+")+"]";!c[g]||(S=c[g].idxByName[D])&&(S.name=x,delete c[g].idxByName[D],c[g].idxByName[x]=S)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Dh(a){return a.split(",").map(function(c,u){var f=(c=c.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Tl(f,h||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),i(h),u===0)})}var __=(cs.prototype._parseStoresSpec=function(a,c){o(a).forEach(function(u){if(a[u]!==null){var f=Dh(a[u]),h=f.shift();if(h.unique=!0,h.multi)throw new ot.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new ot.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new ot.Schema("Index must have a name and cannot be an empty string")}),c[u]=Nl(u,h,f)}})},cs.prototype.stores=function(u){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,u):u;var u=c._versions,f={},h={};return u.forEach(function(g){s(f,g._cfg.storesSource),h=g._cfg.dbschema={},g._parseStoresSpec(f,h)}),c._dbSchema=h,$l(c,[c._allTables,c,c.Transaction.prototype]),os(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],o(h),h),c._storeNames=o(h),this},cs.prototype.upgrade=function(a){return this._cfg.contentUpgrade=bl(this._cfg.contentUpgrade||At,a),this},cs);function cs(){}function jl(a,c){var u=a._dbNamesDB;return u||(u=a._dbNamesDB=new Fr(Za,{addons:[],indexedDB:a,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Ul(a){return a&&typeof a.databases=="function"}function zl(a){return sn(function(){return et.letThrough=!0,a()})}function Vl(a){return!("from"in a)}var ge=function(a,c){if(!this){var u=new ge;return a&&"d"in a&&s(u,a),u}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?c:a}:{d:0})};function Fi(a,c,u){var f=bt(c,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Vl(a))return s(a,{from:c,to:u,d:1});var h=a.l,f=a.r;if(bt(u,a.from)<0)return h?Fi(h,c,u):a.l={from:c,to:u,d:1,l:null,r:null},kh(a);if(0<bt(c,a.to))return f?Fi(f,c,u):a.r={from:c,to:u,d:1,l:null,r:null},kh(a);bt(c,a.from)<0&&(a.from=c,a.l=null,a.d=f?f.d+1:1),0<bt(u,a.to)&&(a.to=u,a.r=null,a.d=a.l?a.l.d+1:1),u=!a.r,h&&!a.l&&Bi(a,h),f&&u&&Bi(a,f)}}function Bi(a,c){Vl(c)||function u(f,x){var g=x.from,v=x.to,b=x.l,x=x.r;Fi(f,g,v),b&&u(f,b),x&&u(f,x)}(a,c)}function Eh(a,c){var u=ls(c),f=u.next();if(f.done)return!1;for(var h=f.value,g=ls(a),v=g.next(h.from),b=v.value;!f.done&&!v.done;){if(bt(b.from,h.to)<=0&&0<=bt(b.to,h.from))return!0;bt(h.from,b.from)<0?h=(f=u.next(b.from)).value:b=(v=g.next(h.from)).value}return!1}function ls(a){var c=Vl(a)?null:{s:0,n:a};return{next:function(u){for(var f=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&bt(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||bt(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function kh(a){var c,u,f=(((c=a.r)===null||c===void 0?void 0:c.d)||0)-(((u=a.l)===null||u===void 0?void 0:u.d)||0),h=1<f?"r":f<-1?"l":"";h&&(c=h=="r"?"l":"r",u=e({},a),f=a[h],a.from=f.from,a.to=f.to,a[h]=f[h],u[h]=f[c],(a[c]=u).d=Ah(u)),a.d=Ah(a)}function Ah(u){var c=u.r,u=u.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function us(a,c){return o(c).forEach(function(u){a[u]?Bi(a[u],c[u]):a[u]=function f(h){var g,v,b={};for(g in h)m(h,g)&&(v=h[g],b[g]=!v||typeof v!="object"||ue.has(v.constructor)?v:f(v));return b}(c[u])}),a}function ql(a,c){return a.all||c.all||Object.keys(a).some(function(u){return c[u]&&Eh(c[u],a[u])})}p(ge.prototype,((Qe={add:function(a){return Bi(this,a),this},addKey:function(a){return Fi(this,a,a),this},addKeys:function(a){var c=this;return a.forEach(function(u){return Fi(c,u,u)}),this},hasKey:function(a){var c=ls(this).next(a).value;return c&&bt(c.from,a)<=0&&0<=bt(c.to,a)}})[Si]=function(){return ls(this)},Qe));var Gn={},Wl={},Kl=!1;function ds(a){us(Wl,a),Kl||(Kl=!0,setTimeout(function(){Kl=!1,Hl(Wl,!(Wl={}))},0))}function Hl(a,c){c===void 0&&(c=!1);var u=new Set;if(a.all)for(var f=0,h=Object.values(Gn);f<h.length;f++)Ih(v=h[f],a,u,c);else for(var g in a){var v,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(v=Gn["idb://".concat(g,"/").concat(b)])&&Ih(v,a,u,c))}u.forEach(function(x){return x()})}function Ih(a,c,u,f){for(var h=[],g=0,v=Object.entries(a.queries.query);g<v.length;g++){for(var b=v[g],x=b[0],S=[],D=0,_=b[1];D<_.length;D++){var A=_[D];ql(c,A.obsSet)?A.subscribers.forEach(function(R){return u.add(R)}):f&&S.push(A)}f&&h.push([x,S])}if(f)for(var C=0,O=h;C<O.length;C++){var E=O[C],x=E[0],S=E[1];a.queries.query[x]=S}}function x_(a){var c=a._state,u=a._deps.indexedDB;if(c.isBeingOpened||a.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?qt(c.dbOpenError):a});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,h=Math.round(10*a.verno),g=!1;function v(){if(c.openCanceller!==f)throw new ot.DatabaseClosed("db.open() was cancelled")}function b(){return new G(function(A,C){if(v(),!u)throw new ot.MissingAPI;var O=a.name,E=c.autoSchema||!h?u.open(O):u.open(O,h);if(!E)throw new ot.MissingAPI;E.onerror=pr(C),E.onblocked=Bt(a._fireOnBlocked),E.onupgradeneeded=Bt(function(R){var P;D=E.transaction,c.autoSchema&&!a._options.allowEmptyDB?(E.onerror=Ti,D.abort(),E.result.close(),(P=u.deleteDatabase(O)).onsuccess=P.onerror=Bt(function(){C(new ot.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(D.onerror=pr(C),R=R.oldVersion>Math.pow(2,62)?0:R.oldVersion,_=R<1,a.idbdb=E.result,g&&b_(a,D),y_(a,R/10,D,C))},C),E.onsuccess=Bt(function(){D=null;var R,P,M,T,F,V=a.idbdb=E.result,H=Q(V.objectStoreNames);if(0<H.length)try{var q=V.transaction((T=H).length===1?T[0]:T,"readonly");if(c.autoSchema)P=V,M=q,(R=a).verno=P.version/10,M=R._dbSchema=as(0,P,M),R._storeNames=Q(P.objectStoreNames,0),os(R,[R._allTables],o(M),M);else if(ss(a,a._dbSchema,q),((F=Fl(as(0,(F=a).idbdb,q),F._dbSchema)).add.length||F.change.some(function(W){return W.add.length||W.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),h=V.version+1,g=!0,A(b());ns(a,q)}catch{}Do.push(a),V.onversionchange=Bt(function(W){c.vcFired=!0,a.on("versionchange").fire(W)}),V.onclose=Bt(function(W){a.on("close").fire(W)}),_&&(F=a._deps,q=O,V=F.indexedDB,F=F.IDBKeyRange,Ul(V)||q===Za||jl(V,F).put({name:q}).catch(At)),A()},C)}).catch(function(A){switch(A?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<h)return h=0,b()}return G.reject(A)})}var x,S=c.dbReadyResolve,D=null,_=!1;return G.race([f,(typeof navigator>"u"?G.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(A){function C(){return indexedDB.databases().finally(A)}x=setInterval(C,100),C()}).finally(function(){return clearInterval(x)}):Promise.resolve()).then(b)]).then(function(){return v(),c.onReadyBeingFired=[],G.resolve(zl(function(){return a.on.ready.fire(a.vip)})).then(function A(){if(0<c.onReadyBeingFired.length){var C=c.onReadyBeingFired.reduce(bl,At);return c.onReadyBeingFired=[],G.resolve(zl(function(){return C(a.vip)})).then(A)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(A){c.dbOpenError=A;try{D&&D.abort()}catch{}return f===c.openCanceller&&a._close(),qt(A)}).finally(function(){c.openComplete=!0,S()}).then(function(){var A;return _&&(A={},a.tables.forEach(function(C){C.schema.indexes.forEach(function(O){O.name&&(A["idb://".concat(a.name,"/").concat(C.name,"/").concat(O.name)]=new ge(-1/0,[[[]]]))}),A["idb://".concat(a.name,"/").concat(C.name,"/")]=A["idb://".concat(a.name,"/").concat(C.name,"/:dels")]=new ge(-1/0,[[[]]])}),dn(Ni).fire(A),Hl(A,!0)),a})}function Ql(a){function c(g){return a.next(g)}var u=h(c),f=h(function(g){return a.throw(g)});function h(g){return function(x){var b=g(x),x=b.value;return b.done?x:x&&typeof x.then=="function"?x.then(u,f):i(x)?Promise.all(x).then(u,f):u(x)}}return h(c)()}function fs(a,c,u){for(var f=i(a)?a.slice():[a],h=0;h<u;++h)f.push(c);return f}var w_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return e(e({},a),{table:function(c){var u=a.table(c),f=u.schema,h={},g=[];function v(_,A,C){var O=$i(_),E=h[O]=h[O]||[],R=_==null?0:typeof _=="string"?1:_.length,P=0<A,P=e(e({},C),{name:P?"".concat(O,"(virtual-from:").concat(C.name,")"):C.name,lowLevelIndex:C,isVirtual:P,keyTail:A,keyLength:R,extractKey:Ll(_),unique:!P&&C.unique});return E.push(P),P.isPrimaryKey||g.push(P),1<R&&v(R===2?_[0]:_.slice(0,R-1),A+1,C),E.sort(function(M,T){return M.keyTail-T.keyTail}),P}c=v(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[c];for(var b=0,x=f.indexes;b<x.length;b++){var S=x[b];v(S.keyPath,0,S)}function D(_){var A,C=_.query.index;return C.isVirtual?e(e({},_),{query:{index:C.lowLevelIndex,range:(A=_.query.range,C=C.keyTail,{type:A.type===1?2:A.type,lower:fs(A.lower,A.lowerOpen?a.MAX_KEY:a.MIN_KEY,C),lowerOpen:!0,upper:fs(A.upper,A.upperOpen?a.MIN_KEY:a.MAX_KEY,C),upperOpen:!0})}}):_}return e(e({},u),{schema:e(e({},f),{primaryKey:c,indexes:g,getIndexByKeyPath:function(_){return(_=h[$i(_)])&&_[0]}}),count:function(_){return u.count(D(_))},query:function(_){return u.query(D(_))},openCursor:function(_){var A=_.query.index,C=A.keyTail,O=A.isVirtual,E=A.keyLength;return O?u.openCursor(D(_)).then(function(P){return P&&R(P)}):u.openCursor(_);function R(P){return Object.create(P,{continue:{value:function(M){M!=null?P.continue(fs(M,_.reverse?a.MAX_KEY:a.MIN_KEY,C)):_.unique?P.continue(P.key.slice(0,E).concat(_.reverse?a.MIN_KEY:a.MAX_KEY,C)):P.continue()}},continuePrimaryKey:{value:function(M,T){P.continuePrimaryKey(fs(M,a.MAX_KEY,C),T)}},primaryKey:{get:function(){return P.primaryKey}},key:{get:function(){var M=P.key;return E===1?M[0]:M.slice(0,E)}},value:{get:function(){return P.value}}})}}})}})}};function Yl(a,c,u,f){return u=u||{},f=f||"",o(a).forEach(function(h){var g,v,b;m(c,h)?(g=a[h],v=c[h],typeof g=="object"&&typeof v=="object"&&g&&v?(b=nr(g))!==nr(v)?u[f+h]=c[h]:b==="Object"?Yl(g,v,u,f+h+"."):g!==v&&(u[f+h]=c[h]):g!==v&&(u[f+h]=c[h])):u[f+h]=void 0}),o(c).forEach(function(h){m(a,h)||(u[f+h]=c[h])}),u}function Gl(a,c){return c.type==="delete"?c.keys:c.keys||c.values.map(a.extractKey)}var C_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return e(e({},a),{table:function(c){var u=a.table(c),f=u.schema.primaryKey;return e(e({},u),{mutate:function(h){var g=et.trans,v=g.table(c).hook,b=v.deleting,x=v.creating,S=v.updating;switch(h.type){case"add":if(x.fire===At)break;return g._promise("readwrite",function(){return D(h)},!0);case"put":if(x.fire===At&&S.fire===At)break;return g._promise("readwrite",function(){return D(h)},!0);case"delete":if(b.fire===At)break;return g._promise("readwrite",function(){return D(h)},!0);case"deleteRange":if(b.fire===At)break;return g._promise("readwrite",function(){return function _(A,C,O){return u.query({trans:A,values:!1,query:{index:f,range:C},limit:O}).then(function(E){var R=E.result;return D({type:"delete",keys:R,trans:A}).then(function(P){return 0<P.numFailures?Promise.reject(P.failures[0]):R.length<O?{failures:[],numFailures:0,lastResult:void 0}:_(A,e(e({},C),{lower:R[R.length-1],lowerOpen:!0}),O)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function D(_){var A,C,O,E=et.trans,R=_.keys||Gl(f,_);if(!R)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?e(e({},_),{keys:R}):e({},_)).type!=="delete"&&(_.values=r([],_.values,!0)),_.keys&&(_.keys=r([],_.keys,!0)),A=u,O=R,((C=_).type==="add"?Promise.resolve([]):A.getMany({trans:C.trans,keys:O,cache:"immutable"})).then(function(P){var M=R.map(function(T,F){var V,H,q,W=P[F],Y={onerror:null,onsuccess:null};return _.type==="delete"?b.fire.call(Y,T,W,E):_.type==="add"||W===void 0?(V=x.fire.call(Y,T,_.values[F],E),T==null&&V!=null&&(_.keys[F]=T=V,f.outbound||st(_.values[F],f.keyPath,T))):(V=Yl(W,_.values[F]),(H=S.fire.call(Y,V,T,W,E))&&(q=_.values[F],Object.keys(H).forEach(function(K){m(q,K)?q[K]=H[K]:st(q,K,H[K])}))),Y});return u.mutate(_).then(function(T){for(var F=T.failures,V=T.results,H=T.numFailures,T=T.lastResult,q=0;q<R.length;++q){var W=(V||R)[q],Y=M[q];W==null?Y.onerror&&Y.onerror(F[q]):Y.onsuccess&&Y.onsuccess(_.type==="put"&&P[q]?_.values[q]:W)}return{failures:F,results:V,numFailures:H,lastResult:T}}).catch(function(T){return M.forEach(function(F){return F.onerror&&F.onerror(T)}),Promise.reject(T)})})}}})}})}};function Ph(a,c,u){try{if(!c||c.keys.length<a.length)return null;for(var f=[],h=0,g=0;h<c.keys.length&&g<a.length;++h)bt(c.keys[h],a[g])===0&&(f.push(u?rr(c.values[h]):c.values[h]),++g);return f.length===a.length?f:null}catch{return null}}var S_={stack:"dbcore",level:-1,create:function(a){return{table:function(c){var u=a.table(c);return e(e({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=Ph(f.keys,f.trans._cache,f.cache==="clone");return h?G.resolve(h):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?rr(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Mh(a,c){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Th(a,c){switch(a){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var R_={stack:"dbcore",level:0,name:"Observability",create:function(a){var c=a.schema.name,u=new ge(a.MIN_KEY,a.MAX_KEY);return e(e({},a),{transaction:function(f,h,g){if(et.subscr&&h!=="readonly")throw new ot.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return a.transaction(f,h,g)},table:function(f){var h=a.table(f),g=h.schema,v=g.primaryKey,_=g.indexes,b=v.extractKey,x=v.outbound,S=v.autoIncrement&&_.filter(function(C){return C.compound&&C.keyPath.includes(v.keyPath)}),D=e(e({},h),{mutate:function(C){function O(K){return K="idb://".concat(c,"/").concat(f,"/").concat(K),T[K]||(T[K]=new ge)}var E,R,P,M=C.trans,T=C.mutatedParts||(C.mutatedParts={}),F=O(""),V=O(":dels"),H=C.type,Y=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[Gl(v,C).filter(function(K){return K}),C.values]:[],q=Y[0],W=Y[1],Y=C.trans._cache;return i(q)?(F.addKeys(q),(Y=H==="delete"||q.length===W.length?Ph(q,Y):null)||V.addKeys(q),(Y||W)&&(E=O,R=Y,P=W,g.indexes.forEach(function(K){var Z=E(K.name||"");function mt(yt){return yt!=null?K.extractKey(yt):null}function vt(yt){return K.multiEntry&&i(yt)?yt.forEach(function($e){return Z.addKey($e)}):Z.addKey(yt)}(R||P).forEach(function(yt,ve){var ft=R&&mt(R[ve]),ve=P&&mt(P[ve]);bt(ft,ve)!==0&&(ft!=null&&vt(ft),ve!=null&&vt(ve))})}))):q?(W={from:(W=q.lower)!==null&&W!==void 0?W:a.MIN_KEY,to:(W=q.upper)!==null&&W!==void 0?W:a.MAX_KEY},V.add(W),F.add(W)):(F.add(u),V.add(u),g.indexes.forEach(function(K){return O(K.name).add(u)})),h.mutate(C).then(function(K){return!q||C.type!=="add"&&C.type!=="put"||(F.addKeys(K.results),S&&S.forEach(function(Z){for(var mt=C.values.map(function(ft){return Z.extractKey(ft)}),vt=Z.keyPath.findIndex(function(ft){return ft===v.keyPath}),yt=0,$e=K.results.length;yt<$e;++yt)mt[yt][vt]=K.results[yt];O(Z.name).addKeys(mt)})),M.mutatedParts=us(M.mutatedParts||{},T),K})}}),_=function(O){var E=O.query,O=E.index,E=E.range;return[O,new ge((O=E.lower)!==null&&O!==void 0?O:a.MIN_KEY,(E=E.upper)!==null&&E!==void 0?E:a.MAX_KEY)]},A={get:function(C){return[v,new ge(C.key)]},getMany:function(C){return[v,new ge().addKeys(C.keys)]},count:_,query:_,openCursor:_};return o(A).forEach(function(C){D[C]=function(O){var E=et.subscr,R=!!E,P=Mh(et,h)&&Th(C,O)?O.obsSet={}:E;if(R){var M=function(W){return W="idb://".concat(c,"/").concat(f,"/").concat(W),P[W]||(P[W]=new ge)},T=M(""),F=M(":dels"),E=A[C](O),R=E[0],E=E[1];if((C==="query"&&R.isPrimaryKey&&!O.values?F:M(R.name||"")).add(E),!R.isPrimaryKey){if(C!=="count"){var V=C==="query"&&x&&O.values&&h.query(e(e({},O),{values:!1}));return h[C].apply(this,arguments).then(function(W){if(C==="query"){if(x&&O.values)return V.then(function(mt){return mt=mt.result,T.addKeys(mt),W});var Y=O.values?W.result.map(b):W.result;(O.values?T:F).addKeys(Y)}else if(C==="openCursor"){var K=W,Z=O.values;return K&&Object.create(K,{key:{get:function(){return F.addKey(K.primaryKey),K.key}},primaryKey:{get:function(){var mt=K.primaryKey;return F.addKey(mt),mt}},value:{get:function(){return Z&&T.addKey(K.primaryKey),K.value}}})}return W})}F.add(u)}}return h[C].apply(this,arguments)}}),D}})}};function Nh(a,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return u.numFailures===f?null:(c=e({},c),i(c.keys)&&(c.keys=c.keys.filter(function(h,g){return!(g in u.failures)})),"values"in c&&i(c.values)&&(c.values=c.values.filter(function(h,g){return!(g in u.failures)})),c)}function Xl(a,c){return u=a,((f=c).lower===void 0||(f.lowerOpen?0<bt(u,f.lower):0<=bt(u,f.lower)))&&(a=a,(c=c).upper===void 0||(c.upperOpen?bt(a,c.upper)<0:bt(a,c.upper)<=0));var u,f}function Lh(a,c,A,f,h,g){if(!A||A.length===0)return a;var v=c.query.index,b=v.multiEntry,x=c.query.range,S=f.schema.primaryKey.extractKey,D=v.extractKey,_=(v.lowLevelIndex||v).extractKey,A=A.reduce(function(C,O){var E=C,R=[];if(O.type==="add"||O.type==="put")for(var P=new ge,M=O.values.length-1;0<=M;--M){var T,F=O.values[M],V=S(F);P.hasKey(V)||(T=D(F),(b&&i(T)?T.some(function(K){return Xl(K,x)}):Xl(T,x))&&(P.addKey(V),R.push(F)))}switch(O.type){case"add":var H=new ge().addKeys(c.values?C.map(function(Z){return S(Z)}):C),E=C.concat(c.values?R.filter(function(Z){return Z=S(Z),!H.hasKey(Z)&&(H.addKey(Z),!0)}):R.map(function(Z){return S(Z)}).filter(function(Z){return!H.hasKey(Z)&&(H.addKey(Z),!0)}));break;case"put":var q=new ge().addKeys(O.values.map(function(Z){return S(Z)}));E=C.filter(function(Z){return!q.hasKey(c.values?S(Z):Z)}).concat(c.values?R:R.map(function(Z){return S(Z)}));break;case"delete":var W=new ge().addKeys(O.keys);E=C.filter(function(Z){return!W.hasKey(c.values?S(Z):Z)});break;case"deleteRange":var Y=O.range;E=C.filter(function(Z){return!Xl(S(Z),Y)})}return E},a);return A===a?a:(A.sort(function(C,O){return bt(_(C),_(O))||bt(S(C),S(O))}),c.limit&&c.limit<1/0&&(A.length>c.limit?A.length=c.limit:a.length===c.limit&&A.length<c.limit&&(h.dirty=!0)),g?Object.freeze(A):A)}function $h(a,c){return bt(a.lower,c.lower)===0&&bt(a.upper,c.upper)===0&&!!a.lowerOpen==!!c.lowerOpen&&!!a.upperOpen==!!c.upperOpen}function O_(a,c){return function(u,f,h,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=bt(u,f))===0){if(h&&g)return 0;if(h)return 1;if(g)return-1}return f}(a.lower,c.lower,a.lowerOpen,c.lowerOpen)<=0&&0<=function(u,f,h,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=bt(u,f))===0){if(h&&g)return 0;if(h)return-1;if(g)return 1}return f}(a.upper,c.upper,a.upperOpen,c.upperOpen)}function D_(a,c,u,f){a.subscribers.add(u),f.addEventListener("abort",function(){var h,g;a.subscribers.delete(u),a.subscribers.size===0&&(h=a,g=c,setTimeout(function(){h.subscribers.size===0&&Nr(g,h)},3e3))})}var E_={stack:"dbcore",level:0,name:"Cache",create:function(a){var c=a.schema.name;return e(e({},a),{transaction:function(u,f,h){var g,v,b=a.transaction(u,f,h);return f==="readwrite"&&(v=(g=new AbortController).signal,h=function(x){return function(){if(g.abort(),f==="readwrite"){for(var S=new Set,D=0,_=u;D<_.length;D++){var A=_[D],C=Gn["idb://".concat(c,"/").concat(A)];if(C){var O=a.table(A),E=C.optimisticOps.filter(function(Z){return Z.trans===b});if(b._explicit&&x&&b.mutatedParts)for(var R=0,P=Object.values(C.queries.query);R<P.length;R++)for(var M=0,T=(H=P[R]).slice();M<T.length;M++)ql((q=T[M]).obsSet,b.mutatedParts)&&(Nr(H,q),q.subscribers.forEach(function(Z){return S.add(Z)}));else if(0<E.length){C.optimisticOps=C.optimisticOps.filter(function(Z){return Z.trans!==b});for(var F=0,V=Object.values(C.queries.query);F<V.length;F++)for(var H,q,W,Y=0,K=(H=V[F]).slice();Y<K.length;Y++)(q=K[Y]).res!=null&&b.mutatedParts&&(x&&!q.dirty?(W=Object.isFrozen(q.res),W=Lh(q.res,q.req,E,O,q,W),q.dirty?(Nr(H,q),q.subscribers.forEach(function(Z){return S.add(Z)})):W!==q.res&&(q.res=W,q.promise=G.resolve({result:W}))):(q.dirty&&Nr(H,q),q.subscribers.forEach(function(Z){return S.add(Z)})))}}}S.forEach(function(Z){return Z()})}}},b.addEventListener("abort",h(!1),{signal:v}),b.addEventListener("error",h(!1),{signal:v}),b.addEventListener("complete",h(!0),{signal:v})),b},table:function(u){var f=a.table(u),h=f.schema.primaryKey;return e(e({},f),{mutate:function(g){var v=et.trans;if(h.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(g);var b=Gn["idb://".concat(c,"/").concat(u)];return b?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Gl(h,g).some(function(x){return x==null}))?(b.optimisticOps.push(g),g.mutatedParts&&ds(g.mutatedParts),v.then(function(x){0<x.numFailures&&(Nr(b.optimisticOps,g),(x=Nh(0,g,x))&&b.optimisticOps.push(x),g.mutatedParts&&ds(g.mutatedParts))}),v.catch(function(){Nr(b.optimisticOps,g),g.mutatedParts&&ds(g.mutatedParts)})):v.then(function(x){var S=Nh(0,e(e({},g),{values:g.values.map(function(D,_){var A;return x.failures[_]?D:(D=(A=h.keyPath)!==null&&A!==void 0&&A.includes(".")?rr(D):e({},D),st(D,h.keyPath,x.results[_]),D)})}),x);b.optimisticOps.push(S),queueMicrotask(function(){return g.mutatedParts&&ds(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!Mh(et,f)||!Th("query",g))return f.query(g);var v=((S=et.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",_=et,b=_.requery,x=_.signal,S=function(O,E,R,P){var M=Gn["idb://".concat(O,"/").concat(E)];if(!M)return[];if(!(E=M.queries[R]))return[null,!1,M,null];var T=E[(P.query?P.query.index.name:null)||""];if(!T)return[null,!1,M,null];switch(R){case"query":var F=T.find(function(V){return V.req.limit===P.limit&&V.req.values===P.values&&$h(V.req.query.range,P.query.range)});return F?[F,!0,M,T]:[T.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=P.limit&&(!P.values||V.req.values)&&O_(V.req.query.range,P.query.range)}),!1,M,T];case"count":return F=T.find(function(V){return $h(V.req.query.range,P.query.range)}),[F,!!F,M,T]}}(c,u,"query",g),D=S[0],_=S[1],A=S[2],C=S[3];return D&&_?D.obsSet=g.obsSet:(_=f.query(g).then(function(O){var E=O.result;if(D&&(D.res=E),v){for(var R=0,P=E.length;R<P;++R)Object.freeze(E[R]);Object.freeze(E)}else O.result=rr(E);return O}).catch(function(O){return C&&D&&Nr(C,D),Promise.reject(O)}),D={obsSet:g.obsSet,promise:_,subscribers:new Set,type:"query",req:g,dirty:!1},C?C.push(D):(C=[D],(A=A||(Gn["idb://".concat(c,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=C)),D_(D,C,b,x),D.promise.then(function(O){return{result:Lh(O.result,g,A?.optimisticOps,f,D,v)}})}})}})}};function hs(a,c){return new Proxy(a,{get:function(u,f,h){return f==="db"?c:Reflect.get(u,f,h)}})}var Fr=(Wt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new ot.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new ot.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var c=this._versions,u=c.filter(function(f){return f._cfg.version===a})[0];return u||(u=new this.Version(a),c.push(u),c.sort(v_),u.stores({}),this._state.autoSchema=!1,u)},Wt.prototype._whenReady=function(a){var c=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?a():new G(function(u,f){if(c._state.openComplete)return f(new ot.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void f(new ot.DatabaseClosed);c.open().catch(At)}c._state.dbReadyPromise.then(u,f)}).then(a)},Wt.prototype.use=function(a){var c=a.stack,u=a.create,f=a.level,h=a.name;return h&&this.unuse({stack:c,name:h}),a=this._middlewares[c]||(this._middlewares[c]=[]),a.push({stack:c,create:u,level:f??10,name:h}),a.sort(function(g,v){return g.level-v.level}),this},Wt.prototype.unuse=function(a){var c=a.stack,u=a.name,f=a.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},Wt.prototype.open=function(){var a=this;return Hn(an,function(){return x_(a)})},Wt.prototype._close=function(){var a=this._state,c=Do.indexOf(this);if(0<=c&&Do.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new G(function(u){a.dbReadyResolve=u}),a.openCanceller=new G(function(u,f){a.cancelOpen=f}))},Wt.prototype.close=function(u){var c=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;c?(u.isBeingOpened&&u.cancelOpen(new ot.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new ot.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Wt.prototype.delete=function(a){var c=this;a===void 0&&(a={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new G(function(h,g){function v(){c.close(a);var b=c._deps.indexedDB.deleteDatabase(c.name);b.onsuccess=Bt(function(){var x,S,D;x=c._deps,S=c.name,D=x.indexedDB,x=x.IDBKeyRange,Ul(D)||S===Za||jl(D,x).delete(S).catch(At),h()}),b.onerror=pr(g),b.onblocked=c._fireOnBlocked}if(u)throw new ot.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},Wt.prototype.backendDB=function(){return this.idbdb},Wt.prototype.isOpen=function(){return this.idbdb!==null},Wt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wt.prototype,"tables",{get:function(){var a=this;return o(this._allTables).map(function(c){return a._allTables[c]})},enumerable:!1,configurable:!0}),Wt.prototype.transaction=function(){var a=function(c,u,f){var h=arguments.length;if(h<2)throw new ot.InvalidArgument("Too few arguments");for(var g=new Array(h-1);--h;)g[h-1]=arguments[h];return f=g.pop(),[c,$t(g),f]}.apply(this,arguments);return this._transaction.apply(this,a)},Wt.prototype._transaction=function(a,c,u){var f=this,h=et.trans;h&&h.db===this&&a.indexOf("!")===-1||(h=null);var g,v,b=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(v=c.map(function(S){if(S=S instanceof f.Table?S.name:S,typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),a=="r"||a===El)g=El;else{if(a!="rw"&&a!=kl)throw new ot.InvalidArgument("Invalid transaction mode: "+a);g=kl}if(h){if(h.mode===El&&g===kl){if(!b)throw new ot.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&v.forEach(function(S){if(h&&h.storeNames.indexOf(S)===-1){if(!b)throw new ot.SubTransaction("Table "+S+" not included in parent transaction.");h=null}}),b&&h&&!h.active&&(h=null)}}catch(S){return h?h._promise(null,function(D,_){_(S)}):qt(S)}var x=function S(D,_,A,C,O){return G.resolve().then(function(){var E=et.transless||et,R=D._createTransaction(_,A,D._dbSchema,C);if(R.explicit=!0,E={trans:R,transless:E},C)R.idbtrans=C.idbtrans;else try{R.create(),R.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(T){return T.name===on.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return S(D,_,A,null,O)})):qt(T)}var P,M=nn(O);return M&&Oo(),E=G.follow(function(){var T;(P=O.call(R,R))&&(M?(T=cn.bind(null,null),P.then(T,T)):typeof P.next=="function"&&typeof P.throw=="function"&&(P=Ql(P)))},E),(P&&typeof P.then=="function"?G.resolve(P).then(function(T){return R.active?T:qt(new ot.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):E.then(function(){return P})).then(function(T){return C&&R._resolve(),R._completion.then(function(){return T})}).catch(function(T){return R._reject(T),qt(T)})})}.bind(null,this,g,v,h,u);return h?h._promise(g,x,"lock"):et.trans?Hn(et.transless,function(){return f._whenReady(x)}):this._whenReady(x)},Wt.prototype.table=function(a){if(!m(this._allTables,a))throw new ot.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Wt);function Wt(a,c){var u=this;this._middlewares={},this.verno=0;var f=Wt.dependencies;this._options=c=e({addons:Wt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},f=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,g,v,b,x,S={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};S.dbReadyPromise=new G(function(_){S.dbReadyResolve=_}),S.openCanceller=new G(function(_,A){S.cancelOpen=A}),this._state=S,this.name=a,this.on=Ii(this,"populate","blocked","versionchange","close",{ready:[bl,At]}),this.on.ready.subscribe=J(this.on.ready.subscribe,function(_){return function(A,C){Wt.vip(function(){var O,E=u._state;E.openComplete?(E.dbOpenError||G.resolve().then(A),C&&_(A)):E.onReadyBeingFired?(E.onReadyBeingFired.push(A),C&&_(A)):(_(A),O=u,C||_(function R(){O.on.ready.unsubscribe(A),O.on.ready.unsubscribe(R)}))})}}),this.Collection=(h=this,Pi(u_.prototype,function(P,R){this.db=h;var C=mh,O=null;if(R)try{C=R()}catch(M){O=M}var E=P._ctx,R=E.table,P=R.hook.reading.fire;this._ctx={table:R,index:E.index,isPrimKey:!E.index||R.schema.primKey.keyPath&&E.index===R.schema.primKey.name,range:C,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:E.or,valueMapper:P!==Oi?P:null}})),this.Table=(g=this,Pi(yh.prototype,function(_,A,C){this.db=g,this._tx=C,this.name=_,this.schema=A,this.hook=g._allTables[_]?g._allTables[_].hook:Ii(null,{creating:[e_,At],reading:[t_,Oi],updating:[n_,At],deleting:[r_,At]})})),this.Transaction=(v=this,Pi(h_.prototype,function(_,A,C,O,E){var R=this;this.db=v,this.mode=_,this.storeNames=A,this.schema=C,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Ii(this,"complete","error","abort"),this.parent=E||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new G(function(P,M){R._resolve=P,R._reject=M}),this._completion.then(function(){R.active=!1,R.on.complete.fire()},function(P){var M=R.active;return R.active=!1,R.on.error.fire(P),R.parent?R.parent._reject(P):M&&R.idbtrans&&R.idbtrans.abort(),qt(P)})})),this.Version=(b=this,Pi(__.prototype,function(_){this.db=b,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,Pi(Ch.prototype,function(_,A,C){if(this.db=x,this._ctx={table:_,index:A===":id"?null:A,or:C},this._cmp=this._ascending=bt,this._descending=function(O,E){return bt(E,O)},this._max=function(O,E){return 0<bt(O,E)?O:E},this._min=function(O,E){return bt(O,E)<0?O:E},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new ot.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=Li(c.IDBKeyRange),this._createTransaction=function(_,A,C,O){return new u.Transaction(_,A,C,u._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(_){u.on("blocked").fire(_),Do.filter(function(A){return A.name===u.name&&A!==u&&!A._state.vcFired}).map(function(A){return A.on("versionchange").fire(_)})},this.use(S_),this.use(E_),this.use(R_),this.use(w_),this.use(C_);var D=new Proxy(this,{get:function(_,A,C){if(A==="_vip")return!0;if(A==="table")return function(E){return hs(u.table(E),D)};var O=Reflect.get(_,A,C);return O instanceof yh?hs(O,D):A==="tables"?O.map(function(E){return hs(E,D)}):A==="_createTransaction"?function(){return hs(O.apply(this,arguments),D)}:O}});this.vip=D,f.forEach(function(_){return _(u)})}var ms,Qe=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",k_=(Zl.prototype.subscribe=function(a,c,u){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:c,complete:u})},Zl.prototype[Qe]=function(){return this},Zl);function Zl(a){this._subscribe=a}try{ms={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch{ms={indexedDB:null,IDBKeyRange:null}}function Fh(a){var c,u=!1,f=new k_(function(h){var g=nn(a),v,b=!1,x={},S={},D={get closed(){return b},unsubscribe:function(){b||(b=!0,v&&v.abort(),_&&dn.storagemutated.unsubscribe(C))}};h.start&&h.start(D);var _=!1,A=function(){return Dl(O)},C=function(E){us(x,E),ql(S,x)&&A()},O=function(){var E,R,P;!b&&ms.indexedDB&&(x={},E={},v&&v.abort(),v=new AbortController,P=function(M){var T=So();try{g&&Oo();var F=sn(a,M);return F=g?F.finally(cn):F}finally{T&&Ro()}}(R={subscr:E,signal:v.signal,requery:A,querier:a,trans:null}),Promise.resolve(P).then(function(M){u=!0,c=M,b||R.signal.aborted||(x={},function(T){for(var F in T)if(m(T,F))return;return 1}(S=E)||_||(dn(Ni,C),_=!0),Dl(function(){return!b&&h.next&&h.next(M)}))},function(M){u=!1,["DatabaseClosedError","AbortError"].includes(M?.name)||b||Dl(function(){b||h.error&&h.error(M)})}))};return setTimeout(A,0),D});return f.hasValue=function(){return u},f.getValue=function(){return c},f}var Xn=Fr;function Jl(a){var c=fn;try{fn=!0,dn.storagemutated.fire(a),Hl(a,!0)}finally{fn=c}}p(Xn,e(e({},Va),{delete:function(a){return new Xn(a,{addons:[]}).delete()},exists:function(a){return new Xn(a,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return c=Xn.dependencies,u=c.indexedDB,c=c.IDBKeyRange,(Ul(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Za})}):jl(u,c).toCollection().primaryKeys()).then(a)}catch{return qt(new ot.MissingAPI)}var c,u},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return et.trans?Hn(et.transless,a):a()},vip:zl,async:function(a){return function(){try{var c=Ql(a.apply(this,arguments));return c&&typeof c.then=="function"?c:G.resolve(c)}catch(u){return qt(u)}}},spawn:function(a,c,u){try{var f=Ql(a.apply(u,c||[]));return f&&typeof f.then=="function"?f:G.resolve(f)}catch(h){return qt(h)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(a,c){return c=G.resolve(typeof a=="function"?Xn.ignoreTransaction(a):a).timeout(c||6e4),et.trans?et.trans.waitFor(c):c},Promise:G,debug:{get:function(){return mr},set:function(a){sh(a)}},derive:k,extend:s,props:p,override:J,Events:Ii,on:dn,liveQuery:Fh,extendObservabilitySet:us,getByKeyPath:kt,setByKeyPath:st,delByKeyPath:function(a,c){typeof c=="string"?st(a,c,void 0):"length"in c&&[].map.call(c,function(u){st(a,u,void 0)})},shallowClone:Pt,deepClone:rr,getObjectDiff:Yl,cmp:bt,asap:tt,minKey:-1/0,addons:[],connections:Do,errnames:on,dependencies:ms,cache:Gn,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,c,u){return a+c/Math.pow(10,2*u)})})),Xn.maxKey=Li(Xn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(dn(Ni,function(a){fn||(a=new CustomEvent(Ml,{detail:a}),fn=!0,dispatchEvent(a),fn=!1)}),addEventListener(Ml,function(a){a=a.detail,fn||Jl(a)}));var Ao,fn=!1,Bh=function(){};return typeof BroadcastChannel<"u"&&((Bh=function(){(Ao=new BroadcastChannel(Ml)).onmessage=function(a){return a.data&&Jl(a.data)}})(),typeof Ao.unref=="function"&&Ao.unref(),dn(Ni,function(a){fn||Ao.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Fr.disableBfCache&&a.persisted){mr&&console.debug("Dexie: handling persisted pagehide"),Ao?.close();for(var c=0,u=Do;c<u.length;c++)u[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Fr.disableBfCache&&a.persisted&&(mr&&console.debug("Dexie: handling persisted pageshow"),Bh(),Jl({all:new ge(-1/0,[[]])}))})),G.rejectionMapper=function(a,c){return!a||a instanceof or||a instanceof TypeError||a instanceof SyntaxError||!a.name||!ah[a.name]?a:(c=new ah[a.name](c||a.message,a),"stack"in a&&w(c,"stack",{get:function(){return this.inner.stack}}),c)},sh(mr),e(Fr,Object.freeze({__proto__:null,Dexie:Fr,liveQuery:Fh,Entity:ph,cmp:bt,PropModSymbol:$r,PropModification:Mi,replacePrefix:function(a,c){return new Mi({replacePrefix:[a,c]})},add:function(a){return new Mi({add:a})},remove:function(a){return new Mi({remove:a})},default:Fr,RangeSet:ge,mergeRanges:Bi,rangesOverlap:Eh}),{default:Fr}),Fr})});var Qi=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Kr=class extends Qi{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,r,n,o,i){super(),this.component=e,this.viewContainerRef=r,this.injector=n,this.projectableNodes=i}},Cr=class extends Qi{templateRef;viewContainerRef;context;injector;constructor(e,r,n,o){super(),this.templateRef=e,this.viewContainerRef=r,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}},vu=class extends Qi{element;constructor(e){super(),this.element=e instanceof Jt?e.nativeElement:e}},bn=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Kr)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Cr)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof vu)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ds=class extends bn{outletElement;_appRef;_defaultInjector;_document;constructor(e,r,n,o,i){super(),this.outletElement=e,this._appRef=n,this._defaultInjector=o,this._document=i}attachComponentPortal(e){let r;if(e.viewContainerRef){let n=e.injector||e.viewContainerRef.injector,o=n.get(cu,null,{optional:!0})||void 0;r=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:n,ngModuleRef:o,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>r.destroy())}else r=bm(e.component,{elementInjector:e.injector||this._defaultInjector||Xt.NULL,environmentInjector:this._appRef.injector,projectableNodes:e.projectableNodes||void 0}),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let r=e.viewContainerRef,n=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=r.indexOf(n);o!==-1&&r.remove(o)}),this._attachedPortal=e,n}attachDomPortal=e=>{let r=e.element;r.parentNode;let n=this._document.createComment("dom-portal");r.parentNode.insertBefore(n,r),this.outletElement.appendChild(r),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(r,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var EO=(()=>{class t extends Cr{constructor(){let r=I(jr),n=I(gn);super(r,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[fe]})}return t})();var _n=(()=>{class t extends bn{_moduleRef=I(cu,{optional:!0});_document=I(Se);_viewContainerRef=I(gn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}attached=new we;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let n=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=n.createComponent(r.component,{index:n.length,injector:r.injector||n.injector,projectableNodes:r.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=r,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(r){r.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=r=>{let n=r.element;n.parentNode;let o=this._document.createComment("dom-portal");r.setAttachedHost(this),n.parentNode.insertBefore(o,n),this._getRootNode().appendChild(n),this._attachedPortal=r,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(n,o)})};_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fe]})}return t})();var Hr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({})}return t})();var Um=["mat-button",""],zm=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Vm=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],M_='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',qm="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var T_=["mat-icon-button",""],N_=["*"];var L_=new pt("MAT_BUTTON_CONFIG");var $_=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],yu=(()=>{class t{_elementRef=I(Jt);_ngZone=I(Zt);_animationMode=I($o,{optional:!0});_focusMonitor=I(Os);_rippleLoader=I(Fm);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){I(Ki).load(Lm);let r=I(L_,{optional:!0}),n=this._elementRef.nativeElement,o=n.classList;this.disabledInteractive=r?.disabledInteractive??!1,this.color=r?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:i,mdcClasses:s}of $_)n.hasAttribute(i)&&o.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",n){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",he],disabled:[2,"disabled","disabled",he],ariaDisabled:[2,"aria-disabled","ariaDisabled",he],disabledInteractive:[2,"disabledInteractive","disabledInteractive",he]},features:[vn]})}return t})();var F_=(()=>{class t extends yu{_renderer=I(pn);_cleanupClick;tabIndex;ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._elementRef.nativeElement,"click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._cleanupClick?.()}_haltDisabledEvents=r=>{this.disabled&&(r.preventDefault(),r.stopImmediatePropagation())};_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275dir=Ut({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",r=>r==null?void 0:vm(r)]},features:[vn,fe]})}return t})(),Wm=(()=>{class t extends yu{static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275cmp=Ce({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Fe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),xs(o.color?"mat-"+o.color:""),_r("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[fe],attrs:Um,ngContentSelectors:Vm,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(qi(zm),Ge(0,"span",0),zr(1),xr(2,"span",1),zr(3,1),ar(),zr(4,2),Ge(5,"span",2)(6,"span",3)),n&2&&_r("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})(),jO=(()=>{class t extends F_{static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275cmp=Ce({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Fe("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getAriaDisabled()),xs(o.color?"mat-"+o.color:""),_r("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[fe],attrs:Um,ngContentSelectors:Vm,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(qi(zm),Ge(0,"span",0),zr(1),xr(2,"span",1),zr(3,1),ar(),zr(4,2),Ge(5,"span",2)(6,"span",3)),n&2&&_r("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[M_,qm],encapsulation:2,changeDetection:0})}return t})();var UO=(()=>{class t extends yu{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Fe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),xs(o.color?"mat-"+o.color:""),_r("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[fe],attrs:T_,ngContentSelectors:N_,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(qi(),Ge(0,"span",0),zr(1),Ge(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',qm],encapsulation:2,changeDetection:0})}return t})();var Km=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({imports:[Wr,$m,Wr]})}return t})();var ht="primary",sa=Symbol("RouteTitle"),Cu=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Xo(t){return new Cu(t)}function B_(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let o={};for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(s[0]===":")o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function j_(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Rr(t[r],e[r]))return!1;return!0}function Rr(t,e){let r=t?Su(t):void 0,n=e?Su(e):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!rp(t[o],e[o]))return!1;return!0}function Su(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function rp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((o,i)=>n[i]===o)}else return t===e}function np(t){return t.length>0?t[t.length-1]:null}function Sn(t){return Io(t)?t:dm(t)?_e(Promise.resolve(t)):rt(t)}var U_={exact:ip,subset:ap},op={exact:z_,subset:V_,ignored:()=>!0};function Hm(t,e,r){return U_[r.paths](t.root,e.root,r.matrixParams)&&op[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function z_(t,e){return Rr(t,e)}function ip(t,e,r){if(!co(t.segments,e.segments)||!As(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!ip(t.children[n],e.children[n],r))return!1;return!0}function V_(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>rp(t[r],e[r]))}function ap(t,e,r){return sp(t,e,e.segments,r)}function sp(t,e,r,n){if(t.segments.length>r.length){let o=t.segments.slice(0,r.length);return!(!co(o,r)||e.hasChildren()||!As(o,r,n))}else if(t.segments.length===r.length){if(!co(t.segments,r)||!As(t.segments,r,n))return!1;for(let o in e.children)if(!t.children[o]||!ap(t.children[o],e.children[o],n))return!1;return!0}else{let o=r.slice(0,t.segments.length),i=r.slice(t.segments.length);return!co(t.segments,o)||!As(t.segments,o,n)||!t.children[ht]?!1:sp(t.children[ht],e,i,n)}}function As(t,e,r){return e.every((n,o)=>op[r](t[o].parameters,n.parameters))}var Qr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Dt([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return K_.serialize(this)}},Dt=class{segments;children;parent=null;constructor(e,r){this.segments=e,this.children=r,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Is(this)}},so=class{path;parameters;_parameterMap;constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return lp(this)}};function q_(t,e){return co(t,e)&&t.every((r,n)=>Rr(r.parameters,e[n].parameters))}function co(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function W_(t,e){let r=[];return Object.entries(t.children).forEach(([n,o])=>{n===ht&&(r=r.concat(e(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==ht&&(r=r.concat(e(o,n)))}),r}var ca=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>new Zo,providedIn:"root"})}return t})(),Zo=class{parse(e){let r=new Ou(e);return new Qr(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Yi(e.root,!0)}`,n=Y_(e.queryParams),o=typeof e.fragment=="string"?`#${H_(e.fragment)}`:"";return`${r}${n}${o}`}},K_=new Zo;function Is(t){return t.segments.map(e=>lp(e)).join("/")}function Yi(t,e){if(!t.hasChildren())return Is(t);if(e){let r=t.children[ht]?Yi(t.children[ht],!1):"",n=[];return Object.entries(t.children).forEach(([o,i])=>{o!==ht&&n.push(`${o}:${Yi(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=W_(t,(n,o)=>o===ht?[Yi(t.children[ht],!1)]:[`${o}:${Yi(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ht]!=null?`${Is(t)}/${r[0]}`:`${Is(t)}/(${r.join("//")})`}}function cp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Es(t){return cp(t).replace(/%3B/gi,";")}function H_(t){return encodeURI(t)}function Ru(t){return cp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ps(t){return decodeURIComponent(t)}function Qm(t){return Ps(t.replace(/\+/g,"%20"))}function lp(t){return`${Ru(t.path)}${Q_(t.parameters)}`}function Q_(t){return Object.entries(t).map(([e,r])=>`;${Ru(e)}=${Ru(r)}`).join("")}function Y_(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(o=>`${Es(r)}=${Es(o)}`).join("&"):`${Es(r)}=${Es(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var G_=/^[^\/()?;#]+/;function bu(t){let e=t.match(G_);return e?e[0]:""}var X_=/^[^\/()?;=#]+/;function Z_(t){let e=t.match(X_);return e?e[0]:""}var J_=/^[^=?&#]+/;function tx(t){let e=t.match(J_);return e?e[0]:""}var ex=/^[^&#]+/;function rx(t){let e=t.match(ex);return e?e[0]:""}var Ou=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[ht]=new Dt(e,r)),n}parseSegment(){let e=bu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Oe(4009,!1);return this.capture(e),new so(Ps(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=Z_(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let o=bu(this.remaining);o&&(n=o,this.capture(n))}e[Ps(r)]=Ps(n)}parseQueryParam(e){let r=tx(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=rx(this.remaining);s&&(n=s,this.capture(n))}let o=Qm(r),i=Qm(n);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=bu(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new Oe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ht);let s=this.parseChildren();r[i]=Object.keys(s).length===1?s[ht]:new Dt([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Oe(4011,!1)}};function up(t){return t.segments.length>0?new Dt([],{[ht]:t}):t}function dp(t){let e={};for(let[n,o]of Object.entries(t.children)){let i=dp(o);if(n===ht&&i.segments.length===0&&i.hasChildren())for(let[s,l]of Object.entries(i.children))e[s]=l;else(i.segments.length>0||i.hasChildren())&&(e[n]=i)}let r=new Dt(t.segments,e);return nx(r)}function nx(t){if(t.numberOfChildren===1&&t.children[ht]){let e=t.children[ht];return new Dt(t.segments.concat(e.segments),e.children)}return t}function lo(t){return t instanceof Qr}function ox(t,e,r=null,n=null){let o=fp(t);return hp(o,e,r,n)}function fp(t){let e;function r(i){let s={};for(let d of i.children){let m=r(d);s[d.outlet]=m}let l=new Dt(i.url,s);return i===t&&(e=l),l}let n=r(t.root),o=up(n);return e??o}function hp(t,e,r,n){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return _u(o,o,o,r,n);let i=ix(e);if(i.toRoot())return _u(o,o,new Dt([],{}),r,n);let s=ax(i,o,t),l=s.processChildren?Xi(s.segmentGroup,s.index,i.commands):pp(s.segmentGroup,s.index,i.commands);return _u(o,s.segmentGroup,l,r,n)}function Ms(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ta(t){return typeof t=="object"&&t!=null&&t.outlets}function _u(t,e,r,n,o){let i={};n&&Object.entries(n).forEach(([d,m])=>{i[d]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let s;t===e?s=r:s=mp(t,e,r);let l=up(dp(s));return new Qr(l,i,o)}function mp(t,e,r){let n={};return Object.entries(t.children).forEach(([o,i])=>{i===e?n[o]=r:n[o]=mp(i,e,r)}),new Dt(t.segments,n)}var Ts=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&Ms(n[0]))throw new Oe(4003,!1);let o=n.find(ta);if(o&&o!==np(n))throw new Oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ix(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ts(!0,0,t);let e=0,r=!1,n=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let l={};return Object.entries(i.outlets).forEach(([d,m])=>{l[d]=typeof m=="string"?m.split("/"):m}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?r=!0:l===".."?e++:l!=""&&o.push(l))}),o):[...o,i]},[]);return new Ts(r,e,n)}var Qo=class{segmentGroup;processChildren;index;constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function ax(t,e,r){if(t.isAbsolute)return new Qo(e,!0,0);if(!r)return new Qo(e,!1,NaN);if(r.parent===null)return new Qo(r,!0,0);let n=Ms(t.commands[0])?0:1,o=r.segments.length-1+n;return sx(r,o,t.numberOfDoubleDots)}function sx(t,e,r){let n=t,o=e,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Oe(4005,!1);o=n.segments.length}return new Qo(n,!1,o-i)}function cx(t){return ta(t[0])?t[0].outlets:{[ht]:t}}function pp(t,e,r){if(t??=new Dt([],{}),t.segments.length===0&&t.hasChildren())return Xi(t,e,r);let n=lx(t,e,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let i=new Dt(t.segments.slice(0,n.pathIndex),{});return i.children[ht]=new Dt(t.segments.slice(n.pathIndex),t.children),Xi(i,0,o)}else return n.match&&o.length===0?new Dt(t.segments,{}):n.match&&!t.hasChildren()?Du(t,e,r):n.match?Xi(t,0,o):Du(t,e,r)}function Xi(t,e,r){if(r.length===0)return new Dt(t.segments,{});{let n=cx(r),o={};if(Object.keys(n).some(i=>i!==ht)&&t.children[ht]&&t.numberOfChildren===1&&t.children[ht].segments.length===0){let i=Xi(t.children[ht],e,r);return new Dt(t.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=pp(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{n[i]===void 0&&(o[i]=s)}),new Dt(t.segments,o)}}function lx(t,e,r){let n=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=r.length)return i;let s=t.segments[o],l=r[n];if(ta(l))break;let d=`${l}`,m=n<r.length-1?r[n+1]:null;if(o>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!Gm(d,m,s))return i;n+=2}else{if(!Gm(d,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function Du(t,e,r){let n=t.segments.slice(0,e),o=0;for(;o<r.length;){let i=r[o];if(ta(i)){let d=ux(i.outlets);return new Dt(n,d)}if(o===0&&Ms(r[0])){let d=t.segments[e];n.push(new so(d.path,Ym(r[0]))),o++;continue}let s=ta(i)?i.outlets[ht]:`${i}`,l=o<r.length-1?r[o+1]:null;s&&l&&Ms(l)?(n.push(new so(s,Ym(l))),o+=2):(n.push(new so(s,{})),o++)}return new Dt(n,{})}function ux(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Du(new Dt([],{}),0,n))}),e}function Ym(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function Gm(t,e,r){return t==r.path&&Rr(e,r.parameters)}var Zi="imperative",ae=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ae||{}),Xe=class{id;url;constructor(e,r){this.id=e,this.url=r}},xn=class extends Xe{type=ae.NavigationStart;navigationTrigger;restoredState;constructor(e,r,n="imperative",o=null){super(e,r),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends Xe{urlAfterRedirects;type=ae.NavigationEnd;constructor(e,r,n){super(e,r),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},je=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(je||{}),Ns=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ns||{}),lr=class extends Xe{reason;code;type=ae.NavigationCancel;constructor(e,r,n,o){super(e,r),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wn=class extends Xe{reason;code;type=ae.NavigationSkipped;constructor(e,r,n,o){super(e,r),this.reason=n,this.code=o}},ea=class extends Xe{error;target;type=ae.NavigationError;constructor(e,r,n,o){super(e,r),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ls=class extends Xe{urlAfterRedirects;state;type=ae.RoutesRecognized;constructor(e,r,n,o){super(e,r),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eu=class extends Xe{urlAfterRedirects;state;type=ae.GuardsCheckStart;constructor(e,r,n,o){super(e,r),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ku=class extends Xe{urlAfterRedirects;state;shouldActivate;type=ae.GuardsCheckEnd;constructor(e,r,n,o,i){super(e,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Au=class extends Xe{urlAfterRedirects;state;type=ae.ResolveStart;constructor(e,r,n,o){super(e,r),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iu=class extends Xe{urlAfterRedirects;state;type=ae.ResolveEnd;constructor(e,r,n,o){super(e,r),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pu=class{route;type=ae.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mu=class{route;type=ae.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tu=class{snapshot;type=ae.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nu=class{snapshot;type=ae.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{snapshot;type=ae.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$u=class{snapshot;type=ae.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$s=class{routerEvent;position;anchor;type=ae.Scroll;constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ra=class{},Jo=class{url;navigationBehaviorOptions;constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}};function dx(t,e){return t.providers&&!t._injector&&(t._injector=lu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cr(t){return t.outlet||ht}function fx(t,e){let r=t.filter(n=>cr(n)===e);return r.push(...t.filter(n=>cr(n)!==e)),r}function la(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Fu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return la(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ua(this.rootInjector)}},ua=(()=>{class t{rootInjector;contexts=new Map;constructor(r){this.rootInjector=r}onChildOutletCreated(r,n){let o=this.getOrCreateContext(r);o.outlet=n,this.contexts.set(r,o)}onChildOutletDestroyed(r){let n=this.getContext(r);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let n=this.getContext(r);return n||(n=new Fu(this.rootInjector),this.contexts.set(r,n)),n}getContext(r){return this.contexts.get(r)||null}static \u0275fac=function(n){return new(n||t)(jt(ro))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fs=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=Bu(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=Bu(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=ju(e,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ju(e,this._root).map(r=>r.value)}};function Bu(t,e){if(t===e.value)return e;for(let r of e.children){let n=Bu(t,r);if(n)return n}return null}function ju(t,e){if(t===e.value)return[e];for(let r of e.children){let n=ju(t,r);if(n.length)return n.unshift(e),n}return[]}var Be=class{value;children;constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Ho(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var Bs=class extends Fs{snapshot;constructor(e,r){super(e),this.snapshot=r,Yu(this,e)}toString(){return this.snapshot.toString()}};function gp(t){let e=hx(t),r=new be([new so("",{})]),n=new be({}),o=new be({}),i=new be({}),s=new be(""),l=new Dr(r,n,i,s,o,ht,t,e.root);return l.snapshot=e.root,new Bs(new Be(l,[]),e)}function hx(t){let e={},r={},n={},o="",i=new Yo([],e,n,o,r,ht,t,null,{});return new Us("",new Be(i,[]))}var Dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,r,n,o,i,s,l,d){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(lt(m=>m[sa]))??rt(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(lt(e=>Xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(lt(e=>Xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function js(t,e,r="emptyOnly"){let n,{routeConfig:o}=t;return e!==null&&(r==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),o?.data),t._resolvedData)}:n={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},o&&yp(o)&&(n.resolve[sa]=o.title),n}var Yo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sa]}constructor(e,r,n,o,i,s,l,d,m){this.url=e,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Us=class extends Fs{url;constructor(e,r){super(r),this.url=e,Yu(this,r)}toString(){return vp(this._root)}};function Yu(t,e){e.value._routerState=t,e.children.forEach(r=>Yu(t,r))}function vp(t){let e=t.children.length>0?` { ${t.children.map(vp).join(", ")} } `:"";return`${t.value}${e}`}function xu(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Rr(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Rr(e.params,r.params)||t.paramsSubject.next(r.params),j_(e.url,r.url)||t.urlSubject.next(r.url),Rr(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Uu(t,e){let r=Rr(t.params,e.params)&&q_(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||Uu(t.parent,e.parent))}function yp(t){return typeof t.title=="string"||t.title===null}var mx=new pt(""),px=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ht;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=nm(void 0);parentContexts=I(ua);location=I(gn);changeDetector=I(wr);inputBinder=I(Ws,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(r){if(r.name){let{firstChange:n,previousValue:o}=r.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Oe(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,n){this.activated=r,this._activatedRoute=n,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Oe(4013,!1);this._activatedRoute=r;let o=this.location,s=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new zu(r,l,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mn]})}return t})(),zu=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,r,n,o){this.route=e,this.childContexts=r,this.parent=n,this.outletData=o}get(e,r){return e===Dr?this.route:e===ua?this.childContexts:e===mx?this.outletData:this.parent.get(e,r)}},Ws=new pt(""),Xm=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:n}=r,o=ys([n.queryParams,n.params,n.data]).pipe(Ye(([i,s,l],d)=>(l=j(j(j({},i),s),l),d===0?rt(l):Promise.resolve(l)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(r);return}let s=_m(n.component);if(!s){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of s.inputs)r.activatedComponentRef.setInput(l,i[l])});this.outletDataSubscriptions.set(r,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac})}return t})();function gx(t,e,r){let n=na(t,e._root,r?r._root:void 0);return new Bs(n,e)}function na(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let o=vx(t,e,r);return new Be(n,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(l=>na(t,l)),s}}let n=yx(e.value),o=e.children.map(i=>na(t,i));return new Be(n,o)}}function vx(t,e,r){return e.children.map(n=>{for(let o of r.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return na(t,n,o);return na(t,n)})}function yx(t){return new Dr(new be(t.url),new be(t.params),new be(t.queryParams),new be(t.fragment),new be(t.data),t.outlet,t.component,t)}var oa=class{redirectTo;navigationBehaviorOptions;constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}},bp="ngNavigationCancelingError";function zs(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=_p(!1,je.Redirect);return o.url=r,o.navigationBehaviorOptions=n,o}function _p(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[bp]=!0,r.cancellationCode=e,r}function bx(t){return xp(t)&&lo(t.url)}function xp(t){return!!t&&t[bp]}var _x=(t,e,r,n)=>lt(o=>(new Vu(e,o.targetRouterState,o.currentRouterState,r,n).activate(t),o)),Vu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,r,n,o,i){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),xu(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let o=Ho(r);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(e,r,n){let o=e.value,i=r?r.value:null;if(o===i)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),o=n&&e.value.component?n.children:r,i=Ho(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),o=n&&e.value.component?n.children:r,i=Ho(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let o=Ho(r);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new $u(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Nu(e.value.snapshot))}activateRoutes(e,r,n){let o=e.value,i=r?r.value:null;if(xu(o),o===i)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),xu(l.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,n)}},Vs=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Go=class{component;route;constructor(e,r){this.component=e,this.route=r}};function xx(t,e,r){let n=t._root,o=e?e._root:null;return Gi(n,o,r,[n.value])}function wx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ei(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Yh(t)?t:e.get(t):n}function Gi(t,e,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ho(e);return t.children.forEach(s=>{Cx(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,l])=>Ji(l,r.getContext(s),o)),o}function Cx(t,e,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,l=r?r.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let d=Sx(s,i,i.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new Vs(n)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Gi(t,e,l?l.children:null,n,o):Gi(t,e,r,n,o),d&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Go(l.outlet.component,s))}else s&&Ji(e,l,o),o.canActivateChecks.push(new Vs(n)),i.component?Gi(t,null,l?l.children:null,n,o):Gi(t,null,r,n,o);return o}function Sx(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!co(t.url,e.url);case"pathParamsOrQueryParamsChange":return!co(t.url,e.url)||!Rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uu(t,e)||!Rr(t.queryParams,e.queryParams);case"paramsChange":default:return!Uu(t,e)}}function Ji(t,e,r){let n=Ho(t),o=t.value;Object.entries(n).forEach(([i,s])=>{o.component?e?Ji(s,e.children.getContext(i),r):Ji(s,null,r):Ji(s,e,r)}),o.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Go(e.outlet.component,o)):r.canDeactivateChecks.push(new Go(null,o)):r.canDeactivateChecks.push(new Go(null,o))}function da(t){return typeof t=="function"}function Rx(t){return typeof t=="boolean"}function Ox(t){return t&&da(t.canLoad)}function Dx(t){return t&&da(t.canActivate)}function Ex(t){return t&&da(t.canActivateChild)}function kx(t){return t&&da(t.canDeactivate)}function Ax(t){return t&&da(t.canMatch)}function wp(t){return t instanceof zh||t?.name==="EmptyError"}var ks=Symbol("INITIAL_VALUE");function ti(){return Ye(t=>ys(t.map(e=>e.pipe(yr(1),ir(ks)))).pipe(lt(e=>{for(let r of e)if(r!==!0){if(r===ks)return ks;if(r===!1||Ix(r))return r}return!0}),_t(e=>e!==ks),yr(1)))}function Ix(t){return lo(t)||t instanceof oa}function Px(t,e){return Kt(r=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return s.length===0&&i.length===0?rt(gt(j({},r),{guardsResult:!0})):Mx(s,n,o,t).pipe(Kt(l=>l&&Rx(l)?Tx(n,i,t,e):rt(l)),lt(l=>gt(j({},r),{guardsResult:l})))})}function Mx(t,e,r,n){return _e(t).pipe(Kt(o=>Bx(o.component,o.route,r,e,n)),hn(o=>o!==!0,!0))}function Tx(t,e,r,n){return _e(e).pipe(To(o=>qh(Lx(o.route.parent,n),Nx(o.route,n),Fx(t,o.path,r),$x(t,o.route,r))),hn(o=>o!==!0,!0))}function Nx(t,e){return t!==null&&e&&e(new Lu(t)),rt(!0)}function Lx(t,e){return t!==null&&e&&e(new Tu(t)),rt(!0)}function $x(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return rt(!0);let o=n.map(i=>to(()=>{let s=la(e)??r,l=ei(i,s),d=Dx(l)?l.canActivate(e,t):br(s,()=>l(e,t));return Sn(d).pipe(hn())}));return rt(o).pipe(ti())}function Fx(t,e,r){let n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>wx(s)).filter(s=>s!==null).map(s=>to(()=>{let l=s.guards.map(d=>{let m=la(s.node)??r,p=ei(d,m),y=Ex(p)?p.canActivateChild(n,t):br(m,()=>p(n,t));return Sn(y).pipe(hn())});return rt(l).pipe(ti())}));return rt(i).pipe(ti())}function Bx(t,e,r,n,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return rt(!0);let s=i.map(l=>{let d=la(e)??o,m=ei(l,d),p=kx(m)?m.canDeactivate(t,e,r,n):br(d,()=>m(t,e,r,n));return Sn(p).pipe(hn())});return rt(s).pipe(ti())}function jx(t,e,r,n){let o=e.canLoad;if(o===void 0||o.length===0)return rt(!0);let i=o.map(s=>{let l=ei(s,t),d=Ox(l)?l.canLoad(e,r):br(t,()=>l(e,r));return Sn(d)});return rt(i).pipe(ti(),Cp(n))}function Cp(t){return jh(xe(e=>{if(typeof e!="boolean")throw zs(t,e)}),lt(e=>e===!0))}function Ux(t,e,r,n){let o=e.canMatch;if(!o||o.length===0)return rt(!0);let i=o.map(s=>{let l=ei(s,t),d=Ax(l)?l.canMatch(e,r):br(t,()=>l(e,r));return Sn(d)});return rt(i).pipe(ti(),Cp(n))}var ia=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},aa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ko(t){return Ui(new ia(t))}function zx(t){return Ui(new Oe(4e3,!1))}function Vx(t){return Ui(_p(!1,je.GuardRejected))}var qu=class{urlSerializer;urlTree;constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return rt(n);if(o.numberOfChildren>1||!o.children[ht])return zx(`${e.redirectTo}`);o=o.children[ht]}}applyRedirectCommands(e,r,n,o,i){if(typeof r!="string"){let l=r,{queryParams:d,fragment:m,routeConfig:p,url:y,outlet:w,params:k,data:N,title:B}=o,Q=br(i,()=>l({params:k,data:N,queryParams:d,fragment:m,routeConfig:p,url:y,outlet:w,title:B}));if(Q instanceof Qr)throw new aa(Q);r=Q}let s=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r[0]==="/")throw new aa(s);return s}applyRedirectCreateUrlTree(e,r,n,o){let i=this.createSegmentGroup(e,r.root,n,o);return new Qr(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let l=i.substring(1);n[o]=r[l]}else n[o]=i}),n}createSegmentGroup(e,r,n,o){let i=this.createSegments(e,r.segments,n,o),s={};return Object.entries(r.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(e,d,n,o)}),new Dt(i,s)}createSegments(e,r,n,o){return r.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,n))}findPosParam(e,r,n){let o=n[r.path.substring(1)];if(!o)throw new Oe(4001,!1);return o}findOrReturn(e,r){let n=0;for(let o of r){if(o.path===e.path)return r.splice(n),o;n++}return e}},Wu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qx(t,e,r,n,o){let i=Sp(t,e,r);return i.matched?(n=dx(e,n),Ux(n,e,r,o).pipe(lt(s=>s===!0?i:j({},Wu)))):rt(i)}function Sp(t,e,r){if(e.path==="**")return Wx(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?j({},Wu):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let o=(e.matcher||B_)(r,t,e);if(!o)return j({},Wu);let i={};Object.entries(o.posParams??{}).forEach(([l,d])=>{i[l]=d.path});let s=o.consumed.length>0?j(j({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Wx(t){return{matched:!0,parameters:t.length>0?np(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zm(t,e,r,n){return r.length>0&&Qx(t,r,n)?{segmentGroup:new Dt(e,Hx(n,new Dt(r,t.children))),slicedSegments:[]}:r.length===0&&Yx(t,r,n)?{segmentGroup:new Dt(t.segments,Kx(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Dt(t.segments,t.children),slicedSegments:r}}function Kx(t,e,r,n){let o={};for(let i of r)if(Ks(t,e,i)&&!n[cr(i)]){let s=new Dt([],{});o[cr(i)]=s}return j(j({},n),o)}function Hx(t,e){let r={};r[ht]=e;for(let n of t)if(n.path===""&&cr(n)!==ht){let o=new Dt([],{});r[cr(n)]=o}return r}function Qx(t,e,r){return r.some(n=>Ks(t,e,n)&&cr(n)!==ht)}function Yx(t,e,r){return r.some(n=>Ks(t,e,n))}function Ks(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Gx(t,e,r){return e.length===0&&!t.children[r]}var Ku=class{};function Xx(t,e,r,n,o,i,s="emptyOnly"){return new Hu(t,e,r,n,o,s,i).recognize()}var Zx=31,Hu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,r,n,o,i,s,l){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new qu(this.urlSerializer,this.urlTree)}noMatchError(e){return new Oe(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(lt(({children:r,rootSnapshot:n})=>{let o=new Be(n,r),i=new Us("",o),s=ox(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let r=new Yo([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ht,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ht,r).pipe(lt(n=>({children:n,rootSnapshot:r})),Mo(n=>{if(n instanceof aa)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ia?this.noMatchError(n):n}))}processSegmentGroup(e,r,n,o,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n,i):this.processSegment(e,r,n,n.segments,o,!0,i).pipe(lt(s=>s instanceof Be?[s]:[]))}processChildren(e,r,n,o){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return _e(i).pipe(To(s=>{let l=n.children[s],d=fx(r,s);return this.processSegmentGroup(e,d,l,s,o)}),Hh((s,l)=>(s.push(...l),s)),nu(null),Wh(),Kt(s=>{if(s===null)return Ko(n);let l=Rp(s);return Jx(l),rt(l)}))}processSegment(e,r,n,o,i,s,l){return _e(r).pipe(To(d=>this.processSegmentAgainstRoute(d._injector??e,r,d,n,o,i,s,l).pipe(Mo(m=>{if(m instanceof ia)return rt(null);throw m}))),hn(d=>!!d),Mo(d=>{if(wp(d))return Gx(n,o,i)?rt(new Ku):Ko(n);throw d}))}processSegmentAgainstRoute(e,r,n,o,i,s,l,d){return cr(n)!==s&&(s===ht||!Ks(o,i,n))?Ko(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,n,i,s,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,o,r,n,i,s,d):Ko(o)}expandSegmentAgainstRouteUsingRedirect(e,r,n,o,i,s,l){let{matched:d,parameters:m,consumedSegments:p,positionalParamSegments:y,remainingSegments:w}=Sp(r,o,i);if(!d)return Ko(r);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Zx&&(this.allowRedirects=!1));let k=new Yo(i,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Jm(o),cr(o),o.component??o._loadedComponent??null,o,tp(o)),N=js(k,l,this.paramsInheritanceStrategy);k.params=Object.freeze(N.params),k.data=Object.freeze(N.data);let B=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,y,k,e);return this.applyRedirects.lineralizeSegments(o,B).pipe(Kt(Q=>this.processSegment(e,n,r,Q.concat(w),s,!1,l)))}matchSegmentAgainstRoute(e,r,n,o,i,s){let l=qx(r,n,o,e,this.urlSerializer);return n.path==="**"&&(r.children={}),l.pipe(Ye(d=>d.matched?(e=n._injector??e,this.getChildConfig(e,n,o).pipe(Ye(({routes:m})=>{let p=n._loadedInjector??e,{parameters:y,consumedSegments:w,remainingSegments:k}=d,N=new Yo(w,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Jm(n),cr(n),n.component??n._loadedComponent??null,n,tp(n)),B=js(N,s,this.paramsInheritanceStrategy);N.params=Object.freeze(B.params),N.data=Object.freeze(B.data);let{segmentGroup:Q,slicedSegments:J}=Zm(r,w,k,m);if(J.length===0&&Q.hasChildren())return this.processChildren(p,m,Q,N).pipe(lt(tt=>new Be(N,tt)));if(m.length===0&&J.length===0)return rt(new Be(N,[]));let nt=cr(n)===i;return this.processSegment(p,m,Q,J,nt?ht:i,!0,N).pipe(lt(tt=>new Be(N,tt instanceof Be?[tt]:[])))}))):Ko(r)))}getChildConfig(e,r,n){return r.children?rt({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):jx(e,r,n,this.urlSerializer).pipe(Kt(o=>o?this.configLoader.loadChildren(e,r).pipe(xe(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):Vx(r))):rt({routes:[],injector:e})}};function Jx(t){t.sort((e,r)=>e.value.outlet===ht?-1:r.value.outlet===ht?1:e.value.outlet.localeCompare(r.value.outlet))}function tw(t){let e=t.value.routeConfig;return e&&e.path===""}function Rp(t){let e=[],r=new Set;for(let n of t){if(!tw(n)){e.push(n);continue}let o=e.find(i=>n.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...n.children),r.add(o)):e.push(n)}for(let n of r){let o=Rp(n.children);e.push(new Be(n.value,o))}return e.filter(n=>!r.has(n))}function Jm(t){return t.data||{}}function tp(t){return t.resolve||{}}function ew(t,e,r,n,o,i){return Kt(s=>Xx(t,e,r,n,s.extractedUrl,o,i).pipe(lt(({state:l,tree:d})=>gt(j({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function rw(t,e){return Kt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return rt(r);let i=new Set(o.map(d=>d.route)),s=new Set;for(let d of i)if(!s.has(d))for(let m of Op(d))s.add(m);let l=0;return _e(s).pipe(To(d=>i.has(d)?nw(d,n,t,e):(d.data=js(d,d.parent,t).resolve,rt(void 0))),xe(()=>l++),ou(1),Kt(d=>l===s.size?rt(r):Br))})}function Op(t){let e=t.children.map(r=>Op(r)).flat();return[t,...e]}function nw(t,e,r,n){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!yp(o)&&(i[sa]=o.title),ow(i,t,e,n).pipe(lt(s=>(t._resolvedData=s,t.data=js(t,t.parent,r).resolve,null)))}function ow(t,e,r,n){let o=Su(t);if(o.length===0)return rt({});let i={};return _e(o).pipe(Kt(s=>iw(t[s],e,r,n).pipe(hn(),xe(l=>{if(l instanceof oa)throw zs(new Zo,l);i[s]=l}))),ou(1),lt(()=>i),Mo(s=>wp(s)?Br:Ui(s)))}function iw(t,e,r,n){let o=la(e)??n,i=ei(t,o),s=i.resolve?i.resolve(e,r):br(o,()=>i(e,r));return Sn(s)}function wu(t){return Ye(e=>{let r=t(e);return r?_e(r).pipe(lt(()=>e)):rt(e)})}var Dp=(()=>{class t{buildTitle(r){let n,o=r.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(i=>i.outlet===ht);return n}getResolvedTitleForRoute(r){return r.data[sa]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>I(aw),providedIn:"root"})}return t})(),aw=(()=>{class t extends Dp{title;constructor(r){super(),this.title=r}updateTitle(r){let n=this.buildTitle(r);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(jt(Em))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fa=new pt("",{providedIn:"root",factory:()=>({})}),Gu=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,o){n&1&&Ge(0,"router-outlet")},dependencies:[px],encapsulation:2})}return t})();function Xu(t){let e=t.children&&t.children.map(Xu),r=e?gt(j({},t),{children:e}):j({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ht&&(r.component=Gu),r}var Cn=new pt(""),Zu=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(zo);loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return rt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let n=Sn(r.loadComponent()).pipe(lt(Ep),xe(i=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=i}),Lo(()=>{this.componentLoaders.delete(r)})),o=new Jn(n,()=>new at).pipe(ji());return this.componentLoaders.set(r,o),o}loadChildren(r,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return rt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=sw(n,this.compiler,r,this.onLoadEndListener).pipe(Lo(()=>{this.childrenLoaders.delete(n)})),s=new Jn(i,()=>new at).pipe(ji());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sw(t,e,r,n){return Sn(t.loadChildren()).pipe(lt(Ep),Kt(o=>o instanceof bs||Array.isArray(o)?rt(o):_e(e.compileModuleAsync(o))),lt(o=>{n&&n(t);let i,s,l=!1;return Array.isArray(o)?(s=o,l=!0):(i=o.create(r).injector,s=i.get(Cn,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xu),injector:i}}))}function cw(t){return t&&typeof t=="object"&&"default"in t}function Ep(t){return cw(t)?t.default:t}var Ju=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>I(lw),providedIn:"root"})}return t})(),lw=(()=>{class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,n){return r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kp=new pt(""),Ap=new pt("");function uw(t,e,r){let n=t.get(Ap),o=t.get(Se);return t.get(Zt).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(m=>setTimeout(m));let i,s=new Promise(m=>{i=m}),l=o.startViewTransition(()=>(i(),dw(t))),{onViewTransitionCreated:d}=n;return d&&br(t,()=>d({transition:l,from:e,to:r})),s})}function dw(t){return new Promise(e=>{no({read:()=>setTimeout(e)},{injector:t})})}var Ip=new pt(""),td=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new at;transitionAbortSubject=new at;configLoader=I(Zu);environmentInjector=I(ro);destroyRef=I(em);urlSerializer=I(ca);rootContexts=I(ua);location=I(Vr);inputBindingEnabled=I(Ws,{optional:!0})!==null;titleStrategy=I(Dp);options=I(fa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(Ju);createViewTransition=I(kp,{optional:!0});navigationErrorHandler=I(Ip,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>rt(void 0);rootComponentType=null;destroyed=!1;constructor(){let r=o=>this.events.next(new Pu(o)),n=o=>this.events.next(new Mu(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=r,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(r){let n=++this.navigationId;this.transitions?.next(gt(j(j({},this.transitions.value),r),{id:n}))}setupNavigations(r,n,o){return this.transitions=new be({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_t(i=>i.id!==0),lt(i=>gt(j({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ye(i=>{let s=!1,l=!1;return rt(i).pipe(Ye(d=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",je.SupersededByNewNavigation),Br;this.currentTransition=i,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?gt(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!m&&p!=="reload"){let y="";return this.events.next(new wn(d.id,this.urlSerializer.serialize(d.rawUrl),y,Ns.IgnoredSameUrlNavigation)),d.resolve(!1),Br}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return rt(d).pipe(Ye(y=>{let w=this.transitions?.getValue();return this.events.next(new xn(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?Br:Promise.resolve(y)}),ew(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(y=>{i.targetSnapshot=y.targetSnapshot,i.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=gt(j({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Ls(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:w,source:k,restoredState:N,extras:B}=d,Q=new xn(y,this.urlSerializer.serialize(w),k,N);this.events.next(Q);let J=gp(this.rootComponentType).snapshot;return this.currentTransition=i=gt(j({},d),{targetSnapshot:J,urlAfterRedirects:w,extras:gt(j({},B),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,rt(i)}else{let y="";return this.events.next(new wn(d.id,this.urlSerializer.serialize(d.extractedUrl),y,Ns.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Br}}),xe(d=>{let m=new Eu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),lt(d=>(this.currentTransition=i=gt(j({},d),{guards:xx(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),i)),Px(this.environmentInjector,d=>this.events.next(d)),xe(d=>{if(i.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw zs(this.urlSerializer,d.guardsResult);let m=new ku(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),_t(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",je.GuardRejected),!1)),wu(d=>{if(d.guards.canActivateChecks.length)return rt(d).pipe(xe(m=>{let p=new Au(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}),Ye(m=>{let p=!1;return rt(m).pipe(rw(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(m,"",je.NoDataFromResolver)}}))}),xe(m=>{let p=new Iu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}))}),wu(d=>{let m=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(xe(w=>{p.component=w}),lt(()=>{})));for(let w of p.children)y.push(...m(w));return y};return ys(m(d.targetSnapshot.root)).pipe(nu(null),yr(1))}),wu(()=>this.afterPreactivation()),Ye(()=>{let{currentSnapshot:d,targetSnapshot:m}=i,p=this.createViewTransition?.(this.environmentInjector,d.root,m.root);return p?_e(p).pipe(lt(()=>i)):rt(i)}),lt(d=>{let m=gx(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=i=gt(j({},d),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,i}),xe(()=>{this.events.next(new ra)}),_x(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),yr(1),xe({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Or(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),eo(this.transitionAbortSubject.pipe(xe(d=>{throw d}))),Lo(()=>{!s&&!l&&this.cancelNavigationTransition(i,"",je.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mo(d=>{if(this.destroyed)return i.resolve(!1),Br;if(l=!0,xp(d))this.events.next(new lr(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode)),bx(d)?this.events.next(new Jo(d.url,d.navigationBehaviorOptions)):i.resolve(!1);else{let m=new ea(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);try{let p=br(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(p instanceof oa){let{message:y,cancellationCode:w}=zs(this.urlSerializer,p);this.events.next(new lr(i.id,this.urlSerializer.serialize(i.extractedUrl),y,w)),this.events.next(new Jo(p.redirectTo,p.navigationBehaviorOptions))}else throw this.events.next(m),d}catch(p){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(p)}}return Br}))}))}cancelNavigationTransition(r,n,o){let i=new lr(r.id,this.urlSerializer.serialize(r.extractedUrl),n,o);this.events.next(i),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fw(t){return t!==Zi}var ed=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>I(hw),providedIn:"root"})}return t})(),Qu=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},hw=(()=>{class t extends Qu{static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>I(mw),providedIn:"root"})}return t})(),mw=(()=>{class t extends Pp{location=I(Vr);urlSerializer=I(ca);options=I(fa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=I(Ju);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=gp(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(n=>{n.type==="popstate"&&r(n.url,n.state)})}handleRouterEvent(r,n){if(r instanceof xn)this.stateMemento=this.createStateMemento();else if(r instanceof wn)this.rawUrlTree=n.initialUrl;else if(r instanceof Ls){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??o,n)}}else r instanceof ra?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):r instanceof lr&&(r.code===je.GuardRejected||r.code===je.NoDataFromResolver)?this.restoreHistory(n):r instanceof ea?this.restoreHistory(n,!0):r instanceof Or&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,n){let o=r instanceof Qr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let i=this.browserPageId,s=j(j({},n.extras.state),this.generateNgRouterState(n.id,i));this.location.replaceState(o,"",s)}else{let i=j(j({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(r,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===r.finalUrl&&i===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,n){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:n}:{navigationId:r}}static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mp(t,e){t.events.pipe(_t(r=>r instanceof Or||r instanceof lr||r instanceof ea||r instanceof wn),lt(r=>r instanceof Or||r instanceof wn?0:(r instanceof lr?r.code===je.Redirect||r.code===je.SupersededByNewNavigation:!1)?2:1),_t(r=>r!==2),yr(1)).subscribe(()=>{e()})}var pw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ue=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(um);stateManager=I(Pp);options=I(fa,{optional:!0})||{};pendingTasks=I(rm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(td);urlSerializer=I(ca);location=I(Vr);urlHandlingStrategy=I(Ju);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(ed);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(Cn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(Ws,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vr;subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(n,i),n instanceof lr&&n.code!==je.Redirect&&n.code!==je.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Or)this.navigated=!0;else if(n instanceof Jo){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),d=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fw(o.source)},s);this.scheduleNavigation(l,Zi,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}yw(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",n)},0)})}navigateToSyncWithBrowser(r,n,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let d=j({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(i.state=d)}let l=this.parseUrl(r);this.scheduleNavigation(l,n,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Xu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,n={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:d}=n,m=d?this.currentUrlTree.fragment:s,p=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":p=j(j({},this.currentUrlTree.queryParams),i);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=i||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let w=o?o.snapshot:this.routerState.snapshot.root;y=fp(w)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),y=this.currentUrlTree.root}return hp(y,r,p,m??null)}navigateByUrl(r,n={skipLocationChange:!1}){let o=lo(r)?r:this.parseUrl(r),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Zi,null,n)}navigate(r,n={skipLocationChange:!1}){return vw(r),this.navigateByUrl(this.createUrlTree(r,n),n)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,n){let o;if(n===!0?o=j({},pw):n===!1?o=j({},gw):o=n,lo(r))return Hm(this.currentUrlTree,r,o);let i=this.parseUrl(r);return Hm(this.currentUrlTree,i,o)}removeEmptyProps(r){return Object.entries(r).reduce((n,[o,i])=>(i!=null&&(n[o]=i),n),{})}scheduleNavigation(r,n,o,i,s){if(this.disposed)return Promise.resolve(!1);let l,d,m;s?(l=s.resolve,d=s.reject,m=s.promise):m=new Promise((y,w)=>{l=y,d=w});let p=this.pendingTasks.add();return Mp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:i,resolve:l,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vw(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Oe(4008,!1)}function yw(t){return!(t instanceof ra)&&!(t instanceof Jo)}var hD=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new at;constructor(r,n,o,i,s,l){this.router=r,this.route=n,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=l;let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=r.events.subscribe(m=>{m instanceof Or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(lo(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,n,o,i,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||n||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let n=this.href===null?null:am(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(r,n){let o=this.renderer,i=this.el.nativeElement;n!==null?o.setAttribute(i,r,n):o.removeAttribute(i,r)}get urlTree(){return this.routerLinkInput===null?null:lo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(Ur(Ue),Ur(Dr),tm("tabindex"),Ur(pn),Ur(Jt),Ur(Wi))};static \u0275dir=Ut({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){n&1&&jo("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Fe("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",he],skipLocationChange:[2,"skipLocationChange","skipLocationChange",he],replaceUrl:[2,"replaceUrl","replaceUrl",he],routerLink:"routerLink"},features:[vn,mn]})}return t})();var qs=class{};var bw=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(r,n,o,i,s){this.router=r,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_t(r=>r instanceof Or),To(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,n){let o=[];for(let i of n){i.providers&&!i._injector&&(i._injector=lu(i.providers,r,`Route: ${i.path}`));let s=i._injector??r,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return _e(o).pipe(eu())}preloadConfig(r,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(r,n):o=rt(null);let i=o.pipe(Kt(s=>s===null?rt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??r,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return _e([i,s]).pipe(eu())}else return i})}static \u0275fac=function(n){return new(n||t)(jt(Ue),jt(zo),jt(ro),jt(qs),jt(Zu))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tp=new pt(""),_w=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(r,n,o,i,s={}){this.urlSerializer=r,this.transitions=n,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Or?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof wn&&r.code===Ns.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof $s&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $s(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){sm()};static \u0275prov=ct({token:t,factory:t.\u0275fac})}return t})();function mD(t,...e){return Xh([{provide:Cn,multi:!0,useValue:t},[],{provide:Dr,useFactory:Np,deps:[Ue]},{provide:uu,multi:!0,useFactory:Lp},e.map(r=>r.\u0275providers)])}function Np(t){return t.routerState.root}function ha(t,e){return{\u0275kind:t,\u0275providers:e}}function Lp(){let t=I(Xt);return e=>{let r=t.get(_s);if(e!==r.components[0])return;let n=t.get(Ue),o=t.get($p);t.get(rd)===1&&n.initialNavigation(),t.get(Fp,null,au.Optional)?.setUpPreloading(),t.get(Tp,null,au.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var $p=new pt("",{factory:()=>new at}),rd=new pt("",{providedIn:"root",factory:()=>1});function xw(){return ha(2,[{provide:rd,useValue:0},{provide:Vi,multi:!0,deps:[Xt],useFactory:e=>{let r=e.get(xm,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let o=e.get(Ue),i=e.get($p);Mp(o,()=>{n(!0)}),e.get(td).afterPreactivation=()=>(n(!0),i.closed?rt(void 0):i),o.initialNavigation()}))}}])}function ww(){return ha(3,[{provide:Vi,multi:!0,useFactory:()=>{let e=I(Ue);return()=>{e.setUpLocationChangeListener()}}},{provide:rd,useValue:2}])}var Fp=new pt("");function Cw(t){return ha(0,[{provide:Fp,useExisting:bw},{provide:qs,useExisting:t}])}function Sw(){return ha(8,[Xm,{provide:Ws,useExisting:Xm}])}function Rw(t){let e=[{provide:kp,useValue:uw},{provide:Ap,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return ha(9,e)}var Ow=[Vr,{provide:ca,useClass:Zo},Ue,ua,{provide:Dr,useFactory:Np,deps:[Ue]},Zu,[]],Bp=(()=>{class t{constructor(){}static forRoot(r,n){return{ngModule:t,providers:[Ow,[],{provide:Cn,multi:!0,useValue:r},[],n?.errorHandler?{provide:Ip,useValue:n.errorHandler}:[],{provide:fa,useValue:n||{}},n?.useHash?Ew():kw(),Dw(),n?.preloadingStrategy?Cw(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Aw(n):[],n?.bindToComponentInputs?Sw().\u0275providers:[],n?.enableViewTransitions?Rw().\u0275providers:[],Iw()]}}static forChild(r){return{ngModule:t,providers:[{provide:Cn,multi:!0,useValue:r}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({})}return t})();function Dw(){return{provide:Tp,useFactory:()=>{let t=I(Om),e=I(Zt),r=I(fa),n=I(td),o=I(ca);return r.scrollOffset&&t.setOffset(r.scrollOffset),new _w(o,n,t,e,r)}}}function Ew(){return{provide:Wi,useClass:Cm}}function kw(){return{provide:Wi,useClass:wm}}function Aw(t){return[t.initialNavigation==="disabled"?ww().\u0275providers:[],t.initialNavigation==="enabledBlocking"?xw().\u0275providers:[]]}var ep=new pt("");function Iw(){return[{provide:ep,useFactory:Lp},{provide:uu,multi:!0,useExisting:ep}]}var Pw=new pt("LOCALIZE_ROUTER_FORROOT_GUARD"),nd=new pt("RAW_ROUTES"),Rn=function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Cookie="Cookie",t}(Rn||{}),Up=new pt("USE_CACHED_LANG"),zp=new pt("CACHE_MECHANISM"),Vp=new pt("CACHE_NAME"),qp=new pt("COOKIE_FORMAT"),Wp=new pt("INITIAL_NAVIGATION"),Kp=new pt("DEFAULT_LANG_FUNCTION"),Hp=new pt("ALWAYS_SET_PREFIX"),Mw="LOCALIZE_DEFAULT_LANGUAGE",Tw="{{value}};{{expires}}",Nw=!1,Qs=(()=>{class t{constructor(r=!0,n=!0,o=Rn.LocalStorage,i=Mw,s=void 0,l=Tw,d=Nw){this.useCachedLang=r,this.alwaysSetPrefix=n,this.cacheName=i,this.cookieFormat=l,this.initialNavigation=d,this.cacheMechanism=o,this.defaultLangFunction=s}static{this.\u0275fac=function(n){return new(n||t)(jt(Up),jt(Hp),jt(zp),jt(Vp),jt(Kp),jt(qp),jt(Wp))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),Lw=30,ma=(()=>{class t{constructor(r,n,o){this.translate=r,this.location=n,this.settings=o}init(r){let n;if(this.routes=r,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),i=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,i):this.defaultLang=this._cachedLang||i||this.locales[0],n=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let s=[];if(this.settings.alwaysSetPrefix){let l={path:"",redirectTo:this.defaultLang,pathMatch:"full"},d=r.findIndex(m=>m.path==="**");d!==-1&&(this._wildcardRoute=r.splice(d,1)[0]),s=this.routes.splice(0,this.routes.length,l)}else s=[...this.routes];for(let l=s.length-1;l>=0;l--)s[l].data&&s[l].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(s[l]),(s[l].redirectTo===void 0||!s[l].data.skipRouteLocalization.localizeRedirectTo||typeof s[l].redirectTo=="function")&&s.splice(l,1));return s&&s.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:s},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),Vh(this.translateRoutes(n))}initChildRoutes(r){return this._translateRouteTree(r),r}translateRoutes(r){return new vs(n=>{this._cachedLang=r,this._languageRoute&&(this._languageRoute.path=r),this.translate.use(r).subscribe(o=>{this._translationObject=o,this.currentLang=r,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(r,n){r.forEach(o=>{let i=o.data&&o.data.skipRouteLocalization,s=!i||i.localizeRedirectTo;if(o.redirectTo&&s&&typeof o.redirectTo!="function"){let l=o.redirectTo.indexOf("/")===0||n;this._translateProperty(o,"redirectTo",l)}i||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(r,n,o){let i=r.data=r.data||{};i.localizeRouter||(i.localizeRouter={}),i.localizeRouter[n]||(i.localizeRouter=gt(j({},i.localizeRouter),{[n]:r[n]}));let s=this.translateRoute(i.localizeRouter[n]);r[n]=o?this.addPrefixToUrl(s):s}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(r){let n=r.split("?"),o=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let i=n.join("?");return this.urlPrefix===""?i:!i.startsWith("/")&&!o?`${this.urlPrefix}/${i}`:`/${this.urlPrefix}${i}`}translateRoute(r){let n=r.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(i=>i.length?this.translateText(i):i).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(r){let n=(r||this.location.path()).split(/[\?;]/),o=[];return n.length>0&&(o=n[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Rn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Rn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Rn.Cookie)return this._cacheWithCookies()}}set _cachedLang(r){this.settings.useCachedLang&&(this.settings.cacheMechanism===Rn.LocalStorage&&this._cacheWithLocalStorage(r),this.settings.cacheMechanism===Rn.SessionStorage&&this._cacheWithSessionStorage(r),this.settings.cacheMechanism===Rn.Cookie&&this._cacheWithCookies(r))}_cacheWithLocalStorage(r){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(r){window.localStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(r){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(r){window.sessionStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(r){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(r){let s=`${this.settings.cookieFormat}`;s=s.replace("{{value}}",`${n}=${encodeURIComponent(r)}`).replace(/{{expires:?(\d+)?}}/g,(l,d)=>{let m=d===void 0?Lw:parseInt(d,10),p=new Date;return p.setTime(p.getTime()+m*864e5),`expires=${p.toUTCString()}`}),document.cookie=s;return}let i=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(i[1])}catch{return}}_returnIfInLocales(r){return r&&this.locales.indexOf(r)!==-1?r:null}translateText(r){if(this.escapePrefix&&r.startsWith(this.escapePrefix))return r.replace(this.escapePrefix,"");{if(!this._translationObject)return r;let n=this.prefix+r,o=this.translate.getParsedResult(this._translationObject,n);return o!==n?o:r}}chooseQueryParams(r,n){let o;return r&&r.queryParams?o=r.queryParams:n&&(o=n),o}formatQueryParams(r){return new Dm({fromObject:r}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(n){return new(n||t)(jt(Bm),jt(Vr),jt(Qs))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();var $w=(()=>{class t extends ma{load(r){return new Promise(n=>{this.init(r).then(n)})}static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})()}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();function Hs(t,e){if(t===e)return!0;if(t===null||e===null)return!1;if(t!==t&&e!==e)return!0;let r=typeof t,n=typeof e,o,i,s;if(r===n&&r==="object")if(Array.isArray(t)){if(!Array.isArray(e))return!1;if((o=t.length)===e.length){for(i=0;i<o;i++)if(!Hs(t[i],e[i]))return!1;return!0}}else{if(Array.isArray(e))return!1;s=Object.create(null);for(i in t)if(t.hasOwnProperty(i)){if(!Hs(t[i],e[i]))return!1;s[i]=!0}for(i in e)if(e.hasOwnProperty(i)&&!(i in s)&&typeof e[i]<"u")return!1;return!0}return!1}function Fw(t){return!!t&&typeof t.then=="function"}function id(t){let e=Array.isArray(t)?[]:{};for(let r in t)if(r){let n=t[r];e[r]=typeof n=="object"?id(n):n}return e}var ad=(()=>{class t{constructor(r,n,o,i){this.parser=r,this.settings=n,this.router=o,this.route=i,this.routerEvents=new at;let s=new Uh(1);this.hooks={_initializedSubject:s,initialized:s.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(_t(r=>r instanceof xn),iu()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(r,n,o){if(r!==this.parser.currentLang){let i=this.router.routerState.snapshot.root;this.parser.translateRoutes(r).subscribe(()=>{let s=this.traverseRouteSnapshot(i);if(s=this.translateRoute(s),!this.settings.alwaysSetPrefix){let m=s.split("/"),p=m.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(p===0||p===1&&m[0]==="")&&(m=m.slice(0,p).concat(m.slice(p+1)));else if(p===-1){let y=m[0]===""?1:0;m=m.slice(0,y).concat(this.parser.currentLang,m.slice(y))}s=m.join("/")}s=s.replace(/\/+/g,"/");let l=s.lastIndexOf("/");l>0&&l===s.length-1&&(s=s.slice(0,-1));let d=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,o){let m=n?j({},n):{};d&&(m.queryParams=d),this.router.navigate([s],m)}else{let m=this.parser.formatQueryParams(d);m=m?`?${m}`:"",this.router.navigateByUrl(`${s}${m}`,n)}})}}traverseRouteSnapshot(r){return r.firstChild&&r.routeConfig?`${this.parseSegmentValue(r)}/${this.traverseRouteSnapshot(r.firstChild)}`:r.firstChild?this.traverseRouteSnapshot(r.firstChild):this.parseSegmentValue(r)}buildUrlFromSegments(r,n){return n.map((o,i)=>o.indexOf(":")===0?r.url[i].path:o).join("/")}parseSegmentValue(r){if(r.routeConfig&&r.routeConfig.matcher){let n=this.parseSegmentValueMatcher(r);return this.buildUrlFromSegments(r,n)}else if(r.data.localizeRouter){let o=r.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(r,o)}else if(r.parent&&r.parent.parent){let o=r.routeConfig.path.split("/");return this.buildUrlFromSegments(r,o)}else return""}parseSegmentValueMatcher(r){let n=r.data&&r.data.localizeMatcher&&r.data.localizeMatcher.params||{};return r.url.map(i=>{let s=i.path,l=i.localizedParamName;return(l&&n[l]?n[l](s):null)||`${this.parser.getEscapePrefix()}${s}`})}translateRoute(r){if(typeof r=="string"){let o=this.parser.translateRoute(r);return r.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let n=[];return r.forEach((o,i)=>{if(typeof o=="string"){let s=this.parser.translateRoute(o);!i&&!o.indexOf("/")?n.push(this.parser.addPrefixToUrl(s)):n.push(s)}else n.push(o)}),n}_routeChanged(){return([r,n])=>{let o=this.parser.getLocationLang(r.url)||this.parser.defaultLang,i=this.parser.getLocationLang(n.url)||this.parser.defaultLang,s=this.lastExtras;i!==o&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(i).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,s),this.routerEvents.next(i)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let r=this.router.getCurrentNavigation(),n=this.router.serializeUrl(r.extractedUrl);this.router.events.next(new lr(r.id,n,"")),this.router.navigationTransitions.transitions.next(gt(j({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(r){this.router.resetConfig(id(r))}static{this.\u0275fac=function(n){return new(n||t)(jt(ma),jt(Qs),jt(Ue),jt(Dr))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),Bw=128,ED=(()=>{class t{constructor(r,n){this.localize=r,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(r){if(!r||r.length===0||!this.localize.parser.currentLang)return r;if(Hs(r,this.lastKey)&&Hs(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=r,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(r),this.lastKey=r;let n=this._ref._view;return n&&n.state&Bw?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}static{this.\u0275fac=function(n){return new(n||t)(Ur(ad,16),Ur(wr,16))}}static{this.\u0275pipe=cm({name:"localize",type:t,pure:!1})}}return t})(),od=class{constructor(){}shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e&&r?this.getKey(e)===this.getKey(r):!1}getKey(e){if(e.firstChild&&e.firstChild.routeConfig&&e.firstChild.routeConfig.path&&e.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!e.data.localizeRouter&&(!e.parent||!e.parent.parent)&&!e.data.skipRouteLocalization)return"LANG";if(e.routeConfig.matcher){let r=`${this.getKey(e.parent)}/${e.routeConfig.matcher.name}`;return e.data.discriminantPathKey&&(r=`${r}-${e.data.discriminantPathKey}`),r}else if(e.data.localizeRouter){let r=`${this.getKey(e.parent)}/${e.data.localizeRouter.path}`;return e.data.discriminantPathKey&&(r=`${r}-${e.data.discriminantPathKey}`),r}else{let r=e.routeConfig.path;return e.parent&&(r=`${this.getKey(e.parent)}/${e.routeConfig.path}`),e.data.discriminantPathKey&&(r=`${r}-${e.data.discriminantPathKey}`),r}}},jw=(()=>{class t extends Ue{constructor(){super(),this.platformId=I(om),this.compiler=I(zo),this.localize=I(ma),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,i)=>Vw(i.loadChildren()).pipe(lt(zw),Kt(s=>s instanceof bs||Array.isArray(s)?rt(s):_e(this.compiler.compileModuleAsync(s))),lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,d;if(Array.isArray(s))d=this.localize.initChildRoutes([].concat(...s));else{l=s.create(o).injector;let p=l.get.bind(l);l.get=(y,w,k)=>{let N=p(y,w,k);return y===Cn?this.localize.initChildRoutes([].concat(...N)):N},d=l.get(Cn,[],{optional:!0,self:!0}).reduce((y,w)=>y.concat(w),[])}return{routes:d.map(Qp),injector:l}}));let n=Rm(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(o,i)=>{if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return rt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let l=this.loadModuleFactoryOrRoutes(o,i).pipe(Lo(()=>{this.childrenLoaders.delete(i)})),d=new Jn(l,()=>new at).pipe(ji());return this.childrenLoaders.set(i,d),d}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Qp(t){let e=t.children&&t.children.map(Qp),r=e?gt(j({},t),{children:e}):j({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ht&&(r.component=Gu),r}function Uw(t){return t&&typeof t=="object"&&"default"in t}function zw(t){return Uw(t)?t.default:t}function Vw(t){return Io(t)?t:Fw(t)?_e(Promise.resolve(t)):rt(t)}var jp=(()=>{class t{constructor(r){this.injector=r}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(ad),o=this.injector.get(Ue),i=this.injector.get(Qs);if(n.init(),i.initialNavigation)return new Promise(s=>{let l=o.navigationTransitions.afterPreactivation,d=!0;o.navigationTransitions.afterPreactivation=()=>(d&&(s(),d=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),l())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(r,n){return this.parser=r,this.routes=n.reduce((o,i)=>o.concat(i)),this.appInitializer}static{this.\u0275fac=function(n){return new(n||t)(jt(Xt))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();function qw(t,e,r){let n=id(r);return t.generateInitializer(e,n).bind(t)}function Ww(t,e){return[{provide:Ue,useClass:jw},{provide:Pw,useFactory:Hw,deps:[[Kw,new su,new Gh]]},{provide:Up,useValue:e.useCachedLang},{provide:Hp,useValue:e.alwaysSetPrefix},{provide:Vp,useValue:e.cacheName},{provide:zp,useValue:e.cacheMechanism},{provide:Kp,useValue:e.defaultLangFunction},{provide:qp,useValue:e.cookieFormat},{provide:Wp,useValue:e.initialNavigation},Qs,e.parser||{provide:ma,useClass:$w},{provide:nd,multi:!0,useValue:t},ad,jp,{provide:Vi,multi:!0,useFactory:qw,deps:[jp,ma,nd]},{provide:ed,useClass:od}]}var Kw=(()=>{class t{static forRoot(r,n={}){return{ngModule:t,providers:Ww(r,n)}}static forChild(r){return{ngModule:t,providers:[{provide:nd,multi:!0,useValue:r}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Gt({imports:[Sm,Bp,jm]})}}return t})();function Hw(t){if(t)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function Yp(t,e){if(uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gp(t){var e=Yp(t,"string");return uo(e)=="symbol"?e:e+""}function Xp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gp(n.key),n)}}function De(t,e,r){return e&&Xp(t.prototype,e),r&&Xp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pa(t){return Array.isArray(t)?t.slice(0):[t]}function Er(t){return Array.isArray(t)}function Zp(t){return t!=null}function Ys(t,e){var r=0,n=-1;for(var o of t){n=n+1;var i=e(o,n);if(i)r=r+1;else break}return r}function ur(t,e){var r=e.length;if(r!==0){var n=t.length;t.length=n+e.length;for(var o=0;o<r;++o)t[n+o]=e[o]}}function Jp(t){return t.filter(function(e,r,n){return n.indexOf(e)===r})}function tg(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,o=0;o<n;o++)e+=String.fromCharCode(r[o]);return btoa(e)}function eg(t,e){return U(this,null,function*(){var r=yield fetch("data:"+e+";base64,"+t),n=yield r.blob();return n})}function rg(t){var e=Object.prototype.toString.call(t);return e==="[object Uint8Array]"&&(t=new Blob([t])),typeof t=="string"?Promise.resolve(t):t.text()}function ng(t){return U(this,null,function*(){if(typeof t=="string")return t;var e=Object.prototype.toString.call(t);e==="[object Uint8Array]"&&(t=new Blob([t]));var r=yield t.arrayBuffer();return tg(r)})}function og(t){return t.size}function fo(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(n==="-")return parseInt(e,10);e+=n}throw new Error("malformatted revision: "+t)}function ri(t,e){var r=e?fo(e._rev)+1:1;return r+"-"+t}function cd(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==null&&(typeof t[e]=="object"||typeof t[e]=="function")&&!Object.isFrozen(t[e])&&cd(t[e])}),t}function ig(t){var e=t.split("."),r=e.length;return r===1?n=>n[t]:n=>{for(var o=n,i=0;i<r;++i){var s=e[i];if(o=o[s],typeof o>"u")return o}return o}}function Gs(t){var e={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))if(typeof t[r]=="object"){var n=Gs(t[r]);for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[r+"."+o]=n[o])}else e[r]=t[r];return e}function Et(t){return Object.assign({},t)}function ag(t){return Object.keys(t)[0]}function ni(t,e=!1){if(!t)return t;if(!e&&Array.isArray(t))return t.sort((n,o)=>typeof n=="string"&&typeof o=="string"?n.localeCompare(o):typeof n=="object"?1:-1).map(n=>ni(n,e));if(typeof t=="object"&&!Array.isArray(t)){var r={};return Object.keys(t).sort((n,o)=>n.localeCompare(o)).forEach(n=>{r[n]=ni(t[n],e)}),r}return t}function sd(t){if(!t||t===null||typeof t!="object")return t;if(Array.isArray(t)){for(var e=new Array(t.length),r=e.length;r--;)e[r]=sd(t[r]);return e}var n={};for(var o in t)n[o]=sd(t[o]);return n}var Ze=sd;function ze(t,e,r){return Object.defineProperty(t,e,{get:function(){return r}}),r}var Xs=1;function On(){return{lwt:Xs}}function Yr(){return""}function sg(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function cg(t,e,r){if(e.length!==r.length)return!1;for(var n=0,o=e.length;n<o;){var i=e[n],s=r[n];if(n++,i._rev!==s._rev||i[t]!==s[t])return!1}return!0}var QD=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var YD=Object.freeze(["prototype","__proto__","constructor"]);var Qw="[native code] }",GD=Qw.length;var Yw=Object.defineProperty,Gw=(t,e,r)=>e in t?Yw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oi=(t,e,r)=>(Gw(t,typeof e!="symbol"?e+"":e,r),r),Dn=class t{constructor(e,r){oi(this,"words"),oi(this,"sigBytes"),e=this.words=e||[],this.sigBytes=r===void 0?e.length*4:r}toString(e){return(e||Xw).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let r=0;r<e.sigBytes;r++){let n=e.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=n<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new t([...this.words])}},Xw={stringify(t){let e=[];for(let r=0;r<t.sigBytes;r++){let n=t.words[r>>>2]>>>24-r%4*8&255;e.push((n>>>4).toString(16),(n&15).toString(16))}return e.join("")}};var Zw={parse(t){let e=t.length,r=[];for(let n=0;n<e;n++)r[n>>>2]|=(t.charCodeAt(n)&255)<<24-n%4*8;return new Dn(r,e)}},Jw={parse(t){return Zw.parse(unescape(encodeURIComponent(t)))}},ld=class{constructor(){oi(this,"_data",new Dn),oi(this,"_nDataBytes",0),oi(this,"_minBufferSize",0),oi(this,"blockSize",512/32)}reset(){this._data=new Dn,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=Jw.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,r){}_process(e){let r,n=this._data.sigBytes/(this.blockSize*4);e?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);let o=n*this.blockSize,i=Math.min(o*4,this._data.sigBytes);if(o){for(let s=0;s<o;s+=this.blockSize)this._doProcessBlock(this._data.words,s);r=this._data.words.splice(0,o),this._data.sigBytes-=i}return new Dn(r,i)}},ud=class extends ld{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}},t0=Object.defineProperty,e0=(t,e,r)=>e in t?t0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r0=(t,e,r)=>(e0(t,typeof e!="symbol"?e+"":e,r),r),lg=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],n0=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ho=[],dd=class extends ud{constructor(){super(...arguments),r0(this,"_hash",new Dn([...lg]))}reset(){super.reset(),this._hash=new Dn([...lg])}_doProcessBlock(e,r){let n=this._hash.words,o=n[0],i=n[1],s=n[2],l=n[3],d=n[4],m=n[5],p=n[6],y=n[7];for(let w=0;w<64;w++){if(w<16)ho[w]=e[r+w]|0;else{let tt=ho[w-15],kt=(tt<<25|tt>>>7)^(tt<<14|tt>>>18)^tt>>>3,st=ho[w-2],Pt=(st<<15|st>>>17)^(st<<13|st>>>19)^st>>>10;ho[w]=kt+ho[w-7]+Pt+ho[w-16]}let k=d&m^~d&p,N=o&i^o&s^i&s,B=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),Q=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),J=y+Q+k+n0[w]+ho[w],nt=B+N;y=p,p=m,m=d,d=l+J|0,l=s,s=i,i=o,o=J+nt|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+d|0,n[5]=n[5]+m|0,n[6]=n[6]+p|0,n[7]=n[7]+y|0}finalize(e){super.finalize(e);let r=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),this._data.words[(n+64>>>9<<4)+15]=r,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function ug(t){return new dd().finalize(t).toString()}function o0(t){return Promise.resolve(ug(t))}function i0(t){return U(this,null,function*(){var e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),n=Array.prototype.map.call(new Uint8Array(r),o=>("00"+o.toString(16)).slice(-2)).join("");return n})}var a0=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",ii=a0?i0:o0;function dg(){return new Promise(t=>setTimeout(t,0))}function fg(t=0){return new Promise(e=>setTimeout(e,t))}var s0=Promise.resolve(!0),kr=Promise.resolve(!1),hg=Promise.resolve(null),En=Promise.resolve();function ai(t=1e4){return typeof requestIdleCallback=="function"?new Promise(e=>{requestIdleCallback(()=>e(),{timeout:t})}):fg(0)}var fd=En;function mg(t=void 0){return fd=fd.then(()=>ai(t)),fd}function pg(t,e){return t.reduce((r,n)=>r.then(n),Promise.resolve(e))}var gg=/\./g;var vg="abcdefghijklmnopqrstuvwxyz";function mo(t=10){for(var e="",r=0;r<t;r++)e+=vg.charAt(Math.floor(Math.random()*vg.length));return e}function Zs(t){t+="";var e=t.charAt(0).toUpperCase();return e+t.substr(1)}function dr(t){for(;t.charAt(0)===".";)t=t.substr(1);for(;t.slice(-1)===".";)t=t.slice(0,-1);return t}function hd(t){return!!(t.includes("/")||t.includes("\\"))}function kn(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n;if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!kn(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var o=Object.keys(t);if(r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){var i=o[n];if(!kn(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}var pd=t=>{var e=typeof t;return t!==null&&(e==="object"||e==="function")},md=new Set(["__proto__","prototype","constructor"]),c0=new Set("0123456789");function yg(t){var e=[],r="",n="start",o=!1;for(var i of t)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");o&&(r+=i),n="property",o=!o;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(o){o=!1,r+=i;break}if(md.has(r))return[];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(o){o=!1,r+=i;break}if(n==="property"){if(md.has(r))return[];e.push(r),r=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!c0.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),o&&(o=!1,r+="\\"),r+=i}}switch(o&&(r+="\\"),n){case"property":{if(md.has(r))return[];e.push(r);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function bg(t,e){if(typeof e!="number"&&Array.isArray(t)){var r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}function l0(t,e){if(bg(t,e))throw new Error("Cannot use string index")}function Pe(t,e,r){if(Array.isArray(e)&&(e=e.join(".")),!e.includes(".")&&!e.includes("["))return t[e];if(!pd(t)||typeof e!="string")return r===void 0?t:r;var n=yg(e);if(n.length===0)return r;for(var o=0;o<n.length;o++){var i=n[o];if(bg(t,i)?t=o===n.length-1?void 0:null:t=t[i],t==null){if(o!==n.length-1)return r;break}}return t===void 0?r:t}function gd(t,e,r){if(Array.isArray(e)&&(e=e.join(".")),!pd(t)||typeof e!="string")return t;for(var n=t,o=yg(e),i=0;i<o.length;i++){var s=o[i];l0(t,s),i===o.length-1?t[s]=r:pd(t[s])||(t[s]=typeof o[i+1]=="number"?[]:{}),t=t[s]}return n}function An(t,e){var r=t.get(e);if(typeof r>"u")throw new Error("missing value from map "+e);return r}function Ve(t,e,r,n){var o=t.get(e);return typeof o>"u"?(o=r(),t.set(e,o)):n&&n(o),o}function St(t){var e=t.split("-"),r="RxDB";return e.forEach(n=>{r+=Zs(n)}),r+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+r+" } from 'rxdb/plugins/"+t+`';
            addRxPlugin(`+r+`);
        `)}var vd=0;function ee(){var t=Date.now();t=t+.01,t<=vd&&(t=vd+.01);var e=parseFloat(t.toFixed(2));return vd=e,e}function Rt(t,e){if(!t)throw e||(e=""),new Error("ensureNotFalsy() is falsy: "+e);return t}var Js={bufferSize:1,refCount:!0};var po="15.39.0";var In={},tc="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function Pn(t,e){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pn(t,e)}function yd(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pn(t,e)}function ec(t){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ec(t)}function _g(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function bd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bd=function(){return!!t})()}function xg(t,e,r){if(bd())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&Pn(o,r.prototype),o}function ga(t){var e=typeof Map=="function"?new Map:void 0;return ga=function(n){if(n===null||!_g(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return xg(n,arguments,ec(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Pn(o,n)},ga(t)}var It={isDevMode(){return!1},deepFreezeWhenDevMode(t){return t},tunnelErrorMessage(t){return"RxDB Error-Code "+t+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function u0(t){var e="";return Object.keys(t).length===0||(e+=`Given parameters: {
`,e+=Object.keys(t).map(r=>{var n="[object Object]";try{r==="errors"?n=t[r].map(o=>JSON.stringify(o,Object.getOwnPropertyNames(o))):n=JSON.stringify(t[r],function(o,i){return i===void 0?null:i},2)}catch{}return r+":"+n}).join(`
`),e+="}"),e}function wg(t,e,r){return"RxError ("+e+`):
`+t+`
`+u0(r)}var d0=function(t){function e(n,o,i={}){var s,l=wg(o,n,i);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=_d(n),s.parameters=i,s.rxdb=!0,s}yd(e,t);var r=e.prototype;return r.toString=function(){return this.message},De(e,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(ga(Error)),f0=function(t){function e(n,o,i={}){var s,l=wg(o,n,i);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=_d(n),s.parameters=i,s.rxdb=!0,s}yd(e,t);var r=e.prototype;return r.toString=function(){return this.message},De(e,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(ga(TypeError));function _d(t){return"https://rxdb.info/errors.html?console=errors#"+t}function Cg(t){return`
 You can find out more about this error here: `+_d(t)+" "}function L(t,e){return new d0(t,It.tunnelErrorMessage(t)+Cg(t),e)}function se(t,e){return new f0(t,It.tunnelErrorMessage(t)+Cg(t),e)}function rc(t){return t&&t.status===409?t:!1}var h0={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Sg(t){return L("COL20",{name:h0[t.status],document:t.documentId,writeError:t})}var si={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Qt(t,e){si[t].length>0&&si[t].forEach(r=>r(e))}function Mn(t,e){return Promise.all(si[t].map(r=>r(e)))}function Me(t,e){var r=e;r=r.replace(gg,".properties."),r="properties."+r,r=dr(r);var n=Pe(t,r);return n}function nc(t,e,r){if(typeof e.primaryKey=="string")return r;var n=va(e,r),o=r[t];if(o&&o!==n)throw L("DOC19",{args:{documentData:r,existingPrimary:o,newPrimary:n},schema:e});return r[t]=n,r}function me(t){return typeof t=="string"?t:t.key}function va(t,e){if(typeof t.primaryKey=="string")return e[t.primaryKey];var r=t.primaryKey;return r.fields.map(n=>{var o=Pe(e,n);if(typeof o>"u")throw L("DOC18",{args:{field:n,documentData:e}});return o}).join(r.separator)}function Rg(t){var e=ni(t,!0);return e}function m0(t){return["_deleted",t]}function oc(t){t=Et(t);var e=me(t.primaryKey);t.properties=Et(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=p0,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var r=xd(t);ur(t.required,r),t.required=t.required.filter(i=>!i.includes(".")).filter((i,s,l)=>l.indexOf(i)===s),t.version=t.version||0;var n=t.indexes.map(i=>{var s=Er(i)?i.slice(0):[i];return s.includes(e)||s.push(e),s[0]!=="_deleted"&&s.unshift("_deleted"),s});n.length===0&&n.push(m0(e)),n.push(["_meta.lwt",e]),t.internalIndexes&&t.internalIndexes.map(i=>{n.push(i)});var o=new Set;return n.filter(i=>{var s=i.join(",");return o.has(s)?!1:(o.add(s),!0)}),t.indexes=n,t}var p0={type:"object",properties:{lwt:{type:"number",minimum:Xs,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function xd(t){var e=Object.keys(t.properties).filter(n=>t.properties[n].final),r=me(t.primaryKey);return e.push(r),typeof t.primaryKey!="string"&&t.primaryKey.fields.forEach(n=>e.push(n)),e}function Og(t,e){for(var r=Object.keys(t.defaultValues),n=0;n<r.length;++n){var o=r[n];(!Object.prototype.hasOwnProperty.call(e,o)||typeof e[o]>"u")&&(e[o]=t.defaultValues[o])}return e}var wd=function(){function t(r,n){this.jsonSchema=r,this.hashFunction=n,this.indexes=g0(this.jsonSchema),this.primaryPath=me(this.jsonSchema.primaryKey),this.finalFields=xd(this.jsonSchema)}var e=t.prototype;return e.validateChange=function(n,o){this.finalFields.forEach(i=>{if(!kn(n[i],o[i]))throw L("DOC9",{dataBefore:n,dataAfter:o,fieldName:i,schema:this.jsonSchema})})},e.getDocumentPrototype=function(){var n={},o=Me(this.jsonSchema,"");return Object.keys(o).forEach(i=>{var s=i;n.__defineGetter__(i,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(s);return l}}),Object.defineProperty(n,i+"$",{get:function(){return this.get$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,i+"$$",{get:function(){return this.get$$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,i+"_",{get:function(){return this.populate(s)},enumerable:!1,configurable:!1})}),ze(this,"getDocumentPrototype",()=>n),n},e.getPrimaryOfDocumentData=function(n){return va(this.jsonSchema,n)},De(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var r={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,o])=>r[n]=o.default),ze(this,"defaultValues",r)}},{key:"hash",get:function(){return ze(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function g0(t){return(t.indexes||[]).map(e=>Er(e)?e:[e])}function Dg(t){var e=t.version?t.version:0,r=0;return new Array(e).fill(0).map(()=>r++)}function Eg(t,e,r=!0){r&&Qt("preCreateRxSchema",t);var n=oc(t);n=Rg(n),It.deepFreezeWhenDevMode(n);var o=new wd(n,e);return Qt("createRxSchema",o),o}function kg(t){return t.documentData?t.documentData:t.previousDocumentData}function Ag(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:It.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}function ic(t){return t[t.length-1]}function v0(t){let e=typeof t;return t!==null&&(e==="object"||e==="function")}function Cd(t,e,r){if(Array.isArray(e)&&(e=e.join(".")),!v0(t)||typeof e!="string")return r===void 0?t:r;let n=e.split(".");if(n.length===0)return r;for(let o=0;o<n.length;o++){let i=n[o];if(y0(t,i)?t=o===n.length-1?void 0:null:t=t[i],t==null){if(o!==n.length-1)return r;break}}return t===void 0?r:t}function y0(t,e){if(typeof e!="number"&&Array.isArray(t)){let r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}var Sd=t=>!!t.queryParams.limit,Ig=t=>t.queryParams.limit===1,Pg=t=>!!(t.queryParams.skip&&t.queryParams.skip>0),Mg=t=>t.changeEvent.operation==="DELETE",Tg=t=>t.changeEvent.operation==="INSERT",Ng=t=>t.changeEvent.operation==="UPDATE",Lg=t=>Sd(t)&&t.previousResults.length>=t.queryParams.limit,$g=t=>{let e=t.queryParams.sortFields,r=t.changeEvent.previous,n=t.changeEvent.doc;if(!n)return!1;if(!r)return!0;for(let o=0;o<e.length;o++){let i=e[o],s=Cd(r,i),l=Cd(n,i);if(s!==l)return!0}return!1},Fg=t=>{let e=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(e);{let r=t.queryParams.primaryKey,n=t.previousResults;for(let o=0;o<n.length;o++)if(n[o][r]===e)return!0;return!1}},Bg=t=>{let e=t.previousResults[0];return!!(e&&e[t.queryParams.primaryKey]===t.changeEvent.id)},jg=t=>{let e=ic(t.previousResults);return!!(e&&e[t.queryParams.primaryKey]===t.changeEvent.id)},Ug=t=>{let e=t.changeEvent.previous;if(!e)return!1;let r=t.previousResults[0];return r?r[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,r)<0:!1},zg=t=>{let e=t.changeEvent.previous;if(!e)return!1;let r=ic(t.previousResults);return r?r[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,r)>0:!1},Vg=t=>{let e=t.changeEvent.doc;if(!e)return!1;let r=t.previousResults[0];return r?r[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,r)<0:!1},qg=t=>{let e=t.changeEvent.doc;if(!e)return!1;let r=ic(t.previousResults);return r?r[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,r)>0:!1},Wg=t=>{let e=t.changeEvent.previous;return e?t.queryParams.queryMatcher(e):!1},Kg=t=>{let e=t.changeEvent.doc;return e?t.queryParams.queryMatcher(e):!1},Hg=t=>t.previousResults.length===0;var Qg={0:Tg,1:Ng,2:Mg,3:Sd,4:Ig,5:Pg,6:Hg,7:Lg,8:Bg,9:jg,10:$g,11:Fg,12:Ug,13:zg,14:Vg,15:qg,16:Wg,17:Kg};function Yg(t,e,r,n){var o=t.length,i=o-1,s=0;if(o===0)return t.push(e),0;for(var l;n<=i;)s=n+(i-n>>1),l=t[s],r(l,e)<=0?n=s+1:i=s-1;return r(l,e)<=0&&s++,t.splice(s,0,e),s}var Gg=t=>{},ac=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},sc=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},cc=t=>{let e=t.previousResults.shift();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},lc=t=>{let e=t.previousResults.pop();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},Xg=t=>{cc(t),sc(t)},Zg=t=>{lc(t),ac(t)},Jg=t=>{cc(t),ac(t)},tv=t=>{lc(t),sc(t)},Rd=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);let e=t.queryParams.primaryKey,r=t.previousResults;for(let n=0;n<r.length;n++)if(r[n][e]===t.changeEvent.id){r.splice(n,1);break}},ev=t=>{let e=t.changeEvent.doc,r=t.queryParams.primaryKey,n=t.previousResults;for(let o=0;o<n.length;o++)if(n[o][r]===t.changeEvent.id){n[o]=e,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,e);break}},rv=t=>{let e={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(e),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(e._id,e))},Od=t=>{let e=t.changeEvent.id,r=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(e))return;t.keyDocumentMap.set(e,r)}else if(t.previousResults.find(o=>o[t.queryParams.primaryKey]===e))return;Yg(t.previousResults,r,t.queryParams.sortComparator,0)},nv=t=>{Rd(t),Od(t)},ov=t=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},iv=t=>{throw new Error("Action unknownAction should never be called")};var av=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],sv={doNothing:Gg,insertFirst:ac,insertLast:sc,removeFirstItem:cc,removeLastItem:lc,removeFirstInsertLast:Xg,removeLastInsertFirst:Zg,removeFirstInsertFirst:Jg,removeLastInsertLast:tv,removeExisting:Rd,replaceExisting:ev,alwaysWrong:rv,insertAtSortPosition:Od,removeExistingAndInsertAtSortPosition:nv,runFullQueryAgain:ov,unknownAction:iv};function uc(t){return t.charCodeAt(0)-40}function cv(t){return t?"1":"0"}function b0(t=6){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;for(let o=0;o<t;o++)e+=r.charAt(Math.floor(Math.random()*n));return e}var ck=b0(4);function Dd(t,e){let r=[];for(let n=0,o=t.length;n<o;n+=e)r.push(t.substring(n,n+e));return r}function lv(t){let e=new Map,n=2+parseInt(t.charAt(0)+t.charAt(1),10)*2,o=t.substring(2,n),i=Dd(o,2);for(let B=0;B<i.length;B++){let Q=i[B],J=Q.charAt(0),nt=uc(Q.charAt(1));e.set(J,nt)}let s=t.substring(n,t.length-3),l=Dd(s,4);for(let B=0;B<l.length;B++){let Q=l[B],J=Q.charAt(0),nt=Q.charAt(1),tt=Q.charAt(2),kt=uc(Q.charAt(3));if(!e.has(nt))throw new Error("missing node with id "+nt);if(!e.has(tt))throw new Error("missing node with id "+tt);let st=e.get(nt),Pt=e.get(tt),Ot={l:kt,0:st,1:Pt};e.set(J,Ot)}let d=t.slice(-3),m=d.charAt(0),p=d.charAt(1),y=uc(d.charAt(2)),w=e.get(m),k=e.get(p);return{l:y,0:w,1:k}}function uv(t,e,r){let n=t,o=t.l;for(;;){let i=e[o](r),s=cv(i);if(n=n[s],typeof n=="number"||typeof n=="string")return n;o=n.l}}var _0="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",Ed;function x0(){return Ed||(Ed=lv(_0)),Ed}var dv=t=>uv(x0(),Qg,t);function fv(t){let e=dv(t);return av[e]}function hv(t,e,r,n,o){let i=sv[t];return i({queryParams:e,changeEvent:r,previousResults:n,keyDocumentMap:o}),n}var go="\uFFFF",vo=Number.MIN_SAFE_INTEGER;function mv(t,e){var r=e.selector,n=t.indexes?t.indexes.slice(0):[];e.index&&(n=[e.index]);var o=!!e.sort.find(p=>Object.values(p)[0]==="desc"),i=new Set;Object.keys(r).forEach(p=>{var y=Me(t,p);y&&y.type==="boolean"&&Object.prototype.hasOwnProperty.call(r[p],"$eq")&&i.add(p)});var s=e.sort.map(p=>Object.keys(p)[0]),l=s.filter(p=>!i.has(p)).join(","),d=-1,m;if(n.forEach(p=>{var y=!0,w=!0,k=p.map(nt=>{var tt=r[nt],kt=tt?Object.keys(tt):[],st={};if(!tt||!kt.length){var Pt=w?vo:go;st={startKey:Pt,endKey:y?go:vo,inclusiveStart:!0,inclusiveEnd:!0}}else kt.forEach(Ot=>{if(dc.has(Ot)){var $t=tt[Ot],ue=R0(Ot,$t);st=Object.assign(st,ue)}});return typeof st.startKey>"u"&&(st.startKey=vo),typeof st.endKey>"u"&&(st.endKey=go),typeof st.inclusiveStart>"u"&&(st.inclusiveStart=!0),typeof st.inclusiveEnd>"u"&&(st.inclusiveEnd=!0),w&&!st.inclusiveStart&&(w=!1),y&&!st.inclusiveEnd&&(y=!1),st}),N=k.map(nt=>nt.startKey),B=k.map(nt=>nt.endKey),Q={index:p,startKeys:N,endKeys:B,inclusiveEnd:y,inclusiveStart:w,sortSatisfiedByIndex:!o&&l===p.filter(nt=>!i.has(nt)).join(","),selectorSatisfiedByIndex:S0(p,e.selector,N,B)},J=O0(t,e,Q);(J>=d||e.index)&&(d=J,m=Q)}),!m)throw L("SNH",{query:e});return m}var dc=new Set(["$eq","$gt","$gte","$lt","$lte"]),w0=new Set(["$eq","$gt","$gte"]),C0=new Set(["$eq","$lt","$lte"]);function S0(t,e,r,n){var o=Object.entries(e),i=o.find(([Ot,$t])=>{if(!t.includes(Ot))return!0;var ue=Object.entries($t).find(([Ne,rr])=>!dc.has(Ne));return ue});if(i||e.$and||e.$or)return!1;var s=[],l=new Set;for(var[d,m]of Object.entries(e)){if(!t.includes(d))return!1;var p=Object.keys(m).filter(Ot=>w0.has(Ot));if(p.length>1)return!1;var y=p[0];if(y&&l.add(d),y!=="$eq"){if(s.length>0)return!1;s.push(y)}}var w=[],k=new Set;for(var[N,B]of Object.entries(e)){if(!t.includes(N))return!1;var Q=Object.keys(B).filter(Ot=>C0.has(Ot));if(Q.length>1)return!1;var J=Q[0];if(J&&k.add(N),J!=="$eq"){if(w.length>0)return!1;w.push(J)}}var nt=0;for(var tt of t){for(var kt of[l,k]){if(!kt.has(tt)&&kt.size>0)return!1;kt.delete(tt)}var st=r[nt],Pt=n[nt];if(st!==Pt&&l.size>0&&k.size>0)return!1;nt++}return!0}function R0(t,e){switch(t){case"$eq":return{startKey:e,endKey:e,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:e,inclusiveEnd:!0};case"$gte":return{startKey:e,inclusiveStart:!0};case"$lt":return{endKey:e,inclusiveEnd:!1};case"$gt":return{startKey:e,inclusiveStart:!1};default:throw new Error("SNH")}}function O0(t,e,r){var n=0,o=p=>{p>0&&(n=n+p)},i=10,s=Ys(r.startKeys,p=>p!==vo&&p!==go);o(s*i);var l=Ys(r.startKeys,p=>p!==go&&p!==vo);o(l*i);var d=Ys(r.startKeys,(p,y)=>p===r.endKeys[y]);o(d*i*1.5);var m=r.sortSatisfiedByIndex?5:0;return o(m),n}var ce=class extends Error{},pc=2147483647,gc=-2147483648,Md=Number.MAX_SAFE_INTEGER,Td=Number.MIN_SAFE_INTEGER,Gr=Symbol("missing"),vv=Object.freeze(new Error("mingo: cycle detected while processing object/array")),D0="[object Object]",E0=/^\[object ([a-zA-Z0-9]+)\]$/,ya=t=>{let e=M0(t),r=0,n=e.length;for(;n;)r=(r<<5)-r^e.charCodeAt(--n);return r>>>0},yv=new Set(["null","undefined","boolean","number","string","date","regexp"]),k0={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Tt=(t,e)=>{t===Gr&&(t=void 0),e===Gr&&(e=void 0);let[r,n]=[t,e].map(o=>k0[Tn(o).toLowerCase()]);return r!==n?r-n:r===1||r===2||r===6?t<e?-1:t>e?1:0:pe(t,e)?0:t<e?-1:t>e?1:0};function z(t,e){if(!t)throw new ce(e)}var Tn=t=>E0.exec(Object.prototype.toString.call(t))[1],ba=t=>typeof t=="boolean",wt=t=>typeof t=="string";var dt=t=>!isNaN(t)&&typeof t=="number";var it=Array.isArray,ut=t=>{if(!t)return!1;let e=Object.getPrototypeOf(t);return(e===Object.prototype||e===null)&&D0===Object.prototype.toString.call(t)},_a=t=>t===Object(t),Nn=t=>t instanceof Date,ui=t=>t instanceof RegExp,xa=t=>typeof t=="function",X=t=>t==null,Ar=(t,e)=>t.includes(e),vc=(t,e)=>!Ar(t,e),Ee=(t,e=!0)=>!!t||e&&t==="",qe=t=>X(t)||wt(t)&&!t||t instanceof Array&&t.length===0||ut(t)&&Object.keys(t).length===0,pv=t=>t===Gr,Ir=t=>t instanceof Array?t:[t],zt=(t,e)=>!!t&&Object.prototype.hasOwnProperty.call(t,e),Nd=t=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t),A0=[Nn,ui,Nd],Ad=(t,e)=>{if(X(t))return t;if(e.has(t))throw vv;let r=t.constructor;if(A0.some(n=>n(t)))return new r(t);try{if(e.add(t),it(t))return t.map(n=>Ad(n,e));if(ut(t)){let n={};for(let o in t)n[o]=Ad(t[o],e);return n}}finally{e.delete(t)}return t},di=t=>Ad(t,new Set),I0=(t,e)=>ut(t)&&ut(e)||it(t)&&it(e);function hc(t,e,r){if(r=r||{flatten:!1},pv(t)||X(t))return e;if(pv(e)||X(e))return t;if(!I0(t,e)){if(r.skipValidation)return e||t;throw Error("mismatched types. must both be array or object")}if(r.skipValidation=!0,it(t)){let n=t,o=e;if(r.flatten){let i=0,s=0;for(;i<n.length&&s<o.length;)n[i]=hc(n[i++],o[s++],r);for(;s<o.length;)n.push(e[s++])}else Je(n,o)}else for(let n in e)t[n]=hc(t[n],e[n],r);return t}function Id(t,e=ya){let r=new Map;return t.forEach((n,o)=>{let i=yc(n,e);r.has(i)?r.get(i).some(s=>pe(t[s],n))||r.get(i).push(o):r.set(i,[o])}),r}function Xr(t,e=ya){if(t.some(l=>l.length==0))return[];if(t.length===1)return Array.from(t);let r=bv(t.map((l,d)=>[d,l.length]),l=>l[1]),n=t[r[0][0]],o=Id(n,e),i=new Map,s=new Array;return o.forEach((l,d)=>{let m=l.map(k=>n[k]),p=m.map(k=>0),y=m.map(k=>[r[0][0],0]),w=!1;for(let k=1;k<t.length;k++){let[N,B]=r[k],Q=t[N];if(i.has(k)||i.set(k,Id(Q)),i.get(k).has(d)){let J=i.get(k).get(d).map(nt=>Q[nt]);w=m.map((nt,tt)=>J.some((kt,st)=>{let Pt=p[tt];return pe(nt,kt)&&(p[tt]++,N<y[tt][0]&&(y[tt]=[N,i.get(k).get(d)[st]])),Pt<p[tt]})).some(Boolean)}if(!w)return}w&&Je(s,p.map((k,N)=>k===t.length-1?[m[N],y[N]]:Gr).filter(k=>k!==Gr))}),s.sort((l,d)=>{let[m,[p,y]]=l,[w,[k,N]]=d,B=Tt(p,k);return B!==0?B:Tt(y,N)}).map(l=>l[0])}function Ld(t,e=0){let r=new Array;function n(o,i){for(let s=0,l=o.length;s<l;s++)it(o[s])&&(i>0||i<0)?n(o[s],Math.max(-1,i-1)):r.push(o[s])}return n(t,e),r}var P0=t=>{let[e,r]=[Object.getPrototypeOf(t),Object.getOwnPropertyNames(t)],n=e;for(;!r.length&&e!==Object.prototype&&e!==Array.prototype;)n=e,r=Object.getOwnPropertyNames(e),e=Object.getPrototypeOf(e);let o={};return r.forEach(i=>o[i]=t[i]),[o,n]};function pe(t,e){if(t===e||Object.is(t,e))return!0;let r=!!t&&t.constructor||t;if(t===null||e===null||t===void 0||e===void 0||r!==e.constructor||r===Function)return!1;if(r===Array||r===Object){let i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length||new Set([...i,...s]).size!=i.length)return!1;for(let l of i)if(!pe(t[l],e[l]))return!1;return!0}let n=Object.getPrototypeOf(t);return(Nd(t)||n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))&&t.toString()===e.toString()}function wa(t,e=ya){let r=t.map(n=>Gr);return Id(t,e).forEach((n,o)=>{n.forEach(i=>r[i]=t[i])}),r.filter(n=>n!==Gr)}var fc=(t,e)=>{if(t===null)return"null";if(t===void 0)return"undefined";let r=t.constructor;switch(r){case RegExp:case Number:case Boolean:case Function:case Symbol:return t.toString();case String:return JSON.stringify(t);case Date:return t.toISOString()}if(Nd(t))return r.name+"["+t.toString()+"]";if(e.has(t))throw vv;try{if(e.add(t),it(t))return"["+t.map(s=>fc(s,e)).join(",")+"]";if(r===Object)return"{"+Object.keys(t).sort().map(s=>s+":"+fc(t[s],e)).join(",")+"}";let n=Object.getPrototypeOf(t);if(n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))return r.name+"("+JSON.stringify(t.toString())+")";let[o,i]=P0(t);return r.name+fc(o,e)}finally{e.delete(t)}},M0=t=>fc(t,new Set);function yc(t,e){return e=e||ya,X(t)?null:e(t).toString()}function bv(t,e,r=Tt){if(qe(t))return t;let n=new Array,o=new Array;for(let i=0;i<t.length;i++){let s=t[i],l=e(s,i);X(l)?o.push(s):n.push([l,s])}return n.sort((i,s)=>r(i[0],s[0])),Je(o,n.map(i=>i[1]))}function bc(t,e,r=ya){if(t.length<1)return new Map;let n=new Map,o=new Map;for(let i=0;i<t.length;i++){let s=t[i],l=e(s,i),d=yc(l,r);if(d===null)o.has(null)?o.get(null).push(s):o.set(null,[s]);else{let m=n.has(d)?n.get(d).find(p=>pe(p,l)):null;X(m)?(o.set(l,[s]),n.has(d)?n.get(d).push(l):n.set(d,[l])):o.get(m).push(s)}}return o}var kd=5e4;function Je(t,...e){return t instanceof Array?e.reduce((r,n)=>{let o=Math.ceil(n.length/kd),i=0;for(;o-- >0;)Array.prototype.push.apply(r,n.slice(i,i+kd)),i+=kd;return r},t):e.filter(_a).reduce((r,n)=>(Object.assign(r,n),r),t)}function Pd(t,e){return _a(t)?t[e]:void 0}function T0(t,e){if(e<1)return t;for(;e--&&t.length===1;)t=t[0];return t}function ke(t,e,r){let n=0;function o(s,l){let d=s;for(let m=0;m<l.length;m++){let p=l[m];if(/^\d+$/.exec(p)===null&&d instanceof Array){if(m===0&&n>0)break;n+=1;let w=l.slice(m);d=d.reduce((k,N)=>{let B=o(N,w);return B!==void 0&&k.push(B),k},[]);break}else d=Pd(d,p);if(d===void 0)break}return d}let i=yv.has(Tn(t).toLowerCase())?t:o(t,e.split("."));return i instanceof Array&&r?.unwrapArray?T0(i,n):i}function ci(t,e,r){let n=e.split("."),o=n[0],i=n.slice(1).join("."),s=/^\d+$/.exec(o)!==null,l=n.length>1,d,m;if(t instanceof Array)if(s)d=Pd(t,Number(o)),l&&(d=ci(d,i,r)),d=[d];else{d=[];for(let p of t)m=ci(p,e,r),r?.preserveMissing?(m===void 0&&(m=Gr),d.push(m)):m!==void 0&&d.push(m)}else{if(m=Pd(t,o),l&&(m=ci(m,i,r)),m===void 0)return;d=r?.preserveKeys?j({},t):{},d[o]=m}return d}function mc(t){if(t instanceof Array)for(let e=t.length-1;e>=0;e--)t[e]===Gr?t.splice(e,1):mc(t[e]);else if(ut(t))for(let e in t)zt(t,e)&&mc(t[e])}var gv=/^\d+$/;function li(t,e,r,n){let o=e.split("."),i=o[0],s=o.slice(1).join(".");if(o.length===1)(ut(t)||it(t)&&gv.test(i))&&r(t,i);else{n?.buildGraph&&X(t[i])&&(t[i]={});let l=t[i];if(!l)return;let d=!!(o.length>1&&gv.test(o[1]));l instanceof Array&&n?.descendArray&&!d?l.forEach(m=>li(m,s,r,n)):li(l,s,r,n)}}function _c(t,e,r){li(t,e,(n,o)=>{n[o]=xa(r)?r(n[o]):r},{buildGraph:!0})}function Ca(t,e,r){li(t,e,(n,o)=>{if(n instanceof Array){if(/^\d+$/.test(o))n.splice(parseInt(o),1);else if(r&&r.descendArray)for(let i of n)ut(i)&&delete i[o]}else ut(n)&&delete n[o]},r)}var N0=/^\$[a-zA-Z0-9_]+$/;function We(t){return N0.test(t)}function xc(t){if(yv.has(Tn(t).toLowerCase()))return ui(t)?{$regex:t}:{$eq:t};if(_a(t)){if(!Object.keys(t).some(We))return{$eq:t};if(zt(t,"$regex")){let r=j({},t);return r.$regex=new RegExp(t.$regex,t.$options),delete r.$options,r}}return t}var bo=(t=>(t.CLONE_ALL="CLONE_ALL",t.CLONE_INPUT="CLONE_INPUT",t.CLONE_OUTPUT="CLONE_OUTPUT",t.CLONE_OFF="CLONE_OFF",t))(bo||{}),Vt=class t{constructor(e,r,n,o=Date.now()){this._opts=e,this._root=r,this._local=n,this.timestamp=o,this.update(r,n)}static init(e,r,n){return e instanceof t?new t(e._opts,X(e.root)?r:e.root,Object.assign({},e.local,n)):new t(e,r,n)}update(e,r){return this._root=e,this._local=r&&Object.assign({},r,{variables:Object.assign({},this._local?.variables,r?.variables)}),this}getOptions(){return Object.freeze(gt(j({},this._opts),{context:fi.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function Zr(t){return t instanceof Vt?t.getOptions():Object.freeze(gt(j({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},t),{context:t?.context?fi.from(t?.context):fi.init({})}))}var hr=(t=>(t.ACCUMULATOR="accumulator",t.EXPRESSION="expression",t.PIPELINE="pipeline",t.PROJECTION="projection",t.QUERY="query",t.WINDOW="window",t))(hr||{}),fi=class t{constructor(e){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[r,n]of Object.entries(e))this.addOperators(r,n)}static init(e={}){return new t(e)}static from(e){return new t(e.operators)}addOperators(e,r){for(let[n,o]of Object.entries(r))this.getOperator(e,n)||(this.operators[e][n]=o);return this}addAccumulatorOps(e){return this.addOperators("accumulator",e)}addExpressionOps(e){return this.addOperators("expression",e)}addQueryOps(e){return this.addOperators("query",e)}addPipelineOps(e){return this.addOperators("pipeline",e)}addProjectionOps(e){return this.addOperators("projection",e)}addWindowOps(e){return this.addOperators("window",e)}getOperator(e,r){return e in this.operators&&this.operators[e][r]||null}},yo=fi.init();function Bd(t,e){for(let[r,n]of Object.entries(e)){z(xa(n)&&We(r),`'${r}' is not a valid operator`);let o=fr(t,r,null);z(!o||n===o,`${r} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":yo.addAccumulatorOps(e);break;case"expression":yo.addExpressionOps(e);break;case"pipeline":yo.addPipelineOps(e);break;case"projection":yo.addProjectionOps(e);break;case"query":yo.addQueryOps(e);break;case"window":yo.addWindowOps(e);break}}function fr(t,e,r){let{context:n,useGlobalContext:o}=r||{},i=n?n.getOperator(t,e):null;return!i&&o?yo.getOperator(t,e):i}var _v={$$ROOT(t,e,r){return r.root},$$CURRENT(t,e,r){return t},$$REMOVE(t,e,r){},$$NOW(t,e,r){return new Date(r.timestamp)}},$d={$$KEEP(t,e,r){return t},$$PRUNE(t,e,r){},$$DESCEND(t,e,r){if(!zt(e,"$cond"))return t;let n;for(let[o,i]of Object.entries(t))if(_a(i)){if(i instanceof Array){let s=[];for(let l of i)ut(l)&&(l=Fd(l,e,r.update(l))),X(l)||s.push(l);n=s}else n=Fd(i,e,r.update(i));X(n)?delete t[o]:t[o]=n}return t}};function $(t,e,r,n){let o=Vt.init(n,t);if(r=r||"",We(r)){let i=fr("expression",r,n);if(i)return i(t,e,o);let s=fr("accumulator",r,n);if(s)return t instanceof Array||(t=$(t,e,null,o),e=null),z(t instanceof Array,`'${r}' target must be an array.`),s(t,e,o.update(null,o.local));throw new ce(`operator '${r}' is not registered`)}if(wt(e)&&e.length>0&&e[0]==="$"){if(zt($d,e))return e;let i=o.root,s=e.split(".");if(zt(_v,s[0]))i=_v[s[0]](t,null,o),e=e.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){i=Object.assign({},o.variables,{this:t},o.local?.variables);let l=s[0].slice(2);z(zt(i,l),`Use of undefined variable: ${l}`),e=e.slice(2)}else e=e.slice(1);return e===""?i:ke(i,e)}if(it(e))return e.map(i=>$(t,i,null,o));if(ut(e)){let i={};for(let[s,l]of Object.entries(e))if(i[s]=$(t,l,s,o),["expression","accumulator"].some(d=>!!fr(d,s,n)))return z(Object.keys(e).length===1,"Invalid aggregation expression '"+JSON.stringify(e)+"'"),i[s];return i}return e}function Fd(t,e,r){let n=$(t,e,null,r);return zt($d,n)?$d[n](t,e,r):n}function Ke(t){return t instanceof Sa?t:new Sa(t)}function wc(...t){let e=0;return Ke(()=>{for(;e<t.length;){let r=t[e].next();if(!r.done)return r;e++}return{done:!0}})}function L0(t){return!!t&&typeof t=="object"&&t?.next instanceof Function}function $0(t,e){let r=t.slice(e+1);t.splice(e),Array.prototype.push.apply(t,r)}var jd=new Error;function F0(t,e,r){let n=!1,o=-1,i=0;return function(s){try{t:for(;!n;){let l=t();o++;let d=-1,m=e.length,p=!1;for(;++d<m;){let y=e[d];switch(y.action){case 0:l=y.func(l,o);break;case 1:if(!y.func(l,o))continue t;break;case 2:--y.count,y.count||(p=!0);break;case 3:--y.count,y.count||$0(e,d);continue t;default:break t}}if(n=p,s)r[i++]=l;else return{value:l,done:!1}}}catch(l){if(l!==jd)throw l}return n=!0,{done:n}}}var Sa=class{constructor(e){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let r;if(e instanceof Function&&(e={next:e}),L0(e)){let n=e;r=()=>{let o=n.next();if(o.done)throw jd;return o.value}}else if(e instanceof Array){let n=e,o=n.length,i=0;r=()=>{if(i<o)return n[i++];throw jd}}else if(!(e instanceof Function))throw new ce("Lazy must be initialized with an array, generator, or function.");this.getNext=F0(r,this.iteratees,this.yieldedValues)}push(e,r){return typeof r=="function"?this.iteratees.push({action:e,func:r}):typeof r=="number"&&this.iteratees.push({action:e,count:r}),this}next(){return this.getNext()}map(e){return this.push(0,e)}filter(e){return this.push(1,e)}take(e){return e>0?this.push(2,e):this}drop(e){return e>0?this.push(3,e):this}transform(e){let r=this,n;return Ke(()=>(n||(n=Ke(e(r.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(e){for(;;){let r=this.next();if(r.done)break;if(e(r.value)===!1)return!1}return!0}reduce(e,r){let n=this.next();for(r===void 0&&!n.done&&(r=n.value,n=this.next());!n.done;)r=e(r,n.value),n=this.next();return r}size(){return this.reduce((e,r)=>++e,0)}[Symbol.iterator](){return this}};var Pr=class{constructor(e,r){this.pipeline=e,this.options=Zr(r)}stream(e){let r=Ke(e),n=this.options.processingMode;(n==bo.CLONE_ALL||n==bo.CLONE_INPUT)&&r.map(di);let o=new Array;if(!qe(this.pipeline))for(let i of this.pipeline){let s=Object.keys(i),l=s[0],d=fr(hr.PIPELINE,l,this.options);z(s.length===1&&!!d,`invalid pipeline operator ${l}`),o.push(l),r=d(r,i[l],this.options)}return(n==bo.CLONE_OUTPUT||n==bo.CLONE_ALL&&Xr([["$group","$unwind"],o]).length)&&r.map(di),r}run(e){return this.stream(e).value()}};var Cc=class{constructor(e,r,n,o){this.source=e,this.predicate=r,this.projection=n,this.options=o,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(ut(this.projection)&&this.operators.push({$project:this.projection}),this.result=Ke(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Pr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let e=Ke([...this.buffer]);return this.buffer=[],wc(e,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(e){return this.operators.push({$skip:e}),this}limit(e){return this.operators.push({$limit:e}),this}sort(e){return this.operators.push({$sort:e}),this}collation(e){return this.options=gt(j({},this.options),{collation:e}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let e=this.fetch().next();if(!e.done)return e.value}hasNext(){if(this.buffer.length>0)return!0;let e=this.fetch().next();return e.done?!1:(this.buffer.push(e.value),!0)}map(e){return this.all().map(e)}forEach(e){this.all().forEach(e)}[Symbol.iterator](){return this.fetchAll()}};var Yt=class{constructor(e,r){this.condition=e,this.options=Zr(r),this.compiled=[],this.compile()}compile(){z(ut(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let e={};for(let[r,n]of Object.entries(this.condition)){if(r==="$where")Object.assign(e,{field:r,expr:n});else if(Ar(["$and","$or","$nor","$expr","$jsonSchema"],r))this.processOperator(r,r,n);else{z(!We(r),`unknown top level operator: ${r}`);for(let[o,i]of Object.entries(xc(n)))this.processOperator(r,o,i)}e.field&&this.processOperator(e.field,e.field,e.expr)}}processOperator(e,r,n){let o=fr(hr.QUERY,r,this.options);if(!o)throw new ce(`unknown query operator ${r}`);let i=o(e,n,this.options);this.compiled.push(i)}test(e){for(let r=0,n=this.compiled.length;r<n;r++)if(!this.compiled[r](e))return!1;return!0}find(e,r){return new Cc(e,n=>this.test(n),r||{},this.options)}remove(e){return e.reduce((r,n)=>(this.test(n)||r.push(n),r),[])}};var hi=1e3*60*60*24,xv={week:hi*7,day:hi,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var S1={week:hi*7,day:hi,hour:hi/24,minute:6e4,second:1e3,millisecond:1};var Rc=(t,e,r)=>{if(qe(e)||!ut(e))return t;let n=Tt,o=r.collation;return ut(o)&&wt(o.locale)&&(n=Q0(o)),t.transform(i=>{let s=Object.keys(e);for(let l of s.reverse()){let d=bc(i,p=>ke(p,l),r.hashFunction),m=Array.from(d.keys()).sort(n);e[l]===-1&&m.reverse(),i=[],m.reduce((p,y)=>Je(p,d.get(y)),i)}return i})},H0={1:"base",2:"accent",3:"variant"};function Q0(t){let e={sensitivity:H0[t.strength||3],caseFirst:t.caseFirst==="off"?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:t.alternate==="shifted"};(t.caseLevel||!1)===!0&&(e.sensitivity==="base"&&(e.sensitivity="case"),e.sensitivity==="accent"&&(e.sensitivity="variant"));let r=new Intl.Collator(t.locale,e);return(n,o)=>{if(!wt(n)||!wt(o))return Tt(n,o);let i=r.compare(n,o);return i<0?-1:i>0?1:0}}function Ct(t){let e=(r,n,o)=>{let i={unwrapArray:!0},s=Math.max(1,r.split(".").length-1);return l=>{let d=ke(l,r,i);return t(d,n,gt(j({},o),{depth:s}))}};return e.op="query",e}function Te(t){return(e,r,n)=>{let o=$(e,r,null,n);return t(...o)}}function Ra(t,e,r){if(pe(t,e)||X(t)&&X(e))return!0;if(t instanceof Array){let n=pe.bind(null,e);return t.some(n)||Ld(t,r?.depth).some(n)}return!1}function Oc(t,e,r){return!Ra(t,e,r)}function zd(t,e,r){return X(t)?e.some(n=>n===null):Xr([Ir(t),e],r?.hashFunction).length>0}function Dc(t,e,r){return!zd(t,e,r)}function Ec(t,e,r){return Pc(t,e,(n,o)=>Tt(n,o)<0)}function kc(t,e,r){return Pc(t,e,(n,o)=>Tt(n,o)<=0)}function Ac(t,e,r){return Pc(t,e,(n,o)=>Tt(n,o)>0)}function Ic(t,e,r){return Pc(t,e,(n,o)=>Tt(n,o)>=0)}function Dv(t,e,r){return Ir(t).some(n=>e.length===2&&n%e[0]===e[1])}function Ev(t,e,r){let n=Ir(t),o=i=>wt(i)&&Ee(e.exec(i),r?.useStrictMode);return n.some(o)||Ld(n,1).some(o)}function kv(t,e,r){return(e===!1||e===0)&&t===void 0||(e===!0||e===1)&&t!==void 0}function Av(t,e,r){if(!it(t)||!it(e)||!t.length||!e.length)return!1;let n=!0;for(let o of e){if(!n)break;ut(o)&&Ar(Object.keys(o),"$elemMatch")?n=Vd(t,o.$elemMatch,r):o instanceof RegExp?n=t.some(i=>typeof i=="string"&&o.test(i)):n=t.some(i=>pe(o,i))}return n}function Iv(t,e,r){return Array.isArray(t)&&t.length===e}function Z0(t){return We(t)&&["$and","$or","$nor"].indexOf(t)===-1}function Vd(t,e,r){if(it(t)&&!qe(t)){let n=s=>s,o=e;Object.keys(e).every(Z0)&&(o={temp:e},n=s=>({temp:s}));let i=new Yt(o,r);for(let s=0,l=t.length;s<l;s++)if(i.test(n(t[s])))return!0}return!1}var Cv=t=>t===null,Sv=t=>dt(t)&&t>=gc&&t<=pc&&t.toString().indexOf(".")===-1,Rv=t=>dt(t)&&t>=Td&&t<=Md&&t.toString().indexOf(".")===-1,J0={array:it,bool:ba,boolean:ba,date:Nn,decimal:dt,double:dt,int:Sv,long:Rv,number:dt,null:Cv,object:ut,regex:ui,regexp:ui,string:wt,undefined:X,function:t=>{throw new ce("unsupported type key `function`.")},1:dt,2:wt,3:ut,4:it,6:X,8:ba,9:Nn,10:Cv,11:ui,16:Sv,18:Rv,19:dt};function Ov(t,e,r){let n=J0[e];return n?n(t):!1}function Pv(t,e,r){return Array.isArray(e)?e.findIndex(n=>Ov(t,n,r))>=0:Ov(t,e,r)}function Pc(t,e,r){return Ir(t).some(n=>Tn(n)===Tn(e)&&r(n,e))}var NT=Te(Dc);var mi=(t,e)=>(r,n,o)=>{z(it(n),`${t}: expression must be an array.`);let i=$(r,n,null,o);return i.some(X)?null:(z(i.every(dt),`${t}: expression must evalue to array of numbers.`),e(i))};var IN=mi("$bitAnd",t=>t.reduce((e,r)=>e&r,-1));var $N=mi("$bitOr",t=>t.reduce((e,r)=>e|r,0));var jN=mi("$bitXor",t=>t.reduce((e,r)=>e^r,0));var qd={};gs(qd,{$and:()=>tC,$not:()=>eC,$or:()=>rC});var tC=(t,e,r)=>{let n=$(t,e,null,r);return Ee(n,r.useStrictMode)&&n.every(o=>Ee(o,r.useStrictMode))};var eC=(t,e,r)=>{let n=Ir(e);if(n.length==0)return!1;if(n.length==1)return!$(t,n[0],null,r);throw"Expression $not takes exactly 1 argument"};var rC=(t,e,r)=>{let n=$(t,e,null,r),o=r.useStrictMode;return Ee(n,o)&&n.some(i=>Ee(i,o))};var Wd={};gs(Wd,{$cmp:()=>nC,$eq:()=>oC,$gt:()=>iC,$gte:()=>aC,$lt:()=>sC,$lte:()=>cC,$ne:()=>lC});var nC=(t,e,r)=>{let n=$(t,e,null,r);return n[0]>n[1]?1:n[0]<n[1]?-1:0};var oC=Te(Ra);var iC=Te(Ac);var aC=Te(Ic);var sC=Te(Ec);var cC=Te(kc);var lC=Te(Oc);var Mv=(t,e)=>{let r={};return t.split("").forEach((n,o)=>r[n]=e*(o+1)),r},XL=gt(j(j({},Mv("ABCDEFGHIKLM",1)),Mv("NOPQRSTUVWXY",-1)),{Z:0});var $v={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Nt(t,e=$v){let r=Object.assign({},$v,e),n=new Set(Object.keys(r));return(o,i,s)=>{let l=$(o,i,null,s);if(n.has(`${l}`)){let d=r[`${l}`];if(d instanceof Error)throw new ce(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return d}return t(l)}}var iU=Nt(Math.acos,{Infinity:1/0,0:new Error});var cU=Nt(Math.acosh,{Infinity:1/0,0:new Error});var dU=Nt(Math.asin);var mU=Nt(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var vU=Nt(Math.atan);var CU=Nt(Math.atanh,{1:1/0,"-1":-1/0});var OU=Nt(Math.cos);var kU=Nt(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var hC=Math.PI/180,PU=Nt(t=>t*hC,{Infinity:1/0,"-Infinity":1/0});var mC=180/Math.PI,NU=Nt(t=>t*mC,{Infinity:1/0,"-Infinity":-1/0});var FU=Nt(Math.sin);var UU=Nt(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var qU=Nt(Math.tan);var Hd=(t,e,r)=>{if(qe(e))return t;let n=Object.keys(e),o=!1;Bv(e,r);let i=r.idKey;if(Ar(n,i)){let l=e[i];(l===0||l===!1)&&(n=n.filter(vc.bind(null,[i])),o=n.length==0)}else n.push(i);let s=Vt.init(r);return t.map(l=>Kd(l,e,s.update(l),n,o))};function Kd(t,e,r,n,o){let i={},s=!1,l=!1,d=[];o&&d.push(r.idKey);for(let m of n){let p,y=e[m];if(m!==r.idKey&&Ar([0,!1],y)&&(l=!0),m===r.idKey&&qe(y))p=t[m];else if(wt(y))p=$(t,y,m,r);else if(!Ar([1,!0],y))if(y instanceof Array)p=y.map(k=>{let N=$(t,k,null,r);return X(N)?null:N});else if(ut(y)){let k=y,N=Object.keys(y),B=N.length==1?N[0]:"",Q=fr(hr.PROJECTION,B,r);if(Q)B==="$slice"?Ir(k[B]).every(dt)?(p=Q(t,k[B],m,r),s=!0):p=$(t,k,m,r):p=Q(t,k[B],m,r);else if(We(B))p=$(t,k[B],B,r);else if(zt(t,m)){Bv(k,r);let J=t[m];J instanceof Array?p=J.map(nt=>Kd(nt,k,r,N,!1)):(J=ut(J)?J:t,p=Kd(J,k,r,N,!1))}else p=$(t,y,null,r)}else{d.push(m);continue}let w=ci(t,m,{preserveMissing:!0});w!==void 0&&hc(i,w,{flatten:!0}),vc([0,1,!1,!0],y)&&(p===void 0?Ca(i,m,{descendArray:!0}):_c(i,m,p))}if(mc(i),(s||l||o)&&(i=Je({},t,i),d.length>0))for(let m of d)Ca(i,m,{descendArray:!0});return i}function Bv(t,e){let r=[!1,!1];for(let[n,o]of Object.entries(t)){if(n===e?.idKey)return;o===0||o===!1?r[0]=!0:(o===1||o===!0)&&(r[1]=!0),z(!(r[0]&&r[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var Qd=(t,e,r)=>{z(it(e),"Invalid expression: $and expects value to be an Array.");let n=e.map(o=>new Yt(o,r));return o=>n.every(i=>i.test(o))};var Oa=(t,e,r)=>{z(it(e),"Invalid expression. $or expects value to be an Array");let n=e.map(o=>new Yt(o,r));return o=>n.some(i=>i.test(o))};var Yd=(t,e,r)=>{z(it(e),"Invalid expression. $nor expects value to be an array.");let n=Oa("$or",e,r);return o=>!n(o)};var Gd=(t,e,r)=>{let n={};n[t]=xc(e);let o=new Yt(n,r);return i=>!o.test(i)};var Mc=Ct(Ra);var Tc=Ct(Ac);var Nc=Ct(Ic);var Lc=Ct(zd);var $c=Ct(Ec);var Fc=Ct(kc);var Bc=Ct(Oc);var jc=Ct(Dc);function vC(t,e,r){return n=>$(n,e,null,r)}function yC(t,e,r){if(!r?.jsonSchemaValidator)throw new ce("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let n=r?.jsonSchemaValidator(e);return o=>n(o)}var Xd=Ct(Dv);var Zd=Ct(Ev);function bC(t,e,r){z(r.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let n=e;return z(xa(n),"$where only accepts a Function object"),o=>Ee(n.call(o),r?.useStrictMode)}var _C=Ct(Av);var Jd=Ct(Vd);var tf=Ct(Iv);var ef=Ct(kv);var rf=Ct(Pv);var jv=!1;function Uv(t){return jv||(Bd(hr.PIPELINE,{$sort:Rc,$project:Hd}),Bd(hr.QUERY,{$and:Qd,$eq:Mc,$elemMatch:Jd,$exists:ef,$gt:Tc,$gte:Nc,$in:Lc,$lt:$c,$lte:Fc,$ne:Bc,$nin:jc,$mod:Xd,$nor:Yd,$not:Gd,$or:Oa,$regex:Zd,$size:tf,$type:rf}),jv=!0),new Yt(t)}function Da(t,e){var r=me(t.primaryKey);e=Et(e);var n=Ze(e);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([m,p])=>{(typeof p!="object"||p===null)&&(n.selector[m]={$eq:p})})):n.selector={},n.index){var o=pa(n.index);o.includes(r)||o.push(r),n.index=o}if(n.sort){var d=n.sort.find(m=>ag(m)===r);d||(n.sort=n.sort.slice(0),n.sort.push({[r]:"asc"}))}else if(n.index)n.sort=n.index.map(m=>({[m]:"asc"}));else{if(t.indexes){var i=new Set;Object.entries(n.selector).forEach(([m,p])=>{var y=!1;typeof p=="object"&&p!==null?y=!!Object.keys(p).find(w=>dc.has(w)):y=!0,y&&i.add(m)});var s=-1,l;t.indexes.forEach(m=>{var p=Er(m)?m:[m],y=p.findIndex(w=>!i.has(w));y>0&&y>s&&(s=y,l=p)}),l&&(n.sort=l.map(m=>({[m]:"asc"})))}n.sort||(n.sort=[{[r]:"asc"}])}return n}function Uc(t,e){if(!e.sort)throw L("SNH",{query:e});var r=[];e.sort.forEach(o=>{var i=Object.keys(o)[0],s=Object.values(o)[0];r.push({key:i,direction:s,getValueFn:ig(i)})});var n=(o,i)=>{for(var s=0;s<r.length;++s){var l=r[s],d=l.getValueFn(o),m=l.getValueFn(i);if(d!==m){var p=l.direction==="asc"?Tt(d,m):Tt(m,d);return p}}};return n}function pi(t,e){if(!e.sort)throw L("SNH",{query:e});var r=Uv(e.selector),n=o=>r.test(o);return n}function Ln(t,e){return U(this,null,function*(){var r=yield t.exec();if(!r)return null;if(Array.isArray(r))return Promise.all(r.map(o=>e(o)));if(r instanceof Map)return Promise.all([...r.values()].map(o=>e(o)));var n=yield e(r);return n})}function xC(t,e){return!e.sort||e.sort.length===0?[t]:e.sort.map(r=>Object.keys(r)[0])}var wC=new WeakMap;function CC(t){return Ve(wC,t,()=>{var e=t.collection,r=Da(e.storageInstance.schema,Ze(t.mangoQuery)),n=e.schema.primaryPath,o=Uc(e.schema.jsonSchema,r),i=(m,p)=>{var y={docA:m,docB:p,rxQuery:t};return o(y.docA,y.docB)},s=pi(e.schema.jsonSchema,r),l=m=>{var p={doc:m,rxQuery:t};return s(p.doc)},d={primaryKey:t.collection.schema.primaryPath,skip:r.skip,limit:r.limit,sortFields:xC(n,r),sortComparator:i,queryMatcher:l};return d})}function zv(t,e){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var r=CC(t),n=Rt(t._result).docsData.slice(0),o=Rt(t._result).docsDataMap,i=!1,s=e.map(d=>Ag(d)).filter(Zp),l=s.find(d=>{var m={queryParams:r,changeEvent:d,previousResults:n,keyDocumentMap:o},p=fv(m);if(p==="runFullQueryAgain")return!0;if(p!=="doNothing")return i=!0,hv(p,r,d,n,o),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:i,newResults:n}}var SC=function(){function t(){this._map=new Map}var e=t.prototype;return e.getByQuery=function(n){var o=n.toString();return Ve(this._map,o,()=>n)},t}();function qv(){return new SC}function Vv(t,e){e.uncached=!0;var r=e.toString();t._map.delete(r)}function RC(t){return t.refCount$.observers.length}var OC=100,DC=30*1e3,EC=(t,e)=>(r,n)=>{if(!(n._map.size<t)){var o=ee()-e,i=[],s=Array.from(n._map.values());for(var l of s)if(!(RC(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<o){Vv(n,l);continue}i.push(l)}var d=i.length-t;if(!(d<=0)){var m=i.sort((y,w)=>y._lastEnsureEqual-w._lastEnsureEqual),p=m.slice(0,d);p.forEach(y=>Vv(n,y))}}},of=EC(OC,DC),nf=new WeakSet;function Wv(t){nf.has(t)||(nf.add(t),dg().then(()=>mg(200)).then(()=>{t.destroyed||t.cacheReplacementPolicy(t,t._queryCache),nf.delete(t)}))}var Hv=function(){function t(r,n,o){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(i=>{var s=i.docId,l=this.cacheItemByDocId.get(s);l&&(l[0].delete(i.revisionHeight),l[0].size===0&&this.cacheItemByDocId.delete(s))}):void 0,this.primaryPath=r,this.changes$=n,this.documentCreator=o,n.subscribe(i=>{this.tasks.add(()=>{for(var s=this.cacheItemByDocId,l=0;l<i.length;l++){var d=i[l],m=s.get(d.documentId);if(m){var p=d.documentData;p||(p=d.previousDocumentData),m[1]=p}}}),this.tasks.size<=1&&ai().then(()=>{this.processTasks()})})}var e=t.prototype;return e.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(o=>o()),this.tasks.clear()}},e.getLatestDocumentData=function(n){this.processTasks();var o=An(this.cacheItemByDocId,n);return o[1]},e.getLatestDocumentDataIfExists=function(n){this.processTasks();var o=this.cacheItemByDocId.get(n);if(o)return o[1]},De(t,[{key:"getCachedRxDocuments",get:function(){var r=Kv(this);return ze(this,"getCachedRxDocuments",r)}},{key:"getCachedRxDocument",get:function(){var r=Kv(this);return ze(this,"getCachedRxDocument",n=>r([n])[0])}}])}();function Kv(t){var e=t.primaryPath,r=t.cacheItemByDocId,n=t.registry,o=It.deepFreezeWhenDevMode,i=t.documentCreator,s=l=>{for(var d=new Array(l.length),m=[],p=0;p<l.length;p++){var y=l[p],w=y[e],k=fo(y._rev),N=void 0,B=void 0,Q=r.get(w);Q?(N=Q[0],B=N.get(k)):(N=new Map,Q=[N,y],r.set(w,Q));var J=B?B.deref():void 0;J||(y=o(y),J=i(y),N.set(k,AC(J)),n&&m.push(J)),d[p]=J}return m.length>0&&n&&(t.tasks.add(()=>{for(var nt=0;nt<m.length;nt++){var tt=m[nt];n.register(tt,{docId:tt.primary,revisionHeight:fo(tt.revision)})}}),t.tasks.size<=1&&ai().then(()=>{t.processTasks()})),d};return s}function zc(t,e){var r=t.getCachedRxDocuments;return r(e)}var kC=typeof WeakRef=="function",AC=kC?IC:PC;function IC(t){return new WeakRef(t)}function PC(t){return{deref(){return t}}}var af=function(){function t(r,n,o){this.time=ee(),this.query=r,this.count=o,this.documents=zc(this.query.collection._docCache,n)}var e=t.prototype;return e.getValue=function(n){var o=this.query.op;if(o==="count")return this.count;if(o==="findOne"){var i=this.documents.length===0?null:this.documents[0];if(!i&&n)throw L("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:o});return i}else return o==="findByIds"?this.docsMap:this.documents.slice(0)},De(t,[{key:"docsData",get:function(){return ze(this,"docsData",this.documents.map(r=>r._data))}},{key:"docsDataMap",get:function(){var r=new Map;return this.documents.forEach(n=>{r.set(n.primary,n._data)}),ze(this,"docsDataMap",r)}},{key:"docsMap",get:function(){for(var r=new Map,n=this.documents,o=0;o<n.length;o++){var i=n[o];r.set(i.primary,i)}return ze(this,"docsMap",r)}}])}();var MC=0,TC=function(){return++MC},sf=function(){function t(r,n,o,i={}){this.id=TC(),this._execOverDatabaseCount=0,this._creationTime=ee(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new be(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=kr,this.op=r,this.mangoQuery=n,this.collection=o,this.other=i,n||(this.mangoQuery=Ea()),this.isFindOneByIdQuery=FC(this.collection.schema.primaryPath,n)}var e=t.prototype;return e._setResultData=function(n){if(typeof n>"u")throw L("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof n=="number"){this._result=new af(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var o=new af(this,n,n.length);this._result=o},e._execOverDatabase=function(){return U(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=ee(),this.op==="count"){var n=this.getPreparedQuery(),o=yield this.collection.storageInstance.count(n);if(o.mode==="slow"&&!this.collection.database.allowSlowCount)throw L("QU14",{collection:this.collection,queryObj:this.mangoQuery});return o.count}if(this.op==="findByIds"){var i=Rt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,s=new Map,l=[];if(i.forEach(p=>{var y=this.collection._docCache.getLatestDocumentDataIfExists(p);if(y){if(!y._deleted){var w=this.collection._docCache.getCachedRxDocument(y);s.set(p,w)}}else l.push(p)}),l.length>0){var d=yield this.collection.storageInstance.findDocumentsById(l,!1);d.forEach(p=>{var y=this.collection._docCache.getCachedRxDocument(p);s.set(y.primary,y)})}return s}var m=$C(this);return m.then(p=>(this._lastExecEnd=ee(),p))})},e.exec=function(n){return U(this,null,function*(){if(n&&this.op!=="findOne")throw L("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield Qv(this);var o=Rt(this._result);return o.getValue(n)})},e.toString=function(){var n=ni({op:this.op,query:this.mangoQuery,other:this.other},!0),o=JSON.stringify(n);return this.toString=()=>o,o},e.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:Da(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),Qt("prePrepareQuery",n);var o=ka(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>o,o},e.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},e.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(o=>o.remove())):n.remove())},e.incrementalRemove=function(){return Ln(this.asRxQuery,n=>n.incrementalRemove())},e.update=function(n){throw St("update")},e.patch=function(n){return Ln(this.asRxQuery,o=>o.patch(n))},e.incrementalPatch=function(n){return Ln(this.asRxQuery,o=>o.incrementalPatch(n))},e.modify=function(n){return Ln(this.asRxQuery,o=>o.modify(n))},e.incrementalModify=function(n){return Ln(this.asRxQuery,o=>o.incrementalModify(n))},e.where=function(n){throw St("query-builder")},e.sort=function(n){throw St("query-builder")},e.skip=function(n){throw St("query-builder")},e.limit=function(n){throw St("query-builder")},De(t,[{key:"$",get:function(){if(!this._$){var r=this.collection.$.pipe(_t(n=>!n.isLocal),ir(null),Kt(()=>Qv(this)),lt(()=>this._result),zi(Js),No((n,o)=>!!(n&&n.time===Rt(o).time)),_t(n=>!!n),lt(n=>Rt(n).getValue()));this._$=Po(r,this.refCount$.pipe(_t(()=>!1)))}return this._$}},{key:"$$",get:function(){var r=this.collection.database.getReactivityFactory();return r.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var r=this.collection.schema.jsonSchema,n=Da(this.collection.schema.jsonSchema,this.mangoQuery);return ze(this,"queryMatcher",pi(r,n))}},{key:"asRxQuery",get:function(){return this}}])}();function Ea(){return{selector:{}}}function NC(t){return t.collection._queryCache.getByQuery(t)}function gi(t,e,r,n){Qt("preCreateRxQuery",{op:t,queryObj:e,collection:r,other:n});var o=new sf(t,e,r,n);return o=NC(o),Wv(r),o}function Yv(t){var e=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=e}function Qv(t){return U(this,null,function*(){return t.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(t.collection.awaitBeforeReads).map(e=>e()))),t.collection.database.destroyed||Yv(t)?!1:(t._ensureEqualQueue=t._ensureEqualQueue.then(()=>LC(t)),t._ensureEqualQueue)})}function LC(t){if(t._lastEnsureEqual=ee(),t.collection.database.destroyed||Yv(t))return kr;var e=!1,r=!1;if(t._latestChangeEvent===-1&&(r=!0),!r){var n=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(n===null)r=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var o=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(t.op==="count"){var i=Rt(t._result).count,s=i;o.forEach(d=>{var m=d.previousDocumentData&&t.doesDocumentDataMatch(d.previousDocumentData),p=t.doesDocumentDataMatch(d.documentData);!m&&p&&s++,m&&!p&&s--}),s!==i&&(e=!0,t._setResultData(s))}else{var l=zv(t,o);l.runFullQueryAgain?r=!0:l.changed&&(e=!0,t._setResultData(l.newResults))}}}return r?t._execOverDatabase().then(d=>(t._latestChangeEvent=t.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!t._result||d!==t._result.count)&&(e=!0,t._setResultData(d)),e):((!t._result||!cg(t.collection.schema.primaryPath,d,t._result.docsData))&&(e=!0,t._setResultData(d)),e))):Promise.resolve(e)}function ka(t,e){if(!e.sort)throw L("SNH",{query:e});var r=mv(t,e);return{query:e,queryPlan:r}}function $C(t){return U(this,null,function*(){var e=[],r=t.collection;if(t.isFindOneByIdQuery)if(Array.isArray(t.isFindOneByIdQuery)){var n=t.isFindOneByIdQuery;if(n=n.filter(p=>{var y=t.collection._docCache.getLatestDocumentDataIfExists(p);return y?(y._deleted||e.push(y),!1):!0}),n.length>0){var o=yield r.storageInstance.findDocumentsById(n,!1);ur(e,o)}}else{var i=t.isFindOneByIdQuery,s=t.collection._docCache.getLatestDocumentDataIfExists(i);if(!s){var l=yield r.storageInstance.findDocumentsById([i],!1);l[0]&&(s=l[0])}s&&!s._deleted&&e.push(s)}else{var d=t.getPreparedQuery(),m=yield r.storageInstance.query(d);e=m.documents}return e})}function FC(t,e){if(!e.skip&&e.selector&&Object.keys(e.selector).length===1&&e.selector[t]){var r=e.selector[t];if(typeof r=="string")return r;if(Object.keys(r).length===1&&typeof r.$eq=="string"||Object.keys(r).length===1&&Array.isArray(r.$eq)&&!r.$eq.find(n=>typeof n!="string"))return r.$eq}return!1}var Gv="_rxdb_internal";function lf(t,e){return U(this,null,function*(){var r=yield t.findDocumentsById([e],!1),n=r[0];if(n)return n})}function vi(t,e,r,n){if(n)throw n.status===409?L("CONFLICT",{collection:t.name,id:e,writeError:n,data:r}):n.status===422?L("VD2",{collection:t.name,id:e,writeError:n,data:r}):n}function Xv(t,e,r,n,o,i,s){for(var l=!!t.schema.attachments,d=[],m=[],p=[],y=mo(10),w={id:y,events:[],checkpoint:null,context:o,startTime:ee(),endTime:0},k=w.events,N=[],B=[],Q=[],J=r.size>0,nt,tt=n.length,kt=function(){var Pt=n[st],Ot=Pt.document,$t=Pt.previous,ue=Ot[e],Ne=Ot._deleted,rr=$t&&$t._deleted,zn=void 0;J&&(zn=r.get(ue));var nr;if(zn){var Nr=zn._rev;if(!$t||$t&&Nr!==$t._rev){var rn={isError:!0,status:409,documentId:ue,writeRow:Pt,documentInDb:zn};return p.push(rn),1}var Ie=l?cf(Pt):Pt;l&&(Ne?$t&&Object.keys($t._attachments).forEach(re=>{B.push({documentId:ue,attachmentId:re,digest:Rt($t)._attachments[re].digest})}):(Object.entries(Ot._attachments).find(([re,ne])=>{var on=$t?$t._attachments[re]:void 0;return!on&&!ne.data&&(nr={documentId:ue,documentInDb:zn,isError:!0,status:510,writeRow:Pt,attachmentId:re}),!0}),nr||Object.entries(Ot._attachments).forEach(([re,ne])=>{var on=$t?$t._attachments[re]:void 0;if(!on)N.push({documentId:ue,attachmentId:re,attachmentData:ne,digest:ne.digest});else{var yl=Ie.document._attachments[re].digest;ne.data&&on.digest!==yl&&Q.push({documentId:ue,attachmentId:re,attachmentData:ne,digest:ne.digest})}}))),nr?p.push(nr):(l?(m.push(cf(Ie)),s&&s(Ot)):(m.push(Ie),s&&s(Ot)),nt=Ie);var nn=null,Ri=null,or=null;if(rr&&!Ne)or="INSERT",nn=l?Mr(Ot):Ot;else if($t&&!rr&&!Ne)or="UPDATE",nn=l?Mr(Ot):Ot,Ri=$t;else if(Ne)or="DELETE",nn=Rt(Ot),Ri=$t;else throw L("SNH",{args:{writeRow:Pt}});var za={documentId:ue,documentData:nn,previousDocumentData:Ri,operation:or};k.push(za)}else{var Si=!!Ne;if(l&&Object.entries(Ot._attachments).forEach(([re,ne])=>{ne.data?N.push({documentId:ue,attachmentId:re,attachmentData:ne,digest:ne.digest}):(nr={documentId:ue,isError:!0,status:510,writeRow:Pt,attachmentId:re},p.push(nr))}),nr||(l?(d.push(cf(Pt)),i&&i(Ot)):(d.push(Pt),i&&i(Ot)),nt=Pt),!Si){var vl={documentId:ue,operation:"INSERT",documentData:l?Mr(Ot):Ot,previousDocumentData:l&&$t?Mr($t):$t};k.push(vl)}}},st=0;st<tt;st++)kt();return{bulkInsertDocs:d,bulkUpdateDocs:m,newestRow:nt,errors:p,eventBulk:w,attachmentsAdd:N,attachmentsRemove:B,attachmentsUpdate:Q}}function cf(t){return{previous:t.previous,document:Mr(t.document)}}function BC(t){return atob(t).length}function jC(t){var e=t.data;if(!e)return t;var r={length:BC(e),digest:t.digest,type:t.type};return r}function Mr(t){if(!t._attachments||Object.keys(t._attachments).length===0)return t;var e=Et(t);return e._attachments={},Object.entries(t._attachments).forEach(([r,n])=>{e._attachments[r]=jC(n)}),e}function _o(t){return Object.assign({},t,{_meta:Et(t._meta)})}var Zv=new WeakMap;function Vc(t,e,r){It.deepFreezeWhenDevMode(r);var n=me(e.schema.primaryKey),o={originalStorageInstance:e,schema:e.schema,internals:e.internals,collectionName:e.collectionName,databaseName:e.databaseName,options:e.options,bulkWrite(i,s){for(var l=t.token,d=new Array(i.length),m=ee(),p=0;p<i.length;p++){var y=i[p],w=_o(y.document);w._meta.lwt=m;var k=y.previous;w._rev=ri(l,k),d[p]={document:w,previous:k}}return Qt("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),t.lockedRun(()=>e.bulkWrite(d,s)).then(N=>{var B={error:[]},Q=tr(n,d,N);Zv.set(B,Q);var J=N.error.length===0?[]:N.error.filter(tt=>tt.status===409&&!tt.writeRow.previous&&!tt.writeRow.document._deleted&&Rt(tt.documentInDb)._deleted?!0:(B.error.push(tt),!1));if(J.length>0){var nt=J.map(tt=>({previous:tt.documentInDb,document:Object.assign({},tt.writeRow.document,{_rev:ri(t.token,tt.documentInDb)})}));return t.lockedRun(()=>e.bulkWrite(nt,s)).then(tt=>{ur(B.error,tt.error);var kt=tr(n,nt,tt);return ur(Q,kt),B})}return B})},query(i){return t.lockedRun(()=>e.query(i))},count(i){return t.lockedRun(()=>e.count(i))},findDocumentsById(i,s){return t.lockedRun(()=>e.findDocumentsById(i,s))},getAttachmentData(i,s,l){return t.lockedRun(()=>e.getAttachmentData(i,s,l))},getChangedDocumentsSince:e.getChangedDocumentsSince?(i,s)=>t.lockedRun(()=>e.getChangedDocumentsSince(Rt(i),s)):void 0,cleanup(i){return t.lockedRun(()=>e.cleanup(i))},remove(){return t.storageInstances.delete(o),t.lockedRun(()=>e.remove())},close(){return t.storageInstances.delete(o),t.lockedRun(()=>e.close())},changeStream(){return e.changeStream()},conflictResultionTasks(){return e.conflictResultionTasks()},resolveConflictResultionTask(i){if(i.output.isEqual)return e.resolveConflictResultionTask(i);var s=Object.assign({},i.output.documentData,{_meta:On(),_rev:Yr(),_attachments:{}}),l=Et(s);return delete l._meta,delete l._rev,delete l._attachments,e.resolveConflictResultionTask({id:i.id,output:{isEqual:!1,documentData:l}})}};return t.storageInstances.add(o),o}function Jv(t){if(t.schema.keyCompression)throw L("UT5",{args:{params:t}});if(UC(t.schema))throw L("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw L("UT7",{args:{params:t}})}function UC(t){return!!(t.encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)}function tr(t,e,r){var n=Zv.get(r);if(n)return n;var o=[];if(r.error.length>0){for(var i=new Set,s=0;s<r.error.length;s++){var l=r.error[s];i.add(l.documentId)}for(var d=0;d<e.length;d++){var m=e[d].document;i.has(m[t])||o.push(Mr(m))}}else{o.length=e.length-r.error.length;for(var p=0;p<e.length;p++){var y=e[p].document;o[p]=Mr(y)}}return o}var ty=function(){function t(r,n,o,i){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=r,this.primaryPath=n,this.preWrite=o,this.postWrite=i}var e=t.prototype;return e.addWrite=function(n,o){var i=n[this.primaryPath],s=Ve(this.queueByDocId,i,()=>[]),l=new Promise((d,m)=>{var p={lastKnownDocumentState:n,modifier:o,resolve:d,reject:m};Rt(s).push(p),this.triggerRun()});return l},e.triggerRun=function(){return U(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],o=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(o.entries()).map(d=>U(this,[d],function*([s,l]){var m=zC(l.map(w=>w.lastKnownDocumentState)),p=m;for(var y of l)try{p=yield y.modifier(Ze(p))}catch(w){y.reject(w),y.reject=()=>{},y.resolve=()=>{}}try{yield this.preWrite(p,m)}catch(w){l.forEach(k=>k.reject(w));return}n.push({previous:m,document:p})})));var i=n.length>0?yield this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return yield Promise.all(tr(this.primaryPath,n,i).map(s=>{var l=s[this.primaryPath];this.postWrite(s);var d=An(o,l);d.forEach(m=>m.resolve(s))})),i.error.forEach(s=>{var l=s.documentId,d=An(o,l),m=rc(s);if(m){var p=Ve(this.queueByDocId,l,()=>[]);d.reverse().forEach(w=>{w.lastKnownDocumentState=Rt(m.documentInDb),Rt(p).unshift(w)})}else{var y=Sg(s);d.forEach(w=>w.reject(y))}}),this.isRunning=!1,this.triggerRun()}})},t}();function uf(t){var e=r=>U(this,null,function*(){var n=sg(r);n._deleted=r._deleted;var o=yield t(n),i=Object.assign({},o,{_meta:r._meta,_attachments:r._attachments,_rev:r._rev,_deleted:typeof o._deleted<"u"?o._deleted:r._deleted});return typeof i._deleted>"u"&&(i._deleted=!1),i});return e}function zC(t){var e=t[0],r=fo(e._rev);return t.forEach(n=>{var o=fo(n._rev);o>r&&(e=n,r=o)}),e}var $n={get primaryPath(){var t=this;if(t.isInstanceOfRxDocument)return t.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){var t=this;if(t.isInstanceOfRxDocument)return t._data._rev},get deleted$(){var t=this;if(t.isInstanceOfRxDocument)return t.$.pipe(lt(e=>e._data._deleted))},get deleted$$(){var t=this,e=t.collection.database.getReactivityFactory();return e.fromObservable(t.deleted$,t.getLatest().deleted,t.collection.database)},get deleted(){var t=this;if(t.isInstanceOfRxDocument)return t._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){var t=this;return t.collection.$.pipe(_t(e=>!e.isLocal),_t(e=>e.documentId===this.primary),lt(e=>kg(e)),ir(t.collection._docCache.getLatestDocumentData(this.primary)),No((e,r)=>e._rev===r._rev),lt(e=>this.collection._docCache.getCachedRxDocument(e)),zi(Js))},get $$(){var t=this,e=t.collection.database.getReactivityFactory();return e.fromObservable(t.$,t.getLatest()._data,t.collection.database)},get$(t){if(It.isDevMode()){if(t.includes(".item."))throw L("DOC1",{path:t});if(t===this.primaryPath)throw L("DOC2");if(this.collection.schema.finalFields.includes(t))throw L("DOC3",{path:t});var e=Me(this.collection.schema.jsonSchema,t);if(!e)throw L("DOC4",{path:t})}return this.$.pipe(lt(r=>Pe(r,t)),No())},get$$(t){var e=this.get$(t),r=this.collection.database.getReactivityFactory();return r.fromObservable(e,this.getLatest().get(t),this.collection.database)},populate(t){var e=Me(this.collection.schema.jsonSchema,t),r=this.get(t);if(!r)return hg;if(!e)throw L("DOC5",{path:t});if(!e.ref)throw L("DOC6",{path:t,schemaObj:e});var n=this.collection.database.collections[e.ref];if(!n)throw L("DOC7",{ref:e.ref,path:t,schemaObj:e});return e.type==="array"?n.findByIds(r).exec().then(o=>{var i=o.values();return Array.from(i)}):n.findOne(r).exec()},get(t){return ry(this,t)},toJSON(t=!1){if(t)return It.deepFreezeWhenDevMode(this._data);var e=Et(this._data);return delete e._rev,delete e._attachments,delete e._deleted,delete e._meta,It.deepFreezeWhenDevMode(e)},toMutableJSON(t=!1){return Ze(this.toJSON(t))},update(t){throw St("update")},incrementalUpdate(t){throw St("update")},updateCRDT(t){throw St("crdt")},putAttachment(){throw St("attachments")},getAttachment(){throw St("attachments")},allAttachments(){throw St("attachments")},get allAttachments$(){throw St("attachments")},modify(t,e){return U(this,null,function*(){var r=this._data,n=yield uf(t)(r);return this._saveData(n,r)})},incrementalModify(t,e){return this.collection.incrementalWriteQueue.addWrite(this._data,uf(t)).then(r=>this.collection._docCache.getCachedRxDocument(r))},patch(t){var e=this._data,r=Ze(e);return Object.entries(t).forEach(([n,o])=>{r[n]=o}),this._saveData(r,e)},incrementalPatch(t){return this.incrementalModify(e=>(Object.entries(t).forEach(([r,n])=>{e[r]=n}),e))},_saveData(t,e){return U(this,null,function*(){if(t=Et(t),this._data._deleted)throw L("DOC11",{id:this.primary,document:this});yield df(this.collection,t,e);var r=[{previous:e,document:t}],n=yield this.collection.storageInstance.bulkWrite(r,"rx-document-save-data"),o=n.error[0];return vi(this.collection,this.primary,t,o),yield this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument(tr(this.collection.schema.primaryPath,r,n)[0])})},remove(){var t=this.collection;if(this.deleted)return Promise.reject(L("DOC13",{document:this,id:this.primary}));var e=Et(this._data),r;return t._runHooks("pre","remove",e,this).then(()=>U(this,null,function*(){e._deleted=!0;var n=[{previous:this._data,document:e}],o=yield t.storageInstance.bulkWrite(n,"rx-document-remove"),i=o.error[0];return vi(t,this.primary,e,i),tr(this.collection.schema.primaryPath,n,o)[0]})).then(n=>(r=n,this.collection._runHooks("post","remove",e,this))).then(()=>this.collection._docCache.getCachedRxDocument(r))},incrementalRemove(){return this.incrementalModify(t=>U(this,null,function*(){return yield this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t})).then(t=>U(this,null,function*(){return yield this.collection._runHooks("post","remove",t._data,t),t}))},destroy(){throw L("DOC14")}};function qc(t=$n){var e=function(n,o){this.collection=n,this._data=o,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return e.prototype=t,e}function ey(t,e,r){var n=new t(e,r);return Qt("createRxDocument",n),n}function df(t,e,r){return e._meta=Object.assign({},r._meta,e._meta),It.isDevMode()&&t.schema.validateChange(r,e),t._runHooks("pre","save",e,r)}function ry(t,e){return Ve(t._propertyCache,e,()=>{var r=Pe(t._data,e);if(typeof r!="object"||r===null||Array.isArray(r))return It.deepFreezeWhenDevMode(r);var n=new Proxy(Et(r),{get(o,i){if(typeof i!="string")return o[i];var s=i.charAt(i.length-1);if(s==="$")if(i.endsWith("$$")){var l=i.slice(0,-2);return t.get$$(dr(e+"."+l))}else{var d=i.slice(0,-1);return t.get$(dr(e+"."+d))}else if(s==="_"){var m=i.slice(0,-1);return t.populate(dr(e+"."+m))}else{var p=o[i];return typeof p=="number"||typeof p=="string"||typeof p=="boolean"?p:ry(t,dr(e+"."+i))}}});return n})}var yi="collection",ff="storage-token",VC="rx-migration-status",qC="RxInternalDocument",Wc=oc({version:0,title:qC,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[yi,ff,VC,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Kc(t,e){return va(Wc,{key:t,context:e})}function Hc(t){return U(this,null,function*(){var e=ka(t.schema,{selector:{context:yi,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),r=yield t.query(e),n=r.documents;return n})}var ny="storageToken",WC=Kc(ny,ff);function oy(t){return U(this,null,function*(){var e=mo(10),r=t.password?yield t.hashFunction(JSON.stringify(t.password)):void 0,n={id:WC,context:ff,key:ny,data:{rxdbVersion:t.rxdbVersion,token:e,instanceToken:t.token,passwordHash:r},_deleted:!1,_meta:On(),_rev:Yr(),_attachments:{}},o=[{document:n}],i=yield t.internalStore.bulkWrite(o,"internal-add-storage-token");if(!i.error[0])return tr("id",o,i)[0];var s=Rt(i.error[0]);if(s.isError&&rc(s)){var l=s;if(!KC(l.documentInDb.data.rxdbVersion,t.rxdbVersion))throw L("DM5",{args:{database:t.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(r&&r!==l.documentInDb.data.passwordHash)throw L("DB1",{passwordHash:r,existingPasswordHash:l.documentInDb.data.passwordHash});var d=l.documentInDb;return Rt(d)}throw s})}function KC(t,e){if(!t||e.includes("beta")&&e!==t)return!1;var r=t.split(".")[0],n=e.split(".")[0];return r===n}function hf(t,e){return t+"-"+e.version}function Aa(t,e){return e=Et(e),e=Og(t,e),typeof t.jsonSchema.primaryKey!="string"&&(e=nc(t.primaryPath,t.jsonSchema,e)),e._meta=On(),Object.prototype.hasOwnProperty.call(e,"_deleted")||(e._deleted=!1),Object.prototype.hasOwnProperty.call(e,"_attachments")||(e._attachments={}),Object.prototype.hasOwnProperty.call(e,"_rev")||(e._rev=Yr()),e}function iy(t,e){return U(this,null,function*(){e.multiInstance=t.multiInstance;var r=yield t.storage.createStorageInstance(e);return r})}function Qc(t,e,r,n,o,i,s){return U(this,null,function*(){var l=yield Hc(e),d=l.filter(w=>w.data.name===o),m=[];d.forEach(w=>{m.push({collectionName:w.data.name,schema:w.data.schema,isCollection:!0}),w.data.connectedStorages.forEach(k=>m.push({collectionName:k.collectionName,isCollection:!1,schema:k.schema}))});var p=new Set;if(m=m.filter(w=>{var k=w.collectionName+"||"+w.schema.version;return p.has(k)?!1:(p.add(k),!0)}),yield Promise.all(m.map(w=>U(this,null,function*(){var k=yield t.createStorageInstance({collectionName:w.collectionName,databaseInstanceToken:r,databaseName:n,multiInstance:!1,options:{},schema:w.schema,password:i,devMode:It.isDevMode()});yield k.remove(),w.isCollection&&(yield Mn("postRemoveRxCollection",{storage:t,databaseName:n,collectionName:o}))}))),s){var y=d.map(w=>{var k=_o(w);return k._deleted=!0,k._meta.lwt=ee(),k._rev=ri(r,w),{previous:w,document:k}});yield e.bulkWrite(y,"rx-database-remove-collection-all")}})}function He(t){if(t.destroyed)throw L("COL21",{collection:t.name,version:t.schema.version})}var HC=function(){function t(r){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=r,this.subs.push(this.collection.database.eventBulks$.pipe(_t(n=>n.collectionName===this.collection.name),_t(n=>{var o=n.events[0];return!o.isLocal})).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&ai().then(()=>{this.processTasks()})}))}var e=t.prototype;return e.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(o=>o()),this.tasks.clear()}},e._handleChangeEvents=function(n){var o=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(ur(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var i=o+1,s=this.eventCounterMap,l=0;l<n.length;l++){var d=n[l];s.set(d,i+l)}},e.getCounter=function(){return this.processTasks(),this.counter},e.getBuffer=function(){return this.processTasks(),this.buffer},e.getArrayIndexByPointer=function(n){this.processTasks();var o=this.buffer[0],i=this.eventCounterMap.get(o);if(n<i)return null;var s=n-i;return s},e.getFrom=function(n){this.processTasks();var o=[],i=this.getArrayIndexByPointer(n);if(i===null)return null;for(;;){var s=this.buffer[i];if(i++,s)o.push(s);else return o}},e.runFrom=function(n,o){this.processTasks();var i=this.getFrom(n);if(i===null)throw new Error("out of bounds");i.forEach(s=>o(s))},e.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0);var o={};return n.forEach(i=>{o[i.documentId]=i}),Object.values(o)},e.destroy=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},t}();function ay(t){return new HC(t)}var QC=new WeakMap;function YC(t){var e=t.schema.getDocumentPrototype(),r=GC(t),n=$n,o={};return[e,r,n].forEach(i=>{var s=Object.getOwnPropertyNames(i);s.forEach(l=>{var d=Object.getOwnPropertyDescriptor(i,l),m=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(m=!1),typeof d.value=="function"?Object.defineProperty(o,l,{get(){return d.value.bind(this)},enumerable:m,configurable:!1}):(d.enumerable=m,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(o,l,d))})}),o}function sy(t){return Ve(QC,t,()=>qc(YC(t)))}function cy(t,e,r){var n=ey(e,t,It.deepFreezeWhenDevMode(r));return t._runHooksSync("post","create",r,n),Qt("postCreateRxDocument",n),n}function GC(t){var e={};return Object.entries(t.methods).forEach(([r,n])=>{e[r]=n}),e}var mf=function(t,e){var r=Mr(t.newDocumentState),n=Mr(t.realMasterState);return kn(r,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:t.realMasterState})};function Yc(t){var e=t.collection.schema.jsonSchema;if(!e.attachments)throw L("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function ly(t){Object.entries(t.doc.collection.attachments).forEach(([e,r])=>{Object.defineProperty(t,e,{get:()=>r.bind(t)})})}var XC=function(){function t({doc:r,id:n,type:o,length:i,digest:s}){this.doc=r,this.id=n,this.type=o,this.length=i,this.digest=s,ly(this)}var e=t.prototype;return e.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,n=>(delete n._attachments[this.id],n)).then(()=>{})},e.getData=function(){return U(this,null,function*(){var n=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),o=yield eg(n,this.type);return o})},e.getStringData=function(){return U(this,null,function*(){var n=yield this.getData(),o=yield rg(n);return o})},t}();function Gc(t,e,r){return new XC({doc:r,id:t,type:e.type,length:e.length,digest:e.digest})}function ZC(t){return U(this,null,function*(){Yc(this);var e=og(t.data),r=yield ng(t.data),n=yield this.collection.database.hashFunction(r),o=t.id,i=t.type,s=r;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=Et(l),l._attachments=Et(l._attachments),l._attachments[o]={length:e,type:i,data:s,digest:n},l)).then(l=>{var d=this.collection._docCache.getCachedRxDocument(l),m=l._attachments[o],p=Gc(o,m,d);return p})})}function JC(t){Yc(this);var e=this._data;if(!e._attachments||!e._attachments[t])return null;var r=e._attachments[t],n=Gc(t,r,this);return n}function tS(){Yc(this);var t=this._data;return t._attachments?Object.keys(t._attachments).map(e=>Gc(e,t._attachments[e],this)):[]}function eS(t){return U(this,null,function*(){var e=t.docData._attachments;if(e){var r={};yield Promise.all(Object.keys(e).map(n=>U(this,null,function*(){var o=e[n],i=t.docData[t.oldCollection.schema.primaryPath],s=yield t.oldCollection.storageInstance.getAttachmentData(i,n,o.digest),l=yield t.oldCollection.database.hashFunction(s);r[n]={length:o.length,type:o.type,data:s,digest:l}}))),t.docData._attachments=r}})}function rS(t){return En}var uy={name:"attachments",rxdb:!0,prototypes:{RxDocument:t=>{t.putAttachment=ZC,t.getAttachment=JC,t.allAttachments=tS,Object.defineProperty(t,"allAttachments$",{get:function(){return this.$.pipe(lt(r=>Object.entries(r.toJSON(!0)._attachments)),lt(r=>r.map(([n,o])=>Gc(n,o,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:eS},postMigrateDocument:{after:rS}}};var fy=["pre","post"],hy=["insert","save","remove","create"],dy=!1,Ia=function(){function t(r,n,o,i,s={},l={},d={},m={},p={},y=of,w={},k=mf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=qv(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=r,this.name=n,this.schema=o,this.internalStorageInstance=i,this.instanceCreationOptions=s,this.migrationStrategies=l,this.methods=d,this.attachments=m,this.options=p,this.cacheReplacementPolicy=y,this.statics=w,this.conflictHandler=k,nS(this.asRxCollection)}var e=t.prototype;return e.prepare=function(){return U(this,null,function*(){this.storageInstance=Vc(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new ty(this.storageInstance,this.schema.primaryPath,(d,m)=>df(this,d,m),d=>this._runHooks("post","save",d));var n=this.database.eventBulks$.pipe(_t(d=>d.collectionName===this.name));this.$=n.pipe(Kt(d=>d.events)),this.checkpoint$=n.pipe(lt(d=>d.checkpoint)),this._changeEventBuffer=ay(this.asRxCollection);var o;this._docCache=new Hv(this.schema.primaryPath,this.database.eventBulks$.pipe(_t(d=>d.collectionName===this.name&&!d.events[0].isLocal),lt(d=>d.events)),d=>(o||(o=sy(this.asRxCollection)),cy(this.asRxCollection,o,d)));var i=this.database.internalStore.changeStream().pipe(_t(d=>{var m=this.name+"-"+this.schema.version,p=d.events.find(y=>y.documentData.context==="collection"&&y.documentData.key===m&&y.operation==="DELETE");return!!p})).subscribe(()=>U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(i);var s=yield this.database.storageToken,l=this.storageInstance.changeStream().subscribe(d=>{for(var m=new Array(d.events.length),p=d.events,y=this.name,w=It.deepFreezeWhenDevMode,k=0;k<p.length;k++){var N=p[k];m[k]={documentId:N.documentId,collectionName:y,isLocal:!1,operation:N.operation,documentData:w(N.documentData),previousDocumentData:w(N.previousDocumentData)}}var B={id:d.id,internal:!1,collectionName:this.name,storageToken:s,events:m,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit(B)});return this._subs.push(l),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(m=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:m})})})),En})},e.cleanup=function(n){throw He(this),St("cleanup")},e.migrationNeeded=function(){throw St("migration-schema")},e.getMigrationState=function(){throw St("migration-schema")},e.startMigration=function(n=10){return He(this),this.getMigrationState().startMigration(n)},e.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},e.insert=function(n){return U(this,null,function*(){He(this);var o=yield this.bulkInsert([n]),i=o.error[0];vi(this,n[this.schema.primaryPath],n,i);var s=Rt(o.success[0]);return s})},e.bulkInsert=function(n){return U(this,null,function*(){if(He(this),n.length===0)return{success:[],error:[]};var o=this.schema.primaryPath,i=new Set,s;if(this.hasHooks("pre","insert"))s=yield Promise.all(n.map(Q=>{var J=Aa(this.schema,Q);return this._runHooks("pre","insert",J).then(()=>(i.add(J[o]),{document:J}))}));else{s=new Array(n.length);for(var l=this.schema,d=0;d<n.length;d++){var m=n[d],p=Aa(l,m);i.add(p[o]),s[d]={document:p}}}if(i.size!==n.length)throw L("COL22",{collection:this.name,args:{documents:n}});var y=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),w,k=this,N={get success(){if(!w){var Q=tr(k.schema.primaryPath,s,y);w=zc(k._docCache,Q)}return w},error:y.error};if(this.hasHooks("post","insert")){var B=new Map;s.forEach(Q=>{var J=Q.document;B.set(J[o],J)}),yield Promise.all(N.success.map(Q=>this._runHooks("post","insert",B.get(Q.primary),Q)))}return N})},e.bulkRemove=function(n){return U(this,null,function*(){He(this);var o=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var i=yield this.findByIds(n).exec(),s=[],l=new Map;Array.from(i.values()).forEach(k=>{var N=k.toMutableJSON(!0);s.push(N),l.set(k.primary,N)}),yield Promise.all(s.map(k=>{var N=k[this.schema.primaryPath];return this._runHooks("pre","remove",k,i.get(N))}));var d=s.map(k=>{var N=Et(k);return N._deleted=!0,{previous:k,document:N}}),m=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),p=tr(this.schema.primaryPath,d,m),y=p.map(k=>k[o]);yield Promise.all(y.map(k=>this._runHooks("post","remove",l.get(k),i.get(k))));var w=y.map(k=>An(i,k));return{success:w,error:m.error}})},e.bulkUpsert=function(n){return U(this,null,function*(){He(this);var o=[],i=new Map;n.forEach(m=>{var p=Aa(this.schema,m),y=p[this.schema.primaryPath];if(!y)throw L("COL3",{primaryPath:this.schema.primaryPath,data:p,schema:this.schema.jsonSchema});i.set(y,p),o.push(p)});var s=yield this.bulkInsert(o),l=s.success.slice(0),d=[];return yield Promise.all(s.error.map(m=>U(this,null,function*(){if(m.status!==409)d.push(m);else{var p=m.documentId,y=An(i,p),w=Rt(m.documentInDb),k=this._docCache.getCachedRxDocuments([w])[0],N=yield k.incrementalModify(()=>y);l.push(N)}}))),{error:d,success:l}})},e.upsert=function(n){return U(this,null,function*(){He(this);var o=yield this.bulkUpsert([n]);return vi(this.asRxCollection,n[this.schema.primaryPath],n,o.error[0]),o.success[0]})},e.incrementalUpsert=function(n){He(this);var o=Aa(this.schema,n),i=o[this.schema.primaryPath];if(!i)throw L("COL4",{data:n});var s=this._incrementalUpsertQueues.get(i);return s||(s=En),s=s.then(()=>iS(this,i,o)).then(l=>l.inserted?l.doc:oS(l.doc,o)),this._incrementalUpsertQueues.set(i,s),s},e.find=function(n){if(He(this),typeof n=="string")throw L("COL5",{queryObj:n});n||(n=Ea());var o=gi("find",n,this);return o},e.findOne=function(n){if(He(this),typeof n=="number"||Array.isArray(n))throw se("COL6",{queryObj:n});var o;if(typeof n=="string")o=gi("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=Ea()),n.limit)throw L("QU6");n=Et(n),n.limit=1,o=gi("findOne",n,this)}return o},e.count=function(n){He(this),n||(n=Ea());var o=gi("count",n,this);return o},e.findByIds=function(n){He(this);var o={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},i=gi("findByIds",o,this);return i},e.exportJSON=function(){throw St("json-dump")},e.importJSON=function(n){throw St("json-dump")},e.insertCRDT=function(n){throw St("crdt")},e.addPipeline=function(n){throw St("pipeline")},e.addHook=function(n,o,i,s=!1){if(typeof i!="function")throw se("COL7",{key:o,when:n});if(!fy.includes(n))throw se("COL8",{key:o,when:n});if(!hy.includes(o))throw L("COL9",{key:o});if(n==="post"&&o==="create"&&s===!0)throw L("COL10",{when:n,key:o,parallel:s});var l=i.bind(this),d=s?"parallel":"series";this.hooks[o]=this.hooks[o]||{},this.hooks[o][n]=this.hooks[o][n]||{series:[],parallel:[]},this.hooks[o][n][d].push(l)},e.getHooks=function(n,o){return!this.hooks[o]||!this.hooks[o][n]?{series:[],parallel:[]}:this.hooks[o][n]},e.hasHooks=function(n,o){if(!this.hooks[o]||!this.hooks[o][n])return!1;var i=this.getHooks(n,o);return i?i.series.length>0||i.parallel.length>0:!1},e._runHooks=function(n,o,i,s){var l=this.getHooks(n,o);if(!l)return En;var d=l.series.map(m=>()=>m(i,s));return pg(d).then(()=>Promise.all(l.parallel.map(m=>m(i,s))))},e._runHooksSync=function(n,o,i,s){if(this.hasHooks(n,o)){var l=this.getHooks(n,o);l&&l.series.forEach(d=>d(i,s))}},e.promiseWait=function(n){var o=new Promise(i=>{var s=setTimeout(()=>{this.timeouts.delete(s),i()},n);this.timeouts.add(s)});return o},e.destroy=function(){return U(this,null,function*(){return this.destroyed?kr:(yield Promise.all(this.onDestroy.map(n=>n())),this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Mn("postDestroyRxCollection",this).then(()=>!0))))})},e.remove=function(){return U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(n=>n())),yield Qc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},De(t,[{key:"insert$",get:function(){return this.$.pipe(_t(r=>r.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(_t(r=>r.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(_t(r=>r.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function nS(t){if(!dy){dy=!0;var e=Object.getPrototypeOf(t);hy.forEach(r=>{fy.map(n=>{var o=n+Zs(r);e[o]=function(i,s){return this.addHook(n,r,i,s)}})})}}function oS(t,e){return t.incrementalModify(r=>e)}function iS(t,e,r){var n=t._docCache.getLatestDocumentDataIfExists(e);return n?Promise.resolve({doc:t._docCache.getCachedRxDocuments([n])[0],inserted:!1}):t.findOne(e).exec().then(o=>o?{doc:o,inserted:!1}:t.insert(r).then(i=>({doc:i,inserted:!0})))}function my({database:t,name:e,schema:r,instanceCreationOptions:n={},migrationStrategies:o={},autoMigrate:i=!0,statics:s={},methods:l={},attachments:d={},options:m={},localDocuments:p=!1,cacheReplacementPolicy:y=of,conflictHandler:w=mf}){var k={databaseInstanceToken:t.token,databaseName:t.name,collectionName:e,schema:r.jsonSchema,options:n,multiInstance:t.multiInstance,password:t.password,devMode:It.isDevMode()};return Qt("preCreateRxStorageInstance",k),iy(t,k).then(N=>{var B=new Ia(t,e,r,N,n,o,l,d,m,y,s,w);return B.prepare().then(()=>{Object.entries(s).forEach(([J,nt])=>{Object.defineProperty(B,J,{get:()=>nt.bind(B)})});var Q=En;return i&&B.schema.version!==0&&(Q=B.migratePromise()),Q}).then(()=>(Qt("createRxCollection",{collection:B,creator:{name:e,schema:r,storageInstance:N,instanceCreationOptions:n,migrationStrategies:o,methods:l,attachments:d,options:m,cacheReplacementPolicy:y,localDocuments:p,statics:s}}),B)).catch(Q=>N.close().then(()=>Promise.reject(Q)))})}var vf=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=e||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};vf.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,gf(this)},wrapCall:function(e){var r=this;this.lock();var n;try{n=e()}catch(o){throw this.unlock(),o}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(o){return r.unlock(),o}).catch(function(o){throw r.unlock(),o})},requestIdlePromise:function(e){var r=this;e=e||{};var n,o=new Promise(function(l){return n=l}),i=function(){pf(r,o),n()};if(o._manRes=i,e.timeout){var s=setTimeout(function(){o._manRes()},e.timeout);o._timeoutObj=s}return this._iC.add(o),gf(this),o},cancelIdlePromise:function(e){pf(this,e)},requestIdleCallback:function(e,r){var n=this._lHN++,o=this.requestIdlePromise(r);return this._hPM.set(n,o),this._pHM.set(o,n),o.then(function(){return e()}),n},cancelIdleCallback:function(e){var r=this._hPM.get(e);this.cancelIdlePromise(r)},clear:function(){var e=this;this._iC.forEach(function(r){return pf(e,r)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function aS(t){if(t._iC.size!==0){var e=t._iC.values(),r=e.next().value;r._manRes(),setTimeout(function(){return gf(t)},0)}}function pf(t,e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),t._pHM.has(e)){var r=t._pHM.get(e);t._hPM.delete(r),t._pHM.delete(e)}t._iC.delete(e)}}function gf(t){t._tryIR||t._iC.size===0||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}aS(t),t._tryIR=!1},0)},0))}var Fn=class{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,py()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,sS(this)},0))}clear(){this.map.clear()}};function sS(t){let e=py()-t.ttl,r=t.map[Symbol.iterator]();for(;;){let n=r.next().value;if(!n)return;let o=n[0];if(n[1]<e)t.map.delete(o);else return}}function py(){return Date.now()}var Xc=new Set,gy=0,Pa=function(){function t(r,n,o,i,s,l,d=!1,m={},p,y,w,k,N){this.idleQueue=new vf,this.rxdbVersion=po,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new at,this.observable$=this.eventBulks$.pipe(Kt(B=>B.events)),this.storageToken=kr,this.storageTokenDocument=kr,this.emittedEventBulkIds=new Fn(60*1e3),this.name=r,this.token=n,this.storage=o,this.instanceCreationOptions=i,this.password=s,this.multiInstance=l,this.eventReduce=d,this.options=m,this.internalStore=p,this.hashFunction=y,this.cleanupPolicy=w,this.allowSlowCount=k,this.reactivity=N,gy++,this.name!=="pseudoInstance"&&(this.internalStore=Vc(this.asRxDatabase,p,Wc),this.storageTokenDocument=oy(this.asRxDatabase).catch(B=>this.startupErrors.push(B)),this.storageToken=this.storageTokenDocument.then(B=>B.data.token).catch(B=>this.startupErrors.push(B)))}var e=t.prototype;return e.getReactivityFactory=function(){if(!this.reactivity)throw L("DB14",{database:this.name});return this.reactivity},e.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},e.removeCollectionDoc=function(n,o){return U(this,null,function*(){var i=yield lf(this.internalStore,Kc(hf(n,o),yi));if(!i)throw L("SNH",{name:n,schema:o});var s=_o(i);s._deleted=!0,yield this.internalStore.bulkWrite([{document:s,previous:i}],"rx-database-remove-collection")})},e.addCollections=function(n){return U(this,null,function*(){var o={},i={},s=[],l={};yield Promise.all(Object.entries(n).map(w=>U(this,[w],function*([p,y]){var k=p,N=y.schema;o[k]=N;var B=Eg(N,this.hashFunction);if(i[k]=B,this.collections[p])throw L("DB3",{name:p});var Q=hf(p,N),J={id:Kc(Q,yi),key:Q,context:yi,data:{name:k,schemaHash:yield B.hash,schema:B.jsonSchema,version:B.version,connectedStorages:[]},_deleted:!1,_meta:On(),_rev:Yr(),_attachments:{}};s.push({document:J});var nt=Object.assign({},y,{name:k,schema:B,database:this}),tt=Et(y);tt.database=this,tt.name=p,Qt("preCreateRxCollection",tt),nt.conflictHandler=tt.conflictHandler,l[k]=nt})));var d=yield this.internalStore.bulkWrite(s,"rx-database-add-collection");yield uS(this),yield Promise.all(d.error.map(p=>U(this,null,function*(){if(p.status!==409)throw L("DB12",{database:this.name,writeError:p});var y=Rt(p.documentInDb),w=y.data.name,k=i[w];if(y.data.schemaHash!==(yield k.hash))throw L("DB6",{database:this.name,collection:w,previousSchemaHash:y.data.schemaHash,schemaHash:yield k.hash,previousSchema:y.data.schema,schema:Rt(o[w])})})));var m={};return yield Promise.all(Object.keys(n).map(p=>U(this,null,function*(){var y=l[p],w=yield my(y);m[p]=w,this.collections[p]=w,this[p]||Object.defineProperty(this,p,{get:()=>this.collections[p]})}))),m})},e.lockedRun=function(n){return this.idleQueue.wrapCall(n)},e.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},e.exportJSON=function(n){throw St("json-dump")},e.addState=function(n){throw St("state")},e.importJSON=function(n){throw St("json-dump")},e.backup=function(n){throw St("backup")},e.leaderElector=function(){throw St("leader-election")},e.isLeader=function(){throw St("leader-election")},e.waitForLeadership=function(){throw St("leader-election")},e.migrationStates=function(){throw St("migration-schema")},e.destroy=function(){return U(this,null,function*(){return this.destroyed?kr:(this.destroyed=!0,yield Mn("preDestroyRxDatabase",this),this.eventBulks$.complete(),gy--,this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance"?kr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>Xc.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},e.remove=function(){return this.destroy().then(()=>lS(this.name,this.storage,this.password))},De(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function cS(t,e){var r=e.name+"|"+t;if(Xc.has(r))throw L("DB8",{name:t,storage:e.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function vy(t,e,r,n,o,i){return U(this,null,function*(){var s=yield e.createStorageInstance({databaseInstanceToken:t,databaseName:r,collectionName:Gv,schema:Wc,options:n,multiInstance:o,password:i,devMode:It.isDevMode()});return s})}function yy({storage:t,instanceCreationOptions:e,name:r,password:n,multiInstance:o=!0,eventReduce:i=!0,ignoreDuplicate:s=!1,options:l={},cleanupPolicy:d,allowSlowCount:m=!1,localDocuments:p=!1,hashFunction:y=ii,reactivity:w}){Qt("preCreateRxDatabase",{storage:t,instanceCreationOptions:e,name:r,password:n,multiInstance:o,eventReduce:i,ignoreDuplicate:s,options:l,localDocuments:p}),s||cS(r,t),Xc.add(t.name+"|"+r);var k=mo(10);return vy(k,t,r,e,o,n).catch(N=>{throw Xc.delete(t.name+"|"+r),N}).then(N=>{var B=new Pa(r,k,t,e,n,o,i,l,N,y,d,m,w);return Mn("createRxDatabase",{database:B,creator:{storage:t,instanceCreationOptions:e,name:r,password:n,multiInstance:o,eventReduce:i,ignoreDuplicate:s,options:l,localDocuments:p}}).then(()=>B)})}function lS(t,e,r){return U(this,null,function*(){var n=mo(10),o=yield vy(n,e,t,{},!1,r),i=yield Hc(o),s=new Set;i.forEach(d=>s.add(d.data.name));var l=Array.from(s);return yield Promise.all(l.map(d=>Qc(e,o,n,t,d,r))),yield Mn("postRemoveRxDatabase",{databaseName:t,storage:e}),yield o.remove(),l})}function uS(t){return U(this,null,function*(){if(yield t.storageToken,t.startupErrors[0])throw t.startupErrors[0]})}var dS={RxSchema:wd.prototype,RxDocument:$n,RxQuery:sf.prototype,RxCollection:Ia.prototype,RxDatabase:Pa.prototype},yf=new Set,by=new Set;function Zc(t){if(Qt("preAddRxPlugin",{plugin:t,plugins:yf}),!yf.has(t)){{if(by.has(t.name))throw L("PL3",{name:t.name,plugin:t});yf.add(t),by.add(t.name)}if(!t.rxdb)throw se("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([e,r])=>r(dS[e])),t.overwritable&&Object.assign(It,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([e,r])=>{r.after&&si[e].push(r.after),r.before&&si[e].unshift(r.before)})}}function _y(t){return t&&typeof t.then=="function"}var fS=Promise.resolve(!1),eH=Promise.resolve(!0),Tr=Promise.resolve();function Jc(t,e){return t||(t=0),new Promise(function(r){return setTimeout(function(){return r(e)},t)})}function xy(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function Ma(){return Math.random().toString(36).substring(2)}var bf=0;function Jr(){var t=Date.now()*1e3;return t<=bf&&(t=bf+1),bf=t,t}var hS=Jr,mS="native";function pS(t){var e={time:Jr(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(r){e.messagesCallback&&e.messagesCallback(r.data)},e}function gS(t){t.bc.close(),t.subFns=[]}function vS(t,e){try{return t.bc.postMessage(e,!1),Tr}catch(r){return Promise.reject(r)}}function yS(t,e){t.messagesCallback=e}function bS(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function _S(){return 150}var wy={create:pS,close:gS,onMessage:yS,postMessage:vS,canBeUsed:bS,type:mS,averageResponseTime:_S,microSeconds:hS};function bi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var xS=Jr,wS="pubkey.broadcast-channel-0-",tn="messages",tl={durability:"relaxed"},CS="idb";function Cy(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function _f(t){t.commit&&t.commit()}function SS(t){var e=Cy(),r=wS+t,n=e.open(r);return n.onupgradeneeded=function(o){var i=o.target.result;i.createObjectStore(tn,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,i){n.onerror=function(s){return i(s)},n.onsuccess=function(){o(n.result)}})}function RS(t,e,r){var n=Date.now(),o={uuid:e,time:n,data:r},i=t.transaction([tn],"readwrite",tl);return new Promise(function(s,l){i.oncomplete=function(){return s()},i.onerror=function(m){return l(m)};var d=i.objectStore(tn);d.add(o),_f(i)})}function OS(t,e){var r=t.transaction(tn,"readonly",tl),n=r.objectStore(tn),o=[],i=IDBKeyRange.bound(e+1,1/0);if(n.getAll){var s=n.getAll(i);return new Promise(function(d,m){s.onerror=function(p){return m(p)},s.onsuccess=function(p){d(p.target.result)}})}function l(){try{return i=IDBKeyRange.bound(e+1,1/0),n.openCursor(i)}catch{return n.openCursor()}}return new Promise(function(d,m){var p=l();p.onerror=function(y){return m(y)},p.onsuccess=function(y){var w=y.target.result;w?w.value.id<e+1?w.continue(e+1):(o.push(w.value),w.continue()):(_f(r),d(o))}})}function DS(t,e){if(t.closed)return Promise.resolve([]);var r=t.db.transaction(tn,"readwrite",tl),n=r.objectStore(tn);return Promise.all(e.map(function(o){var i=n.delete(o);return new Promise(function(s){i.onsuccess=function(){return s()}})}))}function ES(t,e){var r=Date.now()-e,n=t.transaction(tn,"readonly",tl),o=n.objectStore(tn),i=[];return new Promise(function(s){o.openCursor().onsuccess=function(l){var d=l.target.result;if(d){var m=d.value;m.time<r?(i.push(m),d.continue()):(_f(n),s(i))}else s(i)}})}function kS(t){return ES(t.db,t.options.idb.ttl).then(function(e){return DS(t,e.map(function(r){return r.id}))})}function AS(t,e){return e=bi(e),SS(t).then(function(r){var n={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:Ma(),eMIs:new Fn(e.idb.ttl*2),writeBlockPromise:Tr,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,e.idb.onclose&&e.idb.onclose()},Sy(n),n})}function Sy(t){t.closed||Ry(t).then(function(){return Jc(t.options.idb.fallbackInterval)}).then(function(){return Sy(t)})}function IS(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function Ry(t){return t.closed?Tr:t.messagesCallback?OS(t.db,t.lastCursorId).then(function(e){var r=e.filter(function(n){return!!n}).map(function(n){return n.id>t.lastCursorId&&(t.lastCursorId=n.id),n}).filter(function(n){return IS(n,t)}).sort(function(n,o){return n.time-o.time});return r.forEach(function(n){t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),Tr}):Tr}function PS(t){t.closed=!0,t.db.close()}function MS(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return RS(t.db,t.uuid,e)}).then(function(){xy(0,10)===0&&kS(t)}),t.writeBlockPromise}function TS(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e,Ry(t)}function NS(){return!!Cy()}function LS(t){return t.idb.fallbackInterval*2}var Oy={create:AS,close:PS,onMessage:TS,postMessage:MS,canBeUsed:NS,type:CS,averageResponseTime:LS,microSeconds:xS};var $S=Jr,FS="pubkey.broadcastChannel-",BS="localstorage";function Dy(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Ey(t){return FS+t}function jS(t,e){return new Promise(function(r){Jc().then(function(){var n=Ey(t.channelName),o={token:Ma(),time:Date.now(),data:e,uuid:t.uuid},i=JSON.stringify(o);Dy().setItem(n,i);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=n,s.newValue=i,window.dispatchEvent(s),r()})})}function US(t,e){var r=Ey(t),n=function(i){i.key===r&&e(JSON.parse(i.newValue))};return window.addEventListener("storage",n),n}function zS(t){window.removeEventListener("storage",t)}function VS(t,e){if(e=bi(e),!ky())throw new Error("BroadcastChannel: localstorage cannot be used");var r=Ma(),n=new Fn(e.localstorage.removeTimeout),o={channelName:t,uuid:r,eMIs:n};return o.listener=US(t,function(i){o.messagesCallback&&i.uuid!==r&&(!i.token||n.has(i.token)||i.data.time&&i.data.time<o.messagesCallbackTime||(n.add(i.token),o.messagesCallback(i.data)))}),o}function qS(t){zS(t.listener)}function WS(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e}function ky(){var t=Dy();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function KS(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var Ay={create:VS,close:qS,onMessage:WS,postMessage:jS,canBeUsed:ky,type:BS,averageResponseTime:KS,microSeconds:$S};var Iy=Jr,HS="simulate",xf=new Set;function QS(t){var e={time:Iy(),name:t,messagesCallback:null};return xf.add(e),e}function YS(t){xf.delete(t)}var Py=5;function GS(t,e){return new Promise(function(r){return setTimeout(function(){var n=Array.from(xf);n.forEach(function(o){o.name===t.name&&o!==t&&o.messagesCallback&&o.time<e.time&&o.messagesCallback(e)}),r()},Py)})}function XS(t,e){t.messagesCallback=e}function ZS(){return!0}function JS(){return Py}var My={create:QS,close:YS,onMessage:XS,postMessage:GS,canBeUsed:ZS,type:HS,averageResponseTime:JS,microSeconds:Iy};var Ty=[wy,Oy,Ay];function Ny(t){var e=[].concat(t.methods,Ty).filter(Boolean);if(t.type){if(t.type==="simulate")return My;var r=e.find(function(o){return o.type===t.type});if(r)return r;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(o){return o.type!=="idb"}));var n=e.find(function(o){return o.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(Ty.map(function(o){return o.type})))}var wf=new Set,tR=0,Ta=function(e,r){this.id=tR++,wf.add(this),this.name=e,Ly&&(r=Ly),this.options=bi(r),this.method=Ny(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,eR(this)};Ta._pubkey=!0;var Ly;Ta.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return $y(this,"message",e)},postInternal:function(e){return $y(this,"internal",e)},set onmessage(t){var e=this.method.microSeconds(),r={time:e,fn:t};By(this,"message",this._onML),t&&typeof t=="function"?(this._onML=r,Fy(this,"message",r)):this._onML=null},addEventListener:function(e,r){var n=this.method.microSeconds(),o={time:n,fn:r};Fy(this,e,o)},removeEventListener:function(e,r){var n=this._addEL[e].find(function(o){return o.fn===r});By(this,e,n)},close:function(){var e=this;if(!this.closed){wf.delete(this),this.closed=!0;var r=this._prepP?this._prepP:Tr;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(n){return n()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function $y(t,e,r){var n=t.method.microSeconds(),o={time:n,type:e,data:r},i=t._prepP?t._prepP:Tr;return i.then(function(){var s=t.method.postMessage(t._state,o);return t._uMP.add(s),s.catch().then(function(){return t._uMP.delete(s)}),s})}function eR(t){var e=t.method.create(t.name,t.options);_y(e)?(t._prepP=e,e.then(function(r){t._state=r})):t._state=e}function jy(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function Fy(t,e,r){t._addEL[e].push(r),rR(t)}function By(t,e,r){t._addEL[e]=t._addEL[e].filter(function(n){return n!==r}),nR(t)}function rR(t){if(!t._iL&&jy(t)){var e=function(o){t._addEL[o.type].forEach(function(i){o.time>=i.time&&i.fn(o.data)})},r=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,r)}):(t._iL=!0,t.method.onMessage(t._state,e,r))}}function nR(t){if(t._iL&&!jy(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}var el=new Map;function oR(t,e,r,n){var o=el.get(e);return o||(o={bc:new Ta(["RxDB:",t,r].join("|")),refs:new Set},el.set(e,o)),o.refs.add(n),o.bc}function Uy(t,e){var r=el.get(t);if(r&&(r.refs.delete(e),r.refs.size===0))return el.delete(t),r.bc.close()}function zy(t,e,r,n){if(e.multiInstance){var o=n||oR(t,e.databaseInstanceToken,r.databaseName,r),i=new at,s=w=>{w.storageName===t&&w.databaseName===e.databaseName&&w.collectionName===e.collectionName&&w.version===e.schema.version&&i.next(w.eventBulk)};o.addEventListener("message",s);var l=r.changeStream(),d=!1,m=l.subscribe(w=>{d||o.postMessage({storageName:t,databaseName:e.databaseName,collectionName:e.collectionName,version:e.schema.version,eventBulk:w})});r.changeStream=function(){return i.asObservable().pipe(Kh(l))};var p=r.close.bind(r);r.close=function(){return U(this,null,function*(){return d=!0,m.unsubscribe(),o.removeEventListener("message",s),n||(yield Uy(e.databaseInstanceToken,r)),p()})};var y=r.remove.bind(r);r.remove=function(){return U(this,null,function*(){return d=!0,m.unsubscribe(),o.removeEventListener("message",s),n||(yield Uy(e.databaseInstanceToken,r)),y()})}}}var Cf={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",QU18:"Malformated query result data. This likely happens because you create a OPFS-storage RxDatabase inside of a worker but did not set the usesRxDatabaseInWorker setting. https://rxdb.info/rx-storage-opfs.html#setting-usesrxdatabaseinworker-when-a-rxdatabase-is-also-used-inside-of-the-worker ",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",COL22:".bulkInsert() and .bulkUpsert() cannot be run with multiple documents that have the same primary key",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var Sf;function Vy(){if(!Sf){var t=new Ia,e=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Sf=[...e,...r]}return Sf}var Rf;function qy(){if(!Rf){var t=new Pa("pseudoInstance","memory"),e=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Rf=[...e,...r],t.destroy()}return Rf}var iR=qc($n),aR=new iR,Of;function rl(){if(!Of){var t=["deleted","synced"],e=Object.getOwnPropertyNames(aR),r=Object.getOwnPropertyNames($n);Of=[...e,...r,...t]}return Of}function sR(t){if(t!=="_deleted"){if(["properties"].includes(t))throw L("SC23",{fieldName:t});var e="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",r=new RegExp(e);if(t!=="_id"&&!t.match(r))throw L("SC1",{regex:e,fieldName:t})}}function cR(t){var e=me(t.primaryKey);function r(o,i,s){if(typeof o=="string"&&typeof i=="object"&&!Array.isArray(i)&&s.split(".").pop()!=="patternProperties"&&sR(o),Object.prototype.hasOwnProperty.call(i,"item")&&i.type!=="array")throw L("SC2",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"required")&&typeof i.required=="boolean")throw L("SC24",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"$ref"))throw L("SC40",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"ref"))if(Array.isArray(i.type)){if(i.type.length>2||!i.type.includes("string")||!i.type.includes("null"))throw L("SC4",{fieldName:o})}else switch(i.type){case"string":break;case"array":if(!i.items||!i.items.type||i.items.type!=="string")throw L("SC3",{fieldName:o});break;default:throw L("SC4",{fieldName:o})}var l=s.split(".").length>=2;if(l&&i.default)throw L("SC7",{path:s});if(!l){if(o==="_id"&&e!=="_id")throw L("COL2",{fieldName:o});if(o.charAt(0)==="_"){if(o==="_id"||o==="_deleted")return;throw L("SC8",{fieldName:o})}}}function n(o,i){!o||typeof o!="object"||Object.keys(o).forEach(s=>{var l=o[s];!o.properties&&l&&typeof l=="object"&&!Array.isArray(o)&&r(s,l,i);var d=i;s!=="properties"&&(d=d+"."+s),n(l,d)})}return n(t,""),!0}function lR(t){if(!t.primaryKey)throw L("SC30",{schema:t});function e(d){if(!d)throw L("SC33",{schema:t});var m=d.type;if(!m||!["string","number","integer"].includes(m))throw L("SC32",{schema:t,args:{schemaPart:d}})}if(typeof t.primaryKey=="string"){var r=t.primaryKey,n=t.properties[r];e(n)}else{var o=t.primaryKey,i=Me(t,o.key);e(i),o.fields.forEach(d=>{var m=Me(t,d);e(m)})}var s=me(t.primaryKey),l=t.properties[s];if(l.maxLength){if(!isFinite(l.maxLength))throw L("SC41",{schema:t,args:{primaryPathSchemaPart:l}})}else throw L("SC39",{schema:t,args:{primaryPathSchemaPart:l}})}function Wy(t){for(var e=t.split("."),r="",n=0;n<e.length;n+=1)e[n]!=="[]"?r=r.concat(".properties.".concat(e[n])):r=r.concat(".items");return dr(r)}function Ky(t){if(!t.primaryKey)throw L("SC30",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"properties"))throw L("SC29",{schema:t});if(t.properties._rev)throw L("SC10",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"version")||typeof t.version!="number"||t.version<0)throw L("SC11",{version:t.version});if(cR(t),lR(t),Object.keys(t.properties).forEach(e=>{var r=t.properties[e];if(e===t.primaryKey){if(t.indexes&&t.indexes.includes(e))throw L("SC13",{value:r,schema:t});if(r.unique)throw L("SC14",{value:r,schema:t});if(t.encrypted&&t.encrypted.includes(e))throw L("SC15",{value:r,schema:t});if(r.type!=="string")throw L("SC16",{value:r,schema:t})}if(rl().includes(e))throw L("SC17",{key:e,schema:t})}),t.indexes){if(!Er(t.indexes))throw L("SC18",{indexes:t.indexes,schema:t});t.indexes.forEach(e=>{if(!(typeof e=="string"||Array.isArray(e)))throw L("SC19",{index:e,schema:t});if(Array.isArray(e)){for(var r=0;r<e.length;r+=1)if(typeof e[r]!="string")throw L("SC20",{index:e,schema:t})}var n=Er(e)?e:[e];n.forEach(o=>{var i=Me(t,o),s=i.type;switch(s){case"string":var l=i.maxLength;if(!l)throw L("SC34",{index:e,field:o,schema:t});break;case"number":case"integer":var d=i.multipleOf;if(!d)throw L("SC35",{index:e,field:o,schema:t});var m=i.maximum,p=i.minimum;if(typeof m>"u"||typeof p>"u")throw L("SC37",{index:e,field:o,schema:t});if(!isFinite(m)||!isFinite(p))throw L("SC41",{index:e,field:o,schema:t});break;case"boolean":var y="",w=o;if(o.includes(".")){var k=o.split(".");w=k.pop(),y=k.join(".")}var N=y===""?t:Me(t,y);if(!N.required||!N.required.includes(w))throw L("SC38",{index:e,field:o,schema:t});break;default:throw L("SC36",{fieldName:o,type:i.type,schema:t})}})})}Object.keys(Gs(t)).map(e=>{var r=e.split(".");return r.pop(),r.join(".")}).filter(e=>e!=="").filter((e,r,n)=>n.indexOf(e)===r).filter(e=>{var r=Pe(t,e);return r&&!!r.index}).forEach(e=>{throw e=e.replace("properties.",""),e=e.replace(/\.properties\./g,"."),L("SC26",{index:dr(e),schema:t})}),(t.indexes||[]).reduce((e,r)=>(Er(r)?ur(e,r):e.push(r),e),[]).filter((e,r,n)=>n.indexOf(e)===r).map(e=>{var r=Wy(e),n=Pe(t,r);if(!n||typeof n!="object")throw L("SC21",{index:e,schema:t});return{indexPath:e,schemaObj:n}}).filter(e=>e.schemaObj.type!=="string"&&e.schemaObj.type!=="integer"&&e.schemaObj.type!=="number"&&e.schemaObj.type!=="boolean").forEach(e=>{throw L("SC22",{key:e.indexPath,type:e.schemaObj.type,schema:t})}),Object.keys(Gs(t)).map(e=>{var r=e.split(".");return r.pop(),r.join(".")}).filter(e=>e!==""&&e!=="attachments").filter((e,r,n)=>n.indexOf(e)===r).filter(e=>{var r=Pe(t,e);return r&&!!r.encrypted}).forEach(e=>{throw e=e.replace("properties.",""),e=e.replace(/\.properties\./g,"."),L("SC27",{index:dr(e),schema:t})}),t.encrypted&&t.encrypted.forEach(e=>{var r=Wy(e),n=Pe(t,r);if(!n||typeof n!="object")throw L("SC28",{field:e,schema:t})})}function nl(t){t&&Object.entries(t).forEach(([e,r])=>{if(typeof e!="string")throw se("COL14",{name:e});if(e.startsWith("_"))throw se("COL15",{name:e});if(typeof r!="function")throw se("COL16",{name:e,type:typeof e});if(Vy().includes(e)||rl().includes(e))throw L("COL17",{name:e})})}function Hy(t,e){var r=Object.keys(t.properties);e&&Object.keys(e).filter(n=>r.includes(n)).forEach(n=>{throw L("COL18",{funName:n})})}function Qy(t,e){if(typeof e!="object"||Array.isArray(e))throw se("COL11",{schema:t});var r=Dg(t);if(r.length!==Object.keys(e).length)throw L("COL12",{have:Object.keys(e),should:r});return r.map(n=>({v:n,s:e[n+1]})).filter(n=>typeof n.s!="function").forEach(n=>{throw se("COL13",{version:n.v,type:typeof n,schema:t})}),!0}function Yy(t){if(qy().includes(t.name))throw L("DB5",{name:t.name});Zy(t.name)}function Gy(t){if(Zy(t.name),t.name.includes("$"))throw L("DB13",{name:t.name});if(hd(t.name)&&(t.name.endsWith("/")||t.name.endsWith("\\")))throw L("DB11",{name:t.name})}var Xy="^[a-z][_$a-z0-9\\-]*$",uR=new RegExp(Xy);function Zy(t){if(typeof t!="string"||t.length===0)throw se("UT1",{name:t});if(hd(t))return!0;if(!t.match(uR)&&t!==":memory:")throw L("UT2",{regex:Xy,givenName:t});return!0}function Jy(t){var e=Object.prototype.toString.call(t.queryObj)==="[object Object]";if(!e)throw se("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj});var r=["selector","limit","skip","sort","index"];if(Object.keys(t.queryObj).forEach(n=>{if(!r.includes(n))throw se("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj,key:n,args:{validKeys:r}})}),t.op==="count"&&(t.queryObj.limit||t.queryObj.skip))throw L("QU15",{collection:t.collection.name,query:t.queryObj});ol(t.queryObj)}function tb(t){var e=t.rxQuery.collection.schema.jsonSchema,r=t.mangoQuery.selector,n=Object.keys(e.properties);Object.keys(r).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:e,field:l,query:t.mangoQuery})});var o=e.indexes?e.indexes:[],i=t.mangoQuery.index;if(i){var s=o.find(l=>kn(l,i));if(!s)throw L("QU12",{collection:t.rxQuery.collection.name,query:t.mangoQuery,schema:e})}if(t.rxQuery.op==="count"&&!dR(t.rxQuery.collection.schema.jsonSchema,t.mangoQuery)&&!t.rxQuery.collection.database.allowSlowCount)throw L("QU14",{collection:t.rxQuery.collection,query:t.mangoQuery});t.mangoQuery.sort&&t.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:e,field:l,query:t.mangoQuery})}),ol(t.mangoQuery)}function dR(t,e){var r=ka(t,e);return r.queryPlan.selectorSatisfiedByIndex}function ol(t){if(!(typeof t!="object"||t===null)){var e=Object.keys(t);e.forEach(r=>{var n=t[r];if(n instanceof RegExp)throw L("QU16",{field:r,query:t});Array.isArray(n)?n.forEach(o=>ol(o)):ol(n)})}}function eb(t,e){if(!t)throw L("DOC20",{primaryKey:t,document:e});if(t!==t.trim())throw L("DOC21",{primaryKey:t,document:e});if(t.includes("\r")||t.includes(`
`))throw L("DOC22",{primaryKey:t,document:e});if(t.includes('"'))throw L("DOC23",{primaryKey:t,document:e})}function rb(t){if(typeof t!="object"||t===null)return!1;for(var e in t)if(t.hasOwnProperty(e)&&(t[e]instanceof Date||typeof t[e]=="object"&&rb(t[e])))return!0;return!1}function nb(t,e){var r=me(t.schema.primaryKey),n=function(i){i.document=nc(r,t.schema,i.document),i.previous&&Object.keys(i.previous._meta).forEach(s=>{if(!Object.prototype.hasOwnProperty.call(i.document._meta,s))throw L("SNH",{dataBefore:i.previous,dataAfter:i.document,args:{metaFieldName:s}})});try{typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i))}catch{throw L("DOC24",{collection:t.collectionName,document:i.document})}if(rb(i.document))throw L("DOC24",{collection:t.collectionName,document:i.document})};for(var o of e)n(o)}var ob=!1;function ib(t){return U(this,null,function*(){if(!(ob||typeof window>"u"||typeof location>"u")&&!(In.premium&&typeof In.premium=="string"&&(yield ii(In.premium))===tc)){ob=!0;var e=document.createElement("iframe");e.style.visibility="hidden",e.width="1px",e.height="1px",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.opacity="0.1",e.src="https://rxdb.info/html/dev-mode-iframe.html?version="+po,document.body.appendChild(e)}})}var fR=!0;function hR(t){return!t||typeof t=="string"||typeof t=="number"?t:cd(t)}var mR="dev-mode",ab={name:mR,rxdb:!0,init:()=>{fR&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:hR,tunnelErrorMessage(t){if(!Cf[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return Cf[t]}},hooks:{preCreateRxSchema:{after:Ky},preCreateRxDatabase:{after:function(t){Gy(t)}},createRxDatabase:{after:function(t){return U(this,null,function*(){ib(t.database)})}},preCreateRxCollection:{after:function(t){if(Yy(t),Hy(t.schema,t.methods),t.name.charAt(0)==="_")throw L("DB2",{name:t.name});if(!t.schema)throw L("DB4",{name:t.name,args:t})}},createRxDocument:{before:function(t){eb(t.primary,t.toJSON(!0))}},preCreateRxQuery:{after:function(t){Jy(t)}},prePrepareQuery:{after:t=>{tb(t)}},preStorageWrite:{before:t=>{nb(t.storageInstance,t.rows)}},createRxCollection:{after:t=>{nl(t.creator.statics),nl(t.creator.methods),nl(t.creator.attachments),t.creator.schema&&t.creator.migrationStrategies&&Qy(t.creator.schema,t.creator.migrationStrategies)}}}};var il=I_(sb(),1),cb=Symbol.for("Dexie"),Na=globalThis[cb]||(globalThis[cb]=il.default);if(il.default.semVer!==Na.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${il.default.semVer} and ${Na.semVer}`);var{liveQuery:R3,mergeRanges:O3,rangesOverlap:D3,RangeSet:E3,cmp:k3,Entity:A3,PropModSymbol:I3,PropModification:P3,replacePrefix:M3,add:T3,remove:N3}=Na;var La="docs",pR="changes",lb="attachments",sl="dexie",ub=new Map,al=new Map;function db(t,e,r,n){var o="rxdb-dexie-"+t+"--"+n.version+"--"+e,i=Ve(ub,o,()=>{var s=U(this,null,function*(){var l=Et(r);l.autoOpen=!1;var d=new Na(o,l),m={[La]:gR(n),[pR]:"++sequence, id",[lb]:"id"};return d.version(1).stores(m),yield d.open(),{dexieDb:d,dexieTable:d[La],dexieAttachmentsTable:d[lb],booleanIndexes:vR(n)}});return ub.set(o,i),al.set(i,0),s});return i}function fb(t){return U(this,null,function*(){var e=yield t,r=al.get(t),n=r-1;n===0?(e.dexieDb.close(),al.delete(t)):al.set(t,n)})}var kf="__";function xo(t){var e=t.split(".");if(e.length>1)return e.map(n=>xo(n)).join(".");if(t.startsWith("|")){var r=t.substring(1);return kf+r}else return t}function hb(t){var e=t.split(".");if(e.length>1)return e.map(n=>hb(n)).join(".");if(t.startsWith(kf)){var r=t.substring(kf.length);return"|"+r}else return t}function mb(t,e){if(!e)return e;var r=Et(e);return r=Af(r),t.forEach(n=>{var o=Pe(e,n),i=o?"1":"0",s=xo(n);gd(r,s,i)}),r}function Pf(t,e){return e&&(e=Et(e),e=If(e),t.forEach(r=>{var n=Pe(e,r),o=n==="1";gd(e,r,o)}),e)}function Af(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(r=>Af(r));if(typeof t=="object"){var e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="object"&&(n=Af(n)),e[xo(r)]=n}),e}}function If(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(r=>If(r));if(typeof t=="object"){var e={};return Object.entries(t).forEach(([r,n])=>{(typeof n=="object"||Array.isArray(t))&&(n=If(n)),e[hb(r)]=n}),e}}function gR(t){var e=[],r=me(t.primaryKey);e.push([r]),e.push(["_deleted",r]),t.indexes&&t.indexes.forEach(i=>{var s=pa(i);e.push(s)}),e.push(["_meta.lwt",r]),e.push(["_meta.lwt"]),e=e.map(i=>i.map(s=>xo(s)));var n=e.map(i=>i.length===1?i[0]:"["+i.join("+")+"]");n=n.filter((i,s,l)=>l.indexOf(i)===s);var o=n.join(", ");return o}function Mf(t,e){return U(this,null,function*(){var r=yield t,n=yield r.dexieTable.bulkGet(e);return n.map(o=>Pf(r.booleanIndexes,o))})}function $a(t,e){return t+"||"+e}function vR(t){var e=new Set,r=[];return t.indexes?(t.indexes.forEach(n=>{var o=pa(n);o.forEach(i=>{if(!e.has(i)){e.add(i);var s=Me(t,i);s.type==="boolean"&&r.push(i)}})}),r.push("_deleted"),Jp(r)):r}function pb(t){return t===vo?-1/0:t}function gb(t,e,r){if(t.includes(e)){var n=r===go||r===!0?"1":"0";return n}else return r}function vb(t,e,r){if(!r){if(typeof window>"u")throw new Error("IDBKeyRange missing");r=window.IDBKeyRange}var n=e.startKeys.map((s,l)=>{var d=e.index[l];return gb(t,d,s)}).map(pb),o=e.endKeys.map((s,l)=>{var d=e.index[l];return gb(t,d,s)}).map(pb),i=r.bound(n,o,!e.inclusiveStart,!e.inclusiveEnd);return i}function Tf(t,e){return U(this,null,function*(){var r=yield t.internals,n=e.query,o=n.skip?n.skip:0,i=n.limit?n.limit:1/0,s=o+i,l=e.queryPlan,d=!1;l.selectorSatisfiedByIndex||(d=pi(t.schema,e.query));var m=vb(r.booleanIndexes,l,r.dexieDb._options.IDBKeyRange),p=l.index,y=[];if(yield r.dexieDb.transaction("r",r.dexieTable,k=>U(this,null,function*(){var N=k.idbtrans,B=N.objectStore(La),Q,J;J="["+p.map(tt=>xo(tt)).join("+")+"]",Q=B.index(J);var nt=Q.openCursor(m);yield new Promise(tt=>{nt.onsuccess=function(kt){var st=kt.target.result;if(st){var Pt=Pf(r.booleanIndexes,st.value);(!d||d(Pt))&&y.push(Pt),l.sortSatisfiedByIndex&&y.length===s?tt():st.continue()}else tt()}})})),!l.sortSatisfiedByIndex){var w=Uc(t.schema,e.query);y=y.sort(w)}return y=y.slice(o,s),{documents:y}})}function yb(t,e){return U(this,null,function*(){var r=yield t.internals,n=e.queryPlan,o=n.index,i=vb(r.booleanIndexes,n,r.dexieDb._options.IDBKeyRange),s=-1;return yield r.dexieDb.transaction("r",r.dexieTable,l=>U(this,null,function*(){var d=l.idbtrans,m=d.objectStore(La),p,y;y="["+o.map(k=>xo(k)).join("+")+"]",p=m.index(y);var w=p.count(i);s=yield new Promise((k,N)=>{w.onsuccess=function(){k(w.result)},w.onerror=B=>N(B)})})),s})}var yR=ee(),Nf=!1,bR=function(){function t(r,n,o,i,s,l,d,m){this.changes$=new at,this.instanceId=yR++,this.storage=r,this.databaseName=n,this.collectionName=o,this.schema=i,this.internals=s,this.options=l,this.settings=d,this.devMode=m,this.primaryPath=me(this.schema.primaryKey)}var e=t.prototype;return e.bulkWrite=function(n,o){return U(this,null,function*(){wo(this),!Nf&&(!In.premium||typeof In.premium!="string"||(yield ii(In.premium))!==tc)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),Nf=!0,n.forEach(p=>{if(!p.document._rev||p.previous&&!p.previous._rev)throw L("SNH",{args:{row:p}})});var i=yield this.internals,s={error:[]};this.devMode&&(n=n.map(p=>{var y=_o(p.document);return{previous:p.previous,document:y}}));var l=n.map(p=>p.document[this.primaryPath]),d;if(yield i.dexieDb.transaction("rw",i.dexieTable,i.dexieAttachmentsTable,()=>U(this,null,function*(){var p=new Map,y=yield Mf(this.internals,l);y.forEach(N=>{var B=N;return B&&p.set(B[this.primaryPath],B),B}),d=Xv(this,this.primaryPath,p,n,o),s.error=d.errors;var w=[];d.bulkInsertDocs.forEach(N=>{w.push(N.document)}),d.bulkUpdateDocs.forEach(N=>{w.push(N.document)}),w=w.map(N=>mb(i.booleanIndexes,N)),w.length>0&&(yield i.dexieTable.bulkPut(w));var k=[];d.attachmentsAdd.forEach(N=>{k.push({id:$a(N.documentId,N.attachmentId),data:N.attachmentData.data})}),d.attachmentsUpdate.forEach(N=>{k.push({id:$a(N.documentId,N.attachmentId),data:N.attachmentData.data})}),yield i.dexieAttachmentsTable.bulkPut(k),yield i.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(N=>$a(N.documentId,N.attachmentId)))})),d=Rt(d),d.eventBulk.events.length>0){var m=Rt(d.newestRow).document;d.eventBulk.checkpoint={id:m[this.primaryPath],lwt:m._meta.lwt},d.eventBulk.endTime=ee(),this.changes$.next(d.eventBulk)}return s})},e.findDocumentsById=function(n,o){return U(this,null,function*(){wo(this);var i=yield this.internals,s=[];return yield i.dexieDb.transaction("r",i.dexieTable,()=>U(this,null,function*(){var l=yield Mf(this.internals,n);l.forEach(d=>{d&&(!d._deleted||o)&&s.push(d)})})),s})},e.query=function(n){return wo(this),Tf(this,n)},e.count=function(n){return U(this,null,function*(){if(n.queryPlan.selectorSatisfiedByIndex){var o=yield yb(this,n);return{count:o,mode:"fast"}}else{var i=yield Tf(this,n);return{count:i.documents.length,mode:"slow"}}})},e.changeStream=function(){return wo(this),this.changes$.asObservable()},e.cleanup=function(n){return U(this,null,function*(){wo(this);var o=yield this.internals;return yield o.dexieDb.transaction("rw",o.dexieTable,()=>U(this,null,function*(){var i=ee()-n,s=yield o.dexieTable.where("_meta.lwt").below(i).toArray(),l=[];s.forEach(d=>{d._deleted==="1"&&l.push(d[this.primaryPath])}),yield o.dexieTable.bulkDelete(l)})),!0})},e.getAttachmentData=function(n,o,i){return U(this,null,function*(){wo(this);var s=yield this.internals,l=$a(n,o);return yield s.dexieDb.transaction("r",s.dexieAttachmentsTable,()=>U(this,null,function*(){var d=yield s.dexieAttachmentsTable.get(l);if(d)return d.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+o)}))})},e.remove=function(){return U(this,null,function*(){wo(this);var n=yield this.internals;return yield n.dexieTable.clear(),this.close()})},e.close=function(){return this.closed?this.closed:(this.closed=U(this,null,function*(){this.changes$.complete(),yield fb(this.internals)}),this.closed)},e.conflictResultionTasks=function(){return new at},e.resolveConflictResultionTask=function(n){return U(this,null,function*(){})},t}();function bb(t,e,r){return U(this,null,function*(){var n=db(e.databaseName,e.collectionName,r,e.schema),o=new bR(t,e.databaseName,e.collectionName,e.schema,n,e.options,r,e.devMode);return yield zy(sl,e,o),Promise.resolve(o)})}function wo(t){if(t.closed)throw new Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var _R=function(){function t(r){this.name=sl,this.rxdbVersion=po,this.settings=r}var e=t.prototype;return e.createStorageInstance=function(n){return Jv(n),bb(this,n,this.settings)},t}();function _b(t={}){var e=new _R(t);return e}var Lf={};gs(Lf,{$all:()=>_C,$and:()=>Qd,$bitsAllClear:()=>xb,$bitsAllSet:()=>wb,$bitsAnyClear:()=>Cb,$bitsAnySet:()=>Sb,$elemMatch:()=>Jd,$eq:()=>Mc,$exists:()=>ef,$expr:()=>vC,$gt:()=>Tc,$gte:()=>Nc,$in:()=>Lc,$jsonSchema:()=>yC,$lt:()=>$c,$lte:()=>Fc,$mod:()=>Xd,$ne:()=>Bc,$nin:()=>jc,$nor:()=>Yd,$not:()=>Gd,$or:()=>Oa,$regex:()=>Zd,$size:()=>tf,$type:()=>rf,$where:()=>bC});var Bn=t=>Ct((e,r,n)=>{let o=0;if(r instanceof Array)for(let i of r)o=o|1<<i;else o=r;return t(e&o,o)});var xb=Bn((t,e)=>t==0);var wb=Bn((t,e)=>t==e);var Cb=Bn((t,e)=>t<e);var Sb=Bn((t,e)=>t>0);var cl={};gs(cl,{$addToSet:()=>wR,$bit:()=>SR,$currentDate:()=>RR,$inc:()=>OR,$max:()=>DR,$min:()=>ER,$mul:()=>kR,$pop:()=>AR,$pull:()=>$f,$pullAll:()=>IR,$push:()=>MR,$rename:()=>TR,$set:()=>Ff,$unset:()=>NR});var _i=(t,e)=>{switch(t){case"deep":return di(e);case"copy":return Nn(e)?new Date(e):it(e)?[...e]:ut(e)?j({},e):e;default:return e}},xR=/^[a-z]+[a-zA-Z0-9]*$/;function Rb(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];let e=t.indexOf(".$"),r=t.indexOf("]"),n=t.substring(0,e),o=t.substring(e+3,r);z(o===""||xR.test(o),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let i=t.substring(r+2),[s,l]=i?Rb(i):[];return[{selector:t,parent:n,child:o||"$",next:s},[o,...l||[]].filter(Boolean)]}var Mt=(t,e,r,n,o)=>{let{parent:i,child:s,next:l}=e;if(!s){let m=!1;return li(t,i,(y,w)=>m=!!n(y,w)||m,o),m}let d=ke(t,i);return it(d)?d.map((m,p)=>r[s]&&!r[s].test({[s]:m})?!1:l?Mt(m,l,r,n,o):n(d,p)).some(Boolean):!1};function Lt(t,e,r,n){let o=[];for(let[i,s]of Object.entries(t)){let[l,d]=Rb(i);if(!d.length)n(s,l,{})&&o.push(l.parent);else{let m={};e.forEach(y=>{Object.keys(y).forEach(w=>{d.forEach(k=>{(w===k||w.startsWith(k+"."))&&(m[k]=m[k]||{},Object.assign(m[k],{[w]:y[w]}))})})});let p={};for(let[y,w]of Object.entries(m))p[y]=new Yt(w,r.queryOptions);n(s,l,p)&&o.push(l.parent)}}return o}var wR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>{let l={$each:[o]};return ut(o)&&zt(o,"$each")&&Object.assign(l,o),Mt(t,i,s,(d,m)=>{let p=d[m]||=[];return Xr([p,l.$each]).length===l.$each.length?!1:(d[m]=_i(n.cloneMode,wa(p.concat(l.$each))),!0)},{buildGraph:!0})});var CR=new Set(["and","or","xor"]),SR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>{let l=Object.keys(o);return z(l.length===1&&CR.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Mt(t,i,s,(d,m)=>{let p=d[m],y=o[l[0]];if(p!==void 0&&!(dt(p)&&dt(y)))return!1;switch(p=p||0,l[0]){case"and":d[m]=p&y;break;case"or":d[m]=p|y;break;case"xor":d[m]=p^y;break}return d[m]!==p},{buildGraph:!0})});var RR=(t,e,r=[],n={})=>{let o=Date.now();return Lt(e,r,n,(i,s,l)=>Mt(t,s,l,(d,m)=>(d[m]=o,!0),{buildGraph:!0}))};var OR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>{if(!i.child){let l=ke(t,i.parent);z(l===void 0||dt(l),"cannot apply $inc to a value of non-numeric type")}return Mt(t,i,s,(l,d)=>(l[d]=(l[d]||=0)+o,!0),{buildGraph:!0})});var DR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>Mt(t,i,s,(l,d)=>l[d]!==void 0&&Tt(l[d],o)>-1?!1:(l[d]=o,!0),{buildGraph:!0}));var ER=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>Mt(t,i,s,(l,d)=>l[d]!==void 0&&Tt(l[d],o)<1?!1:(l[d]=o,!0),{buildGraph:!0}));var kR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>Mt(t,i,s,(l,d)=>{let m=l[d];return l[d]=l[d]===void 0?0:l[d]*o,l[d]!==m},{buildGraph:!0}));var AR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>Mt(t,i,s,(l,d)=>{let m=l[d];return z(it(m),`path '${i.selector}' contains an element of non-array type.`),m.length?(o===-1?m.splice(0,1):m.pop(),!0):!1}));var $f=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>{let l=!ut(o)||Object.keys(o).some(We),d=new Yt(l?{k:o}:o,n.queryOptions),m=l?p=>d.test({k:p}):p=>d.test(p);return Mt(t,i,s,(p,y)=>{let w=p[y],k=new Array;return w.map(B=>{let Q=m(B);return Q||k.push(B),Q}).some(Boolean)?(p[y]=k,!0):!1})});var IR=(t,e,r=[],n={})=>{let o={};return Object.entries(e).forEach(([i,s])=>{o[i]={$in:s}}),$f(t,o,r,n)};var PR=Object.freeze(["$each","$slice","$sort","$position"]),MR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>{let l={$each:[o]};return ut(o)&&PR.some(d=>zt(o,d))&&Object.assign(l,o),Mt(t,i,s,(d,m)=>{let p=d[m]||=[],y=p.slice(0,l.$slice||p.length),w=p.length,k=dt(l.$position)?l.$position:p.length;if(p.splice(k,0,..._i(n.cloneMode,l.$each)),l.$sort){let N=ut(l.$sort)?Object.keys(l.$sort||{}).pop():"",B=N?l.$sort[N]:l.$sort,Q=N?J=>ke(J,N):J=>J;p.sort((J,nt)=>B*Tt(Q(J),Q(nt)))}return dt(l.$slice)&&(l.$slice<0?p.splice(0,p.length+l.$slice):p.splice(l.$slice)),w!=p.length||!pe(y,p)},{descendArray:!0,buildGraph:!0})});var Ff=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>Mt(t,i,s,(l,d)=>pe(l[d],o)?!1:(l[d]=_i(n.cloneMode,o),!0),{buildGraph:!0}));var TR=(t,e,r=[],n={})=>{let o=[],i=Lt(e,r,n,(s,l,d)=>Mt(t,l,d,(m,p)=>zt(m,p)?(o.push(...Ff(t,{[s]:m[p]},r,n)),delete m[p],!0):!1));return Array.from(new Set(i.concat(o)))};var NR=(t,e,r=[],n={})=>Lt(e,r,n,(o,i,s)=>Mt(t,i,s,(l,d)=>zt(l,d)?(it(l)?l[d]=null:delete l[d],!0):!1));function Bf(t){return t=gt(j({},t),{queryOptions:Zr(t.queryOptions)}),t.queryOptions.context.addQueryOps(Lf).addExpressionOps(qd).addExpressionOps(Wd),(e,r,n=[],o={},i={})=>{let s=Object.assign({cloneMode:"copy"},t,i);Object.assign(s,{queryOptions:Zr(Object.assign({useStrictMode:!1},s?.queryOptions))}),n=n||[],o=o||{};let l=Object.entries(r);z(l.length===1,"Update expression must contain only one operator.");let[d,m]=l[0];z(zt(cl,d),`Update operator '${d}' is not supported.`);let p=cl[d];return Object.keys(o).length&&!(o instanceof Yt?o:new Yt(o,s.queryOptions)).test(e)?[]:p(e,m,n,s)}}var $8=Bf({});var jf;function Uf(t,e){if(!jf){var r=Bf({cloneMode:"none"});jf=(n,o)=>{var i=Ze(n);return r(i,o),i}}return jf(t,e)}function LR(t){return this.incrementalModify(e=>{var r=Uf(e,t);return r})}function $R(t){var e=this._data,r=Uf(e,t);return this._saveData(r,e)}function FR(t){return U(this,null,function*(){return Ln(this.asRxQuery,e=>e.update(t))})}var Ob={name:"update",rxdb:!0,prototypes:{RxDocument:t=>{t.update=$R,t.incrementalUpdate=LR},RxQuery:t=>{t.update=FR}}};var BR={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function jR(){return U(this,null,function*(){Zc(uy),Zc(Ob),gm()&&Zc(ab)})}jR();var e6=(()=>{class t{constructor(){this.dataBaseReadySubj=new be(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(r){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[r]}initDB(r){return U(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===r&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield yy({name:r,storage:_b(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:BR}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var i6=(()=>{class t{constructor(){this.activePortal=new at,this.portal$=this.activePortal.asObservable()}setPortal(r){this.activePortal.next(r)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var en=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(en||{}),s6="*";function kb(t,e){return{type:en.Trigger,name:t,definitions:e,options:{}}}function zf(t,e=null){return{type:en.Animate,styles:e,timings:t}}function c6(t,e=null){return{type:en.Sequence,steps:t,options:e}}function ll(t){return{type:en.Style,styles:t,offset:null}}function Vf(t,e,r){return{type:en.State,name:t,styles:e,options:r}}function qf(t,e,r=null){return{type:en.Transition,expr:t,animation:e,options:r}}function l6(t=null){return{type:en.AnimateChild,options:t}}function u6(t,e,r=null){return{type:en.Query,selector:t,animation:e,options:r}}var Db=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,r=0){this.totalTime=e+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let r=e=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},Eb=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let r=0,n=0,o=0,i=this.players.length;i==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++r==i&&this._onFinish()}),s.onDestroy(()=>{++n==i&&this._onDestroy()}),s.onStart(()=>{++o==i&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let r=e*this.totalTime;this.players.forEach(n=>{let o=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(o)})}getPosition(){let e=this.players.reduce((r,n)=>r===null||n.totalTime>r.totalTime?n:r,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let r=e=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},d6="!";function g6(t){return t&&typeof t.connect=="function"&&!(t instanceof Jn)}var ul=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(ul||{}),v6=new pt("_ViewRepeater"),Ab=class{applyChanges(e,r,n,o,i){e.forEachOperation((s,l,d)=>{let m,p;if(s.previousIndex==null){let y=n(s,l,d);m=r.createEmbeddedView(y.templateRef,y.context,y.index),p=ul.INSERTED}else d==null?(r.remove(l),p=ul.REMOVED):(m=r.get(l),r.move(m,d),p=ul.MOVED);i&&i({context:m?.context,operation:p,record:s})})}detach(){}};var Ib=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new at;constructor(e=!1,r,n=!0,o){this._multiple=e,this._emitChanges=n,this.compareWith=o,r&&r.length&&(e?r.forEach(i=>this._markSelected(i)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(n=>this._markSelected(n));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...e){this._verifyValueAssignment(e),e.forEach(n=>this._unmarkSelected(n));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...e){this._verifyValueAssignment(e);let r=this.selected,n=new Set(e);e.forEach(i=>this._markSelected(i)),r.filter(i=>!n.has(this._getConcreteValue(i,n))).forEach(i=>this._unmarkSelected(i));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let r=this._hasQueuedChanges();return e&&this._emitChangeEvent(),r}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,r){if(this.compareWith){r=r??this._selection;for(let n of r)if(this.compareWith(e,n))return n;return e}else return e}};var UR=20,dl=(()=>{class t{_ngZone=I(Zt);_platform=I(sr);_renderer=I(Bo).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new at;_scrolledCount=0;scrollContainers=new Map;register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let n=this.scrollContainers.get(r);n&&(n.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=UR){return this._platform.isBrowser?new vs(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=r>0?this._scrolled.pipe(ru(r)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):rt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((r,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(r,n){let o=this.getAncestorScrollContainers(r);return this.scrolled(n).pipe(_t(i=>!i||o.indexOf(i)>-1))}getAncestorScrollContainers(r){let n=[];return this.scrollContainers.forEach((o,i)=>{this._scrollableContainsElement(i,r)&&n.push(i)}),n}_scrollableContainsElement(r,n){let o=km(n),i=r.getElementRef().nativeElement;do if(o==i)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wf=(()=>{class t{elementRef=I(Jt);scrollDispatcher=I(dl);ngZone=I(Zt);dir=I(yn,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new at;_renderer=I(pn);_cleanupScroll;_elementScrolled=new at;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",r=>this._elementScrolled.next(r))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(r){let n=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";r.left==null&&(r.left=o?r.end:r.start),r.right==null&&(r.right=o?r.start:r.end),r.bottom!=null&&(r.top=n.scrollHeight-n.clientHeight-r.bottom),o&&qo()!=Vo.NORMAL?(r.left!=null&&(r.right=n.scrollWidth-n.clientWidth-r.left),qo()==Vo.INVERTED?r.left=r.right:qo()==Vo.NEGATED&&(r.left=r.right?-r.right:r.right)):r.right!=null&&(r.left=n.scrollWidth-n.clientWidth-r.right),this._applyScrollToOptions(r)}_applyScrollToOptions(r){let n=this.elementRef.nativeElement;ws()?n.scrollTo(r):(r.top!=null&&(n.scrollTop=r.top),r.left!=null&&(n.scrollLeft=r.left))}measureScrollOffset(r){let n="left",o="right",i=this.elementRef.nativeElement;if(r=="top")return i.scrollTop;if(r=="bottom")return i.scrollHeight-i.clientHeight-i.scrollTop;let s=this.dir&&this.dir.value=="rtl";return r=="start"?r=s?o:n:r=="end"&&(r=s?n:o),s&&qo()==Vo.INVERTED?r==n?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:s&&qo()==Vo.NEGATED?r==n?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:r==n?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),zR=20,fl=(()=>{class t{_platform=I(sr);_listeners;_viewportSize;_change=new at;_document=I(Se,{optional:!0});constructor(){let r=I(Zt),n=I(Bo).createRenderer(null,null);r.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=i=>this._change.next(i);this._listeners=[n.listen("window","resize",o),n.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(r=>r()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,n=this._getWindow(),o=r.documentElement,i=o.getBoundingClientRect(),s=-i.top||r.body.scrollTop||n.scrollY||o.scrollTop||0,l=-i.left||r.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:s,left:l}}change(r=zR){return r>0?this._change.pipe(ru(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Pb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({})}return t})(),Kf=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({imports:[Hi,Pb,Hi,Pb]})}return t})();var Mb=ws(),Hf=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,r){this._viewportRuler=e,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ht(-this._previousScrollPosition.left),e.style.top=Ht(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,r=this._document.body,n=e.style,o=r.style,i=n.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Mb&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Mb&&(n.scrollBehavior=i,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,n=this._viewportRuler.getViewportSize();return r.scrollHeight>n.height||r.scrollWidth>n.width}};var Qf=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,r,n,o){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=n,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(_t(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},hl=class{enable(){}disable(){}attach(){}};function Yf(t,e){return e.some(r=>{let n=t.bottom<r.top,o=t.top>r.bottom,i=t.right<r.left,s=t.left>r.right;return n||o||i||s})}function Tb(t,e){return e.some(r=>{let n=t.top<r.top,o=t.bottom>r.bottom,i=t.left<r.left,s=t.right>r.right;return n||o||i||s})}var Gf=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,r,n,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=n,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();Yf(r,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},qR=(()=>{class t{_scrollDispatcher=I(dl);_viewportRuler=I(fl);_ngZone=I(Zt);_document=I(Se);constructor(){}noop=()=>new hl;close=r=>new Qf(this._scrollDispatcher,this._ngZone,this._viewportRuler,r);block=()=>new Hf(this._viewportRuler,this._document);reposition=r=>new Gf(this._scrollDispatcher,this._viewportRuler,this._ngZone,r);static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jn=class{positionStrategy;scrollStrategy=new hl;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let r=Object.keys(e);for(let n of r)e[n]!==void 0&&(this[n]=e[n])}}};var Xf=class{connectionPair;scrollableViewProperties;constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}};var Ub=(()=>{class t{_attachedOverlays=[];_document=I(Se);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let n=this._attachedOverlays.indexOf(r);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WR=(()=>{class t extends Ub{_ngZone=I(Zt);_renderer=I(Bo).createRenderer(null,null);_cleanupKeydown;add(r){super.add(r),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=r=>{let n=this._attachedOverlays;for(let o=n.length-1;o>-1;o--)if(n[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[o]._keydownEvents.next(r));break}};static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KR=(()=>{class t extends Ub{_platform=I(sr);_ngZone=I(Zt,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(r){if(super.add(r),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=r=>{this._pointerDownEventTarget=Ss(r)};_clickListener=r=>{let n=Ss(r),o=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let i=this._attachedOverlays.slice();for(let s=i.length-1;s>-1;s--){let l=i[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(Nb(l.overlayElement,n)||Nb(l.overlayElement,o))break;let d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r)}};static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nb(t,e){let r=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===t)return!0;n=r&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var zb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),ml=(()=>{class t{_platform=I(sr);_containerElement;_document=I(Se);_styleLoader=I(Ki);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||pu()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let i=0;i<o.length;i++)o[i].remove()}let n=this._document.createElement("div");n.classList.add(r),pu()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(zb)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zf=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,r,n,o){this._renderer=r,this._ngZone=n,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=r.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},xi=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new at;_attachments=new at;_detachments=new at;_positionStrategy;_scrollStrategy;_locationChanges=vr.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new at;_outsidePointerEvents=new at;_renders=new at;_afterRenderRef;_afterNextRenderRef;constructor(e,r,n,o,i,s,l,d,m,p=!1,y,w){this._portalOutlet=e,this._host=r,this._pane=n,this._config=o,this._ngZone=i,this._keyboardDispatcher=s,this._document=l,this._location=d,this._outsideClickDispatcher=m,this._animationsDisabled=p,this._injector=y,this._renderer=w,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=ym(()=>im(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=no(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=j(j({},this._config),e),this._updateElementSize()}setDirection(e){this._config=gt(j({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Ht(this._config.width),e.height=Ht(this._config.height),e.minWidth=Ht(this._config.minWidth),e.minHeight=Ht(this._config.minHeight),e.maxWidth=Ht(this._config.maxWidth),e.maxHeight=Ht(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Zf(this._document,this._renderer,this._ngZone,r=>{this._backdropClick.next(r)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,r,n){let o=gu(r||[]).filter(i=>!!i);o.length&&(n?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(eo(Po(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Lb="cdk-overlay-connected-position-bounding-box",HR=/([A-Za-z%]+)$/,Jf=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new at;_resizeSubscription=vr.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,r,n,o,i){this._viewportRuler=r,this._document=n,this._platform=o,this._overlayContainer=i,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Lb),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,r=this._overlayRect,n=this._viewportRect,o=this._containerRect,i=[],s;for(let l of this._preferredPositions){let d=this._getOriginPoint(e,o,l),m=this._getOverlayPoint(d,r,l),p=this._getOverlayFit(m,r,n,l);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(p,m,n)){i.push({position:l,origin:d,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!s||s.overlayFit.visibleArea<p.visibleArea)&&(s={overlayFit:p,overlayPoint:m,originPoint:d,position:l,overlayRect:r})}if(i.length){let l=null,d=-1;for(let m of i){let p=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);p>d&&(d=p,l=m)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Co(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Lb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,n){let o;if(n.originX=="center")o=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;o=n.originX=="start"?s:l}r.left<0&&(o-=r.left);let i;return n.originY=="center"?i=e.top+e.height/2:i=n.originY=="top"?e.top:e.bottom,r.top<0&&(i-=r.top),{x:o,y:i}}_getOverlayPoint(e,r,n){let o;n.overlayX=="center"?o=-r.width/2:n.overlayX==="start"?o=this._isRtl()?-r.width:0:o=this._isRtl()?0:-r.width;let i;return n.overlayY=="center"?i=-r.height/2:i=n.overlayY=="top"?0:-r.height,{x:e.x+o,y:e.y+i}}_getOverlayFit(e,r,n,o){let i=Fb(r),{x:s,y:l}=e,d=this._getOffset(o,"x"),m=this._getOffset(o,"y");d&&(s+=d),m&&(l+=m);let p=0-s,y=s+i.width-n.width,w=0-l,k=l+i.height-n.height,N=this._subtractOverflows(i.width,p,y),B=this._subtractOverflows(i.height,w,k),Q=N*B;return{visibleArea:Q,isCompletelyWithinViewport:i.width*i.height===Q,fitsInViewportVertically:B===i.height,fitsInViewportHorizontally:N==i.width}}_canFitWithFlexibleDimensions(e,r,n){if(this._hasFlexibleDimensions){let o=n.bottom-r.y,i=n.right-r.x,s=$b(this._overlayRef.getConfig().minHeight),l=$b(this._overlayRef.getConfig().minWidth),d=e.fitsInViewportVertically||s!=null&&s<=o,m=e.fitsInViewportHorizontally||l!=null&&l<=i;return d&&m}return!1}_pushOverlayOnScreen(e,r,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=Fb(r),i=this._viewportRect,s=Math.max(e.x+o.width-i.width,0),l=Math.max(e.y+o.height-i.height,0),d=Math.max(i.top-n.top-e.y,0),m=Math.max(i.left-n.left-e.x,0),p=0,y=0;return o.width<=i.width?p=m||-s:p=e.x<this._viewportMargin?i.left-n.left-e.x:0,o.height<=i.height?y=d||-l:y=e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:p,y},{x:e.x+p,y:e.y+y}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!QR(this._lastScrollVisibility,n)){let o=new Xf(e,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let i=0;i<r.length;i++)r[i].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(e,r){let n=this._viewportRect,o=this._isRtl(),i,s,l;if(r.overlayY==="top")s=e.y,i=n.height-s+this._viewportMargin;else if(r.overlayY==="bottom")l=n.height-e.y+this._viewportMargin*2,i=n.height-l+this._viewportMargin;else{let k=Math.min(n.bottom-e.y+n.top,e.y),N=this._lastBoundingBoxSize.height;i=k*2,s=e.y-k,i>N&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-N/2)}let d=r.overlayX==="start"&&!o||r.overlayX==="end"&&o,m=r.overlayX==="end"&&!o||r.overlayX==="start"&&o,p,y,w;if(m)w=n.width-e.x+this._viewportMargin*2,p=e.x-this._viewportMargin;else if(d)y=e.x,p=n.right-e.x;else{let k=Math.min(n.right-e.x+n.left,e.x),N=this._lastBoundingBoxSize.width;p=k*2,y=e.x-k,p>N&&!this._isInitialRender&&!this._growAfterOpen&&(y=e.x-N/2)}return{top:s,left:y,bottom:l,right:w,width:p,height:i}}_setBoundingBoxStyles(e,r){let n=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let i=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=Ht(n.height),o.top=Ht(n.top),o.bottom=Ht(n.bottom),o.width=Ht(n.width),o.left=Ht(n.left),o.right=Ht(n.right),r.overlayX==="center"?o.alignItems="center":o.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?o.justifyContent="center":o.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",i&&(o.maxHeight=Ht(i)),s&&(o.maxWidth=Ht(s))}this._lastBoundingBoxSize=n,Co(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Co(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Co(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){let n={},o=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let p=this._viewportRuler.getViewportScrollPosition();Co(n,this._getExactOverlayY(r,e,p)),Co(n,this._getExactOverlayX(r,e,p))}else n.position="static";let l="",d=this._getOffset(r,"x"),m=this._getOffset(r,"y");d&&(l+=`translateX(${d}px) `),m&&(l+=`translateY(${m}px)`),n.transform=l.trim(),s.maxHeight&&(o?n.maxHeight=Ht(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(o?n.maxWidth=Ht(s.maxWidth):i&&(n.maxWidth="")),Co(this._pane.style,n)}_getExactOverlayY(e,r,n){let o={top:"",bottom:""},i=this._getOverlayPoint(r,this._overlayRect,e);if(this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(i.y+this._overlayRect.height)}px`}else o.top=Ht(i.y);return o}_getExactOverlayX(e,r,n){let o={left:"",right:""},i=this._getOverlayPoint(r,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;o.right=`${l-(i.x+this._overlayRect.width)}px`}else o.left=Ht(i.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Tb(e,n),isOriginOutsideView:Yf(e,n),isOverlayClipped:Tb(r,n),isOverlayOutsideView:Yf(r,n)}}_subtractOverflows(e,...r){return r.reduce((n,o)=>n-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return r==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&gu(e).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Jt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let r=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+r,height:n,width:r}}};function Co(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function $b(t){if(typeof t!="number"&&t!=null){let[e,r]=t.split(HR);return!r||r==="px"?parseFloat(e):null}return t||null}function Fb(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function QR(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var Bb="cdk-global-overlay-wrapper",th=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Bb),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:i,maxWidth:s,maxHeight:l}=n,d=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),m=(i==="100%"||i==="100vh")&&(!l||l==="100%"||l==="100vh"),p=this._xPosition,y=this._xOffset,w=this._overlayRef.getConfig().direction==="rtl",k="",N="",B="";d?B="flex-start":p==="center"?(B="center",w?N=y:k=y):w?p==="left"||p==="end"?(B="flex-end",k=y):(p==="right"||p==="start")&&(B="flex-start",N=y):p==="left"||p==="start"?(B="flex-start",k=y):(p==="right"||p==="end")&&(B="flex-end",N=y),e.position=this._cssPosition,e.marginLeft=d?"0":k,e.marginTop=m?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=d?"0":N,r.justifyContent=B,r.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,n=r.style;r.classList.remove(Bb),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},YR=(()=>{class t{_viewportRuler=I(fl);_document=I(Se);_platform=I(sr);_overlayContainer=I(ml);constructor(){}global(){return new th}flexibleConnectedTo(r){return new Jf(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),er=(()=>{class t{scrollStrategies=I(qR);_overlayContainer=I(ml);_positionBuilder=I(YR);_keyboardDispatcher=I(WR);_injector=I(Xt);_ngZone=I(Zt);_document=I(Se);_directionality=I(yn);_location=I(Vr);_outsideClickDispatcher=I(KR);_animationsModuleType=I($o,{optional:!0});_idGenerator=I(qr);_renderer=I(Bo).createRenderer(null,null);_appRef;_styleLoader=I(Ki);constructor(){}create(r){this._styleLoader.load(zb);let n=this._createHostElement(),o=this._createPaneElement(n),i=this._createPortalOutlet(o),s=new jn(r);return s.direction=s.direction||this._directionality.value,new xi(i,n,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ro),this._renderer)}position(){return this._positionBuilder}_createPaneElement(r){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),r.appendChild(n),n}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(_s)),new Ds(r,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Vb=new pt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=I(er);return()=>t.scrollStrategies.reposition()}}),jb=(()=>{class t{elementRef=I(Jt);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),s9=(()=>{class t{_overlay=I(er);_dir=I(yn,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=vr.EMPTY;_attachSubscription=vr.EMPTY;_detachSubscription=vr.EMPTY;_positionSubscription=vr.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=I(Vb);_disposeOnNavigation=!1;_ngZone=I(Zt);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}backdropClick=new we;positionChange=new we;attach=new we;detach=new we;overlayKeydown=new we;overlayOutsideClick=new we;constructor(){let r=I(jr),n=I(gn);this._templatePortal=new Cr(r,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=GR);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Wo(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let o=this._getOriginElement(),i=Ss(n);(!o||o!==i&&!o.contains(i))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),n=new jn({direction:this._dir||"ltr",positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(r){let n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(r),r}_getOrigin(){return this.origin instanceof jb?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof jb?this.origin.elementRef.nativeElement:this.origin instanceof Jt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Qh(()=>this.positionChange.observers.length>0)).subscribe(r=>{this._ngZone.run(()=>this.positionChange.emit(r)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",he],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",he],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",he],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",he],push:[2,"cdkConnectedOverlayPush","push",he],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",he]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[vn,mn]})}return t})();function XR(t){return()=>t.scrollStrategies.reposition()}var ZR={provide:Vb,deps:[er],useFactory:XR},wi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[er,ZR],imports:[Hi,Hr,Kf,Kf]})}return t})();function JR(t,e){if(t&1){let r=hm();xr(0,"div",1)(1,"button",2),jo("click",function(){Zh(r);let o=fu();return Jh(o.action())}),hu(2),ar()()}if(t&2){let r=fu();Fo(2),mu(" ",r.data.action," ")}}var tO=["label"];function eO(t,e){}var rO=Math.pow(2,31)-1,Ba=class{_overlayRef;instance;containerInstance;_afterDismissed=new at;_afterOpened=new at;_onAction=new at;_durationTimeoutId;_dismissedByAction=!1;constructor(e,r){this._overlayRef=r,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,rO))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},qb=new pt("MatSnackBarData"),Ci=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},nO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),oO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),iO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),Wb=(()=>{class t{snackBarRef=I(Ba);data=I(qb);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(xr(0,"div",0),hu(1),ar(),oo(2,JR,3,1,"div",1)),n&2&&(Fo(),mu(" ",o.data.message,`
`),Fo(),fm(o.hasAction?2:-1))},dependencies:[Wm,nO,oO,iO],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),aO={snackBarState:kb("state",[Vf("void, hidden",ll({transform:"scale(0.8)",opacity:0})),Vf("visible",ll({transform:"scale(1)",opacity:1})),qf("* => visible",zf("150ms cubic-bezier(0, 0, 0.2, 1)")),qf("* => void, * => hidden",zf("75ms cubic-bezier(0.4, 0.0, 1, 1)",ll({opacity:0})))])},sO=(()=>{class t extends bn{_ngZone=I(Zt);_elementRef=I(Jt);_changeDetectorRef=I(wr);_platform=I(sr);snackBarConfig=I(Ci);_document=I(Se);_trackedModals=new Set;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new at;_onExit=new at;_onEnter=new at;_animationState="void";_live;_label;_role;_liveElementId=I(qr).getId("mat-snack-bar-container-live-");constructor(){super();let r=this.snackBarConfig;r.politeness==="assertive"&&!r.announcementMessage?this._live="assertive":r.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),n}attachTemplatePortal(r){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),n}attachDomPortal=r=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(r);return this._afterPortalAttached(),n};onAnimationEnd(r){let{fromState:n,toState:o}=r;if((o==="void"&&n!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let i=this._onEnter;this._ngZone.run(()=>{i.next(),i.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let r=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>r.classList.add(s)):r.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,i="mdc-snackbar__label";o.classList.toggle(i,!o.querySelector(`.${i}`))}_exposeToModals(){let r=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let i=n[o],s=i.getAttribute("aria-owns");this._trackedModals.add(i),s?s.indexOf(r)===-1&&i.setAttribute("aria-owns",s+" "+r):i.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let n=r.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&n){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),n.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(Uo(_n,7),Uo(tO,7)),n&2){let i;io(i=ao())&&(o._portalOutlet=i.first),io(i=ao())&&(o._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,o){n&1&&pm("@state.done",function(s){return o.onAnimationEnd(s)}),n&2&&mm("@state",o._animationState)},features:[fe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(xr(0,"div",1)(1,"div",2,0)(3,"div",3),oo(4,eO,0,0,"ng-template",4),ar(),Ge(5,"div"),ar()()),n&2&&(Fo(5),Fe("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[_n],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[aO.snackBarState]}})}return t})();function cO(){return new Ci}var lO=new pt("mat-snack-bar-default-options",{providedIn:"root",factory:cO}),uO=(()=>{class t{_overlay=I(er);_live=I(Tm);_injector=I(Xt);_breakpointObserver=I(Am);_parentSnackBar=I(t,{optional:!0,skipSelf:!0});_defaultConfig=I(lO);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Wb;snackBarContainerComponent=sO;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(){}openFromComponent(r,n){return this._attach(r,n)}openFromTemplate(r,n){return this._attach(r,n)}open(r,n="",o){let i=j(j({},this._defaultConfig),o);return i.data={message:r,action:n},i.announcementMessage===r&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,i=Xt.create({parent:o||this._injector,providers:[{provide:Ci,useValue:n}]}),s=new Kr(this.snackBarContainerComponent,n.viewContainerRef,i),l=r.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(r,n){let o=j(j(j({},new Ci),this._defaultConfig),n),i=this._createOverlay(o),s=this._attachSnackBarContainer(i,o),l=new Ba(s,i);if(r instanceof jr){let d=new Cr(r,null,{$implicit:o.data,snackBarRef:l});l.instance=s.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),m=new Kr(r,void 0,d),p=s.attachComponentPortal(m);l.instance=p.instance}return this._breakpointObserver.observe(Im.HandsetPortrait).pipe(eo(i.detachments())).subscribe(d=>{i.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(r,n){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),n.duration&&n.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(n.duration))}_createOverlay(r){let n=new jn;n.direction=r.direction;let o=this._overlay.position().global(),i=r.direction==="rtl",s=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!i||r.horizontalPosition==="end"&&i,l=!s&&r.horizontalPosition!=="center";return s?o.left("0"):l?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(r,n){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return Xt.create({parent:o||this._injector,providers:[{provide:Ba,useValue:n},{provide:qb,useValue:r.data}]})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A9=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[uO],imports:[wi,Hr,Km,Wr,Wb,Wr]})}return t})();var M9={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function dO(t,e){}var Un=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var rh=(()=>{class t extends bn{_elementRef=I(Jt);_focusTrapFactory=I(Mm);_config;_interactivityChecker=I(Pm);_ngZone=I(Zt);_overlayRef=I(xi);_focusMonitor=I(Os);_renderer=I(pn);_platform=I(sr);_document=I(Se,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=I(wr);_injector=I(Xt);_isDestroyed=!1;constructor(){super(),this._config=I(Un,{optional:!0})||new Un,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let n=this._ariaLabelledByQueue.indexOf(r);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),n}attachTemplatePortal(r){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),n}attachDomPortal=r=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(r);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,n){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i(),s(),r.removeAttribute("tabindex")},i=this._renderer.listen(r,"blur",o),s=this._renderer.listen(r,"mousedown",o)})),r.focus(n)}_focusByCssSelector(r,n){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||no(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let r=this._config.restoreFocus,n=null;if(typeof r=="string"?n=this._document.querySelector(r):typeof r=="boolean"?n=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(n=r),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=Cs(),i=this._elementRef.nativeElement;(!o||o===this._document.body||o===i||i.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,n=Cs();return r===n||r.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Cs()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&Uo(_n,7),n&2){let i;io(i=ao())&&(o._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Fe("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[fe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&oo(0,dO,0,0,"ng-template",0)},dependencies:[_n],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),ja=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new at;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,r){this.overlayRef=e,this.config=r,this.disableClose=r.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Wo(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(e,r){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",r=""){return this.overlayRef.updateSize({width:e,height:r}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},fO=new pt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=I(er);return()=>t.scrollStrategies.block()}}),hO=new pt("DialogData"),mO=new pt("DefaultDialogConfig");var nh=(()=>{class t{_overlay=I(er);_injector=I(Xt);_defaultOptions=I(mO,{optional:!0});_parentDialog=I(t,{optional:!0,skipSelf:!0});_overlayContainer=I(ml);_idGenerator=I(qr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new at;_afterOpenedAtThisLevel=new at;_ariaHiddenElements=new Map;_scrollStrategy=I(fO);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=to(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ir(void 0)));constructor(){}open(r,n){let o=this._defaultOptions||new Un;n=j(j({},o),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let i=this._getOverlayConfig(n),s=this._overlay.create(i),l=new ja(s,n),d=this._attachContainer(s,l,n);return l.containerInstance=d,this._attachDialogContent(r,l,d,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){eh(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(n=>n.id===r)}ngOnDestroy(){eh(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),eh(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let n=new jn({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(n.backdropClass=r.backdropClass),n}_attachContainer(r,n,o){let i=o.injector||o.viewContainerRef?.injector,s=[{provide:Un,useValue:o},{provide:ja,useValue:n},{provide:xi,useValue:r}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,s.push(...o.container.providers(o))):l=rh;let d=new Kr(l,o.viewContainerRef,Xt.create({parent:i||this._injector,providers:s}));return r.attach(d).instance}_attachDialogContent(r,n,o,i){if(r instanceof jr){let s=this._createInjector(i,n,o,void 0),l={$implicit:i.data,dialogRef:n};i.templateContext&&(l=j(j({},l),typeof i.templateContext=="function"?i.templateContext():i.templateContext)),o.attachTemplatePortal(new Cr(r,null,l,s))}else{let s=this._createInjector(i,n,o,this._injector),l=o.attachComponentPortal(new Kr(r,i.viewContainerRef,s));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(r,n,o,i){let s=r.injector||r.viewContainerRef?.injector,l=[{provide:hO,useValue:r.data},{provide:ja,useValue:n}];return r.providers&&(typeof r.providers=="function"?l.push(...r.providers(n,r,o)):l.push(...r.providers)),r.direction&&(!s||!s.get(yn,null,{optional:!0}))&&l.push({provide:yn,useValue:{value:r.direction,change:rt()}}),Xt.create({parent:s||i,providers:l})}_removeOpenDialog(r,n){let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let n=r.parentElement.children;for(let o=n.length-1;o>-1;o--){let i=n[o];i!==r&&i.nodeName!=="SCRIPT"&&i.nodeName!=="STYLE"&&!i.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eh(t,e){let r=t.length;for(;r--;)e(t[r])}var Kb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[nh],imports:[wi,Hr,Nm,Hr]})}return t})();function pO(t,e){}var gl=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},oh="mdc-dialog--open",Hb="mdc-dialog--opening",Qb="mdc-dialog--closing",gO=150,vO=75,yO=(()=>{class t extends rh{_animationMode=I($o,{optional:!0});_animationStateChanged=new we;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Gb(this._config.enterAnimationDuration)??gO:0;_exitAnimationDuration=this._animationsEnabled?Gb(this._config.exitAnimationDuration)??vO:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Yb,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Hb,oh)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(oh),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(oh),this._animationsEnabled?(this._hostElement.style.setProperty(Yb,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Qb)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Hb,Qb)}_waitForAnimationToComplete(r,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let n=super.attachComponentPortal(r);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275cmp=Ce({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(du("id",o._config.id),Fe("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),_r("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[fe],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(xr(0,"div",0)(1,"div",1),oo(2,pO,0,0,"ng-template",2),ar()())},dependencies:[_n],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),Yb="--mat-dialog-transition-duration";function Gb(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Rs(t.substring(0,t.length-2)):t.endsWith("s")?Rs(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var pl=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(pl||{}),Ua=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new at;_beforeClosed=new at;_result;_closeFallbackTimeout;_state=pl.OPEN;_closeInteractionType;constructor(e,r,n){this._ref=e,this._containerInstance=n,this.disableClose=r.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(_t(o=>o.state==="opened"),yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(_t(o=>o.state==="closed"),yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Po(this.backdropClick(),this.keydownEvents().pipe(_t(o=>o.keyCode===27&&!this.disableClose&&!Wo(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),Xb(this,o.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(_t(r=>r.state==="closing"),yr(1)).subscribe(r=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=pl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let r=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?r.left(e.left):r.right(e.right):r.centerHorizontally(),e&&(e.top||e.bottom)?e.top?r.top(e.top):r.bottom(e.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",r=""){return this._ref.updateSize(e,r),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=pl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Xb(t,e,r){return t._closeInteractionType=e,t.close(r)}var bO=new pt("MatMdcDialogData"),_O=new pt("mat-mdc-dialog-default-options"),xO=new pt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=I(er);return()=>t.scrollStrategies.block()}});var ih=(()=>{class t{_overlay=I(er);_defaultOptions=I(_O,{optional:!0});_scrollStrategy=I(xO);_parentDialog=I(t,{optional:!0,skipSelf:!0});_idGenerator=I(qr);_dialog=I(nh);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new at;_afterOpenedAtThisLevel=new at;dialogConfigClass=gl;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=to(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ir(void 0)));constructor(){this._dialogRefConstructor=Ua,this._dialogContainerType=yO,this._dialogDataToken=bO}open(r,n){let o;n=j(j({},this._defaultOptions||new gl),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let i=this._dialog.open(r,gt(j({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Un,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(s,l,d)=>(o=new this._dialogRefConstructor(s,n,d),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=i.componentRef,o.componentInstance=i.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(n=>n.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let n=r.length;for(;n--;)r[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gQ=(()=>{class t{dialogRef=I(Ua,{optional:!0});_elementRef=I(Jt);_dialog=I(ih);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Jb(this._elementRef,this._dialog.openDialogs))}ngOnChanges(r){let n=r._matDialogClose||r._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(r){Xb(this.dialogRef,r.screenX===0&&r.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,o){n&1&&jo("click",function(s){return o._onButtonClick(s)}),n&2&&Fe("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[mn]})}return t})(),Zb=(()=>{class t{_dialogRef=I(Ua,{optional:!0});_elementRef=I(Jt);_dialog=I(ih);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Jb(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t})}return t})(),vQ=(()=>{class t extends Zb{id=I(qr).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,o){n&2&&du("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[fe]})}return t})(),yQ=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[lm([Wf])]})}return t})(),bQ=(()=>{class t extends Zb{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let r;return function(o){return(r||(r=de(t)))(o||t)}})();static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,o){n&2&&_r("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[fe]})}return t})();function Jb(t,e){let r=t.nativeElement.parentElement;for(;r&&!r.classList.contains("mat-mdc-dialog-container");)r=r.parentElement;return r?e.find(n=>n.id===r.id):null}var _Q=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[ih],imports:[Kb,wi,Hr,Wr,Wr]})}return t})();export{Kr as a,Cr as b,EO as c,_n as d,Hr as e,Wm as f,jO as g,UO as h,Km as i,Or as j,Dr as k,px as l,Dp as m,Ue as n,hD as o,mD as p,Rw as q,Qs as r,ma as s,ad as t,ED as u,Kw as v,e6 as w,i6 as x,g6 as y,ul as z,v6 as A,Ab as B,Ib as C,dl as D,fl as E,Pb as F,Kf as G,jn as H,er as I,jb as J,s9 as K,wi as L,en as M,s6 as N,kb as O,zf as P,c6 as Q,ll as R,Vf as S,qf as T,l6 as U,u6 as V,Db as W,Eb as X,d6 as Y,Ua as Z,bO as _,ih as $,gQ as aa,vQ as ba,yQ as ca,bQ as da,_Q as ea,lO as fa,uO as ga,A9 as ha,M9 as ia};
