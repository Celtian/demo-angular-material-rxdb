import{$ as Z,$a as bm,A as Vs,Aa as Pr,B as On,Ba as Wt,Bb as Em,Ca as fm,Cb as md,D as qs,Da as Be,Db as gi,Dc as Nm,E as ge,Ea as cd,F as rd,Fa as Ys,Fb as gd,Fc as ic,G as Ws,Ga as Xs,Gb as la,Gc as Lm,H as sa,Ha as Zs,Hb as vi,I as Hs,Ia as hm,J as Nt,Ja as pm,Jb as to,Ka as mm,Kb as yi,Kc as Fm,L as Dn,La as Zi,Lb as bi,M as Ks,Ma as gm,N as An,Na as Ht,O as nd,Oa as nn,P as nm,Pa as xr,Pc as Bm,Q as id,Qa as Nr,Qb as or,Qc as In,R as ca,Ra as on,Rb as Rm,Rc as Kt,S as Gs,Sa as vm,Sb as vd,T as Vt,Ta as kn,U as br,Ua as ld,Ub as yd,V as _r,Va as Js,Vc as $m,W as im,Wa as ec,X as St,Xa as Ze,Xc as jm,Y as Et,Ya as He,Z as om,Za as ke,_a as ym,a as $,aa as We,ab as Rt,b as be,ba as am,bb as Ji,bc as rc,ca as oe,d as yx,da as Qe,db as _m,e as Us,ea as w,eb as ud,ec as Om,f as bx,fa as od,fb as wm,g as U,gb as xm,gc as Dm,h as nr,ha as qt,hb as dd,i as Zp,ia as ir,ib as fd,j as Rn,ja as sm,jb as hi,jc as Am,k as Jp,ka as cm,kc as Lr,l as zs,lb as Cr,m as ie,mb as Cm,mc as ot,n as ft,na as _e,nb as Sm,nc as km,o as oa,oa as Le,p as tn,pa as ad,pc as nc,q as Ct,qa as lm,qc as Im,r as le,ra as rt,s as em,sa as Ce,sb as eo,t as Xi,tb as pi,tc as Tm,u as tm,ua as Qs,ub as tc,uc as ua,v as rm,va as wr,vb as hd,w as me,wa as sd,wb as pd,wc as Mm,x as aa,xa as rn,xb as mi,xc as Fr,y as ht,ya as um,yc as Pm,z as td,za as dm}from"./chunk-7LBV3Q4X.js";var Y_=yx((jh,Uh)=>{"use strict";(function(e,r){typeof jh=="object"&&typeof Uh<"u"?Uh.exports=r():typeof define=="function"&&define.amd?define(r):(e=typeof globalThis<"u"?globalThis:e||self).Dexie=r()})(jh,function(){"use strict";var e=function(a,c){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])})(a,c)},r=function(){return(r=Object.assign||function(a){for(var c,u=1,f=arguments.length;u<f;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h]);return a}).apply(this,arguments)};function t(a,c,u){if(u||arguments.length===2)for(var f,h=0,g=c.length;h<g;h++)!f&&h in c||((f=f||Array.prototype.slice.call(c,0,h))[h]=c[h]);return a.concat(f||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i=Object.keys,o=Array.isArray;function s(a,c){return typeof c!="object"||i(c).forEach(function(u){a[u]=c[u]}),a}typeof Promise>"u"||n.Promise||(n.Promise=Promise);var l=Object.getPrototypeOf,d={}.hasOwnProperty;function p(a,c){return d.call(a,c)}function m(a,c){typeof c=="function"&&(c=c(l(a))),(typeof Reflect>"u"?i:Reflect.ownKeys)(c).forEach(function(u){S(a,u,c[u])})}var y=Object.defineProperty;function S(a,c,u,f){y(a,c,s(u&&p(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function A(a){return{from:function(c){return a.prototype=Object.create(c.prototype),S(a.prototype,"constructor",a),{extend:m.bind(null,a.prototype)}}}}var N=Object.getOwnPropertyDescriptor,j=[].slice;function G(a,c,u){return j.call(a,c,u)}function ee(a,c){return c(a)}function re(a){if(!a)throw new Error("Assertion Failed")}function te(a){n.setImmediate?setImmediate(a):setTimeout(a,0)}function Te(a,c){if(typeof c=="string"&&p(a,c))return a[c];if(!c)return a;if(typeof c!="string"){for(var u=[],f=0,h=c.length;f<h;++f){var g=Te(a,c[f]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var b=a[c.substr(0,v)];return b==null?void 0:Te(b,c.substr(v+1))}}function ce(a,c,u){if(a&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof c!="string"&&"length"in c){re(typeof u!="string"&&"length"in u);for(var f=0,h=c.length;f<h;++f)ce(a,c[f],u[f])}else{var g,v,b=c.indexOf(".");b!==-1?(g=c.substr(0,b),(v=c.substr(b+1))===""?u===void 0?o(a)&&!isNaN(parseInt(g))?a.splice(g,1):delete a[g]:a[g]=u:ce(b=!(b=a[g])||!p(a,g)?a[g]={}:b,v,u)):u===void 0?o(a)&&!isNaN(parseInt(c))?a.splice(c,1):delete a[c]:a[c]=u}}function Ne(a){var c,u={};for(c in a)p(a,c)&&(u[c]=a[c]);return u}var Ae=[].concat;function Ve(a){return Ae.apply([],a)}var Jr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ve([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(c){return c+a+"Array"})}))).filter(function(a){return n[a]}),vt=new Set(Jr.map(function(a){return n[a]})),jt=null;function gr(a){return jt=new WeakMap,a=(function c(u){if(!u||typeof u!="object")return u;var f=jt.get(u);if(f)return f;if(o(u)){f=[],jt.set(u,f);for(var h=0,g=u.length;h<g;++h)f.push(c(u[h]))}else if(vt.has(u.constructor))f=u;else{var v,b=l(u);for(v in f=b===Object.prototype?{}:Object.create(b),jt.set(u,f),u)p(u,v)&&(f[v]=c(u[v]))}return f})(a),jt=null,a}var ri={}.toString;function vr(a){return ri.call(a).slice(8,-1)}var Vo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",vu=typeof Vo=="symbol"?function(a){var c;return a!=null&&(c=a[Vo])&&c.apply(a)}:function(){return null};function Xr(a,c){return c=a.indexOf(c),0<=c&&a.splice(c,1),0<=c}var gn={};function Pt(a){var c,u,f,h;if(arguments.length===1){if(o(a))return a.slice();if(this===gn&&typeof a=="string")return[a];if(h=vu(a)){for(u=[];!(f=h.next()).done;)u.push(f.value);return u}if(a==null)return[a];if(typeof(c=a.length)!="number")return[a];for(u=new Array(c);c--;)u[c]=a[c];return u}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var vn=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ko=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ko),qo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function yr(a,c){this.name=a,this.message=c}function hs(a,c){return a+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function ct(a,c,u,f){this.failures=c,this.failedKeys=f,this.successCount=u,this.message=hs(a,c)}function lt(a,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=hs(a,this.failures)}A(yr).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(ct).from(yr),A(lt).from(yr);var yn=rr.reduce(function(a,c){return a[c]=c+"Error",a},{}),yu=yr,ae=rr.reduce(function(a,c){var u=c+"Error";function f(h,g){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=qo[c]||u,this.inner=null)}return A(f).from(yu),a[c]=f,a},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var yp=Ko.reduce(function(a,c){return a[c+"Error"]=ae[c],a},{}),ps=rr.reduce(function(a,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(a[c+"Error"]=ae[c]),a},{});function Me(){}function Wo(a){return a}function zw(a,c){return a==null||a===Wo?c:function(u){return c(a(u))}}function ni(a,c){return function(){a.apply(this,arguments),c.apply(this,arguments)}}function Vw(a,c){return a===Me?c:function(){var u=a.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?ni(f,this.onsuccess):f),h&&(this.onerror=this.onerror?ni(h,this.onerror):h),g!==void 0?g:u}}function qw(a,c){return a===Me?c:function(){a.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?ni(u,this.onsuccess):u),f&&(this.onerror=this.onerror?ni(f,this.onerror):f)}}function Ww(a,c){return a===Me?c:function(u){var f=a.apply(this,arguments);s(u,f);var h=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=c.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?ni(h,this.onsuccess):h),g&&(this.onerror=this.onerror?ni(g,this.onerror):g),f===void 0?u===void 0?void 0:u:s(f,u)}}function Hw(a,c){return a===Me?c:function(){return c.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function bu(a,c){return a===Me?c:function(){var u=a.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return u.then(function(){return c.apply(f,g)})}return c.apply(this,arguments)}}ps.ModifyError=ct,ps.DexieError=yr,ps.BulkError=lt;var Ir=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bp(a){Ir=a}var Ho={},_p=100,Jr=typeof Promise>"u"?[]:(function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,l(a),a];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,l(c),a]})(),Ko=Jr[0],rr=Jr[1],Jr=Jr[2],rr=rr&&rr.then,ii=Ko&&Ko.constructor,_u=!!Jr,Go=function(a,c){Qo.push([a,c]),ms&&(queueMicrotask(Gw),ms=!1)},wu=!0,ms=!0,oi=[],gs=[],xu=Wo,bn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Me,pgp:!1,env:{},finalize:Me},ne=bn,Qo=[],ai=0,vs=[];function Y(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=ne;if(typeof a!="function"){if(a!==Ho)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Su(this,this._value))}this._state=null,this._value=null,++c.ref,(function u(f,h){try{h(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&qi();g&&typeof g.then=="function"?u(f,function(b,x){g instanceof Y?g._then(b,x):g.then(b,x)}):(f._state=!0,f._value=g,xp(f)),v&&Wi()}},Su.bind(null,f))}catch(g){Su(f,g)}})(this,a)}var Cu={get:function(){var a=ne,c=ws;function u(f,h){var g=this,v=!a.global&&(a!==ne||c!==ws),b=v&&!wn(),x=new Y(function(E,D){Eu(g,new wp(Sp(f,a,v,b),Sp(h,a,v,b),E,D,a))});return this._consoleTask&&(x._consoleTask=this._consoleTask),x}return u.prototype=Ho,u},set:function(a){S(this,"then",a&&a.prototype===Ho?Cu:{get:function(){return a},set:Cu.set})}};function wp(a,c,u,f,h){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=f,this.psd=h}function Su(a,c){var u,f;gs.push(c),a._state===null&&(u=a._lib&&qi(),c=xu(c),a._state=!1,a._value=c,f=a,oi.some(function(h){return h._value===f._value})||oi.push(f),xp(a),u&&Wi())}function xp(a){var c=a._listeners;a._listeners=[];for(var u=0,f=c.length;u<f;++u)Eu(a,c[u]);var h=a._PSD;--h.ref||h.finalize(),ai===0&&(++ai,Go(function(){--ai==0&&Ru()},[]))}function Eu(a,c){if(a._state!==null){var u=a._state?c.onFulfilled:c.onRejected;if(u===null)return(a._state?c.resolve:c.reject)(a._value);++c.psd.ref,++ai,Go(Kw,[u,a,c])}else a._listeners.push(c)}function Kw(a,c,u){try{var f,h=c._value;!c._state&&gs.length&&(gs=[]),f=Ir&&c._consoleTask?c._consoleTask.run(function(){return a(h)}):a(h),c._state||gs.indexOf(h)!==-1||(function(g){for(var v=oi.length;v;)if(oi[--v]._value===g._value)return oi.splice(v,1)})(c),u.resolve(f)}catch(g){u.reject(g)}finally{--ai==0&&Ru(),--u.psd.ref||u.psd.finalize()}}function Gw(){si(bn,function(){qi()&&Wi()})}function qi(){var a=wu;return ms=wu=!1,a}function Wi(){var a,c,u;do for(;0<Qo.length;)for(a=Qo,Qo=[],u=a.length,c=0;c<u;++c){var f=a[c];f[0].apply(null,f[1])}while(0<Qo.length);ms=wu=!0}function Ru(){var a=oi;oi=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=vs.slice(0),u=c.length;u;)c[--u]()}function ys(a){return new Y(Ho,!1,a)}function Ge(a,c){var u=ne;return function(){var f=qi(),h=ne;try{return xn(u,!0),a.apply(this,arguments)}catch(g){c&&c(g)}finally{xn(h,!1),f&&Wi()}}}m(Y.prototype,{then:Cu,_then:function(a,c){Eu(this,new wp(null,null,a,c,ne))},catch:function(a){if(arguments.length===1)return this.then(null,a);var c=a,u=arguments[1];return typeof c=="function"?this.then(null,function(f){return(f instanceof c?u:ys)(f)}):this.then(null,function(f){return(f&&f.name===c?u:ys)(f)})},finally:function(a){return this.then(function(c){return Y.resolve(a()).then(function(){return c})},function(c){return Y.resolve(a()).then(function(){return ys(c)})})},timeout:function(a,c){var u=this;return a<1/0?new Y(function(f,h){var g=setTimeout(function(){return h(new ae.Timeout(c))},a);u.then(f,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(Y.prototype,Symbol.toStringTag,"Dexie.Promise"),bn.env=Cp(),m(Y,{all:function(){var a=Pt.apply(null,arguments).map(xs);return new Y(function(c,u){a.length===0&&c([]);var f=a.length;a.forEach(function(h,g){return Y.resolve(h).then(function(v){a[g]=v,--f||c(a)},u)})})},resolve:function(a){return a instanceof Y?a:a&&typeof a.then=="function"?new Y(function(c,u){a.then(c,u)}):new Y(Ho,!0,a)},reject:ys,race:function(){var a=Pt.apply(null,arguments).map(xs);return new Y(function(c,u){a.map(function(f){return Y.resolve(f).then(c,u)})})},PSD:{get:function(){return ne},set:function(a){return ne=a}},totalEchoes:{get:function(){return ws}},newPSD:_n,usePSD:si,scheduler:{get:function(){return Go},set:function(a){Go=a}},rejectionMapper:{get:function(){return xu},set:function(a){xu=a}},follow:function(a,c){return new Y(function(u,f){return _n(function(h,g){var v=ne;v.unhandleds=[],v.onunhandled=g,v.finalize=ni(function(){var b,x=this;b=function(){x.unhandleds.length===0?h():g(x.unhandleds[0])},vs.push(function E(){b(),vs.splice(vs.indexOf(E),1)}),++ai,Go(function(){--ai==0&&Ru()},[])},v.finalize),a()},c,u,f)})}}),ii&&(ii.allSettled&&S(Y,"allSettled",function(){var a=Pt.apply(null,arguments).map(xs);return new Y(function(c){a.length===0&&c([]);var u=a.length,f=new Array(u);a.forEach(function(h,g){return Y.resolve(h).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||c(f)})})})}),ii.any&&typeof AggregateError<"u"&&S(Y,"any",function(){var a=Pt.apply(null,arguments).map(xs);return new Y(function(c,u){a.length===0&&u(new AggregateError([]));var f=a.length,h=new Array(f);a.forEach(function(g,v){return Y.resolve(g).then(function(b){return c(b)},function(b){h[v]=b,--f||u(new AggregateError(h))})})})}),ii.withResolvers&&(Y.withResolvers=ii.withResolvers));var ut={awaits:0,echoes:0,id:0},Qw=0,bs=[],_s=0,ws=0,Yw=0;function _n(a,c,u,f){var h=ne,g=Object.create(h);return g.parent=h,g.ref=0,g.global=!1,g.id=++Yw,bn.env,g.env=_u?{Promise:Y,PromiseProp:{value:Y,configurable:!0,writable:!0},all:Y.all,race:Y.race,allSettled:Y.allSettled,any:Y.any,resolve:Y.resolve,reject:Y.reject}:{},c&&s(g,c),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=si(g,a,u,f),g.ref===0&&g.finalize(),f}function Hi(){return ut.id||(ut.id=++Qw),++ut.awaits,ut.echoes+=_p,ut.id}function wn(){return!!ut.awaits&&(--ut.awaits==0&&(ut.id=0),ut.echoes=ut.awaits*_p,!0)}function xs(a){return ut.echoes&&a&&a.constructor===ii?(Hi(),a.then(function(c){return wn(),c},function(c){return wn(),Je(c)})):a}function Xw(){var a=bs[bs.length-1];bs.pop(),xn(a,!1)}function xn(a,c){var u,f=ne;(c?!ut.echoes||_s++&&a===ne:!_s||--_s&&a===ne)||queueMicrotask(c?function(h){++ws,ut.echoes&&--ut.echoes!=0||(ut.echoes=ut.awaits=ut.id=0),bs.push(ne),xn(h,!0)}.bind(null,a):Xw),a!==ne&&(ne=a,f===bn&&(bn.env=Cp()),_u&&(u=bn.env.Promise,c=a.env,(f.global||a.global)&&(Object.defineProperty(n,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any&&(u.any=c.any))))}function Cp(){var a=n.Promise;return _u?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function si(a,c,u,f,h){var g=ne;try{return xn(a,!0),c(u,f,h)}finally{xn(g,!1)}}function Sp(a,c,u,f){return typeof a!="function"?a:function(){var h=ne;u&&Hi(),xn(c,!0);try{return a.apply(this,arguments)}finally{xn(h,!1),f&&queueMicrotask(wn)}}}function Ou(a){Promise===ii&&ut.echoes===0?_s===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+rr).indexOf("[native code]")===-1&&(Hi=wn=Me);var Je=Y.reject,ci="\uFFFF",Zr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ep="String expected.",Ki=[],Cs="__dbnames",Du="readonly",Au="readwrite";function li(a,c){return a?c?function(){return a.apply(this,arguments)&&c.apply(this,arguments)}:a:c}var Rp={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ss(a){return typeof a!="string"||/\./.test(a)?function(c){return c}:function(c){return c[a]===void 0&&a in c&&delete(c=gr(c))[a],c}}function Op(){throw ae.Type()}function we(a,c){try{var u=Dp(a),f=Dp(c);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return c<a?1:a<c?-1:0;case"binary":return(function(h,g){for(var v=h.length,b=g.length,x=v<b?v:b,E=0;E<x;++E)if(h[E]!==g[E])return h[E]<g[E]?-1:1;return v===b?0:v<b?-1:1})(Ap(a),Ap(c));case"Array":return(function(h,g){for(var v=h.length,b=g.length,x=v<b?v:b,E=0;E<x;++E){var D=we(h[E],g[E]);if(D!==0)return D}return v===b?0:v<b?-1:1})(a,c)}}catch{}return NaN}function Dp(a){var c=typeof a;return c!="object"?c:ArrayBuffer.isView(a)?"binary":(a=vr(a),a==="ArrayBuffer"?"binary":a)}function Ap(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var kp=(qe.prototype._trans=function(a,c,u){var f=this._tx||ne.trans,h=this.name,g=Ir&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function v(E,D,_){if(!_.schema[h])throw new ae.NotFound("Table "+h+" not part of transaction");return c(_.idbtrans,_)}var b=qi();try{var x=f&&f.db._novip===this.db._novip?f===ne.trans?f._promise(a,v,u):_n(function(){return f._promise(a,v,u)},{trans:f,transless:ne.transless||ne}):(function E(D,_,I,C){if(D.idbdb&&(D._state.openComplete||ne.letThrough||D._vip)){var O=D._createTransaction(_,I,D._dbSchema);try{O.create(),D._state.PR1398_maxLoop=3}catch(k){return k.name===yn.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return E(D,_,I,C)})):Je(k)}return O._promise(_,function(k,R){return _n(function(){return ne.trans=O,C(k,R,O)})}).then(function(k){if(_==="readwrite")try{O.idbtrans.commit()}catch{}return _==="readonly"?k:O._completion.then(function(){return k})})}if(D._state.openComplete)return Je(new ae.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return Je(new ae.DatabaseClosed);D.open().catch(Me)}return D._state.dbReadyPromise.then(function(){return E(D,_,I,C)})})(this.db,a,[this.name],v);return g&&(x._consoleTask=g,x=x.catch(function(E){return console.trace(E),Je(E)})),x}finally{b&&Wi()}},qe.prototype.get=function(a,c){var u=this;return a&&a.constructor===Object?this.where(a).first(c):a==null?Je(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:a}).then(function(h){return u.hook.reading.fire(h)})}).then(c)},qe.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(o(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var c=i(a);if(c.length===1)return this.where(c[0]).equals(a[c[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&c.every(function(E){return 0<=b.keyPath.indexOf(E)})){for(var x=0;x<c.length;++x)if(c.indexOf(b.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(b,x){return b.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==ci){var g=u.keyPath.slice(0,c.length);return this.where(g).equals(g.map(function(x){return a[x]}))}!u&&Ir&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName;function h(b,x){return we(b,x)===0}var v=c.reduce(function(_,x){var E=_[0],D=_[1],_=f[x],I=a[x];return[E||_,E||!_?li(D,_&&_.multi?function(C){return C=Te(C,x),o(C)&&C.some(function(O){return h(I,O)})}:function(C){return h(I,Te(C,x))}):D]},[null,null]),g=v[0],v=v[1];return g?this.where(g.name).equals(a[g.keyPath]).filter(v):u?this.filter(v):this.where(c).equals("")},qe.prototype.filter=function(a){return this.toCollection().and(a)},qe.prototype.count=function(a){return this.toCollection().count(a)},qe.prototype.offset=function(a){return this.toCollection().offset(a)},qe.prototype.limit=function(a){return this.toCollection().limit(a)},qe.prototype.each=function(a){return this.toCollection().each(a)},qe.prototype.toArray=function(a){return this.toCollection().toArray(a)},qe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qe.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,o(a)?"[".concat(a.join("+"),"]"):a))},qe.prototype.reverse=function(){return this.toCollection().reverse()},qe.prototype.mapToClass=function(a){var c,u=this.db,f=this.name;function h(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof Op&&((function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function D(){this.constructor=x}e(x,E),x.prototype=E===null?Object.create(E):(D.prototype=E.prototype,new D)})(h,c=a),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},a=h);for(var g=new Set,v=a.prototype;v;v=l(v))Object.getOwnPropertyNames(v).forEach(function(x){return g.add(x)});function b(x){if(!x)return x;var E,D=Object.create(a.prototype);for(E in x)if(!g.has(E))try{D[E]=x[E]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),a},qe.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},qe.prototype.add=function(a,c){var u=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=a;return g&&h&&(v=Ss(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:c!=null?[c]:null,values:[v]})}).then(function(b){return b.numFailures?Y.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{ce(a,g,b)}catch{}return b})},qe.prototype.update=function(a,c){return typeof a!="object"||o(a)?this.where(":id").equals(a).modify(c):(a=Te(a,this.schema.primKey.keyPath),a===void 0?Je(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(c))},qe.prototype.put=function(a,c){var u=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=a;return g&&h&&(v=Ss(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[v],keys:c!=null?[c]:null})}).then(function(b){return b.numFailures?Y.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{ce(a,g,b)}catch{}return b})},qe.prototype.delete=function(a){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"delete",keys:[a]})}).then(function(u){return u.numFailures?Y.reject(u.failures[0]):void 0})},qe.prototype.clear=function(){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"deleteRange",range:Rp})}).then(function(c){return c.numFailures?Y.reject(c.failures[0]):void 0})},qe.prototype.bulkGet=function(a){var c=this;return this._trans("readonly",function(u){return c.core.getMany({keys:a,trans:u}).then(function(f){return f.map(function(h){return c.hook.reading.fire(h)})})})},qe.prototype.bulkAdd=function(a,c,u){var f=this,h=Array.isArray(c)?c:void 0,g=(u=u||(h?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var E=f.schema.primKey,b=E.auto,E=E.keyPath;if(E&&h)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,E=E&&b?a.map(Ss(E)):a;return f.core.mutate({trans:v,type:"add",keys:h,values:E,wantResults:g}).then(function(O){var _=O.numFailures,I=O.results,C=O.lastResult,O=O.failures;if(_===0)return g?I:C;throw new lt("".concat(f.name,".bulkAdd(): ").concat(_," of ").concat(x," operations failed"),O)})})},qe.prototype.bulkPut=function(a,c,u){var f=this,h=Array.isArray(c)?c:void 0,g=(u=u||(h?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var E=f.schema.primKey,b=E.auto,E=E.keyPath;if(E&&h)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,E=E&&b?a.map(Ss(E)):a;return f.core.mutate({trans:v,type:"put",keys:h,values:E,wantResults:g}).then(function(O){var _=O.numFailures,I=O.results,C=O.lastResult,O=O.failures;if(_===0)return g?I:C;throw new lt("".concat(f.name,".bulkPut(): ").concat(_," of ").concat(x," operations failed"),O)})})},qe.prototype.bulkUpdate=function(a){var c=this,u=this.core,f=a.map(function(v){return v.key}),h=a.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:f,cache:"clone"}).then(function(b){var x=[],E=[];a.forEach(function(_,I){var C=_.key,O=_.changes,k=b[I];if(k){for(var R=0,T=Object.keys(O);R<T.length;R++){var M=T[R],P=O[M];if(M===c.schema.primKey.keyPath){if(we(P,C)!==0)throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else ce(k,M,P)}g.push(I),x.push(C),E.push(k)}});var D=x.length;return u.mutate({trans:v,type:"put",keys:x,values:E,updates:{keys:f,changeSpecs:h}}).then(function(_){var I=_.numFailures,C=_.failures;if(I===0)return D;for(var O=0,k=Object.keys(C);O<k.length;O++){var R,T=k[O],M=g[Number(T)];M!=null&&(R=C[T],delete C[T],C[M]=R)}throw new lt("".concat(c.name,".bulkUpdate(): ").concat(I," of ").concat(D," operations failed"),C)})})})},qe.prototype.bulkDelete=function(a){var c=this,u=a.length;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:a})}).then(function(v){var h=v.numFailures,g=v.lastResult,v=v.failures;if(h===0)return g;throw new lt("".concat(c.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),v)})},qe);function qe(){}function Yo(a){function c(v,b){if(b){for(var x=arguments.length,E=new Array(x-1);--x;)E[x-1]=arguments[x];return u[v].subscribe.apply(null,E),a}if(typeof v=="string")return u[v]}var u={};c.addEventType=g;for(var f=1,h=arguments.length;f<h;++f)g(arguments[f]);return c;function g(v,b,x){if(typeof v!="object"){var E;b=b||Hw;var D={subscribers:[],fire:x=x||Me,subscribe:function(_){D.subscribers.indexOf(_)===-1&&(D.subscribers.push(_),D.fire=b(D.fire,_))},unsubscribe:function(_){D.subscribers=D.subscribers.filter(function(I){return I!==_}),D.fire=D.subscribers.reduce(b,x)}};return u[v]=c[v]=D}i(E=v).forEach(function(_){var I=E[_];if(o(I))g(_,E[_][0],E[_][1]);else{if(I!=="asap")throw new ae.InvalidArgument("Invalid event config");var C=g(_,Wo,function(){for(var O=arguments.length,k=new Array(O);O--;)k[O]=arguments[O];C.subscribers.forEach(function(R){te(function(){R.apply(null,k)})})})}})}}function Xo(a,c){return A(c).from({prototype:a}),c}function Gi(a,c){return!(a.filter||a.algorithm||a.or)&&(c?a.justLimit:!a.replayFilter)}function ku(a,c){a.filter=li(a.filter,c)}function Iu(a,c,u){var f=a.replayFilter;a.replayFilter=f?function(){return li(f(),c())}:c,a.justLimit=u&&!f}function Es(a,c){if(a.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(a.index);if(!u)throw new ae.Schema("KeyPath "+a.index+" on object store "+c.name+" is not indexed");return u}function Ip(a,c,u){var f=Es(a,c.schema);return c.openCursor({trans:u,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function Rs(a,c,u,f){var h=a.replayFilter?li(a.filter,a.replayFilter()):a.filter;if(a.or){var g={},v=function(b,x,E){var D,_;h&&!h(x,E,function(I){return x.stop(I)},function(I){return x.fail(I)})||((_=""+(D=x.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(D)),p(g,_)||(g[_]=!0,c(b,x,E)))};return Promise.all([a.or._iterate(v,u),Tp(Ip(a,f,u),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}return Tp(Ip(a,f,u),li(a.algorithm,h),c,!a.keysOnly&&a.valueMapper)}function Tp(a,c,u,f){var h=Ge(f?function(g,v,b){return u(f(g),v,b)}:u);return a.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};c&&!c(g,function(b){return v=b},function(b){g.stop(b),v=Me},function(b){g.fail(b),v=Me})||h(g.value,g,function(b){return v=b}),v()})})}var Jr=Symbol(),Zo=(Mp.prototype.execute=function(a){if(this.add!==void 0){var c=this.add;if(o(c))return t(t([],o(a)?a:[],!0),c,!0).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var u=this.remove;if(o(u))return o(a)?a.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(a)-u;if(typeof u=="bigint")try{return BigInt(a)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?this.replacePrefix[1]+a.substring(c.length):a},Mp);function Mp(a){Object.assign(this,a)}var Zw=(xe.prototype._read=function(a,c){var u=this._ctx;return u.error?u.table._trans(null,Je.bind(null,u.error)):u.table._trans("readonly",a).then(c)},xe.prototype._write=function(a){var c=this._ctx;return c.error?c.table._trans(null,Je.bind(null,c.error)):c.table._trans("readwrite",a,"locked")},xe.prototype._addAlgorithm=function(a){var c=this._ctx;c.algorithm=li(c.algorithm,a)},xe.prototype._iterate=function(a,c){return Rs(this._ctx,a,c,this._ctx.table.core)},xe.prototype.clone=function(a){var c=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return a&&s(u,a),c._ctx=u,c},xe.prototype.raw=function(){return this._ctx.valueMapper=null,this},xe.prototype.each=function(a){var c=this._ctx;return this._read(function(u){return Rs(c,a,u,c.table.core)})},xe.prototype.count=function(a){var c=this;return this._read(function(u){var f=c._ctx,h=f.table.core;if(Gi(f,!0))return h.count({trans:u,query:{index:Es(f,h.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return Rs(f,function(){return++g,!1},u,h).then(function(){return g})}).then(a)},xe.prototype.sortBy=function(a,c){var u=a.split(".").reverse(),f=u[0],h=u.length-1;function g(x,E){return E?g(x[u[E]],E-1):x[f]}var v=this._ctx.dir==="next"?1:-1;function b(x,E){return we(g(x,h),g(E,h))*v}return this.toArray(function(x){return x.sort(b)}).then(c)},xe.prototype.toArray=function(a){var c=this;return this._read(function(u){var f=c._ctx;if(f.dir==="next"&&Gi(f,!0)&&0<f.limit){var h=f.valueMapper,g=Es(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(b){return b=b.result,h?b.map(h):b})}var v=[];return Rs(f,function(b){return v.push(b)},u,f.table.core).then(function(){return v})},a)},xe.prototype.offset=function(a){var c=this._ctx;return a<=0||(c.offset+=a,Gi(c)?Iu(c,function(){var u=a;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):Iu(c,function(){var u=a;return function(){return--u<0}})),this},xe.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),Iu(this._ctx,function(){var c=a;return function(u,f,h){return--c<=0&&f(h),0<=c}},!0),this},xe.prototype.until=function(a,c){return ku(this._ctx,function(u,f,h){return!a(u.value)||(f(h),c)}),this},xe.prototype.first=function(a){return this.limit(1).toArray(function(c){return c[0]}).then(a)},xe.prototype.last=function(a){return this.reverse().first(a)},xe.prototype.filter=function(a){var c;return ku(this._ctx,function(u){return a(u.value)}),(c=this._ctx).isMatch=li(c.isMatch,a),this},xe.prototype.and=function(a){return this.filter(a)},xe.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},xe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xe.prototype.desc=function(){return this.reverse()},xe.prototype.eachKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.key,f)})},xe.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},xe.prototype.eachPrimaryKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.primaryKey,f)})},xe.prototype.keys=function(a){var c=this._ctx;c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(a)},xe.prototype.primaryKeys=function(a){var c=this._ctx;if(c.dir==="next"&&Gi(c,!0)&&0<c.limit)return this._read(function(f){var h=Es(c,c.table.core.schema);return c.table.core.query({trans:f,values:!1,limit:c.limit,query:{index:h,range:c.range}})}).then(function(f){return f.result}).then(a);c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(a)},xe.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},xe.prototype.firstKey=function(a){return this.limit(1).keys(function(c){return c[0]}).then(a)},xe.prototype.lastKey=function(a){return this.reverse().firstKey(a)},xe.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var c={};return ku(this._ctx,function(h){var f=h.primaryKey.toString(),h=p(c,f);return c[f]=!0,!h}),this},xe.prototype.modify=function(a){var c=this,u=this._ctx;return this._write(function(f){var h,g,v;v=typeof a=="function"?a:(h=i(a),g=h.length,function(R){for(var T=!1,M=0;M<g;++M){var P=h[M],B=a[P],V=Te(R,P);B instanceof Zo?(ce(R,P,B.execute(V)),T=!0):V!==B&&(ce(R,P,B),T=!0)}return T});var b=u.table.core,_=b.schema.primaryKey,x=_.outbound,E=_.extractKey,D=200,_=c.db._options.modifyChunkSize;_&&(D=typeof _=="object"?_[b.name]||_["*"]||200:_);function I(R,P){var M=P.failures,P=P.numFailures;O+=R-P;for(var B=0,V=i(M);B<V.length;B++){var K=V[B];C.push(M[K])}}var C=[],O=0,k=[];return c.clone().primaryKeys().then(function(R){function T(P){var B=Math.min(D,R.length-P);return b.getMany({trans:f,keys:R.slice(P,P+B),cache:"immutable"}).then(function(V){for(var K=[],q=[],W=x?[]:null,Q=[],H=0;H<B;++H){var J=V[H],pe={value:gr(J),primKey:R[P+H]};v.call(pe,pe.value,pe)!==!1&&(pe.value==null?Q.push(R[P+H]):x||we(E(J),E(pe.value))===0?(q.push(pe.value),x&&W.push(R[P+H])):(Q.push(R[P+H]),K.push(pe.value)))}return Promise.resolve(0<K.length&&b.mutate({trans:f,type:"add",values:K}).then(function(ve){for(var ye in ve.failures)Q.splice(parseInt(ye),1);I(K.length,ve)})).then(function(){return(0<q.length||M&&typeof a=="object")&&b.mutate({trans:f,type:"put",keys:W,values:q,criteria:M,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<P}).then(function(ve){return I(q.length,ve)})}).then(function(){return(0<Q.length||M&&a===Tu)&&b.mutate({trans:f,type:"delete",keys:Q,criteria:M,isAdditionalChunk:0<P}).then(function(ve){return I(Q.length,ve)})}).then(function(){return R.length>P+B&&T(P+D)})})}var M=Gi(u)&&u.limit===1/0&&(typeof a!="function"||a===Tu)&&{index:u.index,range:u.range};return T(0).then(function(){if(0<C.length)throw new ct("Error modifying one or more objects",C,O,k);return R.length})})})},xe.prototype.delete=function(){var a=this._ctx,c=a.range;return Gi(a)&&(a.isPrimKey||c.type===3)?this._write(function(u){var f=a.table.core.schema.primaryKey,h=c;return a.table.core.count({trans:u,query:{index:f,range:h}}).then(function(g){return a.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(v){var b=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new ct("Could not delete some values",Object.keys(b).map(function(x){return b[x]}),g-v);return g-v})})}):this.modify(Tu)},xe);function xe(){}var Tu=function(a,c){return c.value=null};function Jw(a,c){return a<c?-1:a===c?0:1}function ex(a,c){return c<a?-1:a===c?0:1}function Ut(a,c,u){return a=a instanceof Np?new a.Collection(a):a,a._ctx.error=new(u||TypeError)(c),a}function Qi(a){return new a.Collection(a,function(){return Pp("")}).limit(0)}function Os(a,c,u,f){var h,g,v,b,x,E,D,_=u.length;if(!u.every(function(O){return typeof O=="string"}))return Ut(a,Ep);function I(O){h=O==="next"?function(R){return R.toUpperCase()}:function(R){return R.toLowerCase()},g=O==="next"?function(R){return R.toLowerCase()}:function(R){return R.toUpperCase()},v=O==="next"?Jw:ex;var k=u.map(function(R){return{lower:g(R),upper:h(R)}}).sort(function(R,T){return v(R.lower,T.lower)});b=k.map(function(R){return R.upper}),x=k.map(function(R){return R.lower}),D=(E=O)==="next"?"":f}I("next"),a=new a.Collection(a,function(){return Cn(b[0],x[_-1]+f)}),a._ondirectionchange=function(O){I(O)};var C=0;return a._addAlgorithm(function(O,k,R){var T=O.key;if(typeof T!="string")return!1;var M=g(T);if(c(M,x,C))return!0;for(var P=null,B=C;B<_;++B){var V=(function(K,q,W,Q,H,J){for(var pe=Math.min(K.length,Q.length),ve=-1,ye=0;ye<pe;++ye){var zt=q[ye];if(zt!==Q[ye])return H(K[ye],W[ye])<0?K.substr(0,ye)+W[ye]+W.substr(ye+1):H(K[ye],Q[ye])<0?K.substr(0,ye)+Q[ye]+W.substr(ye+1):0<=ve?K.substr(0,ve)+q[ve]+W.substr(ve+1):null;H(K[ye],zt)<0&&(ve=ye)}return pe<Q.length&&J==="next"?K+W.substr(K.length):pe<K.length&&J==="prev"?K.substr(0,W.length):ve<0?null:K.substr(0,ve)+Q[ve]+W.substr(ve+1)})(T,M,b[B],x[B],v,E);V===null&&P===null?C=B+1:(P===null||0<v(P,V))&&(P=V)}return k(P!==null?function(){O.continue(P+D)}:R),!1}),a}function Cn(a,c,u,f){return{type:2,lower:a,upper:c,lowerOpen:u,upperOpen:f}}function Pp(a){return{type:1,lower:a,upper:a}}var Np=(Object.defineProperty(dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dt.prototype.between=function(a,c,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(a,c)||this._cmp(a,c)===0&&(u||f)&&(!u||!f)?Qi(this):new this.Collection(this,function(){return Cn(a,c,!u,!f)})}catch{return Ut(this,Zr)}},dt.prototype.equals=function(a){return a==null?Ut(this,Zr):new this.Collection(this,function(){return Pp(a)})},dt.prototype.above=function(a){return a==null?Ut(this,Zr):new this.Collection(this,function(){return Cn(a,void 0,!0)})},dt.prototype.aboveOrEqual=function(a){return a==null?Ut(this,Zr):new this.Collection(this,function(){return Cn(a,void 0,!1)})},dt.prototype.below=function(a){return a==null?Ut(this,Zr):new this.Collection(this,function(){return Cn(void 0,a,!1,!0)})},dt.prototype.belowOrEqual=function(a){return a==null?Ut(this,Zr):new this.Collection(this,function(){return Cn(void 0,a)})},dt.prototype.startsWith=function(a){return typeof a!="string"?Ut(this,Ep):this.between(a,a+ci,!0,!0)},dt.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):Os(this,function(c,u){return c.indexOf(u[0])===0},[a],ci)},dt.prototype.equalsIgnoreCase=function(a){return Os(this,function(c,u){return c===u[0]},[a],"")},dt.prototype.anyOfIgnoreCase=function(){var a=Pt.apply(gn,arguments);return a.length===0?Qi(this):Os(this,function(c,u){return u.indexOf(c)!==-1},a,"")},dt.prototype.startsWithAnyOfIgnoreCase=function(){var a=Pt.apply(gn,arguments);return a.length===0?Qi(this):Os(this,function(c,u){return u.some(function(f){return c.indexOf(f)===0})},a,ci)},dt.prototype.anyOf=function(){var a=this,c=Pt.apply(gn,arguments),u=this._cmp;try{c.sort(u)}catch{return Ut(this,Zr)}if(c.length===0)return Qi(this);var f=new this.Collection(this,function(){return Cn(c[0],c[c.length-1])});f._ondirectionchange=function(g){u=g==="next"?a._ascending:a._descending,c.sort(u)};var h=0;return f._addAlgorithm(function(g,v,b){for(var x=g.key;0<u(x,c[h]);)if(++h===c.length)return v(b),!1;return u(x,c[h])===0||(v(function(){g.continue(c[h])}),!1)}),f},dt.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dt.prototype.noneOf=function(){var a=Pt.apply(gn,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return Ut(this,Zr)}var c=a.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return c.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},dt.prototype.inAnyRange=function(T,c){var u=this,f=this._cmp,h=this._ascending,g=this._descending,v=this._min,b=this._max;if(T.length===0)return Qi(this);if(!T.every(function(M){return M[0]!==void 0&&M[1]!==void 0&&h(M[0],M[1])<=0}))return Ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var x=!c||c.includeLowers!==!1,E=c&&c.includeUppers===!0,D,_=h;function I(M,P){return _(M[0],P[0])}try{(D=T.reduce(function(M,P){for(var B=0,V=M.length;B<V;++B){var K=M[B];if(f(P[0],K[1])<0&&0<f(P[1],K[0])){K[0]=v(K[0],P[0]),K[1]=b(K[1],P[1]);break}}return B===V&&M.push(P),M},[])).sort(I)}catch{return Ut(this,Zr)}var C=0,O=E?function(M){return 0<h(M,D[C][1])}:function(M){return 0<=h(M,D[C][1])},k=x?function(M){return 0<g(M,D[C][0])}:function(M){return 0<=g(M,D[C][0])},R=O,T=new this.Collection(this,function(){return Cn(D[0][0],D[D.length-1][1],!x,!E)});return T._ondirectionchange=function(M){_=M==="next"?(R=O,h):(R=k,g),D.sort(I)},T._addAlgorithm(function(M,P,B){for(var V,K=M.key;R(K);)if(++C===D.length)return P(B),!1;return!O(V=K)&&!k(V)||(u._cmp(K,D[C][1])===0||u._cmp(K,D[C][0])===0||P(function(){_===h?M.continue(D[C][0]):M.continue(D[C][1])}),!1)}),T},dt.prototype.startsWithAnyOf=function(){var a=Pt.apply(gn,arguments);return a.every(function(c){return typeof c=="string"})?a.length===0?Qi(this):this.inAnyRange(a.map(function(c){return[c,c+ci]})):Ut(this,"startsWithAnyOf() only works with strings")},dt);function dt(){}function Tr(a){return Ge(function(c){return Jo(c),a(c.target.error),!1})}function Jo(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var ea="storagemutated",Mu="x-storagemutated-1",Sn=Yo(null,ea),tx=(Mr.prototype._lock=function(){return re(!ne.global),++this._reculock,this._reculock!==1||ne.global||(ne.lockOwnerFor=this),this},Mr.prototype._unlock=function(){if(re(!ne.global),--this._reculock==0)for(ne.global||(ne.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{si(a[1],a[0])}catch{}}return this},Mr.prototype._locked=function(){return this._reculock&&ne.lockOwnerFor!==this},Mr.prototype.create=function(a){var c=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(re(!this.idbtrans),!a&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(f);case"MissingAPIError":throw new ae.MissingAPI(f.message,f);default:throw new ae.OpenFailed(f)}if(!this.active)throw new ae.TransactionInactive;return re(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ge(function(h){Jo(h),c._reject(a.error)}),a.onabort=Ge(function(h){Jo(h),c.active&&c._reject(new ae.Abort(a.error)),c.active=!1,c.on("abort").fire(h)}),a.oncomplete=Ge(function(){c.active=!1,c._resolve(),"mutatedParts"in a&&Sn.storagemutated.fire(a.mutatedParts)}),this},Mr.prototype._promise=function(a,c,u){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return Je(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return Je(new ae.TransactionInactive);if(this._locked())return new Y(function(g,v){f._blockedFuncs.push([function(){f._promise(a,c,u).then(g,v)},ne])});if(u)return _n(function(){var g=new Y(function(v,b){f._lock();var x=c(v,b,f);x&&x.then&&x.then(v,b)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var h=new Y(function(g,v){var b=c(g,v,f);b&&b.then&&b.then(g,v)});return h._lib=!0,h},Mr.prototype._root=function(){return this.parent?this.parent._root():this},Mr.prototype.waitFor=function(a){var c,u=this._root(),f=Y.resolve(a);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],c=u.idbtrans.objectStore(u.storeNames[0]),(function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(c.get(-1/0).onsuccess=g)})());var h=u._waitingFor;return new Y(function(g,v){f.then(function(b){return u._waitingQueue.push(Ge(g.bind(null,b)))},function(b){return u._waitingQueue.push(Ge(v.bind(null,b)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},Mr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},Mr.prototype.table=function(a){var c=this._memoizedTables||(this._memoizedTables={});if(p(c,a))return c[a];var u=this.schema[a];if(!u)throw new ae.NotFound("Table "+a+" not part of transaction");return u=new this.db.Table(a,u,this),u.core=this.db.core.table(a),c[a]=u},Mr);function Mr(){}function Pu(a,c,u,f,h,g,v){return{name:a,keyPath:c,unique:u,multi:f,auto:h,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(h?"++":"")+Lp(c)}}function Lp(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Nu(a,c,u){return{name:a,primKey:c,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,g,v){return v=f(g,v),v&&(h[v[0]]=v[1]),h},{}))};var f}var ta=function(a){try{return a.only([[]]),ta=function(){return[[]]},[[]]}catch{return ta=function(){return ci},ci}};function Lu(a){return a==null?function(){}:typeof a=="string"?(c=a).split(".").length===1?function(u){return u[c]}:function(u){return Te(u,c)}:function(u){return Te(u,a)};var c}function Fp(a){return[].slice.call(a)}var rx=0;function ra(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function nx(a,c,x){function f(R){if(R.type===3)return null;if(R.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=R.lower,O=R.upper,k=R.lowerOpen,R=R.upperOpen;return C===void 0?O===void 0?null:c.upperBound(O,!!R):O===void 0?c.lowerBound(C,!!k):c.bound(C,O,!!k,!!R)}function h(I){var C,O=I.name;return{name:O,schema:I,mutate:function(k){var R=k.trans,T=k.type,M=k.keys,P=k.values,B=k.range;return new Promise(function(V,K){V=Ge(V);var q=R.objectStore(O),W=q.keyPath==null,Q=T==="put"||T==="add";if(!Q&&T!=="delete"&&T!=="deleteRange")throw new Error("Invalid operation type: "+T);var H,J=(M||P||{length:1}).length;if(M&&P&&M.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(J===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function pe(Ot){++zt,Jo(Ot)}var ve=[],ye=[],zt=0;if(T==="deleteRange"){if(B.type===4)return V({numFailures:zt,failures:ye,results:[],lastResult:void 0});B.type===3?ve.push(H=q.clear()):ve.push(H=q.delete(f(B)))}else{var W=Q?W?[P,M]:[P,null]:[M,null],he=W[0],wt=W[1];if(Q)for(var xt=0;xt<J;++xt)ve.push(H=wt&&wt[xt]!==void 0?q[T](he[xt],wt[xt]):q[T](he[xt])),H.onerror=pe;else for(xt=0;xt<J;++xt)ve.push(H=q[T](he[xt])),H.onerror=pe}function js(Ot){Ot=Ot.target.result,ve.forEach(function(fi,ed){return fi.error!=null&&(ye[ed]=fi.error)}),V({numFailures:zt,failures:ye,results:T==="delete"?M:ve.map(function(fi){return fi.result}),lastResult:Ot})}H.onerror=function(Ot){pe(Ot),js(Ot)},H.onsuccess=js})},getMany:function(k){var R=k.trans,T=k.keys;return new Promise(function(M,P){M=Ge(M);for(var B,V=R.objectStore(O),K=T.length,q=new Array(K),W=0,Q=0,H=function(ve){ve=ve.target,q[ve._pos]=ve.result,++Q===W&&M(q)},J=Tr(P),pe=0;pe<K;++pe)T[pe]!=null&&((B=V.get(T[pe]))._pos=pe,B.onsuccess=H,B.onerror=J,++W);W===0&&M(q)})},get:function(k){var R=k.trans,T=k.key;return new Promise(function(M,P){M=Ge(M);var B=R.objectStore(O).get(T);B.onsuccess=function(V){return M(V.target.result)},B.onerror=Tr(P)})},query:(C=E,function(k){return new Promise(function(R,T){R=Ge(R);var M,P,B,W=k.trans,V=k.values,K=k.limit,H=k.query,q=K===1/0?void 0:K,Q=H.index,H=H.range,W=W.objectStore(O),Q=Q.isPrimaryKey?W:W.index(Q.name),H=f(H);if(K===0)return R({result:[]});C?((q=V?Q.getAll(H,q):Q.getAllKeys(H,q)).onsuccess=function(J){return R({result:J.target.result})},q.onerror=Tr(T)):(M=0,P=!V&&"openKeyCursor"in Q?Q.openKeyCursor(H):Q.openCursor(H),B=[],P.onsuccess=function(J){var pe=P.result;return pe?(B.push(V?pe.value:pe.primaryKey),++M===K?R({result:B}):void pe.continue()):R({result:B})},P.onerror=Tr(T))})}),openCursor:function(k){var R=k.trans,T=k.values,M=k.query,P=k.reverse,B=k.unique;return new Promise(function(V,K){V=Ge(V);var Q=M.index,q=M.range,W=R.objectStore(O),W=Q.isPrimaryKey?W:W.index(Q.name),Q=P?B?"prevunique":"prev":B?"nextunique":"next",H=!T&&"openKeyCursor"in W?W.openKeyCursor(f(q),Q):W.openCursor(f(q),Q);H.onerror=Tr(K),H.onsuccess=Ge(function(J){var pe,ve,ye,zt,he=H.result;he?(he.___id=++rx,he.done=!1,pe=he.continue.bind(he),ve=(ve=he.continuePrimaryKey)&&ve.bind(he),ye=he.advance.bind(he),zt=function(){throw new Error("Cursor not stopped")},he.trans=R,he.stop=he.continue=he.continuePrimaryKey=he.advance=function(){throw new Error("Cursor not started")},he.fail=Ge(K),he.next=function(){var wt=this,xt=1;return this.start(function(){return xt--?wt.continue():wt.stop()}).then(function(){return wt})},he.start=function(wt){function xt(){if(H.result)try{wt()}catch(Ot){he.fail(Ot)}else he.done=!0,he.start=function(){throw new Error("Cursor behind last entry")},he.stop()}var js=new Promise(function(Ot,fi){Ot=Ge(Ot),H.onerror=Tr(fi),he.fail=fi,he.stop=function(ed){he.stop=he.continue=he.continuePrimaryKey=he.advance=zt,Ot(ed)}});return H.onsuccess=Ge(function(Ot){H.onsuccess=xt,xt()}),he.continue=pe,he.continuePrimaryKey=ve,he.advance=ye,xt(),js},V(he)):V(null)},K)})},count:function(k){var R=k.query,T=k.trans,M=R.index,P=R.range;return new Promise(function(B,V){var K=T.objectStore(O),q=M.isPrimaryKey?K:K.index(M.name),K=f(P),q=K?q.count(K):q.count();q.onsuccess=Ge(function(W){return B(W.target.result)}),q.onerror=Tr(V)})}}}var g,v,b,D=(v=x,b=Fp((g=a).objectStoreNames),{schema:{name:g.name,tables:b.map(function(I){return v.objectStore(I)}).map(function(I){var C=I.keyPath,R=I.autoIncrement,O=o(C),k={},R={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:O,keyPath:C,autoIncrement:R,unique:!0,extractKey:Lu(C)},indexes:Fp(I.indexNames).map(function(T){return I.index(T)}).map(function(B){var M=B.name,P=B.unique,V=B.multiEntry,B=B.keyPath,V={name:M,compound:o(B),keyPath:B,unique:P,multiEntry:V,extractKey:Lu(B)};return k[ra(B)]=V}),getIndexByKeyPath:function(T){return k[ra(T)]}};return k[":id"]=R.primaryKey,C!=null&&(k[ra(C)]=R.primaryKey),R})},hasGetAll:0<b.length&&"getAll"in v.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),x=D.schema,E=D.hasGetAll,D=x.tables.map(h),_={};return D.forEach(function(I){return _[I.name]=I}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(I){if(!_[I])throw new Error("Table '".concat(I,"' not found"));return _[I]},MIN_KEY:-1/0,MAX_KEY:ta(c),schema:x}}function ix(a,c,u,f){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=nx(c,h,f),a.dbcore.reduce(function(g,v){return v=v.create,r(r({},g),v(g))},f))}}function Ds(a,f){var u=f.db,f=ix(a._middlewares,u,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(h){var g=h.name;a.core.schema.tables.some(function(v){return v.name===g})&&(h.core=a.core.table(g),a[g]instanceof a.Table&&(a[g].core=h.core))})}function As(a,c,u,f){u.forEach(function(h){var g=f[h];c.forEach(function(v){var b=(function x(E,D){return N(E,D)||(E=l(E))&&x(E,D)})(v,h);(!b||"value"in b&&b.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?S(v,h,{get:function(){return this.table(h)},set:function(x){y(this,h,{value:x,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new a.Table(h,g))})})}function Fu(a,c){c.forEach(function(u){for(var f in u)u[f]instanceof a.Table&&delete u[f]})}function ox(a,c){return a._cfg.version-c._cfg.version}function ax(a,c,u,f){var h=a._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Nu("$meta",$p("")[0],[]),a._storeNames.push("$meta"));var g=a._createTransaction("readwrite",a._storeNames,h);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),b=ne.transless||ne;_n(function(){return ne.trans=g,ne.transless=b,c!==0?(Ds(a,u),E=c,((x=g).storeNames.includes("$meta")?x.table("$meta").get("version").then(function(D){return D??E}):Y.resolve(E)).then(function(D){return I=D,C=g,O=u,k=[],D=(_=a)._versions,R=_._dbSchema=Is(0,_.idbdb,O),(D=D.filter(function(T){return T._cfg.version>=I})).length!==0?(D.forEach(function(T){k.push(function(){var M=R,P=T._cfg.dbschema;Ts(_,M,O),Ts(_,P,O),R=_._dbSchema=P;var B=Bu(M,P);B.add.forEach(function(Q){$u(O,Q[0],Q[1].primKey,Q[1].indexes)}),B.change.forEach(function(Q){if(Q.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var H=O.objectStore(Q.name);Q.add.forEach(function(J){return ks(H,J)}),Q.change.forEach(function(J){H.deleteIndex(J.name),ks(H,J)}),Q.del.forEach(function(J){return H.deleteIndex(J)})});var V=T._cfg.contentUpgrade;if(V&&T._cfg.version>I){Ds(_,O),C._memoizedTables={};var K=Ne(P);B.del.forEach(function(Q){K[Q]=M[Q]}),Fu(_,[_.Transaction.prototype]),As(_,[_.Transaction.prototype],i(K),K),C.schema=K;var q,W=vn(V);return W&&Hi(),B=Y.follow(function(){var Q;(q=V(C))&&W&&(Q=wn.bind(null,null),q.then(Q,Q))}),q&&typeof q.then=="function"?Y.resolve(q):B.then(function(){return q})}}),k.push(function(M){var P,B,V=T._cfg.dbschema;P=V,B=M,[].slice.call(B.db.objectStoreNames).forEach(function(K){return P[K]==null&&B.db.deleteObjectStore(K)}),Fu(_,[_.Transaction.prototype]),As(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),C.schema=_._dbSchema}),k.push(function(M){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===T._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(P){return P!=="$meta"})):M.objectStore("$meta").put(T._cfg.version,"version"))})}),(function T(){return k.length?Y.resolve(k.shift()(C.idbtrans)).then(T):Y.resolve()})().then(function(){Bp(R,O)})):Y.resolve();var _,I,C,O,k,R}).catch(v)):(i(h).forEach(function(D){$u(u,D,h[D].primKey,h[D].indexes)}),Ds(a,u),void Y.follow(function(){return a.on.populate.fire(g)}).catch(v));var x,E})}function sx(a,c){Bp(a._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=Is(0,a.idbdb,c);Ts(a,a._dbSchema,c);for(var f=0,h=Bu(u,a._dbSchema).change;f<h.length;f++){var g=(function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=c.objectStore(v.name);v.add.forEach(function(x){Ir&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(x.src)),ks(b,x)})})(h[f]);if(typeof g=="object")return g.value}}function Bu(a,c){var u,f={del:[],add:[],change:[]};for(u in a)c[u]||f.del.push(u);for(u in c){var h=a[u],g=c[u];if(h){var v={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var b=h.idxByName,x=g.idxByName,E=void 0;for(E in b)x[E]||v.del.push(E);for(E in x){var D=b[E],_=x[E];D?D.src!==_.src&&v.change.push(_):v.add.push(_)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([u,g])}return f}function $u(a,c,u,f){var h=a.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return ks(h,g)}),h}function Bp(a,c){i(a).forEach(function(u){c.db.objectStoreNames.contains(u)||(Ir&&console.debug("Dexie: Creating missing table",u),$u(c,u,a[u].primKey,a[u].indexes))})}function ks(a,c){a.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Is(a,c,u){var f={};return G(c.objectStoreNames,0).forEach(function(h){for(var g=u.objectStore(h),v=Pu(Lp(E=g.keyPath),E||"",!0,!1,!!g.autoIncrement,E&&typeof E!="string",!0),b=[],x=0;x<g.indexNames.length;++x){var D=g.index(g.indexNames[x]),E=D.keyPath,D=Pu(D.name,E,!!D.unique,!!D.multiEntry,!1,E&&typeof E!="string",!1);b.push(D)}f[h]=Nu(h,v,b)}),f}function Ts(a,c,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var g=f[h],v=u.objectStore(g);a._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var x=v.indexNames[b],E=v.index(x).keyPath,D=typeof E=="string"?E:"["+G(E).join("+")+"]";!c[g]||(E=c[g].idxByName[D])&&(E.name=x,delete c[g].idxByName[D],c[g].idxByName[x]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function $p(a){return a.split(",").map(function(c,u){var f=(c=c.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Pu(f,h||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),o(h),u===0)})}var cx=(Ms.prototype._parseStoresSpec=function(a,c){i(a).forEach(function(u){if(a[u]!==null){var f=$p(a[u]),h=f.shift();if(h.unique=!0,h.multi)throw new ae.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),c[u]=Nu(u,h,f)}})},Ms.prototype.stores=function(u){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,u):u;var u=c._versions,f={},h={};return u.forEach(function(g){s(f,g._cfg.storesSource),h=g._cfg.dbschema={},g._parseStoresSpec(f,h)}),c._dbSchema=h,Fu(c,[c._allTables,c,c.Transaction.prototype]),As(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],i(h),h),c._storeNames=i(h),this},Ms.prototype.upgrade=function(a){return this._cfg.contentUpgrade=bu(this._cfg.contentUpgrade||Me,a),this},Ms);function Ms(){}function ju(a,c){var u=a._dbNamesDB;return u||(u=a._dbNamesDB=new en(Cs,{addons:[],indexedDB:a,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Uu(a){return a&&typeof a.databases=="function"}function zu(a){return _n(function(){return ne.letThrough=!0,a()})}function Vu(a){return!("from"in a)}var _t=function(a,c){if(!this){var u=new _t;return a&&"d"in a&&s(u,a),u}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?c:a}:{d:0})};function na(a,c,u){var f=we(c,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Vu(a))return s(a,{from:c,to:u,d:1});var h=a.l,f=a.r;if(we(u,a.from)<0)return h?na(h,c,u):a.l={from:c,to:u,d:1,l:null,r:null},Up(a);if(0<we(c,a.to))return f?na(f,c,u):a.r={from:c,to:u,d:1,l:null,r:null},Up(a);we(c,a.from)<0&&(a.from=c,a.l=null,a.d=f?f.d+1:1),0<we(u,a.to)&&(a.to=u,a.r=null,a.d=a.l?a.l.d+1:1),u=!a.r,h&&!a.l&&ia(a,h),f&&u&&ia(a,f)}}function ia(a,c){Vu(c)||(function u(f,x){var g=x.from,v=x.to,b=x.l,x=x.r;na(f,g,v),b&&u(f,b),x&&u(f,x)})(a,c)}function jp(a,c){var u=Ps(c),f=u.next();if(f.done)return!1;for(var h=f.value,g=Ps(a),v=g.next(h.from),b=v.value;!f.done&&!v.done;){if(we(b.from,h.to)<=0&&0<=we(b.to,h.from))return!0;we(h.from,b.from)<0?h=(f=u.next(b.from)).value:b=(v=g.next(h.from)).value}return!1}function Ps(a){var c=Vu(a)?null:{s:0,n:a};return{next:function(u){for(var f=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&we(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||we(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Up(a){var c,u,f=(((c=a.r)===null||c===void 0?void 0:c.d)||0)-(((u=a.l)===null||u===void 0?void 0:u.d)||0),h=1<f?"r":f<-1?"l":"";h&&(c=h=="r"?"l":"r",u=r({},a),f=a[h],a.from=f.from,a.to=f.to,a[h]=f[h],u[h]=f[c],(a[c]=u).d=zp(u)),a.d=zp(a)}function zp(u){var c=u.r,u=u.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function Ns(a,c){return i(c).forEach(function(u){a[u]?ia(a[u],c[u]):a[u]=(function f(h){var g,v,b={};for(g in h)p(h,g)&&(v=h[g],b[g]=!v||typeof v!="object"||vt.has(v.constructor)?v:f(v));return b})(c[u])}),a}function qu(a,c){return a.all||c.all||Object.keys(a).some(function(u){return c[u]&&jp(c[u],a[u])})}m(_t.prototype,((rr={add:function(a){return ia(this,a),this},addKey:function(a){return na(this,a,a),this},addKeys:function(a){var c=this;return a.forEach(function(u){return na(c,u,u)}),this},hasKey:function(a){var c=Ps(this).next(a).value;return c&&we(c.from,a)<=0&&0<=we(c.to,a)}})[Vo]=function(){return Ps(this)},rr));var ui={},Wu={},Hu=!1;function Ls(a){Ns(Wu,a),Hu||(Hu=!0,setTimeout(function(){Hu=!1,Ku(Wu,!(Wu={}))},0))}function Ku(a,c){c===void 0&&(c=!1);var u=new Set;if(a.all)for(var f=0,h=Object.values(ui);f<h.length;f++)Vp(v=h[f],a,u,c);else for(var g in a){var v,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(v=ui["idb://".concat(g,"/").concat(b)])&&Vp(v,a,u,c))}u.forEach(function(x){return x()})}function Vp(a,c,u,f){for(var h=[],g=0,v=Object.entries(a.queries.query);g<v.length;g++){for(var b=v[g],x=b[0],E=[],D=0,_=b[1];D<_.length;D++){var I=_[D];qu(c,I.obsSet)?I.subscribers.forEach(function(R){return u.add(R)}):f&&E.push(I)}f&&h.push([x,E])}if(f)for(var C=0,O=h;C<O.length;C++){var k=O[C],x=k[0],E=k[1];a.queries.query[x]=E}}function lx(a){var c=a._state,u=a._deps.indexedDB;if(c.isBeingOpened||a.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Je(c.dbOpenError):a});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,h=Math.round(10*a.verno),g=!1;function v(){if(c.openCanceller!==f)throw new ae.DatabaseClosed("db.open() was cancelled")}function b(){return new Y(function(I,C){if(v(),!u)throw new ae.MissingAPI;var O=a.name,k=c.autoSchema||!h?u.open(O):u.open(O,h);if(!k)throw new ae.MissingAPI;k.onerror=Tr(C),k.onblocked=Ge(a._fireOnBlocked),k.onupgradeneeded=Ge(function(R){var T;D=k.transaction,c.autoSchema&&!a._options.allowEmptyDB?(k.onerror=Jo,D.abort(),k.result.close(),(T=u.deleteDatabase(O)).onsuccess=T.onerror=Ge(function(){C(new ae.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(D.onerror=Tr(C),R=R.oldVersion>Math.pow(2,62)?0:R.oldVersion,_=R<1,a.idbdb=k.result,g&&sx(a,D),ax(a,R/10,D,C))},C),k.onsuccess=Ge(function(){D=null;var R,T,M,P,B,V=a.idbdb=k.result,K=G(V.objectStoreNames);if(0<K.length)try{var q=V.transaction((P=K).length===1?P[0]:P,"readonly");if(c.autoSchema)T=V,M=q,(R=a).verno=T.version/10,M=R._dbSchema=Is(0,T,M),R._storeNames=G(T.objectStoreNames,0),As(R,[R._allTables],i(M),M);else if(Ts(a,a._dbSchema,q),((B=Bu(Is(0,(B=a).idbdb,q),B._dbSchema)).add.length||B.change.some(function(W){return W.add.length||W.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),h=V.version+1,g=!0,I(b());Ds(a,q)}catch{}Ki.push(a),V.onversionchange=Ge(function(W){c.vcFired=!0,a.on("versionchange").fire(W)}),V.onclose=Ge(function(W){a.on("close").fire(W)}),_&&(B=a._deps,q=O,V=B.indexedDB,B=B.IDBKeyRange,Uu(V)||q===Cs||ju(V,B).put({name:q}).catch(Me)),I()},C)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<h)return h=0,b()}return Y.reject(I)})}var x,E=c.dbReadyResolve,D=null,_=!1;return Y.race([f,(typeof navigator>"u"?Y.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function C(){return indexedDB.databases().finally(I)}x=setInterval(C,100),C()}).finally(function(){return clearInterval(x)}):Promise.resolve()).then(b)]).then(function(){return v(),c.onReadyBeingFired=[],Y.resolve(zu(function(){return a.on.ready.fire(a.vip)})).then(function I(){if(0<c.onReadyBeingFired.length){var C=c.onReadyBeingFired.reduce(bu,Me);return c.onReadyBeingFired=[],Y.resolve(zu(function(){return C(a.vip)})).then(I)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(I){c.dbOpenError=I;try{D&&D.abort()}catch{}return f===c.openCanceller&&a._close(),Je(I)}).finally(function(){c.openComplete=!0,E()}).then(function(){var I;return _&&(I={},a.tables.forEach(function(C){C.schema.indexes.forEach(function(O){O.name&&(I["idb://".concat(a.name,"/").concat(C.name,"/").concat(O.name)]=new _t(-1/0,[[[]]]))}),I["idb://".concat(a.name,"/").concat(C.name,"/")]=I["idb://".concat(a.name,"/").concat(C.name,"/:dels")]=new _t(-1/0,[[[]]])}),Sn(ea).fire(I),Ku(I,!0)),a})}function Gu(a){function c(g){return a.next(g)}var u=h(c),f=h(function(g){return a.throw(g)});function h(g){return function(x){var b=g(x),x=b.value;return b.done?x:x&&typeof x.then=="function"?x.then(u,f):o(x)?Promise.all(x).then(u,f):u(x)}}return h(c)()}function Fs(a,c,u){for(var f=o(a)?a.slice():[a],h=0;h<u;++h)f.push(c);return f}var ux={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema,h={},g=[];function v(_,I,C){var O=ra(_),k=h[O]=h[O]||[],R=_==null?0:typeof _=="string"?1:_.length,T=0<I,T=r(r({},C),{name:T?"".concat(O,"(virtual-from:").concat(C.name,")"):C.name,lowLevelIndex:C,isVirtual:T,keyTail:I,keyLength:R,extractKey:Lu(_),unique:!T&&C.unique});return k.push(T),T.isPrimaryKey||g.push(T),1<R&&v(R===2?_[0]:_.slice(0,R-1),I+1,C),k.sort(function(M,P){return M.keyTail-P.keyTail}),T}c=v(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[c];for(var b=0,x=f.indexes;b<x.length;b++){var E=x[b];v(E.keyPath,0,E)}function D(_){var I,C=_.query.index;return C.isVirtual?r(r({},_),{query:{index:C.lowLevelIndex,range:(I=_.query.range,C=C.keyTail,{type:I.type===1?2:I.type,lower:Fs(I.lower,I.lowerOpen?a.MAX_KEY:a.MIN_KEY,C),lowerOpen:!0,upper:Fs(I.upper,I.upperOpen?a.MIN_KEY:a.MAX_KEY,C),upperOpen:!0})}}):_}return r(r({},u),{schema:r(r({},f),{primaryKey:c,indexes:g,getIndexByKeyPath:function(_){return(_=h[ra(_)])&&_[0]}}),count:function(_){return u.count(D(_))},query:function(_){return u.query(D(_))},openCursor:function(_){var I=_.query.index,C=I.keyTail,O=I.isVirtual,k=I.keyLength;return O?u.openCursor(D(_)).then(function(T){return T&&R(T)}):u.openCursor(_);function R(T){return Object.create(T,{continue:{value:function(M){M!=null?T.continue(Fs(M,_.reverse?a.MAX_KEY:a.MIN_KEY,C)):_.unique?T.continue(T.key.slice(0,k).concat(_.reverse?a.MIN_KEY:a.MAX_KEY,C)):T.continue()}},continuePrimaryKey:{value:function(M,P){T.continuePrimaryKey(Fs(M,a.MAX_KEY,C),P)}},primaryKey:{get:function(){return T.primaryKey}},key:{get:function(){var M=T.key;return k===1?M[0]:M.slice(0,k)}},value:{get:function(){return T.value}}})}}})}})}};function Qu(a,c,u,f){return u=u||{},f=f||"",i(a).forEach(function(h){var g,v,b;p(c,h)?(g=a[h],v=c[h],typeof g=="object"&&typeof v=="object"&&g&&v?(b=vr(g))!==vr(v)?u[f+h]=c[h]:b==="Object"?Qu(g,v,u,f+h+"."):g!==v&&(u[f+h]=c[h]):g!==v&&(u[f+h]=c[h])):u[f+h]=void 0}),i(c).forEach(function(h){p(a,h)||(u[f+h]=c[h])}),u}function Yu(a,c){return c.type==="delete"?c.keys:c.keys||c.values.map(a.extractKey)}var dx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema.primaryKey;return r(r({},u),{mutate:function(h){var g=ne.trans,v=g.table(c).hook,b=v.deleting,x=v.creating,E=v.updating;switch(h.type){case"add":if(x.fire===Me)break;return g._promise("readwrite",function(){return D(h)},!0);case"put":if(x.fire===Me&&E.fire===Me)break;return g._promise("readwrite",function(){return D(h)},!0);case"delete":if(b.fire===Me)break;return g._promise("readwrite",function(){return D(h)},!0);case"deleteRange":if(b.fire===Me)break;return g._promise("readwrite",function(){return(function _(I,C,O){return u.query({trans:I,values:!1,query:{index:f,range:C},limit:O}).then(function(k){var R=k.result;return D({type:"delete",keys:R,trans:I}).then(function(T){return 0<T.numFailures?Promise.reject(T.failures[0]):R.length<O?{failures:[],numFailures:0,lastResult:void 0}:_(I,r(r({},C),{lower:R[R.length-1],lowerOpen:!0}),O)})})})(h.trans,h.range,1e4)},!0)}return u.mutate(h);function D(_){var I,C,O,k=ne.trans,R=_.keys||Yu(f,_);if(!R)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?r(r({},_),{keys:R}):r({},_)).type!=="delete"&&(_.values=t([],_.values,!0)),_.keys&&(_.keys=t([],_.keys,!0)),I=u,O=R,((C=_).type==="add"?Promise.resolve([]):I.getMany({trans:C.trans,keys:O,cache:"immutable"})).then(function(T){var M=R.map(function(P,B){var V,K,q,W=T[B],Q={onerror:null,onsuccess:null};return _.type==="delete"?b.fire.call(Q,P,W,k):_.type==="add"||W===void 0?(V=x.fire.call(Q,P,_.values[B],k),P==null&&V!=null&&(_.keys[B]=P=V,f.outbound||ce(_.values[B],f.keyPath,P))):(V=Qu(W,_.values[B]),(K=E.fire.call(Q,V,P,W,k))&&(q=_.values[B],Object.keys(K).forEach(function(H){p(q,H)?q[H]=K[H]:ce(q,H,K[H])}))),Q});return u.mutate(_).then(function(P){for(var B=P.failures,V=P.results,K=P.numFailures,P=P.lastResult,q=0;q<R.length;++q){var W=(V||R)[q],Q=M[q];W==null?Q.onerror&&Q.onerror(B[q]):Q.onsuccess&&Q.onsuccess(_.type==="put"&&T[q]?_.values[q]:W)}return{failures:B,results:V,numFailures:K,lastResult:P}}).catch(function(P){return M.forEach(function(B){return B.onerror&&B.onerror(P)}),Promise.reject(P)})})}}})}})}};function qp(a,c,u){try{if(!c||c.keys.length<a.length)return null;for(var f=[],h=0,g=0;h<c.keys.length&&g<a.length;++h)we(c.keys[h],a[g])===0&&(f.push(u?gr(c.values[h]):c.values[h]),++g);return f.length===a.length?f:null}catch{return null}}var fx={stack:"dbcore",level:-1,create:function(a){return{table:function(c){var u=a.table(c);return r(r({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=qp(f.keys,f.trans._cache,f.cache==="clone");return h?Y.resolve(h):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?gr(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Wp(a,c){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Hp(a,c){switch(a){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var hx={stack:"dbcore",level:0,name:"Observability",create:function(a){var c=a.schema.name,u=new _t(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(f,h,g){if(ne.subscr&&h!=="readonly")throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ne.querier));return a.transaction(f,h,g)},table:function(f){var h=a.table(f),g=h.schema,v=g.primaryKey,_=g.indexes,b=v.extractKey,x=v.outbound,E=v.autoIncrement&&_.filter(function(C){return C.compound&&C.keyPath.includes(v.keyPath)}),D=r(r({},h),{mutate:function(C){function O(H){return H="idb://".concat(c,"/").concat(f,"/").concat(H),P[H]||(P[H]=new _t)}var k,R,T,M=C.trans,P=C.mutatedParts||(C.mutatedParts={}),B=O(""),V=O(":dels"),K=C.type,Q=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[Yu(v,C).filter(function(H){return H}),C.values]:[],q=Q[0],W=Q[1],Q=C.trans._cache;return o(q)?(B.addKeys(q),(Q=K==="delete"||q.length===W.length?qp(q,Q):null)||V.addKeys(q),(Q||W)&&(k=O,R=Q,T=W,g.indexes.forEach(function(H){var J=k(H.name||"");function pe(ye){return ye!=null?H.extractKey(ye):null}function ve(ye){return H.multiEntry&&o(ye)?ye.forEach(function(zt){return J.addKey(zt)}):J.addKey(ye)}(R||T).forEach(function(ye,wt){var he=R&&pe(R[wt]),wt=T&&pe(T[wt]);we(he,wt)!==0&&(he!=null&&ve(he),wt!=null&&ve(wt))})}))):q?(W={from:(W=q.lower)!==null&&W!==void 0?W:a.MIN_KEY,to:(W=q.upper)!==null&&W!==void 0?W:a.MAX_KEY},V.add(W),B.add(W)):(B.add(u),V.add(u),g.indexes.forEach(function(H){return O(H.name).add(u)})),h.mutate(C).then(function(H){return!q||C.type!=="add"&&C.type!=="put"||(B.addKeys(H.results),E&&E.forEach(function(J){for(var pe=C.values.map(function(he){return J.extractKey(he)}),ve=J.keyPath.findIndex(function(he){return he===v.keyPath}),ye=0,zt=H.results.length;ye<zt;++ye)pe[ye][ve]=H.results[ye];O(J.name).addKeys(pe)})),M.mutatedParts=Ns(M.mutatedParts||{},P),H})}}),_=function(O){var k=O.query,O=k.index,k=k.range;return[O,new _t((O=k.lower)!==null&&O!==void 0?O:a.MIN_KEY,(k=k.upper)!==null&&k!==void 0?k:a.MAX_KEY)]},I={get:function(C){return[v,new _t(C.key)]},getMany:function(C){return[v,new _t().addKeys(C.keys)]},count:_,query:_,openCursor:_};return i(I).forEach(function(C){D[C]=function(O){var k=ne.subscr,R=!!k,T=Wp(ne,h)&&Hp(C,O)?O.obsSet={}:k;if(R){var M=function(W){return W="idb://".concat(c,"/").concat(f,"/").concat(W),T[W]||(T[W]=new _t)},P=M(""),B=M(":dels"),k=I[C](O),R=k[0],k=k[1];if((C==="query"&&R.isPrimaryKey&&!O.values?B:M(R.name||"")).add(k),!R.isPrimaryKey){if(C!=="count"){var V=C==="query"&&x&&O.values&&h.query(r(r({},O),{values:!1}));return h[C].apply(this,arguments).then(function(W){if(C==="query"){if(x&&O.values)return V.then(function(pe){return pe=pe.result,P.addKeys(pe),W});var Q=O.values?W.result.map(b):W.result;(O.values?P:B).addKeys(Q)}else if(C==="openCursor"){var H=W,J=O.values;return H&&Object.create(H,{key:{get:function(){return B.addKey(H.primaryKey),H.key}},primaryKey:{get:function(){var pe=H.primaryKey;return B.addKey(pe),pe}},value:{get:function(){return J&&P.addKey(H.primaryKey),H.value}}})}return W})}B.add(u)}}return h[C].apply(this,arguments)}}),D}})}};function Kp(a,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return u.numFailures===f?null:(c=r({},c),o(c.keys)&&(c.keys=c.keys.filter(function(h,g){return!(g in u.failures)})),"values"in c&&o(c.values)&&(c.values=c.values.filter(function(h,g){return!(g in u.failures)})),c)}function Xu(a,c){return u=a,((f=c).lower===void 0||(f.lowerOpen?0<we(u,f.lower):0<=we(u,f.lower)))&&(a=a,(c=c).upper===void 0||(c.upperOpen?we(a,c.upper)<0:we(a,c.upper)<=0));var u,f}function Gp(a,c,I,f,h,g){if(!I||I.length===0)return a;var v=c.query.index,b=v.multiEntry,x=c.query.range,E=f.schema.primaryKey.extractKey,D=v.extractKey,_=(v.lowLevelIndex||v).extractKey,I=I.reduce(function(C,O){var k=C,R=[];if(O.type==="add"||O.type==="put")for(var T=new _t,M=O.values.length-1;0<=M;--M){var P,B=O.values[M],V=E(B);T.hasKey(V)||(P=D(B),(b&&o(P)?P.some(function(H){return Xu(H,x)}):Xu(P,x))&&(T.addKey(V),R.push(B)))}switch(O.type){case"add":var K=new _t().addKeys(c.values?C.map(function(J){return E(J)}):C),k=C.concat(c.values?R.filter(function(J){return J=E(J),!K.hasKey(J)&&(K.addKey(J),!0)}):R.map(function(J){return E(J)}).filter(function(J){return!K.hasKey(J)&&(K.addKey(J),!0)}));break;case"put":var q=new _t().addKeys(O.values.map(function(J){return E(J)}));k=C.filter(function(J){return!q.hasKey(c.values?E(J):J)}).concat(c.values?R:R.map(function(J){return E(J)}));break;case"delete":var W=new _t().addKeys(O.keys);k=C.filter(function(J){return!W.hasKey(c.values?E(J):J)});break;case"deleteRange":var Q=O.range;k=C.filter(function(J){return!Xu(E(J),Q)})}return k},a);return I===a?a:(I.sort(function(C,O){return we(_(C),_(O))||we(E(C),E(O))}),c.limit&&c.limit<1/0&&(I.length>c.limit?I.length=c.limit:a.length===c.limit&&I.length<c.limit&&(h.dirty=!0)),g?Object.freeze(I):I)}function Qp(a,c){return we(a.lower,c.lower)===0&&we(a.upper,c.upper)===0&&!!a.lowerOpen==!!c.lowerOpen&&!!a.upperOpen==!!c.upperOpen}function px(a,c){return(function(u,f,h,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=we(u,f))===0){if(h&&g)return 0;if(h)return 1;if(g)return-1}return f})(a.lower,c.lower,a.lowerOpen,c.lowerOpen)<=0&&0<=(function(u,f,h,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=we(u,f))===0){if(h&&g)return 0;if(h)return-1;if(g)return 1}return f})(a.upper,c.upper,a.upperOpen,c.upperOpen)}function mx(a,c,u,f){a.subscribers.add(u),f.addEventListener("abort",function(){var h,g;a.subscribers.delete(u),a.subscribers.size===0&&(h=a,g=c,setTimeout(function(){h.subscribers.size===0&&Xr(g,h)},3e3))})}var gx={stack:"dbcore",level:0,name:"Cache",create:function(a){var c=a.schema.name;return r(r({},a),{transaction:function(u,f,h){var g,v,b=a.transaction(u,f,h);return f==="readwrite"&&(v=(g=new AbortController).signal,h=function(x){return function(){if(g.abort(),f==="readwrite"){for(var E=new Set,D=0,_=u;D<_.length;D++){var I=_[D],C=ui["idb://".concat(c,"/").concat(I)];if(C){var O=a.table(I),k=C.optimisticOps.filter(function(J){return J.trans===b});if(b._explicit&&x&&b.mutatedParts)for(var R=0,T=Object.values(C.queries.query);R<T.length;R++)for(var M=0,P=(K=T[R]).slice();M<P.length;M++)qu((q=P[M]).obsSet,b.mutatedParts)&&(Xr(K,q),q.subscribers.forEach(function(J){return E.add(J)}));else if(0<k.length){C.optimisticOps=C.optimisticOps.filter(function(J){return J.trans!==b});for(var B=0,V=Object.values(C.queries.query);B<V.length;B++)for(var K,q,W,Q=0,H=(K=V[B]).slice();Q<H.length;Q++)(q=H[Q]).res!=null&&b.mutatedParts&&(x&&!q.dirty?(W=Object.isFrozen(q.res),W=Gp(q.res,q.req,k,O,q,W),q.dirty?(Xr(K,q),q.subscribers.forEach(function(J){return E.add(J)})):W!==q.res&&(q.res=W,q.promise=Y.resolve({result:W}))):(q.dirty&&Xr(K,q),q.subscribers.forEach(function(J){return E.add(J)})))}}}E.forEach(function(J){return J()})}}},b.addEventListener("abort",h(!1),{signal:v}),b.addEventListener("error",h(!1),{signal:v}),b.addEventListener("complete",h(!0),{signal:v})),b},table:function(u){var f=a.table(u),h=f.schema.primaryKey;return r(r({},f),{mutate:function(g){var v=ne.trans;if(h.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(g);var b=ui["idb://".concat(c,"/").concat(u)];return b?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Yu(h,g).some(function(x){return x==null}))?(b.optimisticOps.push(g),g.mutatedParts&&Ls(g.mutatedParts),v.then(function(x){0<x.numFailures&&(Xr(b.optimisticOps,g),(x=Kp(0,g,x))&&b.optimisticOps.push(x),g.mutatedParts&&Ls(g.mutatedParts))}),v.catch(function(){Xr(b.optimisticOps,g),g.mutatedParts&&Ls(g.mutatedParts)})):v.then(function(x){var E=Kp(0,r(r({},g),{values:g.values.map(function(D,_){var I;return x.failures[_]?D:(D=(I=h.keyPath)!==null&&I!==void 0&&I.includes(".")?gr(D):r({},D),ce(D,h.keyPath,x.results[_]),D)})}),x);b.optimisticOps.push(E),queueMicrotask(function(){return g.mutatedParts&&Ls(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!Wp(ne,f)||!Hp("query",g))return f.query(g);var v=((E=ne.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",_=ne,b=_.requery,x=_.signal,E=(function(O,k,R,T){var M=ui["idb://".concat(O,"/").concat(k)];if(!M)return[];if(!(k=M.queries[R]))return[null,!1,M,null];var P=k[(T.query?T.query.index.name:null)||""];if(!P)return[null,!1,M,null];switch(R){case"query":var B=P.find(function(V){return V.req.limit===T.limit&&V.req.values===T.values&&Qp(V.req.query.range,T.query.range)});return B?[B,!0,M,P]:[P.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=T.limit&&(!T.values||V.req.values)&&px(V.req.query.range,T.query.range)}),!1,M,P];case"count":return B=P.find(function(V){return Qp(V.req.query.range,T.query.range)}),[B,!!B,M,P]}})(c,u,"query",g),D=E[0],_=E[1],I=E[2],C=E[3];return D&&_?D.obsSet=g.obsSet:(_=f.query(g).then(function(O){var k=O.result;if(D&&(D.res=k),v){for(var R=0,T=k.length;R<T;++R)Object.freeze(k[R]);Object.freeze(k)}else O.result=gr(k);return O}).catch(function(O){return C&&D&&Xr(C,D),Promise.reject(O)}),D={obsSet:g.obsSet,promise:_,subscribers:new Set,type:"query",req:g,dirty:!1},C?C.push(D):(C=[D],(I=I||(ui["idb://".concat(c,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=C)),mx(D,C,b,x),D.promise.then(function(O){return{result:Gp(O.result,g,I?.optimisticOps,f,D,v)}})}})}})}};function Bs(a,c){return new Proxy(a,{get:function(u,f,h){return f==="db"?c:Reflect.get(u,f,h)}})}var en=(et.prototype.version=function(a){if(isNaN(a)||a<.1)throw new ae.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var c=this._versions,u=c.filter(function(f){return f._cfg.version===a})[0];return u||(u=new this.Version(a),c.push(u),c.sort(ox),u.stores({}),this._state.autoSchema=!1,u)},et.prototype._whenReady=function(a){var c=this;return this.idbdb&&(this._state.openComplete||ne.letThrough||this._vip)?a():new Y(function(u,f){if(c._state.openComplete)return f(new ae.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void f(new ae.DatabaseClosed);c.open().catch(Me)}c._state.dbReadyPromise.then(u,f)}).then(a)},et.prototype.use=function(a){var c=a.stack,u=a.create,f=a.level,h=a.name;return h&&this.unuse({stack:c,name:h}),a=this._middlewares[c]||(this._middlewares[c]=[]),a.push({stack:c,create:u,level:f??10,name:h}),a.sort(function(g,v){return g.level-v.level}),this},et.prototype.unuse=function(a){var c=a.stack,u=a.name,f=a.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},et.prototype.open=function(){var a=this;return si(bn,function(){return lx(a)})},et.prototype._close=function(){var a=this._state,c=Ki.indexOf(this);if(0<=c&&Ki.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new Y(function(u){a.dbReadyResolve=u}),a.openCanceller=new Y(function(u,f){a.cancelOpen=f}))},et.prototype.close=function(u){var c=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;c?(u.isBeingOpened&&u.cancelOpen(new ae.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new ae.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},et.prototype.delete=function(a){var c=this;a===void 0&&(a={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new Y(function(h,g){function v(){c.close(a);var b=c._deps.indexedDB.deleteDatabase(c.name);b.onsuccess=Ge(function(){var x,E,D;x=c._deps,E=c.name,D=x.indexedDB,x=x.IDBKeyRange,Uu(D)||E===Cs||ju(D,x).delete(E).catch(Me),h()}),b.onerror=Tr(g),b.onblocked=c._fireOnBlocked}if(u)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},et.prototype.backendDB=function(){return this.idbdb},et.prototype.isOpen=function(){return this.idbdb!==null},et.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(et.prototype,"tables",{get:function(){var a=this;return i(this._allTables).map(function(c){return a._allTables[c]})},enumerable:!1,configurable:!0}),et.prototype.transaction=function(){var a=function(c,u,f){var h=arguments.length;if(h<2)throw new ae.InvalidArgument("Too few arguments");for(var g=new Array(h-1);--h;)g[h-1]=arguments[h];return f=g.pop(),[c,Ve(g),f]}.apply(this,arguments);return this._transaction.apply(this,a)},et.prototype._transaction=function(a,c,u){var f=this,h=ne.trans;h&&h.db===this&&a.indexOf("!")===-1||(h=null);var g,v,b=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(v=c.map(function(E){if(E=E instanceof f.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),a=="r"||a===Du)g=Du;else{if(a!="rw"&&a!=Au)throw new ae.InvalidArgument("Invalid transaction mode: "+a);g=Au}if(h){if(h.mode===Du&&g===Au){if(!b)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&v.forEach(function(E){if(h&&h.storeNames.indexOf(E)===-1){if(!b)throw new ae.SubTransaction("Table "+E+" not included in parent transaction.");h=null}}),b&&h&&!h.active&&(h=null)}}catch(E){return h?h._promise(null,function(D,_){_(E)}):Je(E)}var x=function E(D,_,I,C,O){return Y.resolve().then(function(){var k=ne.transless||ne,R=D._createTransaction(_,I,D._dbSchema,C);if(R.explicit=!0,k={trans:R,transless:k},C)R.idbtrans=C.idbtrans;else try{R.create(),R.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(P){return P.name===yn.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return E(D,_,I,null,O)})):Je(P)}var T,M=vn(O);return M&&Hi(),k=Y.follow(function(){var P;(T=O.call(R,R))&&(M?(P=wn.bind(null,null),T.then(P,P)):typeof T.next=="function"&&typeof T.throw=="function"&&(T=Gu(T)))},k),(T&&typeof T.then=="function"?Y.resolve(T).then(function(P){return R.active?P:Je(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return T})).then(function(P){return C&&R._resolve(),R._completion.then(function(){return P})}).catch(function(P){return R._reject(P),Je(P)})})}.bind(null,this,g,v,h,u);return h?h._promise(g,x,"lock"):ne.trans?si(ne.transless,function(){return f._whenReady(x)}):this._whenReady(x)},et.prototype.table=function(a){if(!p(this._allTables,a))throw new ae.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},et);function et(a,c){var u=this;this._middlewares={},this.verno=0;var f=et.dependencies;this._options=c=r({addons:et.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},f=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,g,v,b,x,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Me,dbReadyPromise:null,cancelOpen:Me,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};E.dbReadyPromise=new Y(function(_){E.dbReadyResolve=_}),E.openCanceller=new Y(function(_,I){E.cancelOpen=I}),this._state=E,this.name=a,this.on=Yo(this,"populate","blocked","versionchange","close",{ready:[bu,Me]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(_){return function(I,C){et.vip(function(){var O,k=u._state;k.openComplete?(k.dbOpenError||Y.resolve().then(I),C&&_(I)):k.onReadyBeingFired?(k.onReadyBeingFired.push(I),C&&_(I)):(_(I),O=u,C||_(function R(){O.on.ready.unsubscribe(I),O.on.ready.unsubscribe(R)}))})}}),this.Collection=(h=this,Xo(Zw.prototype,function(T,R){this.db=h;var C=Rp,O=null;if(R)try{C=R()}catch(M){O=M}var k=T._ctx,R=k.table,T=R.hook.reading.fire;this._ctx={table:R,index:k.index,isPrimKey:!k.index||R.schema.primKey.keyPath&&k.index===R.schema.primKey.name,range:C,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:k.or,valueMapper:T!==Wo?T:null}})),this.Table=(g=this,Xo(kp.prototype,function(_,I,C){this.db=g,this._tx=C,this.name=_,this.schema=I,this.hook=g._allTables[_]?g._allTables[_].hook:Yo(null,{creating:[Vw,Me],reading:[zw,Wo],updating:[Ww,Me],deleting:[qw,Me]})})),this.Transaction=(v=this,Xo(tx.prototype,function(_,I,C,O,k){var R=this;this.db=v,this.mode=_,this.storeNames=I,this.schema=C,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Yo(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Y(function(T,M){R._resolve=T,R._reject=M}),this._completion.then(function(){R.active=!1,R.on.complete.fire()},function(T){var M=R.active;return R.active=!1,R.on.error.fire(T),R.parent?R.parent._reject(T):M&&R.idbtrans&&R.idbtrans.abort(),Je(T)})})),this.Version=(b=this,Xo(cx.prototype,function(_){this.db=b,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,Xo(Np.prototype,function(_,I,C){if(this.db=x,this._ctx={table:_,index:I===":id"?null:I,or:C},this._cmp=this._ascending=we,this._descending=function(O,k){return we(k,O)},this._max=function(O,k){return 0<we(O,k)?O:k},this._min=function(O,k){return we(O,k)<0?O:k},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=ta(c.IDBKeyRange),this._createTransaction=function(_,I,C,O){return new u.Transaction(_,I,C,u._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(_){u.on("blocked").fire(_),Ki.filter(function(I){return I.name===u.name&&I!==u&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(_)})},this.use(fx),this.use(gx),this.use(hx),this.use(ux),this.use(dx);var D=new Proxy(this,{get:function(_,I,C){if(I==="_vip")return!0;if(I==="table")return function(k){return Bs(u.table(k),D)};var O=Reflect.get(_,I,C);return O instanceof kp?Bs(O,D):I==="tables"?O.map(function(k){return Bs(k,D)}):I==="_createTransaction"?function(){return Bs(O.apply(this,arguments),D)}:O}});this.vip=D,f.forEach(function(_){return _(u)})}var $s,rr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",vx=(Zu.prototype.subscribe=function(a,c,u){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:c,complete:u})},Zu.prototype[rr]=function(){return this},Zu);function Zu(a){this._subscribe=a}try{$s={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch{$s={indexedDB:null,IDBKeyRange:null}}function Yp(a){var c,u=!1,f=new vx(function(h){var g=vn(a),v,b=!1,x={},E={},D={get closed(){return b},unsubscribe:function(){b||(b=!0,v&&v.abort(),_&&Sn.storagemutated.unsubscribe(C))}};h.start&&h.start(D);var _=!1,I=function(){return Ou(O)},C=function(k){Ns(x,k),qu(E,x)&&I()},O=function(){var k,R,T;!b&&$s.indexedDB&&(x={},k={},v&&v.abort(),v=new AbortController,T=(function(M){var P=qi();try{g&&Hi();var B=_n(a,M);return B=g?B.finally(wn):B}finally{P&&Wi()}})(R={subscr:k,signal:v.signal,requery:I,querier:a,trans:null}),Promise.resolve(T).then(function(M){u=!0,c=M,b||R.signal.aborted||(x={},(function(P){for(var B in P)if(p(P,B))return;return 1})(E=k)||_||(Sn(ea,C),_=!0),Ou(function(){return!b&&h.next&&h.next(M)}))},function(M){u=!1,["DatabaseClosedError","AbortError"].includes(M?.name)||b||Ou(function(){b||h.error&&h.error(M)})}))};return setTimeout(I,0),D});return f.hasValue=function(){return u},f.getValue=function(){return c},f}var di=en;function Ju(a){var c=En;try{En=!0,Sn.storagemutated.fire(a),Ku(a,!0)}finally{En=c}}m(di,r(r({},ps),{delete:function(a){return new di(a,{addons:[]}).delete()},exists:function(a){return new di(a,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return c=di.dependencies,u=c.indexedDB,c=c.IDBKeyRange,(Uu(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Cs})}):ju(u,c).toCollection().primaryKeys()).then(a)}catch{return Je(new ae.MissingAPI)}var c,u},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return ne.trans?si(ne.transless,a):a()},vip:zu,async:function(a){return function(){try{var c=Gu(a.apply(this,arguments));return c&&typeof c.then=="function"?c:Y.resolve(c)}catch(u){return Je(u)}}},spawn:function(a,c,u){try{var f=Gu(a.apply(u,c||[]));return f&&typeof f.then=="function"?f:Y.resolve(f)}catch(h){return Je(h)}},currentTransaction:{get:function(){return ne.trans||null}},waitFor:function(a,c){return c=Y.resolve(typeof a=="function"?di.ignoreTransaction(a):a).timeout(c||6e4),ne.trans?ne.trans.waitFor(c):c},Promise:Y,debug:{get:function(){return Ir},set:function(a){bp(a)}},derive:A,extend:s,props:m,override:ee,Events:Yo,on:Sn,liveQuery:Yp,extendObservabilitySet:Ns,getByKeyPath:Te,setByKeyPath:ce,delByKeyPath:function(a,c){typeof c=="string"?ce(a,c,void 0):"length"in c&&[].map.call(c,function(u){ce(a,u,void 0)})},shallowClone:Ne,deepClone:gr,getObjectDiff:Qu,cmp:we,asap:te,minKey:-1/0,addons:[],connections:Ki,errnames:yn,dependencies:$s,cache:ui,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,c,u){return a+c/Math.pow(10,2*u)})})),di.maxKey=ta(di.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Sn(ea,function(a){En||(a=new CustomEvent(Mu,{detail:a}),En=!0,dispatchEvent(a),En=!1)}),addEventListener(Mu,function(a){a=a.detail,En||Ju(a)}));var Yi,En=!1,Xp=function(){};return typeof BroadcastChannel<"u"&&((Xp=function(){(Yi=new BroadcastChannel(Mu)).onmessage=function(a){return a.data&&Ju(a.data)}})(),typeof Yi.unref=="function"&&Yi.unref(),Sn(ea,function(a){En||Yi.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!en.disableBfCache&&a.persisted){Ir&&console.debug("Dexie: handling persisted pagehide"),Yi?.close();for(var c=0,u=Ki;c<u.length;c++)u[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!en.disableBfCache&&a.persisted&&(Ir&&console.debug("Dexie: handling persisted pageshow"),Xp(),Ju({all:new _t(-1/0,[[]])}))})),Y.rejectionMapper=function(a,c){return!a||a instanceof yr||a instanceof TypeError||a instanceof SyntaxError||!a.name||!yp[a.name]?a:(c=new yp[a.name](c||a.message,a),"stack"in a&&S(c,"stack",{get:function(){return this.inner.stack}}),c)},bp(Ir),r(en,Object.freeze({__proto__:null,Dexie:en,liveQuery:Yp,Entity:Op,cmp:we,PropModSymbol:Jr,PropModification:Zo,replacePrefix:function(a,c){return new Zo({replacePrefix:[a,c]})},add:function(a){return new Zo({add:a})},remove:function(a){return new Zo({remove:a})},default:en,RangeSet:_t,mergeRanges:ia,rangesOverlap:jp}),{default:en}),en})});var da=class{_attachedHost;attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},an=class extends da{component;viewContainerRef;injector;projectableNodes;constructor(r,t,n,i){super(),this.component=r,this.viewContainerRef=t,this.injector=n,this.projectableNodes=i}},Br=class extends da{templateRef;viewContainerRef;context;injector;constructor(r,t,n,i){super(),this.templateRef=r,this.viewContainerRef=t,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(r,t=this.context){return this.context=t,super.attach(r)}detach(){return this.context=void 0,super.detach()}},bd=class extends da{element;constructor(r){super(),this.element=r instanceof Be?r.nativeElement:r}},Tn=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(r){if(r instanceof an)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof Br)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof bd)return this._attachedPortal=r,this.attachDomPortal(r)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},oc=class extends Tn{outletElement;_appRef;_defaultInjector;constructor(r,t,n){super(),this.outletElement=r,this._appRef=t,this._defaultInjector=n}attachComponentPortal(r){let t;if(r.viewContainerRef){let n=r.injector||r.viewContainerRef.injector,i=n.get(ld,null,{optional:!0})||void 0;t=r.viewContainerRef.createComponent(r.component,{index:r.viewContainerRef.length,injector:n,ngModuleRef:i,projectableNodes:r.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let n=this._appRef,i=r.injector||this._defaultInjector||_e.NULL,o=i.get(qt,n.injector);t=nc(r.component,{elementInjector:i,environmentInjector:o,projectableNodes:r.projectableNodes||void 0}),n.attachView(t.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=r,t}attachTemplatePortal(r){let t=r.viewContainerRef,n=t.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(n);i!==-1&&t.remove(i)}),this._attachedPortal=r,n}attachDomPortal=r=>{let t=r.element;t.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=r,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}},DD=(()=>{class e extends Br{constructor(){let t=w(nn),n=w(kn);super(t,n)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Rt]})}return e})(),Mn=(()=>{class e extends Tn{_moduleRef=w(ld,{optional:!0});_document=w(Le);_viewContainerRef=w(kn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new rt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let n=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=n.createComponent(t.component,{index:n.length,injector:t.injector||n.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=t=>{let n=t.element;n.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),n.parentNode.insertBefore(i,n),this._getRootNode().appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Rt]})}return e})(),sn=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({})}return e})();function fa(e){return e.buttons===0||e.detail===0}function ha(e){let r=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var _d;function Um(){if(_d==null){let e=typeof document<"u"?document.head:null;_d=!!(e&&(e.createShadowRoot||e.attachShadow))}return _d}function wd(e){if(Um()){let r=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function pa(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}function Dt(e){return e.composedPath?e.composedPath()[0]:e.target}var xd;try{xd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xd=!1}var $e=(()=>{class e{_platformId=w(Xs);isBrowser=this._platformId?ic(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||xd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ma;function zm(){if(ma==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ma=!0}))}finally{ma=ma||!1}return ma}function ro(e){return zm()?e:!!e.capture}function ga(e,r=0){return Vm(e)?Number(e):arguments.length===2?r:0}function Vm(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function $r(e){return e instanceof Be?e.nativeElement:e}var qm=new oe("cdk-input-modality-detector-options"),Wm={ignoreKeys:[18,17,224,91,16]},Hm=650,Cd={passive:!0,capture:!0},Km=(()=>{class e{_platform=w($e);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ft(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(n=>n===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dt(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<Hm||(this._modality.next(fa(t)?"keyboard":"mouse"),this._mostRecentTarget=Dt(t))};_onTouchstart=t=>{if(ha(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dt(t)};constructor(){let t=w(Ce),n=w(Le),i=w(qm,{optional:!0});if(this._options=$($({},Wm),i),this.modalityDetected=this._modality.pipe(Gs(1)),this.modalityChanged=this.modalityDetected.pipe(Dn()),this._platform.isBrowser){let o=w(xr).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(n,"keydown",this._onKeydown,Cd),o.listen(n,"mousedown",this._onMousedown,Cd),o.listen(n,"touchstart",this._onTouchstart,Cd)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),va=(function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e})(va||{}),Gm=new oe("cdk-focus-monitor-default-options"),ac=ro({passive:!0,capture:!0}),ya=(()=>{class e{_ngZone=w(Ce);_platform=w($e);_inputModalityDetector=w(Km);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=w(Le);_stopInputModalityDetector=new ie;constructor(){let t=w(Gm,{optional:!0});this._detectionMode=t?.detectionMode||va.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let n=Dt(t);for(let i=n;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,n=!1){let i=$r(t);if(!this._platform.isBrowser||i.nodeType!==1)return le();let o=wd(i)||this._document,s=this._elementInfo.get(i);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new ie,rootNode:o};return this._elementInfo.set(i,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){let n=$r(t),i=this._elementInfo.get(n);i&&(i.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(i))}focusVia(t,n,i){let o=$r(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,d])=>this._originChanged(l,n,d)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===va.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused",n==="touch"),t.classList.toggle("cdk-keyboard-focused",n==="keyboard"),t.classList.toggle("cdk-mouse-focused",n==="mouse"),t.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&n,this._detectionMode===va.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?Hm:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,n){let i=this._elementInfo.get(n),o=Dt(t);!i||!i.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),i)}_onBlur(t,n){let i=this._elementInfo.get(n);!i||i.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(i,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,ac),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,ac)}),this._rootNodeFocusListenerCount.set(n,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_r(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let i=this._rootNodeFocusListenerCount.get(n);i>1?this._rootNodeFocusListenerCount.set(n,i-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ac),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ac),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,i){this._setClasses(t,n),this._emitOrigin(i,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){let n=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&n.push([o,i])}),n}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:n,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!n||n===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sc=new WeakMap,ar=(()=>{class e{_appRef;_injector=w(_e);_environmentInjector=w(qt);load(t){let n=this._appRef=this._appRef||this._injector.get(hi),i=sc.get(n);i||(i={loaders:new Set,refs:[]},sc.set(n,i),n.onDestroy(()=>{sc.get(n)?.refs.forEach(o=>o.destroy()),sc.delete(n)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(nc(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return e})();function no(e){return Array.isArray(e)?e:[e]}var Qm=new Set,_i,lc=(()=>{class e{_platform=w($e);_nonce=w(hm,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wx}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&_x(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _x(e,r){if(!Qm.has(e))try{_i||(_i=document.createElement("style"),r&&_i.setAttribute("nonce",r),_i.setAttribute("type","text/css"),document.head.appendChild(_i)),_i.sheet&&(_i.sheet.insertRule(`@media ${e} {body{ }}`,0),Qm.add(e))}catch(t){console.error(t)}}function wx(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var ba=(()=>{class e{_mediaMatcher=w(lc);_zone=w(Ce);_queries=new Map;_destroySubject=new ie;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ym(no(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=Ym(no(t)).map(s=>this._registerQuery(s).observable),o=aa(i);return o=Vs(o.pipe(Nt(1)),o.pipe(Gs(1),Hs(0))),o.pipe(me(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:d,query:p})=>{l.matches=l.matches||d,l.breakpoints[p]=d}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let n=this._mediaMatcher.matchMedia(t),o={observable:new Rn(s=>{let l=d=>this._zone.run(()=>s.next(d));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Vt(n),me(({matches:s})=>({query:t,matches:s})),_r(this._destroySubject)),mql:n};return this._queries.set(t,o),o}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ym(e){return e.map(r=>r.split(",")).reduce((r,t)=>r.concat(t)).map(r=>r.trim())}var xx=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xm=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({providers:[xx]})}return e})();var Rd=(()=>{class e{_platform=w($e);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Sx(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let n=Cx(Tx(t));if(n&&(Zm(n)===-1||!this.isVisible(n)))return!1;let i=t.nodeName.toLowerCase(),o=Zm(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!kx(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,n){return Ix(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cx(e){try{return e.frameElement}catch{return null}}function Sx(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function Ex(e){let r=e.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function Rx(e){return Dx(e)&&e.type=="hidden"}function Ox(e){return Ax(e)&&e.hasAttribute("href")}function Dx(e){return e.nodeName.toLowerCase()=="input"}function Ax(e){return e.nodeName.toLowerCase()=="a"}function tg(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let r=e.getAttribute("tabindex");return!!(r&&!isNaN(parseInt(r,10)))}function Zm(e){if(!tg(e))return null;let r=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function kx(e){let r=e.nodeName.toLowerCase(),t=r==="input"&&e.type;return t==="text"||t==="password"||r==="select"||r==="textarea"}function Ix(e){return Rx(e)?!1:Ex(e)||Ox(e)||e.hasAttribute("contenteditable")||tg(e)}function Tx(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Ed=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_enabled=!0;constructor(r,t,n,i,o=!1,s){this._element=r,this._checker=t,this._ngZone=n,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let r=this._startAnchor,t=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let t=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return r=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let n=this._getFirstTabbableElement(t);return n?.focus(r),!!n}return t.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){let t=this._getRegionBoundary("start");return t&&t.focus(r),!!t}focusLastTabbableElement(r){let t=this._getRegionBoundary("end");return t&&t.focus(r),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let t=r.children;for(let n=0;n<t.length;n++){let i=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(i)return i}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let t=r.children;for(let n=t.length-1;n>=0;n--){let i=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(i)return i}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,t){r?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._injector?Ht(r,{injector:this._injector}):setTimeout(r)}},Od=(()=>{class e{_checker=w(Rd);_ngZone=w(Ce);_document=w(Le);_injector=w(_e);constructor(){w(ar).load(cc)}create(t,n=!1){return new Ed(t,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rg=new oe("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),ng=new oe("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Mx=0,Dd=(()=>{class e{_ngZone=w(Ce);_defaultOptions=w(ng,{optional:!0});_liveElement;_document=w(Le);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=w(rg,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...n){let i=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${Mx++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pn=(function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e})(Pn||{}),Jm="cdk-high-contrast-black-on-white",eg="cdk-high-contrast-white-on-black",Sd="cdk-high-contrast-active",ig=(()=>{class e{_platform=w($e);_hasCheckedHighContrastMode;_document=w(Le);_breakpointSubscription;constructor(){this._breakpointSubscription=w(ba).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Pn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let n=this._document.defaultView||window,i=n&&n.getComputedStyle?n.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Pn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Pn.BLACK_ON_WHITE}return Pn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Sd,Jm,eg),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Pn.BLACK_ON_WHITE?t.add(Sd,Jm):n===Pn.WHITE_ON_BLACK&&t.add(Sd,eg)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ad=(()=>{class e{constructor(){w(ig)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({imports:[Xm]})}return e})();var kd={},sr=class e{_appId=w(Ys);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(r,t=!1){return this._appId!=="ng"&&(r+=this._appId),kd.hasOwnProperty(r)||(kd[r]=0),`${r}${t?e._infix+"-":""}${kd[r]++}`}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})};var Px=200,uc=class{_letterKeyStream=new ie;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ie;selectedItem=this._selectedItem;constructor(r,t){let n=typeof t?.debounceInterval=="number"?t.debounceInterval:Px;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(r),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(r){this._selectedItemIndex=r}setItems(r){this._items=r}handleKey(r){let t=r.keyCode;r.key&&r.key.length===1?this._letterKeyStream.next(r.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(r){this._letterKeyStream.pipe(St(t=>this._pressedLetters.push(t)),Hs(r),ge(()=>this._pressedLetters.length>0),me(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let n=1;n<this._items.length+1;n++){let i=(this._selectedItemIndex+n)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Nn(e,...r){return r.length?r.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var io=class{_items;_activeItemIndex=wr(-1);_activeItem=wr(null);_wrap=!1;_typeaheadSubscription=nr.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=r=>r.disabled;constructor(r,t){this._items=r,r instanceof cd?this._itemChangesSubscription=r.changes.subscribe(n=>this._itemsChanged(n.toArray())):ud(r)&&(this._effectRef=sd(()=>this._itemsChanged(r()),{injector:t}))}tabOut=new ie;change=new ie;skipPredicate(r){return this._skipPredicateFn=r,this}withWrap(r=!0){return this._wrap=r,this}withVerticalOrientation(r=!0){return this._vertical=r,this}withHorizontalOrientation(r){return this._horizontal=r,this}withAllowedModifierKeys(r){return this._allowedModifierKeys=r,this}withTypeAhead(r=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new uc(t,{debounceInterval:typeof r=="number"?r:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(r=!0){return this._homeAndEnd=r,this}withPageUpDown(r=!0,t=10){return this._pageUpAndDown={enabled:r,delta:t},this}setActiveItem(r){let t=this._activeItem();this.updateActiveItem(r),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(r){let t=r.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!r[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||Nn(r,"shiftKey"))&&this._typeahead?.handleKey(r);return}this._typeahead?.reset(),r.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(r){let t=this._getItemsArray(),n=typeof r=="number"?r:t.indexOf(r),i=t[n];this._activeItem.set(i??null),this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(r){this._wrap?this._setActiveInWrapMode(r):this._setActiveInDefaultMode(r)}_setActiveInWrapMode(r){let t=this._getItemsArray();for(let n=1;n<=t.length;n++){let i=(this._activeItemIndex()+r*n+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(r){this._setActiveItemByIndex(this._activeItemIndex()+r,r)}_setActiveItemByIndex(r,t){let n=this._getItemsArray();if(n[r]){for(;this._skipPredicateFn(n[r]);)if(r+=t,!n[r])return;this.setActiveItem(r)}}_getItemsArray(){return ud(this._items)?this._items():this._items instanceof cd?this._items.toArray():this._items}_itemsChanged(r){this._typeahead?.setItems(r);let t=this._activeItem();if(t){let n=r.indexOf(t);n>-1&&n!==this._activeItemIndex()&&(this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n))}}};var Id=class extends io{setActiveItem(r){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(r),this.activeItem&&this.activeItem.setActiveStyles()}};var Td=class extends io{_origin="program";setFocusOrigin(r){return this._origin=r,this}setActiveItem(r){super.setActiveItem(r),this.activeItem&&this.activeItem.focus(this._origin)}};var ag=" ";function Nx(e,r,t){let n=fc(e,r);t=t.trim(),!n.some(i=>i.trim()===t)&&(n.push(t),e.setAttribute(r,n.join(ag)))}function Lx(e,r,t){let n=fc(e,r);t=t.trim();let i=n.filter(o=>o!==t);i.length?e.setAttribute(r,i.join(ag)):e.removeAttribute(r)}function fc(e,r){return e.getAttribute(r)?.match(/\S+/g)??[]}var sg="cdk-describedby-message",dc="cdk-describedby-host",Pd=0,hk=(()=>{class e{_platform=w($e);_document=w(Le);_messageRegistry=new Map;_messagesContainer=null;_id=`${Pd++}`;constructor(){w(ar).load(cc),this._id=w(Ys)+"-"+Pd++}describe(t,n,i){if(!this._canBeDescribed(t,n))return;let o=Md(n,i);typeof n!="string"?(og(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,n,i){if(!n||!this._isElementNode(t))return;let o=Md(n,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${dc}="${this._id}"]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(dc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,n){let i=this._document.createElement("div");og(i,this._id),i.textContent=t,n&&i.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Md(t,n),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let n=fc(t,"aria-describedby").filter(i=>i.indexOf(sg)!=0);t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){let i=this._messageRegistry.get(n);Nx(t,"aria-describedby",i.messageElement.id),t.setAttribute(dc,this._id),i.referenceCount++}_removeMessageReference(t,n){let i=this._messageRegistry.get(n);i.referenceCount--,Lx(t,"aria-describedby",i.messageElement.id),t.removeAttribute(dc)}_isElementDescribedByMessage(t,n){let i=fc(t,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&typeof n=="object")return!0;let i=n==null?"":`${n}`.trim(),o=t.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Md(e,r){return typeof e=="string"?`${r||""}/${e}`:e}function og(e,r){e.id||(e.id=`${sg}-${r}-${Pd++}`)}var Sr=(function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e})(Sr||{}),hc,wi;function pc(){if(wi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return wi=!1,wi;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)wi=!0;else{let e=Element.prototype.scrollTo;e?wi=!/\{\s*\[native code\]\s*\}/.test(e.toString()):wi=!1}}return wi}function oo(){if(typeof document!="object"||!document)return Sr.NORMAL;if(hc==null){let e=document.createElement("div"),r=e.style;e.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";let t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",e.appendChild(t),document.body.appendChild(e),hc=Sr.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,hc=e.scrollLeft===0?Sr.NEGATED:Sr.INVERTED),e.remove()}return hc}function Nd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ao,cg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ck(){if(ao)return ao;if(typeof document!="object"||!document)return ao=new Set(cg),ao;let e=document.createElement("input");return ao=new Set(cg.filter(r=>(e.setAttribute("type",r),e.type===r))),ao}var lg={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Fx=new oe("MATERIAL_ANIMATIONS"),ug=null;function Bx(){return w(Fx,{optional:!0})?.animationsDisabled||w(Zs,{optional:!0})==="NoopAnimations"?"di-disabled":(ug??=w(lc).matchMedia("(prefers-reduced-motion)").matches,ug?"reduced-motion":"enabled")}function cr(){return Bx()!=="enabled"}function tt(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Pk(e){return e!=null&&`${e}`!="false"}var lr=(function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e})(lr||{}),Ld=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=lr.HIDDEN;constructor(r,t,n,i=!1){this._renderer=r,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},dg=ro({passive:!0,capture:!0}),Fd=class{_events=new Map;addHandler(r,t,n,i){let o=this._events.get(t);if(o){let s=o.get(n);s?s.add(i):o.set(n,new Set([i]))}else this._events.set(t,new Map([[n,new Set([i])]])),r.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,dg)})}removeHandler(r,t,n){let i=this._events.get(r);if(!i)return;let o=i.get(t);o&&(o.delete(n),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,dg)))}_delegateEventHandler=r=>{let t=Dt(r);t&&this._events.get(r.type)?.forEach((n,i)=>{(i===t||i.contains(t))&&n.forEach(o=>o.handleEvent(r))})}},_a={enterDuration:225,exitDuration:150},$x=800,fg=ro({passive:!0,capture:!0}),hg=["mousedown","touchstart"],pg=["mouseup","mouseleave","touchend","touchcancel"],jx=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return e})(),wa=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Fd;constructor(r,t,n,i,o){this._target=r,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=$r(n)),o&&o.get(ar).load(jx)}fadeInRipple(r,t,n={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=$($({},_a),n.animation);n.centered&&(r=i.left+i.width/2,t=i.top+i.height/2);let s=n.radius||Ux(r,t,i),l=r-i.left,d=t-i.top,p=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-s}px`,m.style.top=`${d-s}px`,m.style.height=`${s*2}px`,m.style.width=`${s*2}px`,n.color!=null&&(m.style.backgroundColor=n.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);let y=window.getComputedStyle(m),S=y.transitionProperty,A=y.transitionDuration,N=S==="none"||A==="0s"||A==="0s, 0s"||i.width===0&&i.height===0,j=new Ld(this,m,n,N);m.style.transform="scale3d(1, 1, 1)",j.state=lr.FADING_IN,n.persistent||(this._mostRecentTransientRipple=j);let G=null;return!N&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let ee=()=>{G&&(G.fallbackTimer=null),clearTimeout(te),this._finishRippleTransition(j)},re=()=>this._destroyRipple(j),te=setTimeout(re,p+100);m.addEventListener("transitionend",ee),m.addEventListener("transitioncancel",re),G={onTransitionEnd:ee,onTransitionCancel:re,fallbackTimer:te}}),this._activeRipples.set(j,G),(N||!p)&&this._finishRippleTransition(j),j}fadeOutRipple(r){if(r.state===lr.FADING_OUT||r.state===lr.HIDDEN)return;let t=r.element,n=$($({},_a),r.config.animation);t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",r.state=lr.FADING_OUT,(r._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let t=$r(r);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,hg.forEach(n=>{e._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pg.forEach(t=>{this._triggerElement.addEventListener(t,this,fg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===lr.FADING_IN?this._startFadeOutTransition(r):r.state===lr.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let t=r===this._mostRecentTransientRipple,{persistent:n}=r.config;r.state=lr.VISIBLE,!n&&(!t||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let t=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=lr.HIDDEN,t!==null&&(r.element.removeEventListener("transitionend",t.onTransitionEnd),r.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),r.element.remove()}_onMousedown(r){let t=fa(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+$x;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!ha(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=r.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let t=r.state===lr.VISIBLE||r.config.terminateOnPointerUp&&r.state===lr.FADING_IN;!r.config.persistent&&t&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(hg.forEach(t=>e._eventManager.removeHandler(t,r,this)),this._pointerUpEventsRegistered&&(pg.forEach(t=>r.removeEventListener(t,this,fg)),this._pointerUpEventsRegistered=!1))}};function Ux(e,r,t){let n=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),i=Math.max(Math.abs(r-t.top),Math.abs(r-t.bottom));return Math.sqrt(n*n+i*i)}var Bd=new oe("mat-ripple-global-options"),Gk=(()=>{class e{_elementRef=w(Be);_animationsDisabled=cr();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=w(Ce),n=w($e),i=w(Bd,{optional:!0}),o=w(_e);this._globalOptions=i||{},this._rippleRenderer=new wa(this,t,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:$($($({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,n,$($({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,$($({},this.rippleConfig),t))}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,i){n&2&&or("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();var zx={capture:!0},Vx=["focus","mousedown","mouseenter","touchstart"],$d="mat-ripple-loader-uninitialized",jd="mat-ripple-loader-class-name",mg="mat-ripple-loader-centered",mc="mat-ripple-loader-disabled",gg=(()=>{class e{_document=w(Le);_animationsDisabled=cr();_globalRippleOptions=w(Bd,{optional:!0});_platform=w($e);_ngZone=w(Ce);_injector=w(_e);_eventCleanups;_hosts=new Map;constructor(){let t=w(xr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Vx.map(n=>t.listen(this._document,n,this._onInteraction,zx)))}ngOnDestroy(){let t=this._hosts.keys();for(let n of t)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(t,n){t.setAttribute($d,this._globalRippleOptions?.namespace??""),(n.className||!t.hasAttribute(jd))&&t.setAttribute(jd,n.className||""),n.centered&&t.setAttribute(mg,""),n.disabled&&t.setAttribute(mc,"")}setDisabled(t,n){let i=this._hosts.get(t);i?(i.target.rippleDisabled=n,!n&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):n?t.setAttribute(mc,""):t.removeAttribute(mc)}_onInteraction=t=>{let n=Dt(t);if(n instanceof HTMLElement){let i=n.closest(`[${$d}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",t.getAttribute(jd)),t.append(n);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??_a.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??_a.exitDuration,l={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(mc),rippleConfig:{centered:t.hasAttribute(mg),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},d=new wa(l,this._ngZone,n,this._platform,this._injector),p=!l.rippleDisabled;p&&d.setupTriggerEvents(t),this._hosts.set(t,{target:l,renderer:d,hasSetUpEvents:p}),t.removeAttribute($d)}destroyRipple(t){let n=this._hosts.get(t);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return e})();var qx=["mat-icon-button",""],Wx=["*"],Hx=new oe("MAT_BUTTON_CONFIG");function yg(e){return e==null?void 0:km(e)}var Ud=(()=>{class e{_elementRef=w(Be);_ngZone=w(Ce);_animationsDisabled=cr();_config=w(Hx,{optional:!0});_focusMonitor=w(ya);_cleanupClick;_renderer=w(Nr);_rippleLoader=w(gg);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){w(ar).load(vg);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,i){n&2&&(Cr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Rm(i.color?"mat-"+i.color:""),or("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ot],disabled:[2,"disabled","disabled",ot],ariaDisabled:[2,"aria-disabled","ariaDisabled",ot],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ot],tabIndex:[2,"tabIndex","tabIndex",yg],_tabindex:[2,"tabindex","_tabindex",yg]}})}return e})(),Kx=(()=>{class e extends Ud{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Rt],attrs:qx,ngContentSelectors:Wx,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(la(),mi(0,"span",0),vi(1),mi(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return e})();var bg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({imports:[Kt]})}return e})();var Gx=["matButton",""],Qx=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Yx=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var _g=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),wg=(()=>{class e extends Ud{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=Xx(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let n=this._elementRef.nativeElement.classList,i=this._appearance?_g.get(this._appearance):null,o=_g.get(t);i&&n.remove(...i),n.add(...o),this._appearance=t}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Rt],attrs:Gx,ngContentSelectors:Yx,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(la(Qx),mi(0,"span",0),vi(1),hd(2,"span",1),vi(3,1),pd(),vi(4,2),mi(5,"span",2)(6,"span",3)),n&2&&or("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return e})();function Xx(e){return e.hasAttribute("mat-raised-button")?"elevated":e.hasAttribute("mat-stroked-button")?"outlined":e.hasAttribute("mat-flat-button")?"filled":e.hasAttribute("mat-button")?"text":null}var xg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({imports:[bg,Kt]})}return e})();var ue="primary",Ta=Symbol("RouteTitle"),Hd=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ei(e){return new Hd(e)}function Ig(e,r,t){let n=t.path.split("/");if(n.length>e.length||t.pathMatch==="full"&&(r.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],l=e[o];if(s[0]===":")i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function wc(e){return new Promise((r,t)=>{e.pipe(An()).subscribe({next:n=>r(n),error:n=>t(n)})})}function Zx(e,r){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!jr(e[t],r[t]))return!1;return!0}function jr(e,r){let t=e?Kd(e):void 0,n=r?Kd(r):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Tg(e[i],r[i]))return!1;return!0}function Kd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Tg(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;let t=[...e].sort(),n=[...r].sort();return t.every((i,o)=>n[o]===i)}else return e===r}function Mg(e){return e.length>0?e[e.length-1]:null}function Ri(e){return Xi(e)?e:wm(e)?Ct(Promise.resolve(e)):le(e)}function Pg(e){return Xi(e)?wc(e):Promise.resolve(e)}var Jx={exact:Lg,subset:Fg},Ng={exact:e0,subset:t0,ignored:()=>!0};function Cg(e,r,t){return Jx[t.paths](e.root,r.root,t.matrixParams)&&Ng[t.queryParams](e.queryParams,r.queryParams)&&!(t.fragment==="exact"&&e.fragment!==r.fragment)}function e0(e,r){return jr(e,r)}function Lg(e,r,t){if(!Ci(e.segments,r.segments)||!yc(e.segments,r.segments,t)||e.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!e.children[n]||!Lg(e.children[n],r.children[n],t))return!1;return!0}function t0(e,r){return Object.keys(r).length<=Object.keys(e).length&&Object.keys(r).every(t=>Tg(e[t],r[t]))}function Fg(e,r,t){return Bg(e,r,r.segments,t)}function Bg(e,r,t,n){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Ci(i,t)||r.hasChildren()||!yc(i,t,n))}else if(e.segments.length===t.length){if(!Ci(e.segments,t)||!yc(e.segments,t,n))return!1;for(let i in r.children)if(!e.children[i]||!Fg(e.children[i],r.children[i],n))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Ci(e.segments,i)||!yc(e.segments,i,n)||!e.children[ue]?!1:Bg(e.children[ue],r,o,n)}}function yc(e,r,t){return r.every((n,i)=>Ng[t](e[i].parameters,n.parameters))}var Rr=class{root;queryParams;fragment;_queryParamMap;constructor(r=new Re([],{}),t={},n=null){this.root=r,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return i0.serialize(this)}},Re=class{segments;children;parent=null;constructor(r,t){this.segments=r,this.children=t,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bc(this)}},Ln=class{path;parameters;_parameterMap;constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return jg(this)}};function r0(e,r){return Ci(e,r)&&e.every((t,n)=>jr(t.parameters,r[n].parameters))}function Ci(e,r){return e.length!==r.length?!1:e.every((t,n)=>t.path===r[n].path)}function n0(e,r){let t=[];return Object.entries(e.children).forEach(([n,i])=>{n===ue&&(t=t.concat(r(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==ue&&(t=t.concat(r(i,n)))}),t}var Oi=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:()=>new cn,providedIn:"root"})}return e})(),cn=class{parse(r){let t=new Qd(r);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){let t=`/${xa(r.root,!0)}`,n=s0(r.queryParams),i=typeof r.fragment=="string"?`#${o0(r.fragment)}`:"";return`${t}${n}${i}`}},i0=new cn;function bc(e){return e.segments.map(r=>jg(r)).join("/")}function xa(e,r){if(!e.hasChildren())return bc(e);if(r){let t=e.children[ue]?xa(e.children[ue],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ue&&n.push(`${i}:${xa(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=n0(e,(n,i)=>i===ue?[xa(e.children[ue],!1)]:[`${i}:${xa(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[ue]!=null?`${bc(e)}/${t[0]}`:`${bc(e)}/(${t.join("//")})`}}function $g(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(e){return $g(e).replace(/%3B/gi,";")}function o0(e){return encodeURI(e)}function Gd(e){return $g(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _c(e){return decodeURIComponent(e)}function Sg(e){return _c(e.replace(/\+/g,"%20"))}function jg(e){return`${Gd(e.path)}${a0(e.parameters)}`}function a0(e){return Object.entries(e).map(([r,t])=>`;${Gd(r)}=${Gd(t)}`).join("")}function s0(e){let r=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(i=>`${gc(t)}=${gc(i)}`).join("&"):`${gc(t)}=${gc(n)}`).filter(t=>t);return r.length?`?${r.join("&")}`:""}var c0=/^[^\/()?;#]+/;function zd(e){let r=e.match(c0);return r?r[0]:""}var l0=/^[^\/()?;=#]+/;function u0(e){let r=e.match(l0);return r?r[0]:""}var d0=/^[^=?&#]+/;function f0(e){let r=e.match(d0);return r?r[0]:""}var h0=/^[^&#]+/;function p0(e){let r=e.match(h0);return r?r[0]:""}var Qd=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(n[ue]=new Re(r,t)),n}parseSegment(){let r=zd(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new Et(4009,!1);return this.capture(r),new Ln(_c(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let t=u0(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let i=zd(this.remaining);i&&(n=i,this.capture(n))}r[_c(t)]=_c(n)}parseQueryParam(r){let t=f0(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=p0(this.remaining);s&&(n=s,this.capture(n))}let i=Sg(t),o=Sg(n);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(o)}else r[i]=o}parseParens(r){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=zd(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new Et(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=ue);let s=this.parseChildren();t[o??ue]=Object.keys(s).length===1&&s[ue]?s[ue]:new Re([],s),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new Et(4011,!1)}};function Ug(e){return e.segments.length>0?new Re([],{[ue]:e}):e}function zg(e){let r={};for(let[n,i]of Object.entries(e.children)){let o=zg(i);if(n===ue&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))r[s]=l;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let t=new Re(e.segments,r);return m0(t)}function m0(e){if(e.numberOfChildren===1&&e.children[ue]){let r=e.children[ue];return new Re(e.segments.concat(r.segments),r.children)}return e}function Fn(e){return e instanceof Rr}function Vg(e,r,t=null,n=null,i=new cn){let o=qg(e);return Wg(o,r,t,n,i)}function qg(e){let r;function t(o){let s={};for(let d of o.children){let p=t(d);s[d.outlet]=p}let l=new Re(o.url,s);return o===e&&(r=l),l}let n=t(e.root),i=Ug(n);return r??i}function Wg(e,r,t,n,i){let o=e;for(;o.parent;)o=o.parent;if(r.length===0)return Vd(o,o,o,t,n,i);let s=g0(r);if(s.toRoot())return Vd(o,o,new Re([],{}),t,n,i);let l=v0(s,o,e),d=l.processChildren?Sa(l.segmentGroup,l.index,s.commands):Kg(l.segmentGroup,l.index,s.commands);return Vd(o,l.segmentGroup,d,t,n,i)}function xc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ra(e){return typeof e=="object"&&e!=null&&e.outlets}function Eg(e,r,t){e||="\u0275";let n=new Rr;return n.queryParams={[e]:r},t.parse(t.serialize(n)).queryParams[e]}function Vd(e,r,t,n,i,o){let s={};for(let[p,m]of Object.entries(n??{}))s[p]=Array.isArray(m)?m.map(y=>Eg(p,y,o)):Eg(p,m,o);let l;e===r?l=t:l=Hg(e,r,t);let d=Ug(zg(l));return new Rr(d,s,i)}function Hg(e,r,t){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===r?n[i]=t:n[i]=Hg(o,r,t)}),new Re(e.segments,n)}var Cc=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,t,n){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=n,r&&n.length>0&&xc(n[0]))throw new Et(4003,!1);let i=n.find(Ra);if(i&&i!==Mg(n))throw new Et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function g0(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Cc(!0,0,e);let r=0,t=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,p])=>{l[d]=typeof p=="string"?p.split("/"):p}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?t=!0:l===".."?r++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new Cc(t,r,n)}var co=class{segmentGroup;processChildren;index;constructor(r,t,n){this.segmentGroup=r,this.processChildren=t,this.index=n}};function v0(e,r,t){if(e.isAbsolute)return new co(r,!0,0);if(!t)return new co(r,!1,NaN);if(t.parent===null)return new co(t,!0,0);let n=xc(e.commands[0])?0:1,i=t.segments.length-1+n;return y0(t,i,e.numberOfDoubleDots)}function y0(e,r,t){let n=e,i=r,o=t;for(;o>i;){if(o-=i,n=n.parent,!n)throw new Et(4005,!1);i=n.segments.length}return new co(n,!1,i-o)}function b0(e){return Ra(e[0])?e[0].outlets:{[ue]:e}}function Kg(e,r,t){if(e??=new Re([],{}),e.segments.length===0&&e.hasChildren())return Sa(e,r,t);let n=_0(e,r,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new Re(e.segments.slice(0,n.pathIndex),{});return o.children[ue]=new Re(e.segments.slice(n.pathIndex),e.children),Sa(o,0,i)}else return n.match&&i.length===0?new Re(e.segments,{}):n.match&&!e.hasChildren()?Yd(e,r,t):n.match?Sa(e,0,i):Yd(e,r,t)}function Sa(e,r,t){if(t.length===0)return new Re(e.segments,{});{let n=b0(t),i={};if(Object.keys(n).some(o=>o!==ue)&&e.children[ue]&&e.numberOfChildren===1&&e.children[ue].segments.length===0){let o=Sa(e.children[ue],r,t);return new Re(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Kg(e.children[o],r,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Re(e.segments,i)}}function _0(e,r,t){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=t.length)return o;let s=e.segments[i],l=t[n];if(Ra(l))break;let d=`${l}`,p=n<t.length-1?t[n+1]:null;if(i>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!Og(d,p,s))return o;n+=2}else{if(!Og(d,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Yd(e,r,t){let n=e.segments.slice(0,r),i=0;for(;i<t.length;){let o=t[i];if(Ra(o)){let d=w0(o.outlets);return new Re(n,d)}if(i===0&&xc(t[0])){let d=e.segments[r];n.push(new Ln(d.path,Rg(t[0]))),i++;continue}let s=Ra(o)?o.outlets[ue]:`${o}`,l=i<t.length-1?t[i+1]:null;s&&l&&xc(l)?(n.push(new Ln(s,Rg(l))),i+=2):(n.push(new Ln(s,{})),i++)}return new Re(n,{})}function w0(e){let r={};return Object.entries(e).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[t]=Yd(new Re([],{}),0,n))}),r}function Rg(e){let r={};return Object.entries(e).forEach(([t,n])=>r[t]=`${n}`),r}function Og(e,r,t){return e==t.path&&jr(r,t.parameters)}var lo="imperative",at=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(at||{}),Qt=class{id;url;constructor(r,t){this.id=r,this.url=t}},Ur=class extends Qt{type=at.NavigationStart;navigationTrigger;restoredState;constructor(r,t,n="imperative",i=null){super(r,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dr=class extends Qt{urlAfterRedirects;type=at.NavigationEnd;constructor(r,t,n){super(r,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(At||{}),fo=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(fo||{}),ur=class extends Qt{reason;code;type=at.NavigationCancel;constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zr=class extends Qt{reason;code;type=at.NavigationSkipped;constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i}},ho=class extends Qt{error;target;type=at.NavigationError;constructor(r,t,n,i){super(r,t),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oa=class extends Qt{urlAfterRedirects;state;type=at.RoutesRecognized;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sc=class extends Qt{urlAfterRedirects;state;type=at.GuardsCheckStart;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ec=class extends Qt{urlAfterRedirects;state;shouldActivate;type=at.GuardsCheckEnd;constructor(r,t,n,i,o){super(r,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rc=class extends Qt{urlAfterRedirects;state;type=at.ResolveStart;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oc=class extends Qt{urlAfterRedirects;state;type=at.ResolveEnd;constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dc=class{route;type=at.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ac=class{route;type=at.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kc=class{snapshot;type=at.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ic=class{snapshot;type=at.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tc=class{snapshot;type=at.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mc=class{snapshot;type=at.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},po=class{routerEvent;position;anchor;type=at.Scroll;constructor(r,t,n){this.routerEvent=r,this.position=t,this.anchor=n}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},Da=class{},mo=class{url;navigationBehaviorOptions;constructor(r,t){this.url=r,this.navigationBehaviorOptions=t}};function x0(e){return!(e instanceof Da)&&!(e instanceof mo)}function C0(e,r){return e.providers&&!e._injector&&(e._injector=ec(e.providers,r,`Route: ${e.path}`)),e._injector??r}function Er(e){return e.outlet||ue}function S0(e,r){let t=e.filter(n=>Er(n)===r);return t.push(...e.filter(n=>Er(n)!==r)),t}function yo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let r=e.parent;r;r=r.parent){let t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Pc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yo(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new Di(this.rootInjector)}},Di=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,n){let i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Pc(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(n){return new(n||e)(Qe(qt))};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nc=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){let t=Xd(r,this._root);return t?t.children.map(n=>n.value):[]}firstChild(r){let t=Xd(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){let t=Zd(r,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return Zd(r,this._root).map(t=>t.value)}};function Xd(e,r){if(e===r.value)return r;for(let t of r.children){let n=Xd(e,t);if(n)return n}return null}function Zd(e,r){if(e===r.value)return[r];for(let t of r.children){let n=Zd(e,t);if(n.length)return n.unshift(r),n}return[]}var Gt=class{value;children;constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}};function so(e){let r={};return e&&e.children.forEach(t=>r[t.value.outlet]=t),r}var Aa=class extends Nc{snapshot;constructor(r,t){super(r),this.snapshot=t,of(this,r)}toString(){return this.snapshot.toString()}};function Gg(e){let r=E0(e),t=new ft([new Ln("",{})]),n=new ft({}),i=new ft({}),o=new ft({}),s=new ft(""),l=new fr(t,n,o,s,i,ue,e,r.root);return l.snapshot=r.root,new Aa(new Gt(l,[]),r)}function E0(e){let r={},t={},n={},o=new Si([],r,n,"",t,ue,e,null,{});return new ka("",new Gt(o,[]))}var fr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,t,n,i,o,s,l,d){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(me(p=>p[Ta]))??le(void 0),this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(r=>Ei(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(r=>Ei(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lc(e,r,t="emptyOnly"){let n,{routeConfig:i}=e;return r!==null&&(t==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:$($({},r.params),e.params),data:$($({},r.data),e.data),resolve:$($($($({},e.data),r.data),i?.data),e._resolvedData)}:n={params:$({},e.params),data:$({},e.data),resolve:$($({},e.data),e._resolvedData??{})},i&&Yg(i)&&(n.resolve[Ta]=i.title),n}var Si=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ta]}constructor(r,t,n,i,o,s,l,d,p){this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${t}')`}},ka=class extends Nc{url;constructor(r,t){super(t),this.url=r,of(this,t)}toString(){return Qg(this._root)}};function of(e,r){r.value._routerState=e,r.children.forEach(t=>of(e,t))}function Qg(e){let r=e.children.length>0?` { ${e.children.map(Qg).join(", ")} } `:"";return`${e.value}${r}`}function qd(e){if(e.snapshot){let r=e.snapshot,t=e._futureSnapshot;e.snapshot=t,jr(r.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),jr(r.params,t.params)||e.paramsSubject.next(t.params),Zx(r.url,t.url)||e.urlSubject.next(t.url),jr(r.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Jd(e,r){let t=jr(e.params,r.params)&&r0(e.url,r.url),n=!e.parent!=!r.parent;return t&&!n&&(!e.parent||Jd(e.parent,r.parent))}function Yg(e){return typeof e.title=="string"||e.title===null}var Xg=new oe(""),af=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new rt;deactivateEvents=new rt;attachEvents=new rt;detachEvents=new rt;routerOutletData=Dm();parentContexts=w(Di);location=w(kn);changeDetector=w(Lr);inputBinder=w(Ma,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:i}=t.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Et(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Et(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new ef(t,l,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pr]})}return e})(),ef=class{route;childContexts;parent;outletData;constructor(r,t,n,i){this.route=r,this.childContexts=t,this.parent=n,this.outletData=i}get(r,t){return r===fr?this.route:r===Di?this.childContexts:r===Xg?this.outletData:this.parent.get(r,t)}},Ma=new oe(""),sf=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:n}=t,i=aa([n.queryParams,n.params,n.data]).pipe(br(([o,s,l],d)=>(l=$($($({},o),s),l),d===0?le(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(t);return}let s=Im(n.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of s.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac})}return e})(),Pa=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&tc(0,"router-outlet")},dependencies:[af],encapsulation:2})}return e})();function cf(e){let r=e.children&&e.children.map(cf),t=r?be($({},e),{children:r}):$({},e);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Pa),t}function R0(e,r,t){let n=Ia(e,r._root,t?t._root:void 0);return new Aa(n,r)}function Ia(e,r,t){if(t&&e.shouldReuseRoute(r.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=r.value;let i=O0(e,r,t);return new Gt(n,i)}else{if(e.shouldAttach(r.value)){let o=e.retrieve(r.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(l=>Ia(e,l)),s}}let n=D0(r.value),i=r.children.map(o=>Ia(e,o));return new Gt(n,i)}}function O0(e,r,t){return r.children.map(n=>{for(let i of t.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return Ia(e,n,i);return Ia(e,n)})}function D0(e){return new fr(new ft(e.url),new ft(e.params),new ft(e.queryParams),new ft(e.fragment),new ft(e.data),e.outlet,e.component,e)}var go=class{redirectTo;navigationBehaviorOptions;constructor(r,t){this.redirectTo=r,this.navigationBehaviorOptions=t}},Zg="ngNavigationCancelingError";function Fc(e,r){let{redirectTo:t,navigationBehaviorOptions:n}=Fn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=Jg(!1,At.Redirect);return i.url=t,i.navigationBehaviorOptions=n,i}function Jg(e,r){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Zg]=!0,t.cancellationCode=r,t}function A0(e){return ev(e)&&Fn(e.url)}function ev(e){return!!e&&e[Zg]}var k0=(e,r,t,n)=>me(i=>(new tf(r,i.targetRouterState,i.currentRouterState,t,n).activate(e),i)),tf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,t,n,i,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,r),qd(this.futureState.root),this.activateChildRoutes(t,n,r)}deactivateChildRoutes(r,t,n){let i=so(t);r.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(r,t,s.children)}else this.deactivateChildRoutes(r,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=so(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:l})}}deactivateRouteAndOutlet(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=so(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,t,n){let i=so(t);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Mc(o.value.snapshot))}),r.children.length&&this.forwardEvent(new Ic(r.value.snapshot))}activateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(qd(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,t,s.children)}else this.activateChildRoutes(r,t,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),qd(l.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},Bc=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},uo=class{component;route;constructor(r,t){this.component=r,this.route=t}};function I0(e,r,t){let n=e._root,i=r?r._root:null;return Ca(n,i,t,[n.value])}function T0(e){let r=e.routeConfig?e.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:e,guards:r}}function bo(e,r){let t=Symbol(),n=r.get(e,t);return n===t?typeof e=="function"&&!am(e)?e:r.get(e):n}function Ca(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=so(r);return e.children.forEach(s=>{M0(s,o[s.value.outlet],t,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Ea(l,t.getContext(s),i)),i}function M0(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=r?r.value:null,l=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=P0(s,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new Bc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ca(e,r,l?l.children:null,n,i):Ca(e,r,t,n,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new uo(l.outlet.component,s))}else s&&Ea(r,l,i),i.canActivateChecks.push(new Bc(n)),o.component?Ca(e,null,l?l.children:null,n,i):Ca(e,null,t,n,i);return i}function P0(e,r,t){if(typeof t=="function")return t(e,r);switch(t){case"pathParamsChange":return!Ci(e.url,r.url);case"pathParamsOrQueryParamsChange":return!Ci(e.url,r.url)||!jr(e.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jd(e,r)||!jr(e.queryParams,r.queryParams);case"paramsChange":default:return!Jd(e,r)}}function Ea(e,r,t){let n=so(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?r?Ea(s,r.children.getContext(o),t):Ea(s,null,t):Ea(s,r,t)}),i.component?r&&r.outlet&&r.outlet.isActivated?t.canDeactivateChecks.push(new uo(r.outlet.component,i)):t.canDeactivateChecks.push(new uo(null,i)):t.canDeactivateChecks.push(new uo(null,i))}function Na(e){return typeof e=="function"}function N0(e){return typeof e=="boolean"}function L0(e){return e&&Na(e.canLoad)}function F0(e){return e&&Na(e.canActivate)}function B0(e){return e&&Na(e.canActivateChild)}function $0(e){return e&&Na(e.canDeactivate)}function j0(e){return e&&Na(e.canMatch)}function tv(e){return e instanceof tm||e?.name==="EmptyError"}var vc=Symbol("INITIAL_VALUE");function vo(){return br(e=>aa(e.map(r=>r.pipe(Nt(1),Vt(vc)))).pipe(me(r=>{for(let t of r)if(t!==!0){if(t===vc)return vc;if(t===!1||U0(t))return t}return!0}),ge(r=>r!==vc),Nt(1)))}function U0(e){return Fn(e)||e instanceof go}function rv(e){return e.aborted?le(void 0).pipe(Nt(1)):new Rn(r=>{let t=()=>{r.next(),r.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function nv(e){return _r(rv(e))}function z0(e,r){return ht(t=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?le(be($({},t),{guardsResult:!0})):V0(s,n,i,e).pipe(ht(l=>l&&N0(l)?q0(n,o,e,r):le(l)),me(l=>be($({},t),{guardsResult:l})))})}function V0(e,r,t,n){return Ct(e).pipe(ht(i=>Q0(i.component,i.route,t,r,n)),An(i=>i!==!0,!0))}function q0(e,r,t,n){return Ct(r).pipe(sa(i=>Vs(H0(i.route.parent,n),W0(i.route,n),G0(e,i.path,t),K0(e,i.route,t))),An(i=>i!==!0,!0))}function W0(e,r){return e!==null&&r&&r(new Tc(e)),le(!0)}function H0(e,r){return e!==null&&r&&r(new kc(e)),le(!0)}function K0(e,r,t){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return le(!0);let i=n.map(o=>On(()=>{let s=yo(r)??t,l=bo(o,s),d=F0(l)?l.canActivate(r,e):ir(s,()=>l(r,e));return Ri(d).pipe(An())}));return le(i).pipe(vo())}function G0(e,r,t){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(s=>T0(s)).filter(s=>s!==null).map(s=>On(()=>{let l=s.guards.map(d=>{let p=yo(s.node)??t,m=bo(d,p),y=B0(m)?m.canActivateChild(n,e):ir(p,()=>m(n,e));return Ri(y).pipe(An())});return le(l).pipe(vo())}));return le(o).pipe(vo())}function Q0(e,r,t,n,i){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(l=>{let d=yo(r)??i,p=bo(l,d),m=$0(p)?p.canDeactivate(e,r,t,n):ir(d,()=>p(e,r,t,n));return Ri(m).pipe(An())});return le(s).pipe(vo())}function Y0(e,r,t,n,i){let o=r.canLoad;if(o===void 0||o.length===0)return le(!0);let s=o.map(l=>{let d=bo(l,e),p=L0(d)?d.canLoad(r,t):ir(e,()=>d(r,t)),m=Ri(p);return i?m.pipe(nv(i)):m});return le(s).pipe(vo(),iv(n))}function iv(e){return Zp(St(r=>{if(typeof r!="boolean")throw Fc(e,r)}),me(r=>r===!0))}function X0(e,r,t,n,i){let o=r.canMatch;if(!o||o.length===0)return le(!0);let s=o.map(l=>{let d=bo(l,e),p=j0(d)?d.canMatch(r,t):ir(e,()=>d(r,t)),m=Ri(p);return i?m.pipe(nv(i)):m});return le(s).pipe(vo(),iv(n))}var xi=class ov extends Error{segmentGroup;constructor(r){super(),this.segmentGroup=r||null,Object.setPrototypeOf(this,ov.prototype)}},rf=class av extends Error{urlTree;constructor(r){super(),this.urlTree=r,Object.setPrototypeOf(this,av.prototype)}};function Z0(e){throw new Et(4e3,!1)}function J0(e){throw Jg(!1,At.GuardRejected)}var eC=class{urlSerializer;urlTree;constructor(r,t){this.urlSerializer=r,this.urlTree=t}lineralizeSegments(r,t){return U(this,null,function*(){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return n;if(i.numberOfChildren>1||!i.children[ue])throw Z0(`${r.redirectTo}`);i=i.children[ue]}})}applyRedirectCommands(r,t,n,i,o){return U(this,null,function*(){let s=yield tC(t,i,o);if(s instanceof Rr)throw new rf(s);let l=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),r,n);if(s[0]==="/")throw new rf(l);return l})}applyRedirectCreateUrlTree(r,t,n,i){let o=this.createSegmentGroup(r,t.root,n,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);n[i]=t[l]}else n[i]=o}),n}createSegmentGroup(r,t,n,i){let o=this.createSegments(r,t.segments,n,i),s={};return Object.entries(t.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(r,d,n,i)}),new Re(o,s)}createSegments(r,t,n,i){return t.map(o=>o.path[0]===":"?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,t,n){let i=n[t.path.substring(1)];if(!i)throw new Et(4001,!1);return i}findOrReturn(r,t){let n=0;for(let i of t){if(i.path===r.path)return t.splice(n),i;n++}return r}};function tC(e,r,t){if(typeof e=="string")return Promise.resolve(e);let n=e,{queryParams:i,fragment:o,routeConfig:s,url:l,outlet:d,params:p,data:m,title:y}=r;return wc(Ri(ir(t,()=>n({params:p,data:m,queryParams:i,fragment:o,routeConfig:s,url:l,outlet:d,title:y}))))}var nf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rC(e,r,t,n,i,o){let s=sv(e,r,t);return s.matched?(n=C0(r,n),X0(n,r,t,i,o).pipe(me(l=>l===!0?s:$({},nf)))):le(s)}function sv(e,r,t){if(r.path==="**")return nC(t);if(r.path==="")return r.pathMatch==="full"&&(e.hasChildren()||t.length>0)?$({},nf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(r.matcher||Ig)(t,e,r);if(!i)return $({},nf);let o={};Object.entries(i.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nC(e){return{matched:!0,parameters:e.length>0?Mg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Dg(e,r,t,n){return t.length>0&&aC(e,t,n)?{segmentGroup:new Re(r,oC(n,new Re(t,e.children))),slicedSegments:[]}:t.length===0&&sC(e,t,n)?{segmentGroup:new Re(e.segments,iC(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new Re(e.segments,e.children),slicedSegments:t}}function iC(e,r,t,n){let i={};for(let o of t)if(jc(e,r,o)&&!n[Er(o)]){let s=new Re([],{});i[Er(o)]=s}return $($({},n),i)}function oC(e,r){let t={};t[ue]=r;for(let n of e)if(n.path===""&&Er(n)!==ue){let i=new Re([],{});t[Er(n)]=i}return t}function aC(e,r,t){return t.some(n=>jc(e,r,n)&&Er(n)!==ue)}function sC(e,r,t){return t.some(n=>jc(e,r,n))}function jc(e,r,t){return(e.hasChildren()||r.length>0)&&t.pathMatch==="full"?!1:t.path===""}function cC(e,r,t){return r.length===0&&!e.children[t]}var lC=class{};function uC(e,r,t,n,i,o,s="emptyOnly",l){return U(this,null,function*(){return new fC(e,r,t,n,i,s,o,l).recognize()})}var dC=31,fC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,t,n,i,o,s,l,d){this.injector=r,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.abortSignal=d,this.applyRedirects=new eC(this.urlSerializer,this.urlTree)}noMatchError(r){return new Et(4002,`'${r.segmentGroup}'`)}recognize(){return U(this,null,function*(){let r=Dg(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:n}=yield this.match(r),i=new Gt(n,t),o=new ka("",i),s=Vg(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(r){return U(this,null,function*(){let t=new Si([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,r,ue,t),rootSnapshot:t}}catch(n){if(n instanceof rf)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof xi?this.noMatchError(n):n}})}processSegmentGroup(r,t,n,i,o){return U(this,null,function*(){if(n.segments.length===0&&n.hasChildren())return this.processChildren(r,t,n,o);let s=yield this.processSegment(r,t,n,n.segments,i,!0,o);return s instanceof Gt?[s]:[]})}processChildren(r,t,n,i){return U(this,null,function*(){let o=[];for(let d of Object.keys(n.children))d==="primary"?o.unshift(d):o.push(d);let s=[];for(let d of o){let p=n.children[d],m=S0(t,d),y=yield this.processSegmentGroup(r,m,p,d,i);s.push(...y)}let l=cv(s);return hC(l),l})}processSegment(r,t,n,i,o,s,l){return U(this,null,function*(){for(let d of t)try{return yield this.processSegmentAgainstRoute(d._injector??r,t,d,n,i,o,s,l)}catch(p){if(p instanceof xi||tv(p))continue;throw p}if(cC(n,i,o))return new lC;throw new xi(n)})}processSegmentAgainstRoute(r,t,n,i,o,s,l,d){return U(this,null,function*(){if(Er(n)!==s&&(s===ue||!jc(i,o,n)))throw new xi(i);if(n.redirectTo===void 0)return this.matchSegmentAgainstRoute(r,i,n,o,s,d);if(this.allowRedirects&&l)return this.expandSegmentAgainstRouteUsingRedirect(r,i,t,n,o,s,d);throw new xi(i)})}expandSegmentAgainstRouteUsingRedirect(r,t,n,i,o,s,l){return U(this,null,function*(){let{matched:d,parameters:p,consumedSegments:m,positionalParamSegments:y,remainingSegments:S}=sv(t,i,o);if(!d)throw new xi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dC&&(this.allowRedirects=!1));let A=new Si(o,p,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Ag(i),Er(i),i.component??i._loadedComponent??null,i,kg(i)),N=Lc(A,l,this.paramsInheritanceStrategy);if(A.params=Object.freeze(N.params),A.data=Object.freeze(N.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let j=yield this.applyRedirects.applyRedirectCommands(m,i.redirectTo,y,A,r),G=yield this.applyRedirects.lineralizeSegments(i,j);return this.processSegment(r,n,t,G.concat(S),s,!1,l)})}matchSegmentAgainstRoute(r,t,n,i,o,s){return U(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let l=yield wc(rC(t,n,i,r,this.urlSerializer,this.abortSignal));if(n.path==="**"&&(t.children={}),!l?.matched)throw new xi(t);r=n._injector??r;let{routes:d}=yield this.getChildConfig(r,n,i),p=n._loadedInjector??r,{parameters:m,consumedSegments:y,remainingSegments:S}=l,A=new Si(y,m,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Ag(n),Er(n),n.component??n._loadedComponent??null,n,kg(n)),N=Lc(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:j,slicedSegments:G}=Dg(t,y,S,d);if(G.length===0&&j.hasChildren()){let te=yield this.processChildren(p,d,j,A);return new Gt(A,te)}if(d.length===0&&G.length===0)return new Gt(A,[]);let ee=Er(n)===o,re=yield this.processSegment(p,d,j,G,ee?ue:o,!0,A);return new Gt(A,re instanceof Gt?[re]:[])})}getChildConfig(r,t,n){return U(this,null,function*(){if(t.children)return{routes:t.children,injector:r};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield wc(Y0(r,t,n,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(r,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw J0(t)}return{routes:[],injector:r}})}};function hC(e){e.sort((r,t)=>r.value.outlet===ue?-1:t.value.outlet===ue?1:r.value.outlet.localeCompare(t.value.outlet))}function pC(e){let r=e.value.routeConfig;return r&&r.path===""}function cv(e){let r=[],t=new Set;for(let n of e){if(!pC(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),t.add(i)):r.push(n)}for(let n of t){let i=cv(n.children);r.push(new Gt(n.value,i))}return r.filter(n=>!t.has(n))}function Ag(e){return e.data||{}}function kg(e){return e.resolve||{}}var mC=new oe("",{factory:()=>uC});function gC(e,r,t,n,i,o,s){let l=e.get(mC);return ht(d=>le(d).pipe(br(p=>l(e,r,t,n,p.extractedUrl,i,o,s)),me(({state:p,tree:m})=>be($({},d),{targetSnapshot:p,urlAfterRedirects:m}))))}function vC(e,r){return ht(t=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return le(t);let o=new Set(i.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let p of lv(d))s.add(p);let l=0;return Ct(s).pipe(sa(d=>o.has(d)?yC(d,n,e,r):(d.data=Lc(d,d.parent,e).resolve,le(void 0))),St(()=>l++),nd(1),ht(d=>l===s.size?le(t):tn))})}function lv(e){let r=e.children.map(t=>lv(t)).flat();return[e,...r]}function yC(e,r,t,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Yg(i)&&(o[Ta]=i.title),On(()=>(e.data=Lc(e,e.parent,t).resolve,bC(o,e,r,n).pipe(me(s=>(e._resolvedData=s,e.data=$($({},e.data),s),null)))))}function bC(e,r,t,n){let i=Kd(e);if(i.length===0)return le({});let o={};return Ct(i).pipe(ht(s=>_C(e[s],r,t,n).pipe(An(),St(l=>{if(l instanceof go)throw Fc(new cn,l);o[s]=l}))),nd(1),me(()=>o),Ws(s=>tv(s)?tn:em(s)))}function _C(e,r,t,n){let i=yo(r)??n,o=bo(e,i),s=o.resolve?o.resolve(r,t):ir(i,()=>o(r,t));return Ri(s)}function Wd(e){return br(r=>{let t=e(r);return t?Ct(t).pipe(me(()=>r)):le(r)})}var lf=(()=>{class e{buildTitle(t){let n,i=t.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===ue);return n}getResolvedTitleForRoute(t){return t.data[Ta]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:()=>w(uv),providedIn:"root"})}return e})(),uv=(()=>{class e extends lf{title;constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||e)(Qe(Bm))};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bn=new oe("",{factory:()=>({})}),Vr=new oe(""),Uc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=w(rc);loadComponent(t,n){return U(this,null,function*(){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Promise.resolve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=U(this,null,function*(){try{let o=yield Pg(ir(t,()=>n.loadComponent())),s=yield hv(fv(o));return this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s,s}finally{this.componentLoaders.delete(n)}});return this.componentLoaders.set(n,i),i})}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Promise.resolve({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=U(this,null,function*(){try{let o=yield dv(n,this.compiler,t,this.onLoadEndListener);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(n)}});return this.childrenLoaders.set(n,i),i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dv(e,r,t,n){return U(this,null,function*(){let i=yield Pg(ir(t,()=>e.loadChildren())),o=yield hv(fv(i)),s;o instanceof Js||Array.isArray(o)?s=o:s=yield r.compileModuleAsync(o),n&&n(e);let l,d,p=!1;return Array.isArray(s)?(d=s,p=!0):(l=s.create(t).injector,d=l.get(Vr,[],{optional:!0,self:!0}).flat()),{routes:d.map(cf),injector:l}})}function wC(e){return e&&typeof e=="object"&&"default"in e}function fv(e){return wC(e)?e.default:e}function hv(e){return U(this,null,function*(){return e})}var zc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:()=>w(xC),providedIn:"root"})}return e})(),xC=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uf=new oe(""),df=new oe("");function pv(e,r,t){let n=e.get(df),i=e.get(Le);if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(p=>setTimeout(p));let o,s=new Promise(p=>{o=p}),l=i.startViewTransition(()=>(o(),CC(e)));l.ready.catch(p=>{});let{onViewTransitionCreated:d}=n;return d&&ir(e,()=>d({transition:l,from:r,to:t})),s}function CC(e){return new Promise(r=>{Ht({read:()=>setTimeout(r)},{injector:e})})}var SC=()=>{},ff=new oe(""),Vc=(()=>{class e{currentNavigation=wr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=wr(null);events=new ie;transitionAbortWithErrorSubject=new ie;configLoader=w(Uc);environmentInjector=w(qt);destroyRef=w(ad);urlSerializer=w(Oi);rootContexts=w(Di);location=w(Fr);inputBindingEnabled=w(Ma,{optional:!0})!==null;titleStrategy=w(lf);options=w(Bn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=w(zc);createViewTransition=w(uf,{optional:!0});navigationErrorHandler=w(ff,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Dc(i)),n=i=>this.events.next(new Ac(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;rn(()=>{this.transitions?.next(be($({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))})}setupNavigations(t){return this.transitions=new ft(null),this.transitions.pipe(ge(n=>n!==null),br(n=>{let i=!1,o=new AbortController;return le(n).pipe(br(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",At.SupersededByNewNavigation),tn;this.currentTransition=n;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:l?be($({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload")return this.events.next(new zr(s.id,this.urlSerializer.serialize(s.rawUrl),"",fo.IgnoredSameUrlNavigation)),s.resolve(!1),tn;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return le(s).pipe(br(m=>(this.events.next(new Ur(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),m.id!==this.navigationId?tn:Promise.resolve(m))),gC(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),St(m=>{n.targetSnapshot=m.targetSnapshot,n.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation.update(S=>(S.finalUrl=m.urlAfterRedirects,S));let y=new Oa(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:A,extras:N}=s,j=new Ur(m,this.urlSerializer.serialize(y),S,A);this.events.next(j);let G=Gg(this.rootComponentType).snapshot;return this.currentTransition=n=be($({},s),{targetSnapshot:G,urlAfterRedirects:y,extras:be($({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ee=>(ee.finalUrl=y,ee)),le(n)}else return this.events.next(new zr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",fo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),tn}),St(s=>{let l=new Sc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),me(s=>(this.currentTransition=n=be($({},s),{guards:I0(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),z0(this.environmentInjector,s=>this.events.next(s)),St(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Fc(this.urlSerializer,s.guardsResult);let l=new Ec(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),ge(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",At.GuardRejected),!1)),Wd(s=>{if(s.guards.canActivateChecks.length!==0)return le(s).pipe(St(l=>{let d=new Rc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),br(l=>{let d=!1;return le(l).pipe(vC(this.paramsInheritanceStrategy,this.environmentInjector),St({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",At.NoDataFromResolver)}}))}),St(l=>{let d=new Oc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Wd(s=>{let l=p=>{let m=[];if(p.routeConfig?._loadedComponent)p.component=p.routeConfig?._loadedComponent;else if(p.routeConfig?.loadComponent){let y=yo(p)??this.environmentInjector;m.push(this.configLoader.loadComponent(y,p.routeConfig).then(S=>{p.component=S}))}for(let y of p.children)m.push(...l(y));return m},d=l(s.targetSnapshot.root);return d.length===0?le(s):Ct(Promise.all(d).then(()=>s))}),Wd(()=>this.afterPreactivation()),br(()=>{let{currentSnapshot:s,targetSnapshot:l}=n,d=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return d?Ct(d).pipe(me(()=>n)):le(n)}),me(s=>{let l=R0(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=be($({},s),{targetRouterState:l}),this.currentNavigation.update(d=>(d.targetRouterState=l,d)),n}),St(()=>{this.events.next(new Da)}),k0(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nt(1),_r(rv(o.signal).pipe(ge(()=>!i&&!n.targetRouterState),St(()=>{this.cancelNavigationTransition(n,o.signal.reason+"",At.Aborted)}))),St({next:s=>{i=!0,this.currentNavigation.update(l=>(l.abort=SC,l)),this.lastSuccessfulNavigation.set(rn(this.currentNavigation)),this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),_r(this.transitionAbortWithErrorSubject.pipe(St(s=>{throw s}))),Ks(()=>{o.abort(),i||this.cancelNavigationTransition(n,"",At.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ws(s=>{if(this.destroyed)return n.resolve(!1),tn;if(i=!0,ev(s))this.events.next(new ur(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),A0(s)?this.events.next(new mo(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let l=new ho(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let d=ir(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof go){let{message:p,cancellationCode:m}=Fc(this.urlSerializer,d);this.events.next(new ur(n.id,this.urlSerializer.serialize(n.extractedUrl),p,m)),this.events.next(new mo(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(d){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(d)}}return tn}))}))}cancelNavigationTransition(t,n,i){let o=new ur(t.id,this.urlSerializer.serialize(t.extractedUrl),n,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=rn(this.currentNavigation),i=n?.targetBrowserUrl??n?.extractedUrl;return t.toString()!==i?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EC(e){return e!==lo}var qc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:()=>w(RC),providedIn:"root"})}return e})(),$c=class{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}},RC=(()=>{class e extends $c{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hf=(()=>{class e{urlSerializer=w(Oi);options=w(Bn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=w(Fr);urlHandlingStrategy=w(zc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:n,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,n):n,s=i??o;return s instanceof Rr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:n,initialUrl:i}){n&&t?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,i),this.routerState=t):this.rawUrlTree=i}routerState=Gg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:()=>w(mv),providedIn:"root"})}return e})(),mv=(()=>{class e extends hf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{t(n.url,n.state,"popstate")})})}handleRouterEvent(t,n){t instanceof Ur?this.updateStateMemento():t instanceof zr?this.commitTransition(n):t instanceof Oa?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):t instanceof Da?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):t instanceof ur&&t.code!==At.SupersededByNewNavigation&&t.code!==At.Redirect?this.restoreHistory(n):t instanceof ho?this.restoreHistory(n,!0):t instanceof dr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:n,id:i}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(t)||o){let l=this.browserPageId,d=$($({},s),this.generateNgRouterState(i,l));this.location.replaceState(t,"",d)}else{let l=$($({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",l)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wc(e,r){e.events.pipe(ge(t=>t instanceof dr||t instanceof ur||t instanceof ho||t instanceof zr),me(t=>t instanceof dr||t instanceof zr?0:(t instanceof ur?t.code===At.Redirect||t.code===At.SupersededByNewNavigation:!1)?2:1),ge(t=>t!==2),Nt(1)).subscribe(()=>{r()})}var OC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=w(_m);stateManager=w(hf);options=w(Bn,{optional:!0})||{};pendingTasks=w(lm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=w(Vc);urlSerializer=w(Oi);location=w(Fr);urlHandlingStrategy=w(zc);injector=w(qt);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=w(qc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=w(Vr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!w(Ma,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nr;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=rn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof ur&&n.code!==At.Redirect&&n.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof dr)this.navigated=!0;else if(n instanceof mo){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),d=$({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||EC(i.source)},s);this.scheduleNavigation(l,lo,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x0(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n,i)=>{this.navigateToSyncWithBrowser(t,i,n)})}navigateToSyncWithBrowser(t,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let d=$({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(t);this.scheduleNavigation(l,n,s,o).catch(d=>{this.disposed||this.injector.get(Qs)(d)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return rn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:d}=n,p=d?this.currentUrlTree.fragment:s,m=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":m=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let y;try{let S=i?i.snapshot:this.routerState.snapshot.root;y=qg(S)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),y=this.currentUrlTree.root}return Wg(y,t,m,p??null,this.urlSerializer)}navigateByUrl(t,n={skipLocationChange:!1}){let i=Fn(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,lo,null,n)}navigate(t,n={skipLocationChange:!1}){return AC(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(om(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,n){let i;if(n===!0?i=$({},OC):n===!1?i=$({},DC):i=n,Fn(t))return Cg(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Cg(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(t,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,d,p;s?(l=s.resolve,d=s.reject,p=s.promise):p=new Promise((y,S)=>{l=y,d=S});let m=this.pendingTasks.add();return Wc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function AC(e){for(let r=0;r<e.length;r++)if(e[r]==null)throw new Et(4008,!1)}var gv=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=wr(null);get href(){return rn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ie;applicationErrorHandler=w(Qs);options=w(Bn,{optional:!0});constructor(t,n,i,o,s,l){this.router=t,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=l,this.reactiveHref.set(w(new Om("href"),{optional:!0}));let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area"||!!(typeof customElements=="object"&&customElements.get(d)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,n=i=>i==="merge"||i==="preserve";t||=n(this.queryParamsHandling),t||=!this.queryParamsHandling&&!n(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof dr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,n,i,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d)?.catch(p=>{this.applicationErrorHandler(p)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,t,n):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Fn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||e)(on(Lt),on(fr),fm("tabindex"),on(Nr),on(Be),on(ua))};static \u0275dir=ke({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,i){n&1&&gi("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Cr("href",i.reactiveHref(),mm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ot],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ot],replaceUrl:[2,"replaceUrl","replaceUrl",ot],routerLink:"routerLink"},features:[Pr]})}return e})();var La=class{};var vv=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,n,i,o){this.router=t,this.injector=n,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ge(t=>t instanceof dr),sa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=ec(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ct(i).pipe(td())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=Ct(this.loader.loadChildren(t,n)):i=le(null);let o=i.pipe(ht(s=>s===null?le(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(t,n);return Ct([o,s]).pipe(td())}else return o})}static \u0275fac=function(n){return new(n||e)(Qe(Lt),Qe(qt),Qe(La),Qe(Uc))};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yv=new oe(""),kC=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=lo;restoredId=0;store={};constructor(t,n,i,o,s={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof dr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zr&&t.code===fo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof po))return;let n={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],n):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,n):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>U(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new po(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){vm()};static \u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();function IC(e,...r){return od([{provide:Vr,multi:!0,useValue:e},[],{provide:fr,useFactory:bv},{provide:fd,multi:!0,useFactory:_v},r.map(t=>t.\u0275providers)])}function bv(){return w(Lt).routerState.root}function Fa(e,r){return{\u0275kind:e,\u0275providers:r}}function _v(){let e=w(_e);return r=>{let t=e.get(hi);if(r!==t.components[0])return;let n=e.get(Lt),i=e.get(wv);e.get(mf)===1&&n.initialNavigation(),e.get(Sv,null,{optional:!0})?.setUpPreloading(),e.get(yv,null,{optional:!0})?.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wv=new oe("",{factory:()=>new ie}),mf=new oe("",{factory:()=>1});function xv(){let e=[{provide:pm,useValue:!0},{provide:mf,useValue:0},dd(()=>{let r=w(_e);return r.get(Tm,Promise.resolve()).then(()=>new Promise(n=>{let i=r.get(Lt),o=r.get(wv);Wc(i,()=>{n(!0)}),r.get(Vc).afterPreactivation=()=>(n(!0),o.closed?le(void 0):o),i.initialNavigation()}))})];return Fa(2,e)}function Cv(){let e=[dd(()=>{w(Lt).setUpLocationChangeListener()}),{provide:mf,useValue:2}];return Fa(3,e)}var Sv=new oe("");function Ev(e){return Fa(0,[{provide:Sv,useExisting:vv},{provide:La,useExisting:e}])}function Rv(){return Fa(8,[sf,{provide:Ma,useExisting:sf}])}function Ov(e){gm("NgRouterViewTransitions");let r=[{provide:uf,useValue:pv},{provide:df,useValue:$({skipNextTransition:!!e?.skipInitialTransition},e)}];return Fa(9,r)}var Dv=[Fr,{provide:Oi,useClass:cn},Lt,Di,{provide:fr,useFactory:bv},Uc,[]],gf=(()=>{class e{constructor(){}static forRoot(t,n){return{ngModule:e,providers:[Dv,[],{provide:Vr,multi:!0,useValue:t},[],n?.errorHandler?{provide:ff,useValue:n.errorHandler}:[],{provide:Bn,useValue:n||{}},n?.useHash?MC():PC(),TC(),n?.preloadingStrategy?Ev(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?NC(n):[],n?.bindToComponentInputs?Rv().\u0275providers:[],n?.enableViewTransitions?Ov().\u0275providers:[],LC()]}}static forChild(t){return{ngModule:e,providers:[{provide:Vr,multi:!0,useValue:t}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({})}return e})();function TC(){return{provide:yv,useFactory:()=>{let e=w(Lm),r=w(Ce),t=w(Bn),n=w(Vc),i=w(Oi);return t.scrollOffset&&e.setOffset(t.scrollOffset),new kC(i,n,e,r,t)}}}function MC(){return{provide:ua,useClass:Pm}}function PC(){return{provide:ua,useClass:Mm}}function NC(e){return[e.initialNavigation==="disabled"?Cv().\u0275providers:[],e.initialNavigation==="enabledBlocking"?xv().\u0275providers:[]]}var pf=new oe("");function LC(){return[{provide:pf,useFactory:_v},{provide:fd,multi:!0,useExisting:pf}]}var FC=new oe("LOCALIZE_ROUTER_FORROOT_GUARD"),vf=new oe("RAW_ROUTES"),$n=(function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Cookie="Cookie",e})($n||{}),kv=new oe("USE_CACHED_LANG"),Iv=new oe("CACHE_MECHANISM"),Tv=new oe("CACHE_NAME"),Mv=new oe("COOKIE_FORMAT"),Pv=new oe("INITIAL_NAVIGATION"),Nv=new oe("DEFAULT_LANG_FUNCTION"),Lv=new oe("ALWAYS_SET_PREFIX"),BC="LOCALIZE_DEFAULT_LANGUAGE",$C="{{value}};{{expires}}",jC=!1,Kc=(()=>{class e{constructor(t=!0,n=!0,i=$n.LocalStorage,o=BC,s=void 0,l=$C,d=jC){this.useCachedLang=t,this.alwaysSetPrefix=n,this.cacheName=o,this.cookieFormat=l,this.initialNavigation=d,this.cacheMechanism=i,this.defaultLangFunction=s}static{this.\u0275fac=function(n){return new(n||e)(Qe(kv),Qe(Lv),Qe(Iv),Qe(Tv),Qe(Nv),Qe(Mv),Qe(Pv))}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac})}}return e})(),UC=30,Ba=(()=>{class e{constructor(t,n,i){this.translate=t,this.location=n,this.settings=i}init(t){let n;if(this.routes=t,!this.locales||!this.locales.length)return Promise.resolve();let i=this.getLocationLang(),o=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,o):this.defaultLang=this._cachedLang||o||this.locales[0],n=i||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let s=[];if(this.settings.alwaysSetPrefix){let l={path:"",redirectTo:this.defaultLang,pathMatch:"full"},d=t.findIndex(p=>p.path==="**");d!==-1&&(this._wildcardRoute=t.splice(d,1)[0]),s=this.routes.splice(0,this.routes.length,l)}else s=[...this.routes];for(let l=s.length-1;l>=0;l--)s[l].data&&s[l].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(s[l]),(s[l].redirectTo===void 0||!s[l].data.skipRouteLocalization.localizeRedirectTo||typeof s[l].redirectTo=="function")&&s.splice(l,1));return s&&s.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:s},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),rm(this.translateRoutes(n))}initChildRoutes(t){return this._translateRouteTree(t),t}translateRoutes(t){return new Rn(n=>{this._cachedLang=t,this._languageRoute&&(this._languageRoute.path=t),this.translate.use(t).subscribe(i=>{this._translationObject=i,this.currentLang=t,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(t,n){t.forEach(i=>{let o=i.data&&i.data.skipRouteLocalization,s=!o||o.localizeRedirectTo;if(i.redirectTo&&s&&typeof i.redirectTo!="function"){let l=i.redirectTo.indexOf("/")===0||n;this._translateProperty(i,"redirectTo",l)}o||(i.path!==null&&i.path!==void 0&&this._translateProperty(i,"path"),i.children&&this._translateRouteTree(i.children),i.loadChildren&&i._loadedRoutes?.length&&this._translateRouteTree(i._loadedRoutes))})}_translateProperty(t,n,i){let o=t.data=t.data||{};o.localizeRouter||(o.localizeRouter={}),o.localizeRouter[n]||(o.localizeRouter=be($({},o.localizeRouter),{[n]:t[n]}));let s=this.translateRoute(o.localizeRouter[n]);t[n]=i?this.addPrefixToUrl(s):s}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(t){let n=t.split("?"),i=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let o=n.join("?");return this.urlPrefix===""?o:!o.startsWith("/")&&!i?`${this.urlPrefix}/${o}`:`/${this.urlPrefix}${o}`}translateRoute(t){let n=t.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(o=>o.length?this.translateText(o):o).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(t){let n=(t||this.location.path()).split(/[\?;]/),i=[];return n.length>0&&(i=n[0].split("/")),i.length>1&&this.locales.indexOf(i[1])!==-1?i[1]:i.length&&this.locales.indexOf(i[0])!==-1?i[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===$n.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===$n.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===$n.Cookie)return this._cacheWithCookies()}}set _cachedLang(t){this.settings.useCachedLang&&(this.settings.cacheMechanism===$n.LocalStorage&&this._cacheWithLocalStorage(t),this.settings.cacheMechanism===$n.SessionStorage&&this._cacheWithSessionStorage(t),this.settings.cacheMechanism===$n.Cookie&&this._cacheWithCookies(t))}_cacheWithLocalStorage(t){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(t){window.localStorage.setItem(this.settings.cacheName,t);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(t){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(t){window.sessionStorage.setItem(this.settings.cacheName,t);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(t){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(t){let s=`${this.settings.cookieFormat}`;s=s.replace("{{value}}",`${n}=${encodeURIComponent(t)}`).replace(/{{expires:?(\d+)?}}/g,(l,d)=>{let p=d===void 0?UC:parseInt(d,10),m=new Date;return m.setTime(m.getTime()+p*864e5),`expires=${m.toUTCString()}`}),document.cookie=s;return}let o=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(o[1])}catch{return}}_returnIfInLocales(t){return t&&this.locales.indexOf(t)!==-1?t:null}translateText(t){if(this.escapePrefix&&t.startsWith(this.escapePrefix))return t.replace(this.escapePrefix,"");{if(!this._translationObject)return t;let n=this.prefix+t,i=this.translate.getParsedResult(this._translationObject,n);return i!==n?i:t}}chooseQueryParams(t,n){let i;return t&&t.queryParams?i=t.queryParams:n&&(i=n),i}formatQueryParams(t){return new Fm({fromObject:t}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(n){return new(n||e)(Qe($m),Qe(Fr),Qe(Kc))}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac})}}return e})();var zC=(()=>{class e extends Ba{load(t){return new Promise(n=>{this.init(t).then(n)})}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})()}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac})}}return e})();function Hc(e,r){if(e===r)return!0;if(e===null||r===null)return!1;if(e!==e&&r!==r)return!0;let t=typeof e,n=typeof r,i,o,s;if(t===n&&t==="object")if(Array.isArray(e)){if(!Array.isArray(r))return!1;if((i=e.length)===r.length){for(o=0;o<i;o++)if(!Hc(e[o],r[o]))return!1;return!0}}else{if(Array.isArray(r))return!1;s=Object.create(null);for(o in e)if(e.hasOwnProperty(o)){if(!Hc(e[o],r[o]))return!1;s[o]=!0}for(o in r)if(r.hasOwnProperty(o)&&!(o in s)&&typeof r[o]<"u")return!1;return!0}return!1}function VC(e){return!!e&&typeof e.then=="function"}function bf(e){let r=Array.isArray(e)?[]:{};for(let t in e)if(t){let n=e[t];r[t]=typeof n=="object"?bf(n):n}return r}var _f=(()=>{class e{constructor(t,n,i,o){this.parser=t,this.settings=n,this.router=i,this.route=o,this.routerEvents=new ie;let s=new oa(1);this.hooks={_initializedSubject:s,initialized:s.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(ge(t=>t instanceof Ur),id()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(t,n,i){if(t!==this.parser.currentLang){let o=this.router.routerState.snapshot.root;this.parser.translateRoutes(t).subscribe(()=>{let s=this.traverseRouteSnapshot(o);if(s=this.translateRoute(s),!this.settings.alwaysSetPrefix){let p=s.split("/"),m=p.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(m===0||m===1&&p[0]==="")&&(p=p.slice(0,m).concat(p.slice(m+1)));else if(m===-1){let y=p[0]===""?1:0;p=p.slice(0,y).concat(this.parser.currentLang,p.slice(y))}s=p.join("/")}s=s.replace(/\/+/g,"/");let l=s.lastIndexOf("/");l>0&&l===s.length-1&&(s=s.slice(0,-1));let d=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,i){let p=n?$({},n):{};d&&(p.queryParams=d),this.router.navigate([s],p)}else{let p=this.parser.formatQueryParams(d);p=p?`?${p}`:"",this.router.navigateByUrl(`${s}${p}`,n)}})}}traverseRouteSnapshot(t){return t.firstChild&&t.routeConfig?`${this.parseSegmentValue(t)}/${this.traverseRouteSnapshot(t.firstChild)}`:t.firstChild?this.traverseRouteSnapshot(t.firstChild):this.parseSegmentValue(t)}buildUrlFromSegments(t,n){return n.map((i,o)=>i.indexOf(":")===0?t.url[o].path:i).join("/")}parseSegmentValue(t){if(t.routeConfig&&t.routeConfig.matcher){let n=this.parseSegmentValueMatcher(t);return this.buildUrlFromSegments(t,n)}else if(t.data.localizeRouter){let i=t.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(t,i)}else if(t.parent&&t.parent.parent){let i=t.routeConfig.path.split("/");return this.buildUrlFromSegments(t,i)}else return""}parseSegmentValueMatcher(t){let n=t.data&&t.data.localizeMatcher&&t.data.localizeMatcher.params||{};return t.url.map(o=>{let s=o.path,l=o.localizedParamName;return(l&&n[l]?n[l](s):null)||`${this.parser.getEscapePrefix()}${s}`})}translateRoute(t){if(typeof t=="string"){let i=this.parser.translateRoute(t);return t.indexOf("/")?i:this.parser.addPrefixToUrl(i)}let n=[];return t.forEach((i,o)=>{if(typeof i=="string"){let s=this.parser.translateRoute(i);!o&&!i.indexOf("/")?n.push(this.parser.addPrefixToUrl(s)):n.push(s)}else n.push(i)}),n}_routeChanged(){return([t,n])=>{let i=this.parser.getLocationLang(t.url)||this.parser.defaultLang,o=this.parser.getLocationLang(n.url)||this.parser.defaultLang,s=this.lastExtras;o!==i&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(o).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,s),this.routerEvents.next(o)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let t=this.router.getCurrentNavigation(),n=this.router.serializeUrl(t.extractedUrl);this.router.events.next(new ur(t.id,n,"")),this.router.navigationTransitions.transitions.next(be($({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(t){this.router.resetConfig(bf(t))}static{this.\u0275fac=function(n){return new(n||e)(Qe(Ba),Qe(Kc),Qe(Lt),Qe(fr))}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac})}}return e})(),qC=128,BT=(()=>{class e{constructor(t,n){this.localize=t,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(t){if(!t||t.length===0||!this.localize.parser.currentLang)return t;if(Hc(t,this.lastKey)&&Hc(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=t,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(t),this.lastKey=t;let n=this._ref._view;return n&&n.state&qC?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}static{this.\u0275fac=function(n){return new(n||e)(on(_f,16),on(Lr,16))}}static{this.\u0275pipe=ym({name:"localize",type:e,pure:!1})}}return e})(),yf=class{constructor(){}shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r&&t?this.getKey(r)===this.getKey(t):!1}getKey(r){if(r.firstChild&&r.firstChild.routeConfig&&r.firstChild.routeConfig.path&&r.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!r.data.localizeRouter&&(!r.parent||!r.parent.parent)&&!r.data.skipRouteLocalization)return"LANG";if(r.routeConfig.matcher){let t=`${this.getKey(r.parent)}/${r.routeConfig.matcher.name}`;return r.data.discriminantPathKey&&(t=`${t}-${r.data.discriminantPathKey}`),t}else if(r.data.localizeRouter){let t=`${this.getKey(r.parent)}/${r.data.localizeRouter.path}`;return r.data.discriminantPathKey&&(t=`${t}-${r.data.discriminantPathKey}`),t}else{let t=r.routeConfig.path;return r.parent&&(t=`${this.getKey(r.parent)}/${r.routeConfig.path}`),r.data.discriminantPathKey&&(t=`${t}-${r.data.discriminantPathKey}`),t}}},WC=(()=>{class e extends Lt{constructor(){super(),this.platformId=w(Xs),this.compiler=w(rc),this.localize=w(Ba),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(i,o)=>GC(o.loadChildren()).pipe(me(KC),ht(s=>s instanceof Js||Array.isArray(s)?le(s):Ct(this.compiler.compileModuleAsync(s))),me(s=>{this.onLoadEndListener&&this.onLoadEndListener(o);let l,d;if(Array.isArray(s))d=this.localize.initChildRoutes([].concat(...s));else{l=s.create(i).injector;let m=l.get.bind(l);l.get=(y,S,A)=>{let N=m(y,S,A);return y===Vr?this.localize.initChildRoutes([].concat(...N)):N},d=l.get(Vr,[],{optional:!0,self:!0}).reduce((y,S)=>y.concat(S),[])}return{routes:d.map(Fv),injector:l}}));let n=ic(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(i,o)=>{if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return le({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let l=this.loadModuleFactoryOrRoutes(i,o).pipe(Ks(()=>{this.childrenLoaders.delete(o)})),d=new zs(l,()=>new ie).pipe(Jp());return this.childrenLoaders.set(o,d),d}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Fv(e){let r=e.children&&e.children.map(Fv),t=r?be($({},e),{children:r}):$({},e);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Pa),t}function HC(e){return e&&typeof e=="object"&&"default"in e}function KC(e){return HC(e)?e.default:e}function GC(e){return Xi(e)?e:VC(e)?Ct(Promise.resolve(e)):le(e)}var Av=(()=>{class e{constructor(t){this.injector=t}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(_f),i=this.injector.get(Lt),o=this.injector.get(Kc);if(n.init(),o.initialNavigation)return new Promise(s=>{let l=i.navigationTransitions.afterPreactivation,d=!0;i.navigationTransitions.afterPreactivation=()=>(d&&(s(),d=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),l())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(t,n){return this.parser=t,this.routes=n.reduce((i,o)=>i.concat(o)),this.appInitializer}static{this.\u0275fac=function(n){return new(n||e)(Qe(_e))}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac})}}return e})();function QC(e,r,t){let n=bf(t);return e.generateInitializer(r,n).bind(e)}function YC(e,r){return[{provide:Lt,useClass:WC},{provide:FC,useFactory:ZC,deps:[[XC,new um,new dm]]},{provide:kv,useValue:r.useCachedLang},{provide:Lv,useValue:r.alwaysSetPrefix},{provide:Tv,useValue:r.cacheName},{provide:Iv,useValue:r.cacheMechanism},{provide:Nv,useValue:r.defaultLangFunction},{provide:Mv,useValue:r.cookieFormat},{provide:Pv,useValue:r.initialNavigation},Kc,r.parser||{provide:Ba,useClass:zC},{provide:vf,multi:!0,useValue:e},_f,Av,{provide:xm,multi:!0,useFactory:QC,deps:[Av,Ba,vf]},{provide:qc,useClass:yf}]}var XC=(()=>{class e{static forRoot(t,n={}){return{ngModule:e,providers:YC(t,n)}}static forChild(t){return{ngModule:e,providers:[{provide:vf,multi:!0,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=He({type:e})}static{this.\u0275inj=We({imports:[Nm,gf,jm]})}}return e})();function ZC(e){if(e)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}var zT=(()=>{class e{constructor(){this.activePortal=new ie,this.portal$=this.activePortal.asObservable()}setPortal(t){this.activePortal.next(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ai(e){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ai(e)}function Bv(e,r){if(Ai(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $v(e){var r=Bv(e,"string");return Ai(r)=="symbol"?r:r+""}function jv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$v(n.key),n)}}function kt(e,r,t){return r&&jv(e.prototype,r),t&&jv(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $a(e){return Array.isArray(e)?e.slice(0):[e]}function qr(e){return Array.isArray(e)}function Uv(e){return e!=null}function Gc(e,r){var t=0,n=-1;for(var i of e){n=n+1;var o=r(i,n);if(o)t=t+1;else break}return t}function Or(e,r){var t=r.length;if(t!==0){var n=e.length;e.length=n+r.length;for(var i=0;i<t;++i)e[n+i]=r[i]}}function zv(e){return e.filter(function(r,t,n){return n.indexOf(r)===t})}function Vv(e){for(var r="",t=new Uint8Array(e),n=t.byteLength,i=0;i<n;i++)r+=String.fromCharCode(t[i]);return btoa(r)}function qv(e,r){return U(this,null,function*(){var t=yield fetch("data:"+r+";base64,"+e),n=yield t.blob();return n})}function Wv(e){var r=Object.prototype.toString.call(e);return r==="[object Uint8Array]"&&(e=new Blob([e])),typeof e=="string"?Promise.resolve(e):e.text()}function Hv(e){return U(this,null,function*(){if(typeof e=="string")return e;var r=Object.prototype.toString.call(e);r==="[object Uint8Array]"&&(e=new Blob([e]));var t=yield e.arrayBuffer();return Vv(t)})}function Kv(e){return e.size}function ki(e){for(var r="",t=0;t<e.length;t++){var n=e[t];if(n==="-")return parseInt(r,10);r+=n}throw new Error("malformatted revision: "+e)}function _o(e,r){var t=r?ki(r._rev)+1:1;return t+"-"+e}function xf(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(r){Object.prototype.hasOwnProperty.call(e,r)&&e[r]!==null&&(typeof e[r]=="object"||typeof e[r]=="function")&&!Object.isFrozen(e[r])&&xf(e[r])}),e}function Gv(e){var r=e.split("."),t=r.length;return t===1?n=>n[e]:n=>{for(var i=n,o=0;o<t;++o){var s=r[o];if(i=i[s],typeof i>"u")return i}return i}}function Qc(e){var r={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))if(typeof e[t]=="object"){var n=Qc(e[t]);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[t+"."+i]=n[i])}else r[t]=e[t];return r}function Ie(e){return Object.assign({},e)}function Qv(e){return Object.keys(e)[0]}function wo(e,r=!1){if(!e)return e;if(!r&&Array.isArray(e))return e.sort((n,i)=>typeof n=="string"&&typeof i=="string"?n.localeCompare(i):typeof n=="object"?1:-1).map(n=>wo(n,r));if(typeof e=="object"&&!Array.isArray(e)){var t={};return Object.keys(e).sort((n,i)=>n.localeCompare(i)).forEach(n=>{t[n]=wo(e[n],r)}),t}return e}function wf(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var r=new Array(e.length),t=r.length;t--;)r[t]=wf(e[t]);return r}var n={};for(var i in e)n[i]=wf(e[i]);return n}var hr=wf;function Yt(e,r,t){return Object.defineProperty(e,r,{get:function(){return t}}),t}var Yc=1;function jn(){return{lwt:Yc}}function ln(){return""}function Yv(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Xv(e,r,t){if(r.length!==t.length)return!1;for(var n=0,i=r.length;n<i;){var o=r[n],s=t[n];if(n++,o._rev!==s._rev||o[e]!==s[e])return!1}return!0}var sM=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var cM=Object.freeze(["prototype","__proto__","constructor"]);var JC="[native code] }",lM=JC.length;var eS=Object.defineProperty,tS=(e,r,t)=>r in e?eS(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,xo=(e,r,t)=>(tS(e,typeof r!="symbol"?r+"":r,t),t),Un=class e{constructor(r,t){xo(this,"words"),xo(this,"sigBytes"),r=this.words=r||[],this.sigBytes=t===void 0?r.length*4:t}toString(r){return(r||rS).stringify(this)}concat(r){if(this.clamp(),this.sigBytes%4)for(let t=0;t<r.sigBytes;t++){let n=r.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=n<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<r.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=r.words[t>>>2];return this.sigBytes+=r.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new e([...this.words])}},rS={stringify(e){let r=[];for(let t=0;t<e.sigBytes;t++){let n=e.words[t>>>2]>>>24-t%4*8&255;r.push((n>>>4).toString(16),(n&15).toString(16))}return r.join("")}};var nS={parse(e){let r=e.length,t=[];for(let n=0;n<r;n++)t[n>>>2]|=(e.charCodeAt(n)&255)<<24-n%4*8;return new Un(t,r)}},iS={parse(e){return nS.parse(unescape(encodeURIComponent(e)))}},Cf=class{constructor(){xo(this,"_data",new Un),xo(this,"_nDataBytes",0),xo(this,"_minBufferSize",0),xo(this,"blockSize",512/32)}reset(){this._data=new Un,this._nDataBytes=0}_append(r){typeof r=="string"&&(r=iS.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_doProcessBlock(r,t){}_process(r){let t,n=this._data.sigBytes/(this.blockSize*4);r?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);let i=n*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let s=0;s<i;s+=this.blockSize)this._doProcessBlock(this._data.words,s);t=this._data.words.splice(0,i),this._data.sigBytes-=o}return new Un(t,o)}},Sf=class extends Cf{update(r){return this._append(r),this._process(),this}finalize(r){r&&this._append(r)}},oS=Object.defineProperty,aS=(e,r,t)=>r in e?oS(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,sS=(e,r,t)=>(aS(e,typeof r!="symbol"?r+"":r,t),t),Zv=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],cS=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ii=[],Ef=class extends Sf{constructor(){super(...arguments),sS(this,"_hash",new Un([...Zv]))}reset(){super.reset(),this._hash=new Un([...Zv])}_doProcessBlock(r,t){let n=this._hash.words,i=n[0],o=n[1],s=n[2],l=n[3],d=n[4],p=n[5],m=n[6],y=n[7];for(let S=0;S<64;S++){if(S<16)Ii[S]=r[t+S]|0;else{let te=Ii[S-15],Te=(te<<25|te>>>7)^(te<<14|te>>>18)^te>>>3,ce=Ii[S-2],Ne=(ce<<15|ce>>>17)^(ce<<13|ce>>>19)^ce>>>10;Ii[S]=Te+Ii[S-7]+Ne+Ii[S-16]}let A=d&p^~d&m,N=i&o^i&s^o&s,j=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),G=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),ee=y+G+A+cS[S]+Ii[S],re=j+N;y=m,m=p,p=d,d=l+ee|0,l=s,s=o,o=i,i=ee+re|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+d|0,n[5]=n[5]+p|0,n[6]=n[6]+m|0,n[7]=n[7]+y|0}finalize(r){super.finalize(r);let t=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(n+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function Jv(e){return new Ef().finalize(e).toString()}function lS(e){return Promise.resolve(Jv(e))}function uS(e){return U(this,null,function*(){var r=new TextEncoder().encode(e),t=yield crypto.subtle.digest("SHA-256",r),n=Array.prototype.map.call(new Uint8Array(t),i=>("00"+i.toString(16)).slice(-2)).join("");return n})}var dS=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",Co=dS?uS:lS;function ey(){return new Promise(e=>setTimeout(e,0))}function ty(e=0){return new Promise(r=>setTimeout(r,e))}var fS=Promise.resolve(!0),Wr=Promise.resolve(!1),ry=Promise.resolve(null),zn=Promise.resolve();function So(e=1e4){return typeof requestIdleCallback=="function"?new Promise(r=>{requestIdleCallback(()=>r(),{timeout:e})}):ty(0)}var Rf=zn;function ny(e=void 0){return Rf=Rf.then(()=>So(e)),Rf}function iy(e,r){return e.reduce((t,n)=>t.then(n),Promise.resolve(r))}var oy=/\./g;var ay="abcdefghijklmnopqrstuvwxyz";function Ti(e=10){for(var r="",t=0;t<e;t++)r+=ay.charAt(Math.floor(Math.random()*ay.length));return r}function Xc(e){e+="";var r=e.charAt(0).toUpperCase();return r+e.substr(1)}function Dr(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function Of(e){return!!(e.includes("/")||e.includes("\\"))}function Vn(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,n;if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(n=t;n--!==0;)if(!Vn(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();var i=Object.keys(e);if(t=i.length,t!==Object.keys(r).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=t;n--!==0;){var o=i[n];if(!Vn(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}var Af=e=>{var r=typeof e;return e!==null&&(r==="object"||r==="function")},Df=new Set(["__proto__","prototype","constructor"]),hS=new Set("0123456789");function sy(e){var r=[],t="",n="start",i=!1;for(var o of e)switch(o){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(t+=o),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,t+=o;break}if(Df.has(t))return[];r.push(t),t="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,t+=o;break}if(n==="property"){if(Df.has(t))return[];r.push(t),t=""}n="index";break}case"]":{if(n==="index"){r.push(Number.parseInt(t,10)),t="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!hS.has(o))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,t+="\\"),t+=o}}switch(i&&(t+="\\"),n){case"property":{if(Df.has(t))return[];r.push(t);break}case"index":throw new Error("Index was not closed");case"start":{r.push("");break}}return r}function cy(e,r){if(typeof r!="number"&&Array.isArray(e)){var t=Number.parseInt(r,10);return Number.isInteger(t)&&e[t]===e[r]}return!1}function pS(e,r){if(cy(e,r))throw new Error("Cannot use string index")}function Ft(e,r,t){if(Array.isArray(r)&&(r=r.join(".")),!r.includes(".")&&!r.includes("["))return e[r];if(!Af(e)||typeof r!="string")return t===void 0?e:t;var n=sy(r);if(n.length===0)return t;for(var i=0;i<n.length;i++){var o=n[i];if(cy(e,o)?e=i===n.length-1?void 0:null:e=e[o],e==null){if(i!==n.length-1)return t;break}}return e===void 0?t:e}function kf(e,r,t){if(Array.isArray(r)&&(r=r.join(".")),!Af(e)||typeof r!="string")return e;for(var n=e,i=sy(r),o=0;o<i.length;o++){var s=i[o];pS(e,s),o===i.length-1?e[s]=t:Af(e[s])||(e[s]=typeof i[o+1]=="number"?[]:{}),e=e[s]}return n}function qn(e,r){var t=e.get(r);if(typeof t>"u")throw new Error("missing value from map "+r);return t}function Xt(e,r,t,n){var i=e.get(r);return typeof i>"u"?(i=t(),e.set(r,i)):n&&n(i),i}function Oe(e){var r=e.split("-"),t="RxDB";return r.forEach(n=>{t+=Xc(n)}),t+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+t+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+t+`);
        `)}var If=0;function st(){var e=Date.now();e=e+.01,e<=If&&(e=If+.01);var r=parseFloat(e.toFixed(2));return If=r,r}function De(e,r){if(!e)throw r||(r=""),new Error("ensureNotFalsy() is falsy: "+r);return e}var Zc={bufferSize:1,refCount:!0};var Mi="15.39.0";var Wn={},Jc="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function Hn(e,r){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Hn(e,r)}function Tf(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Hn(e,r)}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},el(e)}function ly(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Mf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mf=function(){return!!e})()}function uy(e,r,t){if(Mf())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var i=new(e.bind.apply(e,n));return t&&Hn(i,t.prototype),i}function ja(e){var r=typeof Map=="function"?new Map:void 0;return ja=function(n){if(n===null||!ly(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return uy(n,arguments,el(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Hn(i,n)},ja(e)}var Pe={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function mS(e){var r="";return Object.keys(e).length===0||(r+=`Given parameters: {
`,r+=Object.keys(e).map(t=>{var n="[object Object]";try{t==="errors"?n=e[t].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):n=JSON.stringify(e[t],function(i,o){return o===void 0?null:o},2)}catch{}return t+":"+n}).join(`
`),r+="}"),r}function dy(e,r,t){return"RxError ("+r+`):
`+e+`
`+mS(t)}var gS=(function(e){function r(n,i,o={}){var s,l=dy(i,n,o);return s=e.call(this,l)||this,s.code=n,s.message=l,s.url=Pf(n),s.parameters=o,s.rxdb=!0,s}Tf(r,e);var t=r.prototype;return t.toString=function(){return this.message},kt(r,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])})(ja(Error)),vS=(function(e){function r(n,i,o={}){var s,l=dy(i,n,o);return s=e.call(this,l)||this,s.code=n,s.message=l,s.url=Pf(n),s.parameters=o,s.rxdb=!0,s}Tf(r,e);var t=r.prototype;return t.toString=function(){return this.message},kt(r,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])})(ja(TypeError));function Pf(e){return"https://rxdb.info/errors.html?console=errors#"+e}function fy(e){return`
 You can find out more about this error here: `+Pf(e)+" "}function L(e,r){return new gS(e,Pe.tunnelErrorMessage(e)+fy(e),r)}function pt(e,r){return new vS(e,Pe.tunnelErrorMessage(e)+fy(e),r)}function tl(e){return e&&e.status===409?e:!1}var yS={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function hy(e){return L("COL20",{name:yS[e.status],document:e.documentId,writeError:e})}var Eo={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function nt(e,r){Eo[e].length>0&&Eo[e].forEach(t=>t(r))}function Kn(e,r){return Promise.all(Eo[e].map(t=>t(r)))}function Bt(e,r){var t=r;t=t.replace(oy,".properties."),t="properties."+t,t=Dr(t);var n=Ft(e,t);return n}function rl(e,r,t){if(typeof r.primaryKey=="string")return t;var n=Ua(r,t),i=t[e];if(i&&i!==n)throw L("DOC19",{args:{documentData:t,existingPrimary:i,newPrimary:n},schema:r});return t[e]=n,t}function yt(e){return typeof e=="string"?e:e.key}function Ua(e,r){if(typeof e.primaryKey=="string")return r[e.primaryKey];var t=e.primaryKey;return t.fields.map(n=>{var i=Ft(r,n);if(typeof i>"u")throw L("DOC18",{args:{field:n,documentData:r}});return i}).join(t.separator)}function py(e){var r=wo(e,!0);return r}function bS(e){return["_deleted",e]}function nl(e){e=Ie(e);var r=yt(e.primaryKey);e.properties=Ie(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=_S,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var t=Nf(e);Or(e.required,t),e.required=e.required.filter(o=>!o.includes(".")).filter((o,s,l)=>l.indexOf(o)===s),e.version=e.version||0;var n=e.indexes.map(o=>{var s=qr(o)?o.slice(0):[o];return s.includes(r)||s.push(r),s[0]!=="_deleted"&&s.unshift("_deleted"),s});n.length===0&&n.push(bS(r)),n.push(["_meta.lwt",r]),e.internalIndexes&&e.internalIndexes.map(o=>{n.push(o)});var i=new Set;return n.filter(o=>{var s=o.join(",");return i.has(s)?!1:(i.add(s),!0)}),e.indexes=n,e}var _S={type:"object",properties:{lwt:{type:"number",minimum:Yc,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Nf(e){var r=Object.keys(e.properties).filter(n=>e.properties[n].final),t=yt(e.primaryKey);return r.push(t),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(n=>r.push(n)),r}function my(e,r){for(var t=Object.keys(e.defaultValues),n=0;n<t.length;++n){var i=t[n];(!Object.prototype.hasOwnProperty.call(r,i)||typeof r[i]>"u")&&(r[i]=e.defaultValues[i])}return r}var Lf=(function(){function e(t,n){this.jsonSchema=t,this.hashFunction=n,this.indexes=wS(this.jsonSchema),this.primaryPath=yt(this.jsonSchema.primaryKey),this.finalFields=Nf(this.jsonSchema)}var r=e.prototype;return r.validateChange=function(n,i){this.finalFields.forEach(o=>{if(!Vn(n[o],i[o]))throw L("DOC9",{dataBefore:n,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},r.getDocumentPrototype=function(){var n={},i=Bt(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var s=o;n.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(s);return l}}),Object.defineProperty(n,o+"$",{get:function(){return this.get$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"$$",{get:function(){return this.get$$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"_",{get:function(){return this.populate(s)},enumerable:!1,configurable:!1})}),Yt(this,"getDocumentPrototype",()=>n),n},r.getPrimaryOfDocumentData=function(n){return Ua(this.jsonSchema,n)},kt(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var t={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,i])=>t[n]=i.default),Yt(this,"defaultValues",t)}},{key:"hash",get:function(){return Yt(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])})();function wS(e){return(e.indexes||[]).map(r=>qr(r)?r:[r])}function gy(e){var r=e.version?e.version:0,t=0;return new Array(r).fill(0).map(()=>t++)}function vy(e,r,t=!0){t&&nt("preCreateRxSchema",e);var n=nl(e);n=py(n),Pe.deepFreezeWhenDevMode(n);var i=new Lf(n,r);return nt("createRxSchema",i),i}function yy(e){return e.documentData?e.documentData:e.previousDocumentData}function by(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Pe.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function il(e){return e[e.length-1]}function xS(e){let r=typeof e;return e!==null&&(r==="object"||r==="function")}function Ff(e,r,t){if(Array.isArray(r)&&(r=r.join(".")),!xS(e)||typeof r!="string")return t===void 0?e:t;let n=r.split(".");if(n.length===0)return t;for(let i=0;i<n.length;i++){let o=n[i];if(CS(e,o)?e=i===n.length-1?void 0:null:e=e[o],e==null){if(i!==n.length-1)return t;break}}return e===void 0?t:e}function CS(e,r){if(typeof r!="number"&&Array.isArray(e)){let t=Number.parseInt(r,10);return Number.isInteger(t)&&e[t]===e[r]}return!1}var Bf=e=>!!e.queryParams.limit,_y=e=>e.queryParams.limit===1,wy=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),xy=e=>e.changeEvent.operation==="DELETE",Cy=e=>e.changeEvent.operation==="INSERT",Sy=e=>e.changeEvent.operation==="UPDATE",Ey=e=>Bf(e)&&e.previousResults.length>=e.queryParams.limit,Ry=e=>{let r=e.queryParams.sortFields,t=e.changeEvent.previous,n=e.changeEvent.doc;if(!n)return!1;if(!t)return!0;for(let i=0;i<r.length;i++){let o=r[i],s=Ff(t,o),l=Ff(n,o);if(s!==l)return!0}return!1},Oy=e=>{let r=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(r);{let t=e.queryParams.primaryKey,n=e.previousResults;for(let i=0;i<n.length;i++)if(n[i][t]===r)return!0;return!1}},Dy=e=>{let r=e.previousResults[0];return!!(r&&r[e.queryParams.primaryKey]===e.changeEvent.id)},Ay=e=>{let r=il(e.previousResults);return!!(r&&r[e.queryParams.primaryKey]===e.changeEvent.id)},ky=e=>{let r=e.changeEvent.previous;if(!r)return!1;let t=e.previousResults[0];return t?t[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(r,t)<0:!1},Iy=e=>{let r=e.changeEvent.previous;if(!r)return!1;let t=il(e.previousResults);return t?t[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(r,t)>0:!1},Ty=e=>{let r=e.changeEvent.doc;if(!r)return!1;let t=e.previousResults[0];return t?t[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(r,t)<0:!1},My=e=>{let r=e.changeEvent.doc;if(!r)return!1;let t=il(e.previousResults);return t?t[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(r,t)>0:!1},Py=e=>{let r=e.changeEvent.previous;return r?e.queryParams.queryMatcher(r):!1},Ny=e=>{let r=e.changeEvent.doc;return r?e.queryParams.queryMatcher(r):!1},Ly=e=>e.previousResults.length===0;var Fy={0:Cy,1:Sy,2:xy,3:Bf,4:_y,5:wy,6:Ly,7:Ey,8:Dy,9:Ay,10:Ry,11:Oy,12:ky,13:Iy,14:Ty,15:My,16:Py,17:Ny};function By(e,r,t,n){var i=e.length,o=i-1,s=0;if(i===0)return e.push(r),0;for(var l;n<=o;)s=n+(o-n>>1),l=e[s],t(l,r)<=0?n=s+1:o=s-1;return t(l,r)<=0&&s++,e.splice(s,0,r),s}var $y=e=>{},ol=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},al=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},sl=e=>{let r=e.previousResults.shift();e.keyDocumentMap&&r&&e.keyDocumentMap.delete(r[e.queryParams.primaryKey])},cl=e=>{let r=e.previousResults.pop();e.keyDocumentMap&&r&&e.keyDocumentMap.delete(r[e.queryParams.primaryKey])},jy=e=>{sl(e),al(e)},Uy=e=>{cl(e),ol(e)},zy=e=>{sl(e),ol(e)},Vy=e=>{cl(e),al(e)},$f=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);let r=e.queryParams.primaryKey,t=e.previousResults;for(let n=0;n<t.length;n++)if(t[n][r]===e.changeEvent.id){t.splice(n,1);break}},qy=e=>{let r=e.changeEvent.doc,t=e.queryParams.primaryKey,n=e.previousResults;for(let i=0;i<n.length;i++)if(n[i][t]===e.changeEvent.id){n[i]=r,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,r);break}},Wy=e=>{let r={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(r),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(r._id,r))},jf=e=>{let r=e.changeEvent.id,t=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(r))return;e.keyDocumentMap.set(r,t)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===r))return;By(e.previousResults,t,e.queryParams.sortComparator,0)},Hy=e=>{$f(e),jf(e)},Ky=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},Gy=e=>{throw new Error("Action unknownAction should never be called")};var Qy=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Yy={doNothing:$y,insertFirst:ol,insertLast:al,removeFirstItem:sl,removeLastItem:cl,removeFirstInsertLast:jy,removeLastInsertFirst:Uy,removeFirstInsertFirst:zy,removeLastInsertLast:Vy,removeExisting:$f,replaceExisting:qy,alwaysWrong:Wy,insertAtSortPosition:jf,removeExistingAndInsertAtSortPosition:Hy,runFullQueryAgain:Ky,unknownAction:Gy};function ll(e){return e.charCodeAt(0)-40}function Xy(e){return e?"1":"0"}function SS(e=6){let r="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length;for(let i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}var wP=SS(4);function Uf(e,r){let t=[];for(let n=0,i=e.length;n<i;n+=r)t.push(e.substring(n,n+r));return t}function Zy(e){let r=new Map,n=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,n),o=Uf(i,2);for(let j=0;j<o.length;j++){let G=o[j],ee=G.charAt(0),re=ll(G.charAt(1));r.set(ee,re)}let s=e.substring(n,e.length-3),l=Uf(s,4);for(let j=0;j<l.length;j++){let G=l[j],ee=G.charAt(0),re=G.charAt(1),te=G.charAt(2),Te=ll(G.charAt(3));if(!r.has(re))throw new Error("missing node with id "+re);if(!r.has(te))throw new Error("missing node with id "+te);let ce=r.get(re),Ne=r.get(te),Ae={l:Te,0:ce,1:Ne};r.set(ee,Ae)}let d=e.slice(-3),p=d.charAt(0),m=d.charAt(1),y=ll(d.charAt(2)),S=r.get(p),A=r.get(m);return{l:y,0:S,1:A}}function Jy(e,r,t){let n=e,i=e.l;for(;;){let o=r[i](t),s=Xy(o);if(n=n[s],typeof n=="number"||typeof n=="string")return n;i=n.l}}var ES="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",zf;function RS(){return zf||(zf=Zy(ES)),zf}var eb=e=>Jy(RS(),Fy,e);function tb(e){let r=eb(e);return Qy[r]}function rb(e,r,t,n,i){let o=Yy[e];return o({queryParams:r,changeEvent:t,previousResults:n,keyDocumentMap:i}),n}var Pi="\uFFFF",Ni=Number.MIN_SAFE_INTEGER;function nb(e,r){var t=r.selector,n=e.indexes?e.indexes.slice(0):[];r.index&&(n=[r.index]);var i=!!r.sort.find(m=>Object.values(m)[0]==="desc"),o=new Set;Object.keys(t).forEach(m=>{var y=Bt(e,m);y&&y.type==="boolean"&&Object.prototype.hasOwnProperty.call(t[m],"$eq")&&o.add(m)});var s=r.sort.map(m=>Object.keys(m)[0]),l=s.filter(m=>!o.has(m)).join(","),d=-1,p;if(n.forEach(m=>{var y=!0,S=!0,A=m.map(re=>{var te=t[re],Te=te?Object.keys(te):[],ce={};if(!te||!Te.length){var Ne=S?Ni:Pi;ce={startKey:Ne,endKey:y?Pi:Ni,inclusiveStart:!0,inclusiveEnd:!0}}else Te.forEach(Ae=>{if(ul.has(Ae)){var Ve=te[Ae],vt=kS(Ae,Ve);ce=Object.assign(ce,vt)}});return typeof ce.startKey>"u"&&(ce.startKey=Ni),typeof ce.endKey>"u"&&(ce.endKey=Pi),typeof ce.inclusiveStart>"u"&&(ce.inclusiveStart=!0),typeof ce.inclusiveEnd>"u"&&(ce.inclusiveEnd=!0),S&&!ce.inclusiveStart&&(S=!1),y&&!ce.inclusiveEnd&&(y=!1),ce}),N=A.map(re=>re.startKey),j=A.map(re=>re.endKey),G={index:m,startKeys:N,endKeys:j,inclusiveEnd:y,inclusiveStart:S,sortSatisfiedByIndex:!i&&l===m.filter(re=>!o.has(re)).join(","),selectorSatisfiedByIndex:AS(m,r.selector,N,j)},ee=IS(e,r,G);(ee>=d||r.index)&&(d=ee,p=G)}),!p)throw L("SNH",{query:r});return p}var ul=new Set(["$eq","$gt","$gte","$lt","$lte"]),OS=new Set(["$eq","$gt","$gte"]),DS=new Set(["$eq","$lt","$lte"]);function AS(e,r,t,n){var i=Object.entries(r),o=i.find(([Ae,Ve])=>{if(!e.includes(Ae))return!0;var vt=Object.entries(Ve).find(([jt,gr])=>!ul.has(jt));return vt});if(o||r.$and||r.$or)return!1;var s=[],l=new Set;for(var[d,p]of Object.entries(r)){if(!e.includes(d))return!1;var m=Object.keys(p).filter(Ae=>OS.has(Ae));if(m.length>1)return!1;var y=m[0];if(y&&l.add(d),y!=="$eq"){if(s.length>0)return!1;s.push(y)}}var S=[],A=new Set;for(var[N,j]of Object.entries(r)){if(!e.includes(N))return!1;var G=Object.keys(j).filter(Ae=>DS.has(Ae));if(G.length>1)return!1;var ee=G[0];if(ee&&A.add(N),ee!=="$eq"){if(S.length>0)return!1;S.push(ee)}}var re=0;for(var te of e){for(var Te of[l,A]){if(!Te.has(te)&&Te.size>0)return!1;Te.delete(te)}var ce=t[re],Ne=n[re];if(ce!==Ne&&l.size>0&&A.size>0)return!1;re++}return!0}function kS(e,r){switch(e){case"$eq":return{startKey:r,endKey:r,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:r,inclusiveEnd:!0};case"$gte":return{startKey:r,inclusiveStart:!0};case"$lt":return{endKey:r,inclusiveEnd:!1};case"$gt":return{startKey:r,inclusiveStart:!1};default:throw new Error("SNH")}}function IS(e,r,t){var n=0,i=m=>{m>0&&(n=n+m)},o=10,s=Gc(t.startKeys,m=>m!==Ni&&m!==Pi);i(s*o);var l=Gc(t.startKeys,m=>m!==Pi&&m!==Ni);i(l*o);var d=Gc(t.startKeys,(m,y)=>m===t.endKeys[y]);i(d*o*1.5);var p=t.sortSatisfiedByIndex?5:0;return i(p),n}var mt=class extends Error{},pl=2147483647,ml=-2147483648,Kf=Number.MAX_SAFE_INTEGER,Gf=Number.MIN_SAFE_INTEGER,un=Symbol("missing"),ab=Object.freeze(new Error("mingo: cycle detected while processing object/array")),TS="[object Object]",MS=/^\[object ([a-zA-Z0-9]+)\]$/,za=e=>{let r=BS(e),t=0,n=r.length;for(;n;)t=(t<<5)-t^r.charCodeAt(--n);return t>>>0},sb=new Set(["null","undefined","boolean","number","string","date","regexp"]),PS={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},je=(e,r)=>{e===un&&(e=void 0),r===un&&(r=void 0);let[t,n]=[e,r].map(i=>PS[Gn(i).toLowerCase()]);return t!==n?t-n:t===1||t===2||t===6?e<r?-1:e>r?1:0:bt(e,r)?0:e<r?-1:e>r?1:0};function z(e,r){if(!e)throw new mt(r)}var Gn=e=>MS.exec(Object.prototype.toString.call(e))[1],Va=e=>typeof e=="boolean",Se=e=>typeof e=="string";var fe=e=>!isNaN(e)&&typeof e=="number";var se=Array.isArray,de=e=>{if(!e)return!1;let r=Object.getPrototypeOf(e);return(r===Object.prototype||r===null)&&TS===Object.prototype.toString.call(e)},qa=e=>e===Object(e),Qn=e=>e instanceof Date,Do=e=>e instanceof RegExp,Wa=e=>typeof e=="function",X=e=>e==null,Hr=(e,r)=>e.includes(r),gl=(e,r)=>!Hr(e,r),It=(e,r=!0)=>!!e||r&&e==="",Zt=e=>X(e)||Se(e)&&!e||e instanceof Array&&e.length===0||de(e)&&Object.keys(e).length===0,ib=e=>e===un,Kr=e=>e instanceof Array?e:[e],Ye=(e,r)=>!!e&&Object.prototype.hasOwnProperty.call(e,r),Qf=e=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e),NS=[Qn,Do,Qf],qf=(e,r)=>{if(X(e))return e;if(r.has(e))throw ab;let t=e.constructor;if(NS.some(n=>n(e)))return new t(e);try{if(r.add(e),se(e))return e.map(n=>qf(n,r));if(de(e)){let n={};for(let i in e)n[i]=qf(e[i],r);return n}}finally{r.delete(e)}return e},Ao=e=>qf(e,new Set),LS=(e,r)=>de(e)&&de(r)||se(e)&&se(r);function fl(e,r,t){if(t=t||{flatten:!1},ib(e)||X(e))return r;if(ib(r)||X(r))return e;if(!LS(e,r)){if(t.skipValidation)return r||e;throw Error("mismatched types. must both be array or object")}if(t.skipValidation=!0,se(e)){let n=e,i=r;if(t.flatten){let o=0,s=0;for(;o<n.length&&s<i.length;)n[o]=fl(n[o++],i[s++],t);for(;s<i.length;)n.push(r[s++])}else pr(n,i)}else for(let n in r)e[n]=fl(e[n],r[n],t);return e}function Wf(e,r=za){let t=new Map;return e.forEach((n,i)=>{let o=vl(n,r);t.has(o)?t.get(o).some(s=>bt(e[s],n))||t.get(o).push(i):t.set(o,[i])}),t}function dn(e,r=za){if(e.some(l=>l.length==0))return[];if(e.length===1)return Array.from(e);let t=cb(e.map((l,d)=>[d,l.length]),l=>l[1]),n=e[t[0][0]],i=Wf(n,r),o=new Map,s=new Array;return i.forEach((l,d)=>{let p=l.map(A=>n[A]),m=p.map(A=>0),y=p.map(A=>[t[0][0],0]),S=!1;for(let A=1;A<e.length;A++){let[N,j]=t[A],G=e[N];if(o.has(A)||o.set(A,Wf(G)),o.get(A).has(d)){let ee=o.get(A).get(d).map(re=>G[re]);S=p.map((re,te)=>ee.some((Te,ce)=>{let Ne=m[te];return bt(re,Te)&&(m[te]++,N<y[te][0]&&(y[te]=[N,o.get(A).get(d)[ce]])),Ne<m[te]})).some(Boolean)}if(!S)return}S&&pr(s,m.map((A,N)=>A===e.length-1?[p[N],y[N]]:un).filter(A=>A!==un))}),s.sort((l,d)=>{let[p,[m,y]]=l,[S,[A,N]]=d,j=je(m,A);return j!==0?j:je(y,N)}).map(l=>l[0])}function Yf(e,r=0){let t=new Array;function n(i,o){for(let s=0,l=i.length;s<l;s++)se(i[s])&&(o>0||o<0)?n(i[s],Math.max(-1,o-1)):t.push(i[s])}return n(e,r),t}var FS=e=>{let[r,t]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],n=r;for(;!t.length&&r!==Object.prototype&&r!==Array.prototype;)n=r,t=Object.getOwnPropertyNames(r),r=Object.getPrototypeOf(r);let i={};return t.forEach(o=>i[o]=e[o]),[i,n]};function bt(e,r){if(e===r||Object.is(e,r))return!0;let t=!!e&&e.constructor||e;if(e===null||r===null||e===void 0||r===void 0||t!==r.constructor||t===Function)return!1;if(t===Array||t===Object){let o=Object.keys(e),s=Object.keys(r);if(o.length!==s.length||new Set([...o,...s]).size!=o.length)return!1;for(let l of o)if(!bt(e[l],r[l]))return!1;return!0}let n=Object.getPrototypeOf(e);return(Qf(e)||n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))&&e.toString()===r.toString()}function Ha(e,r=za){let t=e.map(n=>un);return Wf(e,r).forEach((n,i)=>{n.forEach(o=>t[o]=e[o])}),t.filter(n=>n!==un)}var dl=(e,r)=>{if(e===null)return"null";if(e===void 0)return"undefined";let t=e.constructor;switch(t){case RegExp:case Number:case Boolean:case Function:case Symbol:return e.toString();case String:return JSON.stringify(e);case Date:return e.toISOString()}if(Qf(e))return t.name+"["+e.toString()+"]";if(r.has(e))throw ab;try{if(r.add(e),se(e))return"["+e.map(s=>dl(s,r)).join(",")+"]";if(t===Object)return"{"+Object.keys(e).sort().map(s=>s+":"+dl(e[s],r)).join(",")+"}";let n=Object.getPrototypeOf(e);if(n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))return t.name+"("+JSON.stringify(e.toString())+")";let[i,o]=FS(e);return t.name+dl(i,r)}finally{r.delete(e)}},BS=e=>dl(e,new Set);function vl(e,r){return r=r||za,X(e)?null:r(e).toString()}function cb(e,r,t=je){if(Zt(e))return e;let n=new Array,i=new Array;for(let o=0;o<e.length;o++){let s=e[o],l=r(s,o);X(l)?i.push(s):n.push([l,s])}return n.sort((o,s)=>t(o[0],s[0])),pr(i,n.map(o=>o[1]))}function yl(e,r,t=za){if(e.length<1)return new Map;let n=new Map,i=new Map;for(let o=0;o<e.length;o++){let s=e[o],l=r(s,o),d=vl(l,t);if(d===null)i.has(null)?i.get(null).push(s):i.set(null,[s]);else{let p=n.has(d)?n.get(d).find(m=>bt(m,l)):null;X(p)?(i.set(l,[s]),n.has(d)?n.get(d).push(l):n.set(d,[l])):i.get(p).push(s)}}return i}var Vf=5e4;function pr(e,...r){return e instanceof Array?r.reduce((t,n)=>{let i=Math.ceil(n.length/Vf),o=0;for(;i-- >0;)Array.prototype.push.apply(t,n.slice(o,o+Vf)),o+=Vf;return t},e):r.filter(qa).reduce((t,n)=>(Object.assign(t,n),t),e)}function Hf(e,r){return qa(e)?e[r]:void 0}function $S(e,r){if(r<1)return e;for(;r--&&e.length===1;)e=e[0];return e}function Tt(e,r,t){let n=0;function i(s,l){let d=s;for(let p=0;p<l.length;p++){let m=l[p];if(/^\d+$/.exec(m)===null&&d instanceof Array){if(p===0&&n>0)break;n+=1;let S=l.slice(p);d=d.reduce((A,N)=>{let j=i(N,S);return j!==void 0&&A.push(j),A},[]);break}else d=Hf(d,m);if(d===void 0)break}return d}let o=sb.has(Gn(e).toLowerCase())?e:i(e,r.split("."));return o instanceof Array&&t?.unwrapArray?$S(o,n):o}function Ro(e,r,t){let n=r.split("."),i=n[0],o=n.slice(1).join("."),s=/^\d+$/.exec(i)!==null,l=n.length>1,d,p;if(e instanceof Array)if(s)d=Hf(e,Number(i)),l&&(d=Ro(d,o,t)),d=[d];else{d=[];for(let m of e)p=Ro(m,r,t),t?.preserveMissing?(p===void 0&&(p=un),d.push(p)):p!==void 0&&d.push(p)}else{if(p=Hf(e,i),l&&(p=Ro(p,o,t)),p===void 0)return;d=t?.preserveKeys?$({},e):{},d[i]=p}return d}function hl(e){if(e instanceof Array)for(let r=e.length-1;r>=0;r--)e[r]===un?e.splice(r,1):hl(e[r]);else if(de(e))for(let r in e)Ye(e,r)&&hl(e[r])}var ob=/^\d+$/;function Oo(e,r,t,n){let i=r.split("."),o=i[0],s=i.slice(1).join(".");if(i.length===1)(de(e)||se(e)&&ob.test(o))&&t(e,o);else{n?.buildGraph&&X(e[o])&&(e[o]={});let l=e[o];if(!l)return;let d=!!(i.length>1&&ob.test(i[1]));l instanceof Array&&n?.descendArray&&!d?l.forEach(p=>Oo(p,s,t,n)):Oo(l,s,t,n)}}function bl(e,r,t){Oo(e,r,(n,i)=>{n[i]=Wa(t)?t(n[i]):t},{buildGraph:!0})}function Ka(e,r,t){Oo(e,r,(n,i)=>{if(n instanceof Array){if(/^\d+$/.test(i))n.splice(parseInt(i),1);else if(t&&t.descendArray)for(let o of n)de(o)&&delete o[i]}else de(n)&&delete n[i]},t)}var jS=/^\$[a-zA-Z0-9_]+$/;function Jt(e){return jS.test(e)}function _l(e){if(sb.has(Gn(e).toLowerCase()))return Do(e)?{$regex:e}:{$eq:e};if(qa(e)){if(!Object.keys(e).some(Jt))return{$eq:e};if(Ye(e,"$regex")){let t=$({},e);return t.$regex=new RegExp(e.$regex,e.$options),delete t.$options,t}}return e}var Fi=(e=>(e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF",e))(Fi||{}),Xe=class e{constructor(r,t,n,i=Date.now()){this._opts=r,this._root=t,this._local=n,this.timestamp=i,this.update(t,n)}static init(r,t,n){return r instanceof e?new e(r._opts,X(r.root)?t:r.root,Object.assign({},r.local,n)):new e(r,t,n)}update(r,t){return this._root=r,this._local=t&&Object.assign({},t,{variables:Object.assign({},this._local?.variables,t?.variables)}),this}getOptions(){return Object.freeze(be($({},this._opts),{context:ko.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function fn(e){return e instanceof Xe?e.getOptions():Object.freeze(be($({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},e),{context:e?.context?ko.from(e?.context):ko.init({})}))}var kr=(e=>(e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e))(kr||{}),ko=class e{constructor(r){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[t,n]of Object.entries(r))this.addOperators(t,n)}static init(r={}){return new e(r)}static from(r){return new e(r.operators)}addOperators(r,t){for(let[n,i]of Object.entries(t))this.getOperator(r,n)||(this.operators[r][n]=i);return this}addAccumulatorOps(r){return this.addOperators("accumulator",r)}addExpressionOps(r){return this.addOperators("expression",r)}addQueryOps(r){return this.addOperators("query",r)}addPipelineOps(r){return this.addOperators("pipeline",r)}addProjectionOps(r){return this.addOperators("projection",r)}addWindowOps(r){return this.addOperators("window",r)}getOperator(r,t){return r in this.operators&&this.operators[r][t]||null}},Li=ko.init();function Jf(e,r){for(let[t,n]of Object.entries(r)){z(Wa(n)&&Jt(t),`'${t}' is not a valid operator`);let i=Ar(e,t,null);z(!i||n===i,`${t} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case"accumulator":Li.addAccumulatorOps(r);break;case"expression":Li.addExpressionOps(r);break;case"pipeline":Li.addPipelineOps(r);break;case"projection":Li.addProjectionOps(r);break;case"query":Li.addQueryOps(r);break;case"window":Li.addWindowOps(r);break}}function Ar(e,r,t){let{context:n,useGlobalContext:i}=t||{},o=n?n.getOperator(e,r):null;return!o&&i?Li.getOperator(e,r):o}var lb={$$ROOT(e,r,t){return t.root},$$CURRENT(e,r,t){return e},$$REMOVE(e,r,t){},$$NOW(e,r,t){return new Date(t.timestamp)}},Xf={$$KEEP(e,r,t){return e},$$PRUNE(e,r,t){},$$DESCEND(e,r,t){if(!Ye(r,"$cond"))return e;let n;for(let[i,o]of Object.entries(e))if(qa(o)){if(o instanceof Array){let s=[];for(let l of o)de(l)&&(l=Zf(l,r,t.update(l))),X(l)||s.push(l);n=s}else n=Zf(o,r,t.update(o));X(n)?delete e[i]:e[i]=n}return e}};function F(e,r,t,n){let i=Xe.init(n,e);if(t=t||"",Jt(t)){let o=Ar("expression",t,n);if(o)return o(e,r,i);let s=Ar("accumulator",t,n);if(s)return e instanceof Array||(e=F(e,r,null,i),r=null),z(e instanceof Array,`'${t}' target must be an array.`),s(e,r,i.update(null,i.local));throw new mt(`operator '${t}' is not registered`)}if(Se(r)&&r.length>0&&r[0]==="$"){if(Ye(Xf,r))return r;let o=i.root,s=r.split(".");if(Ye(lb,s[0]))o=lb[s[0]](e,null,i),r=r.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){o=Object.assign({},i.variables,{this:e},i.local?.variables);let l=s[0].slice(2);z(Ye(o,l),`Use of undefined variable: ${l}`),r=r.slice(2)}else r=r.slice(1);return r===""?o:Tt(o,r)}if(se(r))return r.map(o=>F(e,o,null,i));if(de(r)){let o={};for(let[s,l]of Object.entries(r))if(o[s]=F(e,l,s,i),["expression","accumulator"].some(d=>!!Ar(d,s,n)))return z(Object.keys(r).length===1,"Invalid aggregation expression '"+JSON.stringify(r)+"'"),o[s];return o}return r}function Zf(e,r,t){let n=F(e,r,null,t);return Ye(Xf,n)?Xf[n](e,r,t):n}function er(e){return e instanceof Ga?e:new Ga(e)}function wl(...e){let r=0;return er(()=>{for(;r<e.length;){let t=e[r].next();if(!t.done)return t;r++}return{done:!0}})}function US(e){return!!e&&typeof e=="object"&&e?.next instanceof Function}function zS(e,r){let t=e.slice(r+1);e.splice(r),Array.prototype.push.apply(e,t)}var eh=new Error;function VS(e,r,t){let n=!1,i=-1,o=0;return function(s){try{e:for(;!n;){let l=e();i++;let d=-1,p=r.length,m=!1;for(;++d<p;){let y=r[d];switch(y.action){case 0:l=y.func(l,i);break;case 1:if(!y.func(l,i))continue e;break;case 2:--y.count,y.count||(m=!0);break;case 3:--y.count,y.count||zS(r,d);continue e;default:break e}}if(n=m,s)t[o++]=l;else return{value:l,done:!1}}}catch(l){if(l!==eh)throw l}return n=!0,{done:n}}}var Ga=class{constructor(r){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let t;if(r instanceof Function&&(r={next:r}),US(r)){let n=r;t=()=>{let i=n.next();if(i.done)throw eh;return i.value}}else if(r instanceof Array){let n=r,i=n.length,o=0;t=()=>{if(o<i)return n[o++];throw eh}}else if(!(r instanceof Function))throw new mt("Lazy must be initialized with an array, generator, or function.");this.getNext=VS(t,this.iteratees,this.yieldedValues)}push(r,t){return typeof t=="function"?this.iteratees.push({action:r,func:t}):typeof t=="number"&&this.iteratees.push({action:r,count:t}),this}next(){return this.getNext()}map(r){return this.push(0,r)}filter(r){return this.push(1,r)}take(r){return r>0?this.push(2,r):this}drop(r){return r>0?this.push(3,r):this}transform(r){let t=this,n;return er(()=>(n||(n=er(r(t.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(r){for(;;){let t=this.next();if(t.done)break;if(r(t.value)===!1)return!1}return!0}reduce(r,t){let n=this.next();for(t===void 0&&!n.done&&(t=n.value,n=this.next());!n.done;)t=r(t,n.value),n=this.next();return t}size(){return this.reduce((r,t)=>++r,0)}[Symbol.iterator](){return this}};var Gr=class{constructor(r,t){this.pipeline=r,this.options=fn(t)}stream(r){let t=er(r),n=this.options.processingMode;(n==Fi.CLONE_ALL||n==Fi.CLONE_INPUT)&&t.map(Ao);let i=new Array;if(!Zt(this.pipeline))for(let o of this.pipeline){let s=Object.keys(o),l=s[0],d=Ar(kr.PIPELINE,l,this.options);z(s.length===1&&!!d,`invalid pipeline operator ${l}`),i.push(l),t=d(t,o[l],this.options)}return(n==Fi.CLONE_OUTPUT||n==Fi.CLONE_ALL&&dn([["$group","$unwind"],i]).length)&&t.map(Ao),t}run(r){return this.stream(r).value()}};var xl=class{constructor(r,t,n,i){this.source=r,this.predicate=t,this.projection=n,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(de(this.projection)&&this.operators.push({$project:this.projection}),this.result=er(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Gr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let r=er([...this.buffer]);return this.buffer=[],wl(r,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(r){return this.operators.push({$skip:r}),this}limit(r){return this.operators.push({$limit:r}),this}sort(r){return this.operators.push({$sort:r}),this}collation(r){return this.options=be($({},this.options),{collation:r}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let r=this.fetch().next();if(!r.done)return r.value}hasNext(){if(this.buffer.length>0)return!0;let r=this.fetch().next();return r.done?!1:(this.buffer.push(r.value),!0)}map(r){return this.all().map(r)}forEach(r){this.all().forEach(r)}[Symbol.iterator](){return this.fetchAll()}};var it=class{constructor(r,t){this.condition=r,this.options=fn(t),this.compiled=[],this.compile()}compile(){z(de(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let r={};for(let[t,n]of Object.entries(this.condition)){if(t==="$where")Object.assign(r,{field:t,expr:n});else if(Hr(["$and","$or","$nor","$expr","$jsonSchema"],t))this.processOperator(t,t,n);else{z(!Jt(t),`unknown top level operator: ${t}`);for(let[i,o]of Object.entries(_l(n)))this.processOperator(t,i,o)}r.field&&this.processOperator(r.field,r.field,r.expr)}}processOperator(r,t,n){let i=Ar(kr.QUERY,t,this.options);if(!i)throw new mt(`unknown query operator ${t}`);let o=i(r,n,this.options);this.compiled.push(o)}test(r){for(let t=0,n=this.compiled.length;t<n;t++)if(!this.compiled[t](r))return!1;return!0}find(r,t){return new xl(r,n=>this.test(n),t||{},this.options)}remove(r){return r.reduce((t,n)=>(this.test(n)||t.push(n),t),[])}};var Io=1e3*60*60*24,ub={week:Io*7,day:Io,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var FL={week:Io*7,day:Io,hour:Io/24,minute:6e4,second:1e3,millisecond:1};var Sl=(e,r,t)=>{if(Zt(r)||!de(r))return e;let n=je,i=t.collation;return de(i)&&Se(i.locale)&&(n=JS(i)),e.transform(o=>{let s=Object.keys(r);for(let l of s.reverse()){let d=yl(o,m=>Tt(m,l),t.hashFunction),p=Array.from(d.keys()).sort(n);r[l]===-1&&p.reverse(),o=[],p.reduce((m,y)=>pr(m,d.get(y)),o)}return o})},ZS={1:"base",2:"accent",3:"variant"};function JS(e){let r={sensitivity:ZS[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(r.sensitivity==="base"&&(r.sensitivity="case"),r.sensitivity==="accent"&&(r.sensitivity="variant"));let t=new Intl.Collator(e.locale,r);return(n,i)=>{if(!Se(n)||!Se(i))return je(n,i);let o=t.compare(n,i);return o<0?-1:o>0?1:0}}function Ee(e){let r=(t,n,i)=>{let o={unwrapArray:!0},s=Math.max(1,t.split(".").length-1);return l=>{let d=Tt(l,t,o);return e(d,n,be($({},i),{depth:s}))}};return r.op="query",r}function $t(e){return(r,t,n)=>{let i=F(r,t,null,n);return e(...i)}}function Qa(e,r,t){if(bt(e,r)||X(e)&&X(r))return!0;if(e instanceof Array){let n=bt.bind(null,r);return e.some(n)||Yf(e,t?.depth).some(n)}return!1}function El(e,r,t){return!Qa(e,r,t)}function rh(e,r,t){return X(e)?r.some(n=>n===null):dn([Kr(e),r],t?.hashFunction).length>0}function Rl(e,r,t){return!rh(e,r,t)}function Ol(e,r,t){return Il(e,r,(n,i)=>je(n,i)<0)}function Dl(e,r,t){return Il(e,r,(n,i)=>je(n,i)<=0)}function Al(e,r,t){return Il(e,r,(n,i)=>je(n,i)>0)}function kl(e,r,t){return Il(e,r,(n,i)=>je(n,i)>=0)}function gb(e,r,t){return Kr(e).some(n=>r.length===2&&n%r[0]===r[1])}function vb(e,r,t){let n=Kr(e),i=o=>Se(o)&&It(r.exec(o),t?.useStrictMode);return n.some(i)||Yf(n,1).some(i)}function yb(e,r,t){return(r===!1||r===0)&&e===void 0||(r===!0||r===1)&&e!==void 0}function bb(e,r,t){if(!se(e)||!se(r)||!e.length||!r.length)return!1;let n=!0;for(let i of r){if(!n)break;de(i)&&Hr(Object.keys(i),"$elemMatch")?n=nh(e,i.$elemMatch,t):i instanceof RegExp?n=e.some(o=>typeof o=="string"&&i.test(o)):n=e.some(o=>bt(i,o))}return n}function _b(e,r,t){return Array.isArray(e)&&e.length===r}function nE(e){return Jt(e)&&["$and","$or","$nor"].indexOf(e)===-1}function nh(e,r,t){if(se(e)&&!Zt(e)){let n=s=>s,i=r;Object.keys(r).every(nE)&&(i={temp:r},n=s=>({temp:s}));let o=new it(i,t);for(let s=0,l=e.length;s<l;s++)if(o.test(n(e[s])))return!0}return!1}var fb=e=>e===null,hb=e=>fe(e)&&e>=ml&&e<=pl&&e.toString().indexOf(".")===-1,pb=e=>fe(e)&&e>=Gf&&e<=Kf&&e.toString().indexOf(".")===-1,iE={array:se,bool:Va,boolean:Va,date:Qn,decimal:fe,double:fe,int:hb,long:pb,number:fe,null:fb,object:de,regex:Do,regexp:Do,string:Se,undefined:X,function:e=>{throw new mt("unsupported type key `function`.")},1:fe,2:Se,3:de,4:se,6:X,8:Va,9:Qn,10:fb,11:Do,16:hb,18:pb,19:fe};function mb(e,r,t){let n=iE[r];return n?n(e):!1}function wb(e,r,t){return Array.isArray(r)?r.findIndex(n=>mb(e,n,t))>=0:mb(e,r,t)}function Il(e,r,t){return Kr(e).some(n=>Gn(n)===Gn(r)&&t(n,r))}var G$=$t(Rl);var To=(e,r)=>(t,n,i)=>{z(se(n),`${e}: expression must be an array.`);let o=F(t,n,null,i);return o.some(X)?null:(z(o.every(fe),`${e}: expression must evalue to array of numbers.`),r(o))};var qj=To("$bitAnd",e=>e.reduce((r,t)=>r&t,-1));var Yj=To("$bitOr",e=>e.reduce((r,t)=>r|t,0));var Jj=To("$bitXor",e=>e.reduce((r,t)=>r^t,0));var ih={};Us(ih,{$and:()=>oE,$not:()=>aE,$or:()=>sE});var oE=(e,r,t)=>{let n=F(e,r,null,t);return It(n,t.useStrictMode)&&n.every(i=>It(i,t.useStrictMode))};var aE=(e,r,t)=>{let n=Kr(r);if(n.length==0)return!1;if(n.length==1)return!F(e,n[0],null,t);throw"Expression $not takes exactly 1 argument"};var sE=(e,r,t)=>{let n=F(e,r,null,t),i=t.useStrictMode;return It(n,i)&&n.some(o=>It(o,i))};var oh={};Us(oh,{$cmp:()=>cE,$eq:()=>lE,$gt:()=>uE,$gte:()=>dE,$lt:()=>fE,$lte:()=>hE,$ne:()=>pE});var cE=(e,r,t)=>{let n=F(e,r,null,t);return n[0]>n[1]?1:n[0]<n[1]?-1:0};var lE=$t(Qa);var uE=$t(Al);var dE=$t(kl);var fE=$t(Ol);var hE=$t(Dl);var pE=$t(El);var xb=(e,r)=>{let t={};return e.split("").forEach((n,i)=>t[n]=r*(i+1)),t},uz=be($($({},xb("ABCDEFGHIKLM",1)),xb("NOPQRSTUVWXY",-1)),{Z:0});var Rb={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Ue(e,r=Rb){let t=Object.assign({},Rb,r),n=new Set(Object.keys(t));return(i,o,s)=>{let l=F(i,o,null,s);if(n.has(`${l}`)){let d=t[`${l}`];if(d instanceof Error)throw new mt(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return d}return e(l)}}var yW=Ue(Math.acos,{Infinity:1/0,0:new Error});var wW=Ue(Math.acosh,{Infinity:1/0,0:new Error});var SW=Ue(Math.asin);var OW=Ue(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var kW=Ue(Math.atan);var LW=Ue(Math.atanh,{1:1/0,"-1":-1/0});var $W=Ue(Math.cos);var zW=Ue(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var yE=Math.PI/180,WW=Ue(e=>e*yE,{Infinity:1/0,"-Infinity":1/0});var bE=180/Math.PI,GW=Ue(e=>e*bE,{Infinity:1/0,"-Infinity":-1/0});var XW=Ue(Math.sin);var eH=Ue(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var nH=Ue(Math.tan);var sh=(e,r,t)=>{if(Zt(r))return e;let n=Object.keys(r),i=!1;Db(r,t);let o=t.idKey;if(Hr(n,o)){let l=r[o];(l===0||l===!1)&&(n=n.filter(gl.bind(null,[o])),i=n.length==0)}else n.push(o);let s=Xe.init(t);return e.map(l=>ah(l,r,s.update(l),n,i))};function ah(e,r,t,n,i){let o={},s=!1,l=!1,d=[];i&&d.push(t.idKey);for(let p of n){let m,y=r[p];if(p!==t.idKey&&Hr([0,!1],y)&&(l=!0),p===t.idKey&&Zt(y))m=e[p];else if(Se(y))m=F(e,y,p,t);else if(!Hr([1,!0],y))if(y instanceof Array)m=y.map(A=>{let N=F(e,A,null,t);return X(N)?null:N});else if(de(y)){let A=y,N=Object.keys(y),j=N.length==1?N[0]:"",G=Ar(kr.PROJECTION,j,t);if(G)j==="$slice"?Kr(A[j]).every(fe)?(m=G(e,A[j],p,t),s=!0):m=F(e,A,p,t):m=G(e,A[j],p,t);else if(Jt(j))m=F(e,A[j],j,t);else if(Ye(e,p)){Db(A,t);let ee=e[p];ee instanceof Array?m=ee.map(re=>ah(re,A,t,N,!1)):(ee=de(ee)?ee:e,m=ah(ee,A,t,N,!1))}else m=F(e,y,null,t)}else{d.push(p);continue}let S=Ro(e,p,{preserveMissing:!0});S!==void 0&&fl(o,S,{flatten:!0}),gl([0,1,!1,!0],y)&&(m===void 0?Ka(o,p,{descendArray:!0}):bl(o,p,m))}if(hl(o),(s||l||i)&&(o=pr({},e,o),d.length>0))for(let p of d)Ka(o,p,{descendArray:!0});return o}function Db(e,r){let t=[!1,!1];for(let[n,i]of Object.entries(e)){if(n===r?.idKey)return;i===0||i===!1?t[0]=!0:(i===1||i===!0)&&(t[1]=!0),z(!(t[0]&&t[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var ch=(e,r,t)=>{z(se(r),"Invalid expression: $and expects value to be an Array.");let n=r.map(i=>new it(i,t));return i=>n.every(o=>o.test(i))};var Ya=(e,r,t)=>{z(se(r),"Invalid expression. $or expects value to be an Array");let n=r.map(i=>new it(i,t));return i=>n.some(o=>o.test(i))};var lh=(e,r,t)=>{z(se(r),"Invalid expression. $nor expects value to be an array.");let n=Ya("$or",r,t);return i=>!n(i)};var uh=(e,r,t)=>{let n={};n[e]=_l(r);let i=new it(n,t);return o=>!i.test(o)};var Tl=Ee(Qa);var Ml=Ee(Al);var Pl=Ee(kl);var Nl=Ee(rh);var Ll=Ee(Ol);var Fl=Ee(Dl);var Bl=Ee(El);var $l=Ee(Rl);function xE(e,r,t){return n=>F(n,r,null,t)}function CE(e,r,t){if(!t?.jsonSchemaValidator)throw new mt("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let n=t?.jsonSchemaValidator(r);return i=>n(i)}var dh=Ee(gb);var fh=Ee(vb);function SE(e,r,t){z(t.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let n=r;return z(Wa(n),"$where only accepts a Function object"),i=>It(n.call(i),t?.useStrictMode)}var EE=Ee(bb);var hh=Ee(nh);var ph=Ee(_b);var mh=Ee(yb);var gh=Ee(wb);var Ab=!1;function kb(e){return Ab||(Jf(kr.PIPELINE,{$sort:Sl,$project:sh}),Jf(kr.QUERY,{$and:ch,$eq:Tl,$elemMatch:hh,$exists:mh,$gt:Ml,$gte:Pl,$in:Nl,$lt:Ll,$lte:Fl,$ne:Bl,$nin:$l,$mod:dh,$nor:lh,$not:uh,$or:Ya,$regex:fh,$size:ph,$type:gh}),Ab=!0),new it(e)}function Xa(e,r){var t=yt(e.primaryKey);r=Ie(r);var n=hr(r);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([p,m])=>{(typeof m!="object"||m===null)&&(n.selector[p]={$eq:m})})):n.selector={},n.index){var i=$a(n.index);i.includes(t)||i.push(t),n.index=i}if(n.sort){var d=n.sort.find(p=>Qv(p)===t);d||(n.sort=n.sort.slice(0),n.sort.push({[t]:"asc"}))}else if(n.index)n.sort=n.index.map(p=>({[p]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(n.selector).forEach(([p,m])=>{var y=!1;typeof m=="object"&&m!==null?y=!!Object.keys(m).find(S=>ul.has(S)):y=!0,y&&o.add(p)});var s=-1,l;e.indexes.forEach(p=>{var m=qr(p)?p:[p],y=m.findIndex(S=>!o.has(S));y>0&&y>s&&(s=y,l=m)}),l&&(n.sort=l.map(p=>({[p]:"asc"})))}n.sort||(n.sort=[{[t]:"asc"}])}return n}function jl(e,r){if(!r.sort)throw L("SNH",{query:r});var t=[];r.sort.forEach(i=>{var o=Object.keys(i)[0],s=Object.values(i)[0];t.push({key:o,direction:s,getValueFn:Gv(o)})});var n=(i,o)=>{for(var s=0;s<t.length;++s){var l=t[s],d=l.getValueFn(i),p=l.getValueFn(o);if(d!==p){var m=l.direction==="asc"?je(d,p):je(p,d);return m}}};return n}function Mo(e,r){if(!r.sort)throw L("SNH",{query:r});var t=kb(r.selector),n=i=>t.test(i);return n}function Yn(e,r){return U(this,null,function*(){var t=yield e.exec();if(!t)return null;if(Array.isArray(t))return Promise.all(t.map(i=>r(i)));if(t instanceof Map)return Promise.all([...t.values()].map(i=>r(i)));var n=yield r(t);return n})}function RE(e,r){return!r.sort||r.sort.length===0?[e]:r.sort.map(t=>Object.keys(t)[0])}var OE=new WeakMap;function DE(e){return Xt(OE,e,()=>{var r=e.collection,t=Xa(r.storageInstance.schema,hr(e.mangoQuery)),n=r.schema.primaryPath,i=jl(r.schema.jsonSchema,t),o=(p,m)=>{var y={docA:p,docB:m,rxQuery:e};return i(y.docA,y.docB)},s=Mo(r.schema.jsonSchema,t),l=p=>{var m={doc:p,rxQuery:e};return s(m.doc)},d={primaryKey:e.collection.schema.primaryPath,skip:t.skip,limit:t.limit,sortFields:RE(n,t),sortComparator:o,queryMatcher:l};return d})}function Ib(e,r){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var t=DE(e),n=De(e._result).docsData.slice(0),i=De(e._result).docsDataMap,o=!1,s=r.map(d=>by(d)).filter(Uv),l=s.find(d=>{var p={queryParams:t,changeEvent:d,previousResults:n,keyDocumentMap:i},m=tb(p);if(m==="runFullQueryAgain")return!0;if(m!=="doNothing")return o=!0,rb(m,t,d,n,i),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:n}}var AE=(function(){function e(){this._map=new Map}var r=e.prototype;return r.getByQuery=function(n){var i=n.toString();return Xt(this._map,i,()=>n)},e})();function Mb(){return new AE}function Tb(e,r){r.uncached=!0;var t=r.toString();e._map.delete(t)}function kE(e){return e.refCount$.observers.length}var IE=100,TE=30*1e3,ME=(e,r)=>(t,n)=>{if(!(n._map.size<e)){var i=st()-r,o=[],s=Array.from(n._map.values());for(var l of s)if(!(kE(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<i){Tb(n,l);continue}o.push(l)}var d=o.length-e;if(!(d<=0)){var p=o.sort((y,S)=>y._lastEnsureEqual-S._lastEnsureEqual),m=p.slice(0,d);m.forEach(y=>Tb(n,y))}}},yh=ME(IE,TE),vh=new WeakSet;function Pb(e){vh.has(e)||(vh.add(e),ey().then(()=>ny(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),vh.delete(e)}))}var Lb=(function(){function e(t,n,i){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var s=o.docId,l=this.cacheItemByDocId.get(s);l&&(l[0].delete(o.revisionHeight),l[0].size===0&&this.cacheItemByDocId.delete(s))}):void 0,this.primaryPath=t,this.changes$=n,this.documentCreator=i,n.subscribe(o=>{this.tasks.add(()=>{for(var s=this.cacheItemByDocId,l=0;l<o.length;l++){var d=o[l],p=s.get(d.documentId);if(p){var m=d.documentData;m||(m=d.previousDocumentData),p[1]=m}}}),this.tasks.size<=1&&So().then(()=>{this.processTasks()})})}var r=e.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},r.getLatestDocumentData=function(n){this.processTasks();var i=qn(this.cacheItemByDocId,n);return i[1]},r.getLatestDocumentDataIfExists=function(n){this.processTasks();var i=this.cacheItemByDocId.get(n);if(i)return i[1]},kt(e,[{key:"getCachedRxDocuments",get:function(){var t=Nb(this);return Yt(this,"getCachedRxDocuments",t)}},{key:"getCachedRxDocument",get:function(){var t=Nb(this);return Yt(this,"getCachedRxDocument",n=>t([n])[0])}}])})();function Nb(e){var r=e.primaryPath,t=e.cacheItemByDocId,n=e.registry,i=Pe.deepFreezeWhenDevMode,o=e.documentCreator,s=l=>{for(var d=new Array(l.length),p=[],m=0;m<l.length;m++){var y=l[m],S=y[r],A=ki(y._rev),N=void 0,j=void 0,G=t.get(S);G?(N=G[0],j=N.get(A)):(N=new Map,G=[N,y],t.set(S,G));var ee=j?j.deref():void 0;ee||(y=i(y),ee=o(y),N.set(A,NE(ee)),n&&p.push(ee)),d[m]=ee}return p.length>0&&n&&(e.tasks.add(()=>{for(var re=0;re<p.length;re++){var te=p[re];n.register(te,{docId:te.primary,revisionHeight:ki(te.revision)})}}),e.tasks.size<=1&&So().then(()=>{e.processTasks()})),d};return s}function Ul(e,r){var t=e.getCachedRxDocuments;return t(r)}var PE=typeof WeakRef=="function",NE=PE?LE:FE;function LE(e){return new WeakRef(e)}function FE(e){return{deref(){return e}}}var bh=(function(){function e(t,n,i){this.time=st(),this.query=t,this.count=i,this.documents=Ul(this.query.collection._docCache,n)}var r=e.prototype;return r.getValue=function(n){var i=this.query.op;if(i==="count")return this.count;if(i==="findOne"){var o=this.documents.length===0?null:this.documents[0];if(!o&&n)throw L("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:i});return o}else return i==="findByIds"?this.docsMap:this.documents.slice(0)},kt(e,[{key:"docsData",get:function(){return Yt(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(n=>{t.set(n.primary,n._data)}),Yt(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,n=this.documents,i=0;i<n.length;i++){var o=n[i];t.set(o.primary,o)}return Yt(this,"docsMap",t)}}])})();var BE=0,$E=function(){return++BE},_h=(function(){function e(t,n,i,o={}){this.id=$E(),this._execOverDatabaseCount=0,this._creationTime=st(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new ft(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Wr,this.op=t,this.mangoQuery=n,this.collection=i,this.other=o,n||(this.mangoQuery=Za()),this.isFindOneByIdQuery=VE(this.collection.schema.primaryPath,n)}var r=e.prototype;return r._setResultData=function(n){if(typeof n>"u")throw L("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof n=="number"){this._result=new bh(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var i=new bh(this,n,n.length);this._result=i},r._execOverDatabase=function(){return U(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=st(),this.op==="count"){var n=this.getPreparedQuery(),i=yield this.collection.storageInstance.count(n);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw L("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=De(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,s=new Map,l=[];if(o.forEach(m=>{var y=this.collection._docCache.getLatestDocumentDataIfExists(m);if(y){if(!y._deleted){var S=this.collection._docCache.getCachedRxDocument(y);s.set(m,S)}}else l.push(m)}),l.length>0){var d=yield this.collection.storageInstance.findDocumentsById(l,!1);d.forEach(m=>{var y=this.collection._docCache.getCachedRxDocument(m);s.set(y.primary,y)})}return s}var p=zE(this);return p.then(m=>(this._lastExecEnd=st(),m))})},r.exec=function(n){return U(this,null,function*(){if(n&&this.op!=="findOne")throw L("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield Fb(this);var i=De(this._result);return i.getValue(n)})},r.toString=function(){var n=wo({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n);return this.toString=()=>i,i},r.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:Xa(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),nt("prePrepareQuery",n);var i=Ja(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>i,i},r.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},r.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(i=>i.remove())):n.remove())},r.incrementalRemove=function(){return Yn(this.asRxQuery,n=>n.incrementalRemove())},r.update=function(n){throw Oe("update")},r.patch=function(n){return Yn(this.asRxQuery,i=>i.patch(n))},r.incrementalPatch=function(n){return Yn(this.asRxQuery,i=>i.incrementalPatch(n))},r.modify=function(n){return Yn(this.asRxQuery,i=>i.modify(n))},r.incrementalModify=function(n){return Yn(this.asRxQuery,i=>i.incrementalModify(n))},r.where=function(n){throw Oe("query-builder")},r.sort=function(n){throw Oe("query-builder")},r.skip=function(n){throw Oe("query-builder")},r.limit=function(n){throw Oe("query-builder")},kt(e,[{key:"$",get:function(){if(!this._$){var t=this.collection.$.pipe(ge(n=>!n.isLocal),Vt(null),ht(()=>Fb(this)),me(()=>this._result),ca(Zc),Dn((n,i)=>!!(n&&n.time===De(i).time)),ge(n=>!!n),me(n=>De(n).getValue()));this._$=qs(t,this.refCount$.pipe(ge(()=>!1)))}return this._$}},{key:"$$",get:function(){var t=this.collection.database.getReactivityFactory();return t.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var t=this.collection.schema.jsonSchema,n=Xa(this.collection.schema.jsonSchema,this.mangoQuery);return Yt(this,"queryMatcher",Mo(t,n))}},{key:"asRxQuery",get:function(){return this}}])})();function Za(){return{selector:{}}}function jE(e){return e.collection._queryCache.getByQuery(e)}function Po(e,r,t,n){nt("preCreateRxQuery",{op:e,queryObj:r,collection:t,other:n});var i=new _h(e,r,t,n);return i=jE(i),Pb(t),i}function Bb(e){var r=e.asRxQuery.collection._changeEventBuffer.getCounter();return e._latestChangeEvent>=r}function Fb(e){return U(this,null,function*(){return e.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(e.collection.awaitBeforeReads).map(r=>r()))),e.collection.database.destroyed||Bb(e)?!1:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>UE(e)),e._ensureEqualQueue)})}function UE(e){if(e._lastEnsureEqual=st(),e.collection.database.destroyed||Bb(e))return Wr;var r=!1,t=!1;if(e._latestChangeEvent===-1&&(t=!0),!t){var n=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(n===null)t=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.getCounter();var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(e.op==="count"){var o=De(e._result).count,s=o;i.forEach(d=>{var p=d.previousDocumentData&&e.doesDocumentDataMatch(d.previousDocumentData),m=e.doesDocumentDataMatch(d.documentData);!p&&m&&s++,p&&!m&&s--}),s!==o&&(r=!0,e._setResultData(s))}else{var l=Ib(e,i);l.runFullQueryAgain?t=!0:l.changed&&(r=!0,e._setResultData(l.newResults))}}}return t?e._execOverDatabase().then(d=>(e._latestChangeEvent=e.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!e._result||d!==e._result.count)&&(r=!0,e._setResultData(d)),r):((!e._result||!Xv(e.collection.schema.primaryPath,d,e._result.docsData))&&(r=!0,e._setResultData(d)),r))):Promise.resolve(r)}function Ja(e,r){if(!r.sort)throw L("SNH",{query:r});var t=nb(e,r);return{query:r,queryPlan:t}}function zE(e){return U(this,null,function*(){var r=[],t=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var n=e.isFindOneByIdQuery;if(n=n.filter(m=>{var y=e.collection._docCache.getLatestDocumentDataIfExists(m);return y?(y._deleted||r.push(y),!1):!0}),n.length>0){var i=yield t.storageInstance.findDocumentsById(n,!1);Or(r,i)}}else{var o=e.isFindOneByIdQuery,s=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!s){var l=yield t.storageInstance.findDocumentsById([o],!1);l[0]&&(s=l[0])}s&&!s._deleted&&r.push(s)}else{var d=e.getPreparedQuery(),p=yield t.storageInstance.query(d);r=p.documents}return r})}function VE(e,r){if(!r.skip&&r.selector&&Object.keys(r.selector).length===1&&r.selector[e]){var t=r.selector[e];if(typeof t=="string")return t;if(Object.keys(t).length===1&&typeof t.$eq=="string"||Object.keys(t).length===1&&Array.isArray(t.$eq)&&!t.$eq.find(n=>typeof n!="string"))return t.$eq}return!1}var $b="_rxdb_internal";function xh(e,r){return U(this,null,function*(){var t=yield e.findDocumentsById([r],!1),n=t[0];if(n)return n})}function No(e,r,t,n){if(n)throw n.status===409?L("CONFLICT",{collection:e.name,id:r,writeError:n,data:t}):n.status===422?L("VD2",{collection:e.name,id:r,writeError:n,data:t}):n}function jb(e,r,t,n,i,o,s){for(var l=!!e.schema.attachments,d=[],p=[],m=[],y=Ti(10),S={id:y,events:[],checkpoint:null,context:i,startTime:st(),endTime:0},A=S.events,N=[],j=[],G=[],ee=t.size>0,re,te=n.length,Te=function(){var Ne=n[ce],Ae=Ne.document,Ve=Ne.previous,vt=Ae[r],jt=Ae._deleted,gr=Ve&&Ve._deleted,ri=void 0;ee&&(ri=t.get(vt));var vr;if(ri){var Xr=ri._rev;if(!Ve||Ve&&Xr!==Ve._rev){var gn={isError:!0,status:409,documentId:vt,writeRow:Ne,documentInDb:ri};return m.push(gn),1}var Pt=l?wh(Ne):Ne;l&&(jt?Ve&&Object.keys(Ve._attachments).forEach(ct=>{j.push({documentId:vt,attachmentId:ct,digest:De(Ve)._attachments[ct].digest})}):(Object.entries(Ae._attachments).find(([ct,lt])=>{var yn=Ve?Ve._attachments[ct]:void 0;return!yn&&!lt.data&&(vr={documentId:vt,documentInDb:ri,isError:!0,status:510,writeRow:Ne,attachmentId:ct}),!0}),vr||Object.entries(Ae._attachments).forEach(([ct,lt])=>{var yn=Ve?Ve._attachments[ct]:void 0;if(!yn)N.push({documentId:vt,attachmentId:ct,attachmentData:lt,digest:lt.digest});else{var yu=Pt.document._attachments[ct].digest;lt.data&&yn.digest!==yu&&G.push({documentId:vt,attachmentId:ct,attachmentData:lt,digest:lt.digest})}}))),vr?m.push(vr):(l?(p.push(wh(Pt)),s&&s(Ae)):(p.push(Pt),s&&s(Ae)),re=Pt);var vn=null,qo=null,yr=null;if(gr&&!jt)yr="INSERT",vn=l?Qr(Ae):Ae;else if(Ve&&!gr&&!jt)yr="UPDATE",vn=l?Qr(Ae):Ae,qo=Ve;else if(jt)yr="DELETE",vn=De(Ae),qo=Ve;else throw L("SNH",{args:{writeRow:Ne}});var hs={documentId:vt,documentData:vn,previousDocumentData:qo,operation:yr};A.push(hs)}else{var Vo=!!jt;if(l&&Object.entries(Ae._attachments).forEach(([ct,lt])=>{lt.data?N.push({documentId:vt,attachmentId:ct,attachmentData:lt,digest:lt.digest}):(vr={documentId:vt,isError:!0,status:510,writeRow:Ne,attachmentId:ct},m.push(vr))}),vr||(l?(d.push(wh(Ne)),o&&o(Ae)):(d.push(Ne),o&&o(Ae)),re=Ne),!Vo){var vu={documentId:vt,operation:"INSERT",documentData:l?Qr(Ae):Ae,previousDocumentData:l&&Ve?Qr(Ve):Ve};A.push(vu)}}},ce=0;ce<te;ce++)Te();return{bulkInsertDocs:d,bulkUpdateDocs:p,newestRow:re,errors:m,eventBulk:S,attachmentsAdd:N,attachmentsRemove:j,attachmentsUpdate:G}}function wh(e){return{previous:e.previous,document:Qr(e.document)}}function qE(e){return atob(e).length}function WE(e){var r=e.data;if(!r)return e;var t={length:qE(r),digest:e.digest,type:e.type};return t}function Qr(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var r=Ie(e);return r._attachments={},Object.entries(e._attachments).forEach(([t,n])=>{r._attachments[t]=WE(n)}),r}function Bi(e){return Object.assign({},e,{_meta:Ie(e._meta)})}var Ub=new WeakMap;function zl(e,r,t){Pe.deepFreezeWhenDevMode(t);var n=yt(r.schema.primaryKey),i={originalStorageInstance:r,schema:r.schema,internals:r.internals,collectionName:r.collectionName,databaseName:r.databaseName,options:r.options,bulkWrite(o,s){for(var l=e.token,d=new Array(o.length),p=st(),m=0;m<o.length;m++){var y=o[m],S=Bi(y.document);S._meta.lwt=p;var A=y.previous;S._rev=_o(l,A),d[m]={document:S,previous:A}}return nt("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),e.lockedRun(()=>r.bulkWrite(d,s)).then(N=>{var j={error:[]},G=mr(n,d,N);Ub.set(j,G);var ee=N.error.length===0?[]:N.error.filter(te=>te.status===409&&!te.writeRow.previous&&!te.writeRow.document._deleted&&De(te.documentInDb)._deleted?!0:(j.error.push(te),!1));if(ee.length>0){var re=ee.map(te=>({previous:te.documentInDb,document:Object.assign({},te.writeRow.document,{_rev:_o(e.token,te.documentInDb)})}));return e.lockedRun(()=>r.bulkWrite(re,s)).then(te=>{Or(j.error,te.error);var Te=mr(n,re,te);return Or(G,Te),j})}return j})},query(o){return e.lockedRun(()=>r.query(o))},count(o){return e.lockedRun(()=>r.count(o))},findDocumentsById(o,s){return e.lockedRun(()=>r.findDocumentsById(o,s))},getAttachmentData(o,s,l){return e.lockedRun(()=>r.getAttachmentData(o,s,l))},getChangedDocumentsSince:r.getChangedDocumentsSince?(o,s)=>e.lockedRun(()=>r.getChangedDocumentsSince(De(o),s)):void 0,cleanup(o){return e.lockedRun(()=>r.cleanup(o))},remove(){return e.storageInstances.delete(i),e.lockedRun(()=>r.remove())},close(){return e.storageInstances.delete(i),e.lockedRun(()=>r.close())},changeStream(){return r.changeStream()},conflictResultionTasks(){return r.conflictResultionTasks()},resolveConflictResultionTask(o){if(o.output.isEqual)return r.resolveConflictResultionTask(o);var s=Object.assign({},o.output.documentData,{_meta:jn(),_rev:ln(),_attachments:{}}),l=Ie(s);return delete l._meta,delete l._rev,delete l._attachments,r.resolveConflictResultionTask({id:o.id,output:{isEqual:!1,documentData:l}})}};return e.storageInstances.add(i),i}function zb(e){if(e.schema.keyCompression)throw L("UT5",{args:{params:e}});if(HE(e.schema))throw L("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw L("UT7",{args:{params:e}})}function HE(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}function mr(e,r,t){var n=Ub.get(t);if(n)return n;var i=[];if(t.error.length>0){for(var o=new Set,s=0;s<t.error.length;s++){var l=t.error[s];o.add(l.documentId)}for(var d=0;d<r.length;d++){var p=r[d].document;o.has(p[e])||i.push(Qr(p))}}else{i.length=r.length-t.error.length;for(var m=0;m<r.length;m++){var y=r[m].document;i[m]=Qr(y)}}return i}var Vb=(function(){function e(t,n,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=t,this.primaryPath=n,this.preWrite=i,this.postWrite=o}var r=e.prototype;return r.addWrite=function(n,i){var o=n[this.primaryPath],s=Xt(this.queueByDocId,o,()=>[]),l=new Promise((d,p)=>{var m={lastKnownDocumentState:n,modifier:i,resolve:d,reject:p};De(s).push(m),this.triggerRun()});return l},r.triggerRun=function(){return U(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],i=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(i.entries()).map(d=>U(this,[d],function*([s,l]){var p=KE(l.map(S=>S.lastKnownDocumentState)),m=p;for(var y of l)try{m=yield y.modifier(hr(m))}catch(S){y.reject(S),y.reject=()=>{},y.resolve=()=>{}}try{yield this.preWrite(m,p)}catch(S){l.forEach(A=>A.reject(S));return}n.push({previous:p,document:m})})));var o=n.length>0?yield this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return yield Promise.all(mr(this.primaryPath,n,o).map(s=>{var l=s[this.primaryPath];this.postWrite(s);var d=qn(i,l);d.forEach(p=>p.resolve(s))})),o.error.forEach(s=>{var l=s.documentId,d=qn(i,l),p=tl(s);if(p){var m=Xt(this.queueByDocId,l,()=>[]);d.reverse().forEach(S=>{S.lastKnownDocumentState=De(p.documentInDb),De(m).unshift(S)})}else{var y=hy(s);d.forEach(S=>S.reject(y))}}),this.isRunning=!1,this.triggerRun()}})},e})();function Ch(e){var r=t=>U(null,null,function*(){var n=Yv(t);n._deleted=t._deleted;var i=yield e(n),o=Object.assign({},i,{_meta:t._meta,_attachments:t._attachments,_rev:t._rev,_deleted:typeof i._deleted<"u"?i._deleted:t._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return r}function KE(e){var r=e[0],t=ki(r._rev);return e.forEach(n=>{var i=ki(n._rev);i>t&&(r=n,t=i)}),r}var Xn={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(me(r=>r._data._deleted))},get deleted$$(){var e=this,r=e.collection.database.getReactivityFactory();return r.fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(ge(r=>!r.isLocal),ge(r=>r.documentId===this.primary),me(r=>yy(r)),Vt(e.collection._docCache.getLatestDocumentData(this.primary)),Dn((r,t)=>r._rev===t._rev),me(r=>this.collection._docCache.getCachedRxDocument(r)),ca(Zc))},get $$(){var e=this,r=e.collection.database.getReactivityFactory();return r.fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$(e){if(Pe.isDevMode()){if(e.includes(".item."))throw L("DOC1",{path:e});if(e===this.primaryPath)throw L("DOC2");if(this.collection.schema.finalFields.includes(e))throw L("DOC3",{path:e});var r=Bt(this.collection.schema.jsonSchema,e);if(!r)throw L("DOC4",{path:e})}return this.$.pipe(me(t=>Ft(t,e)),Dn())},get$$(e){var r=this.get$(e),t=this.collection.database.getReactivityFactory();return t.fromObservable(r,this.getLatest().get(e),this.collection.database)},populate(e){var r=Bt(this.collection.schema.jsonSchema,e),t=this.get(e);if(!t)return ry;if(!r)throw L("DOC5",{path:e});if(!r.ref)throw L("DOC6",{path:e,schemaObj:r});var n=this.collection.database.collections[r.ref];if(!n)throw L("DOC7",{ref:r.ref,path:e,schemaObj:r});return r.type==="array"?n.findByIds(t).exec().then(i=>{var o=i.values();return Array.from(o)}):n.findOne(t).exec()},get(e){return Wb(this,e)},toJSON(e=!1){if(e)return Pe.deepFreezeWhenDevMode(this._data);var r=Ie(this._data);return delete r._rev,delete r._attachments,delete r._deleted,delete r._meta,Pe.deepFreezeWhenDevMode(r)},toMutableJSON(e=!1){return hr(this.toJSON(e))},update(e){throw Oe("update")},incrementalUpdate(e){throw Oe("update")},updateCRDT(e){throw Oe("crdt")},putAttachment(){throw Oe("attachments")},getAttachment(){throw Oe("attachments")},allAttachments(){throw Oe("attachments")},get allAttachments$(){throw Oe("attachments")},modify(e,r){return U(this,null,function*(){var t=this._data,n=yield Ch(e)(t);return this._saveData(n,t)})},incrementalModify(e,r){return this.collection.incrementalWriteQueue.addWrite(this._data,Ch(e)).then(t=>this.collection._docCache.getCachedRxDocument(t))},patch(e){var r=this._data,t=hr(r);return Object.entries(e).forEach(([n,i])=>{t[n]=i}),this._saveData(t,r)},incrementalPatch(e){return this.incrementalModify(r=>(Object.entries(e).forEach(([t,n])=>{r[t]=n}),r))},_saveData(e,r){return U(this,null,function*(){if(e=Ie(e),this._data._deleted)throw L("DOC11",{id:this.primary,document:this});yield Sh(this.collection,e,r);var t=[{previous:r,document:e}],n=yield this.collection.storageInstance.bulkWrite(t,"rx-document-save-data"),i=n.error[0];return No(this.collection,this.primary,e,i),yield this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(mr(this.collection.schema.primaryPath,t,n)[0])})},remove(){var e=this.collection;if(this.deleted)return Promise.reject(L("DOC13",{document:this,id:this.primary}));var r=Ie(this._data),t;return e._runHooks("pre","remove",r,this).then(()=>U(this,null,function*(){r._deleted=!0;var n=[{previous:this._data,document:r}],i=yield e.storageInstance.bulkWrite(n,"rx-document-remove"),o=i.error[0];return No(e,this.primary,r,o),mr(this.collection.schema.primaryPath,n,i)[0]})).then(n=>(t=n,this.collection._runHooks("post","remove",r,this))).then(()=>this.collection._docCache.getCachedRxDocument(t))},incrementalRemove(){return this.incrementalModify(e=>U(this,null,function*(){return yield this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e})).then(e=>U(this,null,function*(){return yield this.collection._runHooks("post","remove",e._data,e),e}))},destroy(){throw L("DOC14")}};function Vl(e=Xn){var r=function(n,i){this.collection=n,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return r.prototype=e,r}function qb(e,r,t){var n=new e(r,t);return nt("createRxDocument",n),n}function Sh(e,r,t){return r._meta=Object.assign({},t._meta,r._meta),Pe.isDevMode()&&e.schema.validateChange(t,r),e._runHooks("pre","save",r,t)}function Wb(e,r){return Xt(e._propertyCache,r,()=>{var t=Ft(e._data,r);if(typeof t!="object"||t===null||Array.isArray(t))return Pe.deepFreezeWhenDevMode(t);var n=new Proxy(Ie(t),{get(i,o){if(typeof o!="string")return i[o];var s=o.charAt(o.length-1);if(s==="$")if(o.endsWith("$$")){var l=o.slice(0,-2);return e.get$$(Dr(r+"."+l))}else{var d=o.slice(0,-1);return e.get$(Dr(r+"."+d))}else if(s==="_"){var p=o.slice(0,-1);return e.populate(Dr(r+"."+p))}else{var m=i[o];return typeof m=="number"||typeof m=="string"||typeof m=="boolean"?m:Wb(e,Dr(r+"."+o))}}});return n})}var Lo="collection",Eh="storage-token",GE="rx-migration-status",QE="RxInternalDocument",ql=nl({version:0,title:QE,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Lo,Eh,GE,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Wl(e,r){return Ua(ql,{key:e,context:r})}function Hl(e){return U(this,null,function*(){var r=Ja(e.schema,{selector:{context:Lo,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),t=yield e.query(r),n=t.documents;return n})}var Hb="storageToken",YE=Wl(Hb,Eh);function Kb(e){return U(this,null,function*(){var r=Ti(10),t=e.password?yield e.hashFunction(JSON.stringify(e.password)):void 0,n={id:YE,context:Eh,key:Hb,data:{rxdbVersion:e.rxdbVersion,token:r,instanceToken:e.token,passwordHash:t},_deleted:!1,_meta:jn(),_rev:ln(),_attachments:{}},i=[{document:n}],o=yield e.internalStore.bulkWrite(i,"internal-add-storage-token");if(!o.error[0])return mr("id",i,o)[0];var s=De(o.error[0]);if(s.isError&&tl(s)){var l=s;if(!XE(l.documentInDb.data.rxdbVersion,e.rxdbVersion))throw L("DM5",{args:{database:e.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(t&&t!==l.documentInDb.data.passwordHash)throw L("DB1",{passwordHash:t,existingPasswordHash:l.documentInDb.data.passwordHash});var d=l.documentInDb;return De(d)}throw s})}function XE(e,r){if(!e||r.includes("beta")&&r!==e)return!1;var t=e.split(".")[0],n=r.split(".")[0];return t===n}function Rh(e,r){return e+"-"+r.version}function es(e,r){return r=Ie(r),r=my(e,r),typeof e.jsonSchema.primaryKey!="string"&&(r=rl(e.primaryPath,e.jsonSchema,r)),r._meta=jn(),Object.prototype.hasOwnProperty.call(r,"_deleted")||(r._deleted=!1),Object.prototype.hasOwnProperty.call(r,"_attachments")||(r._attachments={}),Object.prototype.hasOwnProperty.call(r,"_rev")||(r._rev=ln()),r}function Gb(e,r){return U(this,null,function*(){r.multiInstance=e.multiInstance;var t=yield e.storage.createStorageInstance(r);return t})}function Kl(e,r,t,n,i,o,s){return U(this,null,function*(){var l=yield Hl(r),d=l.filter(S=>S.data.name===i),p=[];d.forEach(S=>{p.push({collectionName:S.data.name,schema:S.data.schema,isCollection:!0}),S.data.connectedStorages.forEach(A=>p.push({collectionName:A.collectionName,isCollection:!1,schema:A.schema}))});var m=new Set;if(p=p.filter(S=>{var A=S.collectionName+"||"+S.schema.version;return m.has(A)?!1:(m.add(A),!0)}),yield Promise.all(p.map(S=>U(null,null,function*(){var A=yield e.createStorageInstance({collectionName:S.collectionName,databaseInstanceToken:t,databaseName:n,multiInstance:!1,options:{},schema:S.schema,password:o,devMode:Pe.isDevMode()});yield A.remove(),S.isCollection&&(yield Kn("postRemoveRxCollection",{storage:e,databaseName:n,collectionName:i}))}))),s){var y=d.map(S=>{var A=Bi(S);return A._deleted=!0,A._meta.lwt=st(),A._rev=_o(t,S),{previous:S,document:A}});yield r.bulkWrite(y,"rx-database-remove-collection-all")}})}function tr(e){if(e.destroyed)throw L("COL21",{collection:e.name,version:e.schema.version})}var ZE=(function(){function e(t){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=t,this.subs.push(this.collection.database.eventBulks$.pipe(ge(n=>n.collectionName===this.collection.name),ge(n=>{var i=n.events[0];return!i.isLocal})).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&So().then(()=>{this.processTasks()})}))}var r=e.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},r._handleChangeEvents=function(n){var i=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(Or(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var o=i+1,s=this.eventCounterMap,l=0;l<n.length;l++){var d=n[l];s.set(d,o+l)}},r.getCounter=function(){return this.processTasks(),this.counter},r.getBuffer=function(){return this.processTasks(),this.buffer},r.getArrayIndexByPointer=function(n){this.processTasks();var i=this.buffer[0],o=this.eventCounterMap.get(i);if(n<o)return null;var s=n-o;return s},r.getFrom=function(n){this.processTasks();var i=[],o=this.getArrayIndexByPointer(n);if(o===null)return null;for(;;){var s=this.buffer[o];if(o++,s)i.push(s);else return i}},r.runFrom=function(n,i){this.processTasks();var o=this.getFrom(n);if(o===null)throw new Error("out of bounds");o.forEach(s=>i(s))},r.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0);var i={};return n.forEach(o=>{i[o.documentId]=o}),Object.values(i)},r.destroy=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},e})();function Qb(e){return new ZE(e)}var JE=new WeakMap;function eR(e){var r=e.schema.getDocumentPrototype(),t=tR(e),n=Xn,i={};return[r,t,n].forEach(o=>{var s=Object.getOwnPropertyNames(o);s.forEach(l=>{var d=Object.getOwnPropertyDescriptor(o,l),p=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(p=!1),typeof d.value=="function"?Object.defineProperty(i,l,{get(){return d.value.bind(this)},enumerable:p,configurable:!1}):(d.enumerable=p,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(i,l,d))})}),i}function Yb(e){return Xt(JE,e,()=>Vl(eR(e)))}function Xb(e,r,t){var n=qb(r,e,Pe.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),nt("postCreateRxDocument",n),n}function tR(e){var r={};return Object.entries(e.methods).forEach(([t,n])=>{r[t]=n}),r}var Oh=function(e,r){var t=Qr(e.newDocumentState),n=Qr(e.realMasterState);return Vn(t,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};function Gl(e){var r=e.collection.schema.jsonSchema;if(!r.attachments)throw L("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function Zb(e){Object.entries(e.doc.collection.attachments).forEach(([r,t])=>{Object.defineProperty(e,r,{get:()=>t.bind(e)})})}var rR=(function(){function e({doc:t,id:n,type:i,length:o,digest:s}){this.doc=t,this.id=n,this.type=i,this.length=o,this.digest=s,Zb(this)}var r=e.prototype;return r.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,n=>(delete n._attachments[this.id],n)).then(()=>{})},r.getData=function(){return U(this,null,function*(){var n=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),i=yield qv(n,this.type);return i})},r.getStringData=function(){return U(this,null,function*(){var n=yield this.getData(),i=yield Wv(n);return i})},e})();function Ql(e,r,t){return new rR({doc:t,id:e,type:r.type,length:r.length,digest:r.digest})}function nR(e){return U(this,null,function*(){Gl(this);var r=Kv(e.data),t=yield Hv(e.data),n=yield this.collection.database.hashFunction(t),i=e.id,o=e.type,s=t;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=Ie(l),l._attachments=Ie(l._attachments),l._attachments[i]={length:r,type:o,data:s,digest:n},l)).then(l=>{var d=this.collection._docCache.getCachedRxDocument(l),p=l._attachments[i],m=Ql(i,p,d);return m})})}function iR(e){Gl(this);var r=this._data;if(!r._attachments||!r._attachments[e])return null;var t=r._attachments[e],n=Ql(e,t,this);return n}function oR(){Gl(this);var e=this._data;return e._attachments?Object.keys(e._attachments).map(r=>Ql(r,e._attachments[r],this)):[]}function aR(e){return U(this,null,function*(){var r=e.docData._attachments;if(r){var t={};yield Promise.all(Object.keys(r).map(n=>U(null,null,function*(){var i=r[n],o=e.docData[e.oldCollection.schema.primaryPath],s=yield e.oldCollection.storageInstance.getAttachmentData(o,n,i.digest),l=yield e.oldCollection.database.hashFunction(s);t[n]={length:i.length,type:i.type,data:s,digest:l}}))),e.docData._attachments=t}})}function sR(e){return zn}var Jb={name:"attachments",rxdb:!0,prototypes:{RxDocument:e=>{e.putAttachment=nR,e.getAttachment=iR,e.allAttachments=oR,Object.defineProperty(e,"allAttachments$",{get:function(){return this.$.pipe(me(t=>Object.entries(t.toJSON(!0)._attachments)),me(t=>t.map(([n,i])=>Ql(n,i,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:aR},postMigrateDocument:{after:sR}}};var t_=["pre","post"],r_=["insert","save","remove","create"],e_=!1,ts=(function(){function e(t,n,i,o,s={},l={},d={},p={},m={},y=yh,S={},A=Oh){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Mb(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=t,this.name=n,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=s,this.migrationStrategies=l,this.methods=d,this.attachments=p,this.options=m,this.cacheReplacementPolicy=y,this.statics=S,this.conflictHandler=A,cR(this.asRxCollection)}var r=e.prototype;return r.prepare=function(){return U(this,null,function*(){this.storageInstance=zl(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Vb(this.storageInstance,this.schema.primaryPath,(d,p)=>Sh(this,d,p),d=>this._runHooks("post","save",d));var n=this.database.eventBulks$.pipe(ge(d=>d.collectionName===this.name));this.$=n.pipe(ht(d=>d.events)),this.checkpoint$=n.pipe(me(d=>d.checkpoint)),this._changeEventBuffer=Qb(this.asRxCollection);var i;this._docCache=new Lb(this.schema.primaryPath,this.database.eventBulks$.pipe(ge(d=>d.collectionName===this.name&&!d.events[0].isLocal),me(d=>d.events)),d=>(i||(i=Yb(this.asRxCollection)),Xb(this.asRxCollection,i,d)));var o=this.database.internalStore.changeStream().pipe(ge(d=>{var p=this.name+"-"+this.schema.version,m=d.events.find(y=>y.documentData.context==="collection"&&y.documentData.key===p&&y.operation==="DELETE");return!!m})).subscribe(()=>U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(o);var s=yield this.database.storageToken,l=this.storageInstance.changeStream().subscribe(d=>{for(var p=new Array(d.events.length),m=d.events,y=this.name,S=Pe.deepFreezeWhenDevMode,A=0;A<m.length;A++){var N=m[A];p[A]={documentId:N.documentId,collectionName:y,isLocal:!1,operation:N.operation,documentData:S(N.documentData),previousDocumentData:S(N.previousDocumentData)}}var j={id:d.id,internal:!1,collectionName:this.name,storageToken:s,events:p,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit(j)});return this._subs.push(l),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(p=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:p})})})),zn})},r.cleanup=function(n){throw tr(this),Oe("cleanup")},r.migrationNeeded=function(){throw Oe("migration-schema")},r.getMigrationState=function(){throw Oe("migration-schema")},r.startMigration=function(n=10){return tr(this),this.getMigrationState().startMigration(n)},r.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},r.insert=function(n){return U(this,null,function*(){tr(this);var i=yield this.bulkInsert([n]),o=i.error[0];No(this,n[this.schema.primaryPath],n,o);var s=De(i.success[0]);return s})},r.bulkInsert=function(n){return U(this,null,function*(){if(tr(this),n.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=new Set,s;if(this.hasHooks("pre","insert"))s=yield Promise.all(n.map(G=>{var ee=es(this.schema,G);return this._runHooks("pre","insert",ee).then(()=>(o.add(ee[i]),{document:ee}))}));else{s=new Array(n.length);for(var l=this.schema,d=0;d<n.length;d++){var p=n[d],m=es(l,p);o.add(m[i]),s[d]={document:m}}}if(o.size!==n.length)throw L("COL22",{collection:this.name,args:{documents:n}});var y=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),S,A=this,N={get success(){if(!S){var G=mr(A.schema.primaryPath,s,y);S=Ul(A._docCache,G)}return S},error:y.error};if(this.hasHooks("post","insert")){var j=new Map;s.forEach(G=>{var ee=G.document;j.set(ee[i],ee)}),yield Promise.all(N.success.map(G=>this._runHooks("post","insert",j.get(G.primary),G)))}return N})},r.bulkRemove=function(n){return U(this,null,function*(){tr(this);var i=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var o=yield this.findByIds(n).exec(),s=[],l=new Map;Array.from(o.values()).forEach(A=>{var N=A.toMutableJSON(!0);s.push(N),l.set(A.primary,N)}),yield Promise.all(s.map(A=>{var N=A[this.schema.primaryPath];return this._runHooks("pre","remove",A,o.get(N))}));var d=s.map(A=>{var N=Ie(A);return N._deleted=!0,{previous:A,document:N}}),p=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),m=mr(this.schema.primaryPath,d,p),y=m.map(A=>A[i]);yield Promise.all(y.map(A=>this._runHooks("post","remove",l.get(A),o.get(A))));var S=y.map(A=>qn(o,A));return{success:S,error:p.error}})},r.bulkUpsert=function(n){return U(this,null,function*(){tr(this);var i=[],o=new Map;n.forEach(p=>{var m=es(this.schema,p),y=m[this.schema.primaryPath];if(!y)throw L("COL3",{primaryPath:this.schema.primaryPath,data:m,schema:this.schema.jsonSchema});o.set(y,m),i.push(m)});var s=yield this.bulkInsert(i),l=s.success.slice(0),d=[];return yield Promise.all(s.error.map(p=>U(this,null,function*(){if(p.status!==409)d.push(p);else{var m=p.documentId,y=qn(o,m),S=De(p.documentInDb),A=this._docCache.getCachedRxDocuments([S])[0],N=yield A.incrementalModify(()=>y);l.push(N)}}))),{error:d,success:l}})},r.upsert=function(n){return U(this,null,function*(){tr(this);var i=yield this.bulkUpsert([n]);return No(this.asRxCollection,n[this.schema.primaryPath],n,i.error[0]),i.success[0]})},r.incrementalUpsert=function(n){tr(this);var i=es(this.schema,n),o=i[this.schema.primaryPath];if(!o)throw L("COL4",{data:n});var s=this._incrementalUpsertQueues.get(o);return s||(s=zn),s=s.then(()=>uR(this,o,i)).then(l=>l.inserted?l.doc:lR(l.doc,i)),this._incrementalUpsertQueues.set(o,s),s},r.find=function(n){if(tr(this),typeof n=="string")throw L("COL5",{queryObj:n});n||(n=Za());var i=Po("find",n,this);return i},r.findOne=function(n){if(tr(this),typeof n=="number"||Array.isArray(n))throw pt("COL6",{queryObj:n});var i;if(typeof n=="string")i=Po("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=Za()),n.limit)throw L("QU6");n=Ie(n),n.limit=1,i=Po("findOne",n,this)}return i},r.count=function(n){tr(this),n||(n=Za());var i=Po("count",n,this);return i},r.findByIds=function(n){tr(this);var i={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},o=Po("findByIds",i,this);return o},r.exportJSON=function(){throw Oe("json-dump")},r.importJSON=function(n){throw Oe("json-dump")},r.insertCRDT=function(n){throw Oe("crdt")},r.addPipeline=function(n){throw Oe("pipeline")},r.addHook=function(n,i,o,s=!1){if(typeof o!="function")throw pt("COL7",{key:i,when:n});if(!t_.includes(n))throw pt("COL8",{key:i,when:n});if(!r_.includes(i))throw L("COL9",{key:i});if(n==="post"&&i==="create"&&s===!0)throw L("COL10",{when:n,key:i,parallel:s});var l=o.bind(this),d=s?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][d].push(l)},r.getHooks=function(n,i){return!this.hooks[i]||!this.hooks[i][n]?{series:[],parallel:[]}:this.hooks[i][n]},r.hasHooks=function(n,i){if(!this.hooks[i]||!this.hooks[i][n])return!1;var o=this.getHooks(n,i);return o?o.series.length>0||o.parallel.length>0:!1},r._runHooks=function(n,i,o,s){var l=this.getHooks(n,i);if(!l)return zn;var d=l.series.map(p=>()=>p(o,s));return iy(d).then(()=>Promise.all(l.parallel.map(p=>p(o,s))))},r._runHooksSync=function(n,i,o,s){if(this.hasHooks(n,i)){var l=this.getHooks(n,i);l&&l.series.forEach(d=>d(o,s))}},r.promiseWait=function(n){var i=new Promise(o=>{var s=setTimeout(()=>{this.timeouts.delete(s),o()},n);this.timeouts.add(s)});return i},r.destroy=function(){return U(this,null,function*(){return this.destroyed?Wr:(yield Promise.all(this.onDestroy.map(n=>n())),this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Kn("postDestroyRxCollection",this).then(()=>!0))))})},r.remove=function(){return U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(n=>n())),yield Kl(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},kt(e,[{key:"insert$",get:function(){return this.$.pipe(ge(t=>t.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(ge(t=>t.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(ge(t=>t.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])})();function cR(e){if(!e_){e_=!0;var r=Object.getPrototypeOf(e);r_.forEach(t=>{t_.map(n=>{var i=n+Xc(t);r[i]=function(o,s){return this.addHook(n,t,o,s)}})})}}function lR(e,r){return e.incrementalModify(t=>r)}function uR(e,r,t){var n=e._docCache.getLatestDocumentDataIfExists(r);return n?Promise.resolve({doc:e._docCache.getCachedRxDocuments([n])[0],inserted:!1}):e.findOne(r).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(t).then(o=>({doc:o,inserted:!0})))}function n_({database:e,name:r,schema:t,instanceCreationOptions:n={},migrationStrategies:i={},autoMigrate:o=!0,statics:s={},methods:l={},attachments:d={},options:p={},localDocuments:m=!1,cacheReplacementPolicy:y=yh,conflictHandler:S=Oh}){var A={databaseInstanceToken:e.token,databaseName:e.name,collectionName:r,schema:t.jsonSchema,options:n,multiInstance:e.multiInstance,password:e.password,devMode:Pe.isDevMode()};return nt("preCreateRxStorageInstance",A),Gb(e,A).then(N=>{var j=new ts(e,r,t,N,n,i,l,d,p,y,s,S);return j.prepare().then(()=>{Object.entries(s).forEach(([ee,re])=>{Object.defineProperty(j,ee,{get:()=>re.bind(j)})});var G=zn;return o&&j.schema.version!==0&&(G=j.migratePromise()),G}).then(()=>(nt("createRxCollection",{collection:j,creator:{name:r,schema:t,storageInstance:N,instanceCreationOptions:n,migrationStrategies:i,methods:l,attachments:d,options:p,cacheReplacementPolicy:y,localDocuments:m,statics:s}}),j)).catch(G=>N.close().then(()=>Promise.reject(G)))})}var kh=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=r||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};kh.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Ah(this)},wrapCall:function(r){var t=this;this.lock();var n;try{n=r()}catch(i){throw this.unlock(),i}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(i){return t.unlock(),i}).catch(function(i){throw t.unlock(),i})},requestIdlePromise:function(r){var t=this;r=r||{};var n,i=new Promise(function(l){return n=l}),o=function(){Dh(t,i),n()};if(i._manRes=o,r.timeout){var s=setTimeout(function(){i._manRes()},r.timeout);i._timeoutObj=s}return this._iC.add(i),Ah(this),i},cancelIdlePromise:function(r){Dh(this,r)},requestIdleCallback:function(r,t){var n=this._lHN++,i=this.requestIdlePromise(t);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return r()}),n},cancelIdleCallback:function(r){var t=this._hPM.get(r);this.cancelIdlePromise(t)},clear:function(){var r=this;this._iC.forEach(function(t){return Dh(r,t)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function dR(e){if(e._iC.size!==0){var r=e._iC.values(),t=r.next().value;t._manRes(),setTimeout(function(){return Ah(e)},0)}}function Dh(e,r){if(r){if(r._timeoutObj&&clearTimeout(r._timeoutObj),e._pHM.has(r)){var t=e._pHM.get(r);e._hPM.delete(t),e._pHM.delete(r)}e._iC.delete(r)}}function Ah(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}dR(e),e._tryIR=!1},0)},0))}var Zn=class{ttl;map=new Map;_to=!1;constructor(r){this.ttl=r}has(r){return this.map.has(r)}add(r){this.map.set(r,i_()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,fR(this)},0))}clear(){this.map.clear()}};function fR(e){let r=i_()-e.ttl,t=e.map[Symbol.iterator]();for(;;){let n=t.next().value;if(!n)return;let i=n[0];if(n[1]<r)e.map.delete(i);else return}}function i_(){return Date.now()}var Yl=new Set,o_=0,rs=(function(){function e(t,n,i,o,s,l,d=!1,p={},m,y,S,A,N){this.idleQueue=new kh,this.rxdbVersion=Mi,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new ie,this.observable$=this.eventBulks$.pipe(ht(j=>j.events)),this.storageToken=Wr,this.storageTokenDocument=Wr,this.emittedEventBulkIds=new Zn(60*1e3),this.name=t,this.token=n,this.storage=i,this.instanceCreationOptions=o,this.password=s,this.multiInstance=l,this.eventReduce=d,this.options=p,this.internalStore=m,this.hashFunction=y,this.cleanupPolicy=S,this.allowSlowCount=A,this.reactivity=N,o_++,this.name!=="pseudoInstance"&&(this.internalStore=zl(this.asRxDatabase,m,ql),this.storageTokenDocument=Kb(this.asRxDatabase).catch(j=>this.startupErrors.push(j)),this.storageToken=this.storageTokenDocument.then(j=>j.data.token).catch(j=>this.startupErrors.push(j)))}var r=e.prototype;return r.getReactivityFactory=function(){if(!this.reactivity)throw L("DB14",{database:this.name});return this.reactivity},r.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},r.removeCollectionDoc=function(n,i){return U(this,null,function*(){var o=yield xh(this.internalStore,Wl(Rh(n,i),Lo));if(!o)throw L("SNH",{name:n,schema:i});var s=Bi(o);s._deleted=!0,yield this.internalStore.bulkWrite([{document:s,previous:o}],"rx-database-remove-collection")})},r.addCollections=function(n){return U(this,null,function*(){var i={},o={},s=[],l={};yield Promise.all(Object.entries(n).map(S=>U(this,[S],function*([m,y]){var A=m,N=y.schema;i[A]=N;var j=vy(N,this.hashFunction);if(o[A]=j,this.collections[m])throw L("DB3",{name:m});var G=Rh(m,N),ee={id:Wl(G,Lo),key:G,context:Lo,data:{name:A,schemaHash:yield j.hash,schema:j.jsonSchema,version:j.version,connectedStorages:[]},_deleted:!1,_meta:jn(),_rev:ln(),_attachments:{}};s.push({document:ee});var re=Object.assign({},y,{name:A,schema:j,database:this}),te=Ie(y);te.database=this,te.name=m,nt("preCreateRxCollection",te),re.conflictHandler=te.conflictHandler,l[A]=re})));var d=yield this.internalStore.bulkWrite(s,"rx-database-add-collection");yield mR(this),yield Promise.all(d.error.map(m=>U(this,null,function*(){if(m.status!==409)throw L("DB12",{database:this.name,writeError:m});var y=De(m.documentInDb),S=y.data.name,A=o[S];if(y.data.schemaHash!==(yield A.hash))throw L("DB6",{database:this.name,collection:S,previousSchemaHash:y.data.schemaHash,schemaHash:yield A.hash,previousSchema:y.data.schema,schema:De(i[S])})})));var p={};return yield Promise.all(Object.keys(n).map(m=>U(this,null,function*(){var y=l[m],S=yield n_(y);p[m]=S,this.collections[m]=S,this[m]||Object.defineProperty(this,m,{get:()=>this.collections[m]})}))),p})},r.lockedRun=function(n){return this.idleQueue.wrapCall(n)},r.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},r.exportJSON=function(n){throw Oe("json-dump")},r.addState=function(n){throw Oe("state")},r.importJSON=function(n){throw Oe("json-dump")},r.backup=function(n){throw Oe("backup")},r.leaderElector=function(){throw Oe("leader-election")},r.isLeader=function(){throw Oe("leader-election")},r.waitForLeadership=function(){throw Oe("leader-election")},r.migrationStates=function(){throw Oe("migration-schema")},r.destroy=function(){return U(this,null,function*(){return this.destroyed?Wr:(this.destroyed=!0,yield Kn("preDestroyRxDatabase",this),this.eventBulks$.complete(),o_--,this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance"?Wr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>Yl.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},r.remove=function(){return this.destroy().then(()=>pR(this.name,this.storage,this.password))},kt(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])})();function hR(e,r){var t=r.name+"|"+e;if(Yl.has(t))throw L("DB8",{name:e,storage:r.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function a_(e,r,t,n,i,o){return U(this,null,function*(){var s=yield r.createStorageInstance({databaseInstanceToken:e,databaseName:t,collectionName:$b,schema:ql,options:n,multiInstance:i,password:o,devMode:Pe.isDevMode()});return s})}function s_({storage:e,instanceCreationOptions:r,name:t,password:n,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:s=!1,options:l={},cleanupPolicy:d,allowSlowCount:p=!1,localDocuments:m=!1,hashFunction:y=Co,reactivity:S}){nt("preCreateRxDatabase",{storage:e,instanceCreationOptions:r,name:t,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:s,options:l,localDocuments:m}),s||hR(t,e),Yl.add(e.name+"|"+t);var A=Ti(10);return a_(A,e,t,r,i,n).catch(N=>{throw Yl.delete(e.name+"|"+t),N}).then(N=>{var j=new rs(t,A,e,r,n,i,o,l,N,y,d,p,S);return Kn("createRxDatabase",{database:j,creator:{storage:e,instanceCreationOptions:r,name:t,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:s,options:l,localDocuments:m}}).then(()=>j)})}function pR(e,r,t){return U(this,null,function*(){var n=Ti(10),i=yield a_(n,r,e,{},!1,t),o=yield Hl(i),s=new Set;o.forEach(d=>s.add(d.data.name));var l=Array.from(s);return yield Promise.all(l.map(d=>Kl(r,i,n,e,d,t))),yield Kn("postRemoveRxDatabase",{databaseName:e,storage:r}),yield i.remove(),l})}function mR(e){return U(this,null,function*(){if(yield e.storageToken,e.startupErrors[0])throw e.startupErrors[0]})}var gR={RxSchema:Lf.prototype,RxDocument:Xn,RxQuery:_h.prototype,RxCollection:ts.prototype,RxDatabase:rs.prototype},Ih=new Set,c_=new Set;function Xl(e){if(nt("preAddRxPlugin",{plugin:e,plugins:Ih}),!Ih.has(e)){{if(c_.has(e.name))throw L("PL3",{name:e.name,plugin:e});Ih.add(e),c_.add(e.name)}if(!e.rxdb)throw pt("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([r,t])=>t(gR[r])),e.overwritable&&Object.assign(Pe,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([r,t])=>{t.after&&Eo[r].push(t.after),t.before&&Eo[r].unshift(t.before)})}}function l_(e){return e&&typeof e.then=="function"}var vR=Promise.resolve(!1),p9=Promise.resolve(!0),Yr=Promise.resolve();function Zl(e,r){return e||(e=0),new Promise(function(t){return setTimeout(function(){return t(r)},e)})}function u_(e,r){return Math.floor(Math.random()*(r-e+1)+e)}function ns(){return Math.random().toString(36).substring(2)}var Th=0;function hn(){var e=Date.now()*1e3;return e<=Th&&(e=Th+1),Th=e,e}var yR=hn,bR="native";function _R(e){var r={time:hn(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return r.bc.onmessage=function(t){r.messagesCallback&&r.messagesCallback(t.data)},r}function wR(e){e.bc.close(),e.subFns=[]}function xR(e,r){try{return e.bc.postMessage(r,!1),Yr}catch(t){return Promise.reject(t)}}function CR(e,r){e.messagesCallback=r}function SR(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function ER(){return 150}var d_={create:_R,close:wR,onMessage:CR,postMessage:xR,canBeUsed:SR,type:bR,averageResponseTime:ER,microSeconds:yR};function Fo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=JSON.parse(JSON.stringify(e));return typeof r.webWorkerSupport>"u"&&(r.webWorkerSupport=!0),r.idb||(r.idb={}),r.idb.ttl||(r.idb.ttl=1e3*45),r.idb.fallbackInterval||(r.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(r.idb.onclose=e.idb.onclose),r.localstorage||(r.localstorage={}),r.localstorage.removeTimeout||(r.localstorage.removeTimeout=1e3*60),e.methods&&(r.methods=e.methods),r.node||(r.node={}),r.node.ttl||(r.node.ttl=1e3*60*2),r.node.maxParallelWrites||(r.node.maxParallelWrites=2048),typeof r.node.useFastPath>"u"&&(r.node.useFastPath=!0),r}var RR=hn,OR="pubkey.broadcast-channel-0-",pn="messages",Jl={durability:"relaxed"},DR="idb";function f_(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Mh(e){e.commit&&e.commit()}function AR(e){var r=f_(),t=OR+e,n=r.open(t);return n.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(pn,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){n.onerror=function(s){return o(s)},n.onsuccess=function(){i(n.result)}})}function kR(e,r,t){var n=Date.now(),i={uuid:r,time:n,data:t},o=e.transaction([pn],"readwrite",Jl);return new Promise(function(s,l){o.oncomplete=function(){return s()},o.onerror=function(p){return l(p)};var d=o.objectStore(pn);d.add(i),Mh(o)})}function IR(e,r){var t=e.transaction(pn,"readonly",Jl),n=t.objectStore(pn),i=[],o=IDBKeyRange.bound(r+1,1/0);if(n.getAll){var s=n.getAll(o);return new Promise(function(d,p){s.onerror=function(m){return p(m)},s.onsuccess=function(m){d(m.target.result)}})}function l(){try{return o=IDBKeyRange.bound(r+1,1/0),n.openCursor(o)}catch{return n.openCursor()}}return new Promise(function(d,p){var m=l();m.onerror=function(y){return p(y)},m.onsuccess=function(y){var S=y.target.result;S?S.value.id<r+1?S.continue(r+1):(i.push(S.value),S.continue()):(Mh(t),d(i))}})}function TR(e,r){if(e.closed)return Promise.resolve([]);var t=e.db.transaction(pn,"readwrite",Jl),n=t.objectStore(pn);return Promise.all(r.map(function(i){var o=n.delete(i);return new Promise(function(s){o.onsuccess=function(){return s()}})}))}function MR(e,r){var t=Date.now()-r,n=e.transaction(pn,"readonly",Jl),i=n.objectStore(pn),o=[];return new Promise(function(s){i.openCursor().onsuccess=function(l){var d=l.target.result;if(d){var p=d.value;p.time<t?(o.push(p),d.continue()):(Mh(n),s(o))}else s(o)}})}function PR(e){return MR(e.db,e.options.idb.ttl).then(function(r){return TR(e,r.map(function(t){return t.id}))})}function NR(e,r){return r=Fo(r),AR(e).then(function(t){var n={closed:!1,lastCursorId:0,channelName:e,options:r,uuid:ns(),eMIs:new Zn(r.idb.ttl*2),writeBlockPromise:Yr,messagesCallback:null,readQueuePromises:[],db:t};return t.onclose=function(){n.closed=!0,r.idb.onclose&&r.idb.onclose()},h_(n),n})}function h_(e){e.closed||p_(e).then(function(){return Zl(e.options.idb.fallbackInterval)}).then(function(){return h_(e)})}function LR(e,r){return!(e.uuid===r.uuid||r.eMIs.has(e.id)||e.data.time<r.messagesCallbackTime)}function p_(e){return e.closed?Yr:e.messagesCallback?IR(e.db,e.lastCursorId).then(function(r){var t=r.filter(function(n){return!!n}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return LR(n,e)}).sort(function(n,i){return n.time-i.time});return t.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),Yr}):Yr}function FR(e){e.closed=!0,e.db.close()}function BR(e,r){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return kR(e.db,e.uuid,r)}).then(function(){u_(0,10)===0&&PR(e)}),e.writeBlockPromise}function $R(e,r,t){e.messagesCallbackTime=t,e.messagesCallback=r,p_(e)}function jR(){return!!f_()}function UR(e){return e.idb.fallbackInterval*2}var m_={create:NR,close:FR,onMessage:$R,postMessage:BR,canBeUsed:jR,type:DR,averageResponseTime:UR,microSeconds:RR};var zR=hn,VR="pubkey.broadcastChannel-",qR="localstorage";function g_(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function v_(e){return VR+e}function WR(e,r){return new Promise(function(t){Zl().then(function(){var n=v_(e.channelName),i={token:ns(),time:Date.now(),data:r,uuid:e.uuid},o=JSON.stringify(i);g_().setItem(n,o);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=n,s.newValue=o,window.dispatchEvent(s),t()})})}function HR(e,r){var t=v_(e),n=function(o){o.key===t&&r(JSON.parse(o.newValue))};return window.addEventListener("storage",n),n}function KR(e){window.removeEventListener("storage",e)}function GR(e,r){if(r=Fo(r),!y_())throw new Error("BroadcastChannel: localstorage cannot be used");var t=ns(),n=new Zn(r.localstorage.removeTimeout),i={channelName:e,uuid:t,eMIs:n};return i.listener=HR(e,function(o){i.messagesCallback&&o.uuid!==t&&(!o.token||n.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(n.add(o.token),i.messagesCallback(o.data)))}),i}function QR(e){KR(e.listener)}function YR(e,r,t){e.messagesCallbackTime=t,e.messagesCallback=r}function y_(){var e=g_();if(!e)return!1;try{var r="__broadcastchannel_check";e.setItem(r,"works"),e.removeItem(r)}catch{return!1}return!0}function XR(){var e=120,r=navigator.userAgent.toLowerCase();return r.includes("safari")&&!r.includes("chrome")?e*2:e}var b_={create:GR,close:QR,onMessage:YR,postMessage:WR,canBeUsed:y_,type:qR,averageResponseTime:XR,microSeconds:zR};var __=hn,ZR="simulate",Ph=new Set;function JR(e){var r={time:__(),name:e,messagesCallback:null};return Ph.add(r),r}function eO(e){Ph.delete(e)}var w_=5;function tO(e,r){return new Promise(function(t){return setTimeout(function(){var n=Array.from(Ph);n.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<r.time&&i.messagesCallback(r)}),t()},w_)})}function rO(e,r){e.messagesCallback=r}function nO(){return!0}function iO(){return w_}var x_={create:JR,close:eO,onMessage:rO,postMessage:tO,canBeUsed:nO,type:ZR,averageResponseTime:iO,microSeconds:__};var C_=[d_,m_,b_];function S_(e){var r=[].concat(e.methods,C_).filter(Boolean);if(e.type){if(e.type==="simulate")return x_;var t=r.find(function(i){return i.type===e.type});if(t)return t;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(r=r.filter(function(i){return i.type!=="idb"}));var n=r.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(C_.map(function(i){return i.type})))}var Nh=new Set,oO=0,is=function(r,t){this.id=oO++,Nh.add(this),this.name=r,E_&&(t=E_),this.options=Fo(t),this.method=S_(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,aO(this)};is._pubkey=!0;var E_;is.prototype={postMessage:function(r){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(r));return R_(this,"message",r)},postInternal:function(r){return R_(this,"internal",r)},set onmessage(e){var r=this.method.microSeconds(),t={time:r,fn:e};D_(this,"message",this._onML),e&&typeof e=="function"?(this._onML=t,O_(this,"message",t)):this._onML=null},addEventListener:function(r,t){var n=this.method.microSeconds(),i={time:n,fn:t};O_(this,r,i)},removeEventListener:function(r,t){var n=this._addEL[r].find(function(i){return i.fn===t});D_(this,r,n)},close:function(){var r=this;if(!this.closed){Nh.delete(this),this.closed=!0;var t=this._prepP?this._prepP:Yr;return this._onML=null,this._addEL.message=[],t.then(function(){return Promise.all(Array.from(r._uMP))}).then(function(){return Promise.all(r._befC.map(function(n){return n()}))}).then(function(){return r.method.close(r._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function R_(e,r,t){var n=e.method.microSeconds(),i={time:n,type:r,data:t},o=e._prepP?e._prepP:Yr;return o.then(function(){var s=e.method.postMessage(e._state,i);return e._uMP.add(s),s.catch().then(function(){return e._uMP.delete(s)}),s})}function aO(e){var r=e.method.create(e.name,e.options);l_(r)?(e._prepP=r,r.then(function(t){e._state=t})):e._state=r}function A_(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function O_(e,r,t){e._addEL[r].push(t),sO(e)}function D_(e,r,t){e._addEL[r]=e._addEL[r].filter(function(n){return n!==t}),cO(e)}function sO(e){if(!e._iL&&A_(e)){var r=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},t=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,r,t)}):(e._iL=!0,e.method.onMessage(e._state,r,t))}}function cO(e){if(e._iL&&!A_(e)){e._iL=!1;var r=e.method.microSeconds();e.method.onMessage(e._state,null,r)}}var eu=new Map;function lO(e,r,t,n){var i=eu.get(r);return i||(i={bc:new is(["RxDB:",e,t].join("|")),refs:new Set},eu.set(r,i)),i.refs.add(n),i.bc}function k_(e,r){var t=eu.get(e);if(t&&(t.refs.delete(r),t.refs.size===0))return eu.delete(e),t.bc.close()}function I_(e,r,t,n){if(r.multiInstance){var i=n||lO(e,r.databaseInstanceToken,t.databaseName,t),o=new ie,s=S=>{S.storageName===e&&S.databaseName===r.databaseName&&S.collectionName===r.collectionName&&S.version===r.schema.version&&o.next(S.eventBulk)};i.addEventListener("message",s);var l=t.changeStream(),d=!1,p=l.subscribe(S=>{d||i.postMessage({storageName:e,databaseName:r.databaseName,collectionName:r.collectionName,version:r.schema.version,eventBulk:S})});t.changeStream=function(){return o.asObservable().pipe(nm(l))};var m=t.close.bind(t);t.close=function(){return U(this,null,function*(){return d=!0,p.unsubscribe(),i.removeEventListener("message",s),n||(yield k_(r.databaseInstanceToken,t)),m()})};var y=t.remove.bind(t);t.remove=function(){return U(this,null,function*(){return d=!0,p.unsubscribe(),i.removeEventListener("message",s),n||(yield k_(r.databaseInstanceToken,t)),y()})}}}var Lh={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",QU18:"Malformated query result data. This likely happens because you create a OPFS-storage RxDatabase inside of a worker but did not set the usesRxDatabaseInWorker setting. https://rxdb.info/rx-storage-opfs.html#setting-usesrxdatabaseinworker-when-a-rxdatabase-is-also-used-inside-of-the-worker ",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",COL22:".bulkInsert() and .bulkUpsert() cannot be run with multiple documents that have the same primary key",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var Fh;function T_(){if(!Fh){var e=new ts,r=Object.getOwnPropertyNames(e),t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Fh=[...r,...t]}return Fh}var Bh;function M_(){if(!Bh){var e=new rs("pseudoInstance","memory"),r=Object.getOwnPropertyNames(e),t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Bh=[...r,...t],e.destroy()}return Bh}var uO=Vl(Xn),dO=new uO,$h;function tu(){if(!$h){var e=["deleted","synced"],r=Object.getOwnPropertyNames(dO),t=Object.getOwnPropertyNames(Xn);$h=[...r,...t,...e]}return $h}function fO(e){if(e!=="_deleted"){if(["properties"].includes(e))throw L("SC23",{fieldName:e});var r="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",t=new RegExp(r);if(e!=="_id"&&!e.match(t))throw L("SC1",{regex:r,fieldName:e})}}function hO(e){var r=yt(e.primaryKey);function t(i,o,s){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&s.split(".").pop()!=="patternProperties"&&fO(i),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw L("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw L("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw L("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw L("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw L("SC3",{fieldName:i});break;default:throw L("SC4",{fieldName:i})}var l=s.split(".").length>=2;if(l&&o.default)throw L("SC7",{path:s});if(!l){if(i==="_id"&&r!=="_id")throw L("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw L("SC8",{fieldName:i})}}}function n(i,o){!i||typeof i!="object"||Object.keys(i).forEach(s=>{var l=i[s];!i.properties&&l&&typeof l=="object"&&!Array.isArray(i)&&t(s,l,o);var d=o;s!=="properties"&&(d=d+"."+s),n(l,d)})}return n(e,""),!0}function pO(e){if(!e.primaryKey)throw L("SC30",{schema:e});function r(d){if(!d)throw L("SC33",{schema:e});var p=d.type;if(!p||!["string","number","integer"].includes(p))throw L("SC32",{schema:e,args:{schemaPart:d}})}if(typeof e.primaryKey=="string"){var t=e.primaryKey,n=e.properties[t];r(n)}else{var i=e.primaryKey,o=Bt(e,i.key);r(o),i.fields.forEach(d=>{var p=Bt(e,d);r(p)})}var s=yt(e.primaryKey),l=e.properties[s];if(l.maxLength){if(!isFinite(l.maxLength))throw L("SC41",{schema:e,args:{primaryPathSchemaPart:l}})}else throw L("SC39",{schema:e,args:{primaryPathSchemaPart:l}})}function P_(e){for(var r=e.split("."),t="",n=0;n<r.length;n+=1)r[n]!=="[]"?t=t.concat(".properties.".concat(r[n])):t=t.concat(".items");return Dr(t)}function N_(e){if(!e.primaryKey)throw L("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw L("SC29",{schema:e});if(e.properties._rev)throw L("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||typeof e.version!="number"||e.version<0)throw L("SC11",{version:e.version});if(hO(e),pO(e),Object.keys(e.properties).forEach(r=>{var t=e.properties[r];if(r===e.primaryKey){if(e.indexes&&e.indexes.includes(r))throw L("SC13",{value:t,schema:e});if(t.unique)throw L("SC14",{value:t,schema:e});if(e.encrypted&&e.encrypted.includes(r))throw L("SC15",{value:t,schema:e});if(t.type!=="string")throw L("SC16",{value:t,schema:e})}if(tu().includes(r))throw L("SC17",{key:r,schema:e})}),e.indexes){if(!qr(e.indexes))throw L("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(r=>{if(!(typeof r=="string"||Array.isArray(r)))throw L("SC19",{index:r,schema:e});if(Array.isArray(r)){for(var t=0;t<r.length;t+=1)if(typeof r[t]!="string")throw L("SC20",{index:r,schema:e})}var n=qr(r)?r:[r];n.forEach(i=>{var o=Bt(e,i),s=o.type;switch(s){case"string":var l=o.maxLength;if(!l)throw L("SC34",{index:r,field:i,schema:e});break;case"number":case"integer":var d=o.multipleOf;if(!d)throw L("SC35",{index:r,field:i,schema:e});var p=o.maximum,m=o.minimum;if(typeof p>"u"||typeof m>"u")throw L("SC37",{index:r,field:i,schema:e});if(!isFinite(p)||!isFinite(m))throw L("SC41",{index:r,field:i,schema:e});break;case"boolean":var y="",S=i;if(i.includes(".")){var A=i.split(".");S=A.pop(),y=A.join(".")}var N=y===""?e:Bt(e,y);if(!N.required||!N.required.includes(S))throw L("SC38",{index:r,field:i,schema:e});break;default:throw L("SC36",{fieldName:i,type:o.type,schema:e})}})})}Object.keys(Qc(e)).map(r=>{var t=r.split(".");return t.pop(),t.join(".")}).filter(r=>r!=="").filter((r,t,n)=>n.indexOf(r)===t).filter(r=>{var t=Ft(e,r);return t&&!!t.index}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),L("SC26",{index:Dr(r),schema:e})}),(e.indexes||[]).reduce((r,t)=>(qr(t)?Or(r,t):r.push(t),r),[]).filter((r,t,n)=>n.indexOf(r)===t).map(r=>{var t=P_(r),n=Ft(e,t);if(!n||typeof n!="object")throw L("SC21",{index:r,schema:e});return{indexPath:r,schemaObj:n}}).filter(r=>r.schemaObj.type!=="string"&&r.schemaObj.type!=="integer"&&r.schemaObj.type!=="number"&&r.schemaObj.type!=="boolean").forEach(r=>{throw L("SC22",{key:r.indexPath,type:r.schemaObj.type,schema:e})}),Object.keys(Qc(e)).map(r=>{var t=r.split(".");return t.pop(),t.join(".")}).filter(r=>r!==""&&r!=="attachments").filter((r,t,n)=>n.indexOf(r)===t).filter(r=>{var t=Ft(e,r);return t&&!!t.encrypted}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),L("SC27",{index:Dr(r),schema:e})}),e.encrypted&&e.encrypted.forEach(r=>{var t=P_(r),n=Ft(e,t);if(!n||typeof n!="object")throw L("SC28",{field:r,schema:e})})}function ru(e){e&&Object.entries(e).forEach(([r,t])=>{if(typeof r!="string")throw pt("COL14",{name:r});if(r.startsWith("_"))throw pt("COL15",{name:r});if(typeof t!="function")throw pt("COL16",{name:r,type:typeof r});if(T_().includes(r)||tu().includes(r))throw L("COL17",{name:r})})}function L_(e,r){var t=Object.keys(e.properties);r&&Object.keys(r).filter(n=>t.includes(n)).forEach(n=>{throw L("COL18",{funName:n})})}function F_(e,r){if(typeof r!="object"||Array.isArray(r))throw pt("COL11",{schema:e});var t=gy(e);if(t.length!==Object.keys(r).length)throw L("COL12",{have:Object.keys(r),should:t});return t.map(n=>({v:n,s:r[n+1]})).filter(n=>typeof n.s!="function").forEach(n=>{throw pt("COL13",{version:n.v,type:typeof n,schema:e})}),!0}function B_(e){if(M_().includes(e.name))throw L("DB5",{name:e.name});U_(e.name)}function $_(e){if(U_(e.name),e.name.includes("$"))throw L("DB13",{name:e.name});if(Of(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw L("DB11",{name:e.name})}var j_="^[a-z][_$a-z0-9\\-]*$",mO=new RegExp(j_);function U_(e){if(typeof e!="string"||e.length===0)throw pt("UT1",{name:e});if(Of(e))return!0;if(!e.match(mO)&&e!==":memory:")throw L("UT2",{regex:j_,givenName:e});return!0}function z_(e){var r=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!r)throw pt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var t=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(n=>{if(!t.includes(n))throw pt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:n,args:{validKeys:t}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw L("QU15",{collection:e.collection.name,query:e.queryObj});nu(e.queryObj)}function V_(e){var r=e.rxQuery.collection.schema.jsonSchema,t=e.mangoQuery.selector,n=Object.keys(r.properties);Object.keys(t).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:r,field:l,query:e.mangoQuery})});var i=r.indexes?r.indexes:[],o=e.mangoQuery.index;if(o){var s=i.find(l=>Vn(l,o));if(!s)throw L("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:r})}if(e.rxQuery.op==="count"&&!gO(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw L("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:r,field:l,query:e.mangoQuery})}),nu(e.mangoQuery)}function gO(e,r){var t=Ja(e,r);return t.queryPlan.selectorSatisfiedByIndex}function nu(e){if(!(typeof e!="object"||e===null)){var r=Object.keys(e);r.forEach(t=>{var n=e[t];if(n instanceof RegExp)throw L("QU16",{field:t,query:e});Array.isArray(n)?n.forEach(i=>nu(i)):nu(n)})}}function q_(e,r){if(!e)throw L("DOC20",{primaryKey:e,document:r});if(e!==e.trim())throw L("DOC21",{primaryKey:e,document:r});if(e.includes("\r")||e.includes(`
`))throw L("DOC22",{primaryKey:e,document:r});if(e.includes('"'))throw L("DOC23",{primaryKey:e,document:r})}function W_(e){if(typeof e!="object"||e===null)return!1;for(var r in e)if(e.hasOwnProperty(r)&&(e[r]instanceof Date||typeof e[r]=="object"&&W_(e[r])))return!0;return!1}function H_(e,r){var t=yt(e.schema.primaryKey),n=function(o){o.document=rl(t,e.schema,o.document),o.previous&&Object.keys(o.previous._meta).forEach(s=>{if(!Object.prototype.hasOwnProperty.call(o.document._meta,s))throw L("SNH",{dataBefore:o.previous,dataAfter:o.document,args:{metaFieldName:s}})});try{typeof structuredClone=="function"?structuredClone(o):JSON.parse(JSON.stringify(o))}catch{throw L("DOC24",{collection:e.collectionName,document:o.document})}if(W_(o.document))throw L("DOC24",{collection:e.collectionName,document:o.document})};for(var i of r)n(i)}var K_=!1;function G_(e){return U(this,null,function*(){if(!(K_||typeof window>"u"||typeof location>"u")&&!(Wn.premium&&typeof Wn.premium=="string"&&(yield Co(Wn.premium))===Jc)){K_=!0;var r=document.createElement("iframe");r.style.visibility="hidden",r.width="1px",r.height="1px",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.opacity="0.1",r.src="https://rxdb.info/html/dev-mode-iframe.html?version="+Mi,document.body.appendChild(r)}})}var vO=!0;function yO(e){return!e||typeof e=="string"||typeof e=="number"?e:xf(e)}var bO="dev-mode",Q_={name:bO,rxdb:!0,init:()=>{vO&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:yO,tunnelErrorMessage(e){if(!Lh[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return Lh[e]}},hooks:{preCreateRxSchema:{after:N_},preCreateRxDatabase:{after:function(e){$_(e)}},createRxDatabase:{after:function(e){return U(this,null,function*(){G_(e.database)})}},preCreateRxCollection:{after:function(e){if(B_(e),L_(e.schema,e.methods),e.name.charAt(0)==="_")throw L("DB2",{name:e.name});if(!e.schema)throw L("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){q_(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){z_(e)}},prePrepareQuery:{after:e=>{V_(e)}},preStorageWrite:{before:e=>{H_(e.storageInstance,e.rows)}},createRxCollection:{after:e=>{ru(e.creator.statics),ru(e.creator.methods),ru(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&F_(e.creator.schema,e.creator.migrationStrategies)}}}};var iu=bx(Y_(),1),X_=Symbol.for("Dexie"),os=globalThis[X_]||(globalThis[X_]=iu.default);if(iu.default.semVer!==os.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${iu.default.semVer} and ${os.semVer}`);var{liveQuery:BG,mergeRanges:$G,rangesOverlap:jG,RangeSet:UG,cmp:zG,Entity:VG,PropModSymbol:qG,PropModification:WG,replacePrefix:HG,add:KG,remove:GG}=os;var as="docs",_O="changes",Z_="attachments",au="dexie",J_=new Map,ou=new Map;function ew(e,r,t,n){var i="rxdb-dexie-"+e+"--"+n.version+"--"+r,o=Xt(J_,i,()=>{var s=U(null,null,function*(){var l=Ie(t);l.autoOpen=!1;var d=new os(i,l),p={[as]:wO(n),[_O]:"++sequence, id",[Z_]:"id"};return d.version(1).stores(p),yield d.open(),{dexieDb:d,dexieTable:d[as],dexieAttachmentsTable:d[Z_],booleanIndexes:xO(n)}});return J_.set(i,o),ou.set(o,0),s});return o}function tw(e){return U(this,null,function*(){var r=yield e,t=ou.get(e),n=t-1;n===0?(r.dexieDb.close(),ou.delete(e)):ou.set(e,n)})}var zh="__";function $i(e){var r=e.split(".");if(r.length>1)return r.map(n=>$i(n)).join(".");if(e.startsWith("|")){var t=e.substring(1);return zh+t}else return e}function rw(e){var r=e.split(".");if(r.length>1)return r.map(n=>rw(n)).join(".");if(e.startsWith(zh)){var t=e.substring(zh.length);return"|"+t}else return e}function nw(e,r){if(!r)return r;var t=Ie(r);return t=Vh(t),e.forEach(n=>{var i=Ft(r,n),o=i?"1":"0",s=$i(n);kf(t,s,o)}),t}function Wh(e,r){return r&&(r=Ie(r),r=qh(r),e.forEach(t=>{var n=Ft(r,t),i=n==="1";kf(r,t,i)}),r)}function Vh(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(t=>Vh(t));if(typeof e=="object"){var r={};return Object.entries(e).forEach(([t,n])=>{typeof n=="object"&&(n=Vh(n)),r[$i(t)]=n}),r}}function qh(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(t=>qh(t));if(typeof e=="object"){var r={};return Object.entries(e).forEach(([t,n])=>{(typeof n=="object"||Array.isArray(e))&&(n=qh(n)),r[rw(t)]=n}),r}}function wO(e){var r=[],t=yt(e.primaryKey);r.push([t]),r.push(["_deleted",t]),e.indexes&&e.indexes.forEach(o=>{var s=$a(o);r.push(s)}),r.push(["_meta.lwt",t]),r.push(["_meta.lwt"]),r=r.map(o=>o.map(s=>$i(s)));var n=r.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");n=n.filter((o,s,l)=>l.indexOf(o)===s);var i=n.join(", ");return i}function Hh(e,r){return U(this,null,function*(){var t=yield e,n=yield t.dexieTable.bulkGet(r);return n.map(i=>Wh(t.booleanIndexes,i))})}function ss(e,r){return e+"||"+r}function xO(e){var r=new Set,t=[];return e.indexes?(e.indexes.forEach(n=>{var i=$a(n);i.forEach(o=>{if(!r.has(o)){r.add(o);var s=Bt(e,o);s.type==="boolean"&&t.push(o)}})}),t.push("_deleted"),zv(t)):t}function iw(e){return e===Ni?-1/0:e}function ow(e,r,t){if(e.includes(r)){var n=t===Pi||t===!0?"1":"0";return n}else return t}function aw(e,r,t){if(!t){if(typeof window>"u")throw new Error("IDBKeyRange missing");t=window.IDBKeyRange}var n=r.startKeys.map((s,l)=>{var d=r.index[l];return ow(e,d,s)}).map(iw),i=r.endKeys.map((s,l)=>{var d=r.index[l];return ow(e,d,s)}).map(iw),o=t.bound(n,i,!r.inclusiveStart,!r.inclusiveEnd);return o}function Kh(e,r){return U(this,null,function*(){var t=yield e.internals,n=r.query,i=n.skip?n.skip:0,o=n.limit?n.limit:1/0,s=i+o,l=r.queryPlan,d=!1;l.selectorSatisfiedByIndex||(d=Mo(e.schema,r.query));var p=aw(t.booleanIndexes,l,t.dexieDb._options.IDBKeyRange),m=l.index,y=[];if(yield t.dexieDb.transaction("r",t.dexieTable,A=>U(null,null,function*(){var N=A.idbtrans,j=N.objectStore(as),G,ee;ee="["+m.map(te=>$i(te)).join("+")+"]",G=j.index(ee);var re=G.openCursor(p);yield new Promise(te=>{re.onsuccess=function(Te){var ce=Te.target.result;if(ce){var Ne=Wh(t.booleanIndexes,ce.value);(!d||d(Ne))&&y.push(Ne),l.sortSatisfiedByIndex&&y.length===s?te():ce.continue()}else te()}})})),!l.sortSatisfiedByIndex){var S=jl(e.schema,r.query);y=y.sort(S)}return y=y.slice(i,s),{documents:y}})}function sw(e,r){return U(this,null,function*(){var t=yield e.internals,n=r.queryPlan,i=n.index,o=aw(t.booleanIndexes,n,t.dexieDb._options.IDBKeyRange),s=-1;return yield t.dexieDb.transaction("r",t.dexieTable,l=>U(null,null,function*(){var d=l.idbtrans,p=d.objectStore(as),m,y;y="["+i.map(A=>$i(A)).join("+")+"]",m=p.index(y);var S=m.count(o);s=yield new Promise((A,N)=>{S.onsuccess=function(){A(S.result)},S.onerror=j=>N(j)})})),s})}var CO=st(),Gh=!1,SO=(function(){function e(t,n,i,o,s,l,d,p){this.changes$=new ie,this.instanceId=CO++,this.storage=t,this.databaseName=n,this.collectionName=i,this.schema=o,this.internals=s,this.options=l,this.settings=d,this.devMode=p,this.primaryPath=yt(this.schema.primaryKey)}var r=e.prototype;return r.bulkWrite=function(n,i){return U(this,null,function*(){ji(this),!Gh&&(!Wn.premium||typeof Wn.premium!="string"||(yield Co(Wn.premium))!==Jc)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),Gh=!0,n.forEach(m=>{if(!m.document._rev||m.previous&&!m.previous._rev)throw L("SNH",{args:{row:m}})});var o=yield this.internals,s={error:[]};this.devMode&&(n=n.map(m=>{var y=Bi(m.document);return{previous:m.previous,document:y}}));var l=n.map(m=>m.document[this.primaryPath]),d;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>U(this,null,function*(){var m=new Map,y=yield Hh(this.internals,l);y.forEach(N=>{var j=N;return j&&m.set(j[this.primaryPath],j),j}),d=jb(this,this.primaryPath,m,n,i),s.error=d.errors;var S=[];d.bulkInsertDocs.forEach(N=>{S.push(N.document)}),d.bulkUpdateDocs.forEach(N=>{S.push(N.document)}),S=S.map(N=>nw(o.booleanIndexes,N)),S.length>0&&(yield o.dexieTable.bulkPut(S));var A=[];d.attachmentsAdd.forEach(N=>{A.push({id:ss(N.documentId,N.attachmentId),data:N.attachmentData.data})}),d.attachmentsUpdate.forEach(N=>{A.push({id:ss(N.documentId,N.attachmentId),data:N.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(A),yield o.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(N=>ss(N.documentId,N.attachmentId)))})),d=De(d),d.eventBulk.events.length>0){var p=De(d.newestRow).document;d.eventBulk.checkpoint={id:p[this.primaryPath],lwt:p._meta.lwt},d.eventBulk.endTime=st(),this.changes$.next(d.eventBulk)}return s})},r.findDocumentsById=function(n,i){return U(this,null,function*(){ji(this);var o=yield this.internals,s=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>U(this,null,function*(){var l=yield Hh(this.internals,n);l.forEach(d=>{d&&(!d._deleted||i)&&s.push(d)})})),s})},r.query=function(n){return ji(this),Kh(this,n)},r.count=function(n){return U(this,null,function*(){if(n.queryPlan.selectorSatisfiedByIndex){var i=yield sw(this,n);return{count:i,mode:"fast"}}else{var o=yield Kh(this,n);return{count:o.documents.length,mode:"slow"}}})},r.changeStream=function(){return ji(this),this.changes$.asObservable()},r.cleanup=function(n){return U(this,null,function*(){ji(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieTable,()=>U(this,null,function*(){var o=st()-n,s=yield i.dexieTable.where("_meta.lwt").below(o).toArray(),l=[];s.forEach(d=>{d._deleted==="1"&&l.push(d[this.primaryPath])}),yield i.dexieTable.bulkDelete(l)})),!0})},r.getAttachmentData=function(n,i,o){return U(this,null,function*(){ji(this);var s=yield this.internals,l=ss(n,i);return yield s.dexieDb.transaction("r",s.dexieAttachmentsTable,()=>U(this,null,function*(){var d=yield s.dexieAttachmentsTable.get(l);if(d)return d.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+i)}))})},r.remove=function(){return U(this,null,function*(){ji(this);var n=yield this.internals;return yield n.dexieTable.clear(),this.close()})},r.close=function(){return this.closed?this.closed:(this.closed=U(this,null,function*(){this.changes$.complete(),yield tw(this.internals)}),this.closed)},r.conflictResultionTasks=function(){return new ie},r.resolveConflictResultionTask=function(n){return U(this,null,function*(){})},e})();function cw(e,r,t){return U(this,null,function*(){var n=ew(r.databaseName,r.collectionName,t,r.schema),i=new SO(e,r.databaseName,r.collectionName,r.schema,n,r.options,t,r.devMode);return yield I_(au,r,i),Promise.resolve(i)})}function ji(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var EO=(function(){function e(t){this.name=au,this.rxdbVersion=Mi,this.settings=t}var r=e.prototype;return r.createStorageInstance=function(n){return zb(n),cw(this,n,this.settings)},e})();function lw(e={}){var r=new EO(e);return r}var Qh={};Us(Qh,{$all:()=>EE,$and:()=>ch,$bitsAllClear:()=>uw,$bitsAllSet:()=>dw,$bitsAnyClear:()=>fw,$bitsAnySet:()=>hw,$elemMatch:()=>hh,$eq:()=>Tl,$exists:()=>mh,$expr:()=>xE,$gt:()=>Ml,$gte:()=>Pl,$in:()=>Nl,$jsonSchema:()=>CE,$lt:()=>Ll,$lte:()=>Fl,$mod:()=>dh,$ne:()=>Bl,$nin:()=>$l,$nor:()=>lh,$not:()=>uh,$or:()=>Ya,$regex:()=>fh,$size:()=>ph,$type:()=>gh,$where:()=>SE});var Jn=e=>Ee((r,t,n)=>{let i=0;if(t instanceof Array)for(let o of t)i=i|1<<o;else i=t;return e(r&i,i)});var uw=Jn((e,r)=>e==0);var dw=Jn((e,r)=>e==r);var fw=Jn((e,r)=>e<r);var hw=Jn((e,r)=>e>0);var su={};Us(su,{$addToSet:()=>OO,$bit:()=>AO,$currentDate:()=>kO,$inc:()=>IO,$max:()=>TO,$min:()=>MO,$mul:()=>PO,$pop:()=>NO,$pull:()=>Yh,$pullAll:()=>LO,$push:()=>BO,$rename:()=>$O,$set:()=>Xh,$unset:()=>jO});var Bo=(e,r)=>{switch(e){case"deep":return Ao(r);case"copy":return Qn(r)?new Date(r):se(r)?[...r]:de(r)?$({},r):r;default:return r}},RO=/^[a-z]+[a-zA-Z0-9]*$/;function pw(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];let r=e.indexOf(".$"),t=e.indexOf("]"),n=e.substring(0,r),i=e.substring(r+3,t);z(i===""||RO.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let o=e.substring(t+2),[s,l]=o?pw(o):[];return[{selector:e,parent:n,child:i||"$",next:s},[i,...l||[]].filter(Boolean)]}var Fe=(e,r,t,n,i)=>{let{parent:o,child:s,next:l}=r;if(!s){let p=!1;return Oo(e,o,(y,S)=>p=!!n(y,S)||p,i),p}let d=Tt(e,o);return se(d)?d.map((p,m)=>t[s]&&!t[s].test({[s]:p})?!1:l?Fe(p,l,t,n,i):n(d,m)).some(Boolean):!1};function ze(e,r,t,n){let i=[];for(let[o,s]of Object.entries(e)){let[l,d]=pw(o);if(!d.length)n(s,l,{})&&i.push(l.parent);else{let p={};r.forEach(y=>{Object.keys(y).forEach(S=>{d.forEach(A=>{(S===A||S.startsWith(A+"."))&&(p[A]=p[A]||{},Object.assign(p[A],{[S]:y[S]}))})})});let m={};for(let[y,S]of Object.entries(p))m[y]=new it(S,t.queryOptions);n(s,l,m)&&i.push(l.parent)}}return i}var OO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>{let l={$each:[i]};return de(i)&&Ye(i,"$each")&&Object.assign(l,i),Fe(e,o,s,(d,p)=>{let m=d[p]||=[];return dn([m,l.$each]).length===l.$each.length?!1:(d[p]=Bo(n.cloneMode,Ha(m.concat(l.$each))),!0)},{buildGraph:!0})});var DO=new Set(["and","or","xor"]),AO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>{let l=Object.keys(i);return z(l.length===1&&DO.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Fe(e,o,s,(d,p)=>{let m=d[p],y=i[l[0]];if(m!==void 0&&!(fe(m)&&fe(y)))return!1;switch(m=m||0,l[0]){case"and":d[p]=m&y;break;case"or":d[p]=m|y;break;case"xor":d[p]=m^y;break}return d[p]!==m},{buildGraph:!0})});var kO=(e,r,t=[],n={})=>{let i=Date.now();return ze(r,t,n,(o,s,l)=>Fe(e,s,l,(d,p)=>(d[p]=i,!0),{buildGraph:!0}))};var IO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>{if(!o.child){let l=Tt(e,o.parent);z(l===void 0||fe(l),"cannot apply $inc to a value of non-numeric type")}return Fe(e,o,s,(l,d)=>(l[d]=(l[d]||=0)+i,!0),{buildGraph:!0})});var TO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>Fe(e,o,s,(l,d)=>l[d]!==void 0&&je(l[d],i)>-1?!1:(l[d]=i,!0),{buildGraph:!0}));var MO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>Fe(e,o,s,(l,d)=>l[d]!==void 0&&je(l[d],i)<1?!1:(l[d]=i,!0),{buildGraph:!0}));var PO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>Fe(e,o,s,(l,d)=>{let p=l[d];return l[d]=l[d]===void 0?0:l[d]*i,l[d]!==p},{buildGraph:!0}));var NO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>Fe(e,o,s,(l,d)=>{let p=l[d];return z(se(p),`path '${o.selector}' contains an element of non-array type.`),p.length?(i===-1?p.splice(0,1):p.pop(),!0):!1}));var Yh=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>{let l=!de(i)||Object.keys(i).some(Jt),d=new it(l?{k:i}:i,n.queryOptions),p=l?m=>d.test({k:m}):m=>d.test(m);return Fe(e,o,s,(m,y)=>{let S=m[y],A=new Array;return S.map(j=>{let G=p(j);return G||A.push(j),G}).some(Boolean)?(m[y]=A,!0):!1})});var LO=(e,r,t=[],n={})=>{let i={};return Object.entries(r).forEach(([o,s])=>{i[o]={$in:s}}),Yh(e,i,t,n)};var FO=Object.freeze(["$each","$slice","$sort","$position"]),BO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>{let l={$each:[i]};return de(i)&&FO.some(d=>Ye(i,d))&&Object.assign(l,i),Fe(e,o,s,(d,p)=>{let m=d[p]||=[],y=m.slice(0,l.$slice||m.length),S=m.length,A=fe(l.$position)?l.$position:m.length;if(m.splice(A,0,...Bo(n.cloneMode,l.$each)),l.$sort){let N=de(l.$sort)?Object.keys(l.$sort||{}).pop():"",j=N?l.$sort[N]:l.$sort,G=N?ee=>Tt(ee,N):ee=>ee;m.sort((ee,re)=>j*je(G(ee),G(re)))}return fe(l.$slice)&&(l.$slice<0?m.splice(0,m.length+l.$slice):m.splice(l.$slice)),S!=m.length||!bt(y,m)},{descendArray:!0,buildGraph:!0})});var Xh=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>Fe(e,o,s,(l,d)=>bt(l[d],i)?!1:(l[d]=Bo(n.cloneMode,i),!0),{buildGraph:!0}));var $O=(e,r,t=[],n={})=>{let i=[],o=ze(r,t,n,(s,l,d)=>Fe(e,l,d,(p,m)=>Ye(p,m)?(i.push(...Xh(e,{[s]:p[m]},t,n)),delete p[m],!0):!1));return Array.from(new Set(o.concat(i)))};var jO=(e,r,t=[],n={})=>ze(r,t,n,(i,o,s)=>Fe(e,o,s,(l,d)=>Ye(l,d)?(se(l)?l[d]=null:delete l[d],!0):!1));function Zh(e){return e=be($({},e),{queryOptions:fn(e.queryOptions)}),e.queryOptions.context.addQueryOps(Qh).addExpressionOps(ih).addExpressionOps(oh),(r,t,n=[],i={},o={})=>{let s=Object.assign({cloneMode:"copy"},e,o);Object.assign(s,{queryOptions:fn(Object.assign({useStrictMode:!1},s?.queryOptions))}),n=n||[],i=i||{};let l=Object.entries(t);z(l.length===1,"Update expression must contain only one operator.");let[d,p]=l[0];z(Ye(su,d),`Update operator '${d}' is not supported.`);let m=su[d];return Object.keys(i).length&&!(i instanceof it?i:new it(i,s.queryOptions)).test(r)?[]:m(r,p,n,s)}}var YY=Zh({});var Jh;function ep(e,r){if(!Jh){var t=Zh({cloneMode:"none"});Jh=(n,i)=>{var o=hr(n);return t(o,i),o}}return Jh(e,r)}function UO(e){return this.incrementalModify(r=>{var t=ep(r,e);return t})}function zO(e){var r=this._data,t=ep(r,e);return this._saveData(t,r)}function VO(e){return U(this,null,function*(){return Yn(this.asRxQuery,r=>r.update(e))})}var mw={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=zO,e.incrementalUpdate=UO},RxQuery:e=>{e.update=VO}}};var qO={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function WO(){return U(this,null,function*(){Xl(Jb),Xl(mw),Am()&&Xl(Q_)})}WO();var pX=(()=>{class e{constructor(){this.dataBaseReadySubj=new ft(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(t){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[t]}initDB(t){return U(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===t&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield s_({name:t,storage:lw(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:qO}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yX(e){return e&&typeof e.connect=="function"&&!(e instanceof zs)}var HO=(function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e})(HO||{}),wX=new oe("_ViewRepeater");var KO=20,cs=(()=>{class e{_ngZone=w(Ce);_platform=w($e);_renderer=w(xr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ie;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=KO){return this._platform.isBrowser?new Rn(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(rd(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):le()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){let i=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(ge(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let n=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&n.push(o)}),n}_scrollableContainsElement(t,n){let i=$r(n),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rp=(()=>{class e{elementRef=w(Be);scrollDispatcher=w(cs);ngZone=w(Ce);dir=w(In,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new ie;_renderer=w(Nr);_cleanupScroll;_elementScrolled=new ie;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let n=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),i&&oo()!=Sr.NORMAL?(t.left!=null&&(t.right=n.scrollWidth-n.clientWidth-t.left),oo()==Sr.INVERTED?t.left=t.right:oo()==Sr.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let n=this.elementRef.nativeElement;pc()?n.scrollTo(t):(t.top!=null&&(n.scrollTop=t.top),t.left!=null&&(n.scrollLeft=t.left))}measureScrollOffset(t){let n="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:n:t=="end"&&(t=s?n:i),s&&oo()==Sr.INVERTED?t==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&oo()==Sr.NEGATED?t==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return e})(),GO=20,$o=(()=>{class e{_platform=w($e);_listeners;_viewportSize;_change=new ie;_document=w(Le);constructor(){let t=w(Ce),n=w(xr).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[n.listen("window","resize",i),n.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,n=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||n.scrollY||i.scrollTop||0,l=-o.left||t.body.scrollLeft||n.scrollX||i.scrollLeft||0;return{top:s,left:l}}change(t=GO){return t>0?this._change.pipe(rd(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tp=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({})}return e})(),np=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({imports:[Kt,tp,Kt,tp]})}return e})();var gw=pc();function Uo(e){return new cu(e.get($o),e.get(Le))}var cu=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(r,t){this._viewportRuler=r,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=tt(-this._previousScrollPosition.left),r.style.top=tt(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,t=this._document.body,n=r.style,i=t.style,o=n.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),gw&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gw&&(n.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}};function Cw(e,r){return new lu(e.get(cs),e.get(Ce),e.get($o),r)}var lu=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(r,t,n,i){this._scrollDispatcher=r,this._ngZone=t,this._viewportRuler=n,this._config=i}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(ge(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var ls=class{enable(){}disable(){}attach(){}};function ip(e,r){return r.some(t=>{let n=e.bottom<t.top,i=e.top>t.bottom,o=e.right<t.left,s=e.left>t.right;return n||i||o||s})}function vw(e,r){return r.some(t=>{let n=e.top<t.top,i=e.bottom>t.bottom,o=e.left<t.left,s=e.right>t.right;return n||i||o||s})}function cp(e,r){return new uu(e.get(cs),e.get($o),e.get(Ce),r)}var uu=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(r,t,n,i){this._scrollDispatcher=r,this._viewportRuler=t,this._ngZone=n,this._config=i}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();ip(t,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Sw=(()=>{class e{_injector=w(_e);constructor(){}noop=()=>new ls;close=t=>Cw(this._injector,t);block=()=>Uo(this._injector);reposition=t=>cp(this._injector,t);static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mn=class{positionStrategy;scrollStrategy=new ls;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(r){if(r){let t=Object.keys(r);for(let n of t)r[n]!==void 0&&(this[n]=r[n])}}};var du=class{connectionPair;scrollableViewProperties;constructor(r,t){this.connectionPair=r,this.scrollableViewProperties=t}};var Ew=(()=>{class e{_attachedOverlays=[];_document=w(Le);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rw=(()=>{class e extends Ew{_ngZone=w(Ce);_renderer=w(xr).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let n=this._attachedOverlays;for(let i=n.length-1;i>-1;i--)if(n[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ow=(()=>{class e extends Ew{_platform=w($e);_ngZone=w(Ce);_renderer=w(xr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let n=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(n,"pointerdown",this._pointerDownListener,i),o.listen(n,"click",this._clickListener,i),o.listen(n,"auxclick",this._clickListener,i),o.listen(n,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Dt(t)};_clickListener=t=>{let n=Dt(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(yw(l.overlayElement,n)||yw(l.overlayElement,i))break;let d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(t)):d.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yw(e,r){let t=typeof ShadowRoot<"u"&&ShadowRoot,n=r;for(;n;){if(n===e)return!0;n=t&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Dw=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return e})(),pu=(()=>{class e{_platform=w($e);_containerElement;_document=w(Le);_styleLoader=w(ar);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Nd()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let n=this._document.createElement("div");n.classList.add(t),Nd()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(Dw)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),op=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(r,t,n,i){this._renderer=t,this._ngZone=n,this.element=r.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let r=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(r,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),r.style.pointerEvents="none",r.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},jo=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ie;_attachments=new ie;_detachments=new ie;_positionStrategy;_scrollStrategy;_locationChanges=nr.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new ie;_outsidePointerEvents=new ie;_afterNextRenderRef;constructor(r,t,n,i,o,s,l,d,p,m=!1,y,S){this._portalOutlet=r,this._host=t,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=d,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._injector=y,this._renderer=S,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(r){this._attachHost();let t=this._portalOutlet.attach(r);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ht(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,r&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=$($({},this._config),r),this._updateElementSize()}setDirection(r){this._config=be($({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=tt(this._config.width),r.height=tt(this._config.height),r.minWidth=tt(this._config.minWidth),r.minHeight=tt(this._config.minHeight),r.maxWidth=tt(this._config.maxWidth),r.maxHeight=tt(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachHost(){if(!this._host.parentElement){let r=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;r?r instanceof Element?r.after(this._host):r.type==="parent"&&r.element?.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new op(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(r))}):this._backdropRef.element.classList.add(r)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(r,t,n){let i=no(t||[]).filter(o=>!!o);i.length&&(n?r.classList.add(...i):r.classList.remove(...i))}_detachContentWhenEmpty(){let r=!1;try{this._detachContentAfterRenderRef=Ht(()=>{r=!0,this._detachContent()},{injector:this._injector})}catch(t){if(r)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let r=this._scrollStrategy;r?.disable(),r?.detach?.()}},bw="cdk-overlay-connected-position-bounding-box",YO=/([A-Za-z%]+)$/;function lp(e,r){return new fu(r,e.get($o),e.get(Le),e.get($e),e.get(pu))}var fu=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ie;_resizeSubscription=nr.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(r,t,n,i,o){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=o,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(bw),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,t=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[],s;for(let l of this._preferredPositions){let d=this._getOriginPoint(r,i,l),p=this._getOverlayPoint(d,t,l),m=this._getOverlayFit(p,t,n,l);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(m,p,n)){o.push({position:l,origin:d,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!s||s.overlayFit.visibleArea<m.visibleArea)&&(s={overlayFit:m,overlayPoint:p,originPoint:d,position:l,overlayRect:t})}if(o.length){let l=null,d=-1;for(let p of o){let m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>d&&(d=m,l=p)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ui(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,t)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}withPopoverLocation(r){return this._popoverLocation=r,this}getPopoverInsertionPoint(){if(this._popoverLocation==="global")return null;let r=null;return this._popoverLocation==="inline"?this._origin instanceof Be?r=this._origin.nativeElement:this._origin instanceof Element&&(r=this._origin):r=this._popoverLocation.element,this._popoverLocation==="inline"?r:r?{type:"parent",element:r}:null}_getOriginPoint(r,t,n){let i;if(n.originX=="center")i=r.left+r.width/2;else{let s=this._isRtl()?r.right:r.left,l=this._isRtl()?r.left:r.right;i=n.originX=="start"?s:l}t.left<0&&(i-=t.left);let o;return n.originY=="center"?o=r.top+r.height/2:o=n.originY=="top"?r.top:r.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(r,t,n){let i;n.overlayX=="center"?i=-t.width/2:n.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return n.overlayY=="center"?o=-t.height/2:o=n.overlayY=="top"?0:-t.height,{x:r.x+i,y:r.y+o}}_getOverlayFit(r,t,n,i){let o=ww(t),{x:s,y:l}=r,d=this._getOffset(i,"x"),p=this._getOffset(i,"y");d&&(s+=d),p&&(l+=p);let m=0-s,y=s+o.width-n.width,S=0-l,A=l+o.height-n.height,N=this._subtractOverflows(o.width,m,y),j=this._subtractOverflows(o.height,S,A),G=N*j;return{visibleArea:G,isCompletelyWithinViewport:o.width*o.height===G,fitsInViewportVertically:j===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(r,t,n){if(this._hasFlexibleDimensions){let i=n.bottom-t.y,o=n.right-t.x,s=_w(this._overlayRef.getConfig().minHeight),l=_w(this._overlayRef.getConfig().minWidth),d=r.fitsInViewportVertically||s!=null&&s<=i,p=r.fitsInViewportHorizontally||l!=null&&l<=o;return d&&p}return!1}_pushOverlayOnScreen(r,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let i=ww(t),o=this._viewportRect,s=Math.max(r.x+i.width-o.width,0),l=Math.max(r.y+i.height-o.height,0),d=Math.max(o.top-n.top-r.y,0),p=Math.max(o.left-n.left-r.x,0),m=0,y=0;return i.width<=o.width?m=p||-s:m=r.x<this._getViewportMarginStart()?o.left-n.left-r.x:0,i.height<=o.height?y=d||-l:y=r.y<this._getViewportMarginTop()?o.top-n.top-r.y:0,this._previousPushAmount={x:m,y},{x:r.x+m,y:r.y+y}}_applyPosition(r,t){if(this._setTransformOrigin(r),this._setOverlayElementStyles(t,r),this._setBoundingBoxStyles(t,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!XO(this._lastScrollVisibility,n)){let i=new du(r,n);this._positionChanges.next(i)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,i=r.overlayY;r.overlayX==="center"?n="center":this._isRtl()?n=r.overlayX==="start"?"right":"left":n=r.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(r,t){let n=this._viewportRect,i=this._isRtl(),o,s,l;if(t.overlayY==="top")s=r.y,o=n.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")l=n.height-r.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=n.height-l+this._getViewportMarginTop();else{let A=Math.min(n.bottom-r.y+n.top,r.y),N=this._lastBoundingBoxSize.height;o=A*2,s=r.y-A,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(s=r.y-N/2)}let d=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,p=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,m,y,S;if(p)S=n.width-r.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),m=r.x-this._getViewportMarginStart();else if(d)y=r.x,m=n.right-r.x-this._getViewportMarginEnd();else{let A=Math.min(n.right-r.x+n.left,r.x),N=this._lastBoundingBoxSize.width;m=A*2,y=r.x-A,m>N&&!this._isInitialRender&&!this._growAfterOpen&&(y=r.x-N/2)}return{top:s,left:y,bottom:l,right:S,width:m,height:o}}_setBoundingBoxStyles(r,t){let n=this._calculateBoundingBoxRect(r,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.width=tt(n.width),i.height=tt(n.height),i.top=tt(n.top)||"auto",i.bottom=tt(n.bottom)||"auto",i.left=tt(n.left)||"auto",i.right=tt(n.right)||"auto",t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=tt(o)),s&&(i.maxWidth=tt(s))}this._lastBoundingBoxSize=n,Ui(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ui(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ui(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,t){let n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let m=this._viewportRuler.getViewportScrollPosition();Ui(n,this._getExactOverlayY(t,r,m)),Ui(n,this._getExactOverlayX(t,r,m))}else n.position="static";let l="",d=this._getOffset(t,"x"),p=this._getOffset(t,"y");d&&(l+=`translateX(${d}px) `),p&&(l+=`translateY(${p}px)`),n.transform=l.trim(),s.maxHeight&&(i?n.maxHeight=tt(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=tt(s.maxWidth):o&&(n.maxWidth="")),Ui(this._pane.style,n)}_getExactOverlayY(r,t,n){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,r);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=tt(o.y);return i}_getExactOverlayX(r,t,n){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,r);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=r.overlayX==="end"?"left":"right":s=r.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;i.right=`${l-(o.x+this._overlayRect.width)}px`}else i.left=tt(o.x);return i}_getScrollVisibility(){let r=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vw(r,n),isOriginOutsideView:ip(r,n),isOverlayClipped:vw(t,n),isOverlayOutsideView:ip(t,n)}}_subtractOverflows(r,...t){return t.reduce((n,i)=>n-Math.max(i,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._getViewportMarginTop(),left:n.left+this._getViewportMarginStart(),right:n.left+r-this._getViewportMarginEnd(),bottom:n.top+t-this._getViewportMarginBottom(),width:r-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,t){return t==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&no(r).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let r=this._origin;if(r instanceof Be)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let t=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+t,height:n,width:t}}};function Ui(e,r){for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}function _w(e){if(typeof e!="number"&&e!=null){let[r,t]=e.split(YO);return!t||t==="px"?parseFloat(r):null}return e||null}function ww(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function XO(e,r){return e===r?!0:e.isOriginClipped===r.isOriginClipped&&e.isOriginOutsideView===r.isOriginOutsideView&&e.isOverlayClipped===r.isOverlayClipped&&e.isOverlayOutsideView===r.isOverlayOutsideView}var xw="cdk-global-overlay-wrapper";function ei(e){return new hu}var hu=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(r){let t=r.getConfig();this._overlayRef=r,this._width&&!t.width&&r.updateSize({width:this._width}),this._height&&!t.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(xw),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:l}=n,d=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),p=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),m=this._xPosition,y=this._xOffset,S=this._overlayRef.getConfig().direction==="rtl",A="",N="",j="";d?j="flex-start":m==="center"?(j="center",S?N=y:A=y):S?m==="left"||m==="end"?(j="flex-end",A=y):(m==="right"||m==="start")&&(j="flex-start",N=y):m==="left"||m==="start"?(j="flex-start",A=y):(m==="right"||m==="end")&&(j="flex-end",N=y),r.position=this._cssPosition,r.marginLeft=d?"0":A,r.marginTop=p?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=d?"0":N,t.justifyContent=j,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(xw),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},Aw=(()=>{class e{_injector=w(_e);constructor(){}global(){return ei()}flexibleConnectedTo(t){return lp(this._injector,t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),up=new oe("OVERLAY_DEFAULT_CONFIG");function zi(e,r){e.get(ar).load(Dw);let t=e.get(pu),n=e.get(Le),i=e.get(sr),o=e.get(hi),s=e.get(In),l=e.get(Nr,null,{optional:!0})||e.get(xr).createRenderer(null,null),d=new mn(r),p=e.get(up,null,{optional:!0})?.usePopover??!0;d.direction=d.direction||s.value,"showPopover"in n.body?d.usePopover=r?.usePopover??p:d.usePopover=!1;let m=n.createElement("div"),y=n.createElement("div");m.id=i.getId("cdk-overlay-"),m.classList.add("cdk-overlay-pane"),y.appendChild(m),d.usePopover&&(y.setAttribute("popover","manual"),y.classList.add("cdk-overlay-popover"));let S=d.usePopover?d.positionStrategy?.getPopoverInsertionPoint?.():null;return t.getContainerElement().appendChild(y),S&&(S instanceof Element?S.after(y):S.type==="parent"&&S.element?.appendChild(y)),new jo(new oc(m,o,e),y,m,d,e.get(Ce),e.get(Rw),n,e.get(Fr),e.get(Ow),r?.disableAnimations??e.get(Zs,null,{optional:!0})==="NoopAnimations",e.get(qt),l)}var kw=(()=>{class e{scrollStrategies=w(Sw);_positionBuilder=w(Aw);_injector=w(_e);constructor(){}create(t){return zi(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ZO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],JO=new oe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=w(_e);return()=>cp(e)}}),ap=(()=>{class e{elementRef=w(Be);constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return e})(),Iw=new oe("cdk-connected-overlay-default-config"),eD=(()=>{class e{_dir=w(In,{optional:!0});_injector=w(_e);_overlayRef;_templatePortal;_backdropSubscription=nr.EMPTY;_attachSubscription=nr.EMPTY;_detachSubscription=nr.EMPTY;_positionSubscription=nr.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=w(JO);_ngZone=w(Ce);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(t){typeof t!="string"&&this._assignConfig(t)}backdropClick=new rt;positionChange=new rt;attach=new rt;detach=new rt;overlayKeydown=new rt;overlayOutsideClick=new rt;constructor(){let t=w(nn),n=w(kn),i=w(Iw,{optional:!0}),o=w(up,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new Br(t,n),this.scrollStrategy=this._scrollStrategyFactory(),i&&this._assignConfig(i)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ZO);let t=this._overlayRef=zi(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Nn(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let i=this._getOriginElement(),o=Dt(n);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new mn({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){let n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let t=lp(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof ap?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ap?this.origin.elementRef.nativeElement:this.origin instanceof Be?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let t=this._overlayRef;t.getConfig().hasBackdrop=this.hasBackdrop,t.updateSize({width:this._getWidth()}),t.hasAttached()||t.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=t.backdropClick().subscribe(n=>this.backdropClick.emit(n)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(im(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(t){this.origin=t.origin??this.origin,this.positions=t.positions??this.positions,this.positionStrategy=t.positionStrategy??this.positionStrategy,this.offsetX=t.offsetX??this.offsetX,this.offsetY=t.offsetY??this.offsetY,this.width=t.width??this.width,this.height=t.height??this.height,this.minWidth=t.minWidth??this.minWidth,this.minHeight=t.minHeight??this.minHeight,this.backdropClass=t.backdropClass??this.backdropClass,this.panelClass=t.panelClass??this.panelClass,this.viewportMargin=t.viewportMargin??this.viewportMargin,this.scrollStrategy=t.scrollStrategy??this.scrollStrategy,this.disableClose=t.disableClose??this.disableClose,this.transformOriginSelector=t.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=t.hasBackdrop??this.hasBackdrop,this.lockPosition=t.lockPosition??this.lockPosition,this.flexibleDimensions=t.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=t.growAfterOpen??this.growAfterOpen,this.push=t.push??this.push,this.disposeOnNavigation=t.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=t.usePopover??this.usePopover,this.matchWidth=t.matchWidth??this.matchWidth}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ot],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ot],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ot],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ot],push:[2,"cdkConnectedOverlayPush","push",ot],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ot],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",ot],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Pr]})}return e})(),Vi=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({providers:[kw],imports:[Kt,sn,np,np]})}return e})();function tD(e,r){if(e&1){let t=Em();eo(0,"div",1)(1,"button",2),gi("click",function(){sm(t);let i=gd();return cm(i.action())}),vd(2),pi()()}if(e&2){let t=gd();Zi(2),yd(" ",t.data.action," ")}}var rD=["label"];function nD(e,r){}var iD=Math.pow(2,31)-1,us=class{_overlayRef;instance;containerInstance;_afterDismissed=new ie;_afterOpened=new ie;_onAction=new ie;_durationTimeoutId;_dismissedByAction=!1;constructor(r,t){this._overlayRef=t,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,iD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Tw=new oe("MatSnackBarData"),zo=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},oD=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return e})(),aD=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return e})(),sD=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return e})(),Mw=(()=>{class e{snackBarRef=w(us);data=w(Tw);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(n,i){n&1&&(eo(0,"div",0),vd(1),pi(),Cm(2,tD,3,1,"div",1)),n&2&&(Zi(),yd(" ",i.data.message,`
`),Zi(),Sm(i.hasAction?2:-1))},dependencies:[wg,oD,aD,sD],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return e})(),dp="_mat-snack-bar-enter",fp="_mat-snack-bar-exit",cD=(()=>{class e extends Tn{_ngZone=w(Ce);_elementRef=w(Be);_changeDetectorRef=w(Lr);_platform=w($e);_animationsDisabled=cr();snackBarConfig=w(zo);_document=w(Le);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=w(_e);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ie;_onExit=new ie;_onEnter=new ie;_animationState="void";_live;_label;_role;_liveElementId=w(sr).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}attachDomPortal=t=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),n};onAnimationEnd(t){t===fp?this._completeExit():t===dp&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Ht(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(dp)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(dp)},200)))}exit(){return this._destroyed?le(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Ht(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(fp)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(fp),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>t.classList.add(s)):t.classList.add(n)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let n=t.getAttribute("aria-owns");if(n){let i=n.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,n=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(n&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),i.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,i){if(n&1&&(to(Mn,7),to(rD,7)),n&2){let o;yi(o=bi())&&(i._portalOutlet=o.first),yi(o=bi())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,i){n&1&&gi("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),n&2&&or("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[Rt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(eo(0,"div",1)(1,"div",2,0)(3,"div",3),Ji(4,nD,0,0,"ng-template",4),pi(),tc(5,"div"),pi()()),n&2&&(Zi(5),Cr("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Mn],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return e})(),lD=new oe("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new zo}),uD=(()=>{class e{_live=w(Dd);_injector=w(_e);_breakpointObserver=w(ba);_parentSnackBar=w(e,{optional:!0,skipSelf:!0});_defaultConfig=w(lD);_animationsDisabled=cr();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Mw;snackBarContainerComponent=cD;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",i){let o=$($({},this._defaultConfig),i);return o.data={message:t,action:n},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){let i=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=_e.create({parent:i||this._injector,providers:[{provide:zo,useValue:n}]}),s=new an(this.snackBarContainerComponent,n.viewContainerRef,o),l=t.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){let i=$($($({},new zo),this._defaultConfig),n),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),l=new us(s,o);if(t instanceof nn){let d=new Br(t,null,{$implicit:i.data,snackBarRef:l});l.instance=s.attachTemplatePortal(d)}else{let d=this._createInjector(i,l),p=new an(t,void 0,d),m=s.attachComponentPortal(p);l.instance=m.instance}return this._breakpointObserver.observe(lg.HandsetPortrait).pipe(_r(o.detachments())).subscribe(d=>{o.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(l,i),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let n=new mn;n.direction=t.direction;let i=ei(this._injector),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,l=!s&&t.horizontalPosition!=="center";return s?i.left("0"):l?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),n.positionStrategy=i,n.disableAnimations=this._animationsDisabled,zi(this._injector,n)}_createInjector(t,n){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return _e.create({parent:i||this._injector,providers:[{provide:us,useValue:n},{provide:Tw,useValue:t.data}]})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Z7=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({providers:[uD],imports:[Vi,sn,xg,Mw,Kt]})}return e})();var tZ={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function dD(e,r){}var ti=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var pp=(()=>{class e extends Tn{_elementRef=w(Be);_focusTrapFactory=w(Od);_config;_interactivityChecker=w(Rd);_ngZone=w(Ce);_focusMonitor=w(ya);_renderer=w(Nr);_changeDetectorRef=w(Lr);_injector=w(_e);_platform=w($e);_document=w(Le);_portalOutlet;_focusTrapped=new ie;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=w(ti,{optional:!0})||new ti,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let n=this._ariaLabelledByQueue.indexOf(t);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}attachDomPortal=t=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(n)}_focusByCssSelector(t,n){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,n)}_trapFocus(t){this._isDestroyed||Ht(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,n=null;if(typeof t=="string"?n=this._document.querySelector(t):typeof t=="boolean"?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&typeof n.focus=="function"){let i=pa(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){let t=this._elementRef.nativeElement,n=pa();return t===n||t.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pa()))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,i){if(n&1&&to(Mn,7),n&2){let o;yi(o=bi())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,i){n&2&&Cr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Rt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,i){n&1&&Ji(0,dD,0,0,"ng-template",0)},dependencies:[Mn],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return e})(),ds=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ie;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(r,t){this.overlayRef=r,this.config=t,this.disableClose=t.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Nn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=r.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(r,t){if(this._canClose(r)){let n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(r),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",t=""){return this.overlayRef.updateSize({width:r,height:t}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}_canClose(r){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(r,t,this.componentInstance))}},fD=new oe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=w(_e);return()=>Uo(e)}}),hD=new oe("DialogData"),pD=new oe("DefaultDialogConfig");function mD(e){let r=wr(e),t=new rt;return{valueSignal:r,get value(){return r()},change:t,ngOnDestroy(){t.complete()}}}var mp=(()=>{class e{_injector=w(_e);_defaultOptions=w(pD,{optional:!0});_parentDialog=w(e,{optional:!0,skipSelf:!0});_overlayContainer=w(pu);_idGenerator=w(sr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ie;_afterOpenedAtThisLevel=new ie;_ariaHiddenElements=new Map;_scrollStrategy=w(fD);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=On(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vt(void 0)));constructor(){}open(t,n){let i=this._defaultOptions||new ti;n=$($({},i),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=zi(this._injector,o),l=new ds(s,n),d=this._attachContainer(s,l,n);if(l.containerInstance=d,!this.openDialogs.length){let p=this._overlayContainer.getContainerElement();d._focusTrapped?d._focusTrapped.pipe(Nt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(p)}):this._hideNonDialogContentFromAssistiveTechnology(p)}return this._attachDialogContent(t,l,d,n),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){hp(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){hp(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),hp(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let n=new mn({positionStrategy:t.positionStrategy||ei().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:ti,useValue:i},{provide:ds,useValue:n},{provide:jo,useValue:t}],l;i.container?typeof i.container=="function"?l=i.container:(l=i.container.type,s.push(...i.container.providers(i))):l=pp;let d=new an(l,i.viewContainerRef,_e.create({parent:o||this._injector,providers:s}));return t.attach(d).instance}_attachDialogContent(t,n,i,o){if(t instanceof nn){let s=this._createInjector(o,n,i,void 0),l={$implicit:o.data,dialogRef:n};o.templateContext&&(l=$($({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new Br(t,null,l,s))}else{let s=this._createInjector(o,n,i,this._injector),l=i.attachComponentPortal(new an(t,o.viewContainerRef,s));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(t,n,i,o){let s=t.injector||t.viewContainerRef?.injector,l=[{provide:hD,useValue:t.data},{provide:ds,useValue:n}];return t.providers&&(typeof t.providers=="function"?l.push(...t.providers(n,t,i)):l.push(...t.providers)),t.direction&&(!s||!s.get(In,null,{optional:!0}))&&l.push({provide:In,useValue:mD(t.direction)}),_e.create({parent:s||o,providers:l})}_removeOpenDialog(t,n){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){let n=t.parentElement.children;for(let i=n.length-1;i>-1;i--){let o=n[i];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hp(e,r){let t=e.length;for(;t--;)r(e[t])}var Pw=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({providers:[mp],imports:[Vi,sn,Ad,sn]})}return e})();function gD(e,r){}var gu=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},gp="mdc-dialog--open",Nw="mdc-dialog--opening",Lw="mdc-dialog--closing",vD=150,yD=75,bD=(()=>{class e extends pp{_animationStateChanged=new rt;_animationsEnabled=!cr();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Bw(this._config.enterAnimationDuration)??vD:0;_exitAnimationDuration=this._animationsEnabled?Bw(this._config.exitAnimationDuration)??yD:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Fw,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Nw,gp)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(gp),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(gp),this._animationsEnabled?(this._hostElement.style.setProperty(Fw,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Lw)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Nw,Lw)}_waitForAnimationToComplete(t,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let n=super.attachComponentPortal(t);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275cmp=Ze({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,i){n&2&&(md("id",i._config.id),Cr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),or("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[Rt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(eo(0,"div",0)(1,"div",1),Ji(2,gD,0,0,"ng-template",2),pi()())},dependencies:[Mn],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return e})(),Fw="--mat-dialog-transition-duration";function Bw(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?ga(e.substring(0,e.length-2)):e.endsWith("s")?ga(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var mu=(function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e})(mu||{}),fs=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new oa(1);_beforeClosed=new oa(1);_result;_closeFallbackTimeout;_state=mu.OPEN;_closeInteractionType;constructor(r,t,n){this._ref=r,this._config=t,this._containerInstance=n,this.disableClose=t.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(ge(i=>i.state==="opened"),Nt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(ge(i=>i.state==="closed"),Nt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),qs(this.backdropClick(),this.keydownEvents().pipe(ge(i=>i.keyCode===27&&!this.disableClose&&!Nn(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),$w(this,i.type==="keydown"?"keyboard":"mouse"))})}close(r){let t=this._config.closePredicate;t&&!t(r,this._config,this.componentInstance)||(this._result=r,this._containerInstance._animationStateChanged.pipe(ge(n=>n.state==="closing"),Nt(1)).subscribe(n=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=mu.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let t=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?t.left(r.left):t.right(r.right):t.centerHorizontally(),r&&(r.top||r.bottom)?r.top?t.top(r.top):t.bottom(r.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",t=""){return this._ref.updateSize(r,t),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=mu.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function $w(e,r,t){return e._closeInteractionType=r,e.close(t)}var _D=new oe("MatMdcDialogData"),wD=new oe("mat-mdc-dialog-default-options"),xD=new oe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=w(_e);return()=>Uo(e)}}),vp=(()=>{class e{_defaultOptions=w(wD,{optional:!0});_scrollStrategy=w(xD);_parentDialog=w(e,{optional:!0,skipSelf:!0});_idGenerator=w(sr);_injector=w(_e);_dialog=w(mp);_animationsDisabled=cr();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ie;_afterOpenedAtThisLevel=new ie;dialogConfigClass=gu;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=On(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vt(void 0)));constructor(){this._dialogRefConstructor=fs,this._dialogContainerType=bD,this._dialogDataToken=_D}open(t,n){let i;n=$($({},this._defaultOptions||new gu),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,be($({},n),{positionStrategy:ei(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||n.enterAnimationDuration?.toLocaleString()==="0"||n.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:ti,useValue:n}]},templateContext:()=>({dialogRef:i}),providers:(s,l,d)=>(i=new this._dialogRefConstructor(s,n,d),i.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UZ=(()=>{class e{dialogRef=w(fs,{optional:!0});_elementRef=w(Be);_dialog=w(vp);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Uw(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){$w(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,i){n&1&&gi("click",function(s){return i._onButtonClick(s)}),n&2&&Cr("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Pr]})}return e})(),jw=(()=>{class e{_dialogRef=w(fs,{optional:!0});_elementRef=w(Be);_dialog=w(vp);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Uw(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e})}return e})(),zZ=(()=>{class e extends jw{id=w(sr).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=ke({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,i){n&2&&md("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Rt]})}return e})(),VZ=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=ke({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[bm([rp])]})}return e})(),qZ=(()=>{class e extends jw{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=ke({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,i){n&2&&or("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},features:[Rt]})}return e})();function Uw(e,r){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?r.find(n=>n.id===t.id):null}var WZ=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=He({type:e});static \u0275inj=We({providers:[vp],imports:[Pw,Vi,sn,Kt]})}return e})();export{an as a,Br as b,DD as c,Mn as d,sn as e,fa as f,ha as g,Dt as h,$e as i,ro as j,ga as k,$r as l,ya as m,ar as n,cc as o,Xm as p,Dd as q,Ad as r,sr as s,Nn as t,Id as u,Td as v,Nx as w,Lx as x,hk as y,Ck as z,cr as A,Pk as B,Gk as C,vg as D,Kx as E,bg as F,wg as G,xg as H,dr as I,fr as J,af as K,lf as L,Lt as M,gv as N,IC as O,Ov as P,Kc as Q,Ba as R,_f as S,BT as T,XC as U,zT as V,pX as W,yX as X,HO as Y,wX as Z,cs as _,$o as $,tp as aa,np as ba,cp as ca,mn as da,lp as ea,zi as fa,ap as ga,eD as ha,Vi as ia,fs as ja,_D as ka,vp as la,UZ as ma,zZ as na,VZ as oa,qZ as pa,WZ as qa,lD as ra,uD as sa,Z7 as ta,tZ as ua};
