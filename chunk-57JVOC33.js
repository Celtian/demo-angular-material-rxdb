import{$ as Qh,$a as un,$b as hm,$c as Om,A as ql,Aa as us,Ab as Oi,B as Vh,Ba as em,Bb as um,Bc as Cm,C as qn,Cb as eu,Cc as ye,Da as Oo,Db as ko,E as Kh,Ea as cn,Eb as Mr,F as wi,Fc as Sm,G as yt,Ga as ln,Gb as Ii,Gc as ps,H as Yl,Ha as Tr,Hb as Gn,Hc as ou,I as Ci,Ia as rm,Ib as Xn,Ic as au,J as Si,Ja as Yt,Jc as Ai,Kb as ru,L as Ql,La as nm,Lc as gs,M as ze,Ma as Di,Mb as nu,Mc as su,N as Wh,Na as q,Nc as Gt,Oa as Io,Ob as Ee,Oc as Em,P as Ei,Pa as Pr,Q as Ri,Qc as Rm,R as sn,Ra as ds,Rc as Dm,S as Gl,T as Hh,Ta as im,U as qh,V as Xl,Vb as dm,W as Yh,Wa as dr,Wb as fm,X as Do,Xb as Ao,Xc as vs,Y as Ze,Yb as iu,Yc as bs,Z as Ue,Za as jt,Zb as ms,_ as Yn,_a as om,_b as ki,a as K,aa as le,ab as ue,ac as pe,ad as Ti,b as Wt,ba as be,bc as mm,bd as Im,ca as me,cb as dn,cc as pm,cd as Pi,d as mx,db as fs,dd as Po,e as px,ea as Zl,eb as Jl,ec as Qt,f as gx,fa as ht,fb as am,g as z,ga as Se,gb as Qn,gc as gm,gd as Nr,h as ur,ha as Zt,hb as Me,hc as To,i as jh,ia as Ut,j as as,ja as Gh,jc as vm,k as Eo,ka as Xh,kb as fr,kc as bm,l as Wn,la as Zh,lb as hs,lc as tr,ld as km,m as it,n as fe,nb as sm,o as zh,oa as qt,q as Hn,qa as st,r as he,ra as Jt,rb as hr,rc as ym,s as tt,sa as Jh,sb as Je,sc as _m,sd as Am,t as Ro,ta as mt,tb as Ve,tc as xm,u as xi,ua as tm,uc as wm,v as Uh,va as Ar,w as ss,wd as Tm,x as ft,xa as U,xb as cm,y as cs,ya as G,yb as tu,yd as Pm,z as Ht,za as ls,zb as lm}from"./chunk-MC3QMJ5E.js";var Jb=mx((_f,xf)=>{"use strict";(function(e,t){typeof _f=="object"&&typeof xf<"u"?xf.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dexie=t())})(_f,function(){"use strict";var e=function(s,c){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])},e(s,c)};function t(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");e(s,c);function u(){this.constructor=s}s.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}var i=function(){return i=Object.assign||function(c){for(var u,d=1,h=arguments.length;d<h;d++){u=arguments[d];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(c[g]=u[g])}return c},i.apply(this,arguments)};function r(s,c,u){if(u||arguments.length===2)for(var d=0,h=c.length,g;d<h;d++)(g||!(d in c))&&(g||(g=Array.prototype.slice.call(c,0,d)),g[d]=c[d]);return s.concat(g||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,a=Array.isArray;typeof Promise<"u"&&!n.Promise&&(n.Promise=Promise);function l(s,c){return typeof c!="object"||o(c).forEach(function(u){s[u]=c[u]}),s}var f=Object.getPrototypeOf,m={}.hasOwnProperty;function p(s,c){return m.call(s,c)}function b(s,c){typeof c=="function"&&(c=c(f(s))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(u){C(s,u,c[u])})}var x=Object.defineProperty;function C(s,c,u,d){x(s,c,l(u&&p(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function N(s){return{from:function(c){return s.prototype=Object.create(c.prototype),C(s.prototype,"constructor",s),{extend:b.bind(null,s.prototype)}}}}var B=Object.getOwnPropertyDescriptor;function et(s,c){var u=B(s,c),d;return u||(d=f(s))&&et(d,c)}var ot=[].slice;function at(s,c,u){return ot.call(s,c,u)}function pt(s,c){return c(s)}function Kt(s){if(!s)throw new Error("Assertion Failed")}function gt(s){n.setImmediate?setImmediate(s):setTimeout(s,0)}function Nt(s,c){return s.reduce(function(u,d,h){var g=c(d,h);return g&&(u[g[0]]=g[1]),u},{})}function Et(s,c,u){try{s.apply(null,u)}catch(d){c&&c(d)}}function xt(s,c){if(typeof c=="string"&&p(s,c))return s[c];if(!c)return s;if(typeof c!="string"){for(var u=[],d=0,h=c.length;d<h;++d){var g=xt(s,c[d]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var y=s[c.substr(0,v)];return y===void 0?void 0:xt(y,c.substr(v+1))}}function Pt(s,c,u){if(!(!s||c===void 0)&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof c!="string"&&"length"in c){Kt(typeof u!="string"&&"length"in u);for(var d=0,h=c.length;d<h;++d)Pt(s,c[d],u[d])}else{var g=c.indexOf(".");if(g!==-1){var v=c.substr(0,g),y=c.substr(g+1);if(y==="")u===void 0?a(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=u;else{var _=s[v];(!_||!p(s,v))&&(_=s[v]={}),Pt(_,y,u)}}else u===void 0?a(s)&&!isNaN(parseInt(c))?s.splice(c,1):delete s[c]:s[c]=u}}function Dr(s,c){typeof c=="string"?Pt(s,c,void 0):"length"in c&&[].map.call(c,function(u){Pt(s,u,void 0)})}function di(s){var c={};for(var u in s)p(s,u)&&(c[u]=s[u]);return c}var Pn=[].concat;function or(s){return Pn.apply([],s)}var Jc="Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(or([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(c){return c+s+"Array"})}))).filter(function(s){return n[s]}),Pa=new Set(Jc.map(function(s){return n[s]}));function Ma(s){var c={};for(var u in s)if(p(s,u)){var d=s[u];c[u]=!d||typeof d!="object"||Pa.has(d.constructor)?d:Ma(d)}return c}function tl(s){for(var c in s)if(p(s,c))return!1;return!0}var ar=null;function Ae(s){ar=new WeakMap;var c=Mn(s);return ar=null,c}function Mn(s){if(!s||typeof s!="object")return s;var c=ar.get(s);if(c)return c;if(a(s)){c=[],ar.set(s,c);for(var u=0,d=s.length;u<d;++u)c.push(Mn(s[u]))}else if(Pa.has(s.constructor))c=s;else{var h=f(s);c=h===Object.prototype?{}:Object.create(h),ar.set(s,c);for(var g in s)p(s,g)&&(c[g]=Mn(s[g]))}return c}var fi={}.toString;function lo(s){return fi.call(s).slice(8,-1)}var ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Te=typeof ce=="symbol"?function(s){var c;return s!=null&&(c=s[ce])&&c.apply(s)}:function(){return null};function Qe(s,c){var u=s.indexOf(c);return u>=0&&s.splice(u,1),u>=0}var Qr={};function Or(s){var c,u,d,h;if(arguments.length===1){if(a(s))return s.slice();if(this===Qr&&typeof s=="string")return[s];if(h=Te(s)){for(u=[];d=h.next(),!d.done;)u.push(d.value);return u}if(s==null)return[s];if(c=s.length,typeof c=="number"){for(u=new Array(c);c--;)u[c]=s[c];return u}return[s]}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var el=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ir=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xf(s,c){Ir=s,Zf=c}var Zf=function(){return!0},jy=!new Error("").stack;function Nn(){if(jy)try{throw Nn.arguments,new Error}catch(s){return s}return new Error}function rl(s,c){var u=s.stack;return u?(c=c||0,u.indexOf(s.name)===0&&(c+=(s.name+s.message).split(`
`).length),u.split(`
`).slice(c).filter(Zf).map(function(d){return`
`+d}).join("")):""}var zy=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Jf=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],nl=zy.concat(Jf),Uy={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function hi(s,c){this._e=Nn(),this.name=s,this.message=c}N(hi).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+rl(this._e,2))}},toString:function(){return this.name+": "+this.message}});function th(s,c){return s+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,d,h){return h.indexOf(u)===d}).join(`
`)}function Na(s,c,u,d){this._e=Nn(),this.failures=c,this.failedKeys=d,this.successCount=u,this.message=th(s,c)}N(Na).from(hi);function mi(s,c){this._e=Nn(),this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=th(s,this.failures)}N(mi).from(hi);var il=nl.reduce(function(s,c){return s[c]=c+"Error",s},{}),Vy=hi,nt=nl.reduce(function(s,c){var u=c+"Error";function d(h,g){this._e=Nn(),this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Uy[c]||u,this.inner=null)}return N(d).from(Vy),s[c]=d,s},{});nt.Syntax=SyntaxError,nt.Type=TypeError,nt.Range=RangeError;var eh=Jf.reduce(function(s,c){return s[c+"Error"]=nt[c],s},{});function Ky(s,c){if(!s||s instanceof hi||s instanceof TypeError||s instanceof SyntaxError||!s.name||!eh[s.name])return s;var u=new eh[s.name](c||s.message,s);return"stack"in s&&C(u,"stack",{get:function(){return this.inner.stack}}),u}var Fa=nl.reduce(function(s,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(s[c+"Error"]=nt[c]),s},{});Fa.ModifyError=Na,Fa.DexieError=hi,Fa.BulkError=mi;function Tt(){}function uo(s){return s}function Wy(s,c){return s==null||s===uo?c:function(u){return c(s(u))}}function Fn(s,c){return function(){s.apply(this,arguments),c.apply(this,arguments)}}function Hy(s,c){return s===Tt?c:function(){var u=s.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?Fn(d,this.onsuccess):d),h&&(this.onerror=this.onerror?Fn(h,this.onerror):h),g!==void 0?g:u}}function qy(s,c){return s===Tt?c:function(){s.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Fn(u,this.onsuccess):u),d&&(this.onerror=this.onerror?Fn(d,this.onerror):d)}}function Yy(s,c){return s===Tt?c:function(u){var d=s.apply(this,arguments);l(u,d);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var v=c.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?Fn(h,this.onsuccess):h),g&&(this.onerror=this.onerror?Fn(g,this.onerror):g),d===void 0?v===void 0?void 0:v:l(d,v)}}function Qy(s,c){return s===Tt?c:function(){return c.apply(this,arguments)===!1?!1:s.apply(this,arguments)}}function ol(s,c){return s===Tt?c:function(){var u=s.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return u.then(function(){return c.apply(d,g)})}return c.apply(this,arguments)}}var fo={},Gy=100,Xy=20,rh=100,al=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,f(s),s];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,f(c),s]}(),nh=al[0],ih=al[1],Zy=al[2],Jy=ih&&ih.then,ho=nh&&nh.constructor,sl=!!Zy,cl=!1;function t_(){queueMicrotask(r_)}var mo=function(s,c){po.push([s,c]),$a&&(t_(),$a=!1)},ll=!0,$a=!0,$n=[],La=[],ul=null,dl=uo,Gr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},Z=Gr,po=[],Ln=0,Ba=[];function H(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=Z;if(Ir&&(this._stackHolder=Nn(),this._prev=null,this._numPrev=0),typeof s!="function"){if(s!==fo)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&hl(this,this._value);return}this._state=null,this._value=null,++c.ref,ah(this,s)}var fl={get:function(){var s=Z,c=Va;function u(d,h){var g=this,v=!s.global&&(s!==Z||c!==Va),y=v&&!Zr(),_=new H(function(w,E){ml(g,new oh(dh(d,s,v,y),dh(h,s,v,y),w,E,s))});return Ir&&lh(_,this),_}return u.prototype=fo,u},set:function(s){C(this,"then",s&&s.prototype===fo?fl:{get:function(){return s},set:fl.set})}};b(H.prototype,{then:fl,_then:function(s,c){ml(this,new oh(null,null,s,c,Z))},catch:function(s){if(arguments.length===1)return this.then(null,s);var c=arguments[0],u=arguments[1];return typeof c=="function"?this.then(null,function(d){return d instanceof c?u(d):ja(d)}):this.then(null,function(d){return d&&d.name===c?u(d):ja(d)})},finally:function(s){return this.then(function(c){return H.resolve(s()).then(function(){return c})},function(c){return H.resolve(s()).then(function(){return ja(c)})})},stack:{get:function(){if(this._stack)return this._stack;try{cl=!0;var s=ch(this,[],Xy),c=s.join(`
From previous: `);return this._state!==null&&(this._stack=c),c}finally{cl=!1}}},timeout:function(s,c){var u=this;return s<1/0?new H(function(d,h){var g=setTimeout(function(){return h(new nt.Timeout(c))},s);u.then(d,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(H.prototype,Symbol.toStringTag,"Dexie.Promise"),Gr.env=uh();function oh(s,c,u,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=d,this.psd=h}b(H,{all:function(){var s=Or.apply(null,arguments).map(Ka);return new H(function(c,u){s.length===0&&c([]);var d=s.length;s.forEach(function(h,g){return H.resolve(h).then(function(v){s[g]=v,--d||c(s)},u)})})},resolve:function(s){if(s instanceof H)return s;if(s&&typeof s.then=="function")return new H(function(u,d){s.then(u,d)});var c=new H(fo,!0,s);return lh(c,ul),c},reject:ja,race:function(){var s=Or.apply(null,arguments).map(Ka);return new H(function(c,u){s.map(function(d){return H.resolve(d).then(c,u)})})},PSD:{get:function(){return Z},set:function(s){return Z=s}},totalEchoes:{get:function(){return Va}},newPSD:Xr,usePSD:Bn,scheduler:{get:function(){return mo},set:function(s){mo=s}},rejectionMapper:{get:function(){return dl},set:function(s){dl=s}},follow:function(s,c){return new H(function(u,d){return Xr(function(h,g){var v=Z;v.unhandleds=[],v.onunhandled=g,v.finalize=Fn(function(){var y=this;n_(function(){y.unhandleds.length===0?h():g(y.unhandleds[0])})},v.finalize),s()},c,u,d)})}}),ho&&(ho.allSettled&&C(H,"allSettled",function(){var s=Or.apply(null,arguments).map(Ka);return new H(function(c){s.length===0&&c([]);var u=s.length,d=new Array(u);s.forEach(function(h,g){return H.resolve(h).then(function(v){return d[g]={status:"fulfilled",value:v}},function(v){return d[g]={status:"rejected",reason:v}}).then(function(){return--u||c(d)})})})}),ho.any&&typeof AggregateError<"u"&&C(H,"any",function(){var s=Or.apply(null,arguments).map(Ka);return new H(function(c,u){s.length===0&&u(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(g,v){return H.resolve(g).then(function(y){return c(y)},function(y){h[v]=y,--d||u(new AggregateError(h))})})})}));function ah(s,c){try{c(function(u){if(s._state===null){if(u===s)throw new TypeError("A promise cannot be resolved with itself.");var d=s._lib&&pi();u&&typeof u.then=="function"?ah(s,function(h,g){u instanceof H?u._then(h,g):u.then(h,g)}):(s._state=!0,s._value=u,sh(s)),d&&gi()}},hl.bind(null,s))}catch(u){hl(s,u)}}function hl(s,c){if(La.push(c),s._state===null){var u=s._lib&&pi();c=dl(c),s._state=!1,s._value=c,Ir&&c!==null&&typeof c=="object"&&!c._promise&&Et(function(){var d=et(c,"stack");c._promise=s,C(c,"stack",{get:function(){return cl?d&&(d.get?d.get.apply(c):d.value):s.stack}})}),i_(s),sh(s),u&&gi()}}function sh(s){var c=s._listeners;s._listeners=[];for(var u=0,d=c.length;u<d;++u)ml(s,c[u]);var h=s._PSD;--h.ref||h.finalize(),Ln===0&&(++Ln,mo(function(){--Ln===0&&pl()},[]))}function ml(s,c){if(s._state===null){s._listeners.push(c);return}var u=s._state?c.onFulfilled:c.onRejected;if(u===null)return(s._state?c.resolve:c.reject)(s._value);++c.psd.ref,++Ln,mo(e_,[u,s,c])}function e_(s,c,u){try{ul=c;var d,h=c._value;c._state?d=s(h):(La.length&&(La=[]),d=s(h),La.indexOf(h)===-1&&o_(c)),u.resolve(d)}catch(g){u.reject(g)}finally{ul=null,--Ln===0&&pl(),--u.psd.ref||u.psd.finalize()}}function ch(s,c,u){if(c.length===u)return c;var d="";if(s._state===!1){var h=s._value,g,v;h!=null?(g=h.name||"Error",v=h.message||h,d=rl(h,0)):(g=h,v=""),c.push(g+(v?": "+v:"")+d)}return Ir&&(d=rl(s._stackHolder,2),d&&c.indexOf(d)===-1&&c.push(d),s._prev&&ch(s._prev,c,u)),c}function lh(s,c){var u=c?c._numPrev+1:0;u<Gy&&(s._prev=c,s._numPrev=u)}function r_(){Bn(Gr,function(){pi()&&gi()})}function pi(){var s=ll;return ll=!1,$a=!1,s}function gi(){var s,c,u;do for(;po.length>0;)for(s=po,po=[],u=s.length,c=0;c<u;++c){var d=s[c];d[0].apply(null,d[1])}while(po.length>0);ll=!0,$a=!0}function pl(){var s=$n;$n=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var c=Ba.slice(0),u=c.length;u;)c[--u]()}function n_(s){function c(){s(),Ba.splice(Ba.indexOf(c),1)}Ba.push(c),++Ln,mo(function(){--Ln===0&&pl()},[])}function i_(s){$n.some(function(c){return c._value===s._value})||$n.push(s)}function o_(s){for(var c=$n.length;c;)if($n[--c]._value===s._value){$n.splice(c,1);return}}function ja(s){return new H(fo,!1,s)}function Bt(s,c){var u=Z;return function(){var d=pi(),h=Z;try{return Jr(u,!0),s.apply(this,arguments)}catch(g){c&&c(g)}finally{Jr(h,!1),d&&gi()}}}var re={awaits:0,echoes:0,id:0},a_=0,za=[],Ua=0,Va=0,s_=0;function Xr(s,c,u,d){var h=Z,g=Object.create(h);g.parent=h,g.ref=0,g.global=!1,g.id=++s_,Gr.env,g.env=sl?{Promise:H,PromiseProp:{value:H,configurable:!0,writable:!0},all:H.all,race:H.race,allSettled:H.allSettled,any:H.any,resolve:H.resolve,reject:H.reject}:{},c&&l(g,c),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()};var v=Bn(g,s,u,d);return g.ref===0&&g.finalize(),v}function vi(){return re.id||(re.id=++a_),++re.awaits,re.echoes+=rh,re.id}function Zr(){return re.awaits?(--re.awaits===0&&(re.id=0),re.echoes=re.awaits*rh,!0):!1}(""+Jy).indexOf("[native code]")===-1&&(vi=Zr=Tt);function Ka(s){return re.echoes&&s&&s.constructor===ho?(vi(),s.then(function(c){return Zr(),c},function(c){return Zr(),Xt(c)})):s}function c_(s){++Va,(!re.echoes||--re.echoes===0)&&(re.echoes=re.awaits=re.id=0),za.push(Z),Jr(s,!0)}function l_(){var s=za[za.length-1];za.pop(),Jr(s,!1)}function Jr(s,c){var u=Z;if((c?re.echoes&&(!Ua++||s!==Z):Ua&&(!--Ua||s!==Z))&&queueMicrotask(c?c_.bind(null,s):l_),s!==Z&&(Z=s,u===Gr&&(Gr.env=uh()),sl)){var d=Gr.env.Promise,h=s.env;(u.global||s.global)&&(Object.defineProperty(n,"Promise",h.PromiseProp),d.all=h.all,d.race=h.race,d.resolve=h.resolve,d.reject=h.reject,h.allSettled&&(d.allSettled=h.allSettled),h.any&&(d.any=h.any))}}function uh(){var s=n.Promise;return sl?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Bn(s,c,u,d,h){var g=Z;try{return Jr(s,!0),c(u,d,h)}finally{Jr(g,!1)}}function dh(s,c,u,d){return typeof s!="function"?s:function(){var h=Z;u&&vi(),Jr(c,!0);try{return s.apply(this,arguments)}finally{Jr(h,!1),d&&queueMicrotask(Zr)}}}function gl(s){Promise===ho&&re.echoes===0?Ua===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}var Xt=H.reject;function vl(s,c,u,d){if(!s.idbdb||!s._state.openComplete&&!Z.letThrough&&!s._vip){if(s._state.openComplete)return Xt(new nt.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._options.autoOpen)return Xt(new nt.DatabaseClosed);s.open().catch(Tt)}return s._state.dbReadyPromise.then(function(){return vl(s,c,u,d)})}else{var h=s._createTransaction(c,u,s._dbSchema);try{h.create(),s._state.PR1398_maxLoop=3}catch(g){return g.name===il.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s._close(),s.open().then(function(){return vl(s,c,u,d)})):Xt(g)}return h._promise(c,function(g,v){return Xr(function(){return Z.trans=h,d(g,v,h)})}).then(function(g){if(c==="readwrite")try{h.idbtrans.commit()}catch{}return c==="readonly"?g:h._completion.then(function(){return g})})}}var fh="4.0.1-beta.7",jn="\uFFFF",bl=-1/0,kr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hh="String expected.",bi=[],Wa=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),u_=Wa,d_=Wa,mh=function(s){return!/(dexie\.js|dexie\.min\.js)/.test(s)},Ha="__dbnames",yl="readonly",_l="readwrite";function zn(s,c){return s?c?function(){return s.apply(this,arguments)&&c.apply(this,arguments)}:s:c}var ph={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qa(s){return typeof s=="string"&&!/\./.test(s)?function(c){return c[s]===void 0&&s in c&&(c=Ae(c),delete c[s]),c}:function(c){return c}}function gh(){throw nt.Type()}function St(s,c){try{var u=vh(s),d=vh(c);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return s>c?1:s<c?-1:0;case"binary":return h_(bh(s),bh(c));case"Array":return f_(s,c)}}catch{}return NaN}function f_(s,c){for(var u=s.length,d=c.length,h=u<d?u:d,g=0;g<h;++g){var v=St(s[g],c[g]);if(v!==0)return v}return u===d?0:u<d?-1:1}function h_(s,c){for(var u=s.length,d=c.length,h=u<d?u:d,g=0;g<h;++g)if(s[g]!==c[g])return s[g]<c[g]?-1:1;return u===d?0:u<d?-1:1}function vh(s){var c=typeof s;if(c!=="object")return c;if(ArrayBuffer.isView(s))return"binary";var u=lo(s);return u==="ArrayBuffer"?"binary":u}function bh(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}var yh=function(){function s(){}return s.prototype._trans=function(c,u,d){var h=this._tx||Z.trans,g=this.name;function v(_,w,E){if(!E.schema[g])throw new nt.NotFound("Table "+g+" not part of transaction");return u(E.idbtrans,E)}var y=pi();try{return h&&h.db._novip===this.db._novip?h===Z.trans?h._promise(c,v,d):Xr(function(){return h._promise(c,v,d)},{trans:h,transless:Z.transless||Z}):vl(this.db,c,[this.name],v)}finally{y&&gi()}},s.prototype.get=function(c,u){var d=this;return c&&c.constructor===Object?this.where(c).first(u):this._trans("readonly",function(h){return d.core.get({trans:h,key:c}).then(function(g){return d.hook.reading.fire(g)})}).then(u)},s.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(a(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var u=o(c);if(u.length===1)return this.where(u[0]).equals(c[u[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&u.every(function(M){return S.keyPath.indexOf(M)>=0})){for(var R=0;R<u.length;++R)if(u.indexOf(S.keyPath[R])===-1)return!1;return!0}return!1}).sort(function(S,R){return S.keyPath.length-R.keyPath.length})[0];if(d&&this.db._maxKey!==jn){var h=d.keyPath.slice(0,u.length);return this.where(h).equals(h.map(function(S){return c[S]}))}!d&&Ir&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var g=this.schema.idxByName,v=this.db._deps.indexedDB;function y(S,R){return v.cmp(S,R)===0}var _=u.reduce(function(S,R){var M=S[0],I=S[1],D=g[R],P=c[R];return[M||D,M||!D?zn(I,D&&D.multi?function(F){var $=xt(F,R);return a($)&&$.some(function(k){return y(P,k)})}:function(F){return y(P,xt(F,R))}):I]},[null,null]),w=_[0],E=_[1];return w?this.where(w.name).equals(c[w.keyPath]).filter(E):d?this.filter(E):this.where(u).equals("")},s.prototype.filter=function(c){return this.toCollection().and(c)},s.prototype.count=function(c){return this.toCollection().count(c)},s.prototype.offset=function(c){return this.toCollection().offset(c)},s.prototype.limit=function(c){return this.toCollection().limit(c)},s.prototype.each=function(c){return this.toCollection().each(c)},s.prototype.toArray=function(c){return this.toCollection().toArray(c)},s.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},s.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,a(c)?"[".concat(c.join("+"),"]"):c))},s.prototype.reverse=function(){return this.toCollection().reverse()},s.prototype.mapToClass=function(c){var u=this,d=u.db,h=u.name;this.schema.mappedClass=c,c.prototype instanceof gh&&(c=function(_){t(w,_);function w(){return _!==null&&_.apply(this,arguments)||this}return Object.defineProperty(w.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),w.prototype.table=function(){return h},w}(c));for(var g=new Set,v=c.prototype;v;v=f(v))Object.getOwnPropertyNames(v).forEach(function(_){return g.add(_)});var y=function(_){if(!_)return _;var w=Object.create(c.prototype);for(var E in _)if(!g.has(E))try{w[E]=_[E]}catch{}return w};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),c},s.prototype.defineClass=function(){function c(u){l(this,u)}return this.mapToClass(c)},s.prototype.add=function(c,u){var d=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,y=c;return v&&g&&(y=qa(v)(c)),this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"add",keys:u!=null?[u]:null,values:[y]})}).then(function(_){return _.numFailures?H.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{Pt(c,v,_)}catch{}return _})},s.prototype.update=function(c,u){if(typeof c=="object"&&!a(c)){var d=xt(c,this.schema.primKey.keyPath);return d===void 0?Xt(new nt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(u)}else return this.where(":id").equals(c).modify(u)},s.prototype.put=function(c,u){var d=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,y=c;return v&&g&&(y=qa(v)(c)),this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"put",values:[y],keys:u!=null?[u]:null})}).then(function(_){return _.numFailures?H.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{Pt(c,v,_)}catch{}return _})},s.prototype.delete=function(c){var u=this;return this._trans("readwrite",function(d){return u.core.mutate({trans:d,type:"delete",keys:[c]})}).then(function(d){return d.numFailures?H.reject(d.failures[0]):void 0})},s.prototype.clear=function(){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"deleteRange",range:ph})}).then(function(u){return u.numFailures?H.reject(u.failures[0]):void 0})},s.prototype.bulkGet=function(c){var u=this;return this._trans("readonly",function(d){return u.core.getMany({keys:c,trans:d}).then(function(h){return h.map(function(g){return u.hook.reading.fire(g)})})})},s.prototype.bulkAdd=function(c,u,d){var h=this,g=Array.isArray(u)?u:void 0;d=d||(g?void 0:u);var v=d?d.allKeys:void 0;return this._trans("readwrite",function(y){var _=h.schema.primKey,w=_.auto,E=_.keyPath;if(E&&g)throw new nt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==c.length)throw new nt.InvalidArgument("Arguments objects and keys must have the same length");var S=c.length,R=E&&w?c.map(qa(E)):c;return h.core.mutate({trans:y,type:"add",keys:g,values:R,wantResults:v}).then(function(M){var I=M.numFailures,D=M.results,P=M.lastResult,F=M.failures,$=v?D:P;if(I===0)return $;throw new mi("".concat(h.name,".bulkAdd(): ").concat(I," of ").concat(S," operations failed"),F)})})},s.prototype.bulkPut=function(c,u,d){var h=this,g=Array.isArray(u)?u:void 0;d=d||(g?void 0:u);var v=d?d.allKeys:void 0;return this._trans("readwrite",function(y){var _=h.schema.primKey,w=_.auto,E=_.keyPath;if(E&&g)throw new nt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==c.length)throw new nt.InvalidArgument("Arguments objects and keys must have the same length");var S=c.length,R=E&&w?c.map(qa(E)):c;return h.core.mutate({trans:y,type:"put",keys:g,values:R,wantResults:v}).then(function(M){var I=M.numFailures,D=M.results,P=M.lastResult,F=M.failures,$=v?D:P;if(I===0)return $;throw new mi("".concat(h.name,".bulkPut(): ").concat(I," of ").concat(S," operations failed"),F)})})},s.prototype.bulkUpdate=function(c){var u=this,d=this.core,h=c.map(function(y){return y.key}),g=c.map(function(y){return y.changes}),v=[];return this._trans("readwrite",function(y){return d.getMany({trans:y,keys:h,cache:"clone"}).then(function(_){var w=[],E=[];c.forEach(function(R,M){var I=R.key,D=R.changes,P=_[M];if(P){for(var F=0,$=Object.keys(D);F<$.length;F++){var k=$[F],L=D[k];if(k===u.schema.primKey.keyPath){if(St(L,I)!==0)throw new nt.Constraint("Cannot update primary key in bulkUpdate()")}else Pt(P,k,L)}v.push(M),w.push(I),E.push(P)}});var S=w.length;return d.mutate({trans:y,type:"put",keys:w,values:E,updates:{keys:h,changeSpecs:g}}).then(function(R){var M=R.numFailures,I=R.failures;if(M===0)return S;for(var D=0,P=Object.keys(I);D<P.length;D++){var F=P[D],$=v[Number(F)];if($!=null){var k=I[F];delete I[F],I[$]=k}}throw new mi("".concat(u.name,".bulkUpdate(): ").concat(M," of ").concat(S," operations failed"),I)})})})},s.prototype.bulkDelete=function(c){var u=this,d=c.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:c})}).then(function(h){var g=h.numFailures,v=h.lastResult,y=h.failures;if(g===0)return v;throw new mi("".concat(u.name,".bulkDelete(): ").concat(g," of ").concat(d," operations failed"),y)})},s}();function go(s){var c={},u=function(y,_){if(_){for(var w=arguments.length,E=new Array(w-1);--w;)E[w-1]=arguments[w];return c[y].subscribe.apply(null,E),s}else if(typeof y=="string")return c[y]};u.addEventType=g;for(var d=1,h=arguments.length;d<h;++d)g(arguments[d]);return u;function g(y,_,w){if(typeof y=="object")return v(y);_||(_=Qy),w||(w=Tt);var E={subscribers:[],fire:w,subscribe:function(S){E.subscribers.indexOf(S)===-1&&(E.subscribers.push(S),E.fire=_(E.fire,S))},unsubscribe:function(S){E.subscribers=E.subscribers.filter(function(R){return R!==S}),E.fire=E.subscribers.reduce(_,w)}};return c[y]=u[y]=E,E}function v(y){o(y).forEach(function(_){var w=y[_];if(a(w))g(_,y[_][0],y[_][1]);else if(w==="asap")var E=g(_,uo,function(){for(var R=arguments.length,M=new Array(R);R--;)M[R]=arguments[R];E.subscribers.forEach(function(I){gt(function(){I.apply(null,M)})})});else throw new nt.InvalidArgument("Invalid event config")})}}function vo(s,c){return N(c).from({prototype:s}),c}function m_(s){return vo(yh.prototype,function(u,d,h){this.db=s,this._tx=h,this.name=u,this.schema=d,this.hook=s._allTables[u]?s._allTables[u].hook:go(null,{creating:[Hy,Tt],reading:[Wy,uo],updating:[Yy,Tt],deleting:[qy,Tt]})})}function yi(s,c){return!(s.filter||s.algorithm||s.or)&&(c?s.justLimit:!s.replayFilter)}function xl(s,c){s.filter=zn(s.filter,c)}function wl(s,c,u){var d=s.replayFilter;s.replayFilter=d?function(){return zn(d(),c())}:c,s.justLimit=u&&!d}function p_(s,c){s.isMatch=zn(s.isMatch,c)}function Ya(s,c){if(s.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(s.index);if(!u)throw new nt.Schema("KeyPath "+s.index+" on object store "+c.name+" is not indexed");return u}function _h(s,c,u){var d=Ya(s,c.schema);return c.openCursor({trans:u,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function Qa(s,c,u,d){var h=s.replayFilter?zn(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},v=function(y,_,w){if(!h||h(_,w,function(R){return _.stop(R)},function(R){return _.fail(R)})){var E=_.primaryKey,S=""+E;S==="[object ArrayBuffer]"&&(S=""+new Uint8Array(E)),p(g,S)||(g[S]=!0,c(y,_,w))}};return Promise.all([s.or._iterate(v,u),xh(_h(s,d,u),s.algorithm,v,!s.keysOnly&&s.valueMapper)])}else return xh(_h(s,d,u),zn(s.algorithm,h),c,!s.keysOnly&&s.valueMapper)}function xh(s,c,u,d){var h=d?function(v,y,_){return u(d(v),y,_)}:u,g=Bt(h);return s.then(function(v){if(v)return v.start(function(){var y=function(){return v.continue()};(!c||c(v,function(_){return y=_},function(_){v.stop(_),y=Tt},function(_){v.fail(_),y=Tt}))&&g(v.value,v,function(_){return y=_}),y()})})}var g_=function(){function s(){}return s.prototype._read=function(c,u){var d=this._ctx;return d.error?d.table._trans(null,Xt.bind(null,d.error)):d.table._trans("readonly",c).then(u)},s.prototype._write=function(c){var u=this._ctx;return u.error?u.table._trans(null,Xt.bind(null,u.error)):u.table._trans("readwrite",c,"locked")},s.prototype._addAlgorithm=function(c){var u=this._ctx;u.algorithm=zn(u.algorithm,c)},s.prototype._iterate=function(c,u){return Qa(this._ctx,c,u,this._ctx.table.core)},s.prototype.clone=function(c){var u=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return c&&l(d,c),u._ctx=d,u},s.prototype.raw=function(){return this._ctx.valueMapper=null,this},s.prototype.each=function(c){var u=this._ctx;return this._read(function(d){return Qa(u,c,d,u.table.core)})},s.prototype.count=function(c){var u=this;return this._read(function(d){var h=u._ctx,g=h.table.core;if(yi(h,!0))return g.count({trans:d,query:{index:Ya(h,g.schema),range:h.range}}).then(function(y){return Math.min(y,h.limit)});var v=0;return Qa(h,function(){return++v,!1},d,g).then(function(){return v})}).then(c)},s.prototype.sortBy=function(c,u){var d=c.split(".").reverse(),h=d[0],g=d.length-1;function v(w,E){return E?v(w[d[E]],E-1):w[h]}var y=this._ctx.dir==="next"?1:-1;function _(w,E){var S=v(w,g),R=v(E,g);return S<R?-y:S>R?y:0}return this.toArray(function(w){return w.sort(_)}).then(u)},s.prototype.toArray=function(c){var u=this;return this._read(function(d){var h=u._ctx;if(h.dir==="next"&&yi(h,!0)&&h.limit>0){var g=h.valueMapper,v=Ya(h,h.table.core.schema);return h.table.core.query({trans:d,limit:h.limit,values:!0,query:{index:v,range:h.range}}).then(function(_){var w=_.result;return g?w.map(g):w})}else{var y=[];return Qa(h,function(_){return y.push(_)},d,h.table.core).then(function(){return y})}},c)},s.prototype.offset=function(c){var u=this._ctx;return c<=0?this:(u.offset+=c,yi(u)?wl(u,function(){var d=c;return function(h,g){return d===0?!0:d===1?(--d,!1):(g(function(){h.advance(d),d=0}),!1)}}):wl(u,function(){var d=c;return function(){return--d<0}}),this)},s.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),wl(this._ctx,function(){var u=c;return function(d,h,g){return--u<=0&&h(g),u>=0}},!0),this},s.prototype.until=function(c,u){return xl(this._ctx,function(d,h,g){return c(d.value)?(h(g),u):!0}),this},s.prototype.first=function(c){return this.limit(1).toArray(function(u){return u[0]}).then(c)},s.prototype.last=function(c){return this.reverse().first(c)},s.prototype.filter=function(c){return xl(this._ctx,function(u){return c(u.value)}),p_(this._ctx,c),this},s.prototype.and=function(c){return this.filter(c)},s.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},s.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},s.prototype.desc=function(){return this.reverse()},s.prototype.eachKey=function(c){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(d,h){c(h.key,h)})},s.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},s.prototype.eachPrimaryKey=function(c){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(d,h){c(h.primaryKey,h)})},s.prototype.keys=function(c){var u=this._ctx;u.keysOnly=!u.isMatch;var d=[];return this.each(function(h,g){d.push(g.key)}).then(function(){return d}).then(c)},s.prototype.primaryKeys=function(c){var u=this._ctx;if(u.dir==="next"&&yi(u,!0)&&u.limit>0)return this._read(function(h){var g=Ya(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:g,range:u.range}})}).then(function(h){var g=h.result;return g}).then(c);u.keysOnly=!u.isMatch;var d=[];return this.each(function(h,g){d.push(g.primaryKey)}).then(function(){return d}).then(c)},s.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},s.prototype.firstKey=function(c){return this.limit(1).keys(function(u){return u[0]}).then(c)},s.prototype.lastKey=function(c){return this.reverse().firstKey(c)},s.prototype.distinct=function(){var c=this._ctx,u=c.index&&c.table.schema.idxByName[c.index];if(!u||!u.multi)return this;var d={};return xl(this._ctx,function(h){var g=h.primaryKey.toString(),v=p(d,g);return d[g]=!0,!v}),this},s.prototype.modify=function(c){var u=this,d=this._ctx;return this._write(function(h){var g;if(typeof c=="function")g=c;else{var v=o(c),y=v.length;g=function(F){for(var $=!1,k=0;k<y;++k){var L=v[k],O=c[L];xt(F,L)!==O&&(Pt(F,L,O),$=!0)}return $}}var _=d.table.core,w=_.schema.primaryKey,E=w.outbound,S=w.extractKey,R=u.db._options.modifyChunkSize||200,M=[],I=0,D=[],P=function(F,$){var k=$.failures,L=$.numFailures;I+=F-L;for(var O=0,V=o(k);O<V.length;O++){var Y=V[O];M.push(k[Y])}};return u.clone().primaryKeys().then(function(F){var $=function(k){var L=Math.min(R,F.length-k);return _.getMany({trans:h,keys:F.slice(k,k+L),cache:"immutable"}).then(function(O){for(var V=[],Y=[],X=E?[]:null,Q=[],J=0;J<L;++J){var bt=O[J],kt={value:Ae(bt),primKey:F[k+J]};g.call(kt,kt.value,kt)!==!1&&(kt.value==null?Q.push(F[k+J]):!E&&St(S(bt),S(kt.value))!==0?(Q.push(F[k+J]),V.push(kt.value)):(Y.push(kt.value),E&&X.push(F[k+J])))}var vt=yi(d)&&d.limit===1/0&&(typeof c!="function"||c===Cl)&&{index:d.index,range:d.range};return Promise.resolve(V.length>0&&_.mutate({trans:h,type:"add",values:V}).then(function(ne){for(var dt in ne.failures)Q.splice(parseInt(dt),1);P(V.length,ne)})).then(function(){return(Y.length>0||vt&&typeof c=="object")&&_.mutate({trans:h,type:"put",keys:X,values:Y,criteria:vt,changeSpec:typeof c!="function"&&c}).then(function(ne){return P(Y.length,ne)})}).then(function(){return(Q.length>0||vt&&c===Cl)&&_.mutate({trans:h,type:"delete",keys:Q,criteria:vt}).then(function(ne){return P(Q.length,ne)})}).then(function(){return F.length>k+L&&$(k+R)})})};return $(0).then(function(){if(M.length>0)throw new Na("Error modifying one or more objects",M,I,D);return F.length})})})},s.prototype.delete=function(){var c=this._ctx,u=c.range;return yi(c)&&(c.isPrimKey&&!d_||u.type===3)?this._write(function(d){var h=c.table.core.schema.primaryKey,g=u;return c.table.core.count({trans:d,query:{index:h,range:g}}).then(function(v){return c.table.core.mutate({trans:d,type:"deleteRange",range:g}).then(function(y){var _=y.failures;y.lastResult,y.results;var w=y.numFailures;if(w)throw new Na("Could not delete some values",Object.keys(_).map(function(E){return _[E]}),v-w);return v-w})})}):this.modify(Cl)},s}(),Cl=function(s,c){return c.value=null};function v_(s){return vo(g_.prototype,function(u,d){this.db=s;var h=ph,g=null;if(d)try{h=d()}catch(w){g=w}var v=u._ctx,y=v.table,_=y.hook.reading.fire;this._ctx={table:y,index:v.index,isPrimKey:!v.index||y.schema.primKey.keyPath&&v.index===y.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:v.or,valueMapper:_!==uo?_:null}})}function b_(s,c){return s<c?-1:s===c?0:1}function y_(s,c){return s>c?-1:s===c?0:1}function Pe(s,c,u){var d=s instanceof Ch?new s.Collection(s):s;return d._ctx.error=u?new u(c):new TypeError(c),d}function _i(s){return new s.Collection(s,function(){return wh("")}).limit(0)}function __(s){return s==="next"?function(c){return c.toUpperCase()}:function(c){return c.toLowerCase()}}function x_(s){return s==="next"?function(c){return c.toLowerCase()}:function(c){return c.toUpperCase()}}function w_(s,c,u,d,h,g){for(var v=Math.min(s.length,d.length),y=-1,_=0;_<v;++_){var w=c[_];if(w!==d[_])return h(s[_],u[_])<0?s.substr(0,_)+u[_]+u.substr(_+1):h(s[_],d[_])<0?s.substr(0,_)+d[_]+u.substr(_+1):y>=0?s.substr(0,y)+c[y]+u.substr(y+1):null;h(s[_],w)<0&&(y=_)}return v<d.length&&g==="next"?s+u.substr(s.length):v<s.length&&g==="prev"?s.substr(0,u.length):y<0?null:s.substr(0,y)+d[y]+u.substr(y+1)}function Ga(s,c,u,d){var h,g,v,y,_,w,E,S=u.length;if(!u.every(function(D){return typeof D=="string"}))return Pe(s,hh);function R(D){h=__(D),g=x_(D),v=D==="next"?b_:y_;var P=u.map(function(F){return{lower:g(F),upper:h(F)}}).sort(function(F,$){return v(F.lower,$.lower)});y=P.map(function(F){return F.upper}),_=P.map(function(F){return F.lower}),w=D,E=D==="next"?"":d}R("next");var M=new s.Collection(s,function(){return tn(y[0],_[S-1]+d)});M._ondirectionchange=function(D){R(D)};var I=0;return M._addAlgorithm(function(D,P,F){var $=D.key;if(typeof $!="string")return!1;var k=g($);if(c(k,_,I))return!0;for(var L=null,O=I;O<S;++O){var V=w_($,k,y[O],_[O],v,w);V===null&&L===null?I=O+1:(L===null||v(L,V)>0)&&(L=V)}return P(L!==null?function(){D.continue(L+E)}:F),!1}),M}function tn(s,c,u,d){return{type:2,lower:s,upper:c,lowerOpen:u,upperOpen:d}}function wh(s){return{type:1,lower:s,upper:s}}var Ch=function(){function s(){}return Object.defineProperty(s.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),s.prototype.between=function(c,u,d,h){d=d!==!1,h=h===!0;try{return this._cmp(c,u)>0||this._cmp(c,u)===0&&(d||h)&&!(d&&h)?_i(this):new this.Collection(this,function(){return tn(c,u,!d,!h)})}catch{return Pe(this,kr)}},s.prototype.equals=function(c){return c==null?Pe(this,kr):new this.Collection(this,function(){return wh(c)})},s.prototype.above=function(c){return c==null?Pe(this,kr):new this.Collection(this,function(){return tn(c,void 0,!0)})},s.prototype.aboveOrEqual=function(c){return c==null?Pe(this,kr):new this.Collection(this,function(){return tn(c,void 0,!1)})},s.prototype.below=function(c){return c==null?Pe(this,kr):new this.Collection(this,function(){return tn(void 0,c,!1,!0)})},s.prototype.belowOrEqual=function(c){return c==null?Pe(this,kr):new this.Collection(this,function(){return tn(void 0,c)})},s.prototype.startsWith=function(c){return typeof c!="string"?Pe(this,hh):this.between(c,c+jn,!0,!0)},s.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):Ga(this,function(u,d){return u.indexOf(d[0])===0},[c],jn)},s.prototype.equalsIgnoreCase=function(c){return Ga(this,function(u,d){return u===d[0]},[c],"")},s.prototype.anyOfIgnoreCase=function(){var c=Or.apply(Qr,arguments);return c.length===0?_i(this):Ga(this,function(u,d){return d.indexOf(u)!==-1},c,"")},s.prototype.startsWithAnyOfIgnoreCase=function(){var c=Or.apply(Qr,arguments);return c.length===0?_i(this):Ga(this,function(u,d){return d.some(function(h){return u.indexOf(h)===0})},c,jn)},s.prototype.anyOf=function(){var c=this,u=Or.apply(Qr,arguments),d=this._cmp;try{u.sort(d)}catch{return Pe(this,kr)}if(u.length===0)return _i(this);var h=new this.Collection(this,function(){return tn(u[0],u[u.length-1])});h._ondirectionchange=function(v){d=v==="next"?c._ascending:c._descending,u.sort(d)};var g=0;return h._addAlgorithm(function(v,y,_){for(var w=v.key;d(w,u[g])>0;)if(++g,g===u.length)return y(_),!1;return d(w,u[g])===0?!0:(y(function(){v.continue(u[g])}),!1)}),h},s.prototype.notEqual=function(c){return this.inAnyRange([[bl,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},s.prototype.noneOf=function(){var c=Or.apply(Qr,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return Pe(this,kr)}var u=c.reduce(function(d,h){return d?d.concat([[d[d.length-1][1],h]]):[[bl,h]]},null);return u.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},s.prototype.inAnyRange=function(c,u){var d=this,h=this._cmp,g=this._ascending,v=this._descending,y=this._min,_=this._max;if(c.length===0)return _i(this);if(!c.every(function(O){return O[0]!==void 0&&O[1]!==void 0&&g(O[0],O[1])<=0}))return Pe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",nt.InvalidArgument);var w=!u||u.includeLowers!==!1,E=u&&u.includeUppers===!0;function S(O,V){for(var Y=0,X=O.length;Y<X;++Y){var Q=O[Y];if(h(V[0],Q[1])<0&&h(V[1],Q[0])>0){Q[0]=y(Q[0],V[0]),Q[1]=_(Q[1],V[1]);break}}return Y===X&&O.push(V),O}var R=g;function M(O,V){return R(O[0],V[0])}var I;try{I=c.reduce(S,[]),I.sort(M)}catch{return Pe(this,kr)}var D=0,P=E?function(O){return g(O,I[D][1])>0}:function(O){return g(O,I[D][1])>=0},F=w?function(O){return v(O,I[D][0])>0}:function(O){return v(O,I[D][0])>=0};function $(O){return!P(O)&&!F(O)}var k=P,L=new this.Collection(this,function(){return tn(I[0][0],I[I.length-1][1],!w,!E)});return L._ondirectionchange=function(O){O==="next"?(k=P,R=g):(k=F,R=v),I.sort(M)},L._addAlgorithm(function(O,V,Y){for(var X=O.key;k(X);)if(++D,D===I.length)return V(Y),!1;return $(X)?!0:(d._cmp(X,I[D][1])===0||d._cmp(X,I[D][0])===0||V(function(){R===g?O.continue(I[D][0]):O.continue(I[D][1])}),!1)}),L},s.prototype.startsWithAnyOf=function(){var c=Or.apply(Qr,arguments);return c.every(function(u){return typeof u=="string"})?c.length===0?_i(this):this.inAnyRange(c.map(function(u){return[u,u+jn]})):Pe(this,"startsWithAnyOf() only works with strings")},s}();function C_(s){return vo(Ch.prototype,function(u,d,h){if(this.db=s,this._ctx={table:u,index:d===":id"?null:d,or:h},this._cmp=this._ascending=St,this._descending=function(g,v){return St(v,g)},this._max=function(g,v){return St(g,v)>0?g:v},this._min=function(g,v){return St(g,v)<0?g:v},this._IDBKeyRange=s._deps.IDBKeyRange,!this._IDBKeyRange)throw new nt.MissingAPI})}function sr(s){return Bt(function(c){return bo(c),s(c.target.error),!1})}function bo(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var yo="storagemutated",Xa="x-storagemutated-1",en=go(null,yo),S_=function(){function s(){}return s.prototype._lock=function(){return Kt(!Z.global),++this._reculock,this._reculock===1&&!Z.global&&(Z.lockOwnerFor=this),this},s.prototype._unlock=function(){if(Kt(!Z.global),--this._reculock===0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var c=this._blockedFuncs.shift();try{Bn(c[1],c[0])}catch{}}return this},s.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},s.prototype.create=function(c){var u=this;if(!this.mode)return this;var d=this.db.idbdb,h=this.db._state.dbOpenError;if(Kt(!this.idbtrans),!c&&!d)switch(h&&h.name){case"DatabaseClosedError":throw new nt.DatabaseClosed(h);case"MissingAPIError":throw new nt.MissingAPI(h.message,h);default:throw new nt.OpenFailed(h)}if(!this.active)throw new nt.TransactionInactive;return Kt(this._completion._state===null),c=this.idbtrans=c||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):d.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),c.onerror=Bt(function(g){bo(g),u._reject(c.error)}),c.onabort=Bt(function(g){bo(g),u.active&&u._reject(new nt.Abort(c.error)),u.active=!1,u.on("abort").fire(g)}),c.oncomplete=Bt(function(){u.active=!1,u._resolve(),"mutatedParts"in c&&en.storagemutated.fire(c.mutatedParts)}),this},s.prototype._promise=function(c,u,d){var h=this;if(c==="readwrite"&&this.mode!=="readwrite")return Xt(new nt.ReadOnly("Transaction is readonly"));if(!this.active)return Xt(new nt.TransactionInactive);if(this._locked())return new H(function(v,y){h._blockedFuncs.push([function(){h._promise(c,u,d).then(v,y)},Z])});if(d)return Xr(function(){var v=new H(function(y,_){h._lock();var w=u(y,_,h);w&&w.then&&w.then(y,_)});return v.finally(function(){return h._unlock()}),v._lib=!0,v});var g=new H(function(v,y){var _=u(v,y,h);_&&_.then&&_.then(v,y)});return g._lib=!0,g},s.prototype._root=function(){return this.parent?this.parent._root():this},s.prototype.waitFor=function(c){var u=this._root(),d=H.resolve(c);if(u._waitingFor)u._waitingFor=u._waitingFor.then(function(){return d});else{u._waitingFor=d,u._waitingQueue=[];var h=u.idbtrans.objectStore(u.storeNames[0]);(function v(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(h.get(-1/0).onsuccess=v)})()}var g=u._waitingFor;return new H(function(v,y){d.then(function(_){return u._waitingQueue.push(Bt(v.bind(null,_)))},function(_){return u._waitingQueue.push(Bt(y.bind(null,_)))}).finally(function(){u._waitingFor===g&&(u._waitingFor=null)})})},s.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new nt.Abort))},s.prototype.table=function(c){var u=this._memoizedTables||(this._memoizedTables={});if(p(u,c))return u[c];var d=this.schema[c];if(!d)throw new nt.NotFound("Table "+c+" not part of transaction");var h=new this.db.Table(c,d,this);return h.core=this.db.core.table(c),u[c]=h,h},s}();function E_(s){return vo(S_.prototype,function(u,d,h,g,v){var y=this;this.db=s,this.mode=u,this.storeNames=d,this.schema=h,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=go(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new H(function(_,w){y._resolve=_,y._reject=w}),this._completion.then(function(){y.active=!1,y.on.complete.fire()},function(_){var w=y.active;return y.active=!1,y.on.error.fire(_),y.parent?y.parent._reject(_):w&&y.idbtrans&&y.idbtrans.abort(),Xt(_)})})}function Sl(s,c,u,d,h,g,v){return{name:s,keyPath:c,unique:u,multi:d,auto:h,compound:g,src:(u&&!v?"&":"")+(d?"*":"")+(h?"++":"")+Sh(c)}}function Sh(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Eh(s,c,u){return{name:s,primKey:c,indexes:u,mappedClass:null,idxByName:Nt(u,function(d){return[d.name,d]})}}function R_(s){return s.length===1?s[0]:s}var _o=function(s){try{return s.only([[]]),_o=function(){return[[]]},[[]]}catch{return _o=function(){return jn},jn}};function El(s){return s==null?function(){}:typeof s=="string"?D_(s):function(c){return xt(c,s)}}function D_(s){var c=s.split(".");return c.length===1?function(u){return u[s]}:function(u){return xt(u,s)}}function Rh(s){return[].slice.call(s)}var O_=0;function xo(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function I_(s,c,u){function d(S,R){var M=Rh(S.objectStoreNames);return{schema:{name:S.name,tables:M.map(function(I){return R.objectStore(I)}).map(function(I){var D=I.keyPath,P=I.autoIncrement,F=a(D),$=D==null,k={},L={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:$,compound:F,keyPath:D,autoIncrement:P,unique:!0,extractKey:El(D)},indexes:Rh(I.indexNames).map(function(O){return I.index(O)}).map(function(O){var V=O.name,Y=O.unique,X=O.multiEntry,Q=O.keyPath,J=a(Q),bt={name:V,compound:J,keyPath:Q,unique:Y,multiEntry:X,extractKey:El(Q)};return k[xo(Q)]=bt,bt}),getIndexByKeyPath:function(O){return k[xo(O)]}};return k[":id"]=L.primaryKey,D!=null&&(k[xo(D)]=L.primaryKey),L})},hasGetAll:M.length>0&&"getAll"in R.objectStore(M[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function h(S){if(S.type===3)return null;if(S.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var R=S.lower,M=S.upper,I=S.lowerOpen,D=S.upperOpen,P=R===void 0?M===void 0?null:c.upperBound(M,!!D):M===void 0?c.lowerBound(R,!!I):c.bound(R,M,!!I,!!D);return P}function g(S){var R=S.name;function M(P){var F=P.trans,$=P.type,k=P.keys,L=P.values,O=P.range;return new Promise(function(V,Y){V=Bt(V);var X=F.objectStore(R),Q=X.keyPath==null,J=$==="put"||$==="add";if(!J&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var bt=(k||L||{length:1}).length;if(k&&L&&k.length!==L.length)throw new Error("Given keys array must have same length as given values array.");if(bt===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});var kt,vt=[],ne=[],dt=0,Be=function(lr){++dt,bo(lr)};if($==="deleteRange"){if(O.type===4)return V({numFailures:dt,failures:ne,results:[],lastResult:void 0});O.type===3?vt.push(kt=X.clear()):vt.push(kt=X.delete(h(O)))}else{var Ge=J?Q?[L,k]:[L,null]:[k,null],on=Ge[0],cr=Ge[1];if(J)for(var je=0;je<bt;++je)vt.push(kt=cr&&cr[je]!==void 0?X[$](on[je],cr[je]):X[$](on[je])),kt.onerror=Be;else for(var je=0;je<bt;++je)vt.push(kt=X[$](on[je])),kt.onerror=Be}var an=function(lr){var So=lr.target.result;vt.forEach(function(Xe,os){return Xe.error!=null&&(ne[os]=Xe.error)}),V({numFailures:dt,failures:ne,results:$==="delete"?k:vt.map(function(Xe){return Xe.result}),lastResult:So})};kt.onerror=function(lr){Be(lr),an(lr)},kt.onsuccess=an})}function I(P){var F=P.trans,$=P.values,k=P.query,L=P.reverse,O=P.unique;return new Promise(function(V,Y){V=Bt(V);var X=k.index,Q=k.range,J=F.objectStore(R),bt=X.isPrimaryKey?J:J.index(X.name),kt=L?O?"prevunique":"prev":O?"nextunique":"next",vt=$||!("openKeyCursor"in bt)?bt.openCursor(h(Q),kt):bt.openKeyCursor(h(Q),kt);vt.onerror=sr(Y),vt.onsuccess=Bt(function(ne){var dt=vt.result;if(!dt){V(null);return}dt.___id=++O_,dt.done=!1;var Be=dt.continue.bind(dt),Ge=dt.continuePrimaryKey;Ge&&(Ge=Ge.bind(dt));var on=dt.advance.bind(dt),cr=function(){throw new Error("Cursor not started")},je=function(){throw new Error("Cursor not stopped")};dt.trans=F,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=cr,dt.fail=Bt(Y),dt.next=function(){var an=this,lr=1;return this.start(function(){return lr--?an.continue():an.stop()}).then(function(){return an})},dt.start=function(an){var lr=new Promise(function(Xe,os){Xe=Bt(Xe),vt.onerror=sr(os),dt.fail=os,dt.stop=function(hx){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=je,Xe(hx)}}),So=function(){if(vt.result)try{an()}catch(Xe){dt.fail(Xe)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()};return vt.onsuccess=Bt(function(Xe){vt.onsuccess=So,So()}),dt.continue=Be,dt.continuePrimaryKey=Ge,dt.advance=on,So(),lr},V(dt)},Y)})}function D(P){return function(F){return new Promise(function($,k){$=Bt($);var L=F.trans,O=F.values,V=F.limit,Y=F.query,X=V===1/0?void 0:V,Q=Y.index,J=Y.range,bt=L.objectStore(R),kt=Q.isPrimaryKey?bt:bt.index(Q.name),vt=h(J);if(V===0)return $({result:[]});if(P){var ne=O?kt.getAll(vt,X):kt.getAllKeys(vt,X);ne.onsuccess=function(on){return $({result:on.target.result})},ne.onerror=sr(k)}else{var dt=0,Be=O||!("openKeyCursor"in kt)?kt.openCursor(vt):kt.openKeyCursor(vt),Ge=[];Be.onsuccess=function(on){var cr=Be.result;if(!cr)return $({result:Ge});if(Ge.push(O?cr.value:cr.primaryKey),++dt===V)return $({result:Ge});cr.continue()},Be.onerror=sr(k)}})}}return{name:R,schema:S,mutate:M,getMany:function(P){var F=P.trans,$=P.keys;return new Promise(function(k,L){k=Bt(k);for(var O=F.objectStore(R),V=$.length,Y=new Array(V),X=0,Q=0,J,bt=function(dt){var Be=dt.target;(Y[Be._pos]=Be.result)!=null,++Q===X&&k(Y)},kt=sr(L),vt=0;vt<V;++vt){var ne=$[vt];ne!=null&&(J=O.get($[vt]),J._pos=vt,J.onsuccess=bt,J.onerror=kt,++X)}X===0&&k(Y)})},get:function(P){var F=P.trans,$=P.key;return new Promise(function(k,L){k=Bt(k);var O=F.objectStore(R),V=O.get($);V.onsuccess=function(Y){return k(Y.target.result)},V.onerror=sr(L)})},query:D(_),openCursor:I,count:function(P){var F=P.query,$=P.trans,k=F.index,L=F.range;return new Promise(function(O,V){var Y=$.objectStore(R),X=k.isPrimaryKey?Y:Y.index(k.name),Q=h(L),J=Q?X.count(Q):X.count();J.onsuccess=Bt(function(bt){return O(bt.target.result)}),J.onerror=sr(V)})}}}var v=d(s,u),y=v.schema,_=v.hasGetAll,w=y.tables.map(function(S){return g(S)}),E={};return w.forEach(function(S){return E[S.name]=S}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(S){var R=E[S];if(!R)throw new Error("Table '".concat(S,"' not found"));return E[S]},MIN_KEY:-1/0,MAX_KEY:_o(c),schema:y}}function k_(s,c){return c.reduce(function(u,d){var h=d.create;return i(i({},u),h(u))},s)}function A_(s,c,u,d){var h=u.IDBKeyRange;u.indexedDB;var g=k_(I_(c,h,d),s.dbcore);return{dbcore:g}}function Rl(s,c){var u=c.db,d=A_(s._middlewares,u,s._deps,c);s.core=d.dbcore,s.tables.forEach(function(h){var g=h.name;s.core.schema.tables.some(function(v){return v.name===g})&&(h.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=h.core))})}function Za(s,c,u,d){u.forEach(function(h){var g=d[h];c.forEach(function(v){var y=et(v,h);(!y||"value"in y&&y.value===void 0)&&(v===s.Transaction.prototype||v instanceof s.Transaction?C(v,h,{get:function(){return this.table(h)},set:function(_){x(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new s.Table(h,g))})})}function Dl(s,c){c.forEach(function(u){for(var d in u)u[d]instanceof s.Table&&delete u[d]})}function T_(s,c){return s._cfg.version-c._cfg.version}function P_(s,c,u,d){var h=s._dbSchema,g=s._createTransaction("readwrite",s._storeNames,h);g.create(u),g._completion.catch(d);var v=g._reject.bind(g),y=Z.transless||Z;Xr(function(){Z.trans=g,Z.transless=y,c===0?(o(h).forEach(function(_){Ol(u,_,h[_].primKey,h[_].indexes)}),Rl(s,u),H.follow(function(){return s.on.populate.fire(g)}).catch(v)):M_(s,c,g,u).catch(v)})}function M_(s,c,u,d){var h=[],g=s._versions,v=s._dbSchema=kl(s,s.idbdb,d),y=!1,_=g.filter(function(E){return E._cfg.version>=c});_.forEach(function(E){h.push(function(){var S=v,R=E._cfg.dbschema;Al(s,S,d),Al(s,R,d),v=s._dbSchema=R;var M=Dh(S,R);M.add.forEach(function(k){Ol(d,k[0],k[1].primKey,k[1].indexes)}),M.change.forEach(function(k){if(k.recreate)throw new nt.Upgrade("Not yet support for changing primary key");var L=d.objectStore(k.name);k.add.forEach(function(O){return Il(L,O)}),k.change.forEach(function(O){L.deleteIndex(O.name),Il(L,O)}),k.del.forEach(function(O){return L.deleteIndex(O)})});var I=E._cfg.contentUpgrade;if(I&&E._cfg.version>c){Rl(s,d),u._memoizedTables={},y=!0;var D=di(R);M.del.forEach(function(k){D[k]=S[k]}),Dl(s,[s.Transaction.prototype]),Za(s,[s.Transaction.prototype],o(D),D),u.schema=D;var P=el(I);P&&vi();var F,$=H.follow(function(){if(F=I(u),F&&P){var k=Zr.bind(null,null);F.then(k,k)}});return F&&typeof F.then=="function"?H.resolve(F):$.then(function(){return F})}}),h.push(function(S){if(!y||!u_){var R=E._cfg.dbschema;F_(R,S)}Dl(s,[s.Transaction.prototype]),Za(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),u.schema=s._dbSchema})});function w(){return h.length?H.resolve(h.shift()(u.idbtrans)).then(w):H.resolve()}return w().then(function(){N_(v,d)})}function Dh(s,c){var u={del:[],add:[],change:[]},d;for(d in s)c[d]||u.del.push(d);for(d in c){var h=s[d],g=c[d];if(!h)u.add.push([d,g]);else{var v={name:d,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto&&!Wa)v.recreate=!0,u.change.push(v);else{var y=h.idxByName,_=g.idxByName,w=void 0;for(w in y)_[w]||v.del.push(w);for(w in _){var E=y[w],S=_[w];E?E.src!==S.src&&v.change.push(S):v.add.push(S)}(v.del.length>0||v.add.length>0||v.change.length>0)&&u.change.push(v)}}}return u}function Ol(s,c,u,d){var h=s.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(g){return Il(h,g)}),h}function N_(s,c){o(s).forEach(function(u){c.db.objectStoreNames.contains(u)||Ol(c,u,s[u].primKey,s[u].indexes)})}function F_(s,c){[].slice.call(c.db.objectStoreNames).forEach(function(u){return s[u]==null&&c.db.deleteObjectStore(u)})}function Il(s,c){s.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function kl(s,c,u){var d={},h=at(c.objectStoreNames,0);return h.forEach(function(g){for(var v=u.objectStore(g),y=v.keyPath,_=Sl(Sh(y),y||"",!0,!1,!!v.autoIncrement,y&&typeof y!="string",!0),w=[],E=0;E<v.indexNames.length;++E){var S=v.index(v.indexNames[E]);y=S.keyPath;var R=Sl(S.name,y,!!S.unique,!!S.multiEntry,!1,y&&typeof y!="string",!1);w.push(R)}d[g]=Eh(g,_,w)}),d}function $_(s,c,u){s.verno=c.version/10;var d=s._dbSchema=kl(s,c,u);s._storeNames=at(c.objectStoreNames,0),Za(s,[s._allTables],o(d),d)}function L_(s,c){var u=kl(s,s.idbdb,c),d=Dh(u,s._dbSchema);return!(d.add.length||d.change.some(function(h){return h.add.length||h.change.length}))}function Al(s,c,u){for(var d=u.db.objectStoreNames,h=0;h<d.length;++h){var g=d[h],v=u.objectStore(g);s._hasGetAll="getAll"in v;for(var y=0;y<v.indexNames.length;++y){var _=v.indexNames[y],w=v.index(_).keyPath,E=typeof w=="string"?w:"["+at(w).join("+")+"]";if(c[g]){var S=c[g].idxByName[E];S&&(S.name=_,delete c[g].idxByName[E],c[g].idxByName[_]=S)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function B_(s){return s.split(",").map(function(c,u){c=c.trim();var d=c.replace(/([&*]|\+\+)/g,""),h=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Sl(d,h||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),a(h),u===0)})}var j_=function(){function s(){}return s.prototype._parseStoresSpec=function(c,u){o(c).forEach(function(d){if(c[d]!==null){var h=B_(c[d]),g=h.shift();if(g.unique=!0,g.multi)throw new nt.Schema("Primary key cannot be multi-valued");h.forEach(function(v){if(v.auto)throw new nt.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new nt.Schema("Index must have a name and cannot be an empty string")}),u[d]=Eh(d,g,h)}})},s.prototype.stores=function(c){var u=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,c):c;var d=u._versions,h={},g={};return d.forEach(function(v){l(h,v._cfg.storesSource),g=v._cfg.dbschema={},v._parseStoresSpec(h,g)}),u._dbSchema=g,Dl(u,[u._allTables,u,u.Transaction.prototype]),Za(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],o(g),g),u._storeNames=o(g),this},s.prototype.upgrade=function(c){return this._cfg.contentUpgrade=ol(this._cfg.contentUpgrade||Tt,c),this},s}();function z_(s){return vo(j_.prototype,function(u){this.db=s,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Tl(s,c){var u=s._dbNamesDB;return u||(u=s._dbNamesDB=new Vn(Ha,{addons:[],indexedDB:s,IDBKeyRange:c}),u.version(1).stores({dbnames:"name"})),u.table("dbnames")}function Pl(s){return s&&typeof s.databases=="function"}function U_(s){var c=s.indexedDB,u=s.IDBKeyRange;return Pl(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==Ha})}):Tl(c,u).toCollection().primaryKeys()}function V_(s,c){var u=s.indexedDB,d=s.IDBKeyRange;!Pl(u)&&c!==Ha&&Tl(u,d).put({name:c}).catch(Tt)}function K_(s,c){var u=s.indexedDB,d=s.IDBKeyRange;!Pl(u)&&c!==Ha&&Tl(u,d).delete(c).catch(Tt)}function Ml(s){return Xr(function(){return Z.letThrough=!0,s()})}function W_(){var s=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!s||!indexedDB.databases)return Promise.resolve();var c;return new Promise(function(u){var d=function(){return indexedDB.databases().finally(u)};c=setInterval(d,100),d()}).finally(function(){return clearInterval(c)})}var Nl;function Fl(s){return!("from"in s)}var de=function(s,c){if(this)l(this,arguments.length?{d:1,from:s,to:arguments.length>1?c:s}:{d:0});else{var u=new de;return s&&"d"in s&&l(u,s),u}};b(de.prototype,(Nl={add:function(s){return Co(this,s),this},addKey:function(s){return wo(this,s,s),this},addKeys:function(s){var c=this;return s.forEach(function(u){return wo(c,u,u)}),this}},Nl[ce]=function(){return $l(this)},Nl));function wo(s,c,u){var d=St(c,u);if(!isNaN(d)){if(d>0)throw RangeError();if(Fl(s))return l(s,{from:c,to:u,d:1});var h=s.l,g=s.r;if(St(u,s.from)<0)return h?wo(h,c,u):s.l={from:c,to:u,d:1,l:null,r:null},Oh(s);if(St(c,s.to)>0)return g?wo(g,c,u):s.r={from:c,to:u,d:1,l:null,r:null},Oh(s);St(c,s.from)<0&&(s.from=c,s.l=null,s.d=g?g.d+1:1),St(u,s.to)>0&&(s.to=u,s.r=null,s.d=s.l?s.l.d+1:1);var v=!s.r;h&&!s.l&&Co(s,h),g&&v&&Co(s,g)}}function Co(s,c){function u(d,h){var g=h.from,v=h.to,y=h.l,_=h.r;wo(d,g,v),y&&u(d,y),_&&u(d,_)}Fl(c)||u(s,c)}function Ja(s,c){var u=$l(c),d=u.next();if(d.done)return!1;for(var h=d.value,g=$l(s),v=g.next(h.from),y=v.value;!d.done&&!v.done;){if(St(y.from,h.to)<=0&&St(y.to,h.from)>=0)return!0;St(h.from,y.from)<0?h=(d=u.next(y.from)).value:y=(v=g.next(h.from)).value}return!1}function $l(s){var c=Fl(s)?null:{s:0,n:s};return{next:function(u){for(var d=arguments.length>0;c;)switch(c.s){case 0:if(c.s=1,d)for(;c.n.l&&St(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!d||St(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Oh(s){var c,u,d=(((c=s.r)===null||c===void 0?void 0:c.d)||0)-(((u=s.l)===null||u===void 0?void 0:u.d)||0),h=d>1?"r":d<-1?"l":"";if(h){var g=h==="r"?"l":"r",v=i({},s),y=s[h];s.from=y.from,s.to=y.to,s[h]=y[h],v[h]=y[g],s[g]=v,v.d=Ih(v)}s.d=Ih(s)}function Ih(s){var c=s.r,u=s.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function ts(s,c){return o(c).forEach(function(u){s[u]?Co(s[u],c[u]):s[u]=Ma(c[u])}),s}function kh(s,c){return s.all||c.all||Object.keys(s).some(function(u){return c[u]&&Ja(c[u],s[u])})}var Un={},Ll={},Bl=!1;function es(s){ts(Ll,s),Bl||(Bl=!0,setTimeout(function(){Bl=!1;var c=Ll;Ll={},jl(c)},0))}function jl(s,c){c===void 0&&(c=!1);var u=new Set;if(s.all)for(var d=0,h=Object.values(Un);d<h.length;d++){var g=h[d];Ah(g,s,u,c)}else for(var v in s){var y=/^idb\:\/\/(.*)\/(.*)\//.exec(v);if(y){var _=y[1],w=y[2],g=Un["idb://".concat(_,"/").concat(w)];g&&Ah(g,s,u,c)}}u.forEach(function(E){return E()})}function Ah(s,c,u,d){for(var h=d&&[],g=0,v=Object.entries(s.queries.query);g<v.length;g++){for(var y=v[g],_=y[0],w=y[1],E=d&&[],S=0,R=w;S<R.length;S++){var M=R[S];M.obsSet&&kh(c,M.obsSet)?M.subscribers.forEach(function(F){return u.add(F)}):d&&E.push(M)}d&&h.push([_,E])}if(d)for(var I=0,D=h;I<D.length;I++){var P=D[I],_=P[0],E=P[1];s.queries.query[_]=E}}function H_(s){var c=s._state,u=s._deps.indexedDB;if(c.isBeingOpened||s.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Xt(c.dbOpenError):s});Ir&&(c.openCanceller._stackHolder=Nn()),c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var d=c.openCanceller;function h(){if(c.openCanceller!==d)throw new nt.DatabaseClosed("db.open() was cancelled")}var g=c.dbReadyResolve,v=null,y=!1,_=function(){return new H(function(w,E){if(h(),!u)throw new nt.MissingAPI;var S=s.name,R=c.autoSchema?u.open(S):u.open(S,Math.round(s.verno*10));if(!R)throw new nt.MissingAPI;R.onerror=sr(E),R.onblocked=Bt(s._fireOnBlocked),R.onupgradeneeded=Bt(function(M){if(v=R.transaction,c.autoSchema&&!s._options.allowEmptyDB){R.onerror=bo,v.abort(),R.result.close();var I=u.deleteDatabase(S);I.onsuccess=I.onerror=Bt(function(){E(new nt.NoSuchDatabase("Database ".concat(S," doesnt exist")))})}else{v.onerror=sr(E);var D=M.oldVersion>Math.pow(2,62)?0:M.oldVersion;y=D<1,s.idbdb=R.result,P_(s,D/10,v,E)}},E),R.onsuccess=Bt(function(){v=null;var M=s.idbdb=R.result,I=at(M.objectStoreNames);if(I.length>0)try{var D=M.transaction(R_(I),"readonly");c.autoSchema?$_(s,M,D):(Al(s,s._dbSchema,D),L_(s,D)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Rl(s,D)}catch{}bi.push(s),M.onversionchange=Bt(function(P){c.vcFired=!0,s.on("versionchange").fire(P)}),M.onclose=Bt(function(P){s.on("close").fire(P)}),y&&V_(s._deps,S),w()},E)}).catch(function(w){return w&&w.name==="UnknownError"&&c.PR1398_maxLoop>0?(c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_()):H.reject(w)})};return H.race([d,(typeof navigator>"u"?H.resolve():W_()).then(_)]).then(function(){return h(),c.onReadyBeingFired=[],H.resolve(Ml(function(){return s.on.ready.fire(s.vip)})).then(function w(){if(c.onReadyBeingFired.length>0){var E=c.onReadyBeingFired.reduce(ol,Tt);return c.onReadyBeingFired=[],H.resolve(Ml(function(){return E(s.vip)})).then(w)}})}).finally(function(){c.openCanceller===d&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(w){c.dbOpenError=w;try{v&&v.abort()}catch{}return d===c.openCanceller&&s._close(),Xt(w)}).finally(function(){c.openComplete=!0,g()}).then(function(){if(y){var w={};s.tables.forEach(function(E){E.schema.indexes.forEach(function(S){S.name&&(w["idb://".concat(s.name,"/").concat(E.name,"/").concat(S.name)]=new de(-1/0,[[[]]]))}),w["idb://".concat(s.name,"/").concat(E.name,"/")]=w["idb://".concat(s.name,"/").concat(E.name,"/:dels")]=new de(-1/0,[[[]]])}),en(yo).fire(w),jl(w,!0)}return s})}function zl(s){var c=function(v){return s.next(v)},u=function(v){return s.throw(v)},d=g(c),h=g(u);function g(v){return function(y){var _=v(y),w=_.value;return _.done?w:!w||typeof w.then!="function"?a(w)?Promise.all(w).then(d,h):d(w):w.then(d,h)}}return g(c)()}function q_(s,c,u){var d=arguments.length;if(d<2)throw new nt.InvalidArgument("Too few arguments");for(var h=new Array(d-1);--d;)h[d-1]=arguments[d];u=h.pop();var g=or(h);return[s,g,u]}function Th(s,c,u,d,h){return H.resolve().then(function(){var g=Z.transless||Z,v=s._createTransaction(c,u,s._dbSchema,d);v.explicit=!0;var y={trans:v,transless:g};if(d)v.idbtrans=d.idbtrans;else try{v.create(),s._state.PR1398_maxLoop=3}catch(S){return S.name===il.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s._close(),s.open().then(function(){return Th(s,c,u,null,h)})):Xt(S)}var _=el(h);_&&vi();var w,E=H.follow(function(){if(w=h.call(v,v),w)if(_){var S=Zr.bind(null,null);w.then(S,S)}else typeof w.next=="function"&&typeof w.throw=="function"&&(w=zl(w))},y);return(w&&typeof w.then=="function"?H.resolve(w).then(function(S){return v.active?S:Xt(new nt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):E.then(function(){return w})).then(function(S){return d&&v._resolve(),v._completion.then(function(){return S})}).catch(function(S){return v._reject(S),Xt(S)})})}function rs(s,c,u){for(var d=a(s)?s.slice():[s],h=0;h<u;++h)d.push(c);return d}function Y_(s){return i(i({},s),{table:function(c){var u=s.table(c),d=u.schema,h={},g=[];function v(D,P,F){var $=xo(D),k=h[$]=h[$]||[],L=D==null?0:typeof D=="string"?1:D.length,O=P>0,V=i(i({},F),{name:O?"".concat($,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:O,keyTail:P,keyLength:L,extractKey:El(D),unique:!O&&F.unique});if(k.push(V),V.isPrimaryKey||g.push(V),L>1){var Y=L===2?D[0]:D.slice(0,L-1);v(Y,P+1,F)}return k.sort(function(X,Q){return X.keyTail-Q.keyTail}),V}var y=v(d.primaryKey.keyPath,0,d.primaryKey);h[":id"]=[y];for(var _=0,w=d.indexes;_<w.length;_++){var E=w[_];v(E.keyPath,0,E)}function S(D){var P=h[xo(D)];return P&&P[0]}function R(D,P){return{type:D.type===1?2:D.type,lower:rs(D.lower,D.lowerOpen?s.MAX_KEY:s.MIN_KEY,P),lowerOpen:!0,upper:rs(D.upper,D.upperOpen?s.MIN_KEY:s.MAX_KEY,P),upperOpen:!0}}function M(D){var P=D.query.index;return P.isVirtual?i(i({},D),{query:{index:P.lowLevelIndex,range:R(D.query.range,P.keyTail)}}):D}var I=i(i({},u),{schema:i(i({},d),{primaryKey:y,indexes:g,getIndexByKeyPath:S}),count:function(D){return u.count(M(D))},query:function(D){return u.query(M(D))},openCursor:function(D){var P=D.query.index,F=P.keyTail,$=P.isVirtual,k=P.keyLength;if(!$)return u.openCursor(D);function L(O){function V(X){X!=null?O.continue(rs(X,D.reverse?s.MAX_KEY:s.MIN_KEY,F)):D.unique?O.continue(O.key.slice(0,k).concat(D.reverse?s.MIN_KEY:s.MAX_KEY,F)):O.continue()}var Y=Object.create(O,{continue:{value:V},continuePrimaryKey:{value:function(X,Q){O.continuePrimaryKey(rs(X,s.MAX_KEY,F),Q)}},primaryKey:{get:function(){return O.primaryKey}},key:{get:function(){var X=O.key;return k===1?X[0]:X.slice(0,k)}},value:{get:function(){return O.value}}});return Y}return u.openCursor(M(D)).then(function(O){return O&&L(O)})}});return I}})}var Q_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Y_};function Ul(s,c,u,d){return u=u||{},d=d||"",o(s).forEach(function(h){if(!p(c,h))u[d+h]=void 0;else{var g=s[h],v=c[h];if(typeof g=="object"&&typeof v=="object"&&g&&v){var y=lo(g),_=lo(v);y!==_?u[d+h]=c[h]:y==="Object"?Ul(g,v,u,d+h+"."):g!==v&&(u[d+h]=c[h])}else g!==v&&(u[d+h]=c[h])}}),o(c).forEach(function(h){p(s,h)||(u[d+h]=c[h])}),u}function Vl(s,c){return c.type==="delete"?c.keys:c.keys||c.values.map(s.extractKey)}var G_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return i(i({},s),{table:function(c){var u=s.table(c),d=u.schema.primaryKey,h=i(i({},u),{mutate:function(g){var v=Z.trans,y=v.table(c).hook,_=y.deleting,w=y.creating,E=y.updating;switch(g.type){case"add":if(w.fire===Tt)break;return v._promise("readwrite",function(){return S(g)},!0);case"put":if(w.fire===Tt&&E.fire===Tt)break;return v._promise("readwrite",function(){return S(g)},!0);case"delete":if(_.fire===Tt)break;return v._promise("readwrite",function(){return S(g)},!0);case"deleteRange":if(_.fire===Tt)break;return v._promise("readwrite",function(){return R(g)},!0)}return u.mutate(g);function S(I){var D=Z.trans,P=I.keys||Vl(d,I);if(!P)throw new Error("Keys missing");return I=I.type==="add"||I.type==="put"?i(i({},I),{keys:P}):i({},I),I.type!=="delete"&&(I.values=r([],I.values,!0)),I.keys&&(I.keys=r([],I.keys,!0)),X_(u,I,P).then(function(F){var $=P.map(function(k,L){var O=F[L],V={onerror:null,onsuccess:null};if(I.type==="delete")_.fire.call(V,k,O,D);else if(I.type==="add"||O===void 0){var Y=w.fire.call(V,k,I.values[L],D);k==null&&Y!=null&&(k=Y,I.keys[L]=k,d.outbound||Pt(I.values[L],d.keyPath,k))}else{var X=Ul(O,I.values[L]),Q=E.fire.call(V,X,k,O,D);if(Q){var J=I.values[L];Object.keys(Q).forEach(function(bt){p(J,bt)?J[bt]=Q[bt]:Pt(J,bt,Q[bt])})}}return V});return u.mutate(I).then(function(k){for(var L=k.failures,O=k.results,V=k.numFailures,Y=k.lastResult,X=0;X<P.length;++X){var Q=O?O[X]:P[X],J=$[X];Q==null?J.onerror&&J.onerror(L[X]):J.onsuccess&&J.onsuccess(I.type==="put"&&F[X]?I.values[X]:Q)}return{failures:L,results:O,numFailures:V,lastResult:Y}}).catch(function(k){return $.forEach(function(L){return L.onerror&&L.onerror(k)}),Promise.reject(k)})})}function R(I){return M(I.trans,I.range,1e4)}function M(I,D,P){return u.query({trans:I,values:!1,query:{index:d,range:D},limit:P}).then(function(F){var $=F.result;return S({type:"delete",keys:$,trans:I}).then(function(k){return k.numFailures>0?Promise.reject(k.failures[0]):$.length<P?{failures:[],numFailures:0,lastResult:void 0}:M(I,i(i({},D),{lower:$[$.length-1],lowerOpen:!0}),P)})})}}});return h}})}};function X_(s,c,u){return c.type==="add"?Promise.resolve([]):s.getMany({trans:c.trans,keys:u,cache:"immutable"})}function Ph(s,c,u){try{if(!c||c.keys.length<s.length)return null;for(var d=[],h=0,g=0;h<c.keys.length&&g<s.length;++h)St(c.keys[h],s[g])===0&&(d.push(u?Ae(c.values[h]):c.values[h]),++g);return d.length===s.length?d:null}catch{return null}}var Z_={stack:"dbcore",level:-1,create:function(s){return{table:function(c){var u=s.table(c);return i(i({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var h=Ph(d.keys,d.trans._cache,d.cache==="clone");return h?H.resolve(h):u.getMany(d).then(function(g){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?Ae(g):g},g})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function Mh(s,c){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Nh(s,c){switch(s){case"query":return c.values&&!c.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var J_={stack:"dbcore",level:0,name:"Observability",create:function(s){var c=s.schema.name,u=new de(s.MIN_KEY,s.MAX_KEY);return i(i({},s),{transaction:function(d,h,g){if(Z.subscr&&h!=="readonly")throw new nt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Z.querier));return s.transaction(d,h,g)},table:function(d){var h=s.table(d),g=h.schema,v=g.primaryKey,y=v.extractKey,_=v.outbound,w=i(i({},h),{mutate:function(R){var M=R.trans,I=R.mutatedParts||(R.mutatedParts={}),D=function(Q){var J="idb://".concat(c,"/").concat(d,"/").concat(Q);return I[J]||(I[J]=new de)},P=D(""),F=D(":dels"),$=R.type,k=R.type==="deleteRange"?[R.range]:R.type==="delete"?[R.keys]:R.values.length<50?[Vl(v,R).filter(function(Q){return Q}),R.values]:[],L=k[0],O=k[1],V=R.trans._cache;if(a(L)){P.addKeys(L);var Y=$==="delete"||L.length===O.length?Ph(L,V):null;!Y&&$!=="add"&&F.addKeys(L),(Y||O)&&tx(D,g,Y,O)}else if(L){var X={from:L.lower,to:L.upper};F.add(X),P.add(X)}else P.add(u),F.add(u),g.indexes.forEach(function(Q){return D(Q.name).add(u)});return h.mutate(R).then(function(Q){return L&&(R.type==="add"||R.type==="put")&&P.addKeys(Q.results),M.mutatedParts=ts(M.mutatedParts||{},I),Q})}}),E=function(R){var M,I,D=R.query,P=D.index,F=D.range;return[P,new de((M=F.lower)!==null&&M!==void 0?M:s.MIN_KEY,(I=F.upper)!==null&&I!==void 0?I:s.MAX_KEY)]},S={get:function(R){return[v,new de(R.key)]},getMany:function(R){return[v,new de().addKeys(R.keys)]},count:E,query:E,openCursor:E};return o(S).forEach(function(R){w[R]=function(M){var I=Z.subscr,D=!!I,P=Mh(Z,h)&&Nh(R,M),F=P?M.obsSet={}:I;if(D){var $=function(Q){var J="idb://".concat(c,"/").concat(d,"/").concat(Q);return F[J]||(F[J]=new de)},k=$(""),L=$(":dels"),O=S[R](M),V=O[0],Y=O[1];if($(V.name||"").add(Y),!V.isPrimaryKey)if(R==="count")L.add(u);else{var X=R==="query"&&_&&M.values&&h.query(i(i({},M),{values:!1}));return h[R].apply(this,arguments).then(function(Q){if(R==="query"){if(_&&M.values)return X.then(function(vt){var ne=vt.result;return k.addKeys(ne),Q});var J=M.values?Q.result.map(y):Q.result;M.values?k.addKeys(J):L.addKeys(J)}else if(R==="openCursor"){var bt=Q,kt=M.values;return bt&&Object.create(bt,{key:{get:function(){return L.addKey(bt.primaryKey),bt.key}},primaryKey:{get:function(){var vt=bt.primaryKey;return L.addKey(vt),vt}},value:{get:function(){return kt&&k.addKey(bt.primaryKey),bt.value}}})}return Q})}}return h[R].apply(this,arguments)}}),w}})}};function tx(s,c,u,d){function h(g){var v=s(g.name||"");function y(w){return w!=null?g.extractKey(w):null}var _=function(w){return g.multiEntry&&a(w)?w.forEach(function(E){return v.addKey(E)}):v.addKey(w)};(u||d).forEach(function(w,E){var S=u&&y(u[E]),R=d&&y(d[E]);St(S,R)!==0&&(S!=null&&_(S),R!=null&&_(R))})}c.indexes.forEach(h)}function Fh(s,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var d=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;if(u.numFailures===d)return null;var h=i({},c);return a(h.keys)&&(h.keys=h.keys.filter(function(g,v){return!(v in u.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(g,v){return!(v in u.failures)})),h}function ex(s,c){return c.lower===void 0?!0:c.lowerOpen?St(s,c.lower)>0:St(s,c.lower)>=0}function rx(s,c){return c.upper===void 0?!0:c.upperOpen?St(s,c.upper)<0:St(s,c.upper)<=0}function Kl(s,c){return ex(s,c)&&rx(s,c)}function $h(s,c,u,d,h,g){if(!u||u.length===0)return s;var v=c.query.index,y=v.multiEntry,_=c.query.range,w=d.schema.primaryKey,E=w.extractKey,S=v.extractKey,R=(v.lowLevelIndex||v).extractKey,M=u.reduce(function(I,D){var P=I,F=D.type==="add"||D.type==="put"?D.values.filter(function(O){var V=S(O);return y&&a(V)?V.some(function(Y){return Kl(Y,_)}):Kl(V,_)}).map(function(O){return O=Ae(O),g&&Object.freeze(O),O}):[];switch(D.type){case"add":P=I.concat(c.values?F:F.map(function(O){return E(O)}));break;case"put":var $=new de().addKeys(D.values.map(function(O){return E(O)}));P=I.filter(function(O){var V=c.values?E(O):O;return!Ja(new de(V),$)}).concat(c.values?F:F.map(function(O){return E(O)}));break;case"delete":var k=new de().addKeys(D.keys);P=I.filter(function(O){var V=c.values?E(O):O;return!Ja(new de(V),k)});break;case"deleteRange":var L=D.range;P=I.filter(function(O){return!Kl(E(O),L)});break}return P},s);return M===s?s:(M.sort(function(I,D){return St(R(I),R(D))||St(E(I),E(D))}),c.limit&&c.limit<1/0&&(M.length>c.limit?M.length=c.limit:s.length===c.limit&&M.length<c.limit&&(h.dirty=!0)),g?Object.freeze(M):M)}function Lh(s,c){return St(s.lower,c.lower)===0&&St(s.upper,c.upper)===0&&!!s.lowerOpen==!!c.lowerOpen&&!!s.upperOpen==!!c.upperOpen}function nx(s,c,u,d){if(s===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;var h=St(s,c);if(h===0){if(u&&d)return 0;if(u)return 1;if(d)return-1}return h}function ix(s,c,u,d){if(s===void 0)return c!==void 0?1:0;if(c===void 0)return-1;var h=St(s,c);if(h===0){if(u&&d)return 0;if(u)return-1;if(d)return 1}return h}function ox(s,c){return nx(s.lower,c.lower,s.lowerOpen,c.lowerOpen)<=0&&ix(s.upper,c.upper,s.upperOpen,c.upperOpen)>=0}function ax(s,c,u,d){var h=Un["idb://".concat(s,"/").concat(c)];if(!h)return[];var g=h.queries[u];if(!g)return[null,!1,h,null];var v=d.query?d.query.index.name:null,y=g[v||""];if(!y)return[null,!1,h,null];switch(u){case"query":var _=y.find(function(S){return S.req.limit===d.limit&&S.req.values===d.values&&Lh(S.req.query.range,d.query.range)});if(_)return[_,!0,h,y];var w=y.find(function(S){var R="limit"in S.req?S.req.limit:1/0;return R>=d.limit&&(d.values?S.req.values:!0)&&ox(S.req.query.range,d.query.range)});return[w,!1,h,y];case"count":var E=y.find(function(S){return Lh(S.req.query.range,d.query.range)});return[E,!!E,h,y]}}function sx(s,c,u,d){s.subscribers.add(u),d.addEventListener("abort",function(){s.subscribers.delete(u),s.subscribers.size===0&&cx(s,c)})}function cx(s,c){setTimeout(function(){s.subscribers.size===0&&Qe(c,s)},3e3)}var lx={stack:"dbcore",level:0,name:"Cache",create:function(s){var c=s.schema.name,u=i(i({},s),{transaction:function(d,h,g){var v=s.transaction(d,h,g);if(h==="readwrite"){var y=new AbortController,_=y.signal,w=function(E){return function(){if(y.abort(),h==="readwrite"){for(var S=new Set,R=0,M=d;R<M.length;R++){var I=M[R],D=Un["idb://".concat(c,"/").concat(I)],P=s.table(I);if(D){var F=D.optimisticOps.filter(function(J){return J.trans===v});if(F.length>0){D.optimisticOps=D.optimisticOps.filter(function(J){return J.trans!==v});for(var $=0,k=Object.values(D.queries.query);$<k.length;$++)for(var L=k[$],O=0,V=L.slice();O<V.length;O++){var Y=V[O];if(Y.res!=null&&v.mutatedParts)if(E&&!Y.dirty){var X=Object.isFrozen(Y.res),Q=$h(Y.res,Y.req,F,P,Y,X);Y.dirty?(Qe(L,Y),Y.subscribers.forEach(function(J){return S.add(J)})):Q!==Y.res&&(Y.res=Q,Y.promise=H.resolve({result:Q}))}else Y.dirty&&Qe(L,Y),Y.subscribers.forEach(function(J){return S.add(J)})}}}}S.forEach(function(J){return J()})}}};v.addEventListener("abort",w(!1),{signal:_}),v.addEventListener("error",w(!1),{signal:_}),v.addEventListener("complete",w(!0),{signal:_})}return v},table:function(d){var h=s.table(d),g=h.schema.primaryKey,v=i(i({},h),{mutate:function(y){if(g.outbound||Z.trans.db._options.cache==="disabled")return h.mutate(y);var _=Un["idb://".concat(c,"/").concat(d)];if(!_)return h.mutate(y);var w=h.mutate(y);return(y.type==="add"||y.type==="put")&&(y.values.length>=50||Vl(g,y).some(function(E){return E==null}))?w.then(function(E){var S=i(i({},y),{values:y.values.map(function(M,I){var D=g.keyPath.includes(".")?Ae(M):i({},M);return Pt(D,g.keyPath,E.results[I]),D})}),R=Fh(_,S,E);_.optimisticOps.push(R),queueMicrotask(function(){return es(y.mutatedParts)})}):(_.optimisticOps.push(y),es(y.mutatedParts),w.then(function(E){if(E.numFailures>0){Qe(_.optimisticOps,y);var S=Fh(_,y,E);S&&_.optimisticOps.push(S),es(y.mutatedParts)}}),w.catch(function(){Qe(_.optimisticOps,y),es(y.mutatedParts)})),w},query:function(y){if(!Mh(Z,h)||!Nh("query",y))return h.query(y);var _=Z.trans.db._options.cache==="immutable",w=Z,E=w.requery,S=w.signal,R=ax(c,d,"query",y),M=R[0],I=R[1],D=R[2],P=R[3];if(M&&I)M.obsSet=y.obsSet;else{var F=h.query(y).then(function($){var k=$.result;if(M.res=k,_){for(var L=0,O=k.length;L<O;++L)Object.freeze(k[L]);Object.freeze(k)}else $.result=Ae(k);return $}).catch(function($){return P&&M&&Qe(P,M),Promise.reject($)});M={obsSet:y.obsSet,promise:F,subscribers:new Set,type:"query",req:y,dirty:!1},P?P.push(M):(P=[M],D||(D=Un["idb://".concat(c,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),D.queries.query[y.query.index.name||""]=P)}return sx(M,P,E,S),M.promise.then(function($){return{result:$h($.result,y,D?.optimisticOps,h,M,_)}})}});return v}});return u}};function ns(s,c){return new Proxy(s,{get:function(u,d,h){return d==="db"?c:Reflect.get(u,d,h)}})}var Vn=function(){function s(c,u){var d=this;this._middlewares={},this.verno=0;var h=s.dependencies;this._options=u=i({addons:s.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange};var g=u.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};v.dbReadyPromise=new H(function(_){v.dbReadyResolve=_}),v.openCanceller=new H(function(_,w){v.cancelOpen=w}),this._state=v,this.name=c,this.on=go(this,"populate","blocked","versionchange","close",{ready:[ol,Tt]}),this.on.ready.subscribe=pt(this.on.ready.subscribe,function(_){return function(w,E){s.vip(function(){var S=d._state;if(S.openComplete)S.dbOpenError||H.resolve().then(w),E&&_(w);else if(S.onReadyBeingFired)S.onReadyBeingFired.push(w),E&&_(w);else{_(w);var R=d;E||_(function M(){R.on.ready.unsubscribe(w),R.on.ready.unsubscribe(M)})}})}}),this.Collection=v_(this),this.Table=m_(this),this.Transaction=E_(this),this.Version=z_(this),this.WhereClause=C_(this),this.on("versionchange",function(_){_.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1}),d._state.openComplete=!1}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=_o(u.IDBKeyRange),this._createTransaction=function(_,w,E,S){return new d.Transaction(_,w,E,d._options.chromeTransactionDurability,S)},this._fireOnBlocked=function(_){d.on("blocked").fire(_),bi.filter(function(w){return w.name===d.name&&w!==d&&!w._state.vcFired}).map(function(w){return w.on("versionchange").fire(_)})},this.use(Z_),this.use(lx),this.use(J_),this.use(Q_),this.use(G_);var y=new Proxy(this,{get:function(_,w,E){if(w==="_vip")return!0;if(w==="table")return function(R){return ns(d.table(R),y)};var S=Reflect.get(_,w,E);return S instanceof yh?ns(S,y):w==="tables"?S.map(function(R){return ns(R,y)}):w==="_createTransaction"?function(){var R=S.apply(this,arguments);return ns(R,y)}:S}});this.vip=y,g.forEach(function(_){return _(d)})}return s.prototype.version=function(c){if(isNaN(c)||c<.1)throw new nt.Type("Given version is not a positive number");if(c=Math.round(c*10)/10,this.idbdb||this._state.isBeingOpened)throw new nt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var u=this._versions,d=u.filter(function(h){return h._cfg.version===c})[0];return d||(d=new this.Version(c),u.push(d),u.sort(T_),d.stores({}),this._state.autoSchema=!1,d)},s.prototype._whenReady=function(c){var u=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?c():new H(function(d,h){if(u._state.openComplete)return h(new nt.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._options.autoOpen){h(new nt.DatabaseClosed);return}u.open().catch(Tt)}u._state.dbReadyPromise.then(d,h)}).then(c)},s.prototype.use=function(c){var u=c.stack,d=c.create,h=c.level,g=c.name;g&&this.unuse({stack:u,name:g});var v=this._middlewares[u]||(this._middlewares[u]=[]);return v.push({stack:u,create:d,level:h??10,name:g}),v.sort(function(y,_){return y.level-_.level}),this},s.prototype.unuse=function(c){var u=c.stack,d=c.name,h=c.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(g){return h?g.create!==h:d?g.name!==d:!1})),this},s.prototype.open=function(){var c=this;return Bn(Gr,function(){return H_(c)})},s.prototype._close=function(){var c=this._state,u=bi.indexOf(this);if(u>=0&&bi.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.dbReadyPromise=new H(function(d){c.dbReadyResolve=d}),c.openCanceller=new H(function(d,h){c.cancelOpen=h})},s.prototype.close=function(c){var u=c===void 0?{disableAutoOpen:!0}:c,d=u.disableAutoOpen;this._close();var h=this._state;d&&(this._options.autoOpen=!1),h.dbOpenError=new nt.DatabaseClosed,h.isBeingOpened&&h.cancelOpen(h.dbOpenError)},s.prototype.delete=function(){var c=this,u=arguments.length>0,d=this._state;return new H(function(h,g){var v=function(){c.close({disableAutoOpen:!1});var y=c._deps.indexedDB.deleteDatabase(c.name);y.onsuccess=Bt(function(){K_(c._deps,c.name),h()}),y.onerror=sr(g),y.onblocked=c._fireOnBlocked};if(u)throw new nt.InvalidArgument("Arguments not allowed in db.delete()");d.isBeingOpened?d.dbReadyPromise.then(v):v()})},s.prototype.backendDB=function(){return this.idbdb},s.prototype.isOpen=function(){return this.idbdb!==null},s.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},s.prototype.hasFailed=function(){return this._state.dbOpenError!==null},s.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(s.prototype,"tables",{get:function(){var c=this;return o(this._allTables).map(function(u){return c._allTables[u]})},enumerable:!1,configurable:!0}),s.prototype.transaction=function(){var c=q_.apply(this,arguments);return this._transaction.apply(this,c)},s.prototype._transaction=function(c,u,d){var h=this,g=Z.trans;(!g||g.db!==this||c.indexOf("!")!==-1)&&(g=null);var v=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");var y,_;try{if(_=u.map(function(E){var S=E instanceof h.Table?E.name:E;if(typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),c=="r"||c===yl)y=yl;else if(c=="rw"||c==_l)y=_l;else throw new nt.InvalidArgument("Invalid transaction mode: "+c);if(g){if(g.mode===yl&&y===_l)if(v)g=null;else throw new nt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g&&_.forEach(function(E){if(g&&g.storeNames.indexOf(E)===-1)if(v)g=null;else throw new nt.SubTransaction("Table "+E+" not included in parent transaction.")}),v&&g&&!g.active&&(g=null)}}catch(E){return g?g._promise(null,function(S,R){R(E)}):Xt(E)}var w=Th.bind(null,this,y,_,g,d);return g?g._promise(y,w,"lock"):Z.trans?Bn(Z.transless,function(){return h._whenReady(w)}):this._whenReady(w)},s.prototype.table=function(c){if(!p(this._allTables,c))throw new nt.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},s}(),ux=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",dx=function(){function s(c){this._subscribe=c}return s.prototype.subscribe=function(c,u,d){return this._subscribe(!c||typeof c=="function"?{next:c,error:u,complete:d}:c)},s.prototype[ux]=function(){return this},s}(),is;try{is={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch{is={indexedDB:null,IDBKeyRange:null}}function Bh(s){var c=!1,u,d=new dx(function(h){var g=el(s);function v(F){var $=pi();try{g&&vi();var k=Xr(s,F);return g&&(k=k.finally(Zr)),k}finally{$&&gi()}}var y=!1,_,w={},E={},S={get closed(){return y},unsubscribe:function(){y||(y=!0,_&&_.abort(),R&&en.storagemutated.unsubscribe(D))}};h.start&&h.start(S);var R=!1,M=function(){return gl(P)};function I(){return kh(E,w)}var D=function(F){ts(w,F),I()&&M()},P=function(){if(!(y||!is.indexedDB)){w={};var F={};_&&_.abort(),_=new AbortController;var $={subscr:F,signal:_.signal,requery:M,querier:s,trans:null},k=v($);Promise.resolve(k).then(function(L){c=!0,u=L,!(y||$.signal.aborted)&&(w={},E=F,!tl(E)&&!R&&(en(yo,D),R=!0),gl(function(){return!y&&h.next&&h.next(L)}))},function(L){c=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||y||gl(function(){y||h.error&&h.error(L)})})}};return setTimeout(M,0),S});return d.hasValue=function(){return c},d.getValue=function(){return u},d}var Kn=Vn;b(Kn,i(i({},Fa),{delete:function(s){var c=new Kn(s,{addons:[]});return c.delete()},exists:function(s){return new Kn(s,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return U_(Kn.dependencies).then(s)}catch{return Xt(new nt.MissingAPI)}},defineClass:function(){function s(c){l(this,c)}return s},ignoreTransaction:function(s){return Z.trans?Bn(Z.transless,s):s()},vip:Ml,async:function(s){return function(){try{var c=zl(s.apply(this,arguments));return!c||typeof c.then!="function"?H.resolve(c):c}catch(u){return Xt(u)}}},spawn:function(s,c,u){try{var d=zl(s.apply(u,c||[]));return!d||typeof d.then!="function"?H.resolve(d):d}catch(h){return Xt(h)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(s,c){var u=H.resolve(typeof s=="function"?Kn.ignoreTransaction(s):s).timeout(c||6e4);return Z.trans?Z.trans.waitFor(u):u},Promise:H,debug:{get:function(){return Ir},set:function(s){Xf(s,s==="dexie"?function(){return!0}:mh)}},derive:N,extend:l,props:b,override:pt,Events:go,on:en,liveQuery:Bh,extendObservabilitySet:ts,getByKeyPath:xt,setByKeyPath:Pt,delByKeyPath:Dr,shallowClone:di,deepClone:Ae,getObjectDiff:Ul,cmp:St,asap:gt,minKey:bl,addons:[],connections:bi,errnames:il,dependencies:is,cache:Un,semVer:fh,version:fh.split(".").map(function(s){return parseInt(s)}).reduce(function(s,c,u){return s+c/Math.pow(10,u*2)})})),Kn.maxKey=_o(Kn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(en(yo,function(s){if(!rn){var c;Wa?(c=document.createEvent("CustomEvent"),c.initCustomEvent(Xa,!0,!0,s)):c=new CustomEvent(Xa,{detail:s}),rn=!0,dispatchEvent(c),rn=!1}}),addEventListener(Xa,function(s){var c=s.detail;rn||Wl(c)}));function Wl(s){var c=rn;try{rn=!0,en.storagemutated.fire(s),jl(s,!0)}finally{rn=c}}var rn=!1,nn,Hl=function(){};typeof BroadcastChannel<"u"&&(Hl=function(){nn=new BroadcastChannel(Xa),nn.onmessage=function(s){return s.data&&Wl(s.data)}},Hl(),typeof nn.unref=="function"&&nn.unref(),en(yo,function(s){rn||nn.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){s.persisted&&nn?.close();for(var c=0,u=bi;c<u.length;c++){var d=u[c];d.close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){s.persisted&&(Hl(),Wl({all:new de(-1/0,[[]])}))})),H.rejectionMapper=Ky,Xf(Ir,mh);var fx=Object.freeze({__proto__:null,Dexie:Vn,liveQuery:Bh,Entity:gh,cmp:St,default:Vn,RangeSet:de,mergeRanges:Co,rangesOverlap:Ja});return i(Vn,fx,{default:Vn}),Vn})});var Mo=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Fr=class extends Mo{constructor(t,i,r,n,o){super(),this.component=t,this.viewContainerRef=i,this.injector=r,this.componentFactoryResolver=n,this.projectableNodes=o}},mr=class extends Mo{constructor(t,i,r,n){super(),this.templateRef=t,this.viewContainerRef=i,this.context=r,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},cu=class extends Mo{constructor(t){super(),this.element=t instanceof qt?t.nativeElement:t}},fn=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Fr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof mr)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof cu)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ys=class extends fn{constructor(t,i,r,n,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=r,this._defaultInjector=n,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let f=this._document.createComment("dom-portal");l.parentNode.insertBefore(f,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=o}attachComponentPortal(t){let r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=r.create(t.injector||this._defaultInjector||Yt.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let i=t.viewContainerRef,r=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(n=>this.outletElement.appendChild(n)),r.detectChanges(),this.setDisposeFn(()=>{let n=i.indexOf(r);n!==-1&&i.remove(n)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var iD=(()=>{let t=class t extends mr{constructor(r,n){super(r,n)}};t.\u0275fac=function(n){return new(n||t)(q(Pr),q(un))},t.\u0275dir=Ut({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[ue]});let e=t;return e})();var hn=(()=>{let t=class t extends fn{constructor(r,n,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new me,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let f=this._document.createComment("dom-portal");a.setAttachedHost(this),l.parentNode.insertBefore(f,l),this._getRootNode().appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let n=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,a=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),l=n.createComponent(a,n.length,r.injector||n.injector,r.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=r,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(r){r.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};t.\u0275fac=function(n){return new(n||t)(q(ds),q(un),q(Qt))},t.\u0275dir=Ut({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ht.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ue]});let e=t;return e})();var $r=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({});let e=t;return e})();var Mm=["mat-button",""],Nm=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Fm=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],bx='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',$m=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var yx=["mat-icon-button",""],_x=["*"];var xx=new mt("MAT_BUTTON_CONFIG");var wx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],uu=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,n,o,a){this._elementRef=r,this._platform=n,this._ngZone=o,this._animationMode=a,this._focusMonitor=G(Ti),this._rippleLoader=G(Am),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=G(xx,{optional:!0}),f=r.nativeElement,m=f.classList;this.disabledInteractive=l?.disabledInteractive??!1,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(let{attribute:p,mdcClasses:b}of wx)f.hasAttribute(p)&&m.add(...b)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",n){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(n){Io()},t.\u0275dir=Ut({type:t,inputs:{color:"color",disableRipple:[ht.HasDecoratorInputTransform,"disableRipple","disableRipple",pe],disabled:[ht.HasDecoratorInputTransform,"disabled","disabled",pe],ariaDisabled:[ht.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",pe],disabledInteractive:[ht.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",pe]},features:[dn]});let e=t;return e})();var Cx=(()=>{let t=class t extends uu{constructor(r,n,o,a){super(r,n,o,a),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(n){Io()},t.\u0275dir=Ut({type:t,inputs:{tabIndex:[ht.HasDecoratorInputTransform,"tabIndex","tabIndex",r=>r==null?void 0:mm(r)]},features:[dn,ue]});let e=t;return e})(),Lm=(()=>{let t=class t extends uu{constructor(r,n,o,a){super(r,n,o,a)}};t.\u0275fac=function(n){return new(n||t)(q(qt),q(ye),q(jt),q(Ar,8))},t.\u0275cmp=Se({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Me("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),hs(o.color?"mat-"+o.color:""),fr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ue,Ee],attrs:Mm,ngContentSelectors:Fm,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(ko(Nm),Ve(0,"span",0),Mr(1),hr(2,"span",1),Mr(3,1),Je(),Mr(4,2),Ve(5,"span",2)(6,"span",3)),n&2&&fr("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),vD=(()=>{let t=class t extends Cx{constructor(r,n,o,a){super(r,n,o,a)}};t.\u0275fac=function(n){return new(n||t)(q(qt),q(ye),q(jt),q(Ar,8))},t.\u0275cmp=Se({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Me("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),hs(o.color?"mat-"+o.color:""),fr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[ue,Ee],attrs:Mm,ngContentSelectors:Fm,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(ko(Nm),Ve(0,"span",0),Mr(1),hr(2,"span",1),Mr(3,1),Je(),Mr(4,2),Ve(5,"span",2)(6,"span",3)),n&2&&fr("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[bx,$m],encapsulation:2,changeDetection:0});let e=t;return e})();var bD=(()=>{let t=class t extends uu{constructor(r,n,o,a){super(r,n,o,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(n){return new(n||t)(q(qt),q(ye),q(jt),q(Ar,8))},t.\u0275cmp=Se({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Me("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),hs(o.color?"mat-"+o.color:""),fr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ue,Ee],attrs:yx,ngContentSelectors:_x,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(ko(),Ve(0,"span",0),Mr(1),Ve(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',$m],encapsulation:2,changeDetection:0});let e=t;return e})();var Bm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({imports:[Nr,km,Nr]});let e=t;return e})();var ut="primary",Qo=Symbol("RouteTitle"),pu=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Li(e){return new pu(e)}function Sx(e,t,i){let r=i.path.split("/");if(r.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let n={};for(let o=0;o<r.length;o++){let a=r[o],l=e[o];if(a.startsWith(":"))n[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:n}}function Ex(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!gr(e[i],t[i]))return!1;return!0}function gr(e,t){let i=e?gu(e):void 0,r=t?gu(t):void 0;if(!i||!r||i.length!=r.length)return!1;let n;for(let o=0;o<i.length;o++)if(n=i[o],!Qm(e[n],t[n]))return!1;return!0}function gu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Qm(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),r=[...t].sort();return i.every((n,o)=>r[o]===n)}else return e===t}function Gm(e){return e.length>0?e[e.length-1]:null}function bn(e){return xi(e)?e:fm(e)?he(Promise.resolve(e)):tt(e)}var Rx={exact:Zm,subset:Jm},Xm={exact:Dx,subset:Ox,ignored:()=>!0};function jm(e,t,i){return Rx[i.paths](e.root,t.root,i.matrixParams)&&Xm[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function Dx(e,t){return gr(e,t)}function Zm(e,t,i){if(!Jn(e.segments,t.segments)||!ws(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Zm(e.children[r],t.children[r],i))return!1;return!0}function Ox(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>Qm(e[i],t[i]))}function Jm(e,t,i){return tp(e,t,t.segments,i)}function tp(e,t,i,r){if(e.segments.length>i.length){let n=e.segments.slice(0,i.length);return!(!Jn(n,i)||t.hasChildren()||!ws(n,i,r))}else if(e.segments.length===i.length){if(!Jn(e.segments,i)||!ws(e.segments,i,r))return!1;for(let n in t.children)if(!e.children[n]||!Jm(e.children[n],t.children[n],r))return!1;return!0}else{let n=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!Jn(e.segments,n)||!ws(e.segments,n,r)||!e.children[ut]?!1:tp(e.children[ut],t,o,r)}}function ws(e,t,i){return t.every((r,n)=>Xm[i](e[n].parameters,r.parameters))}var mn=class{constructor(t=new Rt([],{}),i={},r=null){this.root=t,this.queryParams=i,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return Ax.serialize(this)}},Rt=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cs(this)}},Zn=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return rp(this)}};function Ix(e,t){return Jn(e,t)&&e.every((i,r)=>gr(i.parameters,t[r].parameters))}function Jn(e,t){return e.length!==t.length?!1:e.every((i,r)=>i.path===t[r].path)}function kx(e,t){let i=[];return Object.entries(e.children).forEach(([r,n])=>{r===ut&&(i=i.concat(t(n,r)))}),Object.entries(e.children).forEach(([r,n])=>{r!==ut&&(i=i.concat(t(n,r)))}),i}var Go=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:()=>new zo,providedIn:"root"});let e=t;return e})(),zo=class{parse(t){let i=new bu(t);return new mn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${No(t.root,!0)}`,r=Mx(t.queryParams),n=typeof t.fragment=="string"?`#${Tx(t.fragment)}`:"";return`${i}${r}${n}`}},Ax=new zo;function Cs(e){return e.segments.map(t=>rp(t)).join("/")}function No(e,t){if(!e.hasChildren())return Cs(e);if(t){let i=e.children[ut]?No(e.children[ut],!1):"",r=[];return Object.entries(e.children).forEach(([n,o])=>{n!==ut&&r.push(`${n}:${No(o,!1)}`)}),r.length>0?`${i}(${r.join("//")})`:i}else{let i=kx(e,(r,n)=>n===ut?[No(e.children[ut],!1)]:[`${n}:${No(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ut]!=null?`${Cs(e)}/${i[0]}`:`${Cs(e)}/(${i.join("//")})`}}function ep(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _s(e){return ep(e).replace(/%3B/gi,";")}function Tx(e){return encodeURI(e)}function vu(e){return ep(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ss(e){return decodeURIComponent(e)}function zm(e){return Ss(e.replace(/\+/g,"%20"))}function rp(e){return`${vu(e.path)}${Px(e.parameters)}`}function Px(e){return Object.entries(e).map(([t,i])=>`;${vu(t)}=${vu(i)}`).join("")}function Mx(e){let t=Object.entries(e).map(([i,r])=>Array.isArray(r)?r.map(n=>`${_s(i)}=${_s(n)}`).join("&"):`${_s(i)}=${_s(r)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var Nx=/^[^\/()?;#]+/;function du(e){let t=e.match(Nx);return t?t[0]:""}var Fx=/^[^\/()?;=#]+/;function $x(e){let t=e.match(Fx);return t?t[0]:""}var Lx=/^[^=?&#]+/;function Bx(e){let t=e.match(Lx);return t?t[0]:""}var jx=/^[^&#]+/;function zx(e){let t=e.match(jx);return t?t[0]:""}var bu=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(r[ut]=new Rt(t,i)),r}parseSegment(){let t=du(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(t),new Zn(Ss(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=$x(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){let n=du(this.remaining);n&&(r=n,this.capture(r))}t[Ss(i)]=Ss(r)}parseQueryParam(t){let i=Bx(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){let a=zx(this.remaining);a&&(r=a,this.capture(r))}let n=zm(i),o=zm(r);if(t.hasOwnProperty(n)){let a=t[n];Array.isArray(a)||(a=[a],t[n]=a),a.push(o)}else t[n]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=du(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new be(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ut);let a=this.parseChildren();i[o]=Object.keys(a).length===1?a[ut]:new Rt([],a),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new be(4011,!1)}};function np(e){return e.segments.length>0?new Rt([],{[ut]:e}):e}function ip(e){let t={};for(let[r,n]of Object.entries(e.children)){let o=ip(n);if(r===ut&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))t[a]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let i=new Rt(e.segments,t);return Ux(i)}function Ux(e){if(e.numberOfChildren===1&&e.children[ut]){let t=e.children[ut];return new Rt(e.segments.concat(t.segments),t.children)}return e}function Bi(e){return e instanceof mn}function Vx(e,t,i=null,r=null){let n=op(e);return ap(n,t,i,r)}function op(e){let t;function i(o){let a={};for(let f of o.children){let m=i(f);a[f.outlet]=m}let l=new Rt(o.url,a);return o===e&&(t=l),l}let r=i(e.root),n=np(r);return t??n}function ap(e,t,i,r){let n=e;for(;n.parent;)n=n.parent;if(t.length===0)return fu(n,n,n,i,r);let o=Kx(t);if(o.toRoot())return fu(n,n,new Rt([],{}),i,r);let a=Wx(o,n,e),l=a.processChildren?Lo(a.segmentGroup,a.index,o.commands):cp(a.segmentGroup,a.index,o.commands);return fu(n,a.segmentGroup,l,i,r)}function Es(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Uo(e){return typeof e=="object"&&e!=null&&e.outlets}function fu(e,t,i,r,n){let o={};r&&Object.entries(r).forEach(([f,m])=>{o[f]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let a;e===t?a=i:a=sp(e,t,i);let l=np(ip(a));return new mn(l,o,n)}function sp(e,t,i){let r={};return Object.entries(e.children).forEach(([n,o])=>{o===t?r[n]=i:r[n]=sp(o,t,i)}),new Rt(e.segments,r)}var Rs=class{constructor(t,i,r){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=r,t&&r.length>0&&Es(r[0]))throw new be(4003,!1);let n=r.find(Uo);if(n&&n!==Gm(r))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Kx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Rs(!0,0,e);let t=0,i=!1,r=e.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([f,m])=>{l[f]=typeof m=="string"?m.split("/"):m}),[...n,{outlets:l}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((l,f)=>{f==0&&l==="."||(f==0&&l===""?i=!0:l===".."?t++:l!=""&&n.push(l))}),n):[...n,o]},[]);return new Rs(i,t,r)}var Fi=class{constructor(t,i,r){this.segmentGroup=t,this.processChildren=i,this.index=r}};function Wx(e,t,i){if(e.isAbsolute)return new Fi(t,!0,0);if(!i)return new Fi(t,!1,NaN);if(i.parent===null)return new Fi(i,!0,0);let r=Es(e.commands[0])?0:1,n=i.segments.length-1+r;return Hx(i,n,e.numberOfDoubleDots)}function Hx(e,t,i){let r=e,n=t,o=i;for(;o>n;){if(o-=n,r=r.parent,!r)throw new be(4005,!1);n=r.segments.length}return new Fi(r,!1,n-o)}function qx(e){return Uo(e[0])?e[0].outlets:{[ut]:e}}function cp(e,t,i){if(e??=new Rt([],{}),e.segments.length===0&&e.hasChildren())return Lo(e,t,i);let r=Yx(e,t,i),n=i.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Rt(e.segments.slice(0,r.pathIndex),{});return o.children[ut]=new Rt(e.segments.slice(r.pathIndex),e.children),Lo(o,0,n)}else return r.match&&n.length===0?new Rt(e.segments,{}):r.match&&!e.hasChildren()?yu(e,t,i):r.match?Lo(e,0,n):yu(e,t,i)}function Lo(e,t,i){if(i.length===0)return new Rt(e.segments,{});{let r=qx(i),n={};if(Object.keys(r).some(o=>o!==ut)&&e.children[ut]&&e.numberOfChildren===1&&e.children[ut].segments.length===0){let o=Lo(e.children[ut],t,i);return new Rt(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=cp(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(n[o]=a)}),new Rt(e.segments,n)}}function Yx(e,t,i){let r=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(r>=i.length)return o;let a=e.segments[n],l=i[r];if(Uo(l))break;let f=`${l}`,m=r<i.length-1?i[r+1]:null;if(n>0&&f===void 0)break;if(f&&m&&typeof m=="object"&&m.outlets===void 0){if(!Vm(f,m,a))return o;r+=2}else{if(!Vm(f,{},a))return o;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function yu(e,t,i){let r=e.segments.slice(0,t),n=0;for(;n<i.length;){let o=i[n];if(Uo(o)){let f=Qx(o.outlets);return new Rt(r,f)}if(n===0&&Es(i[0])){let f=e.segments[t];r.push(new Zn(f.path,Um(i[0]))),n++;continue}let a=Uo(o)?o.outlets[ut]:`${o}`,l=n<i.length-1?i[n+1]:null;a&&l&&Es(l)?(r.push(new Zn(a,Um(l))),n+=2):(r.push(new Zn(a,{})),n++)}return new Rt(r,{})}function Qx(e){let t={};return Object.entries(e).forEach(([i,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[i]=yu(new Rt([],{}),0,r))}),t}function Um(e){let t={};return Object.entries(e).forEach(([i,r])=>t[i]=`${r}`),t}function Vm(e,t,i){return e==i.path&&gr(t,i.parameters)}var Bo="imperative",ie=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ie||{}),We=class{constructor(t,i){this.id=t,this.url=i}},pn=class extends We{constructor(t,i,r="imperative",n=null){super(t,i),this.type=ie.NavigationStart,this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vr=class extends We{constructor(t,i,r){super(t,i),this.urlAfterRedirects=r,this.type=ie.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ke||{}),Ds=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ds||{}),br=class extends We{constructor(t,i,r,n){super(t,i),this.reason=r,this.code=n,this.type=ie.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends We{constructor(t,i,r,n){super(t,i),this.reason=r,this.code=n,this.type=ie.NavigationSkipped}},Vo=class extends We{constructor(t,i,r,n){super(t,i),this.error=r,this.target=n,this.type=ie.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Os=class extends We{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_u=class extends We{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xu=class extends We{constructor(t,i,r,n,o){super(t,i),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=o,this.type=ie.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wu=class extends We{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cu=class extends We{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Su=class{constructor(t){this.route=t,this.type=ie.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Eu=class{constructor(t){this.route=t,this.type=ie.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ru=class{constructor(t){this.snapshot=t,this.type=ie.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Du=class{constructor(t){this.snapshot=t,this.type=ie.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ou=class{constructor(t){this.snapshot=t,this.type=ie.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iu=class{constructor(t){this.snapshot=t,this.type=ie.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Is=class{constructor(t,i,r){this.routerEvent=t,this.position=i,this.anchor=r,this.type=ie.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ko=class{},Wo=class{constructor(t){this.url=t}};var ku=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xo,this.attachRef=null}},Xo=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(r,n){let o=this.getOrCreateContext(r);o.outlet=n,this.contexts.set(r,o)}onChildOutletDestroyed(r){let n=this.getContext(r);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let n=this.getContext(r);return n||(n=new ku,this.contexts.set(r,n)),n}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ks=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Au(t,this._root);return i?i.children.map(r=>r.value):[]}firstChild(t){let i=Au(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Tu(t,this._root);return i.length<2?[]:i[i.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return Tu(t,this._root).map(i=>i.value)}};function Au(e,t){if(e===t.value)return t;for(let i of t.children){let r=Au(e,i);if(r)return r}return null}function Tu(e,t){if(e===t.value)return[t];for(let i of t.children){let r=Tu(e,i);if(r.length)return r.unshift(t),r}return[]}var Ne=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Ni(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var As=class extends ks{constructor(t,i){super(t),this.snapshot=i,Uu(this,t)}toString(){return this.snapshot.toString()}};function lp(e){let t=Gx(e),i=new fe([new Zn("",{})]),r=new fe({}),n=new fe({}),o=new fe({}),a=new fe(""),l=new yr(i,r,o,a,n,ut,e,t.root);return l.snapshot=t.root,new As(new Ne(l,[]),t)}function Gx(e){let t={},i={},r={},n="",o=new Ho([],t,r,n,i,ut,e,null,{});return new Ts("",new Ne(o,[]))}var yr=class{constructor(t,i,r,n,o,a,l,f){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(ft(m=>m[Qo]))??tt(void 0),this.url=t,this.params=i,this.queryParams=r,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(t=>Li(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(t=>Li(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zu(e,t,i="emptyOnly"){let r,{routeConfig:n}=e;return t!==null&&(i==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:K(K({},t.params),e.params),data:K(K({},t.data),e.data),resolve:K(K(K(K({},e.data),t.data),n?.data),e._resolvedData)}:r={params:K({},e.params),data:K({},e.data),resolve:K(K({},e.data),e._resolvedData??{})},n&&dp(n)&&(r.resolve[Qo]=n.title),r}var Ho=class{get title(){return this.data?.[Qo]}constructor(t,i,r,n,o,a,l,f,m){this.url=t,this.params=i,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=a,this.component=l,this.routeConfig=f,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Ts=class extends ks{constructor(t,i){super(i),this.url=t,Uu(this,i)}toString(){return up(this._root)}};function Uu(e,t){t.value._routerState=e,t.children.forEach(i=>Uu(e,i))}function up(e){let t=e.children.length>0?` { ${e.children.map(up).join(", ")} } `:"";return`${e.value}${t}`}function hu(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,gr(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),gr(t.params,i.params)||e.paramsSubject.next(i.params),Ex(t.url,i.url)||e.urlSubject.next(i.url),gr(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Pu(e,t){let i=gr(e.params,t.params)&&Ix(e.url,t.url),r=!e.parent!=!t.parent;return i&&!r&&(!e.parent||Pu(e.parent,t.parent))}function dp(e){return typeof e.title=="string"||e.title===null}var Xx=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new me,this.deactivateEvents=new me,this.attachEvents=new me,this.detachEvents=new me,this.parentContexts=G(Xo),this.location=G(un),this.changeDetector=G(dr),this.environmentInjector=G(Oo),this.inputBinder=G(Fs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:n,previousValue:o}=r.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,n){this.activated=r,this._activatedRoute=n,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=r;let o=this.location,l=r.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Mu(r,f,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ut({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ln]});let e=t;return e})(),Mu=class{constructor(t,i,r){this.route=t,this.childContexts=i,this.parent=r}get(t,i){return t===yr?this.route:t===Xo?this.childContexts:this.parent.get(t,i)}},Fs=new mt(""),Km=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:n}=r,o=cs([n.queryParams,n.params,n.data]).pipe(Ue(([a,l,f],m)=>(f=K(K(K({},a),l),f),m===0?tt(f):Promise.resolve(f)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(r);return}let l=pm(n.component);if(!l){this.unsubscribeFromRouteData(r);return}for(let{templateName:f}of l.inputs)r.activatedComponentRef.setInput(f,a[f])});this.outletDataSubscriptions.set(r,o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function Zx(e,t,i){let r=qo(e,t._root,i?i._root:void 0);return new As(r,t)}function qo(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let r=i.value;r._futureSnapshot=t.value;let n=Jx(e,t,i);return new Ne(r,n)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>qo(e,l)),a}}let r=t0(t.value),n=t.children.map(o=>qo(e,o));return new Ne(r,n)}}function Jx(e,t,i){return t.children.map(r=>{for(let n of i.children)if(e.shouldReuseRoute(r.value,n.value.snapshot))return qo(e,r,n);return qo(e,r)})}function t0(e){return new yr(new fe(e.url),new fe(e.params),new fe(e.queryParams),new fe(e.fragment),new fe(e.data),e.outlet,e.component,e)}var fp="ngNavigationCancelingError";function hp(e,t){let{redirectTo:i,navigationBehaviorOptions:r}=Bi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=mp(!1,Ke.Redirect);return n.url=i,n.navigationBehaviorOptions=r,n}function mp(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[fp]=!0,i.cancellationCode=t,i}function e0(e){return pp(e)&&Bi(e.url)}function pp(e){return!!e&&e[fp]}var Vu=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Se({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ee],decls:1,vars:0,template:function(n,o){n&1&&Ve(0,"router-outlet")},dependencies:[Xx],encapsulation:2});let e=t;return e})();function r0(e,t){return e.providers&&!e._injector&&(e._injector=Jl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ku(e){let t=e.children&&e.children.map(Ku),i=t?Wt(K({},e),{children:t}):K({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==ut&&(i.component=Vu),i}function _r(e){return e.outlet||ut}function n0(e,t){let i=e.filter(r=>_r(r)===t);return i.push(...e.filter(r=>_r(r)!==t)),i}function Zo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var i0=(e,t,i,r)=>ft(n=>(new Nu(t,n.targetRouterState,n.currentRouterState,i,r).activate(e),n)),Nu=class{constructor(t,i,r,n,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,r,t),hu(this.futureState.root),this.activateChildRoutes(i,r,t)}deactivateChildRoutes(t,i,r){let n=Ni(i);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],r),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,i,r){let n=t.value,o=i?i.value:null;if(n===o)if(n.component){let a=r.getContext(n.outlet);a&&this.deactivateChildRoutes(t,i,a.children)}else this.deactivateChildRoutes(t,i,r);else o&&this.deactivateRouteAndItsChildren(i,r)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let r=i.getContext(t.value.outlet),n=r&&t.value.component?r.children:i,o=Ni(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(r&&r.outlet){let a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,i){let r=i.getContext(t.value.outlet),n=r&&t.value.component?r.children:i,o=Ni(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,i,r){let n=Ni(i);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],r),this.forwardEvent(new Iu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Du(t.value.snapshot))}activateRoutes(t,i,r){let n=t.value,o=i?i.value:null;if(hu(n),n===o)if(n.component){let a=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,i,a.children)}else this.activateChildRoutes(t,i,r);else if(n.component){let a=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let l=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),hu(l.route.value),this.activateChildRoutes(t,null,a.children)}else{let l=Zo(n.snapshot);a.attachRef=null,a.route=n,a.injector=l,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}},Ps=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},$i=class{constructor(t,i){this.component=t,this.route=i}};function o0(e,t,i){let r=e._root,n=t?t._root:null;return Fo(r,n,i,[r.value])}function a0(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function zi(e,t){let i=Symbol(),r=t.get(e,i);return r===i?typeof e=="function"&&!Jh(e)?e:t.get(e):r}function Fo(e,t,i,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ni(t);return e.children.forEach(a=>{s0(a,o[a.value.outlet],i,r.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>jo(l,i.getContext(a),n)),n}function s0(e,t,i,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let f=c0(a,o,o.routeConfig.runGuardsAndResolvers);f?n.canActivateChecks.push(new Ps(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Fo(e,t,l?l.children:null,r,n):Fo(e,t,i,r,n),f&&l&&l.outlet&&l.outlet.isActivated&&n.canDeactivateChecks.push(new $i(l.outlet.component,a))}else a&&jo(t,l,n),n.canActivateChecks.push(new Ps(r)),o.component?Fo(e,null,l?l.children:null,r,n):Fo(e,null,i,r,n);return n}function c0(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!Jn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Jn(e.url,t.url)||!gr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pu(e,t)||!gr(e.queryParams,t.queryParams);case"paramsChange":default:return!Pu(e,t)}}function jo(e,t,i){let r=Ni(e),n=e.value;Object.entries(r).forEach(([o,a])=>{n.component?t?jo(a,t.children.getContext(o),i):jo(a,null,i):jo(a,t,i)}),n.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new $i(t.outlet.component,n)):i.canDeactivateChecks.push(new $i(null,n)):i.canDeactivateChecks.push(new $i(null,n))}function Jo(e){return typeof e=="function"}function l0(e){return typeof e=="boolean"}function u0(e){return e&&Jo(e.canLoad)}function d0(e){return e&&Jo(e.canActivate)}function f0(e){return e&&Jo(e.canActivateChild)}function h0(e){return e&&Jo(e.canDeactivate)}function m0(e){return e&&Jo(e.canMatch)}function gp(e){return e instanceof Uh||e?.name==="EmptyError"}var xs=Symbol("INITIAL_VALUE");function ji(){return Ue(e=>cs(e.map(t=>t.pipe(ze(1),Ze(xs)))).pipe(ft(t=>{for(let i of t)if(i!==!0){if(i===xs)return xs;if(i===!1||i instanceof mn)return i}return!0}),yt(t=>t!==xs),ze(1)))}function p0(e,t){return Ht(i=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=i;return a.length===0&&o.length===0?tt(Wt(K({},i),{guardsResult:!0})):g0(a,r,n,e).pipe(Ht(l=>l&&l0(l)?v0(r,o,e,t):tt(l)),ft(l=>Wt(K({},i),{guardsResult:l})))})}function g0(e,t,i,r){return he(e).pipe(Ht(n=>w0(n.component,n.route,i,t,r)),sn(n=>n!==!0,!0))}function v0(e,t,i,r){return he(t).pipe(Si(n=>Vh(y0(n.route.parent,r),b0(n.route,r),x0(e,n.path,i),_0(e,n.route,i))),sn(n=>n!==!0,!0))}function b0(e,t){return e!==null&&t&&t(new Ou(e)),tt(!0)}function y0(e,t){return e!==null&&t&&t(new Ru(e)),tt(!0)}function _0(e,t,i){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return tt(!0);let n=r.map(o=>qn(()=>{let a=Zo(t)??i,l=zi(o,a),f=d0(l)?l.canActivate(t,e):cn(a,()=>l(t,e));return bn(f).pipe(sn())}));return tt(n).pipe(ji())}function x0(e,t,i){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>a0(a)).filter(a=>a!==null).map(a=>qn(()=>{let l=a.guards.map(f=>{let m=Zo(a.node)??i,p=zi(f,m),b=f0(p)?p.canActivateChild(r,e):cn(m,()=>p(r,e));return bn(b).pipe(sn())});return tt(l).pipe(ji())}));return tt(o).pipe(ji())}function w0(e,t,i,r,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return tt(!0);let a=o.map(l=>{let f=Zo(t)??n,m=zi(l,f),p=h0(m)?m.canDeactivate(e,t,i,r):cn(f,()=>m(e,t,i,r));return bn(p).pipe(sn())});return tt(a).pipe(ji())}function C0(e,t,i,r){let n=t.canLoad;if(n===void 0||n.length===0)return tt(!0);let o=n.map(a=>{let l=zi(a,e),f=u0(l)?l.canLoad(t,i):cn(e,()=>l(t,i));return bn(f)});return tt(o).pipe(ji(),vp(r))}function vp(e){return jh(le(t=>{if(Bi(t))throw hp(e,t)}),ft(t=>t===!0))}function S0(e,t,i,r){let n=t.canMatch;if(!n||n.length===0)return tt(!0);let o=n.map(a=>{let l=zi(a,e),f=m0(l)?l.canMatch(t,i):cn(e,()=>l(t,i));return bn(f)});return tt(o).pipe(ji(),vp(r))}var Yo=class{constructor(t){this.segmentGroup=t||null}},Ms=class extends Error{constructor(t){super(),this.urlTree=t}};function Mi(e){return Ro(new Yo(e))}function E0(e){return Ro(new be(4e3,!1))}function R0(e){return Ro(mp(!1,Ke.GuardRejected))}var Fu=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let r=[],n=i.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return tt(r);if(n.numberOfChildren>1||!n.children[ut])return E0(t.redirectTo);n=n.children[ut]}}applyRedirectCommands(t,i,r){let n=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,r);if(i.startsWith("/"))throw new Ms(n);return n}applyRedirectCreateUrlTree(t,i,r,n){let o=this.createSegmentGroup(t,i.root,r,n);return new mn(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let r={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);r[n]=i[l]}else r[n]=o}),r}createSegmentGroup(t,i,r,n){let o=this.createSegments(t,i.segments,r,n),a={};return Object.entries(i.children).forEach(([l,f])=>{a[l]=this.createSegmentGroup(t,f,r,n)}),new Rt(o,a)}createSegments(t,i,r,n){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,n):this.findOrReturn(o,r))}findPosParam(t,i,r){let n=r[i.path.substring(1)];if(!n)throw new be(4001,!1);return n}findOrReturn(t,i){let r=0;for(let n of i){if(n.path===t.path)return i.splice(r),n;r++}return t}},$u={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D0(e,t,i,r,n){let o=Wu(e,t,i);return o.matched?(r=r0(t,r),S0(r,t,i,n).pipe(ft(a=>a===!0?o:K({},$u)))):tt(o)}function Wu(e,t,i){if(t.path==="**")return O0(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?K({},$u):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let n=(t.matcher||Sx)(i,e,t);if(!n)return K({},$u);let o={};Object.entries(n.posParams??{}).forEach(([l,f])=>{o[l]=f.path});let a=n.consumed.length>0?K(K({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:i.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function O0(e){return{matched:!0,parameters:e.length>0?Gm(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Wm(e,t,i,r){return i.length>0&&A0(e,i,r)?{segmentGroup:new Rt(t,k0(r,new Rt(i,e.children))),slicedSegments:[]}:i.length===0&&T0(e,i,r)?{segmentGroup:new Rt(e.segments,I0(e,i,r,e.children)),slicedSegments:i}:{segmentGroup:new Rt(e.segments,e.children),slicedSegments:i}}function I0(e,t,i,r){let n={};for(let o of i)if($s(e,t,o)&&!r[_r(o)]){let a=new Rt([],{});n[_r(o)]=a}return K(K({},r),n)}function k0(e,t){let i={};i[ut]=t;for(let r of e)if(r.path===""&&_r(r)!==ut){let n=new Rt([],{});i[_r(r)]=n}return i}function A0(e,t,i){return i.some(r=>$s(e,t,r)&&_r(r)!==ut)}function T0(e,t,i){return i.some(r=>$s(e,t,r))}function $s(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function P0(e,t,i,r){return _r(e)!==r&&(r===ut||!$s(t,i,e))?!1:Wu(t,e,i).matched}function M0(e,t,i){return t.length===0&&!e.children[i]}var Lu=class{};function N0(e,t,i,r,n,o,a="emptyOnly"){return new Bu(e,t,i,r,n,a,o).recognize()}var F0=31,Bu=class{constructor(t,i,r,n,o,a,l){this.injector=t,this.configLoader=i,this.rootComponentType=r,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new Fu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new be(4002,`'${t.segmentGroup}'`)}recognize(){let t=Wm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ft(i=>{let r=new Ho([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),n=new Ne(r,i),o=new Ts("",n),a=Vx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ut).pipe(Ci(r=>{if(r instanceof Ms)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Yo?this.noMatchError(r):r}))}inheritParamsAndData(t,i){let r=t.value,n=zu(r,i,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,i,r,n){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,i,r):this.processSegment(t,i,r,r.segments,n,!0).pipe(ft(o=>o instanceof Ne?[o]:[]))}processChildren(t,i,r){let n=[];for(let o of Object.keys(r.children))o==="primary"?n.unshift(o):n.push(o);return he(n).pipe(Si(o=>{let a=r.children[o],l=n0(i,o);return this.processSegmentGroup(t,l,a,o)}),Yh((o,a)=>(o.push(...a),o)),Ql(null),Hh(),Ht(o=>{if(o===null)return Mi(r);let a=bp(o);return $0(a),tt(a)}))}processSegment(t,i,r,n,o,a){return he(i).pipe(Si(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,r,n,o,a).pipe(Ci(f=>{if(f instanceof Yo)return tt(null);throw f}))),sn(l=>!!l),Ci(l=>{if(gp(l))return M0(r,n,o)?tt(new Lu):Mi(r);throw l}))}processSegmentAgainstRoute(t,i,r,n,o,a,l){return P0(r,n,o,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,r,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a):Mi(n):Mi(n)}expandSegmentAgainstRouteUsingRedirect(t,i,r,n,o,a){let{matched:l,consumedSegments:f,positionalParamSegments:m,remainingSegments:p}=Wu(i,n,o);if(!l)return Mi(i);n.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>F0&&(this.allowRedirects=!1));let b=this.applyRedirects.applyRedirectCommands(f,n.redirectTo,m);return this.applyRedirects.lineralizeSegments(n,b).pipe(Ht(x=>this.processSegment(t,r,i,x.concat(p),a,!1)))}matchSegmentAgainstRoute(t,i,r,n,o){let a=D0(i,r,n,t,this.urlSerializer);return r.path==="**"&&(i.children={}),a.pipe(Ue(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,n).pipe(Ue(({routes:f})=>{let m=r._loadedInjector??t,{consumedSegments:p,remainingSegments:b,parameters:x}=l,C=new Ho(p,x,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,B0(r),_r(r),r.component??r._loadedComponent??null,r,j0(r)),{segmentGroup:N,slicedSegments:B}=Wm(i,p,b,f);if(B.length===0&&N.hasChildren())return this.processChildren(m,f,N).pipe(ft(ot=>ot===null?null:new Ne(C,ot)));if(f.length===0&&B.length===0)return tt(new Ne(C,[]));let et=_r(r)===o;return this.processSegment(m,f,N,B,et?ut:o,!0).pipe(ft(ot=>new Ne(C,ot instanceof Ne?[ot]:[])))}))):Mi(i)))}getChildConfig(t,i,r){return i.children?tt({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?tt({routes:i._loadedRoutes,injector:i._loadedInjector}):C0(t,i,r,this.urlSerializer).pipe(Ht(n=>n?this.configLoader.loadChildren(t,i).pipe(le(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):R0(i))):tt({routes:[],injector:t})}};function $0(e){e.sort((t,i)=>t.value.outlet===ut?-1:i.value.outlet===ut?1:t.value.outlet.localeCompare(i.value.outlet))}function L0(e){let t=e.value.routeConfig;return t&&t.path===""}function bp(e){let t=[],i=new Set;for(let r of e){if(!L0(r)){t.push(r);continue}let n=t.find(o=>r.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...r.children),i.add(n)):t.push(r)}for(let r of i){let n=bp(r.children);t.push(new Ne(r.value,n))}return t.filter(r=>!i.has(r))}function B0(e){return e.data||{}}function j0(e){return e.resolve||{}}function z0(e,t,i,r,n,o){return Ht(a=>N0(e,t,i,r,a.extractedUrl,n,o).pipe(ft(({state:l,tree:f})=>Wt(K({},a),{targetSnapshot:l,urlAfterRedirects:f}))))}function U0(e,t){return Ht(i=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=i;if(!n.length)return tt(i);let o=new Set(n.map(f=>f.route)),a=new Set;for(let f of o)if(!a.has(f))for(let m of yp(f))a.add(m);let l=0;return he(a).pipe(Si(f=>o.has(f)?V0(f,r,e,t):(f.data=zu(f,f.parent,e).resolve,tt(void 0))),le(()=>l++),Gl(1),Ht(f=>l===a.size?tt(i):Hn))})}function yp(e){let t=e.children.map(i=>yp(i)).flat();return[e,...t]}function V0(e,t,i,r){let n=e.routeConfig,o=e._resolve;return n?.title!==void 0&&!dp(n)&&(o[Qo]=n.title),K0(o,e,t,r).pipe(ft(a=>(e._resolvedData=a,e.data=zu(e,e.parent,i).resolve,null)))}function K0(e,t,i,r){let n=gu(e);if(n.length===0)return tt({});let o={};return he(n).pipe(Ht(a=>W0(e[a],t,i,r).pipe(sn(),le(l=>{o[a]=l}))),Gl(1),Wh(o),Ci(a=>gp(a)?Hn:Ro(a)))}function W0(e,t,i,r){let n=Zo(t)??r,o=zi(e,n),a=o.resolve?o.resolve(t,i):cn(n,()=>o(t,i));return bn(a)}function mu(e){return Ue(t=>{let i=e(t);return i?he(i).pipe(ft(()=>t)):tt(t)})}var _p=(()=>{let t=class t{buildTitle(r){let n,o=r.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(a=>a.outlet===ut);return n}getResolvedTitleForRoute(r){return r.data[Qo]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:()=>G(H0),providedIn:"root"});let e=t;return e})(),H0=(()=>{let t=class t extends _p{constructor(r){super(),this.title=r}updateTitle(r){let n=this.buildTitle(r);n!==void 0&&this.title.setTitle(n)}};t.\u0275fac=function(n){return new(n||t)(U(Cm))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ta=new mt("",{providedIn:"root",factory:()=>({})}),vn=new mt(""),Hu=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(ki)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return tt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let n=bn(r.loadComponent()).pipe(ft(xp),le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ri(()=>{this.componentLoaders.delete(r)})),o=new Wn(n,()=>new it).pipe(Eo());return this.componentLoaders.set(r,o),o}loadChildren(r,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return tt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let a=q0(n,this.compiler,r,this.onLoadEndListener).pipe(Ri(()=>{this.childrenLoaders.delete(n)})),l=new Wn(a,()=>new it).pipe(Eo());return this.childrenLoaders.set(n,l),l}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function q0(e,t,i,r){return bn(e.loadChildren()).pipe(ft(xp),Ht(n=>n instanceof fs||Array.isArray(n)?tt(n):he(t.compileModuleAsync(n))),ft(n=>{r&&r(e);let o,a,l=!1;return Array.isArray(n)?(a=n,l=!0):(o=n.create(i).injector,a=o.get(vn,[],{optional:!0,self:!0}).flat()),{routes:a.map(Ku),injector:o}}))}function Y0(e){return e&&typeof e=="object"&&"default"in e}function xp(e){return Y0(e)?e.default:e}var qu=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:()=>G(Q0),providedIn:"root"});let e=t;return e})(),Q0=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,n){return r}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),wp=new mt(""),Cp=new mt("");function G0(e,t,i){let r=e.get(Cp),n=e.get(Qt);return e.get(jt).runOutsideAngular(()=>{if(!n.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,a=new Promise(m=>{o=m}),l=n.startViewTransition(()=>(o(),X0(e))),{onViewTransitionCreated:f}=r;return f&&cn(e,()=>f({transition:l,from:t,to:i})),a})}function X0(e){return new Promise(t=>{om(t,{injector:e})})}var Yu=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it,this.transitionAbortSubject=new it,this.configLoader=G(Hu),this.environmentInjector=G(Oo),this.urlSerializer=G(Go),this.rootContexts=G(Xo),this.location=G(tr),this.inputBindingEnabled=G(Fs,{optional:!0})!==null,this.titleStrategy=G(_p),this.options=G(ta,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=G(qu),this.createViewTransition=G(wp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Su(o)),n=o=>this.events.next(new Eu(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let n=++this.navigationId;this.transitions?.next(Wt(K(K({},this.transitions.value),r),{id:n}))}setupNavigations(r,n,o){return this.transitions=new fe({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yt(a=>a.id!==0),ft(a=>Wt(K({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ue(a=>{this.currentTransition=a;let l=!1,f=!1;return tt(a).pipe(le(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Wt(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ue(m=>{let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=m.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&b!=="reload"){let x="";return this.events.next(new gn(m.id,this.urlSerializer.serialize(m.rawUrl),x,Ds.IgnoredSameUrlNavigation)),m.resolve(null),Hn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return tt(m).pipe(Ue(x=>{let C=this.transitions?.getValue();return this.events.next(new pn(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),C!==this.transitions?.getValue()?Hn:Promise.resolve(x)}),z0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),le(x=>{a.targetSnapshot=x.targetSnapshot,a.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation=Wt(K({},this.currentNavigation),{finalUrl:x.urlAfterRedirects});let C=new Os(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(C)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:x,extractedUrl:C,source:N,restoredState:B,extras:et}=m,ot=new pn(x,this.urlSerializer.serialize(C),N,B);this.events.next(ot);let at=lp(this.rootComponentType).snapshot;return this.currentTransition=a=Wt(K({},m),{targetSnapshot:at,urlAfterRedirects:C,extras:Wt(K({},et),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,tt(a)}else{let x="";return this.events.next(new gn(m.id,this.urlSerializer.serialize(m.extractedUrl),x,Ds.IgnoredByUrlHandlingStrategy)),m.resolve(null),Hn}}),le(m=>{let p=new _u(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}),ft(m=>(this.currentTransition=a=Wt(K({},m),{guards:o0(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),a)),p0(this.environmentInjector,m=>this.events.next(m)),le(m=>{if(a.guardsResult=m.guardsResult,Bi(m.guardsResult))throw hp(this.urlSerializer,m.guardsResult);let p=new xu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(p)}),yt(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",Ke.GuardRejected),!1)),mu(m=>{if(m.guards.canActivateChecks.length)return tt(m).pipe(le(p=>{let b=new wu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),Ue(p=>{let b=!1;return tt(p).pipe(U0(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(p,"",Ke.NoDataFromResolver)}}))}),le(p=>{let b=new Cu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}))}),mu(m=>{let p=b=>{let x=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe(le(C=>{b.component=C}),ft(()=>{})));for(let C of b.children)x.push(...p(C));return x};return cs(p(m.targetSnapshot.root)).pipe(Ql(null),ze(1))}),mu(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:m,targetSnapshot:p}=a,b=this.createViewTransition?.(this.environmentInjector,m.root,p.root);return b?he(b).pipe(ft(()=>a)):tt(a)}),ft(m=>{let p=Zx(r.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=a=Wt(K({},m),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),le(()=>{this.events.next(new Ko)}),i0(this.rootContexts,r.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),ze(1),le({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vr(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),Yn(this.transitionAbortSubject.pipe(le(m=>{throw m}))),Ri(()=>{!l&&!f&&this.cancelNavigationTransition(a,"",Ke.SupersededByNewNavigation),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Ci(m=>{if(f=!0,pp(m))this.events.next(new br(a.id,this.urlSerializer.serialize(a.extractedUrl),m.message,m.cancellationCode)),e0(m)?this.events.next(new Wo(m.url)):a.resolve(!1);else{this.events.next(new Vo(a.id,this.urlSerializer.serialize(a.extractedUrl),m,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(m))}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return Hn}))}))}cancelNavigationTransition(r,n,o){let a=new br(r.id,this.urlSerializer.serialize(r.extractedUrl),n,o);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Z0(e){return e!==Bo}var Qu=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:()=>G(J0),providedIn:"root"});let e=t;return e})(),ju=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},J0=(()=>{let t=class t extends ju{};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(t)))(o||t)}})(),t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Sp=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:()=>G(tw),providedIn:"root"});let e=t;return e})(),tw=(()=>{let t=class t extends Sp{constructor(){super(...arguments),this.location=G(tr),this.urlSerializer=G(Go),this.options=G(ta,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=G(qu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(n=>{n.type==="popstate"&&r(n.url,n.state)})}handleRouterEvent(r,n){if(r instanceof pn)this.stateMemento=this.createStateMemento();else if(r instanceof gn)this.rawUrlTree=n.initialUrl;else if(r instanceof Os){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else r instanceof Ko?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):r instanceof br&&(r.code===Ke.GuardRejected||r.code===Ke.NoDataFromResolver)?this.restoreHistory(n):r instanceof Vo?this.restoreHistory(n,!0):r instanceof vr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,n){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let a=this.browserPageId,l=K(K({},n.extras.state),this.generateNgRouterState(n.id,a));this.location.replaceState(o,"",l)}else{let a=K(K({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(r,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,n){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:n}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(t)))(o||t)}})(),t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$o=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}($o||{});function Ep(e,t){e.events.pipe(yt(i=>i instanceof vr||i instanceof br||i instanceof Vo||i instanceof gn),ft(i=>i instanceof vr||i instanceof gn?$o.COMPLETE:(i instanceof br?i.code===Ke.Redirect||i.code===Ke.SupersededByNewNavigation:!1)?$o.REDIRECTING:$o.FAILED),yt(i=>i!==$o.REDIRECTING),ze(1)).subscribe(()=>{t()})}function ew(e){throw e}var rw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Re=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=G(dm),this.stateManager=G(Sp),this.options=G(ta,{optional:!0})||{},this.pendingTasks=G(am),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=G(Yu),this.urlSerializer=G(Go),this.location=G(tr),this.urlHandlingStrategy=G(qu),this._events=new it,this.errorHandler=this.options.errorHandler||ew,this.navigated=!1,this.routeReuseStrategy=G(Qu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=G(vn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!G(Fs,{optional:!0}),this.eventsSubscription=new ur,this.isNgZoneEnabled=G(jt)instanceof jt&&jt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(n,a),n instanceof br&&n.code!==Ke.Redirect&&n.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof vr)this.navigated=!0;else if(n instanceof Wo){let l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),f={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Z0(o.source)};this.scheduleNavigation(l,Bo,null,f,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ow(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",n)},0)})}navigateToSyncWithBrowser(r,n,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let m=K({},o);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(a.state=m)}let f=this.parseUrl(r);this.scheduleNavigation(f,n,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ku),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,n={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:m}=n,p=m?this.currentUrlTree.fragment:l,b=null;switch(f){case"merge":b=K(K({},this.currentUrlTree.queryParams),a);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}b!==null&&(b=this.removeEmptyProps(b));let x;try{let C=o?o.snapshot:this.routerState.snapshot.root;x=op(C)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),x=this.currentUrlTree.root}return ap(x,r,b,p??null)}navigateByUrl(r,n={skipLocationChange:!1}){let o=Bi(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Bo,null,n)}navigate(r,n={skipLocationChange:!1}){return iw(r),this.navigateByUrl(this.createUrlTree(r,n),n)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,n){let o;if(n===!0?o=K({},rw):n===!1?o=K({},nw):o=n,Bi(r))return jm(this.currentUrlTree,r,o);let a=this.parseUrl(r);return jm(this.currentUrlTree,a,o)}removeEmptyProps(r){return Object.entries(r).reduce((n,[o,a])=>(a!=null&&(n[o]=a),n),{})}scheduleNavigation(r,n,o,a,l){if(this.disposed)return Promise.resolve(!1);let f,m,p;l?(f=l.resolve,m=l.reject,p=l.promise):p=new Promise((x,C)=>{f=x,m=C});let b=this.pendingTasks.add();return Ep(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:f,reject:m,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(x=>Promise.reject(x))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function iw(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new be(4008,!1)}function ow(e){return!(e instanceof Ko)&&!(e instanceof Wo)}var zD=(()=>{let t=class t{constructor(r,n,o,a,l,f){this.router=r,this.route=n,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new it,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof vr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,n,o,a,l){let f=this.urlTree;if(f===null||this.isAnchorElement&&(r!==0||n||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(f,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let n=this.href===null?null:nm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(r,n){let o=this.renderer,a=this.el.nativeElement;n!==null?o.setAttribute(a,r,n):o.removeAttribute(a,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(n){return new(n||t)(q(Re),q(yr),rm("tabindex"),q(im),q(qt),q(To))},t.\u0275dir=Ut({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){n&1&&Oi("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),n&2&&Me("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ht.HasDecoratorInputTransform,"preserveFragment","preserveFragment",pe],skipLocationChange:[ht.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",pe],replaceUrl:[ht.HasDecoratorInputTransform,"replaceUrl","replaceUrl",pe],routerLink:"routerLink"},standalone:!0,features:[dn,ln]});let e=t;return e})();var Ns=class{};var aw=(()=>{let t=class t{constructor(r,n,o,a,l){this.router=r,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(yt(r=>r instanceof vr),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,n){let o=[];for(let a of n){a.providers&&!a._injector&&(a._injector=Jl(a.providers,r,`Route: ${a.path}`));let l=a._injector??r,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(f,a.children??a._loadedRoutes))}return he(o).pipe(ql())}preloadConfig(r,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(r,n):o=tt(null);let a=o.pipe(Ht(l=>l===null?tt(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??r,l.routes))));if(n.loadComponent&&!n._loadedComponent){let l=this.loader.loadComponent(n);return he([a,l]).pipe(ql())}else return a})}};t.\u0275fac=function(n){return new(n||t)(U(Re),U(ki),U(Oo),U(Ns),U(Hu))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Rp=new mt(""),sw=(()=>{let t=class t{constructor(r,n,o,a,l={}){this.urlSerializer=r,this.transitions=n,this.viewportScroller=o,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof vr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof gn&&r.code===Ds.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Is&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Is(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(n){Io()},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function UD(e,...t){return em([{provide:vn,multi:!0,useValue:e},[],{provide:yr,useFactory:Dp,deps:[Re]},{provide:iu,multi:!0,useFactory:Op},t.map(i=>i.\u0275providers)])}function Dp(e){return e.routerState.root}function ea(e,t){return{\u0275kind:e,\u0275providers:t}}function Op(){let e=G(Yt);return t=>{let i=e.get(ms);if(t!==i.components[0])return;let r=e.get(Re),n=e.get(Ip);e.get(Gu)===1&&r.initialNavigation(),e.get(kp,null,Zl.Optional)?.setUpPreloading(),e.get(Rp,null,Zl.Optional)?.init(),r.resetRootComponentType(i.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Ip=new mt("",{factory:()=>new it}),Gu=new mt("",{providedIn:"root",factory:()=>1});function cw(){return ea(2,[{provide:Gu,useValue:0},{provide:Ao,multi:!0,deps:[Yt],useFactory:t=>{let i=t.get(gm,Promise.resolve());return()=>i.then(()=>new Promise(r=>{let n=t.get(Re),o=t.get(Ip);Ep(n,()=>{r(!0)}),t.get(Yu).afterPreactivation=()=>(r(!0),o.closed?tt(void 0):o),n.initialNavigation()}))}}])}function lw(){return ea(3,[{provide:Ao,multi:!0,useFactory:()=>{let t=G(Re);return()=>{t.setUpLocationChangeListener()}}},{provide:Gu,useValue:2}])}var kp=new mt("");function uw(e){return ea(0,[{provide:kp,useExisting:aw},{provide:Ns,useExisting:e}])}function dw(){return ea(8,[Km,{provide:Fs,useExisting:Km}])}function fw(e){let t=[{provide:wp,useValue:G0},{provide:Cp,useValue:K({skipNextTransition:!!e?.skipInitialTransition},e)}];return ea(9,t)}var Hm=new mt("ROUTER_FORROOT_GUARD"),hw=[tr,{provide:Go,useClass:zo},Re,Xo,{provide:yr,useFactory:Dp,deps:[Re]},Hu,[]],Ap=(()=>{let t=class t{constructor(r){}static forRoot(r,n){return{ngModule:t,providers:[hw,[],{provide:vn,multi:!0,useValue:r},{provide:Hm,useFactory:vw,deps:[[Re,new ls,new us]]},{provide:ta,useValue:n||{}},n?.useHash?pw():gw(),mw(),n?.preloadingStrategy?uw(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?bw(n):[],n?.bindToComponentInputs?dw().\u0275providers:[],n?.enableViewTransitions?fw().\u0275providers:[],yw()]}}static forChild(r){return{ngModule:t,providers:[{provide:vn,multi:!0,useValue:r}]}}};t.\u0275fac=function(n){return new(n||t)(U(Hm,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({});let e=t;return e})();function mw(){return{provide:Rp,useFactory:()=>{let e=G(xm),t=G(jt),i=G(ta),r=G(Yu),n=G(Go);return i.scrollOffset&&e.setOffset(i.scrollOffset),new sw(n,r,e,t,i)}}}function pw(){return{provide:To,useClass:bm}}function gw(){return{provide:To,useClass:vm}}function vw(e){return"guarded"}function bw(e){return[e.initialNavigation==="disabled"?lw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?cw().\u0275providers:[]]}var qm=new mt("");function yw(){return[{provide:qm,useFactory:Op},{provide:iu,multi:!0,useExisting:qm}]}var _w=new mt("LOCALIZE_ROUTER_FORROOT_GUARD"),Xu=new mt("RAW_ROUTES"),yn=function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Cookie="Cookie",e}(yn||{}),Pp=new mt("USE_CACHED_LANG"),Mp=new mt("CACHE_MECHANISM"),Np=new mt("CACHE_NAME"),Fp=new mt("COOKIE_FORMAT"),$p=new mt("INITIAL_NAVIGATION"),Lp=new mt("DEFAULT_LANG_FUNCTION"),Bp=new mt("ALWAYS_SET_PREFIX"),xw="LOCALIZE_DEFAULT_LANGUAGE",ww="{{value}};{{expires}}",Cw=!1,Bs=(()=>{let t=class t{constructor(r=!0,n=!0,o=yn.LocalStorage,a=xw,l=void 0,f=ww,m=Cw){this.useCachedLang=r,this.alwaysSetPrefix=n,this.cacheName=a,this.cookieFormat=f,this.initialNavigation=m,this.cacheMechanism=o,this.defaultLangFunction=l}};t.\u0275fac=function(n){return new(n||t)(U(Pp),U(Bp),U(Mp),U(Np),U(Lp),U(Fp),U($p))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})(),Sw=30,ra=(()=>{let t=class t{constructor(r,n,o){this.translate=r,this.location=n,this.settings=o}init(r){let n;if(this.routes=r,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),a=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,a):this.defaultLang=this._cachedLang||a||this.locales[0],n=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let l=[];if(this.settings.alwaysSetPrefix){let f={path:"",redirectTo:this.defaultLang,pathMatch:"full"},m=r.findIndex(p=>p.path==="**");m!==-1&&(this._wildcardRoute=r.splice(m,1)[0]),l=this.routes.splice(0,this.routes.length,f)}else l=[...this.routes];for(let f=l.length-1;f>=0;f--)l[f].data&&l[f].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(l[f]),(l[f].redirectTo===void 0||!l[f].data.skipRouteLocalization.localizeRedirectTo)&&l.splice(f,1));return l&&l.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:l},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),ss(this.translateRoutes(n))}initChildRoutes(r){return this._translateRouteTree(r),r}translateRoutes(r){return new as(n=>{this._cachedLang=r,this._languageRoute&&(this._languageRoute.path=r),this.translate.use(r).subscribe(o=>{this._translationObject=o,this.currentLang=r,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(r,n){r.forEach(o=>{let a=o.data&&o.data.skipRouteLocalization,l=!a||a.localizeRedirectTo;if(o.redirectTo&&l){let f=o.redirectTo.indexOf("/")===0||n;this._translateProperty(o,"redirectTo",f)}a||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(r,n,o){let a=r.data=r.data||{};a.localizeRouter||(a.localizeRouter={}),a.localizeRouter[n]||(a.localizeRouter=Wt(K({},a.localizeRouter),{[n]:r[n]}));let l=this.translateRoute(a.localizeRouter[n]);r[n]=o?this.addPrefixToUrl(l):l}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(r){let n=r.split("?"),o=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let a=n.join("?");return this.urlPrefix===""?a:!a.startsWith("/")&&!o?`${this.urlPrefix}/${a}`:`/${this.urlPrefix}${a}`}translateRoute(r){let n=r.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(a=>a.length?this.translateText(a):a).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(r){let n=(r||this.location.path()).split(/[\?;]/),o=[];return n.length>0&&(o=n[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===yn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===yn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===yn.Cookie)return this._cacheWithCookies()}}set _cachedLang(r){this.settings.useCachedLang&&(this.settings.cacheMechanism===yn.LocalStorage&&this._cacheWithLocalStorage(r),this.settings.cacheMechanism===yn.SessionStorage&&this._cacheWithSessionStorage(r),this.settings.cacheMechanism===yn.Cookie&&this._cacheWithCookies(r))}_cacheWithLocalStorage(r){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(r){window.localStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(r){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(r){window.sessionStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(r){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(r){let l=`${this.settings.cookieFormat}`;l=l.replace("{{value}}",`${n}=${encodeURIComponent(r)}`).replace(/{{expires:?(\d+)?}}/g,(f,m)=>{let p=m===void 0?Sw:parseInt(m,10),b=new Date;return b.setTime(b.getTime()+p*864e5),`expires=${b.toUTCString()}`}),document.cookie=l;return}let a=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(a[1])}catch{return}}_returnIfInLocales(r){return r&&this.locales.indexOf(r)!==-1?r:null}translateText(r){if(this.escapePrefix&&r.startsWith(this.escapePrefix))return r.replace(this.escapePrefix,"");{if(!this._translationObject)return r;let n=this.prefix+r,o=this.translate.getParsedResult(this._translationObject,n);return o!==n?o:r}}chooseQueryParams(r,n){let o;return r&&r.queryParams?o=r.queryParams:n&&(o=n),o}formatQueryParams(r){return new wm({fromObject:r}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}};t.\u0275fac=function(n){return new(n||t)(U(Tm),U(tr),U(Bs))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();var Ew=(()=>{let t=class t extends ra{load(r){return new Promise(n=>{this.init(r).then(n)})}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(t)))(o||t)}})(),t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function Ls(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;let i=typeof e,r=typeof t,n,o,a;if(i===r&&i==="object")if(Array.isArray(e)){if(!Array.isArray(t))return!1;if((n=e.length)===t.length){for(o=0;o<n;o++)if(!Ls(e[o],t[o]))return!1;return!0}}else{if(Array.isArray(t))return!1;a=Object.create(null);for(o in e)if(e.hasOwnProperty(o)){if(!Ls(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(t.hasOwnProperty(o)&&!(o in a)&&typeof t[o]<"u")return!1;return!0}return!1}function Rw(e){return!!e&&typeof e.then=="function"}function Ju(e){let t=Array.isArray(e)?[]:{};for(let i in e)if(i){let r=e[i];t[i]=typeof r=="object"?Ju(r):r}return t}var td=(()=>{let t=class t{constructor(r,n,o,a){this.parser=r,this.settings=n,this.router=o,this.route=a,this.routerEvents=new it;let l=new zh(1);this.hooks={_initializedSubject:l,initialized:l.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(yt(r=>r instanceof pn),Xl()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(r,n,o){if(r!==this.parser.currentLang){let a=this.router.routerState.snapshot.root;this.parser.translateRoutes(r).subscribe(()=>{let l=this.traverseRouteSnapshot(a);if(l=this.translateRoute(l),!this.settings.alwaysSetPrefix){let p=l.split("/"),b=p.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(b===0||b===1&&p[0]==="")&&(p=p.slice(0,b).concat(p.slice(b+1)));else if(b===-1){let x=p[0]===""?1:0;p=p.slice(0,x).concat(this.parser.currentLang,p.slice(x))}l=p.join("/")}l=l.replace(/\/+/g,"/");let f=l.lastIndexOf("/");f>0&&f===l.length-1&&(l=l.slice(0,-1));let m=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,o){let p=n?K({},n):{};m&&(p.queryParams=m),this.router.navigate([l],p)}else{let p=this.parser.formatQueryParams(m);p=p?`?${p}`:"",this.router.navigateByUrl(`${l}${p}`,n)}})}}traverseRouteSnapshot(r){return r.firstChild&&r.routeConfig?`${this.parseSegmentValue(r)}/${this.traverseRouteSnapshot(r.firstChild)}`:r.firstChild?this.traverseRouteSnapshot(r.firstChild):this.parseSegmentValue(r)}buildUrlFromSegments(r,n){return n.map((o,a)=>o.indexOf(":")===0?r.url[a].path:o).join("/")}parseSegmentValue(r){if(r.routeConfig&&r.routeConfig.matcher){let n=this.parseSegmentValueMatcher(r);return this.buildUrlFromSegments(r,n)}else if(r.data.localizeRouter){let o=r.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(r,o)}else if(r.parent&&r.parent.parent){let o=r.routeConfig.path.split("/");return this.buildUrlFromSegments(r,o)}else return""}parseSegmentValueMatcher(r){let n=r.data&&r.data.localizeMatcher&&r.data.localizeMatcher.params||{};return r.url.map(a=>{let l=a.path,f=a.localizedParamName;return(f&&n[f]?n[f](l):null)||`${this.parser.getEscapePrefix()}${l}`})}translateRoute(r){if(typeof r=="string"){let o=this.parser.translateRoute(r);return r.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let n=[];return r.forEach((o,a)=>{if(typeof o=="string"){let l=this.parser.translateRoute(o);!a&&!o.indexOf("/")?n.push(this.parser.addPrefixToUrl(l)):n.push(l)}else n.push(o)}),n}_routeChanged(){return([r,n])=>{let o=this.parser.getLocationLang(r.url)||this.parser.defaultLang,a=this.parser.getLocationLang(n.url)||this.parser.defaultLang,l=this.lastExtras;a!==o&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(a).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,l),this.routerEvents.next(a)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let r=this.router.getCurrentNavigation(),n=this.router.serializeUrl(r.extractedUrl);this.router.events.next(new br(r.id,n,"")),this.router.navigationTransitions.transitions.next(Wt(K({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(r){this.router.resetConfig(Ju(r))}};t.\u0275fac=function(n){return new(n||t)(U(ra),U(Bs),U(Re),U(yr))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})(),Dw=128,rO=(()=>{let t=class t{constructor(r,n){this.localize=r,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(r){if(!r||r.length===0||!this.localize.parser.currentLang)return r;if(Ls(r,this.lastKey)&&Ls(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=r,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(r),this.lastKey=r;let n=this._ref._view;return n&&n.state&Dw?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}};t.\u0275fac=function(n){return new(n||t)(q(td,16),q(dr,16))},t.\u0275pipe=Gh({name:"localize",type:t,pure:!1});let e=t;return e})(),Zu=class{constructor(){}shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t&&i?this.getKey(t)===this.getKey(i):!1}getKey(t){if(t.firstChild&&t.firstChild.routeConfig&&t.firstChild.routeConfig.path&&t.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!t.data.localizeRouter&&(!t.parent||!t.parent.parent)&&!t.data.skipRouteLocalization)return"LANG";if(t.routeConfig.matcher){let i=`${this.getKey(t.parent)}/${t.routeConfig.matcher.name}`;return t.data.discriminantPathKey&&(i=`${i}-${t.data.discriminantPathKey}`),i}else if(t.data.localizeRouter){let i=`${this.getKey(t.parent)}/${t.data.localizeRouter.path}`;return t.data.discriminantPathKey&&(i=`${i}-${t.data.discriminantPathKey}`),i}else{let i=t.routeConfig.path;return t.parent&&(i=`${this.getKey(t.parent)}/${t.routeConfig.path}`),t.data.discriminantPathKey&&(i=`${i}-${t.data.discriminantPathKey}`),i}}},Ow=(()=>{let t=class t extends Re{constructor(){super(),this.platformId=G(tm),this.compiler=G(ki),this.localize=G(ra),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,a)=>Aw(a.loadChildren()).pipe(ft(kw),Ht(l=>l instanceof fs||Array.isArray(l)?tt(l):he(this.compiler.compileModuleAsync(l))),ft(l=>{this.onLoadEndListener&&this.onLoadEndListener(a);let f,m;if(Array.isArray(l))m=this.localize.initChildRoutes([].concat(...l));else{f=l.create(o).injector;let b=f.get.bind(f);f.get=(x,C,N)=>{let B=b(x,C,N);return x===vn?this.localize.initChildRoutes([].concat(...B)):B},m=f.get(vn,[],{optional:!0,self:!0}).reduce((x,C)=>x.concat(C),[])}return{routes:m.map(jp),injector:f}}));let n=_m(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(o,a)=>{if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return tt({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let f=this.loadModuleFactoryOrRoutes(o,a).pipe(Ri(()=>{this.childrenLoaders.delete(a)})),m=new Wn(f,()=>new it).pipe(Eo());return this.childrenLoaders.set(a,m),m}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function jp(e){let t=e.children&&e.children.map(jp),i=t?Wt(K({},e),{children:t}):K({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==ut&&(i.component=Vu),i}function Iw(e){return e&&typeof e=="object"&&"default"in e}function kw(e){return Iw(e)?e.default:e}function Aw(e){return xi(e)?e:Rw(e)?he(Promise.resolve(e)):tt(e)}var Tp=(()=>{let t=class t{constructor(r){this.injector=r}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(td),o=this.injector.get(Re),a=this.injector.get(Bs);if(n.init(),a.initialNavigation)return new Promise(l=>{let f=o.navigationTransitions.afterPreactivation,m=!0;o.navigationTransitions.afterPreactivation=()=>(m&&(l(),m=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),f())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(r,n){return this.parser=r,this.routes=n.reduce((o,a)=>o.concat(a)),this.appInitializer}};t.\u0275fac=function(n){return new(n||t)(U(Yt))},t.\u0275prov=st({token:t,factory:t.\u0275fac});let e=t;return e})();function Tw(e,t,i){let r=Ju(i);return e.generateInitializer(t,r).bind(e)}var nO=(()=>{let t=class t{static forRoot(r,n={}){return{ngModule:t,providers:[{provide:Re,useClass:Ow},{provide:_w,useFactory:Pw,deps:[[t,new ls,new us]]},{provide:Pp,useValue:n.useCachedLang},{provide:Bp,useValue:n.alwaysSetPrefix},{provide:Np,useValue:n.cacheName},{provide:Mp,useValue:n.cacheMechanism},{provide:Lp,useValue:n.defaultLangFunction},{provide:Fp,useValue:n.cookieFormat},{provide:$p,useValue:n.initialNavigation},Bs,n.parser||{provide:ra,useClass:Ew},{provide:Xu,multi:!0,useValue:r},td,Tp,{provide:Ao,multi:!0,useFactory:Tw,deps:[Tp,ra,Xu]},{provide:Qu,useClass:Zu}]}}static forChild(r){return{ngModule:t,providers:[{provide:Xu,multi:!0,useValue:r}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({imports:[ym,Ap,Pm]});let e=t;return e})();function Pw(e){if(e)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}function ed(e,t){if(_n(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(_n(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(e){var t=ed(e,"string");return _n(t)=="symbol"?t:String(t)}function zp(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rd(r.key),r)}}function ge(e,t,i){return t&&zp(e.prototype,t),i&&zp(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function na(e){return Array.isArray(e)?e.slice(0):[e]}function xr(e){return Array.isArray(e)}function Up(e){return e!=null}function js(e,t){var i=0,r=-1;for(var n of e){r=r+1;var o=t(n,r);if(o)i=i+1;else break}return i}function Lr(e,t){for(var i=t.length,r=0;r<i;++r){var n=t[r];e.push(n)}}function Vp(e){return e.filter(function(t,i,r){return r.indexOf(t)===i})}function Kp(e){for(var t="",i=new Uint8Array(e),r=i.byteLength,n=0;n<r;n++)t+=String.fromCharCode(i[n]);return btoa(t)}function Wp(e,t){return z(this,null,function*(){var i=yield fetch("data:"+t+";base64,"+e),r=yield i.blob();return r})}function Hp(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8Array]"&&(e=new Blob([e])),typeof e=="string"?Promise.resolve(e):e.text()}function qp(e){return z(this,null,function*(){if(typeof e=="string")return e;var t=Object.prototype.toString.call(e);t==="[object Uint8Array]"&&(e=new Blob([e]));var i=yield e.arrayBuffer();return Kp(i)})}function Yp(e){return e.size}function zs(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function nd(e){var t=parseInt(e.split("-")[0],10);return t}function Ui(e,t){var i=t?t._rev:null,r=i?zs(i).height:0,n=r+1;return n+"-"+e}function od(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&od(e[t])}),e}function Qp(e){var t=e.split("."),i=t.length;return i===1?r=>r[e]:r=>{for(var n=r,o=0;o<i;++o){var a=t[o];if(n=n[a],typeof n>"u")return n}return n}}function Us(e){var t={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(typeof e[i]=="object"){var r=Us(e[i]);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[i+"."+n]=r[n])}else t[i]=e[i];return t}function wt(e){return Object.assign({},e)}function Gp(e){return Object.keys(e)[0]}function Vi(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,n)=>typeof r=="string"&&typeof n=="string"?r.localeCompare(n):typeof r=="object"?1:-1).map(r=>Vi(r,t));if(typeof e=="object"&&!Array.isArray(e)){var i={};return Object.keys(e).sort((r,n)=>r.localeCompare(n)).forEach(r=>{i[r]=Vi(e[r],t)}),i}return e}function id(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),i=t.length;i--;)t[i]=id(e[i]);return t}var r={};for(var n in e)r[n]=id(e[n]);return r}var He=id;function qe(e,t,i){return Object.defineProperty(e,t,{get:function(){return i}}),i}var Vs=1;function xn(){return{lwt:Vs}}function Br(){return""}function Xp(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Zp(e,t,i){if(t.length!==i.length)return!1;for(var r=0,n=t.length;r<n;){var o=t[r],a=i[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}var CO=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var SO=Object.freeze(["prototype","__proto__","constructor"]);var Mw="[native code] }",EO=Mw.length;var wn=class e{constructor(t,i){t=this.words=t||[],this.sigBytes=i===void 0?t.length*4:i}toString(t){return(t||Nw).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let i=0;i<t.sigBytes;i++){let r=t.words[i>>>2]>>>24-i%4*8&255;this.words[this.sigBytes+i>>>2]|=r<<24-(this.sigBytes+i)%4*8}else for(let i=0;i<t.sigBytes;i+=4)this.words[this.sigBytes+i>>>2]=t.words[i>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new e([...this.words])}},Nw={stringify(e){let t=[];for(let i=0;i<e.sigBytes;i++){let r=e.words[i>>>2]>>>24-i%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}};var Fw={parse(e){let t=e.length,i=[];for(let r=0;r<t;r++)i[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new wn(i,t)}},$w={parse(e){return Fw.parse(unescape(encodeURIComponent(e)))}},ad=class{constructor(){this._data=new wn,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new wn,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=$w.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,i){}_process(t){let i,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);let n=r*this.blockSize,o=Math.min(n*4,this._data.sigBytes);if(n){for(let a=0;a<n;a+=this.blockSize)this._doProcessBlock(this._data.words,a);i=this._data.words.splice(0,n),this._data.sigBytes-=o}return new wn(i,o)}},sd=class extends ad{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}},Jp=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Lw=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ti=[],cd=class extends sd{constructor(){super(...arguments),this._hash=new wn([...Jp])}reset(){super.reset(),this._hash=new wn([...Jp])}_doProcessBlock(t,i){let r=this._hash.words,n=r[0],o=r[1],a=r[2],l=r[3],f=r[4],m=r[5],p=r[6],b=r[7];for(let x=0;x<64;x++){if(x<16)ti[x]=t[i+x]|0;else{let pt=ti[x-15],Kt=(pt<<25|pt>>>7)^(pt<<14|pt>>>18)^pt>>>3,gt=ti[x-2],Nt=(gt<<15|gt>>>17)^(gt<<13|gt>>>19)^gt>>>10;ti[x]=Kt+ti[x-7]+Nt+ti[x-16]}let C=f&m^~f&p,N=n&o^n&a^o&a,B=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),et=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),ot=b+et+C+Lw[x]+ti[x],at=B+N;b=p,p=m,m=f,f=l+ot|0,l=a,a=o,o=n,n=ot+at|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+l|0,r[4]=r[4]+f|0,r[5]=r[5]+m|0,r[6]=r[6]+p|0,r[7]=r[7]+b|0}finalize(t){super.finalize(t);let i=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(i/4294967296),this._data.words[(r+64>>>9<<4)+15]=i,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function tg(e){return new cd().finalize(e).toString()}function Bw(e){return Promise.resolve(tg(e))}function jw(e){return z(this,null,function*(){var t=new TextEncoder().encode(e),i=yield crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(i),n=>("00"+n.toString(16)).slice(-2)).join("");return r})}var zw=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",eg=zw?jw:Bw;function rg(){return new Promise(e=>setTimeout(e,0))}function ng(e=0){return new Promise(t=>setTimeout(t,e))}var Uw=Promise.resolve(!0),er=Promise.resolve(!1),ig=Promise.resolve(null),Cn=Promise.resolve();function ud(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):ng(0)}var ld=Cn;function og(e=void 0){return ld=ld.then(()=>ud(e)),ld}function ag(e,t){return e.reduce((i,r)=>i.then(r),Promise.resolve(t))}var sg=/\./g;var cg="abcdefghijklmnopqrstuvwxyz";function ei(e=10){for(var t="",i=0;i<e;i++)t+=cg.charAt(Math.floor(Math.random()*cg.length));return t}function Ks(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function rr(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function dd(e){return!!(e.includes("/")||e.includes("\\"))}function Sn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r;if(Array.isArray(e)){if(i=e.length,i!==t.length)return!1;for(r=i;r--!==0;)if(!Sn(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e);if(i=n.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(r=i;r--!==0;){var o=n[r];if(!Sn(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var hd=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},fd=new Set(["__proto__","prototype","constructor"]),Vw=new Set("0123456789");function lg(e){var t=[],i="",r="start",n=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");n&&(i+=o),r="property",n=!n;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(n){n=!1,i+=o;break}if(fd.has(i))return[];t.push(i),i="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(n){n=!1,i+=o;break}if(r==="property"){if(fd.has(i))return[];t.push(i),i=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(i,10)),i="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!Vw.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),n&&(n=!1,i+="\\"),i+=o}}switch(n&&(i+="\\"),r){case"property":{if(fd.has(i))return[];t.push(i);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function ug(e,t){if(typeof t!="number"&&Array.isArray(e)){var i=Number.parseInt(t,10);return Number.isInteger(i)&&e[i]===e[t]}return!1}function Kw(e,t){if(ug(e,t))throw new Error("Cannot use string index")}function De(e,t,i){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!hd(e)||typeof t!="string")return i===void 0?e:i;var r=lg(t);if(r.length===0)return i;for(var n=0;n<r.length;n++){var o=r[n];if(ug(e,o)?e=n===r.length-1?void 0:null:e=e[o],e==null){if(n!==r.length-1)return i;break}}return e===void 0?i:e}function md(e,t,i){if(Array.isArray(t)&&(t=t.join(".")),!hd(e)||typeof t!="string")return e;for(var r=e,n=lg(t),o=0;o<n.length;o++){var a=n[o];Kw(e,a),o===n.length-1?e[a]=i:hd(e[a])||(e[a]=typeof n[o+1]=="number"?[]:{}),e=e[a]}return r}function En(e,t){var i=e.get(t);if(typeof i>"u")throw new Error("missing value from map "+t);return i}function _e(e,t,i,r){var n=e.get(t);return typeof n>"u"?(n=i(),e.set(t,n)):r&&r(n),n}function At(e){var t=e.split("-"),i="RxDB";return t.forEach(r=>{i+=Ks(r)}),i+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+i+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+i+`);
        `)}var pd=0;function te(){var e=Date.now();e=e+.01,e<=pd&&(e=pd+.01);var t=parseFloat(e.toFixed(2));return pd=t,t}function Dt(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var Ws={bufferSize:1,refCount:!0};var ia="15.8.1";function jr(e,t){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jr(e,t)}function Hs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jr(e,t)}function oa(e){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},oa(e)}function gd(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function qs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qs=function(){return!!e})()}function vd(e,t,i){if(qs())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var n=new(e.bind.apply(e,r));return i&&jr(n,i.prototype),n}function Ki(e){var t=typeof Map=="function"?new Map:void 0;return Ki=function(r){if(r===null||!gd(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return vd(r,arguments,oa(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),jr(n,r)},Ki(e)}var Ot={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function Ww(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(i=>{var r="[object Object]";try{i==="errors"?r=e[i].map(n=>JSON.stringify(n,Object.getOwnPropertyNames(n))):r=JSON.stringify(e[i],function(n,o){return o===void 0?null:o},2)}catch{}return i+":"+r}).join(`
`),t+="}"),t}function dg(e,t,i){return"RxError ("+t+`):
`+e+`
`+Ww(i)}var Hw=function(e){Hs(t,e);function t(r,n,o={}){var a,l=dg(n,r,o);return a=e.call(this,l)||this,a.code=r,a.message=l,a.parameters=o,a.rxdb=!0,a}var i=t.prototype;return i.toString=function(){return this.message},ge(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(Ki(Error)),qw=function(e){Hs(t,e);function t(r,n,o={}){var a,l=dg(n,r,o);return a=e.call(this,l)||this,a.code=r,a.message=l,a.parameters=o,a.rxdb=!0,a}var i=t.prototype;return i.toString=function(){return this.message},ge(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(Ki(TypeError));function T(e,t){return new Hw(e,Ot.tunnelErrorMessage(e),t)}function oe(e,t){return new qw(e,Ot.tunnelErrorMessage(e),t)}function Ys(e){return e&&e.status===409?e:!1}var Yw={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function fg(e){return T("COL20",{name:Yw[e.status],document:e.documentId,writeError:e})}var Wi={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function ae(e,t){Wi[e]&&Wi[e].forEach(i=>i(t))}function Rn(e,t){return Promise.all(Wi[e].map(i=>i(t)))}function Oe(e,t){var i=t;i=i.replace(sg,".properties."),i="properties."+i,i=rr(i);var r=De(e,i);return r}function Qs(e,t,i){if(typeof t.primaryKey=="string")return i;var r=aa(t,i),n=i[e];if(n&&n!==r)throw T("DOC19",{args:{documentData:i,existingPrimary:n,newPrimary:r},schema:t});return i[e]=r,i}function xe(e){return typeof e=="string"?e:e.key}function aa(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var i=e.primaryKey;return i.fields.map(r=>{var n=De(t,r);if(typeof n>"u")throw T("DOC18",{args:{field:r,documentData:t}});return n}).join(i.separator)}function hg(e){var t=Vi(e,!0);return t}function Qw(e){return["_deleted",e]}function Gs(e){e=wt(e);var t=xe(e.primaryKey);e.properties=wt(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Gw,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var i=bd(e);Lr(e.required,i),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,l)=>l.indexOf(o)===a),e.version=e.version||0;var r=e.indexes.map(o=>{var a=xr(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(Qw(t)),r.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map(o=>{r.push(o)});var n=new Set;return r.filter(o=>{var a=o.join(",");return n.has(a)?!1:(n.add(a),!0)}),e.indexes=r,e}var Gw={type:"object",properties:{lwt:{type:"number",minimum:Vs,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function bd(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),i=xe(e.primaryKey);return t.push(i),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function mg(e,t){for(var i=Object.keys(e.defaultValues),r=0;r<i.length;++r){var n=i[r];(!Object.prototype.hasOwnProperty.call(t,n)||typeof t[n]>"u")&&(t[n]=e.defaultValues[n])}return t}var yd=function(){function e(i,r){this.jsonSchema=i,this.hashFunction=r,this.indexes=Xw(this.jsonSchema),this.primaryPath=xe(this.jsonSchema.primaryKey),this.finalFields=bd(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,n){this.finalFields.forEach(o=>{if(!Sn(r[o],n[o]))throw T("DOC9",{dataBefore:r,dataAfter:n,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},n=Oe(this.jsonSchema,"");return Object.keys(n).forEach(o=>{var a=o;r.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(a);return l}}),Object.defineProperty(r,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),qe(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return aa(this.jsonSchema,r)},ge(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var i={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,n])=>i[r]=n.default),qe(this,"defaultValues",i)}},{key:"hash",get:function(){return qe(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function Xw(e){return(e.indexes||[]).map(t=>xr(t)?t:[t])}function pg(e){var t=e.version?e.version:0,i=0;return new Array(t).fill(0).map(()=>i++)}function gg(e,t,i=!0){i&&ae("preCreateRxSchema",e);var r=Gs(e);r=hg(r),Ot.deepFreezeWhenDevMode(r);var n=new yd(r,t);return ae("createRxSchema",n),n}function Xs(e){return e.documentData?e.documentData:e.previousDocumentData}function vg(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Ot.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function Zs(e){return e[e.length-1]}function Zw(e){let t=typeof e;return e!==null&&(t==="object"||t==="function")}function _d(e,t,i){if(Array.isArray(t)&&(t=t.join(".")),!Zw(e)||typeof t!="string")return i===void 0?e:i;let r=t.split(".");if(r.length===0)return i;for(let n=0;n<r.length;n++){let o=r[n];if(Jw(e,o)?e=n===r.length-1?void 0:null:e=e[o],e==null){if(n!==r.length-1)return i;break}}return e===void 0?i:e}function Jw(e,t){if(typeof t!="number"&&Array.isArray(e)){let i=Number.parseInt(t,10);return Number.isInteger(i)&&e[i]===e[t]}return!1}var xd=e=>!!e.queryParams.limit,bg=e=>e.queryParams.limit===1,yg=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),_g=e=>e.changeEvent.operation==="DELETE",xg=e=>e.changeEvent.operation==="INSERT",wg=e=>e.changeEvent.operation==="UPDATE",Cg=e=>xd(e)&&e.previousResults.length>=e.queryParams.limit,Sg=e=>{let t=e.queryParams.sortFields,i=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!i)return!0;for(let n=0;n<t.length;n++){let o=t[n],a=_d(i,o),l=_d(r,o);if(a!==l)return!0}return!1},Eg=e=>{let t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{let i=e.queryParams.primaryKey,r=e.previousResults;for(let n=0;n<r.length;n++)if(r[n][i]===t)return!0;return!1}},Rg=e=>{let t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Dg=e=>{let t=Zs(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Og=e=>{let t=e.changeEvent.previous;if(!t)return!1;let i=e.previousResults[0];return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)<0:!1},Ig=e=>{let t=e.changeEvent.previous;if(!t)return!1;let i=Zs(e.previousResults);return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)>0:!1},kg=e=>{let t=e.changeEvent.doc;if(!t)return!1;let i=e.previousResults[0];return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)<0:!1},Ag=e=>{let t=e.changeEvent.doc;if(!t)return!1;let i=Zs(e.previousResults);return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)>0:!1},Tg=e=>{let t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},Pg=e=>{let t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},Mg=e=>e.previousResults.length===0;var Ng={0:xg,1:wg,2:_g,3:xd,4:bg,5:yg,6:Mg,7:Cg,8:Rg,9:Dg,10:Sg,11:Eg,12:Og,13:Ig,14:kg,15:Ag,16:Tg,17:Pg};function Fg(e,t,i,r){var n=e.length,o=n-1,a=0;if(n===0)return e.push(t),0;for(var l;r<=o;)a=r+(o-r>>1),l=e[a],i(l,t)<=0?r=a+1:o=a-1;return i(l,t)<=0&&a++,e.splice(a,0,t),a}var $g=e=>{},Js=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},tc=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},ec=e=>{let t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},rc=e=>{let t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Lg=e=>{ec(e),tc(e)},Bg=e=>{rc(e),Js(e)},jg=e=>{ec(e),Js(e)},zg=e=>{rc(e),tc(e)},wd=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);let t=e.queryParams.primaryKey,i=e.previousResults;for(let r=0;r<i.length;r++)if(i[r][t]===e.changeEvent.id){i.splice(r,1);break}},Ug=e=>{let t=e.changeEvent.doc,i=e.queryParams.primaryKey,r=e.previousResults;for(let n=0;n<r.length;n++)if(r[n][i]===e.changeEvent.id){r[n]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},Vg=e=>{let t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},Cd=e=>{let t=e.changeEvent.id,i=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,i)}else if(e.previousResults.find(n=>n[e.queryParams.primaryKey]===t))return;Fg(e.previousResults,i,e.queryParams.sortComparator,0)},Kg=e=>{wd(e),Cd(e)},Wg=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},Hg=e=>{throw new Error("Action unknownAction should never be called")};var qg=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Yg={doNothing:$g,insertFirst:Js,insertLast:tc,removeFirstItem:ec,removeLastItem:rc,removeFirstInsertLast:Lg,removeLastInsertFirst:Bg,removeFirstInsertFirst:jg,removeLastInsertLast:zg,removeExisting:wd,replaceExisting:Ug,alwaysWrong:Vg,insertAtSortPosition:Cd,removeExistingAndInsertAtSortPosition:Kg,runFullQueryAgain:Wg,unknownAction:Hg};function nc(e){return e.charCodeAt(0)-40}function Qg(e){return e?"1":"0"}function tC(e=6){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length;for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*r));return t}var FI=tC(4);function Sd(e,t){let i=[];for(let r=0,n=e.length;r<n;r+=t)i.push(e.substring(r,r+t));return i}function Gg(e){let t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,n=e.substring(2,r),o=Sd(n,2);for(let B=0;B<o.length;B++){let et=o[B],ot=et.charAt(0),at=nc(et.charAt(1));t.set(ot,at)}let a=e.substring(r,e.length-3),l=Sd(a,4);for(let B=0;B<l.length;B++){let et=l[B],ot=et.charAt(0),at=et.charAt(1),pt=et.charAt(2),Kt=nc(et.charAt(3));if(!t.has(at))throw new Error("missing node with id "+at);if(!t.has(pt))throw new Error("missing node with id "+pt);let gt=t.get(at),Nt=t.get(pt),Et={l:Kt,0:gt,1:Nt};t.set(ot,Et)}let f=e.slice(-3),m=f.charAt(0),p=f.charAt(1),b=nc(f.charAt(2)),x=t.get(m),C=t.get(p);return{l:b,0:x,1:C}}function Xg(e,t,i){let r=e,n=e.l;for(;;){let o=t[n](i),a=Qg(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;n=r.l}}var eC="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",Ed;function rC(){return Ed||(Ed=Gg(eC)),Ed}var Zg=e=>Xg(rC(),Ng,e);function Jg(e){let t=Zg(e);return qg[t]}function tv(e,t,i,r,n){let o=Yg[e];return o({queryParams:t,changeEvent:i,previousResults:r,keyDocumentMap:n}),r}var ri="\uFFFF",ni=Number.MIN_SAFE_INTEGER;function ev(e,t){var i=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var n=!!t.sort.find(p=>Object.values(p)[0]==="desc"),o=new Set;Object.keys(i).forEach(p=>{var b=Oe(e,p);b&&b.type==="boolean"&&Object.prototype.hasOwnProperty.call(i[p],"$eq")&&o.add(p)});var a=t.sort.map(p=>Object.keys(p)[0]),l=a.filter(p=>!o.has(p)).join(","),f=-1,m;if(r.forEach(p=>{var b=!0,x=!0,C=p.map(at=>{var pt=i[at],Kt=pt?Object.keys(pt):[],gt={};if(!pt||!Kt.length){var Nt=x?ni:ri;gt={startKey:Nt,endKey:b?ri:ni,inclusiveStart:!0,inclusiveEnd:!0}}else Kt.forEach(Et=>{if(ic.has(Et)){var xt=pt[Et],Pt=aC(Et,xt);gt=Object.assign(gt,Pt)}});return typeof gt.startKey>"u"&&(gt.startKey=ni),typeof gt.endKey>"u"&&(gt.endKey=ri),typeof gt.inclusiveStart>"u"&&(gt.inclusiveStart=!0),typeof gt.inclusiveEnd>"u"&&(gt.inclusiveEnd=!0),x&&!gt.inclusiveStart&&(x=!1),b&&!gt.inclusiveEnd&&(b=!1),gt}),N=C.map(at=>at.startKey),B=C.map(at=>at.endKey),et={index:p,startKeys:N,endKeys:B,inclusiveEnd:b,inclusiveStart:x,sortSatisfiedByIndex:!n&&l===p.filter(at=>!o.has(at)).join(","),selectorSatisfiedByIndex:oC(p,t.selector,N,B)},ot=sC(e,t,et);(ot>=f||t.index)&&(f=ot,m=et)}),!m)throw T("SNH",{query:t});return m}var ic=new Set(["$eq","$gt","$gte","$lt","$lte"]),nC=new Set(["$eq","$gt","$gte"]),iC=new Set(["$eq","$lt","$lte"]);function oC(e,t,i,r){var n=Object.entries(t),o=n.find(([Et,xt])=>{if(!e.includes(Et))return!0;var Pt=Object.entries(xt).find(([Dr,di])=>!ic.has(Dr));return Pt});if(o||t.$and||t.$or)return!1;var a=[],l=new Set;for(var[f,m]of Object.entries(t)){if(!e.includes(f))return!1;var p=Object.keys(m).filter(Et=>nC.has(Et));if(p.length>1)return!1;var b=p[0];if(b&&l.add(f),b!=="$eq"){if(a.length>0)return!1;a.push(b)}}var x=[],C=new Set;for(var[N,B]of Object.entries(t)){if(!e.includes(N))return!1;var et=Object.keys(B).filter(Et=>iC.has(Et));if(et.length>1)return!1;var ot=et[0];if(ot&&C.add(N),ot!=="$eq"){if(x.length>0)return!1;x.push(ot)}}var at=0;for(var pt of e){for(var Kt of[l,C]){if(!Kt.has(pt)&&Kt.size>0)return!1;Kt.delete(pt)}var gt=i[at],Nt=r[at];if(gt!==Nt&&l.size>0&&C.size>0)return!1;at++}return!0}function aC(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function sC(e,t,i){var r=0,n=p=>{p>0&&(r=r+p)},o=10,a=js(i.startKeys,p=>p!==ni&&p!==ri);n(a*o);var l=js(i.startKeys,p=>p!==ri&&p!==ni);n(l*o);var f=js(i.startKeys,(p,b)=>p===i.endKeys[b]);n(f*o*1.5);var m=i.sortSatisfiedByIndex?5:0;return n(m),r}var Id=Number.MAX_SAFE_INTEGER,kd=Number.MIN_SAFE_INTEGER,zr=Symbol("missing"),ov=Object.freeze(new Error("mingo: cycle detected while processing object/array")),cC=Object.getPrototypeOf([]),av=Object.getPrototypeOf({}),lC="[object Object]",uC=/^\[object ([a-zA-Z0-9]+)\]$/,ca=class{},la=class{},ii=e=>e===null?ca:e===void 0?la:e.constructor,ua=e=>{let t=pC(e),i=0,r=t.length;for(;r;)i=(i<<5)-i^t.charCodeAt(--r);return i>>>0},sv=new Set(["null","undefined","boolean","number","string","date","regexp"]),rv=new Set([la,ca,Boolean,String,Number]),sa=e=>e.toString(),nr=e=>`${ii(e).name}[${e.toString()}]`,oi=new Map([[Number,sa],[Boolean,sa],[RegExp,sa],[Function,sa],[Symbol,sa],[Date,e=>e.toISOString()],[String,JSON.stringify],[ca,e=>"null"],[la,e=>"undefined"],[Int8Array,nr],[Uint8Array,nr],[Uint8ClampedArray,nr],[Int16Array,nr],[Uint16Array,nr],[Int32Array,nr],[Uint32Array,nr],[Float32Array,nr],[Float64Array,nr]]);typeof BigInt<"u"&&oi.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&oi.set(BigInt64Array,nr);typeof BigUint64Array<"u"&&oi.set(BigUint64Array,nr);var dC={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Ft=(e,t)=>{e===zr&&(e=void 0),t===zr&&(t=void 0);let[i,r]=[e,t].map(n=>dC[Dn(n).toLowerCase()]);return i!==r?i-r:i===1||i===2||i===6?e<t?-1:e>t?1:0:ve(e,t)?0:e<t?-1:e>t?1:0};function j(e,t){if(!e)throw new Error(t)}var fC=e=>{let t=Object.getPrototypeOf(ii(e));return t&&t.name==="TypedArray"},Yi=e=>{if(rv.has(ii(e)))return e;let t=new Set,i=r=>{if(t.has(r))throw ov;let n=ii(r);if(rv.has(n))return r;try{if(rt(r))return t.add(r),r.map(i);if(ct(r)){t.add(r);let o={};for(let a in r)o[a]=i(r[a]);return o}}finally{t.delete(r)}return n===Date||n===RegExp||fC(r)?new n(r):r};return i(e)},Dn=e=>uC.exec(Object.prototype.toString.call(e))[1],da=e=>typeof e=="boolean",Ct=e=>typeof e=="string";var lt=e=>!isNaN(e)&&typeof e=="number";var rt=Array.isArray,ct=e=>{if(!e)return!1;let t=Object.getPrototypeOf(e);return(t===av||t===null)&&lC===Object.prototype.toString.call(e)},fa=e=>e===Object(e),ai=e=>e instanceof Date,ha=e=>e instanceof RegExp,Qi=e=>typeof e=="function",W=e=>e==null,wr=(e,t)=>e.includes(t),sc=(e,t)=>!wr(e,t),Cr=(e,t=!0)=>!!e||t&&e==="",Fe=e=>W(e)||Ct(e)&&!e||e instanceof Array&&e.length===0||ct(e)&&Object.keys(e).length===0,nv=e=>e===zr,Ur=e=>e instanceof Array?e:[e],zt=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),hC=(e,t)=>ct(e)&&ct(t)||rt(e)&&rt(t);function oc(e,t,i){if(i=i||{flatten:!1},nv(e)||W(e))return t;if(nv(t)||W(t))return e;if(!hC(e,t)){if(i.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(i.skipValidation=!0,rt(e)){let r=e,n=t;if(i.flatten){let o=0,a=0;for(;o<r.length&&a<n.length;)r[o]=oc(r[o++],n[a++],i);for(;a<n.length;)r.push(t[a++])}else Ye(r,n)}else for(let r in t)e[r]=oc(e[r],t[r],i);return e}function Dd(e,t=ua){let i=new Map;return e.forEach((r,n)=>{let o=cc(r,t);i.has(o)?i.get(o).some(a=>ve(e[a],r))||i.get(o).push(n):i.set(o,[n])}),i}function Vr(e,t=ua){if(e.some(l=>l.length==0))return[];if(e.length===1)return Array.from(e);let i=cv(e.map((l,f)=>[f,l.length]),l=>l[1]),r=e[i[0][0]],n=Dd(r,t),o=new Map,a=new Array;return n.forEach((l,f)=>{let m=l.map(C=>r[C]),p=m.map(C=>0),b=m.map(C=>[i[0][0],0]),x=!1;for(let C=1;C<e.length;C++){let[N,B]=i[C],et=e[N];if(o.has(C)||o.set(C,Dd(et)),o.get(C).has(f)){let ot=o.get(C).get(f).map(at=>et[at]);x=m.map((at,pt)=>ot.some((Kt,gt)=>{let Nt=p[pt];return ve(at,Kt)&&(p[pt]++,N<b[pt][0]&&(b[pt]=[N,o.get(C).get(f)[gt]])),Nt<p[pt]})).some(Boolean)}if(!x)return}x&&Ye(a,p.map((C,N)=>C===e.length-1?[m[N],b[N]]:zr).filter(C=>C!==zr))}),a.sort((l,f)=>{let[m,[p,b]]=l,[x,[C,N]]=f,B=Ft(p,C);return B!==0?B:Ft(b,N)}).map(l=>l[0])}function Ad(e,t=0){let i=new Array;function r(n,o){for(let a=0,l=n.length;a<l;a++)rt(n[a])&&(o>0||o<0)?r(n[a],Math.max(-1,o-1)):i.push(n[a])}return r(e,t),i}var mC=e=>{let[t,i]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!i.length&&t!==av&&t!==cC;)r=t,i=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);let n={};return i.forEach(o=>n[o]=e[o]),[n,r]};function ve(e,t){let i=[[e,t]];for(;i.length>0;){if([e,t]=i.pop(),e===t)continue;let r=ii(e);if(r!==ii(t)||Qi(e))return!1;if(oi.has(r)){let n=oi.get(r);if(n(e)!==n(t))return!1;continue}if(r===Array||r===Object){let n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length||new Set(n.concat(o)).size!=n.length)return!1;for(let a of n)i.push([e[a],t[a]]);continue}return!1}return!i.length}function ma(e,t=ua){let i=e.map(r=>zr);return Dd(e,t).forEach((r,n)=>{r.forEach(o=>i[o]=e[o])}),i.filter(r=>r!==zr)}function pC(e){let t=new Set,i=r=>{let n=ii(r);if(oi.has(n))return oi.get(n)(r);let o=n===Object?"":n.name;if(Qi(r.toJSON))return`${o}(${JSON.stringify(r)})`;if(t.has(r))throw ov;t.add(r);try{if(n===Array)return"["+r.map(i).join(",")+"]";if(n!==Object){let[l,f]=mC(r);if(rt(r))return`${o}${i([...r,l])}`;r=l}let a=Object.keys(r);return a.sort(),`${o}{`+a.map(l=>`${l}:${i(r[l])}`).join(",")+"}"}finally{t.delete(r)}};return i(e)}function cc(e,t){return t=t||ua,W(e)?null:t(e).toString()}function cv(e,t,i=Ft){if(Fe(e))return e;let r=new Array,n=new Array;for(let o=0;o<e.length;o++){let a=e[o],l=t(a,o);W(l)?n.push(a):r.push([l,a])}return r.sort((o,a)=>i(o[0],a[0])),Ye(n,r.map(o=>o[1]))}function lc(e,t,i=ua){if(e.length<1)return new Map;let r=new Map,n=new Map;for(let o=0;o<e.length;o++){let a=e[o],l=t(a,o),f=cc(l,i);if(f===null)n.has(null)?n.get(null).push(a):n.set(null,[a]);else{let m=r.has(f)?r.get(f).find(p=>ve(p,l)):null;W(m)?(n.set(l,[a]),r.has(f)?r.get(f).push(l):r.set(f,[l])):n.get(m).push(a)}}return n}var Rd=5e4;function Ye(e,...t){return e instanceof Array?t.reduce((i,r)=>{let n=Math.ceil(r.length/Rd),o=0;for(;n-- >0;)Array.prototype.push.apply(i,r.slice(o,o+Rd)),o+=Rd;return i},e):t.filter(fa).reduce((i,r)=>(Object.assign(i,r),i),e)}function Od(e,t){return fa(e)?e[t]:void 0}function gC(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function we(e,t,i){let r=0;function n(a,l){let f=a;for(let m=0;m<l.length;m++){let p=l[m];if(/^\d+$/.exec(p)===null&&f instanceof Array){if(m===0&&r>0)break;r+=1;let x=l.slice(m);f=f.reduce((C,N)=>{let B=n(N,x);return B!==void 0&&C.push(B),C},[]);break}else f=Od(f,p);if(f===void 0)break}return f}let o=sv.has(Dn(e).toLowerCase())?e:n(e,t.split("."));return o instanceof Array&&i?.unwrapArray?gC(o,r):o}function Hi(e,t,i){let r=t.split("."),n=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(n)!==null,l=r.length>1,f,m;if(e instanceof Array)if(a)f=Od(e,Number(n)),l&&(f=Hi(f,o,i)),f=[f];else{f=[];for(let p of e)m=Hi(p,t,i),i?.preserveMissing?(m===void 0&&(m=zr),f.push(m)):m!==void 0&&f.push(m)}else{if(m=Od(e,n),l&&(m=Hi(m,o,i)),m===void 0)return;f=i?.preserveKeys?Object.assign({},e):{},f[n]=m}return f}function ac(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===zr?e.splice(t,1):ac(e[t]);else if(ct(e))for(let t in e)zt(e,t)&&ac(e[t])}var iv=/^\d+$/;function qi(e,t,i,r){let n=t.split("."),o=n[0],a=n.slice(1).join(".");if(n.length===1)(ct(e)||rt(e)&&iv.test(o))&&i(e,o);else{r?.buildGraph&&W(e[o])&&(e[o]={});let l=e[o];if(!l)return;let f=!!(n.length>1&&iv.test(n[1]));l instanceof Array&&r?.descendArray&&!f?l.forEach(m=>qi(m,a,i,r)):qi(l,a,i,r)}}function uc(e,t,i){qi(e,t,(r,n)=>{r[n]=Qi(i)?i(r[n]):i},{buildGraph:!0})}function pa(e,t,i){qi(e,t,(r,n)=>{if(r instanceof Array){if(/^\d+$/.test(n))r.splice(parseInt(n),1);else if(i&&i.descendArray)for(let o of r)ct(o)&&delete o[n]}else ct(r)&&delete r[n]},i)}var vC=/^\$[a-zA-Z0-9_]+$/;function $e(e){return vC.test(e)}function dc(e){if(sv.has(Dn(e).toLowerCase()))return ha(e)?{$regex:e}:{$eq:e};if(fa(e)){if(!Object.keys(e).some($e))return{$eq:e};if(zt(e,"$regex")){let i=Object.assign({},e);return i.$regex=new RegExp(e.$regex,e.$options),delete i.$options,i}}return e}var Kr=function(e){return e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF",e}(Kr||{}),Vt=class e{constructor(t,i,r,n=Date.now()){this._opts=t,this._root=i,this._local=r,this.timestamp=n,this.update(i,r)}static init(t,i,r){return t instanceof e?new e(t._opts,W(t.root)?i:t.root,Object.assign({},t.local,r)):new e(t,i,r)}update(t,i){var r;return this._root=t,this._local=i&&Object.assign({},i,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,i?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:Gi.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||Kr.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}};function On(e){return e instanceof Vt?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:Kr.CLONE_OFF},e),{context:e?.context?Gi.from(e?.context):Gi.init({})}))}var _t=function(e){return e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e}(_t||{}),Gi=class e{constructor(t){this.operators={[_t.ACCUMULATOR]:{},[_t.EXPRESSION]:{},[_t.PIPELINE]:{},[_t.PROJECTION]:{},[_t.QUERY]:{},[_t.WINDOW]:{}};for(let[i,r]of Object.entries(t))this.addOperators(i,r)}static init(t={}){return new e(t)}static from(t){return new e(t.operators)}addOperators(t,i){for(let[r,n]of Object.entries(i))this.getOperator(t,r)||(this.operators[t][r]=n);return this}addAccumulatorOps(t){return this.addOperators(_t.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(_t.EXPRESSION,t)}addQueryOps(t){return this.addOperators(_t.QUERY,t)}addPipelineOps(t){return this.addOperators(_t.PIPELINE,t)}addProjectionOps(t){return this.addOperators(_t.PROJECTION,t)}addWindowOps(t){return this.addOperators(_t.WINDOW,t)}getOperator(t,i){return t in this.operators&&this.operators[t][i]||null}},si=Gi.init();function Md(e,t){for(let[i,r]of Object.entries(t)){j(Qi(r)&&$e(i),`'${i}' is not a valid operator`);let n=ir(e,i,null);j(!n||r===n,`${i} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case _t.ACCUMULATOR:si.addAccumulatorOps(t);break;case _t.EXPRESSION:si.addExpressionOps(t);break;case _t.PIPELINE:si.addPipelineOps(t);break;case _t.PROJECTION:si.addProjectionOps(t);break;case _t.QUERY:si.addQueryOps(t);break;case _t.WINDOW:si.addWindowOps(t);break}}function ir(e,t,i){let{context:r,useGlobalContext:n}=i||{},o=r?r.getOperator(e,t):null;return!o&&n?si.getOperator(e,t):o}var lv={$$ROOT(e,t,i){return i.root},$$CURRENT(e,t,i){return e},$$REMOVE(e,t,i){},$$NOW(e,t,i){return new Date(i.timestamp)}},Td={$$KEEP(e,t,i){return e},$$PRUNE(e,t,i){},$$DESCEND(e,t,i){if(!zt(t,"$cond"))return e;let r;for(let[n,o]of Object.entries(e))if(fa(o)){if(o instanceof Array){let a=[];for(let l of o)ct(l)&&(l=Pd(l,t,i.update(l))),W(l)||a.push(l);r=a}else r=Pd(o,t,i.update(o));W(r)?delete e[n]:e[n]=r}return e}};function A(e,t,i,r){var n;let o=Vt.init(r,e);if(i=i||"",$e(i)){let a=ir(_t.EXPRESSION,i,r);if(a)return a(e,t,o);let l=ir(_t.ACCUMULATOR,i,r);if(l)return e instanceof Array||(e=A(e,t,null,o),t=null),j(e instanceof Array,`'${i}' target must be an array.`),l(e,t,o.update(null,o.local));throw new Error(`operator '${i}' is not registered`)}if(Ct(t)&&t.length>0&&t[0]==="$"){if(zt(Td,t))return t;let a=o.root,l=t.split(".");if(zt(lv,l[0]))a=lv[l[0]](e,null,o),t=t.slice(l[0].length+1);else if(l[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(n=o.local)===null||n===void 0?void 0:n.variables);let f=l[0].slice(2);j(zt(a,f),`Use of undefined variable: ${f}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:we(a,t)}if(rt(t))return t.map(a=>A(e,a,null,o));if(ct(t)){let a={};for(let[l,f]of Object.entries(t))if(a[l]=A(e,f,l,o),[_t.EXPRESSION,_t.ACCUMULATOR].some(m=>!!ir(m,l,r)))return j(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[l];return a}return t}function Pd(e,t,i){let r=A(e,t,null,i);return zt(Td,r)?Td[r](e,t,i):r}function Le(e){return e instanceof ga?e:new ga(e)}function fc(...e){let t=0;return Le(()=>{for(;t<e.length;){let i=e[t].next();if(!i.done)return i;t++}return{done:!0}})}function bC(e){return!!e&&typeof e=="object"&&e?.next instanceof Function}function yC(e,t){let i=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,i)}var Nd=new Error,Wr=function(e){return e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP",e}(Wr||{});function _C(e,t,i){let r=!1,n=-1,o=0;return function(a){try{t:for(;!r;){let l=e();n++;let f=-1,m=t.length,p=!1;for(;++f<m;){let b=t[f];switch(b.action){case Wr.MAP:l=b.func(l,n);break;case Wr.FILTER:if(!b.func(l,n))continue t;break;case Wr.TAKE:--b.count,b.count||(p=!0);break;case Wr.DROP:--b.count,b.count||yC(t,f);continue t;default:break t}}if(r=p,a)i[o++]=l;else return{value:l,done:!1}}}catch(l){if(l!==Nd)throw l}return r=!0,{done:r}}}var ga=class{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let i;if(t instanceof Function&&(t={next:t}),bC(t)){let r=t;i=()=>{let n=r.next();if(n.done)throw Nd;return n.value}}else if(t instanceof Array){let r=t,n=r.length,o=0;i=()=>{if(o<n)return r[o++];throw Nd}}else if(!(t instanceof Function))throw new Error("Lazy must be initialized with an array, generator, or function.");this.getNext=_C(i,this.iteratees,this.yieldedValues)}push(t,i){return typeof i=="function"?this.iteratees.push({action:t,func:i}):typeof i=="number"&&this.iteratees.push({action:t,count:i}),this}next(){return this.getNext()}map(t){return this.push(Wr.MAP,t)}filter(t){return this.push(Wr.FILTER,t)}take(t){return t>0?this.push(Wr.TAKE,t):this}drop(t){return t>0?this.push(Wr.DROP,t):this}transform(t){let i=this,r;return Le(()=>(r||(r=Le(t(i.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){let i=this.next();if(i.done)break;if(t(i.value)===!1)return!1}return!0}reduce(t,i){let r=this.next();for(i===void 0&&!r.done&&(i=r.value,r=this.next());!r.done;)i=t(i,r.value),r=this.next();return i}size(){return this.reduce((t,i)=>++t,0)}[Symbol.iterator](){return this}};var Sr=class{constructor(t,i){this.pipeline=t,this.options=On(i)}stream(t){let i=Le(t),r=this.options.processingMode;(r==Kr.CLONE_ALL||r==Kr.CLONE_INPUT)&&i.map(Yi);let n=new Array;if(!Fe(this.pipeline))for(let o of this.pipeline){let a=Object.keys(o),l=a[0],f=ir(_t.PIPELINE,l,this.options);j(a.length===1&&!!f,`invalid pipeline operator ${l}`),n.push(l),i=f(i,o[l],this.options)}return(r==Kr.CLONE_OUTPUT||r==Kr.CLONE_ALL&&Vr([["$group","$unwind"],n]).length)&&i.map(Yi),i}run(t){return this.stream(t).value()}};var hc=class{constructor(t,i,r,n){this.source=t,this.predicate=i,this.projection=r,this.options=n,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(ct(this.projection)&&this.operators.push({$project:this.projection}),this.result=Le(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Sr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let t=Le([...this.buffer]);return this.buffer=[],fc(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;let t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}};var ee=class{constructor(t,i){this.condition=t,this.options=On(i),this.compiled=[],this.compile()}compile(){j(ct(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let t={};for(let[i,r]of Object.entries(this.condition)){if(i==="$where")Object.assign(t,{field:i,expr:r});else if(wr(["$and","$or","$nor","$expr","$jsonSchema"],i))this.processOperator(i,i,r);else{j(!$e(i),`unknown top level operator: ${i}`);for(let[n,o]of Object.entries(dc(r)))this.processOperator(i,n,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,i,r){let n=ir(_t.QUERY,i,this.options);if(!n)throw new Error(`unknown operator ${i}`);let o=n(t,r,this.options);this.compiled.push(o)}test(t){for(let i=0,r=this.compiled.length;i<r;i++)if(!this.compiled[i](t))return!1;return!0}find(t,i){return new hc(t,r=>this.test(r),i||{},this.options)}remove(t){return t.reduce((i,r)=>(this.test(r)||i.push(r),i),[])}};var Xi=1e3*60*60*24,uv={week:Xi*7,day:Xi,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var V1={week:Xi*7,day:Xi,hour:Xi/24,minute:6e4,second:1e3,millisecond:1};var pc=(e,t,i)=>{if(Fe(t)||!ct(t))return e;let r=Ft,n=i.collation;return ct(n)&&Ct(n.locale)&&(r=kC(n)),e.transform(o=>{let a=Object.keys(t);for(let l of a.reverse()){let f=lc(o,p=>we(p,l),i.hashFunction),m=Array.from(f.keys()).sort(r);t[l]===-1&&m.reverse(),o=[],m.reduce((p,b)=>Ye(p,f.get(b)),o)}return o})},IC={1:"base",2:"accent",3:"variant"};function kC(e){let t={sensitivity:IC[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));let i=new Intl.Collator(e.locale,t);return(r,n)=>{if(!Ct(r)||!Ct(n))return Ft(r,n);let o=i.compare(r,n);return o<0?-1:o>0?1:0}}function It(e){let t=(i,r,n)=>{let o={unwrapArray:!0},a=Math.max(1,i.split(".").length-1);return l=>{let f=we(l,i,o);return e(f,r,Object.assign(Object.assign({},n),{depth:a}))}};return t.op="query",t}function Ie(e){return(t,i,r)=>{let n=A(t,i,null,r);return e(...n)}}function va(e,t,i){if(ve(e,t)||W(e)&&W(t))return!0;if(e instanceof Array){let r=ve.bind(null,t);return e.some(r)||Ad(e,i?.depth).some(r)}return!1}function gc(e,t,i){return!va(e,t,i)}function Bd(e,t,i){return W(e)?t.some(r=>r===null):Vr([Ur(e),t],i?.hashFunction).length>0}function vc(e,t,i){return!Bd(e,t,i)}function bc(e,t,i){return wc(e,t,(r,n)=>Ft(r,n)<0)}function yc(e,t,i){return wc(e,t,(r,n)=>Ft(r,n)<=0)}function _c(e,t,i){return wc(e,t,(r,n)=>Ft(r,n)>0)}function xc(e,t,i){return wc(e,t,(r,n)=>Ft(r,n)>=0)}function gv(e,t,i){return Ur(e).some(r=>t.length===2&&r%t[0]===t[1])}function vv(e,t,i){let r=Ur(e),n=o=>Ct(o)&&Cr(t.exec(o),i?.useStrictMode);return r.some(n)||Ad(r,1).some(n)}function bv(e,t,i){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function yv(e,t,i){if(!rt(e)||!rt(t)||!e.length||!t.length)return!1;let r=!0;for(let n of t){if(!r)break;ct(n)&&wr(Object.keys(n),"$elemMatch")?r=jd(e,n.$elemMatch,i):n instanceof RegExp?r=e.some(o=>typeof o=="string"&&n.test(o)):r=e.some(o=>ve(n,o))}return r}function _v(e,t,i){return Array.isArray(e)&&e.length===t}function MC(e){return $e(e)&&["$and","$or","$nor"].indexOf(e)===-1}function jd(e,t,i){if(rt(e)&&!Fe(e)){let r=a=>a,n=t;Object.keys(t).every(MC)&&(n={temp:t},r=a=>({temp:a}));let o=new ee(n,i);for(let a=0,l=e.length;a<l;a++)if(o.test(r(e[a])))return!0}return!1}var fv=e=>e===null,hv=e=>lt(e)&&e>=-2147483648&&e<=2147483647&&e.toString().indexOf(".")===-1,mv=e=>lt(e)&&e>=kd&&e<=Id&&e.toString().indexOf(".")===-1,NC={array:rt,bool:da,boolean:da,date:ai,decimal:lt,double:lt,int:hv,long:mv,number:lt,null:fv,object:ct,regex:ha,regexp:ha,string:Ct,undefined:W,function:e=>{throw new Error("unsupported type key `function`.")},1:lt,2:Ct,3:ct,4:rt,6:W,8:da,9:ai,10:fv,11:ha,16:hv,18:mv,19:lt};function pv(e,t,i){let r=NC[t];return r?r(e):!1}function xv(e,t,i){return Array.isArray(t)?t.findIndex(r=>pv(e,r,i))>=0:pv(e,t,i)}function wc(e,t,i){return Ur(e).some(r=>Dn(r)===Dn(t)&&i(r,t))}var ZM=Ie(vc);var Zi=(e,t)=>(i,r,n)=>{j(rt(r),`${e}: expression must be an array.`);let o=A(i,r,null,n);return o.some(W)?null:(j(o.every(lt),`${e}: expression must evalue to array of numbers.`),t(o))};var YN=Zi("$bitAnd",e=>e.reduce((t,i)=>t&i,-1));var tF=Zi("$bitOr",e=>e.reduce((t,i)=>t|i,0));var nF=Zi("$bitXor",e=>e.reduce((t,i)=>t^i,0));var RF=Ie(va);var IF=Ie(_c);var TF=Ie(xc);var NF=Ie(bc);var LF=Ie(yc);var zF=Ie(gc);var wv=(e,t)=>{let i={};return e.split("").forEach((r,n)=>i[r]=t*(n+1)),i},w$=Object.assign(Object.assign(Object.assign({},wv("ABCDEFGHIKLM",1)),wv("NOPQRSTUVWXY",-1)),{Z:0});var Rv={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function $t(e,t=Rv){let i=Object.assign({},Rv,t),r=new Set(Object.keys(i));return(n,o,a)=>{let l=A(n,o,null,a);if(r.has(`${l}`)){let f=i[`${l}`];if(f instanceof Error)throw new Error(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return f}return e(l)}}var E2=$t(Math.acos,{Infinity:1/0,0:new Error});var O2=$t(Math.acosh,{Infinity:1/0,0:new Error});var A2=$t(Math.asin);var M2=$t(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var $2=$t(Math.atan);var V2=$t(Math.atanh,{1:1/0,"-1":-1/0});var H2=$t(Math.cos);var Q2=$t(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var BC=Math.PI/180,Z2=$t(e=>e*BC,{Infinity:1/0,"-Infinity":1/0});var jC=180/Math.PI,ez=$t(e=>e*jC,{Infinity:1/0,"-Infinity":-1/0});var iz=$t(Math.sin);var sz=$t(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var uz=$t(Math.tan);var Ud=(e,t,i)=>{if(Fe(t))return e;let r=Object.keys(t),n=!1;Ov(t,i);let o=i.idKey;if(wr(r,o)){let l=t[o];(l===0||l===!1)&&(r=r.filter(sc.bind(null,[o])),n=r.length==0)}else r.push(o);let a=Vt.init(i);return e.map(l=>zd(l,t,a.update(l),r,n))};function zd(e,t,i,r,n){let o={},a=!1,l=!1,f=[];n&&f.push(i.idKey);for(let m of r){let p,b=t[m];if(m!==i.idKey&&wr([0,!1],b)&&(l=!0),m===i.idKey&&Fe(b))p=e[m];else if(Ct(b))p=A(e,b,m,i);else if(!wr([1,!0],b))if(b instanceof Array)p=b.map(C=>{let N=A(e,C,null,i);return W(N)?null:N});else if(ct(b)){let C=b,N=Object.keys(b),B=N.length==1?N[0]:"",et=ir(_t.PROJECTION,B,i);if(et)B==="$slice"?Ur(C[B]).every(lt)?(p=et(e,C[B],m,i),a=!0):p=A(e,C,m,i):p=et(e,C[B],m,i);else if($e(B))p=A(e,C[B],B,i);else if(zt(e,m)){Ov(C,i);let ot=e[m];ot instanceof Array?p=ot.map(at=>zd(at,C,i,N,!1)):(ot=ct(ot)?ot:e,p=zd(ot,C,i,N,!1))}else p=A(e,b,null,i)}else{f.push(m);continue}let x=Hi(e,m,{preserveMissing:!0});x!==void 0&&oc(o,x,{flatten:!0}),sc([0,1,!1,!0],b)&&(p===void 0?pa(o,m,{descendArray:!0}):uc(o,m,p))}if(ac(o),(a||l||n)&&(o=Ye({},e,o),f.length>0))for(let m of f)pa(o,m,{descendArray:!0});return o}function Ov(e,t){let i=[!1,!1];for(let[r,n]of Object.entries(e)){if(r===t?.idKey)return;n===0||n===!1?i[0]=!0:(n===1||n===!0)&&(i[1]=!0),j(!(i[0]&&i[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var Iv=(e,t,i)=>{j(rt(t),"Invalid expression: $and expects value to be an Array.");let r=t.map(n=>new ee(n,i));return n=>r.every(o=>o.test(n))};var Cc=(e,t,i)=>{j(rt(t),"Invalid expression. $or expects value to be an Array");let r=t.map(n=>new ee(n,i));return n=>r.some(o=>o.test(n))};var kv=(e,t,i)=>{j(rt(t),"Invalid expression. $nor expects value to be an array.");let r=Cc("$or",t,i);return n=>!r(n)};var Av=(e,t,i)=>{let r={};r[e]=dc(t);let n=new ee(r,i);return o=>!n.test(o)};var Vd=It(va);var Kd=It(_c);var Wd=It(xc);var Hd=It(Bd);var qd=It(bc);var Yd=It(yc);var Qd=It(gc);var Gd=It(vc);var Tv=It(gv);var Pv=It(vv);var f5=It(yv);var Mv=It(jd);var Nv=It(_v);var Fv=It(bv);var $v=It(xv);var Lv=!1;function Bv(e){return Lv||(Md(_t.PIPELINE,{$sort:pc,$project:Ud}),Md(_t.QUERY,{$and:Iv,$eq:Vd,$elemMatch:Mv,$exists:Fv,$gt:Kd,$gte:Wd,$in:Hd,$lt:qd,$lte:Yd,$ne:Qd,$nin:Gd,$mod:Tv,$nor:kv,$not:Av,$or:Cc,$regex:Pv,$size:Nv,$type:$v}),Lv=!0),new ee(e)}function ba(e,t){var i=xe(e.primaryKey);t=wt(t);var r=He(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([m,p])=>{(typeof p!="object"||p===null)&&(r.selector[m]={$eq:p})})):r.selector={},r.index){var n=na(r.index);n.includes(i)||n.push(i),r.index=n}if(r.sort){var f=r.sort.find(m=>Gp(m)===i);f||(r.sort=r.sort.slice(0),r.sort.push({[i]:"asc"}))}else if(r.index)r.sort=r.index.map(m=>({[m]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([m,p])=>{var b=!1;typeof p=="object"&&p!==null?b=!!Object.keys(p).find(x=>ic.has(x)):b=!0,b&&o.add(m)});var a=-1,l;e.indexes.forEach(m=>{var p=xr(m)?m:[m],b=p.findIndex(x=>!o.has(x));b>0&&b>a&&(a=b,l=p)}),l&&(r.sort=l.map(m=>({[m]:"asc"})))}r.sort||(r.sort=[{[i]:"asc"}])}return r}function Sc(e,t){if(!t.sort)throw T("SNH",{query:t});var i=[];t.sort.forEach(n=>{var o=Object.keys(n)[0],a=Object.values(n)[0];i.push({key:o,direction:a,getValueFn:Qp(o)})});var r=(n,o)=>{for(var a=0;a<i.length;++a){var l=i[a],f=l.getValueFn(n),m=l.getValueFn(o);if(f!==m){var p=l.direction==="asc"?Ft(f,m):Ft(m,f);return p}}};return r}function Ji(e,t){if(!t.sort)throw T("SNH",{query:t});var i=Bv(t.selector),r=n=>i.test(n);return r}function VC(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(i=>Object.keys(i)[0])}var KC=new WeakMap;function WC(e){return _e(KC,e,()=>{var t=e.collection,i=ba(t.storageInstance.schema,He(e.mangoQuery)),r=t.schema.primaryPath,n=Sc(t.schema.jsonSchema,i),o=(m,p)=>{var b={docA:m,docB:p,rxQuery:e};return n(b.docA,b.docB)},a=Ji(t.schema.jsonSchema,i),l=m=>{var p={doc:m,rxQuery:e};return a(p.doc)},f={primaryKey:e.collection.schema.primaryPath,skip:i.skip,limit:i.limit,sortFields:VC(r,i),sortComparator:o,queryMatcher:l};return f})}function jv(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var i=WC(e),r=Dt(e._result).docsData.slice(0),n=Dt(e._result).docsDataMap,o=!1,a=t.map(f=>vg(f)).filter(Up),l=a.find(f=>{var m={queryParams:i,changeEvent:f,previousResults:r,keyDocumentMap:n},p=Jg(m);if(p==="runFullQueryAgain")return!0;if(p!=="doNothing")return o=!0,tv(p,i,f,r,n),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var HC=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var n=r.toString();return _e(this._map,n,()=>r)},e}();function Uv(){return new HC}function zv(e,t){t.uncached=!0;var i=t.toString();e._map.delete(i)}function qC(e){return e.refCount$.observers.length}var YC=100,QC=30*1e3,GC=(e,t)=>(i,r)=>{if(!(r._map.size<e)){var n=te()-t,o=[],a=Array.from(r._map.values());for(var l of a)if(!(qC(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<n){zv(r,l);continue}o.push(l)}var f=o.length-e;if(!(f<=0)){var m=o.sort((b,x)=>b._lastEnsureEqual-x._lastEnsureEqual),p=m.slice(0,f);p.forEach(b=>zv(r,b))}}},Zd=GC(YC,QC),Xd=new WeakSet;function Vv(e){Xd.has(e)||(Xd.add(e),rg().then(()=>og(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Xd.delete(e)}))}var Kv=function(){function e(i,r,n){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,l=this.cacheItemByDocId.get(a);l&&(l.byRev.delete(o.revisionHeight),l.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=i,this.changes$=r,this.documentCreator=n,r.subscribe(o=>{var a=o.documentId,l=this.cacheItemByDocId.get(a);if(l){var f=Xs(o);l.last=f}})}var t=e.prototype;return t.getLatestDocumentData=function(r){var n=En(this.cacheItemByDocId,r);return n.last},t.getLatestDocumentDataIfExists=function(r){var n=this.cacheItemByDocId.get(r);if(n)return n.last},ge(e,[{key:"getCachedRxDocument",get:function(){var i=XC(this);return qe(this,"getCachedRxDocument",i)}}]),e}();function XC(e){var t=e.primaryPath,i=e.cacheItemByDocId,r=e.registry,n=Ot.deepFreezeWhenDevMode,o=e.documentCreator,a=l=>{var f=l[t],m=nd(l._rev),p=_e(i,f,()=>ZC(l)),b=p.byRev,x=b.get(m),C=x?x.deref():void 0;return C||(l=n(l),C=o(l),b.set(m,tS(C)),r&&(e.registerIdleTasks.push(C),e.registerIdlePromise||(e.registerIdlePromise=ud().then(()=>{e.registerIdlePromise=void 0;var N=e.registerIdleTasks;N.length!==0&&(e.registerIdleTasks=[],N.forEach(B=>{r.register(B,{docId:B.primary,revisionHeight:nd(B.revision)})}))})))),C};return a}function Ec(e,t){for(var i=e.getCachedRxDocument,r=[],n=0;n<t.length;n++){var o=t[n],a=i(o);r.push(a)}return r}function ZC(e){return{byRev:new Map,last:e}}var JC=typeof WeakRef=="function",tS=JC?eS:rS;function eS(e){return new WeakRef(e)}function rS(e){return{deref(){return e}}}var Jd=function(){function e(t,i,r){this.time=te(),this.collection=t,this.count=r,this.documents=Ec(this.collection._docCache,i)}return ge(e,[{key:"docsData",get:function(){return qe(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(i=>{t.set(i.primary,i._data)}),qe(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,i=this.documents,r=0;r<i.length;r++){var n=i[r];t.set(n.primary,n)}return qe(this,"docsMap",t)}}]),e}();var nS=0,iS=function(){return++nS},tf=function(){function e(i,r,n,o={}){this.id=iS(),this._execOverDatabaseCount=0,this._creationTime=te(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new fe(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=er,this.op=i,this.mangoQuery=r,this.collection=n,this.other=o,r||(this.mangoQuery=ya()),this.isFindOneByIdQuery=cS(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new Jd(this.collection,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var n=new Jd(this.collection,r,r.length);this._result=n},t._execOverDatabase=function(){return z(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=te(),this.op==="count"){var r=this.getPreparedQuery(),n=yield this.collection.storageInstance.count(r);if(n.mode==="slow"&&!this.collection.database.allowSlowCount)throw T("QU14",{collection:this.collection,queryObj:this.mangoQuery});return n.count}if(this.op==="findByIds"){var o=Dt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,l=[];if(o.forEach(p=>{var b=this.collection._docCache.getLatestDocumentDataIfExists(p);if(b){if(!b._deleted){var x=this.collection._docCache.getCachedRxDocument(b);a.set(p,x)}}else l.push(p)}),l.length>0){var f=yield this.collection.storageInstance.findDocumentsById(l,!1);f.forEach(p=>{var b=this.collection._docCache.getCachedRxDocument(p);a.set(b.primary,b)})}return a}var m=sS(this);return m.then(p=>(this._lastExecEnd=te(),p))})},t.exec=function(r){if(r&&this.op!=="findOne")throw T("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Wv(this).then(()=>ss(this.$)).then(n=>{if(!n&&r)throw T("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return n})},t.toString=function(){var r=Vi({op:this.op,query:this.mangoQuery,other:this.other},!0),n=JSON.stringify(r);return this.toString=()=>n,n},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:ba(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),ae("prePrepareQuery",r);var n=_a(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>n,n},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(n=>n.remove())):r.remove())},t.update=function(r){throw At("update")},t.where=function(r){throw At("query-builder")},t.sort=function(r){throw At("query-builder")},t.skip=function(r){throw At("query-builder")},t.limit=function(r){throw At("query-builder")},ge(e,[{key:"$",get:function(){if(!this._$){var i=this.collection.$.pipe(yt(r=>!r.isLocal),Ze(null),Ht(()=>Wv(this)),ft(()=>this._result),Do(Ws),Ei((r,n)=>!!(r&&r.time===Dt(n).time)),yt(r=>!!r),ft(r=>{var n=Dt(r);return this.op==="count"?n.count:this.op==="findOne"?n.documents.length===0?null:n.documents[0]:this.op==="findByIds"?n.docsMap:n.documents.slice(0)}));this._$=wi(i,this.refCount$.pipe(yt(()=>!1)))}return this._$}},{key:"$$",get:function(){var i=this.collection.database.getReactivityFactory();return i.fromObservable(this.$,void 0)}},{key:"queryMatcher",get:function(){var i=this.collection.schema.jsonSchema,r=ba(this.collection.schema.jsonSchema,this.mangoQuery);return qe(this,"queryMatcher",Ji(i,r))}},{key:"asRxQuery",get:function(){return this}}]),e}();function ya(){return{selector:{}}}function oS(e){return e.collection._queryCache.getByQuery(e)}function to(e,t,i,r){ae("preCreateRxQuery",{op:e,queryObj:t,collection:i,other:r});var n=new tf(e,t,i,r);return n=oS(n),Vv(i),n}function Hv(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function Wv(e){return e.collection.database.destroyed||Hv(e)?er:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>aS(e)),e._ensureEqualQueue)}function aS(e){if(e._lastEnsureEqual=te(),e.collection.database.destroyed||Hv(e))return er;var t=!1,i=!1;if(e._latestChangeEvent===-1&&(i=!0),!i){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)i=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var n=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=Dt(e._result).count,a=o;n.forEach(f=>{var m=f.previousDocumentData&&e.doesDocumentDataMatch(f.previousDocumentData),p=e.doesDocumentDataMatch(f.documentData);!m&&p&&a++,m&&!p&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var l=jv(e,n);l.runFullQueryAgain?i=!0:l.changed&&(t=!0,e._setResultData(l.newResults))}}}return i?e._execOverDatabase().then(f=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof f=="number"?((!e._result||f!==e._result.count)&&(t=!0,e._setResultData(f)),t):((!e._result||!Zp(e.collection.schema.primaryPath,f,e._result.docsData))&&(t=!0,e._setResultData(f)),t))):Promise.resolve(t)}function _a(e,t){if(!t.sort)throw T("SNH",{query:t});var i=ev(e,t);return{query:t,queryPlan:i}}function sS(e){return z(this,null,function*(){var t=[],i=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(p=>{var b=e.collection._docCache.getLatestDocumentDataIfExists(p);return b?(b._deleted||t.push(b),!1):!0}),r.length>0){var n=yield i.storageInstance.findDocumentsById(r,!1);Lr(t,n)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var l=yield i.storageInstance.findDocumentsById([o],!1);l[0]&&(a=l[0])}a&&!a._deleted&&t.push(a)}else{var f=e.getPreparedQuery(),m=yield i.storageInstance.query(f);t=m.documents}return t})}function cS(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var i=t.selector[e];if(typeof i=="string")return i;if(Object.keys(i).length===1&&typeof i.$eq=="string"||Object.keys(i).length===1&&Array.isArray(i.$eq)&&!i.$eq.find(r=>typeof r!="string"))return i.$eq}return!1}var qv="_rxdb_internal";function Yv(e,t){return z(this,null,function*(){var i=yield e.findDocumentsById([t],!1),r=i[0];if(r)return r})}function Qv(e,t,i){var r=t.documentData,n=t.previousDocumentData,o={documentId:t.documentId,collectionName:i?i.name:void 0,isLocal:e,operation:t.operation,documentData:Ot.deepFreezeWhenDevMode(r),previousDocumentData:Ot.deepFreezeWhenDevMode(n)};return o}function eo(e,t,i,r){if(r)throw r.status===409?T("CONFLICT",{collection:e.name,id:t,writeError:r,data:i}):r.status===422?T("VD2",{collection:e.name,id:t,writeError:r,data:i}):r}function Gv(e,t,i,r,n,o,a){for(var l=!!e.schema.attachments,f=[],m=[],p=[],b=ei(10),x={id:b,events:[],checkpoint:null,context:n,startTime:te(),endTime:0},C=x.events,N=[],B=[],et=[],ot=i.size>0,at,pt=r.length,Kt=function(){var Nt=r[gt],Et=Nt.document,xt=Nt.previous,Pt=Et[t],Dr=Et._deleted,di=xt&&xt._deleted,Pn=void 0;ot&&(Pn=i.get(Pt));var or;if(Pn){var Ma=Pn._rev;if(!xt||xt&&Ma!==xt._rev){var tl={isError:!0,status:409,documentId:Pt,writeRow:Nt,documentInDb:Pn};return p.push(tl),1}var ar=l?ef(Nt):Nt;l&&(Dr?xt&&Object.keys(xt._attachments).forEach(ce=>{B.push({documentId:Pt,attachmentId:ce,digest:Dt(xt)._attachments[ce].digest})}):(Object.entries(Et._attachments).find(([ce,Te])=>{var Qe=xt?xt._attachments[ce]:void 0;return!Qe&&!Te.data&&(or={documentId:Pt,documentInDb:Pn,isError:!0,status:510,writeRow:Nt,attachmentId:ce}),!0}),or||Object.entries(Et._attachments).forEach(([ce,Te])=>{var Qe=xt?xt._attachments[ce]:void 0;if(!Qe)N.push({documentId:Pt,attachmentId:ce,attachmentData:Te,digest:Te.digest});else{var Qr=ar.document._attachments[ce].digest;Te.data&&Qe.digest!==Qr&&et.push({documentId:Pt,attachmentId:ce,attachmentData:Te,digest:Te.digest})}}))),or?p.push(or):(l?(m.push(ef(ar)),a&&a(Et)):(m.push(ar),a&&a(Et)),at=ar);var Ae=null,Mn=null,fi=null;if(di&&!Dr)fi="INSERT",Ae=l?In(Et):Et;else if(xt&&!di&&!Dr)fi="UPDATE",Ae=l?In(Et):Et,Mn=xt;else if(Dr)fi="DELETE",Ae=Dt(Et),Mn=xt;else throw T("SNH",{args:{writeRow:Nt}});var lo={documentId:Pt,documentData:Ae,previousDocumentData:Mn,operation:fi};C.push(lo)}else{var Jc=!!Dr;if(l&&Object.entries(Et._attachments).forEach(([ce,Te])=>{Te.data?N.push({documentId:Pt,attachmentId:ce,attachmentData:Te,digest:Te.digest}):(or={documentId:Pt,isError:!0,status:510,writeRow:Nt,attachmentId:ce},p.push(or))}),or||(l?(f.push(ef(Nt)),o&&o(Et)):(f.push(Nt),o&&o(Et)),at=Nt),!Jc){var Pa={documentId:Pt,operation:"INSERT",documentData:l?In(Et):Et,previousDocumentData:l&&xt?In(xt):xt};C.push(Pa)}}},gt=0;gt<pt;gt++)Kt();return{bulkInsertDocs:f,bulkUpdateDocs:m,newestRow:at,errors:p,eventBulk:x,attachmentsAdd:N,attachmentsRemove:B,attachmentsUpdate:et}}function ef(e){return{previous:e.previous,document:In(e.document)}}function lS(e){return atob(e).length}function uS(e){var t=e.data;if(!t)return e;var i={length:lS(t),digest:e.digest,type:e.type};return i}function In(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=wt(e);return t._attachments={},Object.entries(e._attachments).forEach(([i,r])=>{t._attachments[i]=uS(r)}),t}function Rc(e){var t=wt(e);return t._meta=wt(e._meta),t}function Dc(e,t,i){Ot.deepFreezeWhenDevMode(i);var r=xe(i.primaryKey);function n(a){var l=wt(a.document);if(l._meta=wt(l._meta),Ot.isDevMode()){l=Qs(r,i,l);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw T("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(f=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,f))throw T("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return l._meta.lwt=te(),l._rev=Ui(e.token,a.previous),{document:l,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,l){var f=a.map(m=>n(m));return e.lockedRun(()=>t.bulkWrite(f,l)).then(m=>{var p={error:[],success:m.success.slice(0)},b=m.error.filter(C=>C.status===409&&!C.writeRow.previous&&!C.writeRow.document._deleted&&Dt(C.documentInDb)._deleted?!0:(p.error.push(C),!1));if(b.length>0){var x=b.map(C=>({previous:C.documentInDb,document:Object.assign({},C.writeRow.document,{_rev:Ui(e.token,C.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(x,l)).then(C=>(Lr(p.error,C.error),Lr(p.success,C.success),p))}return m})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,l){return e.lockedRun(()=>t.findDocumentsById(a,l))},getAttachmentData(a,l,f){return e.lockedRun(()=>t.getAttachmentData(a,l,f))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,l)=>e.lockedRun(()=>t.getChangedDocumentsSince(Dt(a),l)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var l=Object.assign({},a.output.documentData,{_meta:xn(),_rev:Br(),_attachments:{}}),f=wt(l);return delete f._meta,delete f._rev,delete f._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:f}})}};return e.storageInstances.add(o),o}function Xv(e){if(e.schema.keyCompression)throw T("UT5",{args:{params:e}});if(dS(e.schema))throw T("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw T("UT7",{args:{params:e}})}function dS(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var Zv=function(){function e(i,r,n,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=i,this.primaryPath=r,this.preWrite=n,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,n){var o=r[this.primaryPath],a=_e(this.queueByDocId,o,()=>[]),l=new Promise((f,m)=>{var p={lastKnownDocumentState:r,modifier:n,resolve:f,reject:m};Dt(a).push(p),this.triggerRun()});return l},t.triggerRun=function(){return z(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],n=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(n.entries()).map(f=>z(this,[f],function*([a,l]){var m=fS(l.map(x=>x.lastKnownDocumentState)),p=m;for(var b of l)try{p=yield b.modifier(He(p))}catch(x){b.reject(x),b.reject=()=>{},b.resolve=()=>{}}try{yield this.preWrite(p,m)}catch(x){l.forEach(C=>C.reject(x));return}r.push({previous:m,document:p})})));var o=r.length>0?yield this.storageInstance.bulkWrite(r,"incremental-write"):{error:[],success:[]};return yield Promise.all(o.success.map(a=>{var l=a[this.primaryPath];this.postWrite(a);var f=En(n,l);f.forEach(m=>m.resolve(a))})),o.error.forEach(a=>{var l=a.documentId,f=En(n,l),m=Ys(a);if(m){var p=_e(this.queueByDocId,l,()=>[]);f.reverse().forEach(x=>{x.lastKnownDocumentState=Dt(m.documentInDb),Dt(p).unshift(x)})}else{var b=fg(a);f.forEach(x=>x.reject(b))}}),this.isRunning=!1,this.triggerRun()}})},e}();function rf(e){var t=i=>z(this,null,function*(){var r=Xp(i);r._deleted=i._deleted;var n=yield e(r),o=Object.assign({},n,{_meta:i._meta,_attachments:i._attachments,_rev:i._rev,_deleted:typeof n._deleted<"u"?n._deleted:i._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return t}function fS(e){var t=e[0],i=zs(t._rev).height;return e.forEach(r=>{var n=zs(r._rev).height;n>i&&(t=r,i=n)}),t}var kn={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(ft(t=>t._data._deleted))},get deleted$$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.deleted$,e.getLatest().deleted)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(yt(t=>!t.isLocal),yt(t=>t.documentId===this.primary),ft(t=>Xs(t)),Ze(e.collection._docCache.getLatestDocumentData(this.primary)),Ei((t,i)=>t._rev===i._rev),ft(t=>this.collection._docCache.getCachedRxDocument(t)),Do(Ws))},get $$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.$,e.getLatest()._data)},get$(e){if(Ot.isDevMode()){if(e.includes(".item."))throw T("DOC1",{path:e});if(e===this.primaryPath)throw T("DOC2");if(this.collection.schema.finalFields.includes(e))throw T("DOC3",{path:e});var t=Oe(this.collection.schema.jsonSchema,e);if(!t)throw T("DOC4",{path:e})}return this.$.pipe(ft(i=>De(i,e)),Ei())},get$$(e){var t=this.get$(e),i=this.collection.database.getReactivityFactory();return i.fromObservable(t,this.getLatest().get(e))},populate(e){var t=Oe(this.collection.schema.jsonSchema,e),i=this.get(e);if(!i)return ig;if(!t)throw T("DOC5",{path:e});if(!t.ref)throw T("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw T("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(i).exec().then(n=>{var o=n.values();return Array.from(o)}):r.findOne(i).exec()},get(e){return _e(this._propertyCache,e,()=>{var t=De(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return Ot.deepFreezeWhenDevMode(t);var i=this,r=new Proxy(wt(t),{get(n,o){if(typeof o!="string")return n[o];var a=o.charAt(o.length-1);if(o.endsWith("$$")){var l=o.slice(0,-2);return i.get$$(rr(e+"."+l))}else if(a==="$"){var f=o.slice(0,-1);return i.get$(rr(e+"."+f))}else if(a==="_"){var m=o.slice(0,-1);return i.populate(rr(e+"."+m))}else return i.get(rr(e+"."+o))}});return r})},toJSON(e=!1){if(e)return Ot.deepFreezeWhenDevMode(this._data);var t=wt(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Ot.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return He(this.toJSON(e))},update(e){throw At("update")},incrementalUpdate(e){throw At("update")},updateCRDT(e){throw At("crdt")},putAttachment(){throw At("attachments")},getAttachment(){throw At("attachments")},allAttachments(){throw At("attachments")},get allAttachments$(){throw At("attachments")},modify(e,t){return z(this,null,function*(){var i=this._data,r=yield rf(e)(i);return this._saveData(r,i)})},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,rf(e)).then(i=>this.collection._docCache.getCachedRxDocument(i))},patch(e){var t=this._data,i=He(t);return Object.entries(e).forEach(([r,n])=>{i[r]=n}),this._saveData(i,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([i,r])=>{t[i]=r}),t))},_saveData(e,t){return z(this,null,function*(){if(e=wt(e),this._data._deleted)throw T("DOC11",{id:this.primary,document:this});yield nf(this.collection,e,t);var i=yield this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=i.error[0];return eo(this.collection,this.primary,e,r),yield this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(i.success[0])})},remove(){var e=this.collection;if(this.deleted)return Promise.reject(T("DOC13",{document:this,id:this.primary}));var t=wt(this._data),i;return e._runHooks("pre","remove",t,this).then(()=>z(this,null,function*(){t._deleted=!0;var r=yield e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),n=r.error[0];return eo(e,this.primary,t,n),r.success[0]})).then(r=>(i=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(i))},incrementalRemove(){return this.incrementalModify(e=>z(this,null,function*(){return yield this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e})).then(e=>z(this,null,function*(){return yield this.collection._runHooks("post","remove",e._data,e),e}))},destroy(){throw T("DOC14")}};function Oc(e=kn){var t=function(r,n){this.collection=r,this._data=n,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Jv(e,t,i){var r=new e(t,i);return ae("createRxDocument",r),r}function nf(e,t,i){return t._meta=Object.assign({},i._meta,t._meta),Ot.isDevMode()&&e.schema.validateChange(i,t),e._runHooks("pre","save",t,i)}var ro="collection",of="storage-token",hS="rx-migration-status",mS="RxInternalDocument",Ic=Gs({version:0,title:mS,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[ro,of,hS,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function kc(e,t){return aa(Ic,{key:e,context:t})}function Ac(e){return z(this,null,function*(){var t=_a(e.schema,{selector:{context:ro,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),i=yield e.query(t),r=i.documents;return r})}var tb="storageToken",pS=kc(tb,of);function eb(e){return z(this,null,function*(){var t=ei(10),i=e.password?yield e.hashFunction(JSON.stringify(e.password)):void 0,r={id:pS,context:of,key:tb,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:i},_deleted:!1,_meta:xn(),_rev:Br(),_attachments:{}},n=yield e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(n.success[0])return n.success[0];var o=Dt(n.error[0]);if(o.isError&&Ys(o)){var a=o;if(!gS(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw T("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(i&&i!==a.documentInDb.data.passwordHash)throw T("DB1",{passwordHash:i,existingPasswordHash:a.documentInDb.data.passwordHash});var l=a.documentInDb;return Dt(l)}throw o})}function gS(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var i=e.split(".")[0],r=t.split(".")[0];return i===r}function af(e,t){return e+"-"+t.version}function Tc(e,t){return t=wt(t),t=mg(e,t),t=Qs(e.primaryPath,e.jsonSchema,t),t._meta=xn(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=Br()),t}function rb(e,t){return z(this,null,function*(){t.multiInstance=e.multiInstance;var i=yield e.storage.createStorageInstance(t);return i})}function Pc(e,t,i,r,n,o,a){return z(this,null,function*(){var l=yield Ac(t),f=l.filter(x=>x.data.name===n),m=[];f.forEach(x=>{m.push({collectionName:x.data.name,schema:x.data.schema,isCollection:!0}),x.data.connectedStorages.forEach(C=>m.push({collectionName:C.collectionName,isCollection:!1,schema:C.schema}))});var p=new Set;if(m=m.filter(x=>{var C=x.collectionName+"||"+x.schema.version;return p.has(C)?!1:(p.add(C),!0)}),yield Promise.all(m.map(x=>z(this,null,function*(){var C=yield e.createStorageInstance({collectionName:x.collectionName,databaseInstanceToken:i,databaseName:r,multiInstance:!1,options:{},schema:x.schema,password:o,devMode:Ot.isDevMode()});yield C.remove(),x.isCollection&&(yield Rn("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:n}))}))),a){var b=f.map(x=>{var C=Rc(x);return C._deleted=!0,C._meta.lwt=te(),C._rev=Ui(i,x),{previous:x,document:C}});yield t.bulkWrite(b,"rx-database-remove-collection-all")}})}var vS=function(){function e(i){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=i,this.subs.push(this.collection.$.pipe(yt(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var n=this.buffer[0],o=this.eventCounterMap.get(n);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var n=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)n.push(a);else return n}},t.runFrom=function(r,n){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>n(a))},t.reduceByLastOfDoc=function(r){return r.slice(0);var n},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function nb(e){return new vS(e)}var bS=new WeakMap;function yS(e){var t=e.schema.getDocumentPrototype(),i=xS(e),r=kn,n={};return[t,i,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(l=>{var f=Object.getOwnPropertyDescriptor(o,l),m=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(m=!1),typeof f.value=="function"?Object.defineProperty(n,l,{get(){return f.value.bind(this)},enumerable:m,configurable:!1}):(f.enumerable=m,f.configurable=!1,f.writable&&(f.writable=!1),Object.defineProperty(n,l,f))})}),n}function _S(e){return _e(bS,e,()=>Oc(yS(e)))}function ib(e,t){var i=Jv(_S(e),e,Ot.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,i),ae("postCreateRxDocument",i),i}function xS(e){var t={};return Object.entries(e.methods).forEach(([i,r])=>{t[i]=r}),t}var sf=function(e,t){var i=In(e.newDocumentState),r=In(e.realMasterState);return Sn(i,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};function Mc(e){var t=e.collection.schema.jsonSchema;if(!t.attachments)throw T("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function ob(e){Object.entries(e.doc.collection.attachments).forEach(([t,i])=>{Object.defineProperty(e,t,{get:()=>i.bind(e)})})}var wS=function(){function e({doc:i,id:r,type:n,length:o,digest:a}){this.doc=i,this.id=r,this.type=n,this.length=o,this.digest=a,ob(this)}var t=e.prototype;return t.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,r=>(delete r._attachments[this.id],r)).then(()=>{})},t.getData=function(){return z(this,null,function*(){var r=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),n=yield Wp(r,this.type);return n})},t.getStringData=function(){return z(this,null,function*(){var r=yield this.getData(),n=yield Hp(r);return n})},e}();function Nc(e,t,i){return new wS({doc:i,id:e,type:t.type,length:t.length,digest:t.digest})}function CS(e){return z(this,null,function*(){Mc(this);var t=Yp(e.data),i=yield qp(e.data),r=yield this.collection.database.hashFunction(i),n=e.id,o=e.type,a=i;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=wt(l),l._attachments=wt(l._attachments),l._attachments[n]={length:t,type:o,data:a,digest:r},l)).then(l=>{var f=this.collection._docCache.getCachedRxDocument(l),m=l._attachments[n],p=Nc(n,m,f);return p})})}function SS(e){Mc(this);var t=this._data;if(!t._attachments||!t._attachments[e])return null;var i=t._attachments[e],r=Nc(e,i,this);return r}function ES(){Mc(this);var e=this._data;return e._attachments?Object.keys(e._attachments).map(t=>Nc(t,e._attachments[t],this)):[]}function RS(e){return z(this,null,function*(){var t=e.docData._attachments;if(t){var i={};yield Promise.all(Object.keys(t).map(r=>z(this,null,function*(){var n=t[r],o=e.docData[e.oldCollection.schema.primaryPath],a=yield e.oldCollection.storageInstance.getAttachmentData(o,r,n.digest),l=yield e.oldCollection.database.hashFunction(a);i[r]={length:n.length,type:n.type,data:a,digest:l}}))),e.docData._attachments=i}})}function DS(e){return Cn}var ab={name:"attachments",rxdb:!0,prototypes:{RxDocument:e=>{e.putAttachment=CS,e.getAttachment=SS,e.allAttachments=ES,Object.defineProperty(e,"allAttachments$",{get:function(){return this.$.pipe(ft(i=>Object.entries(i.toJSON(!0)._attachments)),ft(i=>i.map(([r,n])=>Nc(r,n,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:RS},postMigrateDocument:{after:DS}}};var cb=["pre","post"],lb=["insert","save","remove","create"],sb=!1,xa=function(){function e(i,r,n,o,a={},l={},f={},m={},p={},b=Zd,x={},C=sf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Uv(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=i,this.name=r,this.schema=n,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=l,this.methods=f,this.attachments=m,this.options=p,this.cacheReplacementPolicy=b,this.statics=x,this.conflictHandler=C,OS(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){return z(this,null,function*(){this.storageInstance=Dc(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Zv(this.storageInstance,this.schema.primaryPath,(a,l)=>nf(this,a,l),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(yt(a=>a.collectionName===this.name));this.$=r.pipe(Ht(a=>a.events)),this.checkpoint$=r.pipe(ft(a=>a.checkpoint)),this._changeEventBuffer=nb(this.asRxCollection),this._docCache=new Kv(this.schema.primaryPath,this.$.pipe(yt(a=>!a.isLocal)),a=>ib(this.asRxCollection,a));var n=yield this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var l={id:a.id,internal:!1,collectionName:this.name,storageToken:n,events:a.events.map(f=>Qv(!1,f,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(l)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(l=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:l})})})),Cn})},t.cleanup=function(r){throw At("cleanup")},t.migrationNeeded=function(){throw At("migration-schema")},t.getMigrationState=function(){throw At("migration-schema")},t.startMigration=function(r=10){return this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=function(r){return z(this,null,function*(){var n=yield this.bulkInsert([r]),o=n.error[0];eo(this,r[this.schema.primaryPath],r,o);var a=Dt(n.success[0]);return a})},t.bulkInsert=function(r){return z(this,null,function*(){if(r.length===0)return{success:[],error:[]};var n=this.schema.primaryPath,o=r.map(b=>{var x=Tc(this.schema,b);return x}),a=this.hasHooks("pre","insert")?yield Promise.all(o.map(b=>this._runHooks("pre","insert",b).then(()=>b))):o,l=a.map(b=>{var x={document:b};return x}),f=yield this.storageInstance.bulkWrite(l,"rx-collection-bulk-insert"),m=Ec(this._docCache,f.success);if(this.hasHooks("post","insert")){var p=new Map;a.forEach(b=>{p.set(b[n],b)}),yield Promise.all(m.map(b=>this._runHooks("post","insert",p.get(b.primary),b)))}return{success:m,error:f.error}})},t.bulkRemove=function(r){return z(this,null,function*(){var n=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var o=yield this.findByIds(r).exec(),a=[],l=new Map;Array.from(o.values()).forEach(x=>{var C=x.toMutableJSON(!0);a.push(C),l.set(x.primary,C)}),yield Promise.all(a.map(x=>{var C=x[this.schema.primaryPath];return this._runHooks("pre","remove",x,o.get(C))}));var f=a.map(x=>{var C=wt(x);return C._deleted=!0,{previous:x,document:C}}),m=yield this.storageInstance.bulkWrite(f,"rx-collection-bulk-remove"),p=m.success.map(x=>x[n]);yield Promise.all(p.map(x=>this._runHooks("post","remove",l.get(x),o.get(x))));var b=p.map(x=>En(o,x));return{success:b,error:m.error}})},t.bulkUpsert=function(r){return z(this,null,function*(){var n=[],o=new Map;r.forEach(m=>{var p=Tc(this.schema,m),b=p[this.schema.primaryPath];if(!b)throw T("COL3",{primaryPath:this.schema.primaryPath,data:p,schema:this.schema.jsonSchema});o.set(b,p),n.push(p)});var a=yield this.bulkInsert(n),l=a.success.slice(0),f=[];return yield Promise.all(a.error.map(m=>z(this,null,function*(){if(m.status!==409)f.push(m);else{var p=m.documentId,b=En(o,p),x=Dt(m.documentInDb),C=this._docCache.getCachedRxDocument(x),N=yield C.incrementalModify(()=>b);l.push(N)}}))),{error:f,success:l}})},t.upsert=function(r){return z(this,null,function*(){var n=yield this.bulkUpsert([r]);return eo(this.asRxCollection,r[this.schema.primaryPath],r,n.error[0]),n.success[0]})},t.incrementalUpsert=function(r){var n=Tc(this.schema,r),o=n[this.schema.primaryPath];if(!o)throw T("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=Cn),a=a.then(()=>kS(this,o,n)).then(l=>l.inserted?l.doc:IS(l.doc,n)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw T("COL5",{queryObj:r});r||(r=ya());var n=to("find",r,this);return n},t.findOne=function(r){if(typeof r=="number"||Array.isArray(r))throw oe("COL6",{queryObj:r});var n;if(typeof r=="string")n=to("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=ya()),r.limit)throw T("QU6");r=wt(r),r.limit=1,n=to("findOne",r,this)}return n},t.count=function(r){r||(r=ya());var n=to("count",r,this);return n},t.findByIds=function(r){var n={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=to("findByIds",n,this);return o},t.exportJSON=function(){throw At("json-dump")},t.importJSON=function(r){throw At("json-dump")},t.insertCRDT=function(r){throw At("crdt")},t.addHook=function(r,n,o,a=!1){if(typeof o!="function")throw oe("COL7",{key:n,when:r});if(!cb.includes(r))throw oe("COL8",{key:n,when:r});if(!lb.includes(n))throw T("COL9",{key:n});if(r==="post"&&n==="create"&&a===!0)throw T("COL10",{when:r,key:n,parallel:a});var l=o.bind(this),f=a?"parallel":"series";this.hooks[n]=this.hooks[n]||{},this.hooks[n][r]=this.hooks[n][r]||{series:[],parallel:[]},this.hooks[n][r][f].push(l)},t.getHooks=function(r,n){return!this.hooks[n]||!this.hooks[n][r]?{series:[],parallel:[]}:this.hooks[n][r]},t.hasHooks=function(r,n){var o=this.getHooks(r,n);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,n,o,a){var l=this.getHooks(r,n);if(!l)return Cn;var f=l.series.map(m=>()=>m(o,a));return ag(f).then(()=>Promise.all(l.parallel.map(m=>m(o,a))))},t._runHooksSync=function(r,n,o,a){var l=this.getHooks(r,n);l&&l.series.forEach(f=>f(o,a))},t.promiseWait=function(r){var n=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return n},t.destroy=function(){return this.destroyed?er:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],Rn("postDestroyRxCollection",this).then(()=>!0))))},t.remove=function(){return z(this,null,function*(){yield this.destroy(),yield Pc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},ge(e,[{key:"insert$",get:function(){return this.$.pipe(yt(i=>i.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(yt(i=>i.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(yt(i=>i.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}]),e}();function OS(e){if(!sb){sb=!0;var t=Object.getPrototypeOf(e);lb.forEach(i=>{cb.map(r=>{var n=r+Ks(i);t[n]=function(o,a){return this.addHook(r,i,o,a)}})})}}function IS(e,t){return e.incrementalModify(i=>t)}function kS(e,t,i){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(n=>n?{doc:n,inserted:!1}:e.insert(i).then(o=>({doc:o,inserted:!0})))}function ub({database:e,name:t,schema:i,instanceCreationOptions:r={},migrationStrategies:n={},autoMigrate:o=!0,statics:a={},methods:l={},attachments:f={},options:m={},localDocuments:p=!1,cacheReplacementPolicy:b=Zd,conflictHandler:x=sf}){var C={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:i.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:Ot.isDevMode()};return ae("preCreateRxStorageInstance",C),rb(e,C).then(N=>{var B=new xa(e,t,i,N,r,n,l,f,m,b,a,x);return B.prepare().then(()=>{Object.entries(a).forEach(([ot,at])=>{Object.defineProperty(B,ot,{get:()=>at.bind(B)})});var et=Cn;return o&&B.schema.version!==0&&(et=B.migratePromise()),et}).then(()=>(ae("createRxCollection",{collection:B,creator:{name:t,schema:i,storageInstance:N,instanceCreationOptions:r,migrationStrategies:n,methods:l,attachments:f,options:m,cacheReplacementPolicy:b,localDocuments:p,statics:a}}),B)).catch(et=>N.close().then(()=>Promise.reject(et)))})}var uf=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};uf.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,lf(this)},wrapCall:function(t){var i=this;this.lock();var r;try{r=t()}catch(n){throw this.unlock(),n}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(n){return i.unlock(),n}).catch(function(n){throw i.unlock(),n})},requestIdlePromise:function(t){var i=this;t=t||{};var r,n=new Promise(function(l){return r=l}),o=function(){cf(i,n),r()};if(n._manRes=o,t.timeout){var a=setTimeout(function(){n._manRes()},t.timeout);n._timeoutObj=a}return this._iC.add(n),lf(this),n},cancelIdlePromise:function(t){cf(this,t)},requestIdleCallback:function(t,i){var r=this._lHN++,n=this.requestIdlePromise(i);return this._hPM.set(r,n),this._pHM.set(n,r),n.then(function(){return t()}),r},cancelIdleCallback:function(t){var i=this._hPM.get(t);this.cancelIdlePromise(i)},clear:function(){var t=this;this._iC.forEach(function(i){return cf(t,i)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function AS(e){if(e._iC.size!==0){var t=e._iC.values(),i=t.next().value;i._manRes(),setTimeout(function(){return lf(e)},0)}}function cf(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var i=e._pHM.get(t);e._hPM.delete(i),e._pHM.delete(t)}e._iC.delete(t)}}function lf(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}AS(e),e._tryIR=!1},0)},0))}var An=class{ttl;map=new Map;_to=!1;constructor(t){this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,db()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,TS(this)},0))}clear(){this.map.clear()}};function TS(e){let t=db()-e.ttl,i=e.map[Symbol.iterator]();for(;;){let r=i.next().value;if(!r)return;let n=r[0];if(r[1]<t)e.map.delete(n);else return}}function db(){return Date.now()}var Fc=new Set,fb=0,wa=function(){function e(i,r,n,o,a,l,f=!1,m={},p,b,x,C,N){this.idleQueue=new uf,this.rxdbVersion=ia,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new it,this.observable$=this.eventBulks$.pipe(Ht(B=>B.events)),this.storageToken=er,this.storageTokenDocument=er,this.emittedEventBulkIds=new An(60*1e3),this.name=i,this.token=r,this.storage=n,this.instanceCreationOptions=o,this.password=a,this.multiInstance=l,this.eventReduce=f,this.options=m,this.internalStore=p,this.hashFunction=b,this.cleanupPolicy=x,this.allowSlowCount=C,this.reactivity=N,fb++,this.name!=="pseudoInstance"&&(this.internalStore=Dc(this.asRxDatabase,p,Ic),this.storageTokenDocument=eb(this.asRxDatabase).catch(B=>this.startupErrors.push(B)),this.storageToken=this.storageTokenDocument.then(B=>B.data.token).catch(B=>this.startupErrors.push(B)))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw T("DB14",{database:this.name});return this.reactivity},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=function(r,n){return z(this,null,function*(){var o=yield Yv(this.internalStore,kc(af(r,n),ro));if(!o)throw T("SNH",{name:r,schema:n});var a=Rc(o);a._deleted=!0,yield this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")})},t.addCollections=function(r){return z(this,null,function*(){var n={},o={},a=[],l={};yield Promise.all(Object.entries(r).map(x=>z(this,[x],function*([p,b]){var C=p,N=b.schema;n[C]=N;var B=gg(N,this.hashFunction);if(o[C]=B,this.collections[p])throw T("DB3",{name:p});var et=af(p,N),ot={id:kc(et,ro),key:et,context:ro,data:{name:C,schemaHash:yield B.hash,schema:B.jsonSchema,version:B.version,connectedStorages:[]},_deleted:!1,_meta:xn(),_rev:Br(),_attachments:{}};a.push({document:ot});var at=Object.assign({},b,{name:C,schema:B,database:this}),pt=wt(b);pt.database=this,pt.name=p,ae("preCreateRxCollection",pt),at.conflictHandler=pt.conflictHandler,l[C]=at})));var f=yield this.internalStore.bulkWrite(a,"rx-database-add-collection");yield NS(this),yield Promise.all(f.error.map(p=>z(this,null,function*(){if(p.status!==409)throw T("DB12",{database:this.name,writeError:p});var b=Dt(p.documentInDb),x=b.data.name,C=o[x];if(b.data.schemaHash!==(yield C.hash))throw T("DB6",{database:this.name,collection:x,previousSchemaHash:b.data.schemaHash,schemaHash:yield C.hash,previousSchema:b.data.schema,schema:Dt(n[x])})})));var m={};return yield Promise.all(Object.keys(r).map(p=>z(this,null,function*(){var b=l[p],x=yield ub(b);m[p]=x,this.collections[p]=x,this[p]||Object.defineProperty(this,p,{get:()=>this.collections[p]})}))),m})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw At("json-dump")},t.importJSON=function(r){throw At("json-dump")},t.backup=function(r){throw At("backup")},t.leaderElector=function(){throw At("leader-election")},t.isLeader=function(){throw At("leader-election")},t.waitForLeadership=function(){throw At("leader-election")},t.migrationStates=function(){throw At("migration-schema")},t.destroy=function(){return z(this,null,function*(){return this.destroyed?er:(this.destroyed=!0,yield Rn("preDestroyRxDatabase",this),this.eventBulks$.complete(),fb--,this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance"?er:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>Fc.delete(this.name)).then(()=>!0))})},t.remove=function(){return this.destroy().then(()=>MS(this.name,this.storage,this.password))},ge(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function PS(e){if(Fc.has(e))throw T("DB8",{name:e,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function hb(e,t,i,r,n,o){return z(this,null,function*(){var a=yield t.createStorageInstance({databaseInstanceToken:e,databaseName:i,collectionName:qv,schema:Ic,options:r,multiInstance:n,password:o,devMode:Ot.isDevMode()});return a})}function mb({storage:e,instanceCreationOptions:t,name:i,password:r,multiInstance:n=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:l={},cleanupPolicy:f,allowSlowCount:m=!1,localDocuments:p=!1,hashFunction:b=eg,reactivity:x}){ae("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:i,password:r,multiInstance:n,eventReduce:o,ignoreDuplicate:a,options:l,localDocuments:p}),a||PS(i),Fc.add(i);var C=ei(10);return hb(C,e,i,t,n,r).catch(N=>{throw Fc.delete(i),N}).then(N=>{var B=new wa(i,C,e,t,r,n,o,l,N,b,f,m,x);return Rn("createRxDatabase",{database:B,creator:{storage:e,instanceCreationOptions:t,name:i,password:r,multiInstance:n,eventReduce:o,ignoreDuplicate:a,options:l,localDocuments:p}}).then(()=>B)})}function MS(e,t,i){return z(this,null,function*(){var r=ei(10),n=yield hb(r,t,e,{},!1,i),o=yield Ac(n),a=new Set;o.forEach(f=>a.add(f.data.name));var l=Array.from(a);return yield Promise.all(l.map(f=>Pc(t,n,r,e,f,i))),yield Rn("postRemoveRxDatabase",{databaseName:e,storage:t}),yield n.remove(),l})}function NS(e){return z(this,null,function*(){if(yield e.storageToken,e.startupErrors[0])throw e.startupErrors[0]})}var FS={RxSchema:yd.prototype,RxDocument:kn,RxQuery:tf.prototype,RxCollection:xa.prototype,RxDatabase:wa.prototype},df=new Set,pb=new Set;function $c(e){if(ae("preAddRxPlugin",{plugin:e,plugins:df}),!df.has(e)){{if(pb.has(e.name))throw T("PL3",{name:e.name,plugin:e});df.add(e),pb.add(e.name)}if(!e.rxdb)throw oe("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,i])=>i(FS[t])),e.overwritable&&Object.assign(Ot,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,i])=>{i.after&&Wi[t].push(i.after),i.before&&Wi[t].unshift(i.before)})}}function gb(e){return e&&typeof e.then=="function"}var $S=Promise.resolve(!1),hH=Promise.resolve(!0),Er=Promise.resolve();function Lc(e,t){return e||(e=0),new Promise(function(i){return setTimeout(function(){return i(t)},e)})}function vb(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Ca(){return Math.random().toString(36).substring(2)}var ff=0;function Hr(){var e=Date.now()*1e3;return e<=ff&&(e=ff+1),ff=e,e}var LS=Hr,BS="native";function jS(e){var t={time:Hr(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(i){t.messagesCallback&&t.messagesCallback(i.data)},t}function zS(e){e.bc.close(),e.subFns=[]}function US(e,t){try{return e.bc.postMessage(t,!1),Er}catch(i){return Promise.reject(i)}}function VS(e,t){e.messagesCallback=t}function KS(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function WS(){return 150}var bb={create:jS,close:zS,onMessage:VS,postMessage:US,canBeUsed:KS,type:BS,averageResponseTime:WS,microSeconds:LS};function no(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var HS=Hr,qS="pubkey.broadcast-channel-0-",qr="messages",Bc={durability:"relaxed"},YS="idb";function yb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function hf(e){e.commit&&e.commit()}function QS(e){var t=yb(),i=qS+e,r=t.open(i);return r.onupgradeneeded=function(n){var o=n.target.result;o.createObjectStore(qr,{keyPath:"id",autoIncrement:!0})},new Promise(function(n,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){n(r.result)}})}function GS(e,t,i){var r=Date.now(),n={uuid:t,time:r,data:i},o=e.transaction([qr],"readwrite",Bc);return new Promise(function(a,l){o.oncomplete=function(){return a()},o.onerror=function(m){return l(m)};var f=o.objectStore(qr);f.add(n),hf(o)})}function XS(e,t){var i=e.transaction(qr,"readonly",Bc),r=i.objectStore(qr),n=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(f,m){a.onerror=function(p){return m(p)},a.onsuccess=function(p){f(p.target.result)}})}function l(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(f,m){var p=l();p.onerror=function(b){return m(b)},p.onsuccess=function(b){var x=b.target.result;x?x.value.id<t+1?x.continue(t+1):(n.push(x.value),x.continue()):(hf(i),f(n))}})}function ZS(e,t){if(e.closed)return Promise.resolve([]);var i=e.db.transaction(qr,"readwrite",Bc),r=i.objectStore(qr);return Promise.all(t.map(function(n){var o=r.delete(n);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function JS(e,t){var i=Date.now()-t,r=e.transaction(qr,"readonly",Bc),n=r.objectStore(qr),o=[];return new Promise(function(a){n.openCursor().onsuccess=function(l){var f=l.target.result;if(f){var m=f.value;m.time<i?(o.push(m),f.continue()):(hf(r),a(o))}else a(o)}})}function tE(e){return JS(e.db,e.options.idb.ttl).then(function(t){return ZS(e,t.map(function(i){return i.id}))})}function eE(e,t){return t=no(t),QS(e).then(function(i){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Ca(),eMIs:new An(t.idb.ttl*2),writeBlockPromise:Er,messagesCallback:null,readQueuePromises:[],db:i};return i.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},_b(r),r})}function _b(e){e.closed||xb(e).then(function(){return Lc(e.options.idb.fallbackInterval)}).then(function(){return _b(e)})}function rE(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function xb(e){return e.closed?Er:e.messagesCallback?XS(e.db,e.lastCursorId).then(function(t){var i=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return rE(r,e)}).sort(function(r,n){return r.time-n.time});return i.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Er}):Er}function nE(e){e.closed=!0,e.db.close()}function iE(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return GS(e.db,e.uuid,t)}).then(function(){vb(0,10)===0&&tE(e)}),e.writeBlockPromise}function oE(e,t,i){e.messagesCallbackTime=i,e.messagesCallback=t,xb(e)}function aE(){return!!yb()}function sE(e){return e.idb.fallbackInterval*2}var wb={create:eE,close:nE,onMessage:oE,postMessage:iE,canBeUsed:aE,type:YS,averageResponseTime:sE,microSeconds:HS};var cE=Hr,lE="pubkey.broadcastChannel-",uE="localstorage";function Cb(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Sb(e){return lE+e}function dE(e,t){return new Promise(function(i){Lc().then(function(){var r=Sb(e.channelName),n={token:Ca(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(n);Cb().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),i()})})}function fE(e,t){var i=Sb(e),r=function(o){o.key===i&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function hE(e){window.removeEventListener("storage",e)}function mE(e,t){if(t=no(t),!Eb())throw new Error("BroadcastChannel: localstorage cannot be used");var i=Ca(),r=new An(t.localstorage.removeTimeout),n={channelName:e,uuid:i,eMIs:r};return n.listener=fE(e,function(o){n.messagesCallback&&o.uuid!==i&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<n.messagesCallbackTime||(r.add(o.token),n.messagesCallback(o.data)))}),n}function pE(e){hE(e.listener)}function gE(e,t,i){e.messagesCallbackTime=i,e.messagesCallback=t}function Eb(){var e=Cb();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function vE(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var Rb={create:mE,close:pE,onMessage:gE,postMessage:dE,canBeUsed:Eb,type:uE,averageResponseTime:vE,microSeconds:cE};var Db=Hr,bE="simulate",mf=new Set;function yE(e){var t={time:Db(),name:e,messagesCallback:null};return mf.add(t),t}function _E(e){mf.delete(e)}var Ob=5;function xE(e,t){return new Promise(function(i){return setTimeout(function(){var r=Array.from(mf);r.forEach(function(n){n.name===e.name&&n!==e&&n.messagesCallback&&n.time<t.time&&n.messagesCallback(t)}),i()},Ob)})}function wE(e,t){e.messagesCallback=t}function CE(){return!0}function SE(){return Ob}var Ib={create:yE,close:_E,onMessage:wE,postMessage:xE,canBeUsed:CE,type:bE,averageResponseTime:SE,microSeconds:Db};var kb=[bb,wb,Rb];function Ab(e){var t=[].concat(e.methods,kb).filter(Boolean);if(e.type){if(e.type==="simulate")return Ib;var i=t.find(function(n){return n.type===e.type});if(i)return i;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(n){return n.type!=="idb"}));var r=t.find(function(n){return n.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(kb.map(function(n){return n.type})))}var pf=new Set,EE=0,Sa=function(t,i){this.id=EE++,pf.add(this),this.name=t,Tb&&(i=Tb),this.options=no(i),this.method=Ab(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,RE(this)};Sa._pubkey=!0;var Tb;Sa.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Pb(this,"message",t)},postInternal:function(t){return Pb(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),i={time:t,fn:e};Nb(this,"message",this._onML),e&&typeof e=="function"?(this._onML=i,Mb(this,"message",i)):this._onML=null},addEventListener:function(t,i){var r=this.method.microSeconds(),n={time:r,fn:i};Mb(this,t,n)},removeEventListener:function(t,i){var r=this._addEL[t].find(function(n){return n.fn===i});Nb(this,t,r)},close:function(){var t=this;if(!this.closed){pf.delete(this),this.closed=!0;var i=this._prepP?this._prepP:Er;return this._onML=null,this._addEL.message=[],i.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Pb(e,t,i){var r=e.method.microSeconds(),n={time:r,type:t,data:i},o=e._prepP?e._prepP:Er;return o.then(function(){var a=e.method.postMessage(e._state,n);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function RE(e){var t=e.method.create(e.name,e.options);gb(t)?(e._prepP=t,t.then(function(i){e._state=i})):e._state=t}function Fb(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Mb(e,t,i){e._addEL[t].push(i),DE(e)}function Nb(e,t,i){e._addEL[t]=e._addEL[t].filter(function(r){return r!==i}),OE(e)}function DE(e){if(!e._iL&&Fb(e)){var t=function(n){e._addEL[n.type].forEach(function(o){n.time>=o.time&&o.fn(n.data)})},i=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,i)}):(e._iL=!0,e.method.onMessage(e._state,t,i))}}function OE(e){if(e._iL&&!Fb(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var jc=new Map;function IE(e,t,i,r){var n=jc.get(t);return n||(n={bc:new Sa(["RxDB:",e,i].join("|")),refs:new Set},jc.set(t,n)),n.refs.add(r),n.bc}function $b(e,t){var i=jc.get(e);if(i&&(i.refs.delete(t),i.refs.size===0))return jc.delete(e),i.bc.close()}function Lb(e,t,i,r){if(t.multiInstance){var n=r||IE(e,t.databaseInstanceToken,i.databaseName,i),o=new it,a=x=>{x.storageName===e&&x.databaseName===t.databaseName&&x.collectionName===t.collectionName&&x.version===t.schema.version&&o.next(x.eventBulk)};n.addEventListener("message",a);var l=i.changeStream(),f=!1,m=l.subscribe(x=>{f||n.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:x})});i.changeStream=function(){return o.asObservable().pipe(qh(l))};var p=i.close.bind(i);i.close=function(){return z(this,null,function*(){return f=!0,m.unsubscribe(),n.removeEventListener("message",a),r||(yield $b(t.databaseInstanceToken,i)),p()})};var b=i.remove.bind(i);i.remove=function(){return z(this,null,function*(){return f=!0,m.unsubscribe(),n.removeEventListener("message",a),r||(yield $b(t.databaseInstanceToken,i)),b()})}}}var gf={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html#cant-change-the-schema",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See see https://rxdb.info/migration-storage.html",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var vf;function Bb(){if(!vf){var e=new xa,t=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(Object.getPrototypeOf(e));vf=[...t,...i]}return vf}var bf;function jb(){if(!bf){var e=new wa("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(Object.getPrototypeOf(e));bf=[...t,...i],e.destroy()}return bf}var kE=Oc(kn),AE=new kE,yf;function zc(){if(!yf){var e=["deleted","synced"],t=Object.getOwnPropertyNames(AE),i=Object.getOwnPropertyNames(kn);yf=[...t,...i,...e]}return yf}function TE(e){if(e!=="_deleted"){if(["properties"].includes(e))throw T("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",i=new RegExp(t);if(e!=="_id"&&!e.match(i))throw T("SC1",{regex:t,fieldName:e})}}function PE(e){var t=xe(e.primaryKey);function i(n,o,a){if(typeof n=="string"&&typeof o=="object"&&!Array.isArray(o)&&a.split(".").pop()!=="patternProperties"&&TE(n),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw T("SC2",{fieldName:n});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw T("SC24",{fieldName:n});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw T("SC40",{fieldName:n});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw T("SC4",{fieldName:n})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw T("SC3",{fieldName:n});break;default:throw T("SC4",{fieldName:n})}var l=a.split(".").length>=2;if(l&&o.default)throw T("SC7",{path:a});if(!l){if(n==="_id"&&t!=="_id")throw T("COL2",{fieldName:n});if(n.charAt(0)==="_"){if(n==="_id"||n==="_deleted")return;throw T("SC8",{fieldName:n})}}}function r(n,o){!n||typeof n!="object"||Object.keys(n).forEach(a=>{var l=n[a];!n.properties&&l&&typeof l=="object"&&!Array.isArray(n)&&i(a,l,o);var f=o;a!=="properties"&&(f=f+"."+a),r(l,f)})}return r(e,""),!0}function ME(e){if(!e.primaryKey)throw T("SC30",{schema:e});function t(f){if(!f)throw T("SC33",{schema:e});var m=f.type;if(!m||!["string","number","integer"].includes(m))throw T("SC32",{schema:e,args:{schemaPart:f}})}if(typeof e.primaryKey=="string"){var i=e.primaryKey,r=e.properties[i];t(r)}else{var n=e.primaryKey,o=Oe(e,n.key);t(o),n.fields.forEach(f=>{var m=Oe(e,f);t(m)})}var a=xe(e.primaryKey),l=e.properties[a];if(!l.maxLength)throw T("SC39",{schema:e,args:{primaryPathSchemaPart:l}})}function zb(e){for(var t=e.split("."),i="",r=0;r<t.length;r+=1)t[r]!=="[]"?i=i.concat(".properties.".concat(t[r])):i=i.concat(".items");return rr(i)}function Ub(e){if(!e.primaryKey)throw T("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw T("SC29",{schema:e});if(e.properties._rev)throw T("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||typeof e.version!="number"||e.version<0)throw T("SC11",{version:e.version});if(PE(e),ME(e),Object.keys(e.properties).forEach(t=>{var i=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw T("SC13",{value:i,schema:e});if(i.unique)throw T("SC14",{value:i,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw T("SC15",{value:i,schema:e});if(i.type!=="string")throw T("SC16",{value:i,schema:e})}if(zc().includes(t))throw T("SC17",{key:t,schema:e})}),e.indexes){if(!xr(e.indexes))throw T("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw T("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var i=0;i<t.length;i+=1)if(typeof t[i]!="string")throw T("SC20",{index:t,schema:e})}var r=xr(t)?t:[t];r.forEach(n=>{var o=Oe(e,n),a=o.type;switch(a){case"string":var l=o.maxLength;if(!l)throw T("SC34",{index:t,field:n,schema:e});break;case"number":case"integer":var f=o.multipleOf;if(!f)throw T("SC35",{index:t,field:n,schema:e});var m=o.maximum,p=o.minimum;if(typeof m>"u"||typeof p>"u")throw T("SC37",{index:t,field:n,schema:e});break;case"boolean":var b="",x=n;if(n.includes(".")){var C=n.split(".");x=C.pop(),b=C.join(".")}var N=b===""?e:Oe(e,b);if(!N.required||!N.required.includes(x))throw T("SC38",{index:t,field:n,schema:e});break;default:throw T("SC36",{fieldName:n,type:o.type,schema:e})}})})}Object.keys(Us(e)).map(t=>{var i=t.split(".");return i.pop(),i.join(".")}).filter(t=>t!=="").filter((t,i,r)=>r.indexOf(t)===i).filter(t=>{var i=De(e,t);return i&&!!i.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),T("SC26",{index:rr(t),schema:e})}),(e.indexes||[]).reduce((t,i)=>(xr(i)?Lr(t,i):t.push(i),t),[]).filter((t,i,r)=>r.indexOf(t)===i).map(t=>{var i=zb(t),r=De(e,i);if(!r||typeof r!="object")throw T("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw T("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(Us(e)).map(t=>{var i=t.split(".");return i.pop(),i.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,i,r)=>r.indexOf(t)===i).filter(t=>{var i=De(e,t);return i&&!!i.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),T("SC27",{index:rr(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var i=zb(t),r=De(e,i);if(!r||typeof r!="object")throw T("SC28",{field:t,schema:e})})}function Uc(e){e&&Object.entries(e).forEach(([t,i])=>{if(typeof t!="string")throw oe("COL14",{name:t});if(t.startsWith("_"))throw oe("COL15",{name:t});if(typeof i!="function")throw oe("COL16",{name:t,type:typeof t});if(Bb().includes(t)||zc().includes(t))throw T("COL17",{name:t})})}function Vb(e,t){var i=Object.keys(e.properties);t&&Object.keys(t).filter(r=>i.includes(r)).forEach(r=>{throw T("COL18",{funName:r})})}function Kb(e,t){if(typeof t!="object"||Array.isArray(t))throw oe("COL11",{schema:e});var i=pg(e);if(i.length!==Object.keys(t).length)throw T("COL12",{have:Object.keys(t),should:i});return i.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw oe("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function Wb(e){if(jb().includes(e.name))throw T("DB5",{name:e.name});Yb(e.name)}function Hb(e){if(Yb(e.name),e.name.includes("$"))throw T("DB13",{name:e.name});if(dd(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw T("DB11",{name:e.name})}var qb="^[a-z][_$a-z0-9\\-]*$",NE=new RegExp(qb);function Yb(e){if(typeof e!="string"||e.length===0)throw oe("UT1",{name:e});if(dd(e))return!0;if(!e.match(NE)&&e!==":memory:")throw T("UT2",{regex:qb,givenName:e});return!0}function Qb(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw oe("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var i=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!i.includes(r))throw oe("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:i}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw T("QU15",{collection:e.collection.name,query:e.queryObj});Vc(e.queryObj)}function Gb(e){var t=e.rxQuery.collection.schema.jsonSchema,i=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(i).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!r.includes(l))throw T("QU13",{schema:t,field:l,query:e.mangoQuery})});var n=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=n.find(l=>Sn(l,o));if(!a)throw T("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!FE(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw T("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!r.includes(l))throw T("QU13",{schema:t,field:l,query:e.mangoQuery})}),Vc(e.mangoQuery)}function FE(e,t){var i=_a(e,t);return i.queryPlan.selectorSatisfiedByIndex}function Vc(e){if(!(typeof e!="object"||e===null)){var t=Object.keys(e);t.forEach(i=>{var r=e[i];if(r instanceof RegExp)throw T("QU16",{field:i,query:e});Array.isArray(r)?r.forEach(n=>Vc(n)):Vc(r)})}}function Xb(e,t){if(!e)throw T("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw T("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw T("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw T("DOC23",{primaryKey:e,document:t})}var $E=!0;function LE(e){return!e||typeof e=="string"||typeof e=="number"?e:od(e)}var BE="dev-mode",Zb={name:BE,rxdb:!0,init:()=>{$E&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:LE,tunnelErrorMessage(e){if(!gf[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return gf[e]}},hooks:{preCreateRxSchema:{after:Ub},preCreateRxDatabase:{after:function(e){Hb(e)}},preCreateRxCollection:{after:function(e){if(Wb(e),Vb(e.schema,e.methods),e.name.charAt(0)==="_")throw T("DB2",{name:e.name});if(!e.schema)throw T("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){Xb(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){Qb(e)}},prePrepareQuery:{after:e=>{Gb(e)}},createRxCollection:{after:e=>{Uc(e.creator.statics),Uc(e.creator.methods),Uc(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&Kb(e.creator.schema,e.creator.migrationStrategies)}}}};var Kc=gx(Jb(),1),ty=Symbol.for("Dexie"),Ea=globalThis[ty]||(globalThis[ty]=Kc.default);if(Kc.default.semVer!==Ea.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Kc.default.semVer} and ${Ea.semVer}`);var{liveQuery:A8,mergeRanges:T8,rangesOverlap:P8,RangeSet:M8,cmp:N8,Entity:F8}=Ea;var Ra="docs",jE="changes",ey="attachments",Hc="dexie",ry=new Map,Wc=new Map;function ny(e,t,i,r){var n="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=_e(ry,n,()=>{var a=z(this,null,function*(){var l=wt(i);l.autoOpen=!1;var f=new Ea(n,l),m={[Ra]:zE(r),[jE]:"++sequence, id",[ey]:"id"};return f.version(1).stores(m),yield f.open(),{dexieDb:f,dexieTable:f[Ra],dexieAttachmentsTable:f[ey],booleanIndexes:UE(r)}});return ry.set(n,o),Wc.set(o,0),a});return o}function iy(e){return z(this,null,function*(){var t=yield e,i=Wc.get(e),r=i-1;r===0?(t.dexieDb.close(),Wc.delete(e)):Wc.set(e,r)})}var wf="__";function io(e){var t=e.split(".");if(t.length>1)return t.map(r=>io(r)).join(".");if(e.startsWith("|")){var i=e.substring(1);return wf+i}else return e}function oy(e){var t=e.split(".");if(t.length>1)return t.map(r=>oy(r)).join(".");if(e.startsWith(wf)){var i=e.substring(wf.length);return"|"+i}else return e}function ay(e,t){return t&&(t=wt(t),t=Cf(t),e.forEach(i=>{var r=De(t,i),n=r?"1":"0";md(t,i,n)}),t)}function Ef(e,t){return t&&(t=wt(t),t=Sf(t),e.forEach(i=>{var r=De(t,i),n=r==="1";md(t,i,n)}),t)}function Cf(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(i=>Cf(i));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([i,r])=>{typeof r=="object"&&(r=Cf(r)),t[io(i)]=r}),t}}function Sf(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(i=>Sf(i));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([i,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=Sf(r)),t[oy(i)]=r}),t}}function zE(e){var t=[],i=xe(e.primaryKey);t.push([i]),t.push(["_deleted",i]),e.indexes&&e.indexes.forEach(o=>{var a=na(o);t.push(a)}),t.push(["_meta.lwt",i]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>io(a)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,a,l)=>l.indexOf(o)===a);var n=r.join(", ");return n}function Rf(e,t){return z(this,null,function*(){var i=yield e,r=yield i.dexieTable.bulkGet(t);return r.map(n=>Ef(i.booleanIndexes,n))})}function Da(e,t){return e+"||"+t}function UE(e){var t=new Set,i=[];return e.indexes?(e.indexes.forEach(r=>{var n=na(r);n.forEach(o=>{if(!t.has(o)){t.add(o);var a=Oe(e,o);a.type==="boolean"&&i.push(o)}})}),i.push("_deleted"),Vp(i)):i}function sy(e){return e===ni?-1/0:e}function cy(e,t,i){if(e.includes(t)){var r=i===ri||i===!0?"1":"0";return r}else return i}function ly(e,t,i){if(!i){if(typeof window>"u")throw new Error("IDBKeyRange missing");i=window.IDBKeyRange}var r=t.startKeys.map((a,l)=>{var f=t.index[l];return cy(e,f,a)}).map(sy),n=t.endKeys.map((a,l)=>{var f=t.index[l];return cy(e,f,a)}).map(sy),o=i.bound(r,n,!t.inclusiveStart,!t.inclusiveEnd);return o}function Df(e,t){return z(this,null,function*(){var i=yield e.internals,r=t.query,n=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=n+o,l=t.queryPlan,f=!1;l.selectorSatisfiedByIndex||(f=Ji(e.schema,t.query));var m=ly(i.booleanIndexes,l,i.dexieDb._options.IDBKeyRange),p=l.index,b=[];if(yield i.dexieDb.transaction("r",i.dexieTable,C=>z(this,null,function*(){var N=C.idbtrans,B=N.objectStore(Ra),et,ot;ot="["+p.map(pt=>io(pt)).join("+")+"]",et=B.index(ot);var at=et.openCursor(m);yield new Promise(pt=>{at.onsuccess=function(Kt){var gt=Kt.target.result;if(gt){var Nt=Ef(i.booleanIndexes,gt.value);(!f||f(Nt))&&b.push(Nt),l.sortSatisfiedByIndex&&b.length===a?pt():gt.continue()}else pt()}})})),!l.sortSatisfiedByIndex){var x=Sc(e.schema,t.query);b=b.sort(x)}return b=b.slice(n,a),{documents:b}})}function uy(e,t){return z(this,null,function*(){var i=yield e.internals,r=t.queryPlan,n=r.index,o=ly(i.booleanIndexes,r,i.dexieDb._options.IDBKeyRange),a=-1;return yield i.dexieDb.transaction("r",i.dexieTable,l=>z(this,null,function*(){var f=l.idbtrans,m=f.objectStore(Ra),p,b;b="["+n.map(C=>io(C)).join("+")+"]",p=m.index(b);var x=p.count(o);a=yield new Promise((C,N)=>{x.onsuccess=function(){C(x.result)},x.onerror=B=>N(B)})})),a})}var VE=te(),KE=function(){function e(i,r,n,o,a,l,f){this.changes$=new it,this.instanceId=VE++,this.storage=i,this.databaseName=r,this.collectionName=n,this.schema=o,this.internals=a,this.options=l,this.settings=f,this.primaryPath=xe(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,n){return z(this,null,function*(){ci(this),r.forEach(p=>{if(!p.document._rev||p.previous&&!p.previous._rev)throw T("SNH",{args:{row:p}})});var o=yield this.internals,a={success:[],error:[]},l=r.map(p=>p.document[this.primaryPath]),f;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>z(this,null,function*(){var p=new Map,b=yield Rf(this.internals,l);b.forEach(N=>{var B=N;return B&&p.set(B[this.primaryPath],B),B}),f=Gv(this,this.primaryPath,p,r,n),a.error=f.errors;var x=[];f.bulkInsertDocs.forEach(N=>{a.success.push(N.document),x.push(N.document)}),f.bulkUpdateDocs.forEach(N=>{a.success.push(N.document),x.push(N.document)}),x=x.map(N=>ay(o.booleanIndexes,N)),x.length>0&&(yield o.dexieTable.bulkPut(x));var C=[];f.attachmentsAdd.forEach(N=>{C.push({id:Da(N.documentId,N.attachmentId),data:N.attachmentData.data})}),f.attachmentsUpdate.forEach(N=>{C.push({id:Da(N.documentId,N.attachmentId),data:N.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(C),yield o.dexieAttachmentsTable.bulkDelete(f.attachmentsRemove.map(N=>Da(N.documentId,N.attachmentId)))})),f=Dt(f),f.eventBulk.events.length>0){var m=Dt(f.newestRow).document;f.eventBulk.checkpoint={id:m[this.primaryPath],lwt:m._meta.lwt},f.eventBulk.endTime=te(),this.changes$.next(f.eventBulk)}return a})},t.findDocumentsById=function(r,n){return z(this,null,function*(){ci(this);var o=yield this.internals,a=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>z(this,null,function*(){var l=yield Rf(this.internals,r);l.forEach(f=>{f&&(!f._deleted||n)&&a.push(f)})})),a})},t.query=function(r){return ci(this),Df(this,r)},t.count=function(r){return z(this,null,function*(){if(r.queryPlan.selectorSatisfiedByIndex){var n=yield uy(this,r);return{count:n,mode:"fast"}}else{var o=yield Df(this,r);return{count:o.documents.length,mode:"slow"}}})},t.changeStream=function(){return ci(this),this.changes$.asObservable()},t.cleanup=function(r){return z(this,null,function*(){ci(this);var n=yield this.internals;return yield n.dexieDb.transaction("rw",n.dexieTable,()=>z(this,null,function*(){var o=te()-r,a=yield n.dexieTable.where("_meta.lwt").below(o).toArray(),l=[];a.forEach(f=>{f._deleted==="1"&&l.push(f[this.primaryPath])}),yield n.dexieTable.bulkDelete(l)})),!0})},t.getAttachmentData=function(r,n,o){return z(this,null,function*(){ci(this);var a=yield this.internals,l=Da(r,n);return yield a.dexieDb.transaction("r",a.dexieAttachmentsTable,()=>z(this,null,function*(){var f=yield a.dexieAttachmentsTable.get(l);if(f)return f.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+n)}))})},t.remove=function(){return z(this,null,function*(){ci(this);var r=yield this.internals;return yield r.dexieTable.clear(),this.close()})},t.close=function(){return this.closed?this.closed:(this.closed=z(this,null,function*(){this.changes$.complete(),yield iy(this.internals)}),this.closed)},t.conflictResultionTasks=function(){return new it},t.resolveConflictResultionTask=function(r){return z(this,null,function*(){})},e}();function dy(e,t,i){return z(this,null,function*(){var r=ny(t.databaseName,t.collectionName,i,t.schema),n=new KE(e,t.databaseName,t.collectionName,t.schema,r,t.options,i);return yield Lb(Hc,t,n),Promise.resolve(n)})}function ci(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var WE=function(){function e(i){this.name=Hc,this.rxdbVersion=ia,this.settings=i}var t=e.prototype;return t.createStorageInstance=function(r){return Xv(r),dy(this,r,this.settings)},e}();function fy(e={}){var t=new WE(e);return t}var qc={};px(qc,{$addToSet:()=>qE,$bit:()=>QE,$currentDate:()=>GE,$inc:()=>XE,$max:()=>ZE,$min:()=>JE,$mul:()=>tR,$pop:()=>eR,$pull:()=>Of,$pullAll:()=>rR,$push:()=>iR,$rename:()=>oR,$set:()=>If,$unset:()=>aR});var oo=(e,t)=>{switch(e){case"deep":return Yi(t);case"copy":return ai(t)?new Date(t):rt(t)?[...t]:ct(t)?Object.assign({},t):t;default:return t}},HE=/^[a-z]+[a-zA-Z0-9]*$/;function hy(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];let t=e.indexOf(".$"),i=e.indexOf("]"),r=e.substring(0,t),n=e.substring(t+3,i);j(n===""||HE.test(n),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let o=e.substring(i+2),[a,l]=o?hy(o):[];return[{selector:e,parent:r,child:n||"$",next:a},[n,...l||[]].filter(Boolean)]}var Mt=(e,t,i,r,n)=>{let{parent:o,child:a,next:l}=t;if(!a){let m=!1;return qi(e,o,(b,x)=>m=!!r(b,x)||m,n),m}let f=we(e,o);return rt(f)?f.map((m,p)=>i[a]&&!i[a].test({[a]:m})?!1:l?Mt(m,l,i,r,n):r(f,p)).some(Boolean):!1};function Lt(e,t,i,r){let n=[];for(let[o,a]of Object.entries(e)){let[l,f]=hy(o);if(!f.length)r(a,l,{})&&n.push(l.parent);else{let m={};t.forEach(b=>{Object.keys(b).forEach(x=>{f.forEach(C=>{(x===C||x.startsWith(C+"."))&&(m[C]=m[C]||{},Object.assign(m[C],{[x]:b[x]}))})})});let p={};for(let[b,x]of Object.entries(m))p[b]=new ee(x,i.queryOptions);r(a,l,p)&&n.push(l.parent)}}return n}var qE=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l={$each:[n]};return ct(n)&&zt(n,"$each")&&Object.assign(l,n),Mt(e,o,a,(f,m)=>{let p=f[m]||(f[m]=[]);return Vr([p,l.$each]).length===l.$each.length?!1:(f[m]=oo(r.cloneMode,ma(p.concat(l.$each))),!0)},{buildGraph:!0})});var YE=new Set(["and","or","xor"]),QE=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l=Object.keys(n);return j(l.length===1&&YE.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Mt(e,o,a,(f,m)=>{let p=f[m],b=n[l[0]];if(p!==void 0&&!(lt(p)&&lt(b)))return!1;switch(p=p||0,l[0]){case"and":f[m]=p&b;break;case"or":f[m]=p|b;break;case"xor":f[m]=p^b;break}return f[m]!==p},{buildGraph:!0})});var GE=(e,t,i=[],r={})=>{let n=Date.now();return Lt(t,i,r,(o,a,l)=>Mt(e,a,l,(f,m)=>(f[m]=n,!0),{buildGraph:!0}))};var XE=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{if(!o.child){let l=we(e,o.parent);j(l===void 0||lt(l),"cannot apply $inc to a value of non-numeric type")}return Mt(e,o,a,(l,f)=>(l[f]=(l[f]||(l[f]=0))+n,!0),{buildGraph:!0})});var ZE=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Mt(e,o,a,(l,f)=>l[f]!==void 0&&Ft(l[f],n)>-1?!1:(l[f]=n,!0),{buildGraph:!0}));var JE=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Mt(e,o,a,(l,f)=>l[f]!==void 0&&Ft(l[f],n)<1?!1:(l[f]=n,!0),{buildGraph:!0}));var tR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Mt(e,o,a,(l,f)=>{let m=l[f];return l[f]=l[f]===void 0?0:l[f]*n,l[f]!==m},{buildGraph:!0}));var eR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Mt(e,o,a,(l,f)=>{let m=l[f];return j(rt(m),`path '${o.selector}' contains an element of non-array type.`),m.length?(n===-1?m.splice(0,1):m.pop(),!0):!1}));var Of=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l=!ct(n)||Object.keys(n).some($e),f=new ee(l?{k:n}:n,r.queryOptions),m=l?p=>f.test({k:p}):p=>f.test(p);return Mt(e,o,a,(p,b)=>{let x=p[b],C=new Array;return x.map(B=>{let et=m(B);return et||C.push(B),et}).some(Boolean)?(p[b]=C,!0):!1})});var rR=(e,t,i=[],r={})=>{let n={};return Object.entries(t).forEach(([o,a])=>{n[o]={$in:a}}),Of(e,n,i,r)};var nR=Object.freeze(["$each","$slice","$sort","$position"]),iR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l={$each:[n]};return ct(n)&&nR.some(f=>zt(n,f))&&Object.assign(l,n),Mt(e,o,a,(f,m)=>{let p=f[m]||(f[m]=[]),b=p.slice(0,l.$slice||p.length),x=p.length,C=lt(l.$position)?l.$position:p.length;if(p.splice(C,0,...oo(r.cloneMode,l.$each)),l.$sort){let N=ct(l.$sort)?Object.keys(l.$sort||{}).pop():"",B=N?l.$sort[N]:l.$sort,et=N?ot=>we(ot,N):ot=>ot;p.sort((ot,at)=>B*Ft(et(ot),et(at)))}return lt(l.$slice)&&(l.$slice<0?p.splice(0,p.length+l.$slice):p.splice(l.$slice)),x!=p.length||!ve(b,p)},{descendArray:!0,buildGraph:!0})});var If=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Mt(e,o,a,(l,f)=>ve(l[f],n)?!1:(l[f]=oo(r.cloneMode,n),!0),{buildGraph:!0}));var oR=(e,t,i=[],r={})=>{let n=[],o=Lt(t,i,r,(a,l,f)=>Mt(e,l,f,(m,p)=>zt(m,p)?(n.push(...If(e,{[a]:m[p]},i,r)),delete m[p],!0):!1));return Array.from(new Set(o.concat(n)))};var aR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Mt(e,o,a,(l,f)=>zt(l,f)?(rt(l)?l[f]=null:delete l[f],!0):!1));function kf(e){return(t,i,r=[],n={},o={})=>{let a=Object.assign({cloneMode:"copy"},e,o);Object.assign(a,{queryOptions:On(Object.assign({useStrictMode:!1},a?.queryOptions))}),r=r||[],n=n||{};let l=Object.entries(i);j(l.length===1,"Update expression must contain only one operator.");let[f,m]=l[0];j(zt(qc,f),`Update operator '${f}' is not supported.`);let p=qc[f];return Object.keys(n).length&&!new ee(n,a.queryOptions).test(t)?[]:p(t,m,r,a)}}var g3=kf({});var Af;function Tf(e,t){if(!Af){var i=kf({cloneMode:"none"});Af=(r,n)=>{var o=He(r);return i(o,n),o}}return Af(e,t)}function sR(e){return this.incrementalModify(t=>{var i=Tf(t,e);return i})}function cR(e){var t=this._data,i=Tf(t,e);return this._saveData(i,t)}function lR(e){return this.exec().then(t=>t?Array.isArray(t)?Promise.all(t.map(i=>i.update(e))).then(()=>t):t.update(e).then(()=>t):null)}var my={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=cR,e.incrementalUpdate=sR},RxQuery:e=>{e.update=lR}}};var uR={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function dR(){return z(this,null,function*(){$c(ab),$c(my),hm()&&$c(Zb)})}dR();var A3=(()=>{let t=class t{constructor(){this.dataBaseReadySubj=new fe(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(r){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[r]}initDB(r){return z(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===r&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield mb({name:r,storage:fy(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:uR}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var N3=(()=>{let t=class t{constructor(){this.activePortal=new it,this.portal$=this.activePortal.asObservable()}setPortal(r){this.activePortal.next(r)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Rr=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Rr||{}),$3="*";function vy(e,t){return{type:Rr.Trigger,name:e,definitions:t,options:{}}}function Pf(e,t=null){return{type:Rr.Animate,styles:t,timings:e}}function L3(e,t=null){return{type:Rr.Sequence,steps:e,options:t}}function Yc(e){return{type:Rr.Style,styles:e,offset:null}}function Mf(e,t,i){return{type:Rr.State,name:e,styles:t,options:i}}function B3(e){return{type:Rr.Keyframes,steps:e}}function Nf(e,t,i=null){return{type:Rr.Transition,expr:e,animation:t,options:i}}function j3(e=null){return{type:Rr.AnimateChild,options:e}}function z3(e,t,i=null){return{type:Rr.Query,selector:e,animation:t,options:i}}var py=class{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},gy=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,r=0,n=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++i==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++n==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let i=t*this.totalTime;this.players.forEach(r=>{let n=r.totalTime?Math.min(1,i/r.totalTime):1;r.setPosition(n)})}getPosition(){let t=this.players.reduce((i,r)=>i===null||r.totalTime>i.totalTime?r:i,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},U3="!";function q3(e){return e&&typeof e.connect=="function"&&!(e instanceof Wn)}var Qc=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(Qc||{}),Y3=new mt("_ViewRepeater"),by=class{applyChanges(t,i,r,n,o){t.forEachOperation((a,l,f)=>{let m,p;if(a.previousIndex==null){let b=r(a,l,f);m=i.createEmbeddedView(b.templateRef,b.context,b.index),p=Qc.INSERTED}else f==null?(i.remove(l),p=Qc.REMOVED):(m=i.get(l),i.move(m,f),p=Qc.MOVED);o&&o({context:m?.context,operation:p,record:a})})}detach(){}};var yy=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,i,r=!0,n){this._multiple=t,this._emitChanges=r,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new it,i&&i.length&&(t?i.forEach(o=>this._markSelected(o)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...t){this._verifyValueAssignment(t);let i=this.selected,r=new Set(t);t.forEach(o=>this._markSelected(o)),i.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let i=this._hasQueuedChanges();return t&&this._emitChangeEvent(),i}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,i){if(this.compareWith){i=i??this._selection;for(let r of i)if(this.compareWith(t,r))return r;return t}else return t}};var fR=20,Ff=(()=>{let t=class t{constructor(r,n,o){this._ngZone=r,this._platform=n,this._scrolled=new it,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let n=this.scrollContainers.get(r);n&&(n.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=fR){return this._platform.isBrowser?new as(n=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(Yl(r)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(r,n){let o=this.getAncestorScrollContainers(r);return this.scrolled(n).pipe(yt(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(r){let n=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,r)&&n.push(a)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,n){let o=Em(n),a=r.getElementRef().nativeElement;do if(o==a)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return Kh(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(U(jt),U(ye),U(Qt,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var hR=20,Gc=(()=>{let t=class t{constructor(r,n,o){this._platform=r,this._change=new it,this._changeListener=a=>{this._change.next(a)},this._document=o,n.runOutsideAngular(()=>{if(r.isBrowser){let a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,n=this._getWindow(),o=r.documentElement,a=o.getBoundingClientRect(),l=-a.top||r.body.scrollTop||n.scrollY||o.scrollTop||0,f=-a.left||r.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:l,left:f}}change(r=hR){return r>0?this._change.pipe(Yl(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(n){return new(n||t)(U(ye),U(jt),U(Qt,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _y=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({});let e=t;return e})(),$f=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({imports:[Po,_y,Po,_y]});let e=t;return e})();var xy=Sm(),Lf=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gt(-this._previousScrollPosition.left),t.style.top=Gt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,r=t.style,n=i.style,o=r.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),xy&&(r.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xy&&(r.scrollBehavior=o,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,r=this._viewportRuler.getViewportSize();return i.scrollHeight>r.height||i.scrollWidth>r.width}};var Bf=class{constructor(t,i,r,n){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=r,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(yt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Xc=class{enable(){}disable(){}attach(){}};function jf(e,t){return t.some(i=>{let r=e.bottom<i.top,n=e.top>i.bottom,o=e.right<i.left,a=e.left>i.right;return r||n||o||a})}function wy(e,t){return t.some(i=>{let r=e.top<i.top,n=e.bottom>i.bottom,o=e.left<i.left,a=e.right>i.right;return r||n||o||a})}var zf=class{constructor(t,i,r,n){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:n}=this._viewportRuler.getViewportSize();jf(i,[{width:r,height:n,bottom:n,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},pR=(()=>{let t=class t{constructor(r,n,o,a){this._scrollDispatcher=r,this._viewportRuler=n,this._ngZone=o,this.noop=()=>new Xc,this.close=l=>new Bf(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Lf(this._viewportRuler,this._document),this.reposition=l=>new zf(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}};t.\u0275fac=function(n){return new(n||t)(U(Ff),U(Gc),U(jt),U(Qt))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Tn=class{constructor(t){if(this.scrollStrategy=new Xc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let r of i)t[r]!==void 0&&(this[r]=t[r])}}};var Uf=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var Dy=(()=>{let t=class t{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let n=this._attachedOverlays.indexOf(r);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(n){return new(n||t)(U(Qt))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),gR=(()=>{let t=class t extends Dy{constructor(r,n){super(r),this._ngZone=n,this._keydownListener=o=>{let a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){let f=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(n){return new(n||t)(U(Qt),U(jt,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vR=(()=>{let t=class t extends Dy{constructor(r,n,o){super(r),this._platform=n,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ou(a)},this._clickListener=a=>{let l=ou(a),f=a.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let m=this._attachedOverlays.slice();for(let p=m.length-1;p>-1;p--){let b=m[p];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(f))break;let x=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(r){if(super.add(r),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(n){return new(n||t)(U(Qt),U(ye),U(jt,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ao=(()=>{let t=class t{constructor(r,n){this._platform=n,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||au()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}let n=this._document.createElement("div");n.classList.add(r),au()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};t.\u0275fac=function(n){return new(n||t)(U(Qt),U(ye))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yr=class{constructor(t,i,r,n,o,a,l,f,m,p=!1){this._portalOutlet=t,this._host=i,this._pane=r,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=p,this._backdropElement=null,this._backdropClick=new it,this._attachments=new it,this._detachments=new it,this._locationChanges=ur.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new it,this._outsidePointerEvents=new it,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ze(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=K(K({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Wt(K({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Gt(this._config.width),t.height=Gt(this._config.height),t.minWidth=Gt(this._config.minWidth),t.minHeight=Gt(this._config.minHeight),t.maxWidth=Gt(this._config.maxWidth),t.maxHeight=Gt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,r){let n=su(i||[]).filter(o=>!!o);n.length&&(r?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Yn(wi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Cy="cdk-overlay-connected-position-bounding-box",bR=/([A-Za-z%]+)$/,Vf=class{get positions(){return this._preferredPositions}constructor(t,i,r,n,o){this._viewportRuler=i,this._document=r,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new it,this._resizeSubscription=ur.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Cy),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,r=this._viewportRect,n=this._containerRect,o=[],a;for(let l of this._preferredPositions){let f=this._getOriginPoint(t,n,l),m=this._getOverlayPoint(f,i,l),p=this._getOverlayFit(m,i,r,l);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,f);return}if(this._canFitWithFlexibleDimensions(p,m,r)){o.push({position:l,origin:f,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(f,l)});continue}(!a||a.overlayFit.visibleArea<p.visibleArea)&&(a={overlayFit:p,overlayPoint:m,originPoint:f,position:l,overlayRect:i})}if(o.length){let l=null,f=-1;for(let m of o){let p=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);p>f&&(f=p,l=m)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&li(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,r){let n;if(r.originX=="center")n=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;n=r.originX=="start"?a:l}i.left<0&&(n-=i.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:n,y:o}}_getOverlayPoint(t,i,r){let n;r.overlayX=="center"?n=-i.width/2:r.overlayX==="start"?n=this._isRtl()?-i.width:0:n=this._isRtl()?0:-i.width;let o;return r.overlayY=="center"?o=-i.height/2:o=r.overlayY=="top"?0:-i.height,{x:t.x+n,y:t.y+o}}_getOverlayFit(t,i,r,n){let o=Ey(i),{x:a,y:l}=t,f=this._getOffset(n,"x"),m=this._getOffset(n,"y");f&&(a+=f),m&&(l+=m);let p=0-a,b=a+o.width-r.width,x=0-l,C=l+o.height-r.height,N=this._subtractOverflows(o.width,p,b),B=this._subtractOverflows(o.height,x,C),et=N*B;return{visibleArea:et,isCompletelyWithinViewport:o.width*o.height===et,fitsInViewportVertically:B===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(t,i,r){if(this._hasFlexibleDimensions){let n=r.bottom-i.y,o=r.right-i.x,a=Sy(this._overlayRef.getConfig().minHeight),l=Sy(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportVertically||a!=null&&a<=n,m=t.fitsInViewportHorizontally||l!=null&&l<=o;return f&&m}return!1}_pushOverlayOnScreen(t,i,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=Ey(i),o=this._viewportRect,a=Math.max(t.x+n.width-o.width,0),l=Math.max(t.y+n.height-o.height,0),f=Math.max(o.top-r.top-t.y,0),m=Math.max(o.left-r.left-t.x,0),p=0,b=0;return n.width<=o.width?p=m||-a:p=t.x<this._viewportMargin?o.left-r.left-t.x:0,n.height<=o.height?b=f||-l:b=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:p,y:b},{x:t.x+p,y:t.y+b}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){let r=this._getScrollVisibility(),n=new Uf(t,r);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,n=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${r} ${n}`}_calculateBoundingBoxRect(t,i){let r=this._viewportRect,n=this._isRtl(),o,a,l;if(i.overlayY==="top")a=t.y,o=r.height-a+this._viewportMargin;else if(i.overlayY==="bottom")l=r.height-t.y+this._viewportMargin*2,o=r.height-l+this._viewportMargin;else{let C=Math.min(r.bottom-t.y+r.top,t.y),N=this._lastBoundingBoxSize.height;o=C*2,a=t.y-C,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-N/2)}let f=i.overlayX==="start"&&!n||i.overlayX==="end"&&n,m=i.overlayX==="end"&&!n||i.overlayX==="start"&&n,p,b,x;if(m)x=r.width-t.x+this._viewportMargin,p=t.x-this._viewportMargin;else if(f)b=t.x,p=r.right-t.x;else{let C=Math.min(r.right-t.x+r.left,t.x),N=this._lastBoundingBoxSize.width;p=C*2,b=t.x-C,p>N&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-N/2)}return{top:a,left:b,bottom:l,right:x,width:p,height:o}}_setBoundingBoxStyles(t,i){let r=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Gt(r.height),n.top=Gt(r.top),n.bottom=Gt(r.bottom),n.width=Gt(r.width),n.left=Gt(r.left),n.right=Gt(r.right),i.overlayX==="center"?n.alignItems="center":n.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?n.justifyContent="center":n.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Gt(o)),a&&(n.maxWidth=Gt(a))}this._lastBoundingBoxSize=r,li(this._boundingBox.style,n)}_resetBoundingBoxStyles(){li(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){li(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let r={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let p=this._viewportRuler.getViewportScrollPosition();li(r,this._getExactOverlayY(i,t,p)),li(r,this._getExactOverlayX(i,t,p))}else r.position="static";let l="",f=this._getOffset(i,"x"),m=this._getOffset(i,"y");f&&(l+=`translateX(${f}px) `),m&&(l+=`translateY(${m}px)`),r.transform=l.trim(),a.maxHeight&&(n?r.maxHeight=Gt(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(n?r.maxWidth=Gt(a.maxWidth):o&&(r.maxWidth="")),li(this._pane.style,r)}_getExactOverlayY(t,i,r){let n={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(o.y+this._overlayRect.height)}px`}else n.top=Gt(o.y);return n}_getExactOverlayX(t,i,r){let n={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let l=this._document.documentElement.clientWidth;n.right=`${l-(o.x+this._overlayRect.width)}px`}else n.left=Gt(o.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),r=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wy(t,r),isOriginOutsideView:jf(t,r),isOverlayClipped:wy(i,r),isOverlayOutsideView:jf(i,r)}}_subtractOverflows(t,...i){return i.reduce((r,n)=>r-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&su(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof qt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+i,height:r,width:i}}};function li(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function Sy(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(bR);return!i||i==="px"?parseFloat(t):null}return e||null}function Ey(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var Ry="cdk-global-overlay-wrapper",Kf=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ry),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:l}=r,f=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),m=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),p=this._xPosition,b=this._xOffset,x=this._overlayRef.getConfig().direction==="rtl",C="",N="",B="";f?B="flex-start":p==="center"?(B="center",x?N=b:C=b):x?p==="left"||p==="end"?(B="flex-end",C=b):(p==="right"||p==="start")&&(B="flex-start",N=b):p==="left"||p==="start"?(B="flex-start",C=b):(p==="right"||p==="end")&&(B="flex-end",N=b),t.position=this._cssPosition,t.marginLeft=f?"0":C,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":N,i.justifyContent=B,i.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,r=i.style;i.classList.remove(Ry),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},yR=(()=>{let t=class t{constructor(r,n,o,a){this._viewportRuler=r,this._document=n,this._platform=o,this._overlayContainer=a}global(){return new Kf}flexibleConnectedTo(r){return new Vf(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(n){return new(n||t)(U(Gc),U(Qt),U(ye),U(ao))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_R=0,ke=(()=>{let t=class t{constructor(r,n,o,a,l,f,m,p,b,x,C,N){this.scrollStrategies=r,this._overlayContainer=n,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=f,this._ngZone=m,this._document=p,this._directionality=b,this._location=x,this._outsideClickDispatcher=C,this._animationsModuleType=N}create(r){let n=this._createHostElement(),o=this._createPaneElement(n),a=this._createPortalOutlet(o),l=new Tn(r);return l.direction=l.direction||this._directionality.value,new Yr(a,n,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(r){let n=this._document.createElement("div");return n.id=`cdk-overlay-${_R++}`,n.classList.add("cdk-overlay-pane"),r.appendChild(n),n}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(ms)),new ys(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(n){return new(n||t)(U(pR),U(ao),U(ds),U(yR),U(gR),U(Yt),U(jt),U(Qt),U(Pi),U(tr),U(vR),U(Ar,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Oy=new mt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=G(ke);return()=>e.scrollStrategies.reposition()}}),wR=(()=>{let t=class t{constructor(r){this.elementRef=r}};t.\u0275fac=function(n){return new(n||t)(q(qt))},t.\u0275dir=Ut({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let e=t;return e})(),S6=(()=>{let t=class t{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,n,o,a,l){this._overlay=r,this._dir=l,this._backdropSubscription=ur.EMPTY,this._attachSubscription=ur.EMPTY,this._detachSubscription=ur.EMPTY,this._positionSubscription=ur.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new me,this.positionChange=new me,this.attach=new me,this.detach=new me,this.overlayKeydown=new me,this.overlayOutsideClick=new me,this._templatePortal=new mr(n,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=xR);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Ai(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Tn({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(r){let n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(r),r}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof wR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Qh(()=>this.positionChange.observers.length>0)).subscribe(r=>{this.positionChange.emit(r),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};t.\u0275fac=function(n){return new(n||t)(q(ke),q(Pr),q(un),q(Oy),q(Pi,8))},t.\u0275dir=Ut({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ht.None,"cdkConnectedOverlayOrigin","origin"],positions:[ht.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ht.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ht.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ht.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ht.None,"cdkConnectedOverlayWidth","width"],height:[ht.None,"cdkConnectedOverlayHeight","height"],minWidth:[ht.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ht.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ht.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ht.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ht.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ht.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ht.None,"cdkConnectedOverlayOpen","open"],disableClose:[ht.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ht.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",pe],lockPosition:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",pe],flexibleDimensions:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",pe],growAfterOpen:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",pe],push:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",pe],disposeOnNavigation:[ht.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",pe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[dn,ln]});let e=t;return e})();function CR(e){return()=>e.scrollStrategies.reposition()}var SR={provide:Oy,deps:[ke],useFactory:CR},so=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({providers:[ke,SR],imports:[Po,$r,$f,$f]});let e=t;return e})();function ER(e,t){if(e&1){let i=cm();hr(0,"div",1)(1,"button",2),Oi("click",function(){Xh(i);let n=eu();return Zh(n.action())}),ru(2),Je()()}if(e&2){let i=eu();Di(2),nu(" ",i.data.action," ")}}var RR=["label"];function DR(e,t){}var OR=Math.pow(2,31)-1,Ia=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new it,this._afterOpened=new it,this._onAction=new it,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,OR))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},ky=new mt("MatSnackBarData"),co=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},IR=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ut({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),kR=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ut({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),AR=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ut({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),Ay=(()=>{let t=class t{constructor(r,n){this.snackBarRef=r,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(n){return new(n||t)(q(Ia),q(ky))},t.\u0275cmp=Se({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ee],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(hr(0,"div",0),ru(1),Je(),Qn(2,ER,3,1,"div",1)),n&2&&(Di(),nu(" ",o.data.message,`
`),Di(),sm(2,o.hasAction?2:-1))},dependencies:[Lm,IR,kR,AR],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),TR={snackBarState:vy("state",[Mf("void, hidden",Yc({transform:"scale(0.8)",opacity:0})),Mf("visible",Yc({transform:"scale(1)",opacity:1})),Nf("* => visible",Pf("150ms cubic-bezier(0, 0, 0.2, 1)")),Nf("* => void, * => hidden",Pf("75ms cubic-bezier(0.4, 0.0, 1, 1)",Yc({opacity:0})))])},PR=0,MR=(()=>{let t=class t extends fn{constructor(r,n,o,a,l){super(),this._ngZone=r,this._elementRef=n,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=l,this._document=G(Qt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new it,this._onExit=new it,this._onEnter=new it,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${PR++}`,this.attachDomPortal=f=>{this._assertNotAttached();let m=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),m},l.politeness==="assertive"&&!l.announcementMessage?this._live="assertive":l.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),n}attachTemplatePortal(r){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),n}onAnimationEnd(r){let{fromState:n,toState:o}=r;if((o==="void"&&n!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let r=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(l=>r.classList.add(l)):r.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let r=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let a=n[o],l=a.getAttribute("aria-owns");this._trackedModals.add(a),l?l.indexOf(r)===-1&&a.setAttribute("aria-owns",l+" "+r):a.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let n=r.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&n){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),n.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(n){return new(n||t)(q(jt),q(qt),q(dr),q(ye),q(co))},t.\u0275cmp=Se({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(Ii(hn,7),Ii(RR,7)),n&2){let a;Gn(a=Xn())&&(o._portalOutlet=a.first),Gn(a=Xn())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,o){n&1&&um("@state.done",function(l){return o.onAnimationEnd(l)}),n&2&&lm("@state",o._animationState)},standalone:!0,features:[ue,Ee],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(hr(0,"div",0)(1,"div",1,2)(3,"div",3),Qn(4,DR,0,0,"ng-template",4),Je(),Ve(5,"div"),Je()()),n&2&&(Di(5),Me("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[hn],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[TR.snackBarState]}});let e=t;return e})();function NR(){return new co}var FR=new mt("mat-snack-bar-default-options",{providedIn:"root",factory:NR}),$R=(()=>{let t=class t{get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(r,n,o,a,l,f){this._overlay=r,this._live=n,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=l,this._defaultConfig=f,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Ay,this.snackBarContainerComponent=MR,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(r,n){return this._attach(r,n)}openFromTemplate(r,n){return this._attach(r,n)}open(r,n="",o){let a=K(K({},this._defaultConfig),o);return a.data={message:r,action:n},a.announcementMessage===r&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,a=Yt.create({parent:o||this._injector,providers:[{provide:co,useValue:n}]}),l=new Fr(this.snackBarContainerComponent,n.viewContainerRef,a),f=r.attach(l);return f.instance.snackBarConfig=n,f.instance}_attach(r,n){let o=K(K(K({},new co),this._defaultConfig),n),a=this._createOverlay(o),l=this._attachSnackBarContainer(a,o),f=new Ia(l,a);if(r instanceof Pr){let m=new mr(r,null,{$implicit:o.data,snackBarRef:f});f.instance=l.attachTemplatePortal(m)}else{let m=this._createInjector(o,f),p=new Fr(r,void 0,m),b=l.attachComponentPortal(p);f.instance=b.instance}return this._breakpointObserver.observe(Dm.HandsetPortrait).pipe(Yn(a.detachments())).subscribe(m=>{a.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(f,o),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(r,n){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),n.duration&&n.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(n.duration))}_createOverlay(r){let n=new Tn;n.direction=r.direction;let o=this._overlay.position().global(),a=r.direction==="rtl",l=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!a||r.horizontalPosition==="end"&&a,f=!l&&r.horizontalPosition!=="center";return l?o.left("0"):f?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(r,n){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return Yt.create({parent:o||this._injector,providers:[{provide:Ia,useValue:n},{provide:ky,useValue:r.data}]})}};t.\u0275fac=function(n){return new(n||t)(U(ke),U(Om),U(Yt),U(Rm),U(t,12),U(FR))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Y6=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({providers:[$R],imports:[so,$r,Bm,Nr,Ay,Nr]});let e=t;return e})();var X6={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function LR(e,t){}var ui=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var qf=(()=>{let t=class t extends fn{constructor(r,n,o,a,l,f,m,p){super(),this._elementRef=r,this._focusTrapFactory=n,this._config=a,this._interactivityChecker=l,this._ngZone=f,this._overlayRef=m,this._focusMonitor=p,this._platform=G(ye),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=G(dr),this.attachDomPortal=b=>{this._portalOutlet.hasAttached();let x=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),x},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let n=this._ariaLabelledByQueue.indexOf(r);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),n}attachTemplatePortal(r){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,n){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r.removeEventListener("blur",o),r.removeEventListener("mousedown",o),r.removeAttribute("tabindex")};r.addEventListener("blur",o),r.addEventListener("mousedown",o)})),r.focus(n)}_focusByCssSelector(r,n){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,n)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,n=null;if(typeof r=="string"?n=this._document.querySelector(r):typeof r=="boolean"?n=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(n=r),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=ps(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,n=ps();return r===n||r.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ps()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(n){return new(n||t)(q(qt),q(bs),q(Qt,8),q(ui),q(vs),q(jt),q(Yr),q(Ti))},t.\u0275cmp=Se({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&Ii(hn,7),n&2){let a;Gn(a=Xn())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Me("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[ue,Ee],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&Qn(0,LR,0,0,"ng-template",0)},dependencies:[hn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),ka=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new it,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Ai(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},BR=new mt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=G(ke);return()=>e.scrollStrategies.block()}}),jR=new mt("DialogData"),zR=new mt("DefaultDialogConfig");var UR=0,Yf=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,n,o,a,l,f){this._overlay=r,this._injector=n,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this._ariaHiddenElements=new Map,this.afterAllClosed=qn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ze(void 0))),this._scrollStrategy=f}open(r,n){let o=this._defaultOptions||new ui;n=K(K({},o),n),n.id=n.id||`cdk-dialog-${UR++}`,n.id&&this.getDialogById(n.id);let a=this._getOverlayConfig(n),l=this._overlay.create(a),f=new ka(l,n),m=this._attachContainer(l,f,n);return f.containerInstance=m,this._attachDialogContent(r,f,m,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){Hf(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(n=>n.id===r)}ngOnDestroy(){Hf(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),Hf(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let n=new Tn({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(n.backdropClass=r.backdropClass),n}_attachContainer(r,n,o){let a=o.injector||o.viewContainerRef?.injector,l=[{provide:ui,useValue:o},{provide:ka,useValue:n},{provide:Yr,useValue:r}],f;o.container?typeof o.container=="function"?f=o.container:(f=o.container.type,l.push(...o.container.providers(o))):f=qf;let m=new Fr(f,o.viewContainerRef,Yt.create({parent:a||this._injector,providers:l}),o.componentFactoryResolver);return r.attach(m).instance}_attachDialogContent(r,n,o,a){if(r instanceof Pr){let l=this._createInjector(a,n,o,void 0),f={$implicit:a.data,dialogRef:n};a.templateContext&&(f=K(K({},f),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),o.attachTemplatePortal(new mr(r,null,f,l))}else{let l=this._createInjector(a,n,o,this._injector),f=o.attachComponentPortal(new Fr(r,a.viewContainerRef,l,a.componentFactoryResolver));n.componentRef=f,n.componentInstance=f.instance}}_createInjector(r,n,o,a){let l=r.injector||r.viewContainerRef?.injector,f=[{provide:jR,useValue:r.data},{provide:ka,useValue:n}];return r.providers&&(typeof r.providers=="function"?f.push(...r.providers(n,r,o)):f.push(...r.providers)),r.direction&&(!l||!l.get(Pi,null,{optional:!0}))&&f.push({provide:Pi,useValue:{value:r.direction,change:tt()}}),Yt.create({parent:l||a,providers:f})}_removeOpenDialog(r,n){let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let n=r.parentElement.children;for(let o=n.length-1;o>-1;o--){let a=n[o];a!==r&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(n){return new(n||t)(U(ke),U(Yt),U(zR,8),U(t,12),U(ao),U(BR))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Hf(e,t){let i=e.length;for(;i--;)t(e[i])}var Ty=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({providers:[Yf],imports:[so,$r,Im,$r]});let e=t;return e})();function VR(e,t){}var Aa=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Qf="mdc-dialog--open",Py="mdc-dialog--opening",My="mdc-dialog--closing",KR=150,WR=75,HR=(()=>{let t=class t extends qf{constructor(r,n,o,a,l,f,m,p,b){super(r,n,o,a,l,f,m,b),this._animationMode=p,this._animationStateChanged=new me,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Fy(this._config.enterAnimationDuration)??KR:0,this._exitAnimationDuration=this._animationsEnabled?Fy(this._config.exitAnimationDuration)??WR:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ny,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Py,Qf)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Qf),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Qf),this._animationsEnabled?(this._hostElement.style.setProperty(Ny,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(My)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Py,My)}_waitForAnimationToComplete(r,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let n=super.attachComponentPortal(r);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}};t.\u0275fac=function(n){return new(n||t)(q(qt),q(bs),q(Qt,8),q(Aa),q(vs),q(jt),q(Yr),q(Ar,8),q(Ti))},t.\u0275cmp=Se({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(tu("id",o._config.id),Me("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),fr("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[ue,Ee],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(hr(0,"div",0)(1,"div",1),Qn(2,VR,0,0,"ng-template",2),Je()())},dependencies:[hn],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),Ny="--mat-dialog-transition-duration";function Fy(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?gs(e.substring(0,e.length-2)):e.endsWith("s")?gs(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Zc=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Zc||{}),Ta=class{constructor(t,i,r){this._ref=t,this._containerInstance=r,this._afterOpened=new it,this._beforeClosed=new it,this._state=Zc.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(yt(n=>n.state==="opened"),ze(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(yt(n=>n.state==="closed"),ze(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),wi(this.backdropClick(),this.keydownEvents().pipe(yt(n=>n.keyCode===27&&!this.disableClose&&!Ai(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),$y(this,n.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(yt(i=>i.state==="closing"),ze(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=Zc.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Zc.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function $y(e,t,i){return e._closeInteractionType=t,e.close(i)}var qR=new mt("MatMdcDialogData"),YR=new mt("mat-mdc-dialog-default-options"),QR=new mt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=G(ke);return()=>e.scrollStrategies.block()}});var GR=0,Gf=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,n,o,a,l,f,m,p){this._overlay=r,this._defaultOptions=a,this._scrollStrategy=l,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this.dialogConfigClass=Aa,this.afterAllClosed=qn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ze(void 0))),this._dialog=n.get(Yf),this._dialogRefConstructor=Ta,this._dialogContainerType=HR,this._dialogDataToken=qR}open(r,n){let o;n=K(K({},this._defaultOptions||new Aa),n),n.id=n.id||`mat-mdc-dialog-${GR++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(r,Wt(K({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:ui,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(l,f,m)=>(o=new this._dialogRefConstructor(l,n,m),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=a.componentRef,o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(o);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(n=>n.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let n=r.length;for(;n--;)r[n].close()}};t.\u0275fac=function(n){return new(n||t)(U(ke),U(Yt),U(tr,8),U(YR,8),U(QR),U(t,12),U(ao),U(Ar,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),XR=0,j9=(()=>{let t=class t{constructor(r,n,o){this.dialogRef=r,this._elementRef=n,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=By(this._elementRef,this._dialog.openDialogs))}ngOnChanges(r){let n=r._matDialogClose||r._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(r){$y(this.dialogRef,r.screenX===0&&r.screenY===0?"keyboard":"mouse",this.dialogResult)}};t.\u0275fac=function(n){return new(n||t)(q(Ta,8),q(qt),q(Gf))},t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,o){n&1&&Oi("click",function(l){return o._onButtonClick(l)}),n&2&&Me("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[ht.None,"aria-label","ariaLabel"],type:"type",dialogResult:[ht.None,"mat-dialog-close","dialogResult"],_matDialogClose:[ht.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[ln]});let e=t;return e})(),Ly=(()=>{let t=class t{constructor(r,n,o){this._dialogRef=r,this._elementRef=n,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=By(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};t.\u0275fac=function(n){return new(n||t)(q(Ta,8),q(qt),q(Gf))},t.\u0275dir=Ut({type:t,standalone:!0});let e=t;return e})(),z9=(()=>{let t=class t extends Ly{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${XR++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(t)))(o||t)}})(),t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,o){n&2&&tu("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[ue]});let e=t;return e})(),U9=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let e=t;return e})(),V9=(()=>{let t=class t extends Ly{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(t)))(o||t)}})(),t.\u0275dir=Ut({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,o){n&2&&fr("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[ue]});let e=t;return e})();function By(e,t){let i=e.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?t.find(r=>r.id===i.id):null}var K9=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Jt({providers:[Gf],imports:[Ty,so,$r,Nr,Nr]});let e=t;return e})();export{Fr as a,mr as b,iD as c,hn as d,$r as e,Lm as f,vD as g,bD as h,Bm as i,vr as j,yr as k,Xx as l,_p as m,Re as n,zD as o,UD as p,fw as q,Bs as r,ra as s,td as t,rO as u,nO as v,A3 as w,N3 as x,q3 as y,Qc as z,Y3 as A,by as B,yy as C,Ff as D,Gc as E,_y as F,$f as G,Tn as H,ke as I,wR as J,S6 as K,so as L,Rr as M,$3 as N,vy as O,Pf as P,L3 as Q,Yc as R,Mf as S,B3 as T,Nf as U,j3 as V,z3 as W,py as X,gy as Y,U3 as Z,Ta as _,qR as $,Gf as aa,j9 as ba,z9 as ca,U9 as da,V9 as ea,K9 as fa,FR as ga,$R as ha,Y6 as ia,X6 as ja};
