import{$a as ih,A as zm,Aa as Zt,Ab as du,Ad as Th,B as Jn,Bb as zi,Cb as zr,Cc as Ch,Cd as Nh,D as Po,Da as eh,Dc as lr,E as _t,Ea as Jt,Eb as Fo,F as eu,Fb as ao,G as To,Gb as so,Gc as Uo,H as No,Hc as ws,Ia as rh,Ic as zo,J as ru,Ja as hn,Jc as Cs,K as Be,Ka as ys,Kb as fu,Kc as Ss,La as ro,Lc as hu,M as $o,Ma as nh,Mb as mu,Mc as qi,N as Lo,Na as Bo,Nc as Wi,O as fn,Oa as jr,Oc as Vo,P as nu,Pa as no,Q as Vm,Qa as pn,Qc as Rs,R as qm,Ra as Ur,Rc as pu,S as ou,Sa as oh,Sc as Kt,T as Wm,Ta as gn,Tc as Sh,U as ji,Ub as jo,V as sr,Va as su,Vb as dh,Vc as Rh,W as Ge,Wa as bs,Wb as wr,Wc as Oh,X as to,Xa as cu,Y as Hm,Ya as Ce,Yb as me,Z as xe,Za as te,Zb as fh,_ as Oe,_a as Ut,_b as mh,a as j,aa as ct,ab as fe,ad as Dh,b as gt,ba as Gt,bb as ah,bc as hh,bd as Eh,ca as Km,cb as oo,cc as ph,d as w_,da as pt,db as sh,e as ps,ea as iu,eb as ch,ec as Se,ed as kh,f as C_,fa as jt,fb as Ui,fd as Os,g as U,ga as k,gb as lu,gc as gh,gd as Ah,h as br,ha as au,hb as _s,hc as Vi,hd as qr,i as Bm,ia as Qm,ib as Fe,id as vn,j as gs,ja as Ym,jc as vh,jd as Hi,k as Bi,kb as Xe,kc as yh,kd as Wr,l as Zn,la as eo,lb as xs,lc as Vr,m as at,ma as _r,n as be,nb as lh,nd as Ih,o as Fm,oa as mn,p as Fr,pa as Gm,pd as Mh,q as _e,qa as Xm,r as rt,rb as xr,rc as bh,s as Fi,sb as cr,sc as _h,t as Mo,ta as de,tb as Ze,tc as xh,u as jm,ua as Zm,uc as wh,v as Um,va as Xt,w as lt,wd as Ph,x as vs,xa as Jm,xb as uh,y as Ht,ya as th,yb as uu,z as tu,za as we,zb as io}from"./chunk-6MKG7NRC.js";var rb=w_((Of,Df)=>{"use strict";(function(t,r){typeof Of=="object"&&typeof Df<"u"?Df.exports=r():typeof define=="function"&&define.amd?define(r):(t=typeof globalThis<"u"?globalThis:t||self).Dexie=r()})(Of,function(){"use strict";var t=function(a,c){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])})(a,c)},r=function(){return(r=Object.assign||function(a){for(var c,u=1,f=arguments.length;u<f;u++)for(var m in c=arguments[u])Object.prototype.hasOwnProperty.call(c,m)&&(a[m]=c[m]);return a}).apply(this,arguments)};function e(a,c,u){if(u||arguments.length===2)for(var f,m=0,g=c.length;m<g;m++)!f&&m in c||((f=f||Array.prototype.slice.call(c,0,m))[m]=c[m]);return a.concat(f||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,i=Array.isArray;function s(a,c){return typeof c!="object"||o(c).forEach(function(u){a[u]=c[u]}),a}typeof Promise>"u"||n.Promise||(n.Promise=Promise);var l=Object.getPrototypeOf,d={}.hasOwnProperty;function h(a,c){return d.call(a,c)}function p(a,c){typeof c=="function"&&(c=c(l(a))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(u){w(a,u,c[u])})}var y=Object.defineProperty;function w(a,c,u,f){y(a,c,s(u&&h(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function A(a){return{from:function(c){return a.prototype=Object.create(c.prototype),w(a.prototype,"constructor",a),{extend:p.bind(null,a.prototype)}}}}var N=Object.getOwnPropertyDescriptor,F=[].slice;function Q(a,c,u){return F.call(a,c,u)}function J(a,c){return c(a)}function nt(a){if(!a)throw new Error("Assertion Failed")}function tt(a){n.setImmediate?setImmediate(a):setTimeout(a,0)}function kt(a,c){if(typeof c=="string"&&h(a,c))return a[c];if(!c)return a;if(typeof c!="string"){for(var u=[],f=0,m=c.length;f<m;++f){var g=kt(a,c[f]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var b=a[c.substr(0,v)];return b==null?void 0:kt(b,c.substr(v+1))}}function st(a,c,u){if(a&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof c!="string"&&"length"in c){nt(typeof u!="string"&&"length"in u);for(var f=0,m=c.length;f<m;++f)st(a,c[f],u[f])}else{var g,v,b=c.indexOf(".");b!==-1?(g=c.substr(0,b),(v=c.substr(b+1))===""?u===void 0?i(a)&&!isNaN(parseInt(g))?a.splice(g,1):delete a[g]:a[g]=u:st(b=!(b=a[g])||!h(a,g)?a[g]={}:b,v,u)):u===void 0?i(a)&&!isNaN(parseInt(c))?a.splice(c,1):delete a[c]:a[c]=u}}function Mt(a){var c,u={};for(c in a)h(a,c)&&(u[c]=a[c]);return u}var Ot=[].concat;function Lt(a){return Ot.apply([],a)}var Lr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Lt([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(c){return c+a+"Array"})}))).filter(function(a){return n[a]}),ue=new Set(Lr.map(function(a){return n[a]})),Ne=null;function or(a){return Ne=new WeakMap,a=function c(u){if(!u||typeof u!="object")return u;var f=Ne.get(u);if(f)return f;if(i(u)){f=[],Ne.set(u,f);for(var m=0,g=u.length;m<g;++m)f.push(c(u[m]))}else if(ue.has(u.constructor))f=u;else{var v,b=l(u);for(v in f=b===Object.prototype?{}:Object.create(b),Ne.set(u,f),u)h(u,v)&&(f[v]=c(u[v]))}return f}(a),Ne=null,a}var Un={}.toString;function ir(a){return Un.call(a).slice(8,-1)}var wi=typeof Symbol<"u"?Symbol.iterator:"@@iterator",gl=typeof wi=="symbol"?function(a){var c;return a!=null&&(c=a[wi])&&c.apply(a)}:function(){return null};function Nr(a,c){return c=a.indexOf(c),0<=c&&a.splice(c,1),0<=c}var en={};function Ie(a){var c,u,f,m;if(arguments.length===1){if(i(a))return a.slice();if(this===en&&typeof a=="string")return[a];if(m=gl(a)){for(u=[];!(f=m.next()).done;)u.push(f.value);return u}if(a==null)return[a];if(typeof(c=a.length)!="number")return[a];for(u=new Array(c);c--;)u[c]=a[c];return u}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var rn=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Oi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ye=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Oi),Ci={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ar(a,c){this.name=a,this.message=c}function Ua(a,c){return a+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,f,m){return m.indexOf(u)===f}).join(`
`)}function re(a,c,u,f){this.failures=c,this.failedKeys=f,this.successCount=u,this.message=Ua(a,c)}function ne(a,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=Ua(a,this.failures)}A(ar).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(re).from(ar),A(ne).from(ar);var nn=Ye.reduce(function(a,c){return a[c]=c+"Error",a},{}),vl=ar,ot=Ye.reduce(function(a,c){var u=c+"Error";function f(m,g){this.name=u,m?typeof m=="string"?(this.message="".concat(m).concat(g?`
 `+g:""),this.inner=g||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=Ci[c]||u,this.inner=null)}return A(f).from(vl),a[c]=f,a},{});ot.Syntax=SyntaxError,ot.Type=TypeError,ot.Range=RangeError;var om=Oi.reduce(function(a,c){return a[c+"Error"]=ot[c],a},{}),za=Ye.reduce(function(a,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(a[c+"Error"]=ot[c]),a},{});function At(){}function Si(a){return a}function Hb(a,c){return a==null||a===Si?c:function(u){return c(a(u))}}function zn(a,c){return function(){a.apply(this,arguments),c.apply(this,arguments)}}function Kb(a,c){return a===At?c:function(){var u=a.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?zn(f,this.onsuccess):f),m&&(this.onerror=this.onerror?zn(m,this.onerror):m),g!==void 0?g:u}}function Qb(a,c){return a===At?c:function(){a.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?zn(u,this.onsuccess):u),f&&(this.onerror=this.onerror?zn(f,this.onerror):f)}}function Yb(a,c){return a===At?c:function(u){var f=a.apply(this,arguments);s(u,f);var m=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=c.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?zn(m,this.onsuccess):m),g&&(this.onerror=this.onerror?zn(g,this.onerror):g),f===void 0?u===void 0?void 0:u:s(f,u)}}function Gb(a,c){return a===At?c:function(){return c.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function yl(a,c){return a===At?c:function(){var u=a.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return u.then(function(){return c.apply(f,g)})}return c.apply(this,arguments)}}za.ModifyError=re,za.DexieError=ar,za.BulkError=ne;var gr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function im(a){gr=a}var Ri={},am=100,Lr=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,l(a),a];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,l(c),a]}(),Oi=Lr[0],Ye=Lr[1],Lr=Lr[2],Ye=Ye&&Ye.then,Vn=Oi&&Oi.constructor,bl=!!Lr,Di=function(a,c){Ei.push([a,c]),Va&&(queueMicrotask(Zb),Va=!1)},_l=!0,Va=!0,qn=[],qa=[],xl=Si,on={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:At,pgp:!1,env:{},finalize:At},et=on,Ei=[],Wn=0,Wa=[];function G(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=et;if(typeof a!="function"){if(a!==Ri)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Cl(this,this._value))}this._state=null,this._value=null,++c.ref,function u(f,m){try{m(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&Ro();g&&typeof g.then=="function"?u(f,function(b,x){g instanceof G?g._then(b,x):g.then(b,x)}):(f._state=!0,f._value=g,cm(f)),v&&Oo()}},Cl.bind(null,f))}catch(g){Cl(f,g)}}(this,a)}var wl={get:function(){var a=et,c=Ya;function u(f,m){var g=this,v=!a.global&&(a!==et||c!==Ya),b=v&&!sn(),x=new G(function(S,D){Sl(g,new sm(um(f,a,v,b),um(m,a,v,b),S,D,a))});return this._consoleTask&&(x._consoleTask=this._consoleTask),x}return u.prototype=Ri,u},set:function(a){w(this,"then",a&&a.prototype===Ri?wl:{get:function(){return a},set:wl.set})}};function sm(a,c,u,f,m){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=f,this.psd=m}function Cl(a,c){var u,f;qa.push(c),a._state===null&&(u=a._lib&&Ro(),c=xl(c),a._state=!1,a._value=c,f=a,qn.some(function(m){return m._value===f._value})||qn.push(f),cm(a),u&&Oo())}function cm(a){var c=a._listeners;a._listeners=[];for(var u=0,f=c.length;u<f;++u)Sl(a,c[u]);var m=a._PSD;--m.ref||m.finalize(),Wn===0&&(++Wn,Di(function(){--Wn==0&&Rl()},[]))}function Sl(a,c){if(a._state!==null){var u=a._state?c.onFulfilled:c.onRejected;if(u===null)return(a._state?c.resolve:c.reject)(a._value);++c.psd.ref,++Wn,Di(Xb,[u,a,c])}else a._listeners.push(c)}function Xb(a,c,u){try{var f,m=c._value;!c._state&&qa.length&&(qa=[]),f=gr&&c._consoleTask?c._consoleTask.run(function(){return a(m)}):a(m),c._state||qa.indexOf(m)!==-1||function(g){for(var v=qn.length;v;)if(qn[--v]._value===g._value)return qn.splice(v,1)}(c),u.resolve(f)}catch(g){u.reject(g)}finally{--Wn==0&&Rl(),--u.psd.ref||u.psd.finalize()}}function Zb(){Hn(on,function(){Ro()&&Oo()})}function Ro(){var a=_l;return Va=_l=!1,a}function Oo(){var a,c,u;do for(;0<Ei.length;)for(a=Ei,Ei=[],u=a.length,c=0;c<u;++c){var f=a[c];f[0].apply(null,f[1])}while(0<Ei.length);Va=_l=!0}function Rl(){var a=qn;qn=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=Wa.slice(0),u=c.length;u;)c[--u]()}function Ha(a){return new G(Ri,!1,a)}function Ft(a,c){var u=et;return function(){var f=Ro(),m=et;try{return cn(u,!0),a.apply(this,arguments)}catch(g){c&&c(g)}finally{cn(m,!1),f&&Oo()}}}p(G.prototype,{then:wl,_then:function(a,c){Sl(this,new sm(null,null,a,c,et))},catch:function(a){if(arguments.length===1)return this.then(null,a);var c=a,u=arguments[1];return typeof c=="function"?this.then(null,function(f){return(f instanceof c?u:Ha)(f)}):this.then(null,function(f){return(f&&f.name===c?u:Ha)(f)})},finally:function(a){return this.then(function(c){return G.resolve(a()).then(function(){return c})},function(c){return G.resolve(a()).then(function(){return Ha(c)})})},timeout:function(a,c){var u=this;return a<1/0?new G(function(f,m){var g=setTimeout(function(){return m(new ot.Timeout(c))},a);u.then(f,m).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(G.prototype,Symbol.toStringTag,"Dexie.Promise"),on.env=lm(),p(G,{all:function(){var a=Ie.apply(null,arguments).map(Ga);return new G(function(c,u){a.length===0&&c([]);var f=a.length;a.forEach(function(m,g){return G.resolve(m).then(function(v){a[g]=v,--f||c(a)},u)})})},resolve:function(a){return a instanceof G?a:a&&typeof a.then=="function"?new G(function(c,u){a.then(c,u)}):new G(Ri,!0,a)},reject:Ha,race:function(){var a=Ie.apply(null,arguments).map(Ga);return new G(function(c,u){a.map(function(f){return G.resolve(f).then(c,u)})})},PSD:{get:function(){return et},set:function(a){return et=a}},totalEchoes:{get:function(){return Ya}},newPSD:an,usePSD:Hn,scheduler:{get:function(){return Di},set:function(a){Di=a}},rejectionMapper:{get:function(){return xl},set:function(a){xl=a}},follow:function(a,c){return new G(function(u,f){return an(function(m,g){var v=et;v.unhandleds=[],v.onunhandled=g,v.finalize=zn(function(){var b,x=this;b=function(){x.unhandleds.length===0?m():g(x.unhandleds[0])},Wa.push(function S(){b(),Wa.splice(Wa.indexOf(S),1)}),++Wn,Di(function(){--Wn==0&&Rl()},[])},v.finalize),a()},c,u,f)})}}),Vn&&(Vn.allSettled&&w(G,"allSettled",function(){var a=Ie.apply(null,arguments).map(Ga);return new G(function(c){a.length===0&&c([]);var u=a.length,f=new Array(u);a.forEach(function(m,g){return G.resolve(m).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||c(f)})})})}),Vn.any&&typeof AggregateError<"u"&&w(G,"any",function(){var a=Ie.apply(null,arguments).map(Ga);return new G(function(c,u){a.length===0&&u(new AggregateError([]));var f=a.length,m=new Array(f);a.forEach(function(g,v){return G.resolve(g).then(function(b){return c(b)},function(b){m[v]=b,--f||u(new AggregateError(m))})})})}),Vn.withResolvers&&(G.withResolvers=Vn.withResolvers));var oe={awaits:0,echoes:0,id:0},Jb=0,Ka=[],Qa=0,Ya=0,t_=0;function an(a,c,u,f){var m=et,g=Object.create(m);return g.parent=m,g.ref=0,g.global=!1,g.id=++t_,on.env,g.env=bl?{Promise:G,PromiseProp:{value:G,configurable:!0,writable:!0},all:G.all,race:G.race,allSettled:G.allSettled,any:G.any,resolve:G.resolve,reject:G.reject}:{},c&&s(g,c),++m.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=Hn(g,a,u,f),g.ref===0&&g.finalize(),f}function Do(){return oe.id||(oe.id=++Jb),++oe.awaits,oe.echoes+=am,oe.id}function sn(){return!!oe.awaits&&(--oe.awaits==0&&(oe.id=0),oe.echoes=oe.awaits*am,!0)}function Ga(a){return oe.echoes&&a&&a.constructor===Vn?(Do(),a.then(function(c){return sn(),c},function(c){return sn(),qt(c)})):a}function e_(){var a=Ka[Ka.length-1];Ka.pop(),cn(a,!1)}function cn(a,c){var u,f=et;(c?!oe.echoes||Qa++&&a===et:!Qa||--Qa&&a===et)||queueMicrotask(c?function(m){++Ya,oe.echoes&&--oe.echoes!=0||(oe.echoes=oe.awaits=oe.id=0),Ka.push(et),cn(m,!0)}.bind(null,a):e_),a!==et&&(et=a,f===on&&(on.env=lm()),bl&&(u=on.env.Promise,c=a.env,(f.global||a.global)&&(Object.defineProperty(n,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any&&(u.any=c.any))))}function lm(){var a=n.Promise;return bl?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Hn(a,c,u,f,m){var g=et;try{return cn(a,!0),c(u,f,m)}finally{cn(g,!1)}}function um(a,c,u,f){return typeof a!="function"?a:function(){var m=et;u&&Do(),cn(c,!0);try{return a.apply(this,arguments)}finally{cn(m,!1),f&&queueMicrotask(sn)}}}function Ol(a){Promise===Vn&&oe.echoes===0?Qa===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Ye).indexOf("[native code]")===-1&&(Do=sn=At);var qt=G.reject,Kn="\uFFFF",$r="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",dm="String expected.",Eo=[],Xa="__dbnames",Dl="readonly",El="readwrite";function Qn(a,c){return a?c?function(){return a.apply(this,arguments)&&c.apply(this,arguments)}:a:c}var fm={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Za(a){return typeof a!="string"||/\./.test(a)?function(c){return c}:function(c){return c[a]===void 0&&a in c&&delete(c=or(c))[a],c}}function mm(){throw ot.Type()}function bt(a,c){try{var u=hm(a),f=hm(c);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return c<a?1:a<c?-1:0;case"binary":return function(m,g){for(var v=m.length,b=g.length,x=v<b?v:b,S=0;S<x;++S)if(m[S]!==g[S])return m[S]<g[S]?-1:1;return v===b?0:v<b?-1:1}(pm(a),pm(c));case"Array":return function(m,g){for(var v=m.length,b=g.length,x=v<b?v:b,S=0;S<x;++S){var D=bt(m[S],g[S]);if(D!==0)return D}return v===b?0:v<b?-1:1}(a,c)}}catch{}return NaN}function hm(a){var c=typeof a;return c!="object"?c:ArrayBuffer.isView(a)?"binary":(a=ir(a),a==="ArrayBuffer"?"binary":a)}function pm(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var gm=(Bt.prototype._trans=function(a,c,u){var f=this._tx||et.trans,m=this.name,g=gr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function v(S,D,_){if(!_.schema[m])throw new ot.NotFound("Table "+m+" not part of transaction");return c(_.idbtrans,_)}var b=Ro();try{var x=f&&f.db._novip===this.db._novip?f===et.trans?f._promise(a,v,u):an(function(){return f._promise(a,v,u)},{trans:f,transless:et.transless||et}):function S(D,_,I,C){if(D.idbdb&&(D._state.openComplete||et.letThrough||D._vip)){var O=D._createTransaction(_,I,D._dbSchema);try{O.create(),D._state.PR1398_maxLoop=3}catch(E){return E.name===nn.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return S(D,_,I,C)})):qt(E)}return O._promise(_,function(E,R){return an(function(){return et.trans=O,C(E,R,O)})}).then(function(E){if(_==="readwrite")try{O.idbtrans.commit()}catch{}return _==="readonly"?E:O._completion.then(function(){return E})})}if(D._state.openComplete)return qt(new ot.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return qt(new ot.DatabaseClosed);D.open().catch(At)}return D._state.dbReadyPromise.then(function(){return S(D,_,I,C)})}(this.db,a,[this.name],v);return g&&(x._consoleTask=g,x=x.catch(function(S){return console.trace(S),qt(S)})),x}finally{b&&Oo()}},Bt.prototype.get=function(a,c){var u=this;return a&&a.constructor===Object?this.where(a).first(c):a==null?qt(new ot.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:a}).then(function(m){return u.hook.reading.fire(m)})}).then(c)},Bt.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(i(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var c=o(a);if(c.length===1)return this.where(c[0]).equals(a[c[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&c.every(function(S){return 0<=b.keyPath.indexOf(S)})){for(var x=0;x<c.length;++x)if(c.indexOf(b.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(b,x){return b.keyPath.length-x.keyPath.length})[0];if(u&&this.db._maxKey!==Kn){var g=u.keyPath.slice(0,c.length);return this.where(g).equals(g.map(function(x){return a[x]}))}!u&&gr&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName;function m(b,x){return bt(b,x)===0}var v=c.reduce(function(_,x){var S=_[0],D=_[1],_=f[x],I=a[x];return[S||_,S||!_?Qn(D,_&&_.multi?function(C){return C=kt(C,x),i(C)&&C.some(function(O){return m(I,O)})}:function(C){return m(I,kt(C,x))}):D]},[null,null]),g=v[0],v=v[1];return g?this.where(g.name).equals(a[g.keyPath]).filter(v):u?this.filter(v):this.where(c).equals("")},Bt.prototype.filter=function(a){return this.toCollection().and(a)},Bt.prototype.count=function(a){return this.toCollection().count(a)},Bt.prototype.offset=function(a){return this.toCollection().offset(a)},Bt.prototype.limit=function(a){return this.toCollection().limit(a)},Bt.prototype.each=function(a){return this.toCollection().each(a)},Bt.prototype.toArray=function(a){return this.toCollection().toArray(a)},Bt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Bt.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,i(a)?"[".concat(a.join("+"),"]"):a))},Bt.prototype.reverse=function(){return this.toCollection().reverse()},Bt.prototype.mapToClass=function(a){var c,u=this.db,f=this.name;function m(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof mm&&(function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function D(){this.constructor=x}t(x,S),x.prototype=S===null?Object.create(S):(D.prototype=S.prototype,new D)}(m,c=a),Object.defineProperty(m.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),m.prototype.table=function(){return f},a=m);for(var g=new Set,v=a.prototype;v;v=l(v))Object.getOwnPropertyNames(v).forEach(function(x){return g.add(x)});function b(x){if(!x)return x;var S,D=Object.create(a.prototype);for(S in x)if(!g.has(S))try{D[S]=x[S]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),a},Bt.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},Bt.prototype.add=function(a,c){var u=this,f=this.schema.primKey,m=f.auto,g=f.keyPath,v=a;return g&&m&&(v=Za(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:c!=null?[c]:null,values:[v]})}).then(function(b){return b.numFailures?G.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{st(a,g,b)}catch{}return b})},Bt.prototype.update=function(a,c){return typeof a!="object"||i(a)?this.where(":id").equals(a).modify(c):(a=kt(a,this.schema.primKey.keyPath),a===void 0?qt(new ot.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(c))},Bt.prototype.put=function(a,c){var u=this,f=this.schema.primKey,m=f.auto,g=f.keyPath,v=a;return g&&m&&(v=Za(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[v],keys:c!=null?[c]:null})}).then(function(b){return b.numFailures?G.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{st(a,g,b)}catch{}return b})},Bt.prototype.delete=function(a){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"delete",keys:[a]})}).then(function(u){return u.numFailures?G.reject(u.failures[0]):void 0})},Bt.prototype.clear=function(){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"deleteRange",range:fm})}).then(function(c){return c.numFailures?G.reject(c.failures[0]):void 0})},Bt.prototype.bulkGet=function(a){var c=this;return this._trans("readonly",function(u){return c.core.getMany({keys:a,trans:u}).then(function(f){return f.map(function(m){return c.hook.reading.fire(m)})})})},Bt.prototype.bulkAdd=function(a,c,u){var f=this,m=Array.isArray(c)?c:void 0,g=(u=u||(m?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var S=f.schema.primKey,b=S.auto,S=S.keyPath;if(S&&m)throw new ot.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==a.length)throw new ot.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,S=S&&b?a.map(Za(S)):a;return f.core.mutate({trans:v,type:"add",keys:m,values:S,wantResults:g}).then(function(O){var _=O.numFailures,I=O.results,C=O.lastResult,O=O.failures;if(_===0)return g?I:C;throw new ne("".concat(f.name,".bulkAdd(): ").concat(_," of ").concat(x," operations failed"),O)})})},Bt.prototype.bulkPut=function(a,c,u){var f=this,m=Array.isArray(c)?c:void 0,g=(u=u||(m?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var S=f.schema.primKey,b=S.auto,S=S.keyPath;if(S&&m)throw new ot.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==a.length)throw new ot.InvalidArgument("Arguments objects and keys must have the same length");var x=a.length,S=S&&b?a.map(Za(S)):a;return f.core.mutate({trans:v,type:"put",keys:m,values:S,wantResults:g}).then(function(O){var _=O.numFailures,I=O.results,C=O.lastResult,O=O.failures;if(_===0)return g?I:C;throw new ne("".concat(f.name,".bulkPut(): ").concat(_," of ").concat(x," operations failed"),O)})})},Bt.prototype.bulkUpdate=function(a){var c=this,u=this.core,f=a.map(function(v){return v.key}),m=a.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:f,cache:"clone"}).then(function(b){var x=[],S=[];a.forEach(function(_,I){var C=_.key,O=_.changes,E=b[I];if(E){for(var R=0,M=Object.keys(O);R<M.length;R++){var P=M[R],T=O[P];if(P===c.schema.primKey.keyPath){if(bt(T,C)!==0)throw new ot.Constraint("Cannot update primary key in bulkUpdate()")}else st(E,P,T)}g.push(I),x.push(C),S.push(E)}});var D=x.length;return u.mutate({trans:v,type:"put",keys:x,values:S,updates:{keys:f,changeSpecs:m}}).then(function(_){var I=_.numFailures,C=_.failures;if(I===0)return D;for(var O=0,E=Object.keys(C);O<E.length;O++){var R,M=E[O],P=g[Number(M)];P!=null&&(R=C[M],delete C[M],C[P]=R)}throw new ne("".concat(c.name,".bulkUpdate(): ").concat(I," of ").concat(D," operations failed"),C)})})})},Bt.prototype.bulkDelete=function(a){var c=this,u=a.length;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:a})}).then(function(v){var m=v.numFailures,g=v.lastResult,v=v.failures;if(m===0)return g;throw new ne("".concat(c.name,".bulkDelete(): ").concat(m," of ").concat(u," operations failed"),v)})},Bt);function Bt(){}function ki(a){function c(v,b){if(b){for(var x=arguments.length,S=new Array(x-1);--x;)S[x-1]=arguments[x];return u[v].subscribe.apply(null,S),a}if(typeof v=="string")return u[v]}var u={};c.addEventType=g;for(var f=1,m=arguments.length;f<m;++f)g(arguments[f]);return c;function g(v,b,x){if(typeof v!="object"){var S;b=b||Gb;var D={subscribers:[],fire:x=x||At,subscribe:function(_){D.subscribers.indexOf(_)===-1&&(D.subscribers.push(_),D.fire=b(D.fire,_))},unsubscribe:function(_){D.subscribers=D.subscribers.filter(function(I){return I!==_}),D.fire=D.subscribers.reduce(b,x)}};return u[v]=c[v]=D}o(S=v).forEach(function(_){var I=S[_];if(i(I))g(_,S[_][0],S[_][1]);else{if(I!=="asap")throw new ot.InvalidArgument("Invalid event config");var C=g(_,Si,function(){for(var O=arguments.length,E=new Array(O);O--;)E[O]=arguments[O];C.subscribers.forEach(function(R){tt(function(){R.apply(null,E)})})})}})}}function Ai(a,c){return A(c).from({prototype:a}),c}function ko(a,c){return!(a.filter||a.algorithm||a.or)&&(c?a.justLimit:!a.replayFilter)}function kl(a,c){a.filter=Qn(a.filter,c)}function Al(a,c,u){var f=a.replayFilter;a.replayFilter=f?function(){return Qn(f(),c())}:c,a.justLimit=u&&!f}function Ja(a,c){if(a.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(a.index);if(!u)throw new ot.Schema("KeyPath "+a.index+" on object store "+c.name+" is not indexed");return u}function vm(a,c,u){var f=Ja(a,c.schema);return c.openCursor({trans:u,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function ts(a,c,u,f){var m=a.replayFilter?Qn(a.filter,a.replayFilter()):a.filter;if(a.or){var g={},v=function(b,x,S){var D,_;m&&!m(x,S,function(I){return x.stop(I)},function(I){return x.fail(I)})||((_=""+(D=x.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(D)),h(g,_)||(g[_]=!0,c(b,x,S)))};return Promise.all([a.or._iterate(v,u),ym(vm(a,f,u),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}return ym(vm(a,f,u),Qn(a.algorithm,m),c,!a.keysOnly&&a.valueMapper)}function ym(a,c,u,f){var m=Ft(f?function(g,v,b){return u(f(g),v,b)}:u);return a.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};c&&!c(g,function(b){return v=b},function(b){g.stop(b),v=At},function(b){g.fail(b),v=At})||m(g.value,g,function(b){return v=b}),v()})})}var Lr=Symbol(),Ii=(bm.prototype.execute=function(a){if(this.add!==void 0){var c=this.add;if(i(c))return e(e([],i(a)?a:[],!0),c,!0).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var u=this.remove;if(i(u))return i(a)?a.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(a)-u;if(typeof u=="bigint")try{return BigInt(a)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?this.replacePrefix[1]+a.substring(c.length):a},bm);function bm(a){Object.assign(this,a)}var r_=(xt.prototype._read=function(a,c){var u=this._ctx;return u.error?u.table._trans(null,qt.bind(null,u.error)):u.table._trans("readonly",a).then(c)},xt.prototype._write=function(a){var c=this._ctx;return c.error?c.table._trans(null,qt.bind(null,c.error)):c.table._trans("readwrite",a,"locked")},xt.prototype._addAlgorithm=function(a){var c=this._ctx;c.algorithm=Qn(c.algorithm,a)},xt.prototype._iterate=function(a,c){return ts(this._ctx,a,c,this._ctx.table.core)},xt.prototype.clone=function(a){var c=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return a&&s(u,a),c._ctx=u,c},xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},xt.prototype.each=function(a){var c=this._ctx;return this._read(function(u){return ts(c,a,u,c.table.core)})},xt.prototype.count=function(a){var c=this;return this._read(function(u){var f=c._ctx,m=f.table.core;if(ko(f,!0))return m.count({trans:u,query:{index:Ja(f,m.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return ts(f,function(){return++g,!1},u,m).then(function(){return g})}).then(a)},xt.prototype.sortBy=function(a,c){var u=a.split(".").reverse(),f=u[0],m=u.length-1;function g(x,S){return S?g(x[u[S]],S-1):x[f]}var v=this._ctx.dir==="next"?1:-1;function b(x,S){return bt(g(x,m),g(S,m))*v}return this.toArray(function(x){return x.sort(b)}).then(c)},xt.prototype.toArray=function(a){var c=this;return this._read(function(u){var f=c._ctx;if(f.dir==="next"&&ko(f,!0)&&0<f.limit){var m=f.valueMapper,g=Ja(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(b){return b=b.result,m?b.map(m):b})}var v=[];return ts(f,function(b){return v.push(b)},u,f.table.core).then(function(){return v})},a)},xt.prototype.offset=function(a){var c=this._ctx;return a<=0||(c.offset+=a,ko(c)?Al(c,function(){var u=a;return function(f,m){return u===0||(u===1?--u:m(function(){f.advance(u),u=0}),!1)}}):Al(c,function(){var u=a;return function(){return--u<0}})),this},xt.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),Al(this._ctx,function(){var c=a;return function(u,f,m){return--c<=0&&f(m),0<=c}},!0),this},xt.prototype.until=function(a,c){return kl(this._ctx,function(u,f,m){return!a(u.value)||(f(m),c)}),this},xt.prototype.first=function(a){return this.limit(1).toArray(function(c){return c[0]}).then(a)},xt.prototype.last=function(a){return this.reverse().first(a)},xt.prototype.filter=function(a){var c;return kl(this._ctx,function(u){return a(u.value)}),(c=this._ctx).isMatch=Qn(c.isMatch,a),this},xt.prototype.and=function(a){return this.filter(a)},xt.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xt.prototype.desc=function(){return this.reverse()},xt.prototype.eachKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.key,f)})},xt.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},xt.prototype.eachPrimaryKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.primaryKey,f)})},xt.prototype.keys=function(a){var c=this._ctx;c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,m){u.push(m.key)}).then(function(){return u}).then(a)},xt.prototype.primaryKeys=function(a){var c=this._ctx;if(c.dir==="next"&&ko(c,!0)&&0<c.limit)return this._read(function(f){var m=Ja(c,c.table.core.schema);return c.table.core.query({trans:f,values:!1,limit:c.limit,query:{index:m,range:c.range}})}).then(function(f){return f.result}).then(a);c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,m){u.push(m.primaryKey)}).then(function(){return u}).then(a)},xt.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},xt.prototype.firstKey=function(a){return this.limit(1).keys(function(c){return c[0]}).then(a)},xt.prototype.lastKey=function(a){return this.reverse().firstKey(a)},xt.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var c={};return kl(this._ctx,function(m){var f=m.primaryKey.toString(),m=h(c,f);return c[f]=!0,!m}),this},xt.prototype.modify=function(a){var c=this,u=this._ctx;return this._write(function(f){var m,g,v;v=typeof a=="function"?a:(m=o(a),g=m.length,function(R){for(var M=!1,P=0;P<g;++P){var T=m[P],B=a[T],V=kt(R,T);B instanceof Ii?(st(R,T,B.execute(V)),M=!0):V!==B&&(st(R,T,B),M=!0)}return M});var b=u.table.core,_=b.schema.primaryKey,x=_.outbound,S=_.extractKey,D=200,_=c.db._options.modifyChunkSize;_&&(D=typeof _=="object"?_[b.name]||_["*"]||200:_);function I(R,T){var P=T.failures,T=T.numFailures;O+=R-T;for(var B=0,V=o(P);B<V.length;B++){var K=V[B];C.push(P[K])}}var C=[],O=0,E=[];return c.clone().primaryKeys().then(function(R){function M(T){var B=Math.min(D,R.length-T);return b.getMany({trans:f,keys:R.slice(T,T+B),cache:"immutable"}).then(function(V){for(var K=[],q=[],W=x?[]:null,Y=[],H=0;H<B;++H){var Z=V[H],ht={value:or(Z),primKey:R[T+H]};v.call(ht,ht.value,ht)!==!1&&(ht.value==null?Y.push(R[T+H]):x||bt(S(Z),S(ht.value))===0?(q.push(ht.value),x&&W.push(R[T+H])):(Y.push(R[T+H]),K.push(ht.value)))}return Promise.resolve(0<K.length&&b.mutate({trans:f,type:"add",values:K}).then(function(vt){for(var yt in vt.failures)Y.splice(parseInt(yt),1);I(K.length,vt)})).then(function(){return(0<q.length||P&&typeof a=="object")&&b.mutate({trans:f,type:"put",keys:W,values:q,criteria:P,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<T}).then(function(vt){return I(q.length,vt)})}).then(function(){return(0<Y.length||P&&a===Il)&&b.mutate({trans:f,type:"delete",keys:Y,criteria:P,isAdditionalChunk:0<T}).then(function(vt){return I(Y.length,vt)})}).then(function(){return R.length>T+B&&M(T+D)})})}var P=ko(u)&&u.limit===1/0&&(typeof a!="function"||a===Il)&&{index:u.index,range:u.range};return M(0).then(function(){if(0<C.length)throw new re("Error modifying one or more objects",C,O,E);return R.length})})})},xt.prototype.delete=function(){var a=this._ctx,c=a.range;return ko(a)&&(a.isPrimKey||c.type===3)?this._write(function(u){var f=a.table.core.schema.primaryKey,m=c;return a.table.core.count({trans:u,query:{index:f,range:m}}).then(function(g){return a.table.core.mutate({trans:u,type:"deleteRange",range:m}).then(function(v){var b=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new re("Could not delete some values",Object.keys(b).map(function(x){return b[x]}),g-v);return g-v})})}):this.modify(Il)},xt);function xt(){}var Il=function(a,c){return c.value=null};function n_(a,c){return a<c?-1:a===c?0:1}function o_(a,c){return c<a?-1:a===c?0:1}function $e(a,c,u){return a=a instanceof xm?new a.Collection(a):a,a._ctx.error=new(u||TypeError)(c),a}function Ao(a){return new a.Collection(a,function(){return _m("")}).limit(0)}function es(a,c,u,f){var m,g,v,b,x,S,D,_=u.length;if(!u.every(function(O){return typeof O=="string"}))return $e(a,dm);function I(O){m=O==="next"?function(R){return R.toUpperCase()}:function(R){return R.toLowerCase()},g=O==="next"?function(R){return R.toLowerCase()}:function(R){return R.toUpperCase()},v=O==="next"?n_:o_;var E=u.map(function(R){return{lower:g(R),upper:m(R)}}).sort(function(R,M){return v(R.lower,M.lower)});b=E.map(function(R){return R.upper}),x=E.map(function(R){return R.lower}),D=(S=O)==="next"?"":f}I("next"),a=new a.Collection(a,function(){return ln(b[0],x[_-1]+f)}),a._ondirectionchange=function(O){I(O)};var C=0;return a._addAlgorithm(function(O,E,R){var M=O.key;if(typeof M!="string")return!1;var P=g(M);if(c(P,x,C))return!0;for(var T=null,B=C;B<_;++B){var V=function(K,q,W,Y,H,Z){for(var ht=Math.min(K.length,Y.length),vt=-1,yt=0;yt<ht;++yt){var Le=q[yt];if(Le!==Y[yt])return H(K[yt],W[yt])<0?K.substr(0,yt)+W[yt]+W.substr(yt+1):H(K[yt],Y[yt])<0?K.substr(0,yt)+Y[yt]+W.substr(yt+1):0<=vt?K.substr(0,vt)+q[vt]+W.substr(vt+1):null;H(K[yt],Le)<0&&(vt=yt)}return ht<Y.length&&Z==="next"?K+W.substr(K.length):ht<K.length&&Z==="prev"?K.substr(0,W.length):vt<0?null:K.substr(0,vt)+Y[vt]+W.substr(vt+1)}(M,P,b[B],x[B],v,S);V===null&&T===null?C=B+1:(T===null||0<v(T,V))&&(T=V)}return E(T!==null?function(){O.continue(T+D)}:R),!1}),a}function ln(a,c,u,f){return{type:2,lower:a,upper:c,lowerOpen:u,upperOpen:f}}function _m(a){return{type:1,lower:a,upper:a}}var xm=(Object.defineProperty(ie.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ie.prototype.between=function(a,c,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(a,c)||this._cmp(a,c)===0&&(u||f)&&(!u||!f)?Ao(this):new this.Collection(this,function(){return ln(a,c,!u,!f)})}catch{return $e(this,$r)}},ie.prototype.equals=function(a){return a==null?$e(this,$r):new this.Collection(this,function(){return _m(a)})},ie.prototype.above=function(a){return a==null?$e(this,$r):new this.Collection(this,function(){return ln(a,void 0,!0)})},ie.prototype.aboveOrEqual=function(a){return a==null?$e(this,$r):new this.Collection(this,function(){return ln(a,void 0,!1)})},ie.prototype.below=function(a){return a==null?$e(this,$r):new this.Collection(this,function(){return ln(void 0,a,!1,!0)})},ie.prototype.belowOrEqual=function(a){return a==null?$e(this,$r):new this.Collection(this,function(){return ln(void 0,a)})},ie.prototype.startsWith=function(a){return typeof a!="string"?$e(this,dm):this.between(a,a+Kn,!0,!0)},ie.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):es(this,function(c,u){return c.indexOf(u[0])===0},[a],Kn)},ie.prototype.equalsIgnoreCase=function(a){return es(this,function(c,u){return c===u[0]},[a],"")},ie.prototype.anyOfIgnoreCase=function(){var a=Ie.apply(en,arguments);return a.length===0?Ao(this):es(this,function(c,u){return u.indexOf(c)!==-1},a,"")},ie.prototype.startsWithAnyOfIgnoreCase=function(){var a=Ie.apply(en,arguments);return a.length===0?Ao(this):es(this,function(c,u){return u.some(function(f){return c.indexOf(f)===0})},a,Kn)},ie.prototype.anyOf=function(){var a=this,c=Ie.apply(en,arguments),u=this._cmp;try{c.sort(u)}catch{return $e(this,$r)}if(c.length===0)return Ao(this);var f=new this.Collection(this,function(){return ln(c[0],c[c.length-1])});f._ondirectionchange=function(g){u=g==="next"?a._ascending:a._descending,c.sort(u)};var m=0;return f._addAlgorithm(function(g,v,b){for(var x=g.key;0<u(x,c[m]);)if(++m===c.length)return v(b),!1;return u(x,c[m])===0||(v(function(){g.continue(c[m])}),!1)}),f},ie.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ie.prototype.noneOf=function(){var a=Ie.apply(en,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return $e(this,$r)}var c=a.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return c.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},ie.prototype.inAnyRange=function(M,c){var u=this,f=this._cmp,m=this._ascending,g=this._descending,v=this._min,b=this._max;if(M.length===0)return Ao(this);if(!M.every(function(P){return P[0]!==void 0&&P[1]!==void 0&&m(P[0],P[1])<=0}))return $e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ot.InvalidArgument);var x=!c||c.includeLowers!==!1,S=c&&c.includeUppers===!0,D,_=m;function I(P,T){return _(P[0],T[0])}try{(D=M.reduce(function(P,T){for(var B=0,V=P.length;B<V;++B){var K=P[B];if(f(T[0],K[1])<0&&0<f(T[1],K[0])){K[0]=v(K[0],T[0]),K[1]=b(K[1],T[1]);break}}return B===V&&P.push(T),P},[])).sort(I)}catch{return $e(this,$r)}var C=0,O=S?function(P){return 0<m(P,D[C][1])}:function(P){return 0<=m(P,D[C][1])},E=x?function(P){return 0<g(P,D[C][0])}:function(P){return 0<=g(P,D[C][0])},R=O,M=new this.Collection(this,function(){return ln(D[0][0],D[D.length-1][1],!x,!S)});return M._ondirectionchange=function(P){_=P==="next"?(R=O,m):(R=E,g),D.sort(I)},M._addAlgorithm(function(P,T,B){for(var V,K=P.key;R(K);)if(++C===D.length)return T(B),!1;return!O(V=K)&&!E(V)||(u._cmp(K,D[C][1])===0||u._cmp(K,D[C][0])===0||T(function(){_===m?P.continue(D[C][0]):P.continue(D[C][1])}),!1)}),M},ie.prototype.startsWithAnyOf=function(){var a=Ie.apply(en,arguments);return a.every(function(c){return typeof c=="string"})?a.length===0?Ao(this):this.inAnyRange(a.map(function(c){return[c,c+Kn]})):$e(this,"startsWithAnyOf() only works with strings")},ie);function ie(){}function vr(a){return Ft(function(c){return Mi(c),a(c.target.error),!1})}function Mi(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Pi="storagemutated",Ml="x-storagemutated-1",un=ki(null,Pi),i_=(yr.prototype._lock=function(){return nt(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},yr.prototype._unlock=function(){if(nt(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Hn(a[1],a[0])}catch{}}return this},yr.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},yr.prototype.create=function(a){var c=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(nt(!this.idbtrans),!a&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new ot.DatabaseClosed(f);case"MissingAPIError":throw new ot.MissingAPI(f.message,f);default:throw new ot.OpenFailed(f)}if(!this.active)throw new ot.TransactionInactive;return nt(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ft(function(m){Mi(m),c._reject(a.error)}),a.onabort=Ft(function(m){Mi(m),c.active&&c._reject(new ot.Abort(a.error)),c.active=!1,c.on("abort").fire(m)}),a.oncomplete=Ft(function(){c.active=!1,c._resolve(),"mutatedParts"in a&&un.storagemutated.fire(a.mutatedParts)}),this},yr.prototype._promise=function(a,c,u){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return qt(new ot.ReadOnly("Transaction is readonly"));if(!this.active)return qt(new ot.TransactionInactive);if(this._locked())return new G(function(g,v){f._blockedFuncs.push([function(){f._promise(a,c,u).then(g,v)},et])});if(u)return an(function(){var g=new G(function(v,b){f._lock();var x=c(v,b,f);x&&x.then&&x.then(v,b)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var m=new G(function(g,v){var b=c(g,v,f);b&&b.then&&b.then(g,v)});return m._lib=!0,m},yr.prototype._root=function(){return this.parent?this.parent._root():this},yr.prototype.waitFor=function(a){var c,u=this._root(),f=G.resolve(a);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],c=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(c.get(-1/0).onsuccess=g)}());var m=u._waitingFor;return new G(function(g,v){f.then(function(b){return u._waitingQueue.push(Ft(g.bind(null,b)))},function(b){return u._waitingQueue.push(Ft(v.bind(null,b)))}).finally(function(){u._waitingFor===m&&(u._waitingFor=null)})})},yr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ot.Abort))},yr.prototype.table=function(a){var c=this._memoizedTables||(this._memoizedTables={});if(h(c,a))return c[a];var u=this.schema[a];if(!u)throw new ot.NotFound("Table "+a+" not part of transaction");return u=new this.db.Table(a,u,this),u.core=this.db.core.table(a),c[a]=u},yr);function yr(){}function Pl(a,c,u,f,m,g,v){return{name:a,keyPath:c,unique:u,multi:f,auto:m,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(m?"++":"")+wm(c)}}function wm(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Tl(a,c,u){return{name:a,primKey:c,indexes:u,mappedClass:null,idxByName:(f=function(m){return[m.name,m]},u.reduce(function(m,g,v){return v=f(g,v),v&&(m[v[0]]=v[1]),m},{}))};var f}var Ti=function(a){try{return a.only([[]]),Ti=function(){return[[]]},[[]]}catch{return Ti=function(){return Kn},Kn}};function Nl(a){return a==null?function(){}:typeof a=="string"?(c=a).split(".").length===1?function(u){return u[c]}:function(u){return kt(u,c)}:function(u){return kt(u,a)};var c}function Cm(a){return[].slice.call(a)}var a_=0;function Ni(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function s_(a,c,x){function f(R){if(R.type===3)return null;if(R.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=R.lower,O=R.upper,E=R.lowerOpen,R=R.upperOpen;return C===void 0?O===void 0?null:c.upperBound(O,!!R):O===void 0?c.lowerBound(C,!!E):c.bound(C,O,!!E,!!R)}function m(I){var C,O=I.name;return{name:O,schema:I,mutate:function(E){var R=E.trans,M=E.type,P=E.keys,T=E.values,B=E.range;return new Promise(function(V,K){V=Ft(V);var q=R.objectStore(O),W=q.keyPath==null,Y=M==="put"||M==="add";if(!Y&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var H,Z=(P||T||{length:1}).length;if(P&&T&&P.length!==T.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function ht(Re){++Le,Mi(Re)}var vt=[],yt=[],Le=0;if(M==="deleteRange"){if(B.type===4)return V({numFailures:Le,failures:yt,results:[],lastResult:void 0});B.type===3?vt.push(H=q.clear()):vt.push(H=q.delete(f(B)))}else{var W=Y?W?[T,P]:[T,null]:[P,null],ft=W[0],ve=W[1];if(Y)for(var ye=0;ye<Z;++ye)vt.push(H=ve&&ve[ye]!==void 0?q[M](ft[ye],ve[ye]):q[M](ft[ye])),H.onerror=ht;else for(ye=0;ye<Z;++ye)vt.push(H=q[M](ft[ye])),H.onerror=ht}function hs(Re){Re=Re.target.result,vt.forEach(function(Xn,Jl){return Xn.error!=null&&(yt[Jl]=Xn.error)}),V({numFailures:Le,failures:yt,results:M==="delete"?P:vt.map(function(Xn){return Xn.result}),lastResult:Re})}H.onerror=function(Re){ht(Re),hs(Re)},H.onsuccess=hs})},getMany:function(E){var R=E.trans,M=E.keys;return new Promise(function(P,T){P=Ft(P);for(var B,V=R.objectStore(O),K=M.length,q=new Array(K),W=0,Y=0,H=function(vt){vt=vt.target,q[vt._pos]=vt.result,++Y===W&&P(q)},Z=vr(T),ht=0;ht<K;++ht)M[ht]!=null&&((B=V.get(M[ht]))._pos=ht,B.onsuccess=H,B.onerror=Z,++W);W===0&&P(q)})},get:function(E){var R=E.trans,M=E.key;return new Promise(function(P,T){P=Ft(P);var B=R.objectStore(O).get(M);B.onsuccess=function(V){return P(V.target.result)},B.onerror=vr(T)})},query:(C=S,function(E){return new Promise(function(R,M){R=Ft(R);var P,T,B,W=E.trans,V=E.values,K=E.limit,H=E.query,q=K===1/0?void 0:K,Y=H.index,H=H.range,W=W.objectStore(O),Y=Y.isPrimaryKey?W:W.index(Y.name),H=f(H);if(K===0)return R({result:[]});C?((q=V?Y.getAll(H,q):Y.getAllKeys(H,q)).onsuccess=function(Z){return R({result:Z.target.result})},q.onerror=vr(M)):(P=0,T=!V&&"openKeyCursor"in Y?Y.openKeyCursor(H):Y.openCursor(H),B=[],T.onsuccess=function(Z){var ht=T.result;return ht?(B.push(V?ht.value:ht.primaryKey),++P===K?R({result:B}):void ht.continue()):R({result:B})},T.onerror=vr(M))})}),openCursor:function(E){var R=E.trans,M=E.values,P=E.query,T=E.reverse,B=E.unique;return new Promise(function(V,K){V=Ft(V);var Y=P.index,q=P.range,W=R.objectStore(O),W=Y.isPrimaryKey?W:W.index(Y.name),Y=T?B?"prevunique":"prev":B?"nextunique":"next",H=!M&&"openKeyCursor"in W?W.openKeyCursor(f(q),Y):W.openCursor(f(q),Y);H.onerror=vr(K),H.onsuccess=Ft(function(Z){var ht,vt,yt,Le,ft=H.result;ft?(ft.___id=++a_,ft.done=!1,ht=ft.continue.bind(ft),vt=(vt=ft.continuePrimaryKey)&&vt.bind(ft),yt=ft.advance.bind(ft),Le=function(){throw new Error("Cursor not stopped")},ft.trans=R,ft.stop=ft.continue=ft.continuePrimaryKey=ft.advance=function(){throw new Error("Cursor not started")},ft.fail=Ft(K),ft.next=function(){var ve=this,ye=1;return this.start(function(){return ye--?ve.continue():ve.stop()}).then(function(){return ve})},ft.start=function(ve){function ye(){if(H.result)try{ve()}catch(Re){ft.fail(Re)}else ft.done=!0,ft.start=function(){throw new Error("Cursor behind last entry")},ft.stop()}var hs=new Promise(function(Re,Xn){Re=Ft(Re),H.onerror=vr(Xn),ft.fail=Xn,ft.stop=function(Jl){ft.stop=ft.continue=ft.continuePrimaryKey=ft.advance=Le,Re(Jl)}});return H.onsuccess=Ft(function(Re){H.onsuccess=ye,ye()}),ft.continue=ht,ft.continuePrimaryKey=vt,ft.advance=yt,ye(),hs},V(ft)):V(null)},K)})},count:function(E){var R=E.query,M=E.trans,P=R.index,T=R.range;return new Promise(function(B,V){var K=M.objectStore(O),q=P.isPrimaryKey?K:K.index(P.name),K=f(T),q=K?q.count(K):q.count();q.onsuccess=Ft(function(W){return B(W.target.result)}),q.onerror=vr(V)})}}}var g,v,b,D=(v=x,b=Cm((g=a).objectStoreNames),{schema:{name:g.name,tables:b.map(function(I){return v.objectStore(I)}).map(function(I){var C=I.keyPath,R=I.autoIncrement,O=i(C),E={},R={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:O,keyPath:C,autoIncrement:R,unique:!0,extractKey:Nl(C)},indexes:Cm(I.indexNames).map(function(M){return I.index(M)}).map(function(B){var P=B.name,T=B.unique,V=B.multiEntry,B=B.keyPath,V={name:P,compound:i(B),keyPath:B,unique:T,multiEntry:V,extractKey:Nl(B)};return E[Ni(B)]=V}),getIndexByKeyPath:function(M){return E[Ni(M)]}};return E[":id"]=R.primaryKey,C!=null&&(E[Ni(C)]=R.primaryKey),R})},hasGetAll:0<b.length&&"getAll"in v.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),x=D.schema,S=D.hasGetAll,D=x.tables.map(m),_={};return D.forEach(function(I){return _[I.name]=I}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(I){if(!_[I])throw new Error("Table '".concat(I,"' not found"));return _[I]},MIN_KEY:-1/0,MAX_KEY:Ti(c),schema:x}}function c_(a,c,u,f){var m=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=s_(c,m,f),a.dbcore.reduce(function(g,v){return v=v.create,r(r({},g),v(g))},f))}}function rs(a,f){var u=f.db,f=c_(a._middlewares,u,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(m){var g=m.name;a.core.schema.tables.some(function(v){return v.name===g})&&(m.core=a.core.table(g),a[g]instanceof a.Table&&(a[g].core=m.core))})}function ns(a,c,u,f){u.forEach(function(m){var g=f[m];c.forEach(function(v){var b=function x(S,D){return N(S,D)||(S=l(S))&&x(S,D)}(v,m);(!b||"value"in b&&b.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?w(v,m,{get:function(){return this.table(m)},set:function(x){y(this,m,{value:x,writable:!0,configurable:!0,enumerable:!0})}}):v[m]=new a.Table(m,g))})})}function $l(a,c){c.forEach(function(u){for(var f in u)u[f]instanceof a.Table&&delete u[f]})}function l_(a,c){return a._cfg.version-c._cfg.version}function u_(a,c,u,f){var m=a._dbSchema;u.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=Tl("$meta",Rm("")[0],[]),a._storeNames.push("$meta"));var g=a._createTransaction("readwrite",a._storeNames,m);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),b=et.transless||et;an(function(){return et.trans=g,et.transless=b,c!==0?(rs(a,u),S=c,((x=g).storeNames.includes("$meta")?x.table("$meta").get("version").then(function(D){return D??S}):G.resolve(S)).then(function(D){return I=D,C=g,O=u,E=[],D=(_=a)._versions,R=_._dbSchema=is(0,_.idbdb,O),(D=D.filter(function(M){return M._cfg.version>=I})).length!==0?(D.forEach(function(M){E.push(function(){var P=R,T=M._cfg.dbschema;as(_,P,O),as(_,T,O),R=_._dbSchema=T;var B=Ll(P,T);B.add.forEach(function(Y){Bl(O,Y[0],Y[1].primKey,Y[1].indexes)}),B.change.forEach(function(Y){if(Y.recreate)throw new ot.Upgrade("Not yet support for changing primary key");var H=O.objectStore(Y.name);Y.add.forEach(function(Z){return os(H,Z)}),Y.change.forEach(function(Z){H.deleteIndex(Z.name),os(H,Z)}),Y.del.forEach(function(Z){return H.deleteIndex(Z)})});var V=M._cfg.contentUpgrade;if(V&&M._cfg.version>I){rs(_,O),C._memoizedTables={};var K=Mt(T);B.del.forEach(function(Y){K[Y]=P[Y]}),$l(_,[_.Transaction.prototype]),ns(_,[_.Transaction.prototype],o(K),K),C.schema=K;var q,W=rn(V);return W&&Do(),B=G.follow(function(){var Y;(q=V(C))&&W&&(Y=sn.bind(null,null),q.then(Y,Y))}),q&&typeof q.then=="function"?G.resolve(q):B.then(function(){return q})}}),E.push(function(P){var T,B,V=M._cfg.dbschema;T=V,B=P,[].slice.call(B.db.objectStoreNames).forEach(function(K){return T[K]==null&&B.db.deleteObjectStore(K)}),$l(_,[_.Transaction.prototype]),ns(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),C.schema=_._dbSchema}),E.push(function(P){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===M._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(T){return T!=="$meta"})):P.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return E.length?G.resolve(E.shift()(C.idbtrans)).then(M):G.resolve()}().then(function(){Sm(R,O)})):G.resolve();var _,I,C,O,E,R}).catch(v)):(o(m).forEach(function(D){Bl(u,D,m[D].primKey,m[D].indexes)}),rs(a,u),void G.follow(function(){return a.on.populate.fire(g)}).catch(v));var x,S})}function d_(a,c){Sm(a._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=is(0,a.idbdb,c);as(a,a._dbSchema,c);for(var f=0,m=Ll(u,a._dbSchema).change;f<m.length;f++){var g=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=c.objectStore(v.name);v.add.forEach(function(x){gr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(x.src)),os(b,x)})}(m[f]);if(typeof g=="object")return g.value}}function Ll(a,c){var u,f={del:[],add:[],change:[]};for(u in a)c[u]||f.del.push(u);for(u in c){var m=a[u],g=c[u];if(m){var v={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||m.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var b=m.idxByName,x=g.idxByName,S=void 0;for(S in b)x[S]||v.del.push(S);for(S in x){var D=b[S],_=x[S];D?D.src!==_.src&&v.change.push(_):v.add.push(_)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([u,g])}return f}function Bl(a,c,u,f){var m=a.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return os(m,g)}),m}function Sm(a,c){o(a).forEach(function(u){c.db.objectStoreNames.contains(u)||(gr&&console.debug("Dexie: Creating missing table",u),Bl(c,u,a[u].primKey,a[u].indexes))})}function os(a,c){a.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function is(a,c,u){var f={};return Q(c.objectStoreNames,0).forEach(function(m){for(var g=u.objectStore(m),v=Pl(wm(S=g.keyPath),S||"",!0,!1,!!g.autoIncrement,S&&typeof S!="string",!0),b=[],x=0;x<g.indexNames.length;++x){var D=g.index(g.indexNames[x]),S=D.keyPath,D=Pl(D.name,S,!!D.unique,!!D.multiEntry,!1,S&&typeof S!="string",!1);b.push(D)}f[m]=Tl(m,v,b)}),f}function as(a,c,u){for(var f=u.db.objectStoreNames,m=0;m<f.length;++m){var g=f[m],v=u.objectStore(g);a._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var x=v.indexNames[b],S=v.index(x).keyPath,D=typeof S=="string"?S:"["+Q(S).join("+")+"]";!c[g]||(S=c[g].idxByName[D])&&(S.name=x,delete c[g].idxByName[D],c[g].idxByName[x]=S)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Rm(a){return a.split(",").map(function(c,u){var f=(c=c.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Pl(f,m||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),i(m),u===0)})}var f_=(ss.prototype._parseStoresSpec=function(a,c){o(a).forEach(function(u){if(a[u]!==null){var f=Rm(a[u]),m=f.shift();if(m.unique=!0,m.multi)throw new ot.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new ot.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new ot.Schema("Index must have a name and cannot be an empty string")}),c[u]=Tl(u,m,f)}})},ss.prototype.stores=function(u){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,u):u;var u=c._versions,f={},m={};return u.forEach(function(g){s(f,g._cfg.storesSource),m=g._cfg.dbschema={},g._parseStoresSpec(f,m)}),c._dbSchema=m,$l(c,[c._allTables,c,c.Transaction.prototype]),ns(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],o(m),m),c._storeNames=o(m),this},ss.prototype.upgrade=function(a){return this._cfg.contentUpgrade=yl(this._cfg.contentUpgrade||At,a),this},ss);function ss(){}function Fl(a,c){var u=a._dbNamesDB;return u||(u=a._dbNamesDB=new Br(Xa,{addons:[],indexedDB:a,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function jl(a){return a&&typeof a.databases=="function"}function Ul(a){return an(function(){return et.letThrough=!0,a()})}function zl(a){return!("from"in a)}var ge=function(a,c){if(!this){var u=new ge;return a&&"d"in a&&s(u,a),u}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?c:a}:{d:0})};function $i(a,c,u){var f=bt(c,u);if(!isNaN(f)){if(0<f)throw RangeError();if(zl(a))return s(a,{from:c,to:u,d:1});var m=a.l,f=a.r;if(bt(u,a.from)<0)return m?$i(m,c,u):a.l={from:c,to:u,d:1,l:null,r:null},Dm(a);if(0<bt(c,a.to))return f?$i(f,c,u):a.r={from:c,to:u,d:1,l:null,r:null},Dm(a);bt(c,a.from)<0&&(a.from=c,a.l=null,a.d=f?f.d+1:1),0<bt(u,a.to)&&(a.to=u,a.r=null,a.d=a.l?a.l.d+1:1),u=!a.r,m&&!a.l&&Li(a,m),f&&u&&Li(a,f)}}function Li(a,c){zl(c)||function u(f,x){var g=x.from,v=x.to,b=x.l,x=x.r;$i(f,g,v),b&&u(f,b),x&&u(f,x)}(a,c)}function Om(a,c){var u=cs(c),f=u.next();if(f.done)return!1;for(var m=f.value,g=cs(a),v=g.next(m.from),b=v.value;!f.done&&!v.done;){if(bt(b.from,m.to)<=0&&0<=bt(b.to,m.from))return!0;bt(m.from,b.from)<0?m=(f=u.next(b.from)).value:b=(v=g.next(m.from)).value}return!1}function cs(a){var c=zl(a)?null:{s:0,n:a};return{next:function(u){for(var f=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&bt(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||bt(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Dm(a){var c,u,f=(((c=a.r)===null||c===void 0?void 0:c.d)||0)-(((u=a.l)===null||u===void 0?void 0:u.d)||0),m=1<f?"r":f<-1?"l":"";m&&(c=m=="r"?"l":"r",u=r({},a),f=a[m],a.from=f.from,a.to=f.to,a[m]=f[m],u[m]=f[c],(a[c]=u).d=Em(u)),a.d=Em(a)}function Em(u){var c=u.r,u=u.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function ls(a,c){return o(c).forEach(function(u){a[u]?Li(a[u],c[u]):a[u]=function f(m){var g,v,b={};for(g in m)h(m,g)&&(v=m[g],b[g]=!v||typeof v!="object"||ue.has(v.constructor)?v:f(v));return b}(c[u])}),a}function Vl(a,c){return a.all||c.all||Object.keys(a).some(function(u){return c[u]&&Om(c[u],a[u])})}p(ge.prototype,((Ye={add:function(a){return Li(this,a),this},addKey:function(a){return $i(this,a,a),this},addKeys:function(a){var c=this;return a.forEach(function(u){return $i(c,u,u)}),this},hasKey:function(a){var c=cs(this).next(a).value;return c&&bt(c.from,a)<=0&&0<=bt(c.to,a)}})[wi]=function(){return cs(this)},Ye));var Yn={},ql={},Wl=!1;function us(a){ls(ql,a),Wl||(Wl=!0,setTimeout(function(){Wl=!1,Hl(ql,!(ql={}))},0))}function Hl(a,c){c===void 0&&(c=!1);var u=new Set;if(a.all)for(var f=0,m=Object.values(Yn);f<m.length;f++)km(v=m[f],a,u,c);else for(var g in a){var v,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(v=Yn["idb://".concat(g,"/").concat(b)])&&km(v,a,u,c))}u.forEach(function(x){return x()})}function km(a,c,u,f){for(var m=[],g=0,v=Object.entries(a.queries.query);g<v.length;g++){for(var b=v[g],x=b[0],S=[],D=0,_=b[1];D<_.length;D++){var I=_[D];Vl(c,I.obsSet)?I.subscribers.forEach(function(R){return u.add(R)}):f&&S.push(I)}f&&m.push([x,S])}if(f)for(var C=0,O=m;C<O.length;C++){var E=O[C],x=E[0],S=E[1];a.queries.query[x]=S}}function m_(a){var c=a._state,u=a._deps.indexedDB;if(c.isBeingOpened||a.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?qt(c.dbOpenError):a});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,m=Math.round(10*a.verno),g=!1;function v(){if(c.openCanceller!==f)throw new ot.DatabaseClosed("db.open() was cancelled")}function b(){return new G(function(I,C){if(v(),!u)throw new ot.MissingAPI;var O=a.name,E=c.autoSchema||!m?u.open(O):u.open(O,m);if(!E)throw new ot.MissingAPI;E.onerror=vr(C),E.onblocked=Ft(a._fireOnBlocked),E.onupgradeneeded=Ft(function(R){var M;D=E.transaction,c.autoSchema&&!a._options.allowEmptyDB?(E.onerror=Mi,D.abort(),E.result.close(),(M=u.deleteDatabase(O)).onsuccess=M.onerror=Ft(function(){C(new ot.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(D.onerror=vr(C),R=R.oldVersion>Math.pow(2,62)?0:R.oldVersion,_=R<1,a.idbdb=E.result,g&&d_(a,D),u_(a,R/10,D,C))},C),E.onsuccess=Ft(function(){D=null;var R,M,P,T,B,V=a.idbdb=E.result,K=Q(V.objectStoreNames);if(0<K.length)try{var q=V.transaction((T=K).length===1?T[0]:T,"readonly");if(c.autoSchema)M=V,P=q,(R=a).verno=M.version/10,P=R._dbSchema=is(0,M,P),R._storeNames=Q(M.objectStoreNames,0),ns(R,[R._allTables],o(P),P);else if(as(a,a._dbSchema,q),((B=Ll(is(0,(B=a).idbdb,q),B._dbSchema)).add.length||B.change.some(function(W){return W.add.length||W.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),m=V.version+1,g=!0,I(b());rs(a,q)}catch{}Eo.push(a),V.onversionchange=Ft(function(W){c.vcFired=!0,a.on("versionchange").fire(W)}),V.onclose=Ft(function(W){a.on("close").fire(W)}),_&&(B=a._deps,q=O,V=B.indexedDB,B=B.IDBKeyRange,jl(V)||q===Xa||Fl(V,B).put({name:q}).catch(At)),I()},C)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<m)return m=0,b()}return G.reject(I)})}var x,S=c.dbReadyResolve,D=null,_=!1;return G.race([f,(typeof navigator>"u"?G.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function C(){return indexedDB.databases().finally(I)}x=setInterval(C,100),C()}).finally(function(){return clearInterval(x)}):Promise.resolve()).then(b)]).then(function(){return v(),c.onReadyBeingFired=[],G.resolve(Ul(function(){return a.on.ready.fire(a.vip)})).then(function I(){if(0<c.onReadyBeingFired.length){var C=c.onReadyBeingFired.reduce(yl,At);return c.onReadyBeingFired=[],G.resolve(Ul(function(){return C(a.vip)})).then(I)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(I){c.dbOpenError=I;try{D&&D.abort()}catch{}return f===c.openCanceller&&a._close(),qt(I)}).finally(function(){c.openComplete=!0,S()}).then(function(){var I;return _&&(I={},a.tables.forEach(function(C){C.schema.indexes.forEach(function(O){O.name&&(I["idb://".concat(a.name,"/").concat(C.name,"/").concat(O.name)]=new ge(-1/0,[[[]]]))}),I["idb://".concat(a.name,"/").concat(C.name,"/")]=I["idb://".concat(a.name,"/").concat(C.name,"/:dels")]=new ge(-1/0,[[[]]])}),un(Pi).fire(I),Hl(I,!0)),a})}function Kl(a){function c(g){return a.next(g)}var u=m(c),f=m(function(g){return a.throw(g)});function m(g){return function(x){var b=g(x),x=b.value;return b.done?x:x&&typeof x.then=="function"?x.then(u,f):i(x)?Promise.all(x).then(u,f):u(x)}}return m(c)()}function ds(a,c,u){for(var f=i(a)?a.slice():[a],m=0;m<u;++m)f.push(c);return f}var h_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema,m={},g=[];function v(_,I,C){var O=Ni(_),E=m[O]=m[O]||[],R=_==null?0:typeof _=="string"?1:_.length,M=0<I,M=r(r({},C),{name:M?"".concat(O,"(virtual-from:").concat(C.name,")"):C.name,lowLevelIndex:C,isVirtual:M,keyTail:I,keyLength:R,extractKey:Nl(_),unique:!M&&C.unique});return E.push(M),M.isPrimaryKey||g.push(M),1<R&&v(R===2?_[0]:_.slice(0,R-1),I+1,C),E.sort(function(P,T){return P.keyTail-T.keyTail}),M}c=v(f.primaryKey.keyPath,0,f.primaryKey),m[":id"]=[c];for(var b=0,x=f.indexes;b<x.length;b++){var S=x[b];v(S.keyPath,0,S)}function D(_){var I,C=_.query.index;return C.isVirtual?r(r({},_),{query:{index:C.lowLevelIndex,range:(I=_.query.range,C=C.keyTail,{type:I.type===1?2:I.type,lower:ds(I.lower,I.lowerOpen?a.MAX_KEY:a.MIN_KEY,C),lowerOpen:!0,upper:ds(I.upper,I.upperOpen?a.MIN_KEY:a.MAX_KEY,C),upperOpen:!0})}}):_}return r(r({},u),{schema:r(r({},f),{primaryKey:c,indexes:g,getIndexByKeyPath:function(_){return(_=m[Ni(_)])&&_[0]}}),count:function(_){return u.count(D(_))},query:function(_){return u.query(D(_))},openCursor:function(_){var I=_.query.index,C=I.keyTail,O=I.isVirtual,E=I.keyLength;return O?u.openCursor(D(_)).then(function(M){return M&&R(M)}):u.openCursor(_);function R(M){return Object.create(M,{continue:{value:function(P){P!=null?M.continue(ds(P,_.reverse?a.MAX_KEY:a.MIN_KEY,C)):_.unique?M.continue(M.key.slice(0,E).concat(_.reverse?a.MIN_KEY:a.MAX_KEY,C)):M.continue()}},continuePrimaryKey:{value:function(P,T){M.continuePrimaryKey(ds(P,a.MAX_KEY,C),T)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var P=M.key;return E===1?P[0]:P.slice(0,E)}},value:{get:function(){return M.value}}})}}})}})}};function Ql(a,c,u,f){return u=u||{},f=f||"",o(a).forEach(function(m){var g,v,b;h(c,m)?(g=a[m],v=c[m],typeof g=="object"&&typeof v=="object"&&g&&v?(b=ir(g))!==ir(v)?u[f+m]=c[m]:b==="Object"?Ql(g,v,u,f+m+"."):g!==v&&(u[f+m]=c[m]):g!==v&&(u[f+m]=c[m])):u[f+m]=void 0}),o(c).forEach(function(m){h(a,m)||(u[f+m]=c[m])}),u}function Yl(a,c){return c.type==="delete"?c.keys:c.keys||c.values.map(a.extractKey)}var p_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema.primaryKey;return r(r({},u),{mutate:function(m){var g=et.trans,v=g.table(c).hook,b=v.deleting,x=v.creating,S=v.updating;switch(m.type){case"add":if(x.fire===At)break;return g._promise("readwrite",function(){return D(m)},!0);case"put":if(x.fire===At&&S.fire===At)break;return g._promise("readwrite",function(){return D(m)},!0);case"delete":if(b.fire===At)break;return g._promise("readwrite",function(){return D(m)},!0);case"deleteRange":if(b.fire===At)break;return g._promise("readwrite",function(){return function _(I,C,O){return u.query({trans:I,values:!1,query:{index:f,range:C},limit:O}).then(function(E){var R=E.result;return D({type:"delete",keys:R,trans:I}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):R.length<O?{failures:[],numFailures:0,lastResult:void 0}:_(I,r(r({},C),{lower:R[R.length-1],lowerOpen:!0}),O)})})}(m.trans,m.range,1e4)},!0)}return u.mutate(m);function D(_){var I,C,O,E=et.trans,R=_.keys||Yl(f,_);if(!R)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?r(r({},_),{keys:R}):r({},_)).type!=="delete"&&(_.values=e([],_.values,!0)),_.keys&&(_.keys=e([],_.keys,!0)),I=u,O=R,((C=_).type==="add"?Promise.resolve([]):I.getMany({trans:C.trans,keys:O,cache:"immutable"})).then(function(M){var P=R.map(function(T,B){var V,K,q,W=M[B],Y={onerror:null,onsuccess:null};return _.type==="delete"?b.fire.call(Y,T,W,E):_.type==="add"||W===void 0?(V=x.fire.call(Y,T,_.values[B],E),T==null&&V!=null&&(_.keys[B]=T=V,f.outbound||st(_.values[B],f.keyPath,T))):(V=Ql(W,_.values[B]),(K=S.fire.call(Y,V,T,W,E))&&(q=_.values[B],Object.keys(K).forEach(function(H){h(q,H)?q[H]=K[H]:st(q,H,K[H])}))),Y});return u.mutate(_).then(function(T){for(var B=T.failures,V=T.results,K=T.numFailures,T=T.lastResult,q=0;q<R.length;++q){var W=(V||R)[q],Y=P[q];W==null?Y.onerror&&Y.onerror(B[q]):Y.onsuccess&&Y.onsuccess(_.type==="put"&&M[q]?_.values[q]:W)}return{failures:B,results:V,numFailures:K,lastResult:T}}).catch(function(T){return P.forEach(function(B){return B.onerror&&B.onerror(T)}),Promise.reject(T)})})}}})}})}};function Am(a,c,u){try{if(!c||c.keys.length<a.length)return null;for(var f=[],m=0,g=0;m<c.keys.length&&g<a.length;++m)bt(c.keys[m],a[g])===0&&(f.push(u?or(c.values[m]):c.values[m]),++g);return f.length===a.length?f:null}catch{return null}}var g_={stack:"dbcore",level:-1,create:function(a){return{table:function(c){var u=a.table(c);return r(r({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var m=Am(f.keys,f.trans._cache,f.cache==="clone");return m?G.resolve(m):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?or(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Im(a,c){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Mm(a,c){switch(a){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var v_={stack:"dbcore",level:0,name:"Observability",create:function(a){var c=a.schema.name,u=new ge(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(f,m,g){if(et.subscr&&m!=="readonly")throw new ot.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return a.transaction(f,m,g)},table:function(f){var m=a.table(f),g=m.schema,v=g.primaryKey,_=g.indexes,b=v.extractKey,x=v.outbound,S=v.autoIncrement&&_.filter(function(C){return C.compound&&C.keyPath.includes(v.keyPath)}),D=r(r({},m),{mutate:function(C){function O(H){return H="idb://".concat(c,"/").concat(f,"/").concat(H),T[H]||(T[H]=new ge)}var E,R,M,P=C.trans,T=C.mutatedParts||(C.mutatedParts={}),B=O(""),V=O(":dels"),K=C.type,Y=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[Yl(v,C).filter(function(H){return H}),C.values]:[],q=Y[0],W=Y[1],Y=C.trans._cache;return i(q)?(B.addKeys(q),(Y=K==="delete"||q.length===W.length?Am(q,Y):null)||V.addKeys(q),(Y||W)&&(E=O,R=Y,M=W,g.indexes.forEach(function(H){var Z=E(H.name||"");function ht(yt){return yt!=null?H.extractKey(yt):null}function vt(yt){return H.multiEntry&&i(yt)?yt.forEach(function(Le){return Z.addKey(Le)}):Z.addKey(yt)}(R||M).forEach(function(yt,ve){var ft=R&&ht(R[ve]),ve=M&&ht(M[ve]);bt(ft,ve)!==0&&(ft!=null&&vt(ft),ve!=null&&vt(ve))})}))):q?(W={from:(W=q.lower)!==null&&W!==void 0?W:a.MIN_KEY,to:(W=q.upper)!==null&&W!==void 0?W:a.MAX_KEY},V.add(W),B.add(W)):(B.add(u),V.add(u),g.indexes.forEach(function(H){return O(H.name).add(u)})),m.mutate(C).then(function(H){return!q||C.type!=="add"&&C.type!=="put"||(B.addKeys(H.results),S&&S.forEach(function(Z){for(var ht=C.values.map(function(ft){return Z.extractKey(ft)}),vt=Z.keyPath.findIndex(function(ft){return ft===v.keyPath}),yt=0,Le=H.results.length;yt<Le;++yt)ht[yt][vt]=H.results[yt];O(Z.name).addKeys(ht)})),P.mutatedParts=ls(P.mutatedParts||{},T),H})}}),_=function(O){var E=O.query,O=E.index,E=E.range;return[O,new ge((O=E.lower)!==null&&O!==void 0?O:a.MIN_KEY,(E=E.upper)!==null&&E!==void 0?E:a.MAX_KEY)]},I={get:function(C){return[v,new ge(C.key)]},getMany:function(C){return[v,new ge().addKeys(C.keys)]},count:_,query:_,openCursor:_};return o(I).forEach(function(C){D[C]=function(O){var E=et.subscr,R=!!E,M=Im(et,m)&&Mm(C,O)?O.obsSet={}:E;if(R){var P=function(W){return W="idb://".concat(c,"/").concat(f,"/").concat(W),M[W]||(M[W]=new ge)},T=P(""),B=P(":dels"),E=I[C](O),R=E[0],E=E[1];if((C==="query"&&R.isPrimaryKey&&!O.values?B:P(R.name||"")).add(E),!R.isPrimaryKey){if(C!=="count"){var V=C==="query"&&x&&O.values&&m.query(r(r({},O),{values:!1}));return m[C].apply(this,arguments).then(function(W){if(C==="query"){if(x&&O.values)return V.then(function(ht){return ht=ht.result,T.addKeys(ht),W});var Y=O.values?W.result.map(b):W.result;(O.values?T:B).addKeys(Y)}else if(C==="openCursor"){var H=W,Z=O.values;return H&&Object.create(H,{key:{get:function(){return B.addKey(H.primaryKey),H.key}},primaryKey:{get:function(){var ht=H.primaryKey;return B.addKey(ht),ht}},value:{get:function(){return Z&&T.addKey(H.primaryKey),H.value}}})}return W})}B.add(u)}}return m[C].apply(this,arguments)}}),D}})}};function Pm(a,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return u.numFailures===f?null:(c=r({},c),i(c.keys)&&(c.keys=c.keys.filter(function(m,g){return!(g in u.failures)})),"values"in c&&i(c.values)&&(c.values=c.values.filter(function(m,g){return!(g in u.failures)})),c)}function Gl(a,c){return u=a,((f=c).lower===void 0||(f.lowerOpen?0<bt(u,f.lower):0<=bt(u,f.lower)))&&(a=a,(c=c).upper===void 0||(c.upperOpen?bt(a,c.upper)<0:bt(a,c.upper)<=0));var u,f}function Tm(a,c,I,f,m,g){if(!I||I.length===0)return a;var v=c.query.index,b=v.multiEntry,x=c.query.range,S=f.schema.primaryKey.extractKey,D=v.extractKey,_=(v.lowLevelIndex||v).extractKey,I=I.reduce(function(C,O){var E=C,R=[];if(O.type==="add"||O.type==="put")for(var M=new ge,P=O.values.length-1;0<=P;--P){var T,B=O.values[P],V=S(B);M.hasKey(V)||(T=D(B),(b&&i(T)?T.some(function(H){return Gl(H,x)}):Gl(T,x))&&(M.addKey(V),R.push(B)))}switch(O.type){case"add":var K=new ge().addKeys(c.values?C.map(function(Z){return S(Z)}):C),E=C.concat(c.values?R.filter(function(Z){return Z=S(Z),!K.hasKey(Z)&&(K.addKey(Z),!0)}):R.map(function(Z){return S(Z)}).filter(function(Z){return!K.hasKey(Z)&&(K.addKey(Z),!0)}));break;case"put":var q=new ge().addKeys(O.values.map(function(Z){return S(Z)}));E=C.filter(function(Z){return!q.hasKey(c.values?S(Z):Z)}).concat(c.values?R:R.map(function(Z){return S(Z)}));break;case"delete":var W=new ge().addKeys(O.keys);E=C.filter(function(Z){return!W.hasKey(c.values?S(Z):Z)});break;case"deleteRange":var Y=O.range;E=C.filter(function(Z){return!Gl(S(Z),Y)})}return E},a);return I===a?a:(I.sort(function(C,O){return bt(_(C),_(O))||bt(S(C),S(O))}),c.limit&&c.limit<1/0&&(I.length>c.limit?I.length=c.limit:a.length===c.limit&&I.length<c.limit&&(m.dirty=!0)),g?Object.freeze(I):I)}function Nm(a,c){return bt(a.lower,c.lower)===0&&bt(a.upper,c.upper)===0&&!!a.lowerOpen==!!c.lowerOpen&&!!a.upperOpen==!!c.upperOpen}function y_(a,c){return function(u,f,m,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=bt(u,f))===0){if(m&&g)return 0;if(m)return 1;if(g)return-1}return f}(a.lower,c.lower,a.lowerOpen,c.lowerOpen)<=0&&0<=function(u,f,m,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=bt(u,f))===0){if(m&&g)return 0;if(m)return-1;if(g)return 1}return f}(a.upper,c.upper,a.upperOpen,c.upperOpen)}function b_(a,c,u,f){a.subscribers.add(u),f.addEventListener("abort",function(){var m,g;a.subscribers.delete(u),a.subscribers.size===0&&(m=a,g=c,setTimeout(function(){m.subscribers.size===0&&Nr(g,m)},3e3))})}var __={stack:"dbcore",level:0,name:"Cache",create:function(a){var c=a.schema.name;return r(r({},a),{transaction:function(u,f,m){var g,v,b=a.transaction(u,f,m);return f==="readwrite"&&(v=(g=new AbortController).signal,m=function(x){return function(){if(g.abort(),f==="readwrite"){for(var S=new Set,D=0,_=u;D<_.length;D++){var I=_[D],C=Yn["idb://".concat(c,"/").concat(I)];if(C){var O=a.table(I),E=C.optimisticOps.filter(function(Z){return Z.trans===b});if(b._explicit&&x&&b.mutatedParts)for(var R=0,M=Object.values(C.queries.query);R<M.length;R++)for(var P=0,T=(K=M[R]).slice();P<T.length;P++)Vl((q=T[P]).obsSet,b.mutatedParts)&&(Nr(K,q),q.subscribers.forEach(function(Z){return S.add(Z)}));else if(0<E.length){C.optimisticOps=C.optimisticOps.filter(function(Z){return Z.trans!==b});for(var B=0,V=Object.values(C.queries.query);B<V.length;B++)for(var K,q,W,Y=0,H=(K=V[B]).slice();Y<H.length;Y++)(q=H[Y]).res!=null&&b.mutatedParts&&(x&&!q.dirty?(W=Object.isFrozen(q.res),W=Tm(q.res,q.req,E,O,q,W),q.dirty?(Nr(K,q),q.subscribers.forEach(function(Z){return S.add(Z)})):W!==q.res&&(q.res=W,q.promise=G.resolve({result:W}))):(q.dirty&&Nr(K,q),q.subscribers.forEach(function(Z){return S.add(Z)})))}}}S.forEach(function(Z){return Z()})}}},b.addEventListener("abort",m(!1),{signal:v}),b.addEventListener("error",m(!1),{signal:v}),b.addEventListener("complete",m(!0),{signal:v})),b},table:function(u){var f=a.table(u),m=f.schema.primaryKey;return r(r({},f),{mutate:function(g){var v=et.trans;if(m.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(g);var b=Yn["idb://".concat(c,"/").concat(u)];return b?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Yl(m,g).some(function(x){return x==null}))?(b.optimisticOps.push(g),g.mutatedParts&&us(g.mutatedParts),v.then(function(x){0<x.numFailures&&(Nr(b.optimisticOps,g),(x=Pm(0,g,x))&&b.optimisticOps.push(x),g.mutatedParts&&us(g.mutatedParts))}),v.catch(function(){Nr(b.optimisticOps,g),g.mutatedParts&&us(g.mutatedParts)})):v.then(function(x){var S=Pm(0,r(r({},g),{values:g.values.map(function(D,_){var I;return x.failures[_]?D:(D=(I=m.keyPath)!==null&&I!==void 0&&I.includes(".")?or(D):r({},D),st(D,m.keyPath,x.results[_]),D)})}),x);b.optimisticOps.push(S),queueMicrotask(function(){return g.mutatedParts&&us(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!Im(et,f)||!Mm("query",g))return f.query(g);var v=((S=et.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",_=et,b=_.requery,x=_.signal,S=function(O,E,R,M){var P=Yn["idb://".concat(O,"/").concat(E)];if(!P)return[];if(!(E=P.queries[R]))return[null,!1,P,null];var T=E[(M.query?M.query.index.name:null)||""];if(!T)return[null,!1,P,null];switch(R){case"query":var B=T.find(function(V){return V.req.limit===M.limit&&V.req.values===M.values&&Nm(V.req.query.range,M.query.range)});return B?[B,!0,P,T]:[T.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=M.limit&&(!M.values||V.req.values)&&y_(V.req.query.range,M.query.range)}),!1,P,T];case"count":return B=T.find(function(V){return Nm(V.req.query.range,M.query.range)}),[B,!!B,P,T]}}(c,u,"query",g),D=S[0],_=S[1],I=S[2],C=S[3];return D&&_?D.obsSet=g.obsSet:(_=f.query(g).then(function(O){var E=O.result;if(D&&(D.res=E),v){for(var R=0,M=E.length;R<M;++R)Object.freeze(E[R]);Object.freeze(E)}else O.result=or(E);return O}).catch(function(O){return C&&D&&Nr(C,D),Promise.reject(O)}),D={obsSet:g.obsSet,promise:_,subscribers:new Set,type:"query",req:g,dirty:!1},C?C.push(D):(C=[D],(I=I||(Yn["idb://".concat(c,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=C)),b_(D,C,b,x),D.promise.then(function(O){return{result:Tm(O.result,g,I?.optimisticOps,f,D,v)}})}})}})}};function fs(a,c){return new Proxy(a,{get:function(u,f,m){return f==="db"?c:Reflect.get(u,f,m)}})}var Br=(Wt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new ot.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new ot.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var c=this._versions,u=c.filter(function(f){return f._cfg.version===a})[0];return u||(u=new this.Version(a),c.push(u),c.sort(l_),u.stores({}),this._state.autoSchema=!1,u)},Wt.prototype._whenReady=function(a){var c=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?a():new G(function(u,f){if(c._state.openComplete)return f(new ot.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void f(new ot.DatabaseClosed);c.open().catch(At)}c._state.dbReadyPromise.then(u,f)}).then(a)},Wt.prototype.use=function(a){var c=a.stack,u=a.create,f=a.level,m=a.name;return m&&this.unuse({stack:c,name:m}),a=this._middlewares[c]||(this._middlewares[c]=[]),a.push({stack:c,create:u,level:f??10,name:m}),a.sort(function(g,v){return g.level-v.level}),this},Wt.prototype.unuse=function(a){var c=a.stack,u=a.name,f=a.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(m){return f?m.create!==f:!!u&&m.name!==u})),this},Wt.prototype.open=function(){var a=this;return Hn(on,function(){return m_(a)})},Wt.prototype._close=function(){var a=this._state,c=Eo.indexOf(this);if(0<=c&&Eo.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new G(function(u){a.dbReadyResolve=u}),a.openCanceller=new G(function(u,f){a.cancelOpen=f}))},Wt.prototype.close=function(u){var c=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;c?(u.isBeingOpened&&u.cancelOpen(new ot.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new ot.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Wt.prototype.delete=function(a){var c=this;a===void 0&&(a={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new G(function(m,g){function v(){c.close(a);var b=c._deps.indexedDB.deleteDatabase(c.name);b.onsuccess=Ft(function(){var x,S,D;x=c._deps,S=c.name,D=x.indexedDB,x=x.IDBKeyRange,jl(D)||S===Xa||Fl(D,x).delete(S).catch(At),m()}),b.onerror=vr(g),b.onblocked=c._fireOnBlocked}if(u)throw new ot.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},Wt.prototype.backendDB=function(){return this.idbdb},Wt.prototype.isOpen=function(){return this.idbdb!==null},Wt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wt.prototype,"tables",{get:function(){var a=this;return o(this._allTables).map(function(c){return a._allTables[c]})},enumerable:!1,configurable:!0}),Wt.prototype.transaction=function(){var a=function(c,u,f){var m=arguments.length;if(m<2)throw new ot.InvalidArgument("Too few arguments");for(var g=new Array(m-1);--m;)g[m-1]=arguments[m];return f=g.pop(),[c,Lt(g),f]}.apply(this,arguments);return this._transaction.apply(this,a)},Wt.prototype._transaction=function(a,c,u){var f=this,m=et.trans;m&&m.db===this&&a.indexOf("!")===-1||(m=null);var g,v,b=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(v=c.map(function(S){if(S=S instanceof f.Table?S.name:S,typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),a=="r"||a===Dl)g=Dl;else{if(a!="rw"&&a!=El)throw new ot.InvalidArgument("Invalid transaction mode: "+a);g=El}if(m){if(m.mode===Dl&&g===El){if(!b)throw new ot.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&v.forEach(function(S){if(m&&m.storeNames.indexOf(S)===-1){if(!b)throw new ot.SubTransaction("Table "+S+" not included in parent transaction.");m=null}}),b&&m&&!m.active&&(m=null)}}catch(S){return m?m._promise(null,function(D,_){_(S)}):qt(S)}var x=function S(D,_,I,C,O){return G.resolve().then(function(){var E=et.transless||et,R=D._createTransaction(_,I,D._dbSchema,C);if(R.explicit=!0,E={trans:R,transless:E},C)R.idbtrans=C.idbtrans;else try{R.create(),R.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(T){return T.name===nn.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return S(D,_,I,null,O)})):qt(T)}var M,P=rn(O);return P&&Do(),E=G.follow(function(){var T;(M=O.call(R,R))&&(P?(T=sn.bind(null,null),M.then(T,T)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Kl(M)))},E),(M&&typeof M.then=="function"?G.resolve(M).then(function(T){return R.active?T:qt(new ot.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):E.then(function(){return M})).then(function(T){return C&&R._resolve(),R._completion.then(function(){return T})}).catch(function(T){return R._reject(T),qt(T)})})}.bind(null,this,g,v,m,u);return m?m._promise(g,x,"lock"):et.trans?Hn(et.transless,function(){return f._whenReady(x)}):this._whenReady(x)},Wt.prototype.table=function(a){if(!h(this._allTables,a))throw new ot.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Wt);function Wt(a,c){var u=this;this._middlewares={},this.verno=0;var f=Wt.dependencies;this._options=c=r({addons:Wt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},f=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,g,v,b,x,S={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};S.dbReadyPromise=new G(function(_){S.dbReadyResolve=_}),S.openCanceller=new G(function(_,I){S.cancelOpen=I}),this._state=S,this.name=a,this.on=ki(this,"populate","blocked","versionchange","close",{ready:[yl,At]}),this.on.ready.subscribe=J(this.on.ready.subscribe,function(_){return function(I,C){Wt.vip(function(){var O,E=u._state;E.openComplete?(E.dbOpenError||G.resolve().then(I),C&&_(I)):E.onReadyBeingFired?(E.onReadyBeingFired.push(I),C&&_(I)):(_(I),O=u,C||_(function R(){O.on.ready.unsubscribe(I),O.on.ready.unsubscribe(R)}))})}}),this.Collection=(m=this,Ai(r_.prototype,function(M,R){this.db=m;var C=fm,O=null;if(R)try{C=R()}catch(P){O=P}var E=M._ctx,R=E.table,M=R.hook.reading.fire;this._ctx={table:R,index:E.index,isPrimKey:!E.index||R.schema.primKey.keyPath&&E.index===R.schema.primKey.name,range:C,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:E.or,valueMapper:M!==Si?M:null}})),this.Table=(g=this,Ai(gm.prototype,function(_,I,C){this.db=g,this._tx=C,this.name=_,this.schema=I,this.hook=g._allTables[_]?g._allTables[_].hook:ki(null,{creating:[Kb,At],reading:[Hb,Si],updating:[Yb,At],deleting:[Qb,At]})})),this.Transaction=(v=this,Ai(i_.prototype,function(_,I,C,O,E){var R=this;this.db=v,this.mode=_,this.storeNames=I,this.schema=C,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=ki(this,"complete","error","abort"),this.parent=E||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new G(function(M,P){R._resolve=M,R._reject=P}),this._completion.then(function(){R.active=!1,R.on.complete.fire()},function(M){var P=R.active;return R.active=!1,R.on.error.fire(M),R.parent?R.parent._reject(M):P&&R.idbtrans&&R.idbtrans.abort(),qt(M)})})),this.Version=(b=this,Ai(f_.prototype,function(_){this.db=b,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,Ai(xm.prototype,function(_,I,C){if(this.db=x,this._ctx={table:_,index:I===":id"?null:I,or:C},this._cmp=this._ascending=bt,this._descending=function(O,E){return bt(E,O)},this._max=function(O,E){return 0<bt(O,E)?O:E},this._min=function(O,E){return bt(O,E)<0?O:E},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new ot.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=Ti(c.IDBKeyRange),this._createTransaction=function(_,I,C,O){return new u.Transaction(_,I,C,u._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(_){u.on("blocked").fire(_),Eo.filter(function(I){return I.name===u.name&&I!==u&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(_)})},this.use(g_),this.use(__),this.use(v_),this.use(h_),this.use(p_);var D=new Proxy(this,{get:function(_,I,C){if(I==="_vip")return!0;if(I==="table")return function(E){return fs(u.table(E),D)};var O=Reflect.get(_,I,C);return O instanceof gm?fs(O,D):I==="tables"?O.map(function(E){return fs(E,D)}):I==="_createTransaction"?function(){return fs(O.apply(this,arguments),D)}:O}});this.vip=D,f.forEach(function(_){return _(u)})}var ms,Ye=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",x_=(Xl.prototype.subscribe=function(a,c,u){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:c,complete:u})},Xl.prototype[Ye]=function(){return this},Xl);function Xl(a){this._subscribe=a}try{ms={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch{ms={indexedDB:null,IDBKeyRange:null}}function $m(a){var c,u=!1,f=new x_(function(m){var g=rn(a),v,b=!1,x={},S={},D={get closed(){return b},unsubscribe:function(){b||(b=!0,v&&v.abort(),_&&un.storagemutated.unsubscribe(C))}};m.start&&m.start(D);var _=!1,I=function(){return Ol(O)},C=function(E){ls(x,E),Vl(S,x)&&I()},O=function(){var E,R,M;!b&&ms.indexedDB&&(x={},E={},v&&v.abort(),v=new AbortController,M=function(P){var T=Ro();try{g&&Do();var B=an(a,P);return B=g?B.finally(sn):B}finally{T&&Oo()}}(R={subscr:E,signal:v.signal,requery:I,querier:a,trans:null}),Promise.resolve(M).then(function(P){u=!0,c=P,b||R.signal.aborted||(x={},function(T){for(var B in T)if(h(T,B))return;return 1}(S=E)||_||(un(Pi,C),_=!0),Ol(function(){return!b&&m.next&&m.next(P)}))},function(P){u=!1,["DatabaseClosedError","AbortError"].includes(P?.name)||b||Ol(function(){b||m.error&&m.error(P)})}))};return setTimeout(I,0),D});return f.hasValue=function(){return u},f.getValue=function(){return c},f}var Gn=Br;function Zl(a){var c=dn;try{dn=!0,un.storagemutated.fire(a),Hl(a,!0)}finally{dn=c}}p(Gn,r(r({},za),{delete:function(a){return new Gn(a,{addons:[]}).delete()},exists:function(a){return new Gn(a,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return c=Gn.dependencies,u=c.indexedDB,c=c.IDBKeyRange,(jl(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(m){return m.name}).filter(function(m){return m!==Xa})}):Fl(u,c).toCollection().primaryKeys()).then(a)}catch{return qt(new ot.MissingAPI)}var c,u},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return et.trans?Hn(et.transless,a):a()},vip:Ul,async:function(a){return function(){try{var c=Kl(a.apply(this,arguments));return c&&typeof c.then=="function"?c:G.resolve(c)}catch(u){return qt(u)}}},spawn:function(a,c,u){try{var f=Kl(a.apply(u,c||[]));return f&&typeof f.then=="function"?f:G.resolve(f)}catch(m){return qt(m)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(a,c){return c=G.resolve(typeof a=="function"?Gn.ignoreTransaction(a):a).timeout(c||6e4),et.trans?et.trans.waitFor(c):c},Promise:G,debug:{get:function(){return gr},set:function(a){im(a)}},derive:A,extend:s,props:p,override:J,Events:ki,on:un,liveQuery:$m,extendObservabilitySet:ls,getByKeyPath:kt,setByKeyPath:st,delByKeyPath:function(a,c){typeof c=="string"?st(a,c,void 0):"length"in c&&[].map.call(c,function(u){st(a,u,void 0)})},shallowClone:Mt,deepClone:or,getObjectDiff:Ql,cmp:bt,asap:tt,minKey:-1/0,addons:[],connections:Eo,errnames:nn,dependencies:ms,cache:Yn,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,c,u){return a+c/Math.pow(10,2*u)})})),Gn.maxKey=Ti(Gn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(un(Pi,function(a){dn||(a=new CustomEvent(Ml,{detail:a}),dn=!0,dispatchEvent(a),dn=!1)}),addEventListener(Ml,function(a){a=a.detail,dn||Zl(a)}));var Io,dn=!1,Lm=function(){};return typeof BroadcastChannel<"u"&&((Lm=function(){(Io=new BroadcastChannel(Ml)).onmessage=function(a){return a.data&&Zl(a.data)}})(),typeof Io.unref=="function"&&Io.unref(),un(Pi,function(a){dn||Io.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Br.disableBfCache&&a.persisted){gr&&console.debug("Dexie: handling persisted pagehide"),Io?.close();for(var c=0,u=Eo;c<u.length;c++)u[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Br.disableBfCache&&a.persisted&&(gr&&console.debug("Dexie: handling persisted pageshow"),Lm(),Zl({all:new ge(-1/0,[[]])}))})),G.rejectionMapper=function(a,c){return!a||a instanceof ar||a instanceof TypeError||a instanceof SyntaxError||!a.name||!om[a.name]?a:(c=new om[a.name](c||a.message,a),"stack"in a&&w(c,"stack",{get:function(){return this.inner.stack}}),c)},im(gr),r(Br,Object.freeze({__proto__:null,Dexie:Br,liveQuery:$m,Entity:mm,cmp:bt,PropModSymbol:Lr,PropModification:Ii,replacePrefix:function(a,c){return new Ii({replacePrefix:[a,c]})},add:function(a){return new Ii({add:a})},remove:function(a){return new Ii({remove:a})},default:Br,RangeSet:ge,mergeRanges:Li,rangesOverlap:Om}),{default:Br}),Br})});var Ki=class{_attachedHost;attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},Hr=class extends Ki{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(r,e,n,o,i){super(),this.component=r,this.viewContainerRef=e,this.injector=n,this.projectableNodes=i}},Cr=class extends Ki{templateRef;viewContainerRef;context;injector;constructor(r,e,n,o){super(),this.templateRef=r,this.viewContainerRef=e,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}},gu=class extends Ki{element;constructor(r){super(),this.element=r instanceof Jt?r.nativeElement:r}},yn=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(r){if(r instanceof Hr)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof Cr)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof gu)return this._attachedPortal=r,this.attachDomPortal(r)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ds=class extends yn{outletElement;_appRef;_defaultInjector;_document;constructor(r,e,n,o,i){super(),this.outletElement=r,this._appRef=n,this._defaultInjector=o,this._document=i}attachComponentPortal(r){let e;if(r.viewContainerRef){let n=r.injector||r.viewContainerRef.injector,o=n.get(su,null,{optional:!0})||void 0;e=r.viewContainerRef.createComponent(r.component,{index:r.viewContainerRef.length,injector:n,ngModuleRef:o,projectableNodes:r.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=hh(r.component,{elementInjector:r.injector||this._defaultInjector||Xt.NULL,environmentInjector:this._appRef.injector,projectableNodes:r.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=r,e}attachTemplatePortal(r){let e=r.viewContainerRef,n=e.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(n);o!==-1&&e.remove(o)}),this._attachedPortal=r,n}attachDomPortal=r=>{let e=r.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=r,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}};var bO=(()=>{class t extends Cr{constructor(){let e=k(jr),n=k(gn);super(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[fe]})}return t})();var bn=(()=>{class t extends yn{_moduleRef=k(su,{optional:!0});_document=k(Se);_viewContainerRef=k(gn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new we;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(o,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(n,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fe]})}return t})();var Kr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({})}return t})();var $h=["mat-button",""],Lh=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Bh=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],R_='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',Fh="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}";var O_=["mat-icon-button",""],D_=["*"];var E_=new pt("MAT_BUTTON_CONFIG");var k_=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vu=(()=>{class t{_elementRef=k(Jt);_ngZone=k(Zt);_animationMode=k(hn,{optional:!0});_focusMonitor=k(Os);_rippleLoader=k(Ph);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){k(Wi).load(Ih);let e=k(E_,{optional:!0}),n=this._elementRef.nativeElement,o=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:i,mdcClasses:s}of k_)n.hasAttribute(i)&&o.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",me],disabled:[2,"disabled","disabled",me],ariaDisabled:[2,"aria-disabled","ariaDisabled",me],disabledInteractive:[2,"disabledInteractive","disabledInteractive",me]}})}return t})();var A_=(()=>{class t extends vu{_renderer=k(pn);_cleanupClick;tabIndex;ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._elementRef.nativeElement,"click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._cleanupClick?.()}_haltDisabledEvents=e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())};_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275dir=Ut({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:fh(e)]},features:[fe]})}return t})(),jh=(()=>{class t extends vu{static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275cmp=Ce({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Fe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),xs(o.color?"mat-"+o.color:""),Xe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[fe],attrs:$h,ngContentSelectors:Bh,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(zi(Lh),Ze(0,"span",0),zr(1),xr(2,"span",1),zr(3,1),cr(),zr(4,2),Ze(5,"span",2)(6,"span",3)),n&2&&Xe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})(),IO=(()=>{class t extends A_{static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275cmp=Ce({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Fe("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getAriaDisabled()),xs(o.color?"mat-"+o.color:""),Xe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[fe],attrs:$h,ngContentSelectors:Bh,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(zi(Lh),Ze(0,"span",0),zr(1),xr(2,"span",1),zr(3,1),cr(),zr(4,2),Ze(5,"span",2)(6,"span",3)),n&2&&Xe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[R_,Fh],encapsulation:2,changeDetection:0})}return t})();var MO=(()=>{class t extends vu{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Fe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),xs(o.color?"mat-"+o.color:""),Xe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[fe],attrs:O_,ngContentSelectors:D_,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(zi(),Ze(0,"span",0),zr(1),Ze(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Fh],encapsulation:2,changeDetection:0})}return t})();var Uh=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({imports:[Wr,Mh,Wr]})}return t})();var mt="primary",aa=Symbol("RouteTitle"),wu=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yo(t){return new wu(t)}function I_(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let o={};for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(s[0]===":")o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function M_(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!Rr(t[e],r[e]))return!1;return!0}function Rr(t,r){let e=t?Cu(t):void 0,n=r?Cu(r):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Xh(t[o],r[o]))return!1;return!0}function Cu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Xh(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((o,i)=>n[i]===o)}else return t===r}function Zh(t){return t.length>0?t[t.length-1]:null}function Cn(t){return Mo(t)?t:ch(t)?_e(Promise.resolve(t)):rt(t)}var P_={exact:tp,subset:ep},Jh={exact:T_,subset:N_,ignored:()=>!0};function zh(t,r,e){return P_[e.paths](t.root,r.root,e.matrixParams)&&Jh[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function T_(t,r){return Rr(t,r)}function tp(t,r,e){if(!lo(t.segments,r.segments)||!As(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!tp(t.children[n],r.children[n],e))return!1;return!0}function N_(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>Xh(t[e],r[e]))}function ep(t,r,e){return rp(t,r,r.segments,e)}function rp(t,r,e,n){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!lo(o,e)||r.hasChildren()||!As(o,e,n))}else if(t.segments.length===e.length){if(!lo(t.segments,e)||!As(t.segments,e,n))return!1;for(let o in r.children)if(!t.children[o]||!ep(t.children[o],r.children[o],n))return!1;return!0}else{let o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!lo(t.segments,o)||!As(t.segments,o,n)||!t.children[mt]?!1:rp(t.children[mt],r,i,n)}}function As(t,r,e){return r.every((n,o)=>Jh[e](t[o].parameters,n.parameters))}var Qr=class{root;queryParams;fragment;_queryParamMap;constructor(r=new Dt([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){return B_.serialize(this)}},Dt=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Is(this)}},co=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=Yo(this.parameters),this._parameterMap}toString(){return op(this)}};function $_(t,r){return lo(t,r)&&t.every((e,n)=>Rr(e.parameters,r[n].parameters))}function lo(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function L_(t,r){let e=[];return Object.entries(t.children).forEach(([n,o])=>{n===mt&&(e=e.concat(r(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==mt&&(e=e.concat(r(o,n)))}),e}var sa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>new Go,providedIn:"root"})}return t})(),Go=class{parse(r){let e=new Ru(r);return new Qr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${Qi(r.root,!0)}`,n=U_(r.queryParams),o=typeof r.fragment=="string"?`#${F_(r.fragment)}`:"";return`${e}${n}${o}`}},B_=new Go;function Is(t){return t.segments.map(r=>op(r)).join("/")}function Qi(t,r){if(!t.hasChildren())return Is(t);if(r){let e=t.children[mt]?Qi(t.children[mt],!1):"",n=[];return Object.entries(t.children).forEach(([o,i])=>{o!==mt&&n.push(`${o}:${Qi(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=L_(t,(n,o)=>o===mt?[Qi(t.children[mt],!1)]:[`${o}:${Qi(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[mt]!=null?`${Is(t)}/${e[0]}`:`${Is(t)}/(${e.join("//")})`}}function np(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Es(t){return np(t).replace(/%3B/gi,";")}function F_(t){return encodeURI(t)}function Su(t){return np(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ms(t){return decodeURIComponent(t)}function Vh(t){return Ms(t.replace(/\+/g,"%20"))}function op(t){return`${Su(t.path)}${j_(t.parameters)}`}function j_(t){return Object.entries(t).map(([r,e])=>`;${Su(r)}=${Su(e)}`).join("")}function U_(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(o=>`${Es(e)}=${Es(o)}`).join("&"):`${Es(e)}=${Es(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var z_=/^[^\/()?;#]+/;function yu(t){let r=t.match(z_);return r?r[0]:""}var V_=/^[^\/()?;=#]+/;function q_(t){let r=t.match(V_);return r?r[0]:""}var W_=/^[^=?&#]+/;function H_(t){let r=t.match(W_);return r?r[0]:""}var K_=/^[^&#]+/;function Q_(t){let r=t.match(K_);return r?r[0]:""}var Ru=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[mt]=new Dt(r,e)),n}parseSegment(){let r=yu(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new Oe(4009,!1);return this.capture(r),new co(Ms(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=q_(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=yu(this.remaining);o&&(n=o,this.capture(n))}r[Ms(e)]=Ms(n)}parseQueryParam(r){let e=H_(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=Q_(this.remaining);s&&(n=s,this.capture(n))}let o=Vh(e),i=Vh(n);if(r.hasOwnProperty(o)){let s=r[o];Array.isArray(s)||(s=[s],r[o]=s),s.push(i)}else r[o]=i}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=yu(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new Oe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):r&&(i=mt);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[mt]:new Dt([],s),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new Oe(4011,!1)}};function ip(t){return t.segments.length>0?new Dt([],{[mt]:t}):t}function ap(t){let r={};for(let[n,o]of Object.entries(t.children)){let i=ap(o);if(n===mt&&i.segments.length===0&&i.hasChildren())for(let[s,l]of Object.entries(i.children))r[s]=l;else(i.segments.length>0||i.hasChildren())&&(r[n]=i)}let e=new Dt(t.segments,r);return Y_(e)}function Y_(t){if(t.numberOfChildren===1&&t.children[mt]){let r=t.children[mt];return new Dt(t.segments.concat(r.segments),r.children)}return t}function uo(t){return t instanceof Qr}function G_(t,r,e=null,n=null){let o=sp(t);return cp(o,r,e,n)}function sp(t){let r;function e(i){let s={};for(let d of i.children){let h=e(d);s[d.outlet]=h}let l=new Dt(i.url,s);return i===t&&(r=l),l}let n=e(t.root),o=ip(n);return r??o}function cp(t,r,e,n){let o=t;for(;o.parent;)o=o.parent;if(r.length===0)return bu(o,o,o,e,n);let i=X_(r);if(i.toRoot())return bu(o,o,new Dt([],{}),e,n);let s=Z_(i,o,t),l=s.processChildren?Gi(s.segmentGroup,s.index,i.commands):up(s.segmentGroup,s.index,i.commands);return bu(o,s.segmentGroup,l,e,n)}function Ps(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ji(t){return typeof t=="object"&&t!=null&&t.outlets}function bu(t,r,e,n,o){let i={};n&&Object.entries(n).forEach(([d,h])=>{i[d]=Array.isArray(h)?h.map(p=>`${p}`):`${h}`});let s;t===r?s=e:s=lp(t,r,e);let l=ip(ap(s));return new Qr(l,i,o)}function lp(t,r,e){let n={};return Object.entries(t.children).forEach(([o,i])=>{i===r?n[o]=e:n[o]=lp(i,r,e)}),new Dt(t.segments,n)}var Ts=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&Ps(n[0]))throw new Oe(4003,!1);let o=n.find(Ji);if(o&&o!==Zh(n))throw new Oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function X_(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ts(!0,0,t);let r=0,e=!1,n=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let l={};return Object.entries(i.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?e=!0:l===".."?r++:l!=""&&o.push(l))}),o):[...o,i]},[]);return new Ts(e,r,n)}var Ho=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function Z_(t,r,e){if(t.isAbsolute)return new Ho(r,!0,0);if(!e)return new Ho(r,!1,NaN);if(e.parent===null)return new Ho(e,!0,0);let n=Ps(t.commands[0])?0:1,o=e.segments.length-1+n;return J_(e,o,t.numberOfDoubleDots)}function J_(t,r,e){let n=t,o=r,i=e;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Oe(4005,!1);o=n.segments.length}return new Ho(n,!1,o-i)}function tx(t){return Ji(t[0])?t[0].outlets:{[mt]:t}}function up(t,r,e){if(t??=new Dt([],{}),t.segments.length===0&&t.hasChildren())return Gi(t,r,e);let n=ex(t,r,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let i=new Dt(t.segments.slice(0,n.pathIndex),{});return i.children[mt]=new Dt(t.segments.slice(n.pathIndex),t.children),Gi(i,0,o)}else return n.match&&o.length===0?new Dt(t.segments,{}):n.match&&!t.hasChildren()?Ou(t,r,e):n.match?Gi(t,0,o):Ou(t,r,e)}function Gi(t,r,e){if(e.length===0)return new Dt(t.segments,{});{let n=tx(e),o={};if(Object.keys(n).some(i=>i!==mt)&&t.children[mt]&&t.numberOfChildren===1&&t.children[mt].segments.length===0){let i=Gi(t.children[mt],r,e);return new Dt(t.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=up(t.children[i],r,s))}),Object.entries(t.children).forEach(([i,s])=>{n[i]===void 0&&(o[i]=s)}),new Dt(t.segments,o)}}function ex(t,r,e){let n=0,o=r,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=e.length)return i;let s=t.segments[o],l=e[n];if(Ji(l))break;let d=`${l}`,h=n<e.length-1?e[n+1]:null;if(o>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!Wh(d,h,s))return i;n+=2}else{if(!Wh(d,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function Ou(t,r,e){let n=t.segments.slice(0,r),o=0;for(;o<e.length;){let i=e[o];if(Ji(i)){let d=rx(i.outlets);return new Dt(n,d)}if(o===0&&Ps(e[0])){let d=t.segments[r];n.push(new co(d.path,qh(e[0]))),o++;continue}let s=Ji(i)?i.outlets[mt]:`${i}`,l=o<e.length-1?e[o+1]:null;s&&l&&Ps(l)?(n.push(new co(s,qh(l))),o+=2):(n.push(new co(s,{})),o++)}return new Dt(n,{})}function rx(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Ou(new Dt([],{}),0,n))}),r}function qh(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function Wh(t,r,e){return t==e.path&&Rr(r,e.parameters)}var Xi="imperative",ae=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ae||{}),Je=class{id;url;constructor(r,e){this.id=r,this.url=e}},_n=class extends Je{type=ae.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",o=null){super(r,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Or=class extends Je{urlAfterRedirects;type=ae.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ue=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ue||{}),Ns=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ns||{}),dr=class extends Je{reason;code;type=ae.NavigationCancel;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends Je{reason;code;type=ae.NavigationSkipped;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}},ta=class extends Je{error;target;type=ae.NavigationError;constructor(r,e,n,o){super(r,e),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$s=class extends Je{urlAfterRedirects;state;type=ae.RoutesRecognized;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class extends Je{urlAfterRedirects;state;type=ae.GuardsCheckStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eu=class extends Je{urlAfterRedirects;state;shouldActivate;type=ae.GuardsCheckEnd;constructor(r,e,n,o,i){super(r,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ku=class extends Je{urlAfterRedirects;state;type=ae.ResolveStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Au=class extends Je{urlAfterRedirects;state;type=ae.ResolveEnd;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iu=class{route;type=ae.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mu=class{route;type=ae.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pu=class{snapshot;type=ae.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tu=class{snapshot;type=ae.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nu=class{snapshot;type=ae.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$u=class{snapshot;type=ae.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ls=class{routerEvent;position;anchor;type=ae.Scroll;constructor(r,e,n){this.routerEvent=r,this.position=e,this.anchor=n}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},ea=class{},Xo=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function nx(t,r){return t.providers&&!t._injector&&(t._injector=cu(t.providers,r,`Route: ${t.path}`)),t._injector??r}function ur(t){return t.outlet||mt}function ox(t,r){let e=t.filter(n=>ur(n)===r);return e.push(...t.filter(n=>ur(n)!==r)),e}function ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Lu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ca(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new la(this.rootInjector)}},la=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Lu(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(jt(eo))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bs=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=Bu(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=Bu(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=Fu(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return Fu(r,this._root).map(e=>e.value)}};function Bu(t,r){if(t===r.value)return r;for(let e of r.children){let n=Bu(t,e);if(n)return n}return null}function Fu(t,r){if(t===r.value)return[r];for(let e of r.children){let n=Fu(t,e);if(n.length)return n.unshift(r),n}return[]}var je=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function Wo(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var Fs=class extends Bs{snapshot;constructor(r,e){super(r),this.snapshot=e,Qu(this,r)}toString(){return this.snapshot.toString()}};function dp(t){let r=ix(t),e=new be([new co("",{})]),n=new be({}),o=new be({}),i=new be({}),s=new be(""),l=new Dr(e,n,i,s,o,mt,t,r.root);return l.snapshot=r.root,new Fs(new je(l,[]),r)}function ix(t){let r={},e={},n={},o="",i=new Ko([],r,n,o,e,mt,t,null,{});return new Us("",new je(i,[]))}var Dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,o,i,s,l,d){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(lt(h=>h[aa]))??rt(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(lt(r=>Yo(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(lt(r=>Yo(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function js(t,r,e="emptyOnly"){let n,{routeConfig:o}=t;return r!==null&&(e==="always"||o?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:j(j({},r.params),t.params),data:j(j({},r.data),t.data),resolve:j(j(j(j({},t.data),r.data),o?.data),t._resolvedData)}:n={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},o&&mp(o)&&(n.resolve[aa]=o.title),n}var Ko=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[aa]}constructor(r,e,n,o,i,s,l,d,h){this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Us=class extends Bs{url;constructor(r,e){super(e),this.url=r,Qu(this,e)}toString(){return fp(this._root)}};function Qu(t,r){r.value._routerState=t,r.children.forEach(e=>Qu(t,e))}function fp(t){let r=t.children.length>0?` { ${t.children.map(fp).join(", ")} } `:"";return`${t.value}${r}`}function _u(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Rr(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Rr(r.params,e.params)||t.paramsSubject.next(e.params),M_(r.url,e.url)||t.urlSubject.next(e.url),Rr(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ju(t,r){let e=Rr(t.params,r.params)&&$_(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||ju(t.parent,r.parent))}function mp(t){return typeof t.title=="string"||t.title===null}var ax=new pt(""),sx=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=mt;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=eh(void 0);parentContexts=k(la);location=k(gn);changeDetector=k(wr);inputBinder=k(Ws,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Oe(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Oe(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Uu(e,l,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mn]})}return t})(),Uu=class t{route;childContexts;parent;outletData;__ngOutletInjector(r){return new t(this.route,this.childContexts,r,this.outletData)}constructor(r,e,n,o){this.route=r,this.childContexts=e,this.parent=n,this.outletData=o}get(r,e){return r===Dr?this.route:r===la?this.childContexts:r===ax?this.outletData:this.parent.get(r,e)}},Ws=new pt(""),Hh=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,o=vs([n.queryParams,n.params,n.data]).pipe(Ge(([i,s,l],d)=>(l=j(j(j({},i),s),l),d===0?rt(l):Promise.resolve(l)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=ph(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,i[l])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac})}return t})();function cx(t,r,e){let n=ra(t,r._root,e?e._root:void 0);return new Fs(n,r)}function ra(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let o=lx(t,r,e);return new je(n,o)}else{if(t.shouldAttach(r.value)){let i=t.retrieve(r.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(l=>ra(t,l)),s}}let n=ux(r.value),o=r.children.map(i=>ra(t,i));return new je(n,o)}}function lx(t,r,e){return r.children.map(n=>{for(let o of e.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return ra(t,n,o);return ra(t,n)})}function ux(t){return new Dr(new be(t.url),new be(t.params),new be(t.queryParams),new be(t.fragment),new be(t.data),t.outlet,t.component,t)}var na=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},hp="ngNavigationCancelingError";function zs(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=uo(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=pp(!1,Ue.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function pp(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[hp]=!0,e.cancellationCode=r,e}function dx(t){return gp(t)&&uo(t.url)}function gp(t){return!!t&&t[hp]}var fx=(t,r,e,n)=>lt(o=>(new zu(r,o.targetRouterState,o.currentRouterState,e,n).activate(t),o)),zu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,o,i){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),_u(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let o=Wo(e);r.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(o===i)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(r,e,s.children)}else this.deactivateChildRoutes(r,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=Wo(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:l})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=Wo(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let o=Wo(e);r.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new $u(i.value.snapshot))}),r.children.length&&this.forwardEvent(new Tu(r.value.snapshot))}activateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(_u(o),o===i)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,s.children)}else this.activateChildRoutes(r,e,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),_u(l.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},Vs=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},Qo=class{component;route;constructor(r,e){this.component=r,this.route=e}};function mx(t,r,e){let n=t._root,o=r?r._root:null;return Yi(n,o,e,[n.value])}function hx(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function Jo(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!Km(t)?t:r.get(t):n}function Yi(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Wo(r);return t.children.forEach(s=>{px(s,i[s.value.outlet],e,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,l])=>Zi(l,e.getContext(s),o)),o}function px(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=r?r.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let d=gx(s,i,i.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new Vs(n)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Yi(t,r,l?l.children:null,n,o):Yi(t,r,e,n,o),d&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Qo(l.outlet.component,s))}else s&&Zi(r,l,o),o.canActivateChecks.push(new Vs(n)),i.component?Yi(t,null,l?l.children:null,n,o):Yi(t,null,e,n,o);return o}function gx(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!lo(t.url,r.url);case"pathParamsOrQueryParamsChange":return!lo(t.url,r.url)||!Rr(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ju(t,r)||!Rr(t.queryParams,r.queryParams);case"paramsChange":default:return!ju(t,r)}}function Zi(t,r,e){let n=Wo(t),o=t.value;Object.entries(n).forEach(([i,s])=>{o.component?r?Zi(s,r.children.getContext(i),e):Zi(s,null,e):Zi(s,r,e)}),o.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new Qo(r.outlet.component,o)):e.canDeactivateChecks.push(new Qo(null,o)):e.canDeactivateChecks.push(new Qo(null,o))}function ua(t){return typeof t=="function"}function vx(t){return typeof t=="boolean"}function yx(t){return t&&ua(t.canLoad)}function bx(t){return t&&ua(t.canActivate)}function _x(t){return t&&ua(t.canActivateChild)}function xx(t){return t&&ua(t.canDeactivate)}function wx(t){return t&&ua(t.canMatch)}function vp(t){return t instanceof jm||t?.name==="EmptyError"}var ks=Symbol("INITIAL_VALUE");function Zo(){return Ge(t=>vs(t.map(r=>r.pipe(Be(1),sr(ks)))).pipe(lt(r=>{for(let e of r)if(e!==!0){if(e===ks)return ks;if(e===!1||Cx(e))return e}return!0}),_t(r=>r!==ks),Be(1)))}function Cx(t){return uo(t)||t instanceof na}function Sx(t,r){return Ht(e=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?rt(gt(j({},e),{guardsResult:!0})):Rx(s,n,o,t).pipe(Ht(l=>l&&vx(l)?Ox(n,i,t,r):rt(l)),lt(l=>gt(j({},e),{guardsResult:l})))})}function Rx(t,r,e,n){return _e(t).pipe(Ht(o=>Ix(o.component,o.route,e,r,n)),fn(o=>o!==!0,!0))}function Ox(t,r,e,n){return _e(r).pipe(No(o=>zm(Ex(o.route.parent,n),Dx(o.route,n),Ax(t,o.path,e),kx(t,o.route,e))),fn(o=>o!==!0,!0))}function Dx(t,r){return t!==null&&r&&r(new Nu(t)),rt(!0)}function Ex(t,r){return t!==null&&r&&r(new Pu(t)),rt(!0)}function kx(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return rt(!0);let o=n.map(i=>Jn(()=>{let s=ca(r)??e,l=Jo(i,s),d=bx(l)?l.canActivate(r,t):_r(s,()=>l(r,t));return Cn(d).pipe(fn())}));return rt(o).pipe(Zo())}function Ax(t,r,e){let n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(s=>hx(s)).filter(s=>s!==null).map(s=>Jn(()=>{let l=s.guards.map(d=>{let h=ca(s.node)??e,p=Jo(d,h),y=_x(p)?p.canActivateChild(n,t):_r(h,()=>p(n,t));return Cn(y).pipe(fn())});return rt(l).pipe(Zo())}));return rt(i).pipe(Zo())}function Ix(t,r,e,n,o){let i=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!i||i.length===0)return rt(!0);let s=i.map(l=>{let d=ca(r)??o,h=Jo(l,d),p=xx(h)?h.canDeactivate(t,r,e,n):_r(d,()=>h(t,r,e,n));return Cn(p).pipe(fn())});return rt(s).pipe(Zo())}function Mx(t,r,e,n){let o=r.canLoad;if(o===void 0||o.length===0)return rt(!0);let i=o.map(s=>{let l=Jo(s,t),d=yx(l)?l.canLoad(r,e):_r(t,()=>l(r,e));return Cn(d)});return rt(i).pipe(Zo(),yp(n))}function yp(t){return Bm(xe(r=>{if(typeof r!="boolean")throw zs(t,r)}),lt(r=>r===!0))}function Px(t,r,e,n){let o=r.canMatch;if(!o||o.length===0)return rt(!0);let i=o.map(s=>{let l=Jo(s,t),d=wx(l)?l.canMatch(r,e):_r(t,()=>l(r,e));return Cn(d)});return rt(i).pipe(Zo(),yp(n))}var oa=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},ia=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function qo(t){return Fi(new oa(t))}function Tx(t){return Fi(new Oe(4e3,!1))}function Nx(t){return Fi(pp(!1,Ue.GuardRejected))}var Vu=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return rt(n);if(o.numberOfChildren>1||!o.children[mt])return Tx(`${r.redirectTo}`);o=o.children[mt]}}applyRedirectCommands(r,e,n,o,i){if(typeof e!="string"){let l=e,{queryParams:d,fragment:h,routeConfig:p,url:y,outlet:w,params:A,data:N,title:F}=o,Q=_r(i,()=>l({params:A,data:N,queryParams:d,fragment:h,routeConfig:p,url:y,outlet:w,title:F}));if(Q instanceof Qr)throw new ia(Q);e=Q}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new ia(s);return s}applyRedirectCreateUrlTree(r,e,n,o){let i=this.createSegmentGroup(r,e.root,n,o);return new Qr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let l=i.substring(1);n[o]=e[l]}else n[o]=i}),n}createSegmentGroup(r,e,n,o){let i=this.createSegments(r,e.segments,n,o),s={};return Object.entries(e.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(r,d,n,o)}),new Dt(i,s)}createSegments(r,e,n,o){return e.map(i=>i.path[0]===":"?this.findPosParam(r,i,o):this.findOrReturn(i,n))}findPosParam(r,e,n){let o=n[e.path.substring(1)];if(!o)throw new Oe(4001,!1);return o}findOrReturn(r,e){let n=0;for(let o of e){if(o.path===r.path)return e.splice(n),o;n++}return r}},qu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $x(t,r,e,n,o){let i=bp(t,r,e);return i.matched?(n=nx(r,n),Px(n,r,e,o).pipe(lt(s=>s===!0?i:j({},qu)))):rt(i)}function bp(t,r,e){if(r.path==="**")return Lx(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?j({},qu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(r.matcher||I_)(e,t,r);if(!o)return j({},qu);let i={};Object.entries(o.posParams??{}).forEach(([l,d])=>{i[l]=d.path});let s=o.consumed.length>0?j(j({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Lx(t){return{matched:!0,parameters:t.length>0?Zh(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Kh(t,r,e,n){return e.length>0&&jx(t,e,n)?{segmentGroup:new Dt(r,Fx(n,new Dt(e,t.children))),slicedSegments:[]}:e.length===0&&Ux(t,e,n)?{segmentGroup:new Dt(t.segments,Bx(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new Dt(t.segments,t.children),slicedSegments:e}}function Bx(t,r,e,n){let o={};for(let i of e)if(Hs(t,r,i)&&!n[ur(i)]){let s=new Dt([],{});o[ur(i)]=s}return j(j({},n),o)}function Fx(t,r){let e={};e[mt]=r;for(let n of t)if(n.path===""&&ur(n)!==mt){let o=new Dt([],{});e[ur(n)]=o}return e}function jx(t,r,e){return e.some(n=>Hs(t,r,n)&&ur(n)!==mt)}function Ux(t,r,e){return e.some(n=>Hs(t,r,n))}function Hs(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function zx(t,r,e){return r.length===0&&!t.children[e]}var Wu=class{};function Vx(t,r,e,n,o,i,s="emptyOnly"){return new Hu(t,r,e,n,o,s,i).recognize()}var qx=31,Hu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,o,i,s,l){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Vu(this.urlSerializer,this.urlTree)}noMatchError(r){return new Oe(4002,`'${r.segmentGroup}'`)}recognize(){let r=Kh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(lt(({children:e,rootSnapshot:n})=>{let o=new je(n,e),i=new Us("",o),s=G_(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(r){let e=new Ko([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),mt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,mt,e).pipe(lt(n=>({children:n,rootSnapshot:e})),To(n=>{if(n instanceof ia)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof oa?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,o,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,i):this.processSegment(r,e,n,n.segments,o,!0,i).pipe(lt(s=>s instanceof je?[s]:[]))}processChildren(r,e,n,o){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return _e(i).pipe(No(s=>{let l=n.children[s],d=ox(e,s);return this.processSegmentGroup(r,d,l,s,o)}),Wm((s,l)=>(s.push(...l),s)),ru(null),Vm(),Ht(s=>{if(s===null)return qo(n);let l=_p(s);return Wx(l),rt(l)}))}processSegment(r,e,n,o,i,s,l){return _e(e).pipe(No(d=>this.processSegmentAgainstRoute(d._injector??r,e,d,n,o,i,s,l).pipe(To(h=>{if(h instanceof oa)return rt(null);throw h}))),fn(d=>!!d),To(d=>{if(vp(d))return zx(n,o,i)?rt(new Wu):qo(n);throw d}))}processSegmentAgainstRoute(r,e,n,o,i,s,l,d){return ur(n)!==s&&(s===mt||!Hs(o,i,n))?qo(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,o,n,i,s,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(r,o,e,n,i,s,d):qo(o)}expandSegmentAgainstRouteUsingRedirect(r,e,n,o,i,s,l){let{matched:d,parameters:h,consumedSegments:p,positionalParamSegments:y,remainingSegments:w}=bp(e,o,i);if(!d)return qo(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qx&&(this.allowRedirects=!1));let A=new Ko(i,h,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Qh(o),ur(o),o.component??o._loadedComponent??null,o,Yh(o)),N=js(A,l,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let F=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,y,A,r);return this.applyRedirects.lineralizeSegments(o,F).pipe(Ht(Q=>this.processSegment(r,n,e,Q.concat(w),s,!1,l)))}matchSegmentAgainstRoute(r,e,n,o,i,s){let l=$x(e,n,o,r,this.urlSerializer);return n.path==="**"&&(e.children={}),l.pipe(Ge(d=>d.matched?(r=n._injector??r,this.getChildConfig(r,n,o).pipe(Ge(({routes:h})=>{let p=n._loadedInjector??r,{parameters:y,consumedSegments:w,remainingSegments:A}=d,N=new Ko(w,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Qh(n),ur(n),n.component??n._loadedComponent??null,n,Yh(n)),F=js(N,s,this.paramsInheritanceStrategy);N.params=Object.freeze(F.params),N.data=Object.freeze(F.data);let{segmentGroup:Q,slicedSegments:J}=Kh(e,w,A,h);if(J.length===0&&Q.hasChildren())return this.processChildren(p,h,Q,N).pipe(lt(tt=>new je(N,tt)));if(h.length===0&&J.length===0)return rt(new je(N,[]));let nt=ur(n)===i;return this.processSegment(p,h,Q,J,nt?mt:i,!0,N).pipe(lt(tt=>new je(N,tt instanceof je?[tt]:[])))}))):qo(e)))}getChildConfig(r,e,n){return e.children?rt({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?rt({routes:e._loadedRoutes,injector:e._loadedInjector}):Mx(r,e,n,this.urlSerializer).pipe(Ht(o=>o?this.configLoader.loadChildren(r,e).pipe(xe(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):Nx(e))):rt({routes:[],injector:r})}};function Wx(t){t.sort((r,e)=>r.value.outlet===mt?-1:e.value.outlet===mt?1:r.value.outlet.localeCompare(e.value.outlet))}function Hx(t){let r=t.value.routeConfig;return r&&r.path===""}function _p(t){let r=[],e=new Set;for(let n of t){if(!Hx(n)){r.push(n);continue}let o=r.find(i=>n.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...n.children),e.add(o)):r.push(n)}for(let n of e){let o=_p(n.children);r.push(new je(n.value,o))}return r.filter(n=>!e.has(n))}function Qh(t){return t.data||{}}function Yh(t){return t.resolve||{}}function Kx(t,r,e,n,o,i){return Ht(s=>Vx(t,r,e,n,s.extractedUrl,o,i).pipe(lt(({state:l,tree:d})=>gt(j({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function Qx(t,r){return Ht(e=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return rt(e);let i=new Set(o.map(d=>d.route)),s=new Set;for(let d of i)if(!s.has(d))for(let h of xp(d))s.add(h);let l=0;return _e(s).pipe(No(d=>i.has(d)?Yx(d,n,t,r):(d.data=js(d,d.parent,t).resolve,rt(void 0))),xe(()=>l++),nu(1),Ht(d=>l===s.size?rt(e):Fr))})}function xp(t){let r=t.children.map(e=>xp(e)).flat();return[t,...r]}function Yx(t,r,e,n){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!mp(o)&&(i[aa]=o.title),Gx(i,t,r,n).pipe(lt(s=>(t._resolvedData=s,t.data=js(t,t.parent,e).resolve,null)))}function Gx(t,r,e,n){let o=Cu(t);if(o.length===0)return rt({});let i={};return _e(o).pipe(Ht(s=>Xx(t[s],r,e,n).pipe(fn(),xe(l=>{if(l instanceof na)throw zs(new Go,l);i[s]=l}))),nu(1),lt(()=>i),To(s=>vp(s)?Fr:Fi(s)))}function Xx(t,r,e,n){let o=ca(r)??n,i=Jo(t,o),s=i.resolve?i.resolve(r,e):_r(o,()=>i(r,e));return Cn(s)}function xu(t){return Ge(r=>{let e=t(r);return e?_e(e).pipe(lt(()=>r)):rt(r)})}var wp=(()=>{class t{buildTitle(e){let n,o=e.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(i=>i.outlet===mt);return n}getResolvedTitleForRoute(e){return e.data[aa]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>k(Zx),providedIn:"root"})}return t})(),Zx=(()=>{class t extends wp{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(jt(Ch))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),da=new pt("",{providedIn:"root",factory:()=>({})}),Yu=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,o){n&1&&Ze(0,"router-outlet")},dependencies:[sx],encapsulation:2})}return t})();function Gu(t){let r=t.children&&t.children.map(Gu),e=r?gt(j({},t),{children:r}):j({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==mt&&(e.component=Yu),e}var wn=new pt(""),Xu=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(jo);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return rt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Cn(e.loadComponent()).pipe(lt(Cp),xe(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Lo(()=>{this.componentLoaders.delete(e)})),o=new Zn(n,()=>new at).pipe(Bi());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return rt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=Jx(n,this.compiler,e,this.onLoadEndListener).pipe(Lo(()=>{this.childrenLoaders.delete(n)})),s=new Zn(i,()=>new at).pipe(Bi());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jx(t,r,e,n){return Cn(t.loadChildren()).pipe(lt(Cp),Ht(o=>o instanceof bs||Array.isArray(o)?rt(o):_e(r.compileModuleAsync(o))),lt(o=>{n&&n(t);let i,s,l=!1;return Array.isArray(o)?(s=o,l=!0):(i=o.create(e).injector,s=i.get(wn,[],{optional:!0,self:!0}).flat()),{routes:s.map(Gu),injector:i}}))}function tw(t){return t&&typeof t=="object"&&"default"in t}function Cp(t){return tw(t)?t.default:t}var Zu=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>k(ew),providedIn:"root"})}return t})(),ew=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sp=new pt(""),Rp=new pt("");function rw(t,r,e){let n=t.get(Rp),o=t.get(Se);return t.get(Zt).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(h=>setTimeout(h));let i,s=new Promise(h=>{i=h}),l=o.startViewTransition(()=>(i(),nw(t))),{onViewTransitionCreated:d}=n;return d&&_r(t,()=>d({transition:l,from:r,to:e})),s})}function nw(t){return new Promise(r=>{ro({read:()=>setTimeout(r)},{injector:t})})}var Op=new pt(""),Ju=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new at;transitionAbortSubject=new at;configLoader=k(Xu);environmentInjector=k(eo);destroyRef=k(Jm);urlSerializer=k(sa);rootContexts=k(la);location=k(Vr);inputBindingEnabled=k(Ws,{optional:!0})!==null;titleStrategy=k(wp);options=k(da,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(Zu);createViewTransition=k(Sp,{optional:!0});navigationErrorHandler=k(Op,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>rt(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Iu(o)),n=o=>this.events.next(new Mu(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(gt(j(j({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,o){return this.transitions=new be({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xi,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_t(i=>i.id!==0),lt(i=>gt(j({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ge(i=>{let s=!1,l=!1;return rt(i).pipe(Ge(d=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ue.SupersededByNewNavigation),Fr;this.currentTransition=i,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?gt(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!h&&p!=="reload"){let y="";return this.events.next(new xn(d.id,this.urlSerializer.serialize(d.rawUrl),y,Ns.IgnoredSameUrlNavigation)),d.resolve(!1),Fr}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return rt(d).pipe(Ge(y=>{let w=this.transitions?.getValue();return this.events.next(new _n(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?Fr:Promise.resolve(y)}),Kx(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(y=>{i.targetSnapshot=y.targetSnapshot,i.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=gt(j({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new $s(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:w,source:A,restoredState:N,extras:F}=d,Q=new _n(y,this.urlSerializer.serialize(w),A,N);this.events.next(Q);let J=dp(this.rootComponentType).snapshot;return this.currentTransition=i=gt(j({},d),{targetSnapshot:J,urlAfterRedirects:w,extras:gt(j({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,rt(i)}else{let y="";return this.events.next(new xn(d.id,this.urlSerializer.serialize(d.extractedUrl),y,Ns.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Fr}}),xe(d=>{let h=new Du(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),lt(d=>(this.currentTransition=i=gt(j({},d),{guards:mx(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),i)),Sx(this.environmentInjector,d=>this.events.next(d)),xe(d=>{if(i.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw zs(this.urlSerializer,d.guardsResult);let h=new Eu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),_t(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Ue.GuardRejected),!1)),xu(d=>{if(d.guards.canActivateChecks.length)return rt(d).pipe(xe(h=>{let p=new ku(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ge(h=>{let p=!1;return rt(h).pipe(Qx(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ue.NoDataFromResolver)}}))}),xe(h=>{let p=new Au(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),xu(d=>{let h=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(xe(w=>{p.component=w}),lt(()=>{})));for(let w of p.children)y.push(...h(w));return y};return vs(h(d.targetSnapshot.root)).pipe(ru(null),Be(1))}),xu(()=>this.afterPreactivation()),Ge(()=>{let{currentSnapshot:d,targetSnapshot:h}=i,p=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return p?_e(p).pipe(lt(()=>i)):rt(i)}),lt(d=>{let h=cx(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=i=gt(j({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,i}),xe(()=>{this.events.next(new ea)}),fx(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Be(1),xe({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Or(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),to(this.transitionAbortSubject.pipe(xe(d=>{throw d}))),Lo(()=>{!s&&!l&&this.cancelNavigationTransition(i,"",Ue.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),To(d=>{if(this.destroyed)return i.resolve(!1),Fr;if(l=!0,gp(d))this.events.next(new dr(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode)),dx(d)?this.events.next(new Xo(d.url,d.navigationBehaviorOptions)):i.resolve(!1);else{let h=new ta(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);try{let p=_r(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof na){let{message:y,cancellationCode:w}=zs(this.urlSerializer,p);this.events.next(new dr(i.id,this.urlSerializer.serialize(i.extractedUrl),y,w)),this.events.next(new Xo(p.redirectTo,p.navigationBehaviorOptions))}else throw this.events.next(h),d}catch(p){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(p)}}return Fr}))}))}cancelNavigationTransition(e,n,o){let i=new dr(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ow(t){return t!==Xi}var td=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>k(iw),providedIn:"root"})}return t})(),Ku=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},iw=(()=>{class t extends Ku{static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:()=>k(aw),providedIn:"root"})}return t})(),aw=(()=>{class t extends Dp{location=k(Vr);urlSerializer=k(sa);options=k(da,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=k(Zu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=dp(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof _n)this.stateMemento=this.createStateMemento();else if(e instanceof xn)this.rawUrlTree=n.initialUrl;else if(e instanceof $s){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??o,n)}}else e instanceof ea?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof dr&&(e.code===Ue.GuardRejected||e.code===Ue.NoDataFromResolver)?this.restoreHistory(n):e instanceof ta?this.restoreHistory(n,!0):e instanceof Or&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let o=e instanceof Qr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let i=this.browserPageId,s=j(j({},n.extras.state),this.generateNgRouterState(n.id,i));this.location.replaceState(o,"",s)}else{let i=j(j({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===e.finalUrl&&i===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ep(t,r){t.events.pipe(_t(e=>e instanceof Or||e instanceof dr||e instanceof ta||e instanceof xn),lt(e=>e instanceof Or||e instanceof xn?0:(e instanceof dr?e.code===Ue.Redirect||e.code===Ue.SupersededByNewNavigation:!1)?2:1),_t(e=>e!==2),Be(1)).subscribe(()=>{r()})}var sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ze=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(sh);stateManager=k(Dp);options=k(da,{optional:!0})||{};pendingTasks=k(th);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(Ju);urlSerializer=k(sa);location=k(Vr);urlHandlingStrategy=k(Zu);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(td);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(wn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Ws,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new br;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(n,i),n instanceof dr&&n.code!==Ue.Redirect&&n.code!==Ue.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Or)this.navigated=!0;else if(n instanceof Xo){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),d=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ow(o.source)},s);this.scheduleNavigation(l,Xi,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}uw(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let d=j({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(i.state=d)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Gu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:d}=n,h=d?this.currentUrlTree.fragment:s,p=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":p=j(j({},this.currentUrlTree.queryParams),i);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=i||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let w=o?o.snapshot:this.routerState.snapshot.root;y=sp(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return cp(y,e,p,h??null)}navigateByUrl(e,n={skipLocationChange:!1}){let o=uo(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Xi,null,n)}navigate(e,n={skipLocationChange:!1}){return lw(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(n===!0?o=j({},sw):n===!1?o=j({},cw):o=n,uo(e))return zh(this.currentUrlTree,e,o);let i=this.parseUrl(e);return zh(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,i])=>(i!=null&&(n[o]=i),n),{})}scheduleNavigation(e,n,o,i,s){if(this.disposed)return Promise.resolve(!1);let l,d,h;s?(l=s.resolve,d=s.reject,h=s.promise):h=new Promise((y,w)=>{l=y,d=w});let p=this.pendingTasks.add();return Ep(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lw(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new Oe(4008,!1)}function uw(t){return!(t instanceof ea)&&!(t instanceof Xo)}var oD=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new at;constructor(e,n,o,i,s,l){this.router=e,this.route=n,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=l;let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=e.events.subscribe(h=>{h instanceof Or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(uo(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,o,i,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||n||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:nh(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let o=this.renderer,i=this.el.nativeElement;n!==null?o.setAttribute(i,e,n):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:uo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(Ur(ze),Ur(Dr),Zm("tabindex"),Ur(pn),Ur(Jt),Ur(Vi))};static \u0275dir=Ut({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){n&1&&io("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Fe("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",me],skipLocationChange:[2,"skipLocationChange","skipLocationChange",me],replaceUrl:[2,"replaceUrl","replaceUrl",me],routerLink:"routerLink"},features:[mn]})}return t})();var qs=class{};var dw=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_t(e=>e instanceof Or),No(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let o=[];for(let i of n){i.providers&&!i._injector&&(i._injector=cu(i.providers,e,`Route: ${i.path}`));let s=i._injector??e,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return _e(o).pipe(tu())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(e,n):o=rt(null);let i=o.pipe(Ht(s=>s===null?rt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return _e([i,s]).pipe(tu())}else return i})}static \u0275fac=function(n){return new(n||t)(jt(ze),jt(jo),jt(eo),jt(qs),jt(Xu))};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kp=new pt(""),fw=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,o,i,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Or?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof xn&&e.code===Ns.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ls&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ls(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){oh()};static \u0275prov=ct({token:t,factory:t.\u0275fac})}return t})();function iD(t,...r){return Ym([{provide:wn,multi:!0,useValue:t},[],{provide:Dr,useFactory:Ap,deps:[ze]},{provide:lu,multi:!0,useFactory:Ip},r.map(e=>e.\u0275providers)])}function Ap(t){return t.routerState.root}function fa(t,r){return{\u0275kind:t,\u0275providers:r}}function Ip(){let t=k(Xt);return r=>{let e=t.get(_s);if(r!==e.components[0])return;let n=t.get(ze),o=t.get(Mp);t.get(ed)===1&&n.initialNavigation(),t.get(Pp,null,iu.Optional)?.setUpPreloading(),t.get(kp,null,iu.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Mp=new pt("",{factory:()=>new at}),ed=new pt("",{providedIn:"root",factory:()=>1});function mw(){return fa(2,[{provide:ed,useValue:0},{provide:Ui,multi:!0,deps:[Xt],useFactory:r=>{let e=r.get(gh,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let o=r.get(ze),i=r.get(Mp);Ep(o,()=>{n(!0)}),r.get(Ju).afterPreactivation=()=>(n(!0),i.closed?rt(void 0):i),o.initialNavigation()}))}}])}function hw(){return fa(3,[{provide:Ui,multi:!0,useFactory:()=>{let r=k(ze);return()=>{r.setUpLocationChangeListener()}}},{provide:ed,useValue:2}])}var Pp=new pt("");function pw(t){return fa(0,[{provide:Pp,useExisting:dw},{provide:qs,useExisting:t}])}function gw(){return fa(8,[Hh,{provide:Ws,useExisting:Hh}])}function vw(t){let r=[{provide:Sp,useValue:rw},{provide:Rp,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return fa(9,r)}var yw=[Vr,{provide:sa,useClass:Go},ze,la,{provide:Dr,useFactory:Ap,deps:[ze]},Xu,[]],Tp=(()=>{class t{constructor(){}static forRoot(e,n){return{ngModule:t,providers:[yw,[],{provide:wn,multi:!0,useValue:e},[],n?.errorHandler?{provide:Op,useValue:n.errorHandler}:[],{provide:da,useValue:n||{}},n?.useHash?_w():xw(),bw(),n?.preloadingStrategy?pw(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?ww(n):[],n?.bindToComponentInputs?gw().\u0275providers:[],n?.enableViewTransitions?vw().\u0275providers:[],Cw()]}}static forChild(e){return{ngModule:t,providers:[{provide:wn,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({})}return t})();function bw(){return{provide:kp,useFactory:()=>{let t=k(xh),r=k(Zt),e=k(da),n=k(Ju),o=k(sa);return e.scrollOffset&&t.setOffset(e.scrollOffset),new fw(o,n,t,r,e)}}}function _w(){return{provide:Vi,useClass:yh}}function xw(){return{provide:Vi,useClass:vh}}function ww(t){return[t.initialNavigation==="disabled"?hw().\u0275providers:[],t.initialNavigation==="enabledBlocking"?mw().\u0275providers:[]]}var Gh=new pt("");function Cw(){return[{provide:Gh,useFactory:Ip},{provide:lu,multi:!0,useExisting:Gh}]}var Sw=new pt("LOCALIZE_ROUTER_FORROOT_GUARD"),rd=new pt("RAW_ROUTES"),Sn=function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Cookie="Cookie",t}(Sn||{}),$p=new pt("USE_CACHED_LANG"),Lp=new pt("CACHE_MECHANISM"),Bp=new pt("CACHE_NAME"),Fp=new pt("COOKIE_FORMAT"),jp=new pt("INITIAL_NAVIGATION"),Up=new pt("DEFAULT_LANG_FUNCTION"),zp=new pt("ALWAYS_SET_PREFIX"),Rw="LOCALIZE_DEFAULT_LANGUAGE",Ow="{{value}};{{expires}}",Dw=!1,Qs=(()=>{class t{constructor(e=!0,n=!0,o=Sn.LocalStorage,i=Rw,s=void 0,l=Ow,d=Dw){this.useCachedLang=e,this.alwaysSetPrefix=n,this.cacheName=i,this.cookieFormat=l,this.initialNavigation=d,this.cacheMechanism=o,this.defaultLangFunction=s}static{this.\u0275fac=function(n){return new(n||t)(jt($p),jt(zp),jt(Lp),jt(Bp),jt(Up),jt(Fp),jt(jp))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),Ew=30,ma=(()=>{class t{constructor(e,n,o){this.translate=e,this.location=n,this.settings=o}init(e){let n;if(this.routes=e,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),i=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,i):this.defaultLang=this._cachedLang||i||this.locales[0],n=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let s=[];if(this.settings.alwaysSetPrefix){let l={path:"",redirectTo:this.defaultLang,pathMatch:"full"},d=e.findIndex(h=>h.path==="**");d!==-1&&(this._wildcardRoute=e.splice(d,1)[0]),s=this.routes.splice(0,this.routes.length,l)}else s=[...this.routes];for(let l=s.length-1;l>=0;l--)s[l].data&&s[l].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(s[l]),(s[l].redirectTo===void 0||!s[l].data.skipRouteLocalization.localizeRedirectTo||typeof s[l].redirectTo=="function")&&s.splice(l,1));return s&&s.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:s},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),Um(this.translateRoutes(n))}initChildRoutes(e){return this._translateRouteTree(e),e}translateRoutes(e){return new gs(n=>{this._cachedLang=e,this._languageRoute&&(this._languageRoute.path=e),this.translate.use(e).subscribe(o=>{this._translationObject=o,this.currentLang=e,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(e,n){e.forEach(o=>{let i=o.data&&o.data.skipRouteLocalization,s=!i||i.localizeRedirectTo;if(o.redirectTo&&s&&typeof o.redirectTo!="function"){let l=o.redirectTo.indexOf("/")===0||n;this._translateProperty(o,"redirectTo",l)}i||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(e,n,o){let i=e.data=e.data||{};i.localizeRouter||(i.localizeRouter={}),i.localizeRouter[n]||(i.localizeRouter=gt(j({},i.localizeRouter),{[n]:e[n]}));let s=this.translateRoute(i.localizeRouter[n]);e[n]=o?this.addPrefixToUrl(s):s}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(e){let n=e.split("?"),o=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let i=n.join("?");return this.urlPrefix===""?i:!i.startsWith("/")&&!o?`${this.urlPrefix}/${i}`:`/${this.urlPrefix}${i}`}translateRoute(e){let n=e.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(i=>i.length?this.translateText(i):i).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(e){let n=(e||this.location.path()).split(/[\?;]/),o=[];return n.length>0&&(o=n[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Sn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Sn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Sn.Cookie)return this._cacheWithCookies()}}set _cachedLang(e){this.settings.useCachedLang&&(this.settings.cacheMechanism===Sn.LocalStorage&&this._cacheWithLocalStorage(e),this.settings.cacheMechanism===Sn.SessionStorage&&this._cacheWithSessionStorage(e),this.settings.cacheMechanism===Sn.Cookie&&this._cacheWithCookies(e))}_cacheWithLocalStorage(e){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(e){window.localStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(e){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(e){window.sessionStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(e){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(e){let s=`${this.settings.cookieFormat}`;s=s.replace("{{value}}",`${n}=${encodeURIComponent(e)}`).replace(/{{expires:?(\d+)?}}/g,(l,d)=>{let h=d===void 0?Ew:parseInt(d,10),p=new Date;return p.setTime(p.getTime()+h*864e5),`expires=${p.toUTCString()}`}),document.cookie=s;return}let i=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(i[1])}catch{return}}_returnIfInLocales(e){return e&&this.locales.indexOf(e)!==-1?e:null}translateText(e){if(this.escapePrefix&&e.startsWith(this.escapePrefix))return e.replace(this.escapePrefix,"");{if(!this._translationObject)return e;let n=this.prefix+e,o=this.translate.getParsedResult(this._translationObject,n);return o!==n?o:e}}chooseQueryParams(e,n){let o;return e&&e.queryParams?o=e.queryParams:n&&(o=n),o}formatQueryParams(e){return new wh({fromObject:e}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(n){return new(n||t)(jt(Th),jt(Vr),jt(Qs))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();var kw=(()=>{class t extends ma{load(e){return new Promise(n=>{this.init(e).then(n)})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})()}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();function Ks(t,r){if(t===r)return!0;if(t===null||r===null)return!1;if(t!==t&&r!==r)return!0;let e=typeof t,n=typeof r,o,i,s;if(e===n&&e==="object")if(Array.isArray(t)){if(!Array.isArray(r))return!1;if((o=t.length)===r.length){for(i=0;i<o;i++)if(!Ks(t[i],r[i]))return!1;return!0}}else{if(Array.isArray(r))return!1;s=Object.create(null);for(i in t)if(t.hasOwnProperty(i)){if(!Ks(t[i],r[i]))return!1;s[i]=!0}for(i in r)if(r.hasOwnProperty(i)&&!(i in s)&&typeof r[i]<"u")return!1;return!0}return!1}function Aw(t){return!!t&&typeof t.then=="function"}function od(t){let r=Array.isArray(t)?[]:{};for(let e in t)if(e){let n=t[e];r[e]=typeof n=="object"?od(n):n}return r}var id=(()=>{class t{constructor(e,n,o,i){this.parser=e,this.settings=n,this.router=o,this.route=i,this.routerEvents=new at;let s=new Fm(1);this.hooks={_initializedSubject:s,initialized:s.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(_t(e=>e instanceof _n),ou()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(e,n,o){if(e!==this.parser.currentLang){let i=this.router.routerState.snapshot.root;this.parser.translateRoutes(e).subscribe(()=>{let s=this.traverseRouteSnapshot(i);if(s=this.translateRoute(s),!this.settings.alwaysSetPrefix){let h=s.split("/"),p=h.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(p===0||p===1&&h[0]==="")&&(h=h.slice(0,p).concat(h.slice(p+1)));else if(p===-1){let y=h[0]===""?1:0;h=h.slice(0,y).concat(this.parser.currentLang,h.slice(y))}s=h.join("/")}s=s.replace(/\/+/g,"/");let l=s.lastIndexOf("/");l>0&&l===s.length-1&&(s=s.slice(0,-1));let d=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,o){let h=n?j({},n):{};d&&(h.queryParams=d),this.router.navigate([s],h)}else{let h=this.parser.formatQueryParams(d);h=h?`?${h}`:"",this.router.navigateByUrl(`${s}${h}`,n)}})}}traverseRouteSnapshot(e){return e.firstChild&&e.routeConfig?`${this.parseSegmentValue(e)}/${this.traverseRouteSnapshot(e.firstChild)}`:e.firstChild?this.traverseRouteSnapshot(e.firstChild):this.parseSegmentValue(e)}buildUrlFromSegments(e,n){return n.map((o,i)=>o.indexOf(":")===0?e.url[i].path:o).join("/")}parseSegmentValue(e){if(e.routeConfig&&e.routeConfig.matcher){let n=this.parseSegmentValueMatcher(e);return this.buildUrlFromSegments(e,n)}else if(e.data.localizeRouter){let o=e.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(e,o)}else if(e.parent&&e.parent.parent){let o=e.routeConfig.path.split("/");return this.buildUrlFromSegments(e,o)}else return""}parseSegmentValueMatcher(e){let n=e.data&&e.data.localizeMatcher&&e.data.localizeMatcher.params||{};return e.url.map(i=>{let s=i.path,l=i.localizedParamName;return(l&&n[l]?n[l](s):null)||`${this.parser.getEscapePrefix()}${s}`})}translateRoute(e){if(typeof e=="string"){let o=this.parser.translateRoute(e);return e.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let n=[];return e.forEach((o,i)=>{if(typeof o=="string"){let s=this.parser.translateRoute(o);!i&&!o.indexOf("/")?n.push(this.parser.addPrefixToUrl(s)):n.push(s)}else n.push(o)}),n}_routeChanged(){return([e,n])=>{let o=this.parser.getLocationLang(e.url)||this.parser.defaultLang,i=this.parser.getLocationLang(n.url)||this.parser.defaultLang,s=this.lastExtras;i!==o&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(i).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,s),this.routerEvents.next(i)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let e=this.router.getCurrentNavigation(),n=this.router.serializeUrl(e.extractedUrl);this.router.events.next(new dr(e.id,n,"")),this.router.navigationTransitions.transitions.next(gt(j({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(e){this.router.resetConfig(od(e))}static{this.\u0275fac=function(n){return new(n||t)(jt(ma),jt(Qs),jt(ze),jt(Dr))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),Iw=128,bD=(()=>{class t{constructor(e,n){this.localize=e,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(e){if(!e||e.length===0||!this.localize.parser.currentLang)return e;if(Ks(e,this.lastKey)&&Ks(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=e,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(e),this.lastKey=e;let n=this._ref._view;return n&&n.state&Iw?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}static{this.\u0275fac=function(n){return new(n||t)(Ur(id,16),Ur(wr,16))}}static{this.\u0275pipe=ih({name:"localize",type:t,pure:!1})}}return t})(),nd=class{constructor(){}shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r&&e?this.getKey(r)===this.getKey(e):!1}getKey(r){if(r.firstChild&&r.firstChild.routeConfig&&r.firstChild.routeConfig.path&&r.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!r.data.localizeRouter&&(!r.parent||!r.parent.parent)&&!r.data.skipRouteLocalization)return"LANG";if(r.routeConfig.matcher){let e=`${this.getKey(r.parent)}/${r.routeConfig.matcher.name}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else if(r.data.localizeRouter){let e=`${this.getKey(r.parent)}/${r.data.localizeRouter.path}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else{let e=r.routeConfig.path;return r.parent&&(e=`${this.getKey(r.parent)}/${r.routeConfig.path}`),r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}}},Mw=(()=>{class t extends ze{constructor(){super(),this.platformId=k(rh),this.compiler=k(jo),this.localize=k(ma),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,i)=>Nw(i.loadChildren()).pipe(lt(Tw),Ht(s=>s instanceof bs||Array.isArray(s)?rt(s):_e(this.compiler.compileModuleAsync(s))),lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,d;if(Array.isArray(s))d=this.localize.initChildRoutes([].concat(...s));else{l=s.create(o).injector;let p=l.get.bind(l);l.get=(y,w,A)=>{let N=p(y,w,A);return y===wn?this.localize.initChildRoutes([].concat(...N)):N},d=l.get(wn,[],{optional:!0,self:!0}).reduce((y,w)=>y.concat(w),[])}return{routes:d.map(Vp),injector:l}}));let n=_h(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(o,i)=>{if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return rt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let l=this.loadModuleFactoryOrRoutes(o,i).pipe(Lo(()=>{this.childrenLoaders.delete(i)})),d=new Zn(l,()=>new at).pipe(Bi());return this.childrenLoaders.set(i,d),d}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vp(t){let r=t.children&&t.children.map(Vp),e=r?gt(j({},t),{children:r}):j({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==mt&&(e.component=Yu),e}function Pw(t){return t&&typeof t=="object"&&"default"in t}function Tw(t){return Pw(t)?t.default:t}function Nw(t){return Mo(t)?t:Aw(t)?_e(Promise.resolve(t)):rt(t)}var Np=(()=>{class t{constructor(e){this.injector=e}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(id),o=this.injector.get(ze),i=this.injector.get(Qs);if(n.init(),i.initialNavigation)return new Promise(s=>{let l=o.navigationTransitions.afterPreactivation,d=!0;o.navigationTransitions.afterPreactivation=()=>(d&&(s(),d=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),l())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(e,n){return this.parser=e,this.routes=n.reduce((o,i)=>o.concat(i)),this.appInitializer}static{this.\u0275fac=function(n){return new(n||t)(jt(Xt))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();function $w(t,r,e){let n=od(e);return t.generateInitializer(r,n).bind(t)}function Lw(t,r){return[{provide:ze,useClass:Mw},{provide:Sw,useFactory:Fw,deps:[[Bw,new au,new Qm]]},{provide:$p,useValue:r.useCachedLang},{provide:zp,useValue:r.alwaysSetPrefix},{provide:Bp,useValue:r.cacheName},{provide:Lp,useValue:r.cacheMechanism},{provide:Up,useValue:r.defaultLangFunction},{provide:Fp,useValue:r.cookieFormat},{provide:jp,useValue:r.initialNavigation},Qs,r.parser||{provide:ma,useClass:kw},{provide:rd,multi:!0,useValue:t},id,Np,{provide:Ui,multi:!0,useFactory:$w,deps:[Np,ma,rd]},{provide:td,useClass:nd}]}var Bw=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:Lw(e,n)}}static forChild(e){return{ngModule:t,providers:[{provide:rd,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Gt({imports:[bh,Tp,Nh]})}}return t})();function Fw(t){if(t)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fo(t)}function qp(t,r){if(fo(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Wp(t){var r=qp(t,"string");return fo(r)=="symbol"?r:r+""}function Hp(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wp(n.key),n)}}function De(t,r,e){return r&&Hp(t.prototype,r),e&&Hp(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ha(t){return Array.isArray(t)?t.slice(0):[t]}function Er(t){return Array.isArray(t)}function Kp(t){return t!=null}function Ys(t,r){var e=0,n=-1;for(var o of t){n=n+1;var i=r(o,n);if(i)e=e+1;else break}return e}function fr(t,r){var e=r.length;if(e!==0){var n=t.length;t.length=n+r.length;for(var o=0;o<e;++o)t[n+o]=r[o]}}function Qp(t){return t.filter(function(r,e,n){return n.indexOf(r)===e})}function Yp(t){for(var r="",e=new Uint8Array(t),n=e.byteLength,o=0;o<n;o++)r+=String.fromCharCode(e[o]);return btoa(r)}function Gp(t,r){return U(this,null,function*(){var e=yield fetch("data:"+r+";base64,"+t),n=yield e.blob();return n})}function Xp(t){var r=Object.prototype.toString.call(t);return r==="[object Uint8Array]"&&(t=new Blob([t])),typeof t=="string"?Promise.resolve(t):t.text()}function Zp(t){return U(this,null,function*(){if(typeof t=="string")return t;var r=Object.prototype.toString.call(t);r==="[object Uint8Array]"&&(t=new Blob([t]));var e=yield t.arrayBuffer();return Yp(e)})}function Jp(t){return t.size}function mo(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(n==="-")return parseInt(r,10);r+=n}throw new Error("malformatted revision: "+t)}function ti(t,r){var e=r?mo(r._rev)+1:1;return e+"-"+t}function sd(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==null&&(typeof t[r]=="object"||typeof t[r]=="function")&&!Object.isFrozen(t[r])&&sd(t[r])}),t}function tg(t){var r=t.split("."),e=r.length;return e===1?n=>n[t]:n=>{for(var o=n,i=0;i<e;++i){var s=r[i];if(o=o[s],typeof o>"u")return o}return o}}function Gs(t){var r={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))if(typeof t[e]=="object"){var n=Gs(t[e]);for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[e+"."+o]=n[o])}else r[e]=t[e];return r}function Et(t){return Object.assign({},t)}function eg(t){return Object.keys(t)[0]}function ei(t,r=!1){if(!t)return t;if(!r&&Array.isArray(t))return t.sort((n,o)=>typeof n=="string"&&typeof o=="string"?n.localeCompare(o):typeof n=="object"?1:-1).map(n=>ei(n,r));if(typeof t=="object"&&!Array.isArray(t)){var e={};return Object.keys(t).sort((n,o)=>n.localeCompare(o)).forEach(n=>{e[n]=ei(t[n],r)}),e}return t}function ad(t){if(!t||t===null||typeof t!="object")return t;if(Array.isArray(t)){for(var r=new Array(t.length),e=r.length;e--;)r[e]=ad(t[e]);return r}var n={};for(var o in t)n[o]=ad(t[o]);return n}var tr=ad;function Ve(t,r,e){return Object.defineProperty(t,r,{get:function(){return e}}),e}var Xs=1;function Rn(){return{lwt:Xs}}function Yr(){return""}function rg(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function ng(t,r,e){if(r.length!==e.length)return!1;for(var n=0,o=r.length;n<o;){var i=r[n],s=e[n];if(n++,i._rev!==s._rev||i[t]!==s[t])return!1}return!0}var FD=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var jD=Object.freeze(["prototype","__proto__","constructor"]);var jw="[native code] }",UD=jw.length;var Uw=Object.defineProperty,zw=(t,r,e)=>r in t?Uw(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,ri=(t,r,e)=>(zw(t,typeof r!="symbol"?r+"":r,e),e),On=class t{constructor(r,e){ri(this,"words"),ri(this,"sigBytes"),r=this.words=r||[],this.sigBytes=e===void 0?r.length*4:e}toString(r){return(r||Vw).stringify(this)}concat(r){if(this.clamp(),this.sigBytes%4)for(let e=0;e<r.sigBytes;e++){let n=r.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<r.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=r.words[e>>>2];return this.sigBytes+=r.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new t([...this.words])}},Vw={stringify(t){let r=[];for(let e=0;e<t.sigBytes;e++){let n=t.words[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16),(n&15).toString(16))}return r.join("")}};var qw={parse(t){let r=t.length,e=[];for(let n=0;n<r;n++)e[n>>>2]|=(t.charCodeAt(n)&255)<<24-n%4*8;return new On(e,r)}},Ww={parse(t){return qw.parse(unescape(encodeURIComponent(t)))}},cd=class{constructor(){ri(this,"_data",new On),ri(this,"_nDataBytes",0),ri(this,"_minBufferSize",0),ri(this,"blockSize",512/32)}reset(){this._data=new On,this._nDataBytes=0}_append(r){typeof r=="string"&&(r=Ww.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_doProcessBlock(r,e){}_process(r){let e,n=this._data.sigBytes/(this.blockSize*4);r?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);let o=n*this.blockSize,i=Math.min(o*4,this._data.sigBytes);if(o){for(let s=0;s<o;s+=this.blockSize)this._doProcessBlock(this._data.words,s);e=this._data.words.splice(0,o),this._data.sigBytes-=i}return new On(e,i)}},ld=class extends cd{update(r){return this._append(r),this._process(),this}finalize(r){r&&this._append(r)}},Hw=Object.defineProperty,Kw=(t,r,e)=>r in t?Hw(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,Qw=(t,r,e)=>(Kw(t,typeof r!="symbol"?r+"":r,e),e),og=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Yw=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ho=[],ud=class extends ld{constructor(){super(...arguments),Qw(this,"_hash",new On([...og]))}reset(){super.reset(),this._hash=new On([...og])}_doProcessBlock(r,e){let n=this._hash.words,o=n[0],i=n[1],s=n[2],l=n[3],d=n[4],h=n[5],p=n[6],y=n[7];for(let w=0;w<64;w++){if(w<16)ho[w]=r[e+w]|0;else{let tt=ho[w-15],kt=(tt<<25|tt>>>7)^(tt<<14|tt>>>18)^tt>>>3,st=ho[w-2],Mt=(st<<15|st>>>17)^(st<<13|st>>>19)^st>>>10;ho[w]=kt+ho[w-7]+Mt+ho[w-16]}let A=d&h^~d&p,N=o&i^o&s^i&s,F=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),Q=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),J=y+Q+A+Yw[w]+ho[w],nt=F+N;y=p,p=h,h=d,d=l+J|0,l=s,s=i,i=o,o=J+nt|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+d|0,n[5]=n[5]+h|0,n[6]=n[6]+p|0,n[7]=n[7]+y|0}finalize(r){super.finalize(r);let e=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(n+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function ig(t){return new ud().finalize(t).toString()}function Gw(t){return Promise.resolve(ig(t))}function Xw(t){return U(this,null,function*(){var r=new TextEncoder().encode(t),e=yield crypto.subtle.digest("SHA-256",r),n=Array.prototype.map.call(new Uint8Array(e),o=>("00"+o.toString(16)).slice(-2)).join("");return n})}var Zw=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",ni=Zw?Xw:Gw;function ag(){return new Promise(t=>setTimeout(t,0))}function sg(t=0){return new Promise(r=>setTimeout(r,t))}var Jw=Promise.resolve(!0),kr=Promise.resolve(!1),cg=Promise.resolve(null),Dn=Promise.resolve();function oi(t=1e4){return typeof requestIdleCallback=="function"?new Promise(r=>{requestIdleCallback(()=>r(),{timeout:t})}):sg(0)}var dd=Dn;function lg(t=void 0){return dd=dd.then(()=>oi(t)),dd}function ug(t,r){return t.reduce((e,n)=>e.then(n),Promise.resolve(r))}var dg=/\./g;var fg="abcdefghijklmnopqrstuvwxyz";function po(t=10){for(var r="",e=0;e<t;e++)r+=fg.charAt(Math.floor(Math.random()*fg.length));return r}function Zs(t){t+="";var r=t.charAt(0).toUpperCase();return r+t.substr(1)}function mr(t){for(;t.charAt(0)===".";)t=t.substr(1);for(;t.slice(-1)===".";)t=t.slice(0,-1);return t}function fd(t){return!!(t.includes("/")||t.includes("\\"))}function En(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var e,n;if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!En(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();var o=Object.keys(t);if(e=o.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=e;n--!==0;){var i=o[n];if(!En(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}var hd=t=>{var r=typeof t;return t!==null&&(r==="object"||r==="function")},md=new Set(["__proto__","prototype","constructor"]),t0=new Set("0123456789");function mg(t){var r=[],e="",n="start",o=!1;for(var i of t)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");o&&(e+=i),n="property",o=!o;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(o){o=!1,e+=i;break}if(md.has(e))return[];r.push(e),e="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(o){o=!1,e+=i;break}if(n==="property"){if(md.has(e))return[];r.push(e),e=""}n="index";break}case"]":{if(n==="index"){r.push(Number.parseInt(e,10)),e="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!t0.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),o&&(o=!1,e+="\\"),e+=i}}switch(o&&(e+="\\"),n){case"property":{if(md.has(e))return[];r.push(e);break}case"index":throw new Error("Index was not closed");case"start":{r.push("");break}}return r}function hg(t,r){if(typeof r!="number"&&Array.isArray(t)){var e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}function e0(t,r){if(hg(t,r))throw new Error("Cannot use string index")}function Me(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!r.includes(".")&&!r.includes("["))return t[r];if(!hd(t)||typeof r!="string")return e===void 0?t:e;var n=mg(r);if(n.length===0)return e;for(var o=0;o<n.length;o++){var i=n[o];if(hg(t,i)?t=o===n.length-1?void 0:null:t=t[i],t==null){if(o!==n.length-1)return e;break}}return t===void 0?e:t}function pd(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!hd(t)||typeof r!="string")return t;for(var n=t,o=mg(r),i=0;i<o.length;i++){var s=o[i];e0(t,s),i===o.length-1?t[s]=e:hd(t[s])||(t[s]=typeof o[i+1]=="number"?[]:{}),t=t[s]}return n}function kn(t,r){var e=t.get(r);if(typeof e>"u")throw new Error("missing value from map "+r);return e}function qe(t,r,e,n){var o=t.get(r);return typeof o>"u"?(o=e(),t.set(r,o)):n&&n(o),o}function St(t){var r=t.split("-"),e="RxDB";return r.forEach(n=>{e+=Zs(n)}),e+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+e+" } from 'rxdb/plugins/"+t+`';
            addRxPlugin(`+e+`);
        `)}var gd=0;function ee(){var t=Date.now();t=t+.01,t<=gd&&(t=gd+.01);var r=parseFloat(t.toFixed(2));return gd=r,r}function Rt(t,r){if(!t)throw r||(r=""),new Error("ensureNotFalsy() is falsy: "+r);return t}var Js={bufferSize:1,refCount:!0};var go="15.39.0";var An={},tc="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function In(t,r){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},In(t,r)}function vd(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,In(t,r)}function ec(t){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ec(t)}function pg(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function yd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yd=function(){return!!t})()}function gg(t,r,e){if(yd())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var o=new(t.bind.apply(t,n));return e&&In(o,e.prototype),o}function pa(t){var r=typeof Map=="function"?new Map:void 0;return pa=function(n){if(n===null||!pg(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,o)}function o(){return gg(n,arguments,ec(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),In(o,n)},pa(t)}var It={isDevMode(){return!1},deepFreezeWhenDevMode(t){return t},tunnelErrorMessage(t){return"RxDB Error-Code "+t+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function r0(t){var r="";return Object.keys(t).length===0||(r+=`Given parameters: {
`,r+=Object.keys(t).map(e=>{var n="[object Object]";try{e==="errors"?n=t[e].map(o=>JSON.stringify(o,Object.getOwnPropertyNames(o))):n=JSON.stringify(t[e],function(o,i){return i===void 0?null:i},2)}catch{}return e+":"+n}).join(`
`),r+="}"),r}function vg(t,r,e){return"RxError ("+r+`):
`+t+`
`+r0(e)}var n0=function(t){function r(n,o,i={}){var s,l=vg(o,n,i);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=bd(n),s.parameters=i,s.rxdb=!0,s}vd(r,t);var e=r.prototype;return e.toString=function(){return this.message},De(r,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(pa(Error)),o0=function(t){function r(n,o,i={}){var s,l=vg(o,n,i);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=bd(n),s.parameters=i,s.rxdb=!0,s}vd(r,t);var e=r.prototype;return e.toString=function(){return this.message},De(r,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(pa(TypeError));function bd(t){return"https://rxdb.info/errors.html?console=errors#"+t}function yg(t){return`
 You can find out more about this error here: `+bd(t)+" "}function $(t,r){return new n0(t,It.tunnelErrorMessage(t)+yg(t),r)}function se(t,r){return new o0(t,It.tunnelErrorMessage(t)+yg(t),r)}function rc(t){return t&&t.status===409?t:!1}var i0={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function bg(t){return $("COL20",{name:i0[t.status],document:t.documentId,writeError:t})}var ii={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Qt(t,r){ii[t].length>0&&ii[t].forEach(e=>e(r))}function Mn(t,r){return Promise.all(ii[t].map(e=>e(r)))}function Pe(t,r){var e=r;e=e.replace(dg,".properties."),e="properties."+e,e=mr(e);var n=Me(t,e);return n}function nc(t,r,e){if(typeof r.primaryKey=="string")return e;var n=ga(r,e),o=e[t];if(o&&o!==n)throw $("DOC19",{args:{documentData:e,existingPrimary:o,newPrimary:n},schema:r});return e[t]=n,e}function he(t){return typeof t=="string"?t:t.key}function ga(t,r){if(typeof t.primaryKey=="string")return r[t.primaryKey];var e=t.primaryKey;return e.fields.map(n=>{var o=Me(r,n);if(typeof o>"u")throw $("DOC18",{args:{field:n,documentData:r}});return o}).join(e.separator)}function _g(t){var r=ei(t,!0);return r}function a0(t){return["_deleted",t]}function oc(t){t=Et(t);var r=he(t.primaryKey);t.properties=Et(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=s0,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var e=_d(t);fr(t.required,e),t.required=t.required.filter(i=>!i.includes(".")).filter((i,s,l)=>l.indexOf(i)===s),t.version=t.version||0;var n=t.indexes.map(i=>{var s=Er(i)?i.slice(0):[i];return s.includes(r)||s.push(r),s[0]!=="_deleted"&&s.unshift("_deleted"),s});n.length===0&&n.push(a0(r)),n.push(["_meta.lwt",r]),t.internalIndexes&&t.internalIndexes.map(i=>{n.push(i)});var o=new Set;return n.filter(i=>{var s=i.join(",");return o.has(s)?!1:(o.add(s),!0)}),t.indexes=n,t}var s0={type:"object",properties:{lwt:{type:"number",minimum:Xs,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function _d(t){var r=Object.keys(t.properties).filter(n=>t.properties[n].final),e=he(t.primaryKey);return r.push(e),typeof t.primaryKey!="string"&&t.primaryKey.fields.forEach(n=>r.push(n)),r}function xg(t,r){for(var e=Object.keys(t.defaultValues),n=0;n<e.length;++n){var o=e[n];(!Object.prototype.hasOwnProperty.call(r,o)||typeof r[o]>"u")&&(r[o]=t.defaultValues[o])}return r}var xd=function(){function t(e,n){this.jsonSchema=e,this.hashFunction=n,this.indexes=c0(this.jsonSchema),this.primaryPath=he(this.jsonSchema.primaryKey),this.finalFields=_d(this.jsonSchema)}var r=t.prototype;return r.validateChange=function(n,o){this.finalFields.forEach(i=>{if(!En(n[i],o[i]))throw $("DOC9",{dataBefore:n,dataAfter:o,fieldName:i,schema:this.jsonSchema})})},r.getDocumentPrototype=function(){var n={},o=Pe(this.jsonSchema,"");return Object.keys(o).forEach(i=>{var s=i;n.__defineGetter__(i,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(s);return l}}),Object.defineProperty(n,i+"$",{get:function(){return this.get$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,i+"$$",{get:function(){return this.get$$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,i+"_",{get:function(){return this.populate(s)},enumerable:!1,configurable:!1})}),Ve(this,"getDocumentPrototype",()=>n),n},r.getPrimaryOfDocumentData=function(n){return ga(this.jsonSchema,n)},De(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,o])=>e[n]=o.default),Ve(this,"defaultValues",e)}},{key:"hash",get:function(){return Ve(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function c0(t){return(t.indexes||[]).map(r=>Er(r)?r:[r])}function wg(t){var r=t.version?t.version:0,e=0;return new Array(r).fill(0).map(()=>e++)}function Cg(t,r,e=!0){e&&Qt("preCreateRxSchema",t);var n=oc(t);n=_g(n),It.deepFreezeWhenDevMode(n);var o=new xd(n,r);return Qt("createRxSchema",o),o}function Sg(t){return t.documentData?t.documentData:t.previousDocumentData}function Rg(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:It.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}function ic(t){return t[t.length-1]}function l0(t){let r=typeof t;return t!==null&&(r==="object"||r==="function")}function wd(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!l0(t)||typeof r!="string")return e===void 0?t:e;let n=r.split(".");if(n.length===0)return e;for(let o=0;o<n.length;o++){let i=n[o];if(u0(t,i)?t=o===n.length-1?void 0:null:t=t[i],t==null){if(o!==n.length-1)return e;break}}return t===void 0?e:t}function u0(t,r){if(typeof r!="number"&&Array.isArray(t)){let e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}var Cd=t=>!!t.queryParams.limit,Og=t=>t.queryParams.limit===1,Dg=t=>!!(t.queryParams.skip&&t.queryParams.skip>0),Eg=t=>t.changeEvent.operation==="DELETE",kg=t=>t.changeEvent.operation==="INSERT",Ag=t=>t.changeEvent.operation==="UPDATE",Ig=t=>Cd(t)&&t.previousResults.length>=t.queryParams.limit,Mg=t=>{let r=t.queryParams.sortFields,e=t.changeEvent.previous,n=t.changeEvent.doc;if(!n)return!1;if(!e)return!0;for(let o=0;o<r.length;o++){let i=r[o],s=wd(e,i),l=wd(n,i);if(s!==l)return!0}return!1},Pg=t=>{let r=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(r);{let e=t.queryParams.primaryKey,n=t.previousResults;for(let o=0;o<n.length;o++)if(n[o][e]===r)return!0;return!1}},Tg=t=>{let r=t.previousResults[0];return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},Ng=t=>{let r=ic(t.previousResults);return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},$g=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Lg=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=ic(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},Bg=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Fg=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=ic(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},jg=t=>{let r=t.changeEvent.previous;return r?t.queryParams.queryMatcher(r):!1},Ug=t=>{let r=t.changeEvent.doc;return r?t.queryParams.queryMatcher(r):!1},zg=t=>t.previousResults.length===0;var Vg={0:kg,1:Ag,2:Eg,3:Cd,4:Og,5:Dg,6:zg,7:Ig,8:Tg,9:Ng,10:Mg,11:Pg,12:$g,13:Lg,14:Bg,15:Fg,16:jg,17:Ug};function qg(t,r,e,n){var o=t.length,i=o-1,s=0;if(o===0)return t.push(r),0;for(var l;n<=i;)s=n+(i-n>>1),l=t[s],e(l,r)<=0?n=s+1:i=s-1;return e(l,r)<=0&&s++,t.splice(s,0,r),s}var Wg=t=>{},ac=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},sc=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},cc=t=>{let r=t.previousResults.shift();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},lc=t=>{let r=t.previousResults.pop();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},Hg=t=>{cc(t),sc(t)},Kg=t=>{lc(t),ac(t)},Qg=t=>{cc(t),ac(t)},Yg=t=>{lc(t),sc(t)},Sd=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);let r=t.queryParams.primaryKey,e=t.previousResults;for(let n=0;n<e.length;n++)if(e[n][r]===t.changeEvent.id){e.splice(n,1);break}},Gg=t=>{let r=t.changeEvent.doc,e=t.queryParams.primaryKey,n=t.previousResults;for(let o=0;o<n.length;o++)if(n[o][e]===t.changeEvent.id){n[o]=r,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,r);break}},Xg=t=>{let r={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(r),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(r._id,r))},Rd=t=>{let r=t.changeEvent.id,e=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(r))return;t.keyDocumentMap.set(r,e)}else if(t.previousResults.find(o=>o[t.queryParams.primaryKey]===r))return;qg(t.previousResults,e,t.queryParams.sortComparator,0)},Zg=t=>{Sd(t),Rd(t)},Jg=t=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},tv=t=>{throw new Error("Action unknownAction should never be called")};var ev=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],rv={doNothing:Wg,insertFirst:ac,insertLast:sc,removeFirstItem:cc,removeLastItem:lc,removeFirstInsertLast:Hg,removeLastInsertFirst:Kg,removeFirstInsertFirst:Qg,removeLastInsertLast:Yg,removeExisting:Sd,replaceExisting:Gg,alwaysWrong:Xg,insertAtSortPosition:Rd,removeExistingAndInsertAtSortPosition:Zg,runFullQueryAgain:Jg,unknownAction:tv};function uc(t){return t.charCodeAt(0)-40}function nv(t){return t?"1":"0"}function d0(t=6){let r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*n));return r}var JE=d0(4);function Od(t,r){let e=[];for(let n=0,o=t.length;n<o;n+=r)e.push(t.substring(n,n+r));return e}function ov(t){let r=new Map,n=2+parseInt(t.charAt(0)+t.charAt(1),10)*2,o=t.substring(2,n),i=Od(o,2);for(let F=0;F<i.length;F++){let Q=i[F],J=Q.charAt(0),nt=uc(Q.charAt(1));r.set(J,nt)}let s=t.substring(n,t.length-3),l=Od(s,4);for(let F=0;F<l.length;F++){let Q=l[F],J=Q.charAt(0),nt=Q.charAt(1),tt=Q.charAt(2),kt=uc(Q.charAt(3));if(!r.has(nt))throw new Error("missing node with id "+nt);if(!r.has(tt))throw new Error("missing node with id "+tt);let st=r.get(nt),Mt=r.get(tt),Ot={l:kt,0:st,1:Mt};r.set(J,Ot)}let d=t.slice(-3),h=d.charAt(0),p=d.charAt(1),y=uc(d.charAt(2)),w=r.get(h),A=r.get(p);return{l:y,0:w,1:A}}function iv(t,r,e){let n=t,o=t.l;for(;;){let i=r[o](e),s=nv(i);if(n=n[s],typeof n=="number"||typeof n=="string")return n;o=n.l}}var f0="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",Dd;function m0(){return Dd||(Dd=ov(f0)),Dd}var av=t=>iv(m0(),Vg,t);function sv(t){let r=av(t);return ev[r]}function cv(t,r,e,n,o){let i=rv[t];return i({queryParams:r,changeEvent:e,previousResults:n,keyDocumentMap:o}),n}var vo="\uFFFF",yo=Number.MIN_SAFE_INTEGER;function lv(t,r){var e=r.selector,n=t.indexes?t.indexes.slice(0):[];r.index&&(n=[r.index]);var o=!!r.sort.find(p=>Object.values(p)[0]==="desc"),i=new Set;Object.keys(e).forEach(p=>{var y=Pe(t,p);y&&y.type==="boolean"&&Object.prototype.hasOwnProperty.call(e[p],"$eq")&&i.add(p)});var s=r.sort.map(p=>Object.keys(p)[0]),l=s.filter(p=>!i.has(p)).join(","),d=-1,h;if(n.forEach(p=>{var y=!0,w=!0,A=p.map(nt=>{var tt=e[nt],kt=tt?Object.keys(tt):[],st={};if(!tt||!kt.length){var Mt=w?yo:vo;st={startKey:Mt,endKey:y?vo:yo,inclusiveStart:!0,inclusiveEnd:!0}}else kt.forEach(Ot=>{if(dc.has(Ot)){var Lt=tt[Ot],ue=v0(Ot,Lt);st=Object.assign(st,ue)}});return typeof st.startKey>"u"&&(st.startKey=yo),typeof st.endKey>"u"&&(st.endKey=vo),typeof st.inclusiveStart>"u"&&(st.inclusiveStart=!0),typeof st.inclusiveEnd>"u"&&(st.inclusiveEnd=!0),w&&!st.inclusiveStart&&(w=!1),y&&!st.inclusiveEnd&&(y=!1),st}),N=A.map(nt=>nt.startKey),F=A.map(nt=>nt.endKey),Q={index:p,startKeys:N,endKeys:F,inclusiveEnd:y,inclusiveStart:w,sortSatisfiedByIndex:!o&&l===p.filter(nt=>!i.has(nt)).join(","),selectorSatisfiedByIndex:g0(p,r.selector,N,F)},J=y0(t,r,Q);(J>=d||r.index)&&(d=J,h=Q)}),!h)throw $("SNH",{query:r});return h}var dc=new Set(["$eq","$gt","$gte","$lt","$lte"]),h0=new Set(["$eq","$gt","$gte"]),p0=new Set(["$eq","$lt","$lte"]);function g0(t,r,e,n){var o=Object.entries(r),i=o.find(([Ot,Lt])=>{if(!t.includes(Ot))return!0;var ue=Object.entries(Lt).find(([Ne,or])=>!dc.has(Ne));return ue});if(i||r.$and||r.$or)return!1;var s=[],l=new Set;for(var[d,h]of Object.entries(r)){if(!t.includes(d))return!1;var p=Object.keys(h).filter(Ot=>h0.has(Ot));if(p.length>1)return!1;var y=p[0];if(y&&l.add(d),y!=="$eq"){if(s.length>0)return!1;s.push(y)}}var w=[],A=new Set;for(var[N,F]of Object.entries(r)){if(!t.includes(N))return!1;var Q=Object.keys(F).filter(Ot=>p0.has(Ot));if(Q.length>1)return!1;var J=Q[0];if(J&&A.add(N),J!=="$eq"){if(w.length>0)return!1;w.push(J)}}var nt=0;for(var tt of t){for(var kt of[l,A]){if(!kt.has(tt)&&kt.size>0)return!1;kt.delete(tt)}var st=e[nt],Mt=n[nt];if(st!==Mt&&l.size>0&&A.size>0)return!1;nt++}return!0}function v0(t,r){switch(t){case"$eq":return{startKey:r,endKey:r,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:r,inclusiveEnd:!0};case"$gte":return{startKey:r,inclusiveStart:!0};case"$lt":return{endKey:r,inclusiveEnd:!1};case"$gt":return{startKey:r,inclusiveStart:!1};default:throw new Error("SNH")}}function y0(t,r,e){var n=0,o=p=>{p>0&&(n=n+p)},i=10,s=Ys(e.startKeys,p=>p!==yo&&p!==vo);o(s*i);var l=Ys(e.startKeys,p=>p!==vo&&p!==yo);o(l*i);var d=Ys(e.startKeys,(p,y)=>p===e.endKeys[y]);o(d*i*1.5);var h=e.sortSatisfiedByIndex?5:0;return o(h),n}var ce=class extends Error{},pc=2147483647,gc=-2147483648,Md=Number.MAX_SAFE_INTEGER,Pd=Number.MIN_SAFE_INTEGER,Gr=Symbol("missing"),fv=Object.freeze(new Error("mingo: cycle detected while processing object/array")),b0="[object Object]",_0=/^\[object ([a-zA-Z0-9]+)\]$/,va=t=>{let r=R0(t),e=0,n=r.length;for(;n;)e=(e<<5)-e^r.charCodeAt(--n);return e>>>0},mv=new Set(["null","undefined","boolean","number","string","date","regexp"]),x0={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Tt=(t,r)=>{t===Gr&&(t=void 0),r===Gr&&(r=void 0);let[e,n]=[t,r].map(o=>x0[Pn(o).toLowerCase()]);return e!==n?e-n:e===1||e===2||e===6?t<r?-1:t>r?1:0:pe(t,r)?0:t<r?-1:t>r?1:0};function z(t,r){if(!t)throw new ce(r)}var Pn=t=>_0.exec(Object.prototype.toString.call(t))[1],ya=t=>typeof t=="boolean",wt=t=>typeof t=="string";var dt=t=>!isNaN(t)&&typeof t=="number";var it=Array.isArray,ut=t=>{if(!t)return!1;let r=Object.getPrototypeOf(t);return(r===Object.prototype||r===null)&&b0===Object.prototype.toString.call(t)},ba=t=>t===Object(t),Tn=t=>t instanceof Date,ci=t=>t instanceof RegExp,_a=t=>typeof t=="function",X=t=>t==null,Ar=(t,r)=>t.includes(r),vc=(t,r)=>!Ar(t,r),Ee=(t,r=!0)=>!!t||r&&t==="",We=t=>X(t)||wt(t)&&!t||t instanceof Array&&t.length===0||ut(t)&&Object.keys(t).length===0,uv=t=>t===Gr,Ir=t=>t instanceof Array?t:[t],zt=(t,r)=>!!t&&Object.prototype.hasOwnProperty.call(t,r),Td=t=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t),w0=[Tn,ci,Td],kd=(t,r)=>{if(X(t))return t;if(r.has(t))throw fv;let e=t.constructor;if(w0.some(n=>n(t)))return new e(t);try{if(r.add(t),it(t))return t.map(n=>kd(n,r));if(ut(t)){let n={};for(let o in t)n[o]=kd(t[o],r);return n}}finally{r.delete(t)}return t},li=t=>kd(t,new Set),C0=(t,r)=>ut(t)&&ut(r)||it(t)&&it(r);function mc(t,r,e){if(e=e||{flatten:!1},uv(t)||X(t))return r;if(uv(r)||X(r))return t;if(!C0(t,r)){if(e.skipValidation)return r||t;throw Error("mismatched types. must both be array or object")}if(e.skipValidation=!0,it(t)){let n=t,o=r;if(e.flatten){let i=0,s=0;for(;i<n.length&&s<o.length;)n[i]=mc(n[i++],o[s++],e);for(;s<o.length;)n.push(r[s++])}else er(n,o)}else for(let n in r)t[n]=mc(t[n],r[n],e);return t}function Ad(t,r=va){let e=new Map;return t.forEach((n,o)=>{let i=yc(n,r);e.has(i)?e.get(i).some(s=>pe(t[s],n))||e.get(i).push(o):e.set(i,[o])}),e}function Xr(t,r=va){if(t.some(l=>l.length==0))return[];if(t.length===1)return Array.from(t);let e=hv(t.map((l,d)=>[d,l.length]),l=>l[1]),n=t[e[0][0]],o=Ad(n,r),i=new Map,s=new Array;return o.forEach((l,d)=>{let h=l.map(A=>n[A]),p=h.map(A=>0),y=h.map(A=>[e[0][0],0]),w=!1;for(let A=1;A<t.length;A++){let[N,F]=e[A],Q=t[N];if(i.has(A)||i.set(A,Ad(Q)),i.get(A).has(d)){let J=i.get(A).get(d).map(nt=>Q[nt]);w=h.map((nt,tt)=>J.some((kt,st)=>{let Mt=p[tt];return pe(nt,kt)&&(p[tt]++,N<y[tt][0]&&(y[tt]=[N,i.get(A).get(d)[st]])),Mt<p[tt]})).some(Boolean)}if(!w)return}w&&er(s,p.map((A,N)=>A===t.length-1?[h[N],y[N]]:Gr).filter(A=>A!==Gr))}),s.sort((l,d)=>{let[h,[p,y]]=l,[w,[A,N]]=d,F=Tt(p,A);return F!==0?F:Tt(y,N)}).map(l=>l[0])}function Nd(t,r=0){let e=new Array;function n(o,i){for(let s=0,l=o.length;s<l;s++)it(o[s])&&(i>0||i<0)?n(o[s],Math.max(-1,i-1)):e.push(o[s])}return n(t,r),e}var S0=t=>{let[r,e]=[Object.getPrototypeOf(t),Object.getOwnPropertyNames(t)],n=r;for(;!e.length&&r!==Object.prototype&&r!==Array.prototype;)n=r,e=Object.getOwnPropertyNames(r),r=Object.getPrototypeOf(r);let o={};return e.forEach(i=>o[i]=t[i]),[o,n]};function pe(t,r){if(t===r||Object.is(t,r))return!0;let e=!!t&&t.constructor||t;if(t===null||r===null||t===void 0||r===void 0||e!==r.constructor||e===Function)return!1;if(e===Array||e===Object){let i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length||new Set([...i,...s]).size!=i.length)return!1;for(let l of i)if(!pe(t[l],r[l]))return!1;return!0}let n=Object.getPrototypeOf(t);return(Td(t)||n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))&&t.toString()===r.toString()}function xa(t,r=va){let e=t.map(n=>Gr);return Ad(t,r).forEach((n,o)=>{n.forEach(i=>e[i]=t[i])}),e.filter(n=>n!==Gr)}var fc=(t,r)=>{if(t===null)return"null";if(t===void 0)return"undefined";let e=t.constructor;switch(e){case RegExp:case Number:case Boolean:case Function:case Symbol:return t.toString();case String:return JSON.stringify(t);case Date:return t.toISOString()}if(Td(t))return e.name+"["+t.toString()+"]";if(r.has(t))throw fv;try{if(r.add(t),it(t))return"["+t.map(s=>fc(s,r)).join(",")+"]";if(e===Object)return"{"+Object.keys(t).sort().map(s=>s+":"+fc(t[s],r)).join(",")+"}";let n=Object.getPrototypeOf(t);if(n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))return e.name+"("+JSON.stringify(t.toString())+")";let[o,i]=S0(t);return e.name+fc(o,r)}finally{r.delete(t)}},R0=t=>fc(t,new Set);function yc(t,r){return r=r||va,X(t)?null:r(t).toString()}function hv(t,r,e=Tt){if(We(t))return t;let n=new Array,o=new Array;for(let i=0;i<t.length;i++){let s=t[i],l=r(s,i);X(l)?o.push(s):n.push([l,s])}return n.sort((i,s)=>e(i[0],s[0])),er(o,n.map(i=>i[1]))}function bc(t,r,e=va){if(t.length<1)return new Map;let n=new Map,o=new Map;for(let i=0;i<t.length;i++){let s=t[i],l=r(s,i),d=yc(l,e);if(d===null)o.has(null)?o.get(null).push(s):o.set(null,[s]);else{let h=n.has(d)?n.get(d).find(p=>pe(p,l)):null;X(h)?(o.set(l,[s]),n.has(d)?n.get(d).push(l):n.set(d,[l])):o.get(h).push(s)}}return o}var Ed=5e4;function er(t,...r){return t instanceof Array?r.reduce((e,n)=>{let o=Math.ceil(n.length/Ed),i=0;for(;o-- >0;)Array.prototype.push.apply(e,n.slice(i,i+Ed)),i+=Ed;return e},t):r.filter(ba).reduce((e,n)=>(Object.assign(e,n),e),t)}function Id(t,r){return ba(t)?t[r]:void 0}function O0(t,r){if(r<1)return t;for(;r--&&t.length===1;)t=t[0];return t}function ke(t,r,e){let n=0;function o(s,l){let d=s;for(let h=0;h<l.length;h++){let p=l[h];if(/^\d+$/.exec(p)===null&&d instanceof Array){if(h===0&&n>0)break;n+=1;let w=l.slice(h);d=d.reduce((A,N)=>{let F=o(N,w);return F!==void 0&&A.push(F),A},[]);break}else d=Id(d,p);if(d===void 0)break}return d}let i=mv.has(Pn(t).toLowerCase())?t:o(t,r.split("."));return i instanceof Array&&e?.unwrapArray?O0(i,n):i}function ai(t,r,e){let n=r.split("."),o=n[0],i=n.slice(1).join("."),s=/^\d+$/.exec(o)!==null,l=n.length>1,d,h;if(t instanceof Array)if(s)d=Id(t,Number(o)),l&&(d=ai(d,i,e)),d=[d];else{d=[];for(let p of t)h=ai(p,r,e),e?.preserveMissing?(h===void 0&&(h=Gr),d.push(h)):h!==void 0&&d.push(h)}else{if(h=Id(t,o),l&&(h=ai(h,i,e)),h===void 0)return;d=e?.preserveKeys?j({},t):{},d[o]=h}return d}function hc(t){if(t instanceof Array)for(let r=t.length-1;r>=0;r--)t[r]===Gr?t.splice(r,1):hc(t[r]);else if(ut(t))for(let r in t)zt(t,r)&&hc(t[r])}var dv=/^\d+$/;function si(t,r,e,n){let o=r.split("."),i=o[0],s=o.slice(1).join(".");if(o.length===1)(ut(t)||it(t)&&dv.test(i))&&e(t,i);else{n?.buildGraph&&X(t[i])&&(t[i]={});let l=t[i];if(!l)return;let d=!!(o.length>1&&dv.test(o[1]));l instanceof Array&&n?.descendArray&&!d?l.forEach(h=>si(h,s,e,n)):si(l,s,e,n)}}function _c(t,r,e){si(t,r,(n,o)=>{n[o]=_a(e)?e(n[o]):e},{buildGraph:!0})}function wa(t,r,e){si(t,r,(n,o)=>{if(n instanceof Array){if(/^\d+$/.test(o))n.splice(parseInt(o),1);else if(e&&e.descendArray)for(let i of n)ut(i)&&delete i[o]}else ut(n)&&delete n[o]},e)}var D0=/^\$[a-zA-Z0-9_]+$/;function He(t){return D0.test(t)}function xc(t){if(mv.has(Pn(t).toLowerCase()))return ci(t)?{$regex:t}:{$eq:t};if(ba(t)){if(!Object.keys(t).some(He))return{$eq:t};if(zt(t,"$regex")){let e=j({},t);return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}var _o=(t=>(t.CLONE_ALL="CLONE_ALL",t.CLONE_INPUT="CLONE_INPUT",t.CLONE_OUTPUT="CLONE_OUTPUT",t.CLONE_OFF="CLONE_OFF",t))(_o||{}),Vt=class t{constructor(r,e,n,o=Date.now()){this._opts=r,this._root=e,this._local=n,this.timestamp=o,this.update(e,n)}static init(r,e,n){return r instanceof t?new t(r._opts,X(r.root)?e:r.root,Object.assign({},r.local,n)):new t(r,e,n)}update(r,e){return this._root=r,this._local=e&&Object.assign({},e,{variables:Object.assign({},this._local?.variables,e?.variables)}),this}getOptions(){return Object.freeze(gt(j({},this._opts),{context:ui.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function Zr(t){return t instanceof Vt?t.getOptions():Object.freeze(gt(j({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},t),{context:t?.context?ui.from(t?.context):ui.init({})}))}var pr=(t=>(t.ACCUMULATOR="accumulator",t.EXPRESSION="expression",t.PIPELINE="pipeline",t.PROJECTION="projection",t.QUERY="query",t.WINDOW="window",t))(pr||{}),ui=class t{constructor(r){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[e,n]of Object.entries(r))this.addOperators(e,n)}static init(r={}){return new t(r)}static from(r){return new t(r.operators)}addOperators(r,e){for(let[n,o]of Object.entries(e))this.getOperator(r,n)||(this.operators[r][n]=o);return this}addAccumulatorOps(r){return this.addOperators("accumulator",r)}addExpressionOps(r){return this.addOperators("expression",r)}addQueryOps(r){return this.addOperators("query",r)}addPipelineOps(r){return this.addOperators("pipeline",r)}addProjectionOps(r){return this.addOperators("projection",r)}addWindowOps(r){return this.addOperators("window",r)}getOperator(r,e){return r in this.operators&&this.operators[r][e]||null}},bo=ui.init();function Bd(t,r){for(let[e,n]of Object.entries(r)){z(_a(n)&&He(e),`'${e}' is not a valid operator`);let o=hr(t,e,null);z(!o||n===o,`${e} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":bo.addAccumulatorOps(r);break;case"expression":bo.addExpressionOps(r);break;case"pipeline":bo.addPipelineOps(r);break;case"projection":bo.addProjectionOps(r);break;case"query":bo.addQueryOps(r);break;case"window":bo.addWindowOps(r);break}}function hr(t,r,e){let{context:n,useGlobalContext:o}=e||{},i=n?n.getOperator(t,r):null;return!i&&o?bo.getOperator(t,r):i}var pv={$$ROOT(t,r,e){return e.root},$$CURRENT(t,r,e){return t},$$REMOVE(t,r,e){},$$NOW(t,r,e){return new Date(e.timestamp)}},$d={$$KEEP(t,r,e){return t},$$PRUNE(t,r,e){},$$DESCEND(t,r,e){if(!zt(r,"$cond"))return t;let n;for(let[o,i]of Object.entries(t))if(ba(i)){if(i instanceof Array){let s=[];for(let l of i)ut(l)&&(l=Ld(l,r,e.update(l))),X(l)||s.push(l);n=s}else n=Ld(i,r,e.update(i));X(n)?delete t[o]:t[o]=n}return t}};function L(t,r,e,n){let o=Vt.init(n,t);if(e=e||"",He(e)){let i=hr("expression",e,n);if(i)return i(t,r,o);let s=hr("accumulator",e,n);if(s)return t instanceof Array||(t=L(t,r,null,o),r=null),z(t instanceof Array,`'${e}' target must be an array.`),s(t,r,o.update(null,o.local));throw new ce(`operator '${e}' is not registered`)}if(wt(r)&&r.length>0&&r[0]==="$"){if(zt($d,r))return r;let i=o.root,s=r.split(".");if(zt(pv,s[0]))i=pv[s[0]](t,null,o),r=r.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){i=Object.assign({},o.variables,{this:t},o.local?.variables);let l=s[0].slice(2);z(zt(i,l),`Use of undefined variable: ${l}`),r=r.slice(2)}else r=r.slice(1);return r===""?i:ke(i,r)}if(it(r))return r.map(i=>L(t,i,null,o));if(ut(r)){let i={};for(let[s,l]of Object.entries(r))if(i[s]=L(t,l,s,o),["expression","accumulator"].some(d=>!!hr(d,s,n)))return z(Object.keys(r).length===1,"Invalid aggregation expression '"+JSON.stringify(r)+"'"),i[s];return i}return r}function Ld(t,r,e){let n=L(t,r,null,e);return zt($d,n)?$d[n](t,r,e):n}function Ke(t){return t instanceof Ca?t:new Ca(t)}function wc(...t){let r=0;return Ke(()=>{for(;r<t.length;){let e=t[r].next();if(!e.done)return e;r++}return{done:!0}})}function E0(t){return!!t&&typeof t=="object"&&t?.next instanceof Function}function k0(t,r){let e=t.slice(r+1);t.splice(r),Array.prototype.push.apply(t,e)}var Fd=new Error;function A0(t,r,e){let n=!1,o=-1,i=0;return function(s){try{t:for(;!n;){let l=t();o++;let d=-1,h=r.length,p=!1;for(;++d<h;){let y=r[d];switch(y.action){case 0:l=y.func(l,o);break;case 1:if(!y.func(l,o))continue t;break;case 2:--y.count,y.count||(p=!0);break;case 3:--y.count,y.count||k0(r,d);continue t;default:break t}}if(n=p,s)e[i++]=l;else return{value:l,done:!1}}}catch(l){if(l!==Fd)throw l}return n=!0,{done:n}}}var Ca=class{constructor(r){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let e;if(r instanceof Function&&(r={next:r}),E0(r)){let n=r;e=()=>{let o=n.next();if(o.done)throw Fd;return o.value}}else if(r instanceof Array){let n=r,o=n.length,i=0;e=()=>{if(i<o)return n[i++];throw Fd}}else if(!(r instanceof Function))throw new ce("Lazy must be initialized with an array, generator, or function.");this.getNext=A0(e,this.iteratees,this.yieldedValues)}push(r,e){return typeof e=="function"?this.iteratees.push({action:r,func:e}):typeof e=="number"&&this.iteratees.push({action:r,count:e}),this}next(){return this.getNext()}map(r){return this.push(0,r)}filter(r){return this.push(1,r)}take(r){return r>0?this.push(2,r):this}drop(r){return r>0?this.push(3,r):this}transform(r){let e=this,n;return Ke(()=>(n||(n=Ke(r(e.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(r){for(;;){let e=this.next();if(e.done)break;if(r(e.value)===!1)return!1}return!0}reduce(r,e){let n=this.next();for(e===void 0&&!n.done&&(e=n.value,n=this.next());!n.done;)e=r(e,n.value),n=this.next();return e}size(){return this.reduce((r,e)=>++r,0)}[Symbol.iterator](){return this}};var Mr=class{constructor(r,e){this.pipeline=r,this.options=Zr(e)}stream(r){let e=Ke(r),n=this.options.processingMode;(n==_o.CLONE_ALL||n==_o.CLONE_INPUT)&&e.map(li);let o=new Array;if(!We(this.pipeline))for(let i of this.pipeline){let s=Object.keys(i),l=s[0],d=hr(pr.PIPELINE,l,this.options);z(s.length===1&&!!d,`invalid pipeline operator ${l}`),o.push(l),e=d(e,i[l],this.options)}return(n==_o.CLONE_OUTPUT||n==_o.CLONE_ALL&&Xr([["$group","$unwind"],o]).length)&&e.map(li),e}run(r){return this.stream(r).value()}};var Cc=class{constructor(r,e,n,o){this.source=r,this.predicate=e,this.projection=n,this.options=o,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(ut(this.projection)&&this.operators.push({$project:this.projection}),this.result=Ke(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Mr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let r=Ke([...this.buffer]);return this.buffer=[],wc(r,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(r){return this.operators.push({$skip:r}),this}limit(r){return this.operators.push({$limit:r}),this}sort(r){return this.operators.push({$sort:r}),this}collation(r){return this.options=gt(j({},this.options),{collation:r}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let r=this.fetch().next();if(!r.done)return r.value}hasNext(){if(this.buffer.length>0)return!0;let r=this.fetch().next();return r.done?!1:(this.buffer.push(r.value),!0)}map(r){return this.all().map(r)}forEach(r){this.all().forEach(r)}[Symbol.iterator](){return this.fetchAll()}};var Yt=class{constructor(r,e){this.condition=r,this.options=Zr(e),this.compiled=[],this.compile()}compile(){z(ut(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let r={};for(let[e,n]of Object.entries(this.condition)){if(e==="$where")Object.assign(r,{field:e,expr:n});else if(Ar(["$and","$or","$nor","$expr","$jsonSchema"],e))this.processOperator(e,e,n);else{z(!He(e),`unknown top level operator: ${e}`);for(let[o,i]of Object.entries(xc(n)))this.processOperator(e,o,i)}r.field&&this.processOperator(r.field,r.field,r.expr)}}processOperator(r,e,n){let o=hr(pr.QUERY,e,this.options);if(!o)throw new ce(`unknown query operator ${e}`);let i=o(r,n,this.options);this.compiled.push(i)}test(r){for(let e=0,n=this.compiled.length;e<n;e++)if(!this.compiled[e](r))return!1;return!0}find(r,e){return new Cc(r,n=>this.test(n),e||{},this.options)}remove(r){return r.reduce((e,n)=>(this.test(n)||e.push(n),e),[])}};var di=1e3*60*60*24,gv={week:di*7,day:di,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var pI={week:di*7,day:di,hour:di/24,minute:6e4,second:1e3,millisecond:1};var Rc=(t,r,e)=>{if(We(r)||!ut(r))return t;let n=Tt,o=e.collation;return ut(o)&&wt(o.locale)&&(n=j0(o)),t.transform(i=>{let s=Object.keys(r);for(let l of s.reverse()){let d=bc(i,p=>ke(p,l),e.hashFunction),h=Array.from(d.keys()).sort(n);r[l]===-1&&h.reverse(),i=[],h.reduce((p,y)=>er(p,d.get(y)),i)}return i})},F0={1:"base",2:"accent",3:"variant"};function j0(t){let r={sensitivity:F0[t.strength||3],caseFirst:t.caseFirst==="off"?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:t.alternate==="shifted"};(t.caseLevel||!1)===!0&&(r.sensitivity==="base"&&(r.sensitivity="case"),r.sensitivity==="accent"&&(r.sensitivity="variant"));let e=new Intl.Collator(t.locale,r);return(n,o)=>{if(!wt(n)||!wt(o))return Tt(n,o);let i=e.compare(n,o);return i<0?-1:i>0?1:0}}function Ct(t){let r=(e,n,o)=>{let i={unwrapArray:!0},s=Math.max(1,e.split(".").length-1);return l=>{let d=ke(l,e,i);return t(d,n,gt(j({},o),{depth:s}))}};return r.op="query",r}function Te(t){return(r,e,n)=>{let o=L(r,e,null,n);return t(...o)}}function Sa(t,r,e){if(pe(t,r)||X(t)&&X(r))return!0;if(t instanceof Array){let n=pe.bind(null,r);return t.some(n)||Nd(t,e?.depth).some(n)}return!1}function Oc(t,r,e){return!Sa(t,r,e)}function Ud(t,r,e){return X(t)?r.some(n=>n===null):Xr([Ir(t),r],e?.hashFunction).length>0}function Dc(t,r,e){return!Ud(t,r,e)}function Ec(t,r,e){return Mc(t,r,(n,o)=>Tt(n,o)<0)}function kc(t,r,e){return Mc(t,r,(n,o)=>Tt(n,o)<=0)}function Ac(t,r,e){return Mc(t,r,(n,o)=>Tt(n,o)>0)}function Ic(t,r,e){return Mc(t,r,(n,o)=>Tt(n,o)>=0)}function wv(t,r,e){return Ir(t).some(n=>r.length===2&&n%r[0]===r[1])}function Cv(t,r,e){let n=Ir(t),o=i=>wt(i)&&Ee(r.exec(i),e?.useStrictMode);return n.some(o)||Nd(n,1).some(o)}function Sv(t,r,e){return(r===!1||r===0)&&t===void 0||(r===!0||r===1)&&t!==void 0}function Rv(t,r,e){if(!it(t)||!it(r)||!t.length||!r.length)return!1;let n=!0;for(let o of r){if(!n)break;ut(o)&&Ar(Object.keys(o),"$elemMatch")?n=zd(t,o.$elemMatch,e):o instanceof RegExp?n=t.some(i=>typeof i=="string"&&o.test(i)):n=t.some(i=>pe(o,i))}return n}function Ov(t,r,e){return Array.isArray(t)&&t.length===r}function q0(t){return He(t)&&["$and","$or","$nor"].indexOf(t)===-1}function zd(t,r,e){if(it(t)&&!We(t)){let n=s=>s,o=r;Object.keys(r).every(q0)&&(o={temp:r},n=s=>({temp:s}));let i=new Yt(o,e);for(let s=0,l=t.length;s<l;s++)if(i.test(n(t[s])))return!0}return!1}var yv=t=>t===null,bv=t=>dt(t)&&t>=gc&&t<=pc&&t.toString().indexOf(".")===-1,_v=t=>dt(t)&&t>=Pd&&t<=Md&&t.toString().indexOf(".")===-1,W0={array:it,bool:ya,boolean:ya,date:Tn,decimal:dt,double:dt,int:bv,long:_v,number:dt,null:yv,object:ut,regex:ci,regexp:ci,string:wt,undefined:X,function:t=>{throw new ce("unsupported type key `function`.")},1:dt,2:wt,3:ut,4:it,6:X,8:ya,9:Tn,10:yv,11:ci,16:bv,18:_v,19:dt};function xv(t,r,e){let n=W0[r];return n?n(t):!1}function Dv(t,r,e){return Array.isArray(r)?r.findIndex(n=>xv(t,n,e))>=0:xv(t,r,e)}function Mc(t,r,e){return Ir(t).some(n=>Pn(n)===Pn(r)&&e(n,r))}var OT=Te(Dc);var fi=(t,r)=>(e,n,o)=>{z(it(n),`${t}: expression must be an array.`);let i=L(e,n,null,o);return i.some(X)?null:(z(i.every(dt),`${t}: expression must evalue to array of numbers.`),r(i))};var wN=fi("$bitAnd",t=>t.reduce((r,e)=>r&e,-1));var EN=fi("$bitOr",t=>t.reduce((r,e)=>r|e,0));var IN=fi("$bitXor",t=>t.reduce((r,e)=>r^e,0));var Vd={};ps(Vd,{$and:()=>H0,$not:()=>K0,$or:()=>Q0});var H0=(t,r,e)=>{let n=L(t,r,null,e);return Ee(n,e.useStrictMode)&&n.every(o=>Ee(o,e.useStrictMode))};var K0=(t,r,e)=>{let n=Ir(r);if(n.length==0)return!1;if(n.length==1)return!L(t,n[0],null,e);throw"Expression $not takes exactly 1 argument"};var Q0=(t,r,e)=>{let n=L(t,r,null,e),o=e.useStrictMode;return Ee(n,o)&&n.some(i=>Ee(i,o))};var qd={};ps(qd,{$cmp:()=>Y0,$eq:()=>G0,$gt:()=>X0,$gte:()=>Z0,$lt:()=>J0,$lte:()=>tC,$ne:()=>eC});var Y0=(t,r,e)=>{let n=L(t,r,null,e);return n[0]>n[1]?1:n[0]<n[1]?-1:0};var G0=Te(Sa);var X0=Te(Ac);var Z0=Te(Ic);var J0=Te(Ec);var tC=Te(kc);var eC=Te(Oc);var Ev=(t,r)=>{let e={};return t.split("").forEach((n,o)=>e[n]=r*(o+1)),e},z$=gt(j(j({},Ev("ABCDEFGHIKLM",1)),Ev("NOPQRSTUVWXY",-1)),{Z:0});var Mv={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Nt(t,r=Mv){let e=Object.assign({},Mv,r),n=new Set(Object.keys(e));return(o,i,s)=>{let l=L(o,i,null,s);if(n.has(`${l}`)){let d=e[`${l}`];if(d instanceof Error)throw new ce(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return d}return t(l)}}var Gj=Nt(Math.acos,{Infinity:1/0,0:new Error});var Jj=Nt(Math.acosh,{Infinity:1/0,0:new Error});var rU=Nt(Math.asin);var iU=Nt(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var cU=Nt(Math.atan);var hU=Nt(Math.atanh,{1:1/0,"-1":-1/0});var vU=Nt(Math.cos);var _U=Nt(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var iC=Math.PI/180,CU=Nt(t=>t*iC,{Infinity:1/0,"-Infinity":1/0});var aC=180/Math.PI,OU=Nt(t=>t*aC,{Infinity:1/0,"-Infinity":-1/0});var kU=Nt(Math.sin);var MU=Nt(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var NU=Nt(Math.tan);var Hd=(t,r,e)=>{if(We(r))return t;let n=Object.keys(r),o=!1;Tv(r,e);let i=e.idKey;if(Ar(n,i)){let l=r[i];(l===0||l===!1)&&(n=n.filter(vc.bind(null,[i])),o=n.length==0)}else n.push(i);let s=Vt.init(e);return t.map(l=>Wd(l,r,s.update(l),n,o))};function Wd(t,r,e,n,o){let i={},s=!1,l=!1,d=[];o&&d.push(e.idKey);for(let h of n){let p,y=r[h];if(h!==e.idKey&&Ar([0,!1],y)&&(l=!0),h===e.idKey&&We(y))p=t[h];else if(wt(y))p=L(t,y,h,e);else if(!Ar([1,!0],y))if(y instanceof Array)p=y.map(A=>{let N=L(t,A,null,e);return X(N)?null:N});else if(ut(y)){let A=y,N=Object.keys(y),F=N.length==1?N[0]:"",Q=hr(pr.PROJECTION,F,e);if(Q)F==="$slice"?Ir(A[F]).every(dt)?(p=Q(t,A[F],h,e),s=!0):p=L(t,A,h,e):p=Q(t,A[F],h,e);else if(He(F))p=L(t,A[F],F,e);else if(zt(t,h)){Tv(A,e);let J=t[h];J instanceof Array?p=J.map(nt=>Wd(nt,A,e,N,!1)):(J=ut(J)?J:t,p=Wd(J,A,e,N,!1))}else p=L(t,y,null,e)}else{d.push(h);continue}let w=ai(t,h,{preserveMissing:!0});w!==void 0&&mc(i,w,{flatten:!0}),vc([0,1,!1,!0],y)&&(p===void 0?wa(i,h,{descendArray:!0}):_c(i,h,p))}if(hc(i),(s||l||o)&&(i=er({},t,i),d.length>0))for(let h of d)wa(i,h,{descendArray:!0});return i}function Tv(t,r){let e=[!1,!1];for(let[n,o]of Object.entries(t)){if(n===r?.idKey)return;o===0||o===!1?e[0]=!0:(o===1||o===!0)&&(e[1]=!0),z(!(e[0]&&e[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var Kd=(t,r,e)=>{z(it(r),"Invalid expression: $and expects value to be an Array.");let n=r.map(o=>new Yt(o,e));return o=>n.every(i=>i.test(o))};var Ra=(t,r,e)=>{z(it(r),"Invalid expression. $or expects value to be an Array");let n=r.map(o=>new Yt(o,e));return o=>n.some(i=>i.test(o))};var Qd=(t,r,e)=>{z(it(r),"Invalid expression. $nor expects value to be an array.");let n=Ra("$or",r,e);return o=>!n(o)};var Yd=(t,r,e)=>{let n={};n[t]=xc(r);let o=new Yt(n,e);return i=>!o.test(i)};var Pc=Ct(Sa);var Tc=Ct(Ac);var Nc=Ct(Ic);var $c=Ct(Ud);var Lc=Ct(Ec);var Bc=Ct(kc);var Fc=Ct(Oc);var jc=Ct(Dc);function lC(t,r,e){return n=>L(n,r,null,e)}function uC(t,r,e){if(!e?.jsonSchemaValidator)throw new ce("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let n=e?.jsonSchemaValidator(r);return o=>n(o)}var Gd=Ct(wv);var Xd=Ct(Cv);function dC(t,r,e){z(e.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let n=r;return z(_a(n),"$where only accepts a Function object"),o=>Ee(n.call(o),e?.useStrictMode)}var fC=Ct(Rv);var Zd=Ct(zd);var Jd=Ct(Ov);var tf=Ct(Sv);var ef=Ct(Dv);var Nv=!1;function $v(t){return Nv||(Bd(pr.PIPELINE,{$sort:Rc,$project:Hd}),Bd(pr.QUERY,{$and:Kd,$eq:Pc,$elemMatch:Zd,$exists:tf,$gt:Tc,$gte:Nc,$in:$c,$lt:Lc,$lte:Bc,$ne:Fc,$nin:jc,$mod:Gd,$nor:Qd,$not:Yd,$or:Ra,$regex:Xd,$size:Jd,$type:ef}),Nv=!0),new Yt(t)}function Oa(t,r){var e=he(t.primaryKey);r=Et(r);var n=tr(r);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([h,p])=>{(typeof p!="object"||p===null)&&(n.selector[h]={$eq:p})})):n.selector={},n.index){var o=ha(n.index);o.includes(e)||o.push(e),n.index=o}if(n.sort){var d=n.sort.find(h=>eg(h)===e);d||(n.sort=n.sort.slice(0),n.sort.push({[e]:"asc"}))}else if(n.index)n.sort=n.index.map(h=>({[h]:"asc"}));else{if(t.indexes){var i=new Set;Object.entries(n.selector).forEach(([h,p])=>{var y=!1;typeof p=="object"&&p!==null?y=!!Object.keys(p).find(w=>dc.has(w)):y=!0,y&&i.add(h)});var s=-1,l;t.indexes.forEach(h=>{var p=Er(h)?h:[h],y=p.findIndex(w=>!i.has(w));y>0&&y>s&&(s=y,l=p)}),l&&(n.sort=l.map(h=>({[h]:"asc"})))}n.sort||(n.sort=[{[e]:"asc"}])}return n}function Uc(t,r){if(!r.sort)throw $("SNH",{query:r});var e=[];r.sort.forEach(o=>{var i=Object.keys(o)[0],s=Object.values(o)[0];e.push({key:i,direction:s,getValueFn:tg(i)})});var n=(o,i)=>{for(var s=0;s<e.length;++s){var l=e[s],d=l.getValueFn(o),h=l.getValueFn(i);if(d!==h){var p=l.direction==="asc"?Tt(d,h):Tt(h,d);return p}}};return n}function mi(t,r){if(!r.sort)throw $("SNH",{query:r});var e=$v(r.selector),n=o=>e.test(o);return n}function Nn(t,r){return U(this,null,function*(){var e=yield t.exec();if(!e)return null;if(Array.isArray(e))return Promise.all(e.map(o=>r(o)));if(e instanceof Map)return Promise.all([...e.values()].map(o=>r(o)));var n=yield r(e);return n})}function mC(t,r){return!r.sort||r.sort.length===0?[t]:r.sort.map(e=>Object.keys(e)[0])}var hC=new WeakMap;function pC(t){return qe(hC,t,()=>{var r=t.collection,e=Oa(r.storageInstance.schema,tr(t.mangoQuery)),n=r.schema.primaryPath,o=Uc(r.schema.jsonSchema,e),i=(h,p)=>{var y={docA:h,docB:p,rxQuery:t};return o(y.docA,y.docB)},s=mi(r.schema.jsonSchema,e),l=h=>{var p={doc:h,rxQuery:t};return s(p.doc)},d={primaryKey:t.collection.schema.primaryPath,skip:e.skip,limit:e.limit,sortFields:mC(n,e),sortComparator:i,queryMatcher:l};return d})}function Lv(t,r){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var e=pC(t),n=Rt(t._result).docsData.slice(0),o=Rt(t._result).docsDataMap,i=!1,s=r.map(d=>Rg(d)).filter(Kp),l=s.find(d=>{var h={queryParams:e,changeEvent:d,previousResults:n,keyDocumentMap:o},p=sv(h);if(p==="runFullQueryAgain")return!0;if(p!=="doNothing")return i=!0,cv(p,e,d,n,o),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:i,newResults:n}}var gC=function(){function t(){this._map=new Map}var r=t.prototype;return r.getByQuery=function(n){var o=n.toString();return qe(this._map,o,()=>n)},t}();function Fv(){return new gC}function Bv(t,r){r.uncached=!0;var e=r.toString();t._map.delete(e)}function vC(t){return t.refCount$.observers.length}var yC=100,bC=30*1e3,_C=(t,r)=>(e,n)=>{if(!(n._map.size<t)){var o=ee()-r,i=[],s=Array.from(n._map.values());for(var l of s)if(!(vC(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<o){Bv(n,l);continue}i.push(l)}var d=i.length-t;if(!(d<=0)){var h=i.sort((y,w)=>y._lastEnsureEqual-w._lastEnsureEqual),p=h.slice(0,d);p.forEach(y=>Bv(n,y))}}},nf=_C(yC,bC),rf=new WeakSet;function jv(t){rf.has(t)||(rf.add(t),ag().then(()=>lg(200)).then(()=>{t.destroyed||t.cacheReplacementPolicy(t,t._queryCache),rf.delete(t)}))}var zv=function(){function t(e,n,o){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(i=>{var s=i.docId,l=this.cacheItemByDocId.get(s);l&&(l[0].delete(i.revisionHeight),l[0].size===0&&this.cacheItemByDocId.delete(s))}):void 0,this.primaryPath=e,this.changes$=n,this.documentCreator=o,n.subscribe(i=>{this.tasks.add(()=>{for(var s=this.cacheItemByDocId,l=0;l<i.length;l++){var d=i[l],h=s.get(d.documentId);if(h){var p=d.documentData;p||(p=d.previousDocumentData),h[1]=p}}}),this.tasks.size<=1&&oi().then(()=>{this.processTasks()})})}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(o=>o()),this.tasks.clear()}},r.getLatestDocumentData=function(n){this.processTasks();var o=kn(this.cacheItemByDocId,n);return o[1]},r.getLatestDocumentDataIfExists=function(n){this.processTasks();var o=this.cacheItemByDocId.get(n);if(o)return o[1]},De(t,[{key:"getCachedRxDocuments",get:function(){var e=Uv(this);return Ve(this,"getCachedRxDocuments",e)}},{key:"getCachedRxDocument",get:function(){var e=Uv(this);return Ve(this,"getCachedRxDocument",n=>e([n])[0])}}])}();function Uv(t){var r=t.primaryPath,e=t.cacheItemByDocId,n=t.registry,o=It.deepFreezeWhenDevMode,i=t.documentCreator,s=l=>{for(var d=new Array(l.length),h=[],p=0;p<l.length;p++){var y=l[p],w=y[r],A=mo(y._rev),N=void 0,F=void 0,Q=e.get(w);Q?(N=Q[0],F=N.get(A)):(N=new Map,Q=[N,y],e.set(w,Q));var J=F?F.deref():void 0;J||(y=o(y),J=i(y),N.set(A,wC(J)),n&&h.push(J)),d[p]=J}return h.length>0&&n&&(t.tasks.add(()=>{for(var nt=0;nt<h.length;nt++){var tt=h[nt];n.register(tt,{docId:tt.primary,revisionHeight:mo(tt.revision)})}}),t.tasks.size<=1&&oi().then(()=>{t.processTasks()})),d};return s}function zc(t,r){var e=t.getCachedRxDocuments;return e(r)}var xC=typeof WeakRef=="function",wC=xC?CC:SC;function CC(t){return new WeakRef(t)}function SC(t){return{deref(){return t}}}var of=function(){function t(e,n,o){this.time=ee(),this.query=e,this.count=o,this.documents=zc(this.query.collection._docCache,n)}var r=t.prototype;return r.getValue=function(n){var o=this.query.op;if(o==="count")return this.count;if(o==="findOne"){var i=this.documents.length===0?null:this.documents[0];if(!i&&n)throw $("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:o});return i}else return o==="findByIds"?this.docsMap:this.documents.slice(0)},De(t,[{key:"docsData",get:function(){return Ve(this,"docsData",this.documents.map(e=>e._data))}},{key:"docsDataMap",get:function(){var e=new Map;return this.documents.forEach(n=>{e.set(n.primary,n._data)}),Ve(this,"docsDataMap",e)}},{key:"docsMap",get:function(){for(var e=new Map,n=this.documents,o=0;o<n.length;o++){var i=n[o];e.set(i.primary,i)}return Ve(this,"docsMap",e)}}])}();var RC=0,OC=function(){return++RC},af=function(){function t(e,n,o,i={}){this.id=OC(),this._execOverDatabaseCount=0,this._creationTime=ee(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new be(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=kr,this.op=e,this.mangoQuery=n,this.collection=o,this.other=i,n||(this.mangoQuery=Da()),this.isFindOneByIdQuery=AC(this.collection.schema.primaryPath,n)}var r=t.prototype;return r._setResultData=function(n){if(typeof n>"u")throw $("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof n=="number"){this._result=new of(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var o=new of(this,n,n.length);this._result=o},r._execOverDatabase=function(){return U(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=ee(),this.op==="count"){var n=this.getPreparedQuery(),o=yield this.collection.storageInstance.count(n);if(o.mode==="slow"&&!this.collection.database.allowSlowCount)throw $("QU14",{collection:this.collection,queryObj:this.mangoQuery});return o.count}if(this.op==="findByIds"){var i=Rt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,s=new Map,l=[];if(i.forEach(p=>{var y=this.collection._docCache.getLatestDocumentDataIfExists(p);if(y){if(!y._deleted){var w=this.collection._docCache.getCachedRxDocument(y);s.set(p,w)}}else l.push(p)}),l.length>0){var d=yield this.collection.storageInstance.findDocumentsById(l,!1);d.forEach(p=>{var y=this.collection._docCache.getCachedRxDocument(p);s.set(y.primary,y)})}return s}var h=kC(this);return h.then(p=>(this._lastExecEnd=ee(),p))})},r.exec=function(n){return U(this,null,function*(){if(n&&this.op!=="findOne")throw $("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield Vv(this);var o=Rt(this._result);return o.getValue(n)})},r.toString=function(){var n=ei({op:this.op,query:this.mangoQuery,other:this.other},!0),o=JSON.stringify(n);return this.toString=()=>o,o},r.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:Oa(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),Qt("prePrepareQuery",n);var o=Ea(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>o,o},r.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},r.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(o=>o.remove())):n.remove())},r.incrementalRemove=function(){return Nn(this.asRxQuery,n=>n.incrementalRemove())},r.update=function(n){throw St("update")},r.patch=function(n){return Nn(this.asRxQuery,o=>o.patch(n))},r.incrementalPatch=function(n){return Nn(this.asRxQuery,o=>o.incrementalPatch(n))},r.modify=function(n){return Nn(this.asRxQuery,o=>o.modify(n))},r.incrementalModify=function(n){return Nn(this.asRxQuery,o=>o.incrementalModify(n))},r.where=function(n){throw St("query-builder")},r.sort=function(n){throw St("query-builder")},r.skip=function(n){throw St("query-builder")},r.limit=function(n){throw St("query-builder")},De(t,[{key:"$",get:function(){if(!this._$){var e=this.collection.$.pipe(_t(n=>!n.isLocal),sr(null),Ht(()=>Vv(this)),lt(()=>this._result),ji(Js),$o((n,o)=>!!(n&&n.time===Rt(o).time)),_t(n=>!!n),lt(n=>Rt(n).getValue()));this._$=Po(e,this.refCount$.pipe(_t(()=>!1)))}return this._$}},{key:"$$",get:function(){var e=this.collection.database.getReactivityFactory();return e.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var e=this.collection.schema.jsonSchema,n=Oa(this.collection.schema.jsonSchema,this.mangoQuery);return Ve(this,"queryMatcher",mi(e,n))}},{key:"asRxQuery",get:function(){return this}}])}();function Da(){return{selector:{}}}function DC(t){return t.collection._queryCache.getByQuery(t)}function hi(t,r,e,n){Qt("preCreateRxQuery",{op:t,queryObj:r,collection:e,other:n});var o=new af(t,r,e,n);return o=DC(o),jv(e),o}function qv(t){var r=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=r}function Vv(t){return U(this,null,function*(){return t.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(t.collection.awaitBeforeReads).map(r=>r()))),t.collection.database.destroyed||qv(t)?!1:(t._ensureEqualQueue=t._ensureEqualQueue.then(()=>EC(t)),t._ensureEqualQueue)})}function EC(t){if(t._lastEnsureEqual=ee(),t.collection.database.destroyed||qv(t))return kr;var r=!1,e=!1;if(t._latestChangeEvent===-1&&(e=!0),!e){var n=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(n===null)e=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var o=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(t.op==="count"){var i=Rt(t._result).count,s=i;o.forEach(d=>{var h=d.previousDocumentData&&t.doesDocumentDataMatch(d.previousDocumentData),p=t.doesDocumentDataMatch(d.documentData);!h&&p&&s++,h&&!p&&s--}),s!==i&&(r=!0,t._setResultData(s))}else{var l=Lv(t,o);l.runFullQueryAgain?e=!0:l.changed&&(r=!0,t._setResultData(l.newResults))}}}return e?t._execOverDatabase().then(d=>(t._latestChangeEvent=t.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!t._result||d!==t._result.count)&&(r=!0,t._setResultData(d)),r):((!t._result||!ng(t.collection.schema.primaryPath,d,t._result.docsData))&&(r=!0,t._setResultData(d)),r))):Promise.resolve(r)}function Ea(t,r){if(!r.sort)throw $("SNH",{query:r});var e=lv(t,r);return{query:r,queryPlan:e}}function kC(t){return U(this,null,function*(){var r=[],e=t.collection;if(t.isFindOneByIdQuery)if(Array.isArray(t.isFindOneByIdQuery)){var n=t.isFindOneByIdQuery;if(n=n.filter(p=>{var y=t.collection._docCache.getLatestDocumentDataIfExists(p);return y?(y._deleted||r.push(y),!1):!0}),n.length>0){var o=yield e.storageInstance.findDocumentsById(n,!1);fr(r,o)}}else{var i=t.isFindOneByIdQuery,s=t.collection._docCache.getLatestDocumentDataIfExists(i);if(!s){var l=yield e.storageInstance.findDocumentsById([i],!1);l[0]&&(s=l[0])}s&&!s._deleted&&r.push(s)}else{var d=t.getPreparedQuery(),h=yield e.storageInstance.query(d);r=h.documents}return r})}function AC(t,r){if(!r.skip&&r.selector&&Object.keys(r.selector).length===1&&r.selector[t]){var e=r.selector[t];if(typeof e=="string")return e;if(Object.keys(e).length===1&&typeof e.$eq=="string"||Object.keys(e).length===1&&Array.isArray(e.$eq)&&!e.$eq.find(n=>typeof n!="string"))return e.$eq}return!1}var Wv="_rxdb_internal";function cf(t,r){return U(this,null,function*(){var e=yield t.findDocumentsById([r],!1),n=e[0];if(n)return n})}function pi(t,r,e,n){if(n)throw n.status===409?$("CONFLICT",{collection:t.name,id:r,writeError:n,data:e}):n.status===422?$("VD2",{collection:t.name,id:r,writeError:n,data:e}):n}function Hv(t,r,e,n,o,i,s){for(var l=!!t.schema.attachments,d=[],h=[],p=[],y=po(10),w={id:y,events:[],checkpoint:null,context:o,startTime:ee(),endTime:0},A=w.events,N=[],F=[],Q=[],J=e.size>0,nt,tt=n.length,kt=function(){var Mt=n[st],Ot=Mt.document,Lt=Mt.previous,ue=Ot[r],Ne=Ot._deleted,or=Lt&&Lt._deleted,Un=void 0;J&&(Un=e.get(ue));var ir;if(Un){var Nr=Un._rev;if(!Lt||Lt&&Nr!==Lt._rev){var en={isError:!0,status:409,documentId:ue,writeRow:Mt,documentInDb:Un};return p.push(en),1}var Ie=l?sf(Mt):Mt;l&&(Ne?Lt&&Object.keys(Lt._attachments).forEach(re=>{F.push({documentId:ue,attachmentId:re,digest:Rt(Lt)._attachments[re].digest})}):(Object.entries(Ot._attachments).find(([re,ne])=>{var nn=Lt?Lt._attachments[re]:void 0;return!nn&&!ne.data&&(ir={documentId:ue,documentInDb:Un,isError:!0,status:510,writeRow:Mt,attachmentId:re}),!0}),ir||Object.entries(Ot._attachments).forEach(([re,ne])=>{var nn=Lt?Lt._attachments[re]:void 0;if(!nn)N.push({documentId:ue,attachmentId:re,attachmentData:ne,digest:ne.digest});else{var vl=Ie.document._attachments[re].digest;ne.data&&nn.digest!==vl&&Q.push({documentId:ue,attachmentId:re,attachmentData:ne,digest:ne.digest})}}))),ir?p.push(ir):(l?(h.push(sf(Ie)),s&&s(Ot)):(h.push(Ie),s&&s(Ot)),nt=Ie);var rn=null,Ci=null,ar=null;if(or&&!Ne)ar="INSERT",rn=l?Pr(Ot):Ot;else if(Lt&&!or&&!Ne)ar="UPDATE",rn=l?Pr(Ot):Ot,Ci=Lt;else if(Ne)ar="DELETE",rn=Rt(Ot),Ci=Lt;else throw $("SNH",{args:{writeRow:Mt}});var Ua={documentId:ue,documentData:rn,previousDocumentData:Ci,operation:ar};A.push(Ua)}else{var wi=!!Ne;if(l&&Object.entries(Ot._attachments).forEach(([re,ne])=>{ne.data?N.push({documentId:ue,attachmentId:re,attachmentData:ne,digest:ne.digest}):(ir={documentId:ue,isError:!0,status:510,writeRow:Mt,attachmentId:re},p.push(ir))}),ir||(l?(d.push(sf(Mt)),i&&i(Ot)):(d.push(Mt),i&&i(Ot)),nt=Mt),!wi){var gl={documentId:ue,operation:"INSERT",documentData:l?Pr(Ot):Ot,previousDocumentData:l&&Lt?Pr(Lt):Lt};A.push(gl)}}},st=0;st<tt;st++)kt();return{bulkInsertDocs:d,bulkUpdateDocs:h,newestRow:nt,errors:p,eventBulk:w,attachmentsAdd:N,attachmentsRemove:F,attachmentsUpdate:Q}}function sf(t){return{previous:t.previous,document:Pr(t.document)}}function IC(t){return atob(t).length}function MC(t){var r=t.data;if(!r)return t;var e={length:IC(r),digest:t.digest,type:t.type};return e}function Pr(t){if(!t._attachments||Object.keys(t._attachments).length===0)return t;var r=Et(t);return r._attachments={},Object.entries(t._attachments).forEach(([e,n])=>{r._attachments[e]=MC(n)}),r}function xo(t){return Object.assign({},t,{_meta:Et(t._meta)})}var Kv=new WeakMap;function Vc(t,r,e){It.deepFreezeWhenDevMode(e);var n=he(r.schema.primaryKey),o={originalStorageInstance:r,schema:r.schema,internals:r.internals,collectionName:r.collectionName,databaseName:r.databaseName,options:r.options,bulkWrite(i,s){for(var l=t.token,d=new Array(i.length),h=ee(),p=0;p<i.length;p++){var y=i[p],w=xo(y.document);w._meta.lwt=h;var A=y.previous;w._rev=ti(l,A),d[p]={document:w,previous:A}}return Qt("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),t.lockedRun(()=>r.bulkWrite(d,s)).then(N=>{var F={error:[]},Q=rr(n,d,N);Kv.set(F,Q);var J=N.error.length===0?[]:N.error.filter(tt=>tt.status===409&&!tt.writeRow.previous&&!tt.writeRow.document._deleted&&Rt(tt.documentInDb)._deleted?!0:(F.error.push(tt),!1));if(J.length>0){var nt=J.map(tt=>({previous:tt.documentInDb,document:Object.assign({},tt.writeRow.document,{_rev:ti(t.token,tt.documentInDb)})}));return t.lockedRun(()=>r.bulkWrite(nt,s)).then(tt=>{fr(F.error,tt.error);var kt=rr(n,nt,tt);return fr(Q,kt),F})}return F})},query(i){return t.lockedRun(()=>r.query(i))},count(i){return t.lockedRun(()=>r.count(i))},findDocumentsById(i,s){return t.lockedRun(()=>r.findDocumentsById(i,s))},getAttachmentData(i,s,l){return t.lockedRun(()=>r.getAttachmentData(i,s,l))},getChangedDocumentsSince:r.getChangedDocumentsSince?(i,s)=>t.lockedRun(()=>r.getChangedDocumentsSince(Rt(i),s)):void 0,cleanup(i){return t.lockedRun(()=>r.cleanup(i))},remove(){return t.storageInstances.delete(o),t.lockedRun(()=>r.remove())},close(){return t.storageInstances.delete(o),t.lockedRun(()=>r.close())},changeStream(){return r.changeStream()},conflictResultionTasks(){return r.conflictResultionTasks()},resolveConflictResultionTask(i){if(i.output.isEqual)return r.resolveConflictResultionTask(i);var s=Object.assign({},i.output.documentData,{_meta:Rn(),_rev:Yr(),_attachments:{}}),l=Et(s);return delete l._meta,delete l._rev,delete l._attachments,r.resolveConflictResultionTask({id:i.id,output:{isEqual:!1,documentData:l}})}};return t.storageInstances.add(o),o}function Qv(t){if(t.schema.keyCompression)throw $("UT5",{args:{params:t}});if(PC(t.schema))throw $("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw $("UT7",{args:{params:t}})}function PC(t){return!!(t.encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)}function rr(t,r,e){var n=Kv.get(e);if(n)return n;var o=[];if(e.error.length>0){for(var i=new Set,s=0;s<e.error.length;s++){var l=e.error[s];i.add(l.documentId)}for(var d=0;d<r.length;d++){var h=r[d].document;i.has(h[t])||o.push(Pr(h))}}else{o.length=r.length-e.error.length;for(var p=0;p<r.length;p++){var y=r[p].document;o[p]=Pr(y)}}return o}var Yv=function(){function t(e,n,o,i){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=e,this.primaryPath=n,this.preWrite=o,this.postWrite=i}var r=t.prototype;return r.addWrite=function(n,o){var i=n[this.primaryPath],s=qe(this.queueByDocId,i,()=>[]),l=new Promise((d,h)=>{var p={lastKnownDocumentState:n,modifier:o,resolve:d,reject:h};Rt(s).push(p),this.triggerRun()});return l},r.triggerRun=function(){return U(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],o=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(o.entries()).map(d=>U(this,[d],function*([s,l]){var h=TC(l.map(w=>w.lastKnownDocumentState)),p=h;for(var y of l)try{p=yield y.modifier(tr(p))}catch(w){y.reject(w),y.reject=()=>{},y.resolve=()=>{}}try{yield this.preWrite(p,h)}catch(w){l.forEach(A=>A.reject(w));return}n.push({previous:h,document:p})})));var i=n.length>0?yield this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return yield Promise.all(rr(this.primaryPath,n,i).map(s=>{var l=s[this.primaryPath];this.postWrite(s);var d=kn(o,l);d.forEach(h=>h.resolve(s))})),i.error.forEach(s=>{var l=s.documentId,d=kn(o,l),h=rc(s);if(h){var p=qe(this.queueByDocId,l,()=>[]);d.reverse().forEach(w=>{w.lastKnownDocumentState=Rt(h.documentInDb),Rt(p).unshift(w)})}else{var y=bg(s);d.forEach(w=>w.reject(y))}}),this.isRunning=!1,this.triggerRun()}})},t}();function lf(t){var r=e=>U(this,null,function*(){var n=rg(e);n._deleted=e._deleted;var o=yield t(n),i=Object.assign({},o,{_meta:e._meta,_attachments:e._attachments,_rev:e._rev,_deleted:typeof o._deleted<"u"?o._deleted:e._deleted});return typeof i._deleted>"u"&&(i._deleted=!1),i});return r}function TC(t){var r=t[0],e=mo(r._rev);return t.forEach(n=>{var o=mo(n._rev);o>e&&(r=n,e=o)}),r}var $n={get primaryPath(){var t=this;if(t.isInstanceOfRxDocument)return t.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){var t=this;if(t.isInstanceOfRxDocument)return t._data._rev},get deleted$(){var t=this;if(t.isInstanceOfRxDocument)return t.$.pipe(lt(r=>r._data._deleted))},get deleted$$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.deleted$,t.getLatest().deleted,t.collection.database)},get deleted(){var t=this;if(t.isInstanceOfRxDocument)return t._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){var t=this;return t.collection.$.pipe(_t(r=>!r.isLocal),_t(r=>r.documentId===this.primary),lt(r=>Sg(r)),sr(t.collection._docCache.getLatestDocumentData(this.primary)),$o((r,e)=>r._rev===e._rev),lt(r=>this.collection._docCache.getCachedRxDocument(r)),ji(Js))},get $$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.$,t.getLatest()._data,t.collection.database)},get$(t){if(It.isDevMode()){if(t.includes(".item."))throw $("DOC1",{path:t});if(t===this.primaryPath)throw $("DOC2");if(this.collection.schema.finalFields.includes(t))throw $("DOC3",{path:t});var r=Pe(this.collection.schema.jsonSchema,t);if(!r)throw $("DOC4",{path:t})}return this.$.pipe(lt(e=>Me(e,t)),$o())},get$$(t){var r=this.get$(t),e=this.collection.database.getReactivityFactory();return e.fromObservable(r,this.getLatest().get(t),this.collection.database)},populate(t){var r=Pe(this.collection.schema.jsonSchema,t),e=this.get(t);if(!e)return cg;if(!r)throw $("DOC5",{path:t});if(!r.ref)throw $("DOC6",{path:t,schemaObj:r});var n=this.collection.database.collections[r.ref];if(!n)throw $("DOC7",{ref:r.ref,path:t,schemaObj:r});return r.type==="array"?n.findByIds(e).exec().then(o=>{var i=o.values();return Array.from(i)}):n.findOne(e).exec()},get(t){return Xv(this,t)},toJSON(t=!1){if(t)return It.deepFreezeWhenDevMode(this._data);var r=Et(this._data);return delete r._rev,delete r._attachments,delete r._deleted,delete r._meta,It.deepFreezeWhenDevMode(r)},toMutableJSON(t=!1){return tr(this.toJSON(t))},update(t){throw St("update")},incrementalUpdate(t){throw St("update")},updateCRDT(t){throw St("crdt")},putAttachment(){throw St("attachments")},getAttachment(){throw St("attachments")},allAttachments(){throw St("attachments")},get allAttachments$(){throw St("attachments")},modify(t,r){return U(this,null,function*(){var e=this._data,n=yield lf(t)(e);return this._saveData(n,e)})},incrementalModify(t,r){return this.collection.incrementalWriteQueue.addWrite(this._data,lf(t)).then(e=>this.collection._docCache.getCachedRxDocument(e))},patch(t){var r=this._data,e=tr(r);return Object.entries(t).forEach(([n,o])=>{e[n]=o}),this._saveData(e,r)},incrementalPatch(t){return this.incrementalModify(r=>(Object.entries(t).forEach(([e,n])=>{r[e]=n}),r))},_saveData(t,r){return U(this,null,function*(){if(t=Et(t),this._data._deleted)throw $("DOC11",{id:this.primary,document:this});yield uf(this.collection,t,r);var e=[{previous:r,document:t}],n=yield this.collection.storageInstance.bulkWrite(e,"rx-document-save-data"),o=n.error[0];return pi(this.collection,this.primary,t,o),yield this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument(rr(this.collection.schema.primaryPath,e,n)[0])})},remove(){var t=this.collection;if(this.deleted)return Promise.reject($("DOC13",{document:this,id:this.primary}));var r=Et(this._data),e;return t._runHooks("pre","remove",r,this).then(()=>U(this,null,function*(){r._deleted=!0;var n=[{previous:this._data,document:r}],o=yield t.storageInstance.bulkWrite(n,"rx-document-remove"),i=o.error[0];return pi(t,this.primary,r,i),rr(this.collection.schema.primaryPath,n,o)[0]})).then(n=>(e=n,this.collection._runHooks("post","remove",r,this))).then(()=>this.collection._docCache.getCachedRxDocument(e))},incrementalRemove(){return this.incrementalModify(t=>U(this,null,function*(){return yield this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t})).then(t=>U(this,null,function*(){return yield this.collection._runHooks("post","remove",t._data,t),t}))},destroy(){throw $("DOC14")}};function qc(t=$n){var r=function(n,o){this.collection=n,this._data=o,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return r.prototype=t,r}function Gv(t,r,e){var n=new t(r,e);return Qt("createRxDocument",n),n}function uf(t,r,e){return r._meta=Object.assign({},e._meta,r._meta),It.isDevMode()&&t.schema.validateChange(e,r),t._runHooks("pre","save",r,e)}function Xv(t,r){return qe(t._propertyCache,r,()=>{var e=Me(t._data,r);if(typeof e!="object"||e===null||Array.isArray(e))return It.deepFreezeWhenDevMode(e);var n=new Proxy(Et(e),{get(o,i){if(typeof i!="string")return o[i];var s=i.charAt(i.length-1);if(s==="$")if(i.endsWith("$$")){var l=i.slice(0,-2);return t.get$$(mr(r+"."+l))}else{var d=i.slice(0,-1);return t.get$(mr(r+"."+d))}else if(s==="_"){var h=i.slice(0,-1);return t.populate(mr(r+"."+h))}else{var p=o[i];return typeof p=="number"||typeof p=="string"||typeof p=="boolean"?p:Xv(t,mr(r+"."+i))}}});return n})}var gi="collection",df="storage-token",NC="rx-migration-status",$C="RxInternalDocument",Wc=oc({version:0,title:$C,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[gi,df,NC,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Hc(t,r){return ga(Wc,{key:t,context:r})}function Kc(t){return U(this,null,function*(){var r=Ea(t.schema,{selector:{context:gi,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),e=yield t.query(r),n=e.documents;return n})}var Zv="storageToken",LC=Hc(Zv,df);function Jv(t){return U(this,null,function*(){var r=po(10),e=t.password?yield t.hashFunction(JSON.stringify(t.password)):void 0,n={id:LC,context:df,key:Zv,data:{rxdbVersion:t.rxdbVersion,token:r,instanceToken:t.token,passwordHash:e},_deleted:!1,_meta:Rn(),_rev:Yr(),_attachments:{}},o=[{document:n}],i=yield t.internalStore.bulkWrite(o,"internal-add-storage-token");if(!i.error[0])return rr("id",o,i)[0];var s=Rt(i.error[0]);if(s.isError&&rc(s)){var l=s;if(!BC(l.documentInDb.data.rxdbVersion,t.rxdbVersion))throw $("DM5",{args:{database:t.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(e&&e!==l.documentInDb.data.passwordHash)throw $("DB1",{passwordHash:e,existingPasswordHash:l.documentInDb.data.passwordHash});var d=l.documentInDb;return Rt(d)}throw s})}function BC(t,r){if(!t||r.includes("beta")&&r!==t)return!1;var e=t.split(".")[0],n=r.split(".")[0];return e===n}function ff(t,r){return t+"-"+r.version}function ka(t,r){return r=Et(r),r=xg(t,r),typeof t.jsonSchema.primaryKey!="string"&&(r=nc(t.primaryPath,t.jsonSchema,r)),r._meta=Rn(),Object.prototype.hasOwnProperty.call(r,"_deleted")||(r._deleted=!1),Object.prototype.hasOwnProperty.call(r,"_attachments")||(r._attachments={}),Object.prototype.hasOwnProperty.call(r,"_rev")||(r._rev=Yr()),r}function ty(t,r){return U(this,null,function*(){r.multiInstance=t.multiInstance;var e=yield t.storage.createStorageInstance(r);return e})}function Qc(t,r,e,n,o,i,s){return U(this,null,function*(){var l=yield Kc(r),d=l.filter(w=>w.data.name===o),h=[];d.forEach(w=>{h.push({collectionName:w.data.name,schema:w.data.schema,isCollection:!0}),w.data.connectedStorages.forEach(A=>h.push({collectionName:A.collectionName,isCollection:!1,schema:A.schema}))});var p=new Set;if(h=h.filter(w=>{var A=w.collectionName+"||"+w.schema.version;return p.has(A)?!1:(p.add(A),!0)}),yield Promise.all(h.map(w=>U(this,null,function*(){var A=yield t.createStorageInstance({collectionName:w.collectionName,databaseInstanceToken:e,databaseName:n,multiInstance:!1,options:{},schema:w.schema,password:i,devMode:It.isDevMode()});yield A.remove(),w.isCollection&&(yield Mn("postRemoveRxCollection",{storage:t,databaseName:n,collectionName:o}))}))),s){var y=d.map(w=>{var A=xo(w);return A._deleted=!0,A._meta.lwt=ee(),A._rev=ti(e,w),{previous:w,document:A}});yield r.bulkWrite(y,"rx-database-remove-collection-all")}})}function Qe(t){if(t.destroyed)throw $("COL21",{collection:t.name,version:t.schema.version})}var FC=function(){function t(e){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=e,this.subs.push(this.collection.database.eventBulks$.pipe(_t(n=>n.collectionName===this.collection.name),_t(n=>{var o=n.events[0];return!o.isLocal})).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&oi().then(()=>{this.processTasks()})}))}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(o=>o()),this.tasks.clear()}},r._handleChangeEvents=function(n){var o=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(fr(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var i=o+1,s=this.eventCounterMap,l=0;l<n.length;l++){var d=n[l];s.set(d,i+l)}},r.getCounter=function(){return this.processTasks(),this.counter},r.getBuffer=function(){return this.processTasks(),this.buffer},r.getArrayIndexByPointer=function(n){this.processTasks();var o=this.buffer[0],i=this.eventCounterMap.get(o);if(n<i)return null;var s=n-i;return s},r.getFrom=function(n){this.processTasks();var o=[],i=this.getArrayIndexByPointer(n);if(i===null)return null;for(;;){var s=this.buffer[i];if(i++,s)o.push(s);else return o}},r.runFrom=function(n,o){this.processTasks();var i=this.getFrom(n);if(i===null)throw new Error("out of bounds");i.forEach(s=>o(s))},r.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0);var o={};return n.forEach(i=>{o[i.documentId]=i}),Object.values(o)},r.destroy=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},t}();function ey(t){return new FC(t)}var jC=new WeakMap;function UC(t){var r=t.schema.getDocumentPrototype(),e=zC(t),n=$n,o={};return[r,e,n].forEach(i=>{var s=Object.getOwnPropertyNames(i);s.forEach(l=>{var d=Object.getOwnPropertyDescriptor(i,l),h=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(h=!1),typeof d.value=="function"?Object.defineProperty(o,l,{get(){return d.value.bind(this)},enumerable:h,configurable:!1}):(d.enumerable=h,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(o,l,d))})}),o}function ry(t){return qe(jC,t,()=>qc(UC(t)))}function ny(t,r,e){var n=Gv(r,t,It.deepFreezeWhenDevMode(e));return t._runHooksSync("post","create",e,n),Qt("postCreateRxDocument",n),n}function zC(t){var r={};return Object.entries(t.methods).forEach(([e,n])=>{r[e]=n}),r}var mf=function(t,r){var e=Pr(t.newDocumentState),n=Pr(t.realMasterState);return En(e,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:t.realMasterState})};function Yc(t){var r=t.collection.schema.jsonSchema;if(!r.attachments)throw $("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function oy(t){Object.entries(t.doc.collection.attachments).forEach(([r,e])=>{Object.defineProperty(t,r,{get:()=>e.bind(t)})})}var VC=function(){function t({doc:e,id:n,type:o,length:i,digest:s}){this.doc=e,this.id=n,this.type=o,this.length=i,this.digest=s,oy(this)}var r=t.prototype;return r.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,n=>(delete n._attachments[this.id],n)).then(()=>{})},r.getData=function(){return U(this,null,function*(){var n=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),o=yield Gp(n,this.type);return o})},r.getStringData=function(){return U(this,null,function*(){var n=yield this.getData(),o=yield Xp(n);return o})},t}();function Gc(t,r,e){return new VC({doc:e,id:t,type:r.type,length:r.length,digest:r.digest})}function qC(t){return U(this,null,function*(){Yc(this);var r=Jp(t.data),e=yield Zp(t.data),n=yield this.collection.database.hashFunction(e),o=t.id,i=t.type,s=e;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=Et(l),l._attachments=Et(l._attachments),l._attachments[o]={length:r,type:i,data:s,digest:n},l)).then(l=>{var d=this.collection._docCache.getCachedRxDocument(l),h=l._attachments[o],p=Gc(o,h,d);return p})})}function WC(t){Yc(this);var r=this._data;if(!r._attachments||!r._attachments[t])return null;var e=r._attachments[t],n=Gc(t,e,this);return n}function HC(){Yc(this);var t=this._data;return t._attachments?Object.keys(t._attachments).map(r=>Gc(r,t._attachments[r],this)):[]}function KC(t){return U(this,null,function*(){var r=t.docData._attachments;if(r){var e={};yield Promise.all(Object.keys(r).map(n=>U(this,null,function*(){var o=r[n],i=t.docData[t.oldCollection.schema.primaryPath],s=yield t.oldCollection.storageInstance.getAttachmentData(i,n,o.digest),l=yield t.oldCollection.database.hashFunction(s);e[n]={length:o.length,type:o.type,data:s,digest:l}}))),t.docData._attachments=e}})}function QC(t){return Dn}var iy={name:"attachments",rxdb:!0,prototypes:{RxDocument:t=>{t.putAttachment=qC,t.getAttachment=WC,t.allAttachments=HC,Object.defineProperty(t,"allAttachments$",{get:function(){return this.$.pipe(lt(e=>Object.entries(e.toJSON(!0)._attachments)),lt(e=>e.map(([n,o])=>Gc(n,o,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:KC},postMigrateDocument:{after:QC}}};var sy=["pre","post"],cy=["insert","save","remove","create"],ay=!1,Aa=function(){function t(e,n,o,i,s={},l={},d={},h={},p={},y=nf,w={},A=mf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Fv(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=e,this.name=n,this.schema=o,this.internalStorageInstance=i,this.instanceCreationOptions=s,this.migrationStrategies=l,this.methods=d,this.attachments=h,this.options=p,this.cacheReplacementPolicy=y,this.statics=w,this.conflictHandler=A,YC(this.asRxCollection)}var r=t.prototype;return r.prepare=function(){return U(this,null,function*(){this.storageInstance=Vc(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Yv(this.storageInstance,this.schema.primaryPath,(d,h)=>uf(this,d,h),d=>this._runHooks("post","save",d));var n=this.database.eventBulks$.pipe(_t(d=>d.collectionName===this.name));this.$=n.pipe(Ht(d=>d.events)),this.checkpoint$=n.pipe(lt(d=>d.checkpoint)),this._changeEventBuffer=ey(this.asRxCollection);var o;this._docCache=new zv(this.schema.primaryPath,this.database.eventBulks$.pipe(_t(d=>d.collectionName===this.name&&!d.events[0].isLocal),lt(d=>d.events)),d=>(o||(o=ry(this.asRxCollection)),ny(this.asRxCollection,o,d)));var i=this.database.internalStore.changeStream().pipe(_t(d=>{var h=this.name+"-"+this.schema.version,p=d.events.find(y=>y.documentData.context==="collection"&&y.documentData.key===h&&y.operation==="DELETE");return!!p})).subscribe(()=>U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(i);var s=yield this.database.storageToken,l=this.storageInstance.changeStream().subscribe(d=>{for(var h=new Array(d.events.length),p=d.events,y=this.name,w=It.deepFreezeWhenDevMode,A=0;A<p.length;A++){var N=p[A];h[A]={documentId:N.documentId,collectionName:y,isLocal:!1,operation:N.operation,documentData:w(N.documentData),previousDocumentData:w(N.previousDocumentData)}}var F={id:d.id,internal:!1,collectionName:this.name,storageToken:s,events:h,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit(F)});return this._subs.push(l),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(h=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:h})})})),Dn})},r.cleanup=function(n){throw Qe(this),St("cleanup")},r.migrationNeeded=function(){throw St("migration-schema")},r.getMigrationState=function(){throw St("migration-schema")},r.startMigration=function(n=10){return Qe(this),this.getMigrationState().startMigration(n)},r.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},r.insert=function(n){return U(this,null,function*(){Qe(this);var o=yield this.bulkInsert([n]),i=o.error[0];pi(this,n[this.schema.primaryPath],n,i);var s=Rt(o.success[0]);return s})},r.bulkInsert=function(n){return U(this,null,function*(){if(Qe(this),n.length===0)return{success:[],error:[]};var o=this.schema.primaryPath,i=new Set,s;if(this.hasHooks("pre","insert"))s=yield Promise.all(n.map(Q=>{var J=ka(this.schema,Q);return this._runHooks("pre","insert",J).then(()=>(i.add(J[o]),{document:J}))}));else{s=new Array(n.length);for(var l=this.schema,d=0;d<n.length;d++){var h=n[d],p=ka(l,h);i.add(p[o]),s[d]={document:p}}}if(i.size!==n.length)throw $("COL22",{collection:this.name,args:{documents:n}});var y=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),w,A=this,N={get success(){if(!w){var Q=rr(A.schema.primaryPath,s,y);w=zc(A._docCache,Q)}return w},error:y.error};if(this.hasHooks("post","insert")){var F=new Map;s.forEach(Q=>{var J=Q.document;F.set(J[o],J)}),yield Promise.all(N.success.map(Q=>this._runHooks("post","insert",F.get(Q.primary),Q)))}return N})},r.bulkRemove=function(n){return U(this,null,function*(){Qe(this);var o=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var i=yield this.findByIds(n).exec(),s=[],l=new Map;Array.from(i.values()).forEach(A=>{var N=A.toMutableJSON(!0);s.push(N),l.set(A.primary,N)}),yield Promise.all(s.map(A=>{var N=A[this.schema.primaryPath];return this._runHooks("pre","remove",A,i.get(N))}));var d=s.map(A=>{var N=Et(A);return N._deleted=!0,{previous:A,document:N}}),h=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),p=rr(this.schema.primaryPath,d,h),y=p.map(A=>A[o]);yield Promise.all(y.map(A=>this._runHooks("post","remove",l.get(A),i.get(A))));var w=y.map(A=>kn(i,A));return{success:w,error:h.error}})},r.bulkUpsert=function(n){return U(this,null,function*(){Qe(this);var o=[],i=new Map;n.forEach(h=>{var p=ka(this.schema,h),y=p[this.schema.primaryPath];if(!y)throw $("COL3",{primaryPath:this.schema.primaryPath,data:p,schema:this.schema.jsonSchema});i.set(y,p),o.push(p)});var s=yield this.bulkInsert(o),l=s.success.slice(0),d=[];return yield Promise.all(s.error.map(h=>U(this,null,function*(){if(h.status!==409)d.push(h);else{var p=h.documentId,y=kn(i,p),w=Rt(h.documentInDb),A=this._docCache.getCachedRxDocuments([w])[0],N=yield A.incrementalModify(()=>y);l.push(N)}}))),{error:d,success:l}})},r.upsert=function(n){return U(this,null,function*(){Qe(this);var o=yield this.bulkUpsert([n]);return pi(this.asRxCollection,n[this.schema.primaryPath],n,o.error[0]),o.success[0]})},r.incrementalUpsert=function(n){Qe(this);var o=ka(this.schema,n),i=o[this.schema.primaryPath];if(!i)throw $("COL4",{data:n});var s=this._incrementalUpsertQueues.get(i);return s||(s=Dn),s=s.then(()=>XC(this,i,o)).then(l=>l.inserted?l.doc:GC(l.doc,o)),this._incrementalUpsertQueues.set(i,s),s},r.find=function(n){if(Qe(this),typeof n=="string")throw $("COL5",{queryObj:n});n||(n=Da());var o=hi("find",n,this);return o},r.findOne=function(n){if(Qe(this),typeof n=="number"||Array.isArray(n))throw se("COL6",{queryObj:n});var o;if(typeof n=="string")o=hi("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=Da()),n.limit)throw $("QU6");n=Et(n),n.limit=1,o=hi("findOne",n,this)}return o},r.count=function(n){Qe(this),n||(n=Da());var o=hi("count",n,this);return o},r.findByIds=function(n){Qe(this);var o={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},i=hi("findByIds",o,this);return i},r.exportJSON=function(){throw St("json-dump")},r.importJSON=function(n){throw St("json-dump")},r.insertCRDT=function(n){throw St("crdt")},r.addPipeline=function(n){throw St("pipeline")},r.addHook=function(n,o,i,s=!1){if(typeof i!="function")throw se("COL7",{key:o,when:n});if(!sy.includes(n))throw se("COL8",{key:o,when:n});if(!cy.includes(o))throw $("COL9",{key:o});if(n==="post"&&o==="create"&&s===!0)throw $("COL10",{when:n,key:o,parallel:s});var l=i.bind(this),d=s?"parallel":"series";this.hooks[o]=this.hooks[o]||{},this.hooks[o][n]=this.hooks[o][n]||{series:[],parallel:[]},this.hooks[o][n][d].push(l)},r.getHooks=function(n,o){return!this.hooks[o]||!this.hooks[o][n]?{series:[],parallel:[]}:this.hooks[o][n]},r.hasHooks=function(n,o){if(!this.hooks[o]||!this.hooks[o][n])return!1;var i=this.getHooks(n,o);return i?i.series.length>0||i.parallel.length>0:!1},r._runHooks=function(n,o,i,s){var l=this.getHooks(n,o);if(!l)return Dn;var d=l.series.map(h=>()=>h(i,s));return ug(d).then(()=>Promise.all(l.parallel.map(h=>h(i,s))))},r._runHooksSync=function(n,o,i,s){if(this.hasHooks(n,o)){var l=this.getHooks(n,o);l&&l.series.forEach(d=>d(i,s))}},r.promiseWait=function(n){var o=new Promise(i=>{var s=setTimeout(()=>{this.timeouts.delete(s),i()},n);this.timeouts.add(s)});return o},r.destroy=function(){return U(this,null,function*(){return this.destroyed?kr:(yield Promise.all(this.onDestroy.map(n=>n())),this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Mn("postDestroyRxCollection",this).then(()=>!0))))})},r.remove=function(){return U(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(n=>n())),yield Qc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},De(t,[{key:"insert$",get:function(){return this.$.pipe(_t(e=>e.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(_t(e=>e.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(_t(e=>e.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function YC(t){if(!ay){ay=!0;var r=Object.getPrototypeOf(t);cy.forEach(e=>{sy.map(n=>{var o=n+Zs(e);r[o]=function(i,s){return this.addHook(n,e,i,s)}})})}}function GC(t,r){return t.incrementalModify(e=>r)}function XC(t,r,e){var n=t._docCache.getLatestDocumentDataIfExists(r);return n?Promise.resolve({doc:t._docCache.getCachedRxDocuments([n])[0],inserted:!1}):t.findOne(r).exec().then(o=>o?{doc:o,inserted:!1}:t.insert(e).then(i=>({doc:i,inserted:!0})))}function ly({database:t,name:r,schema:e,instanceCreationOptions:n={},migrationStrategies:o={},autoMigrate:i=!0,statics:s={},methods:l={},attachments:d={},options:h={},localDocuments:p=!1,cacheReplacementPolicy:y=nf,conflictHandler:w=mf}){var A={databaseInstanceToken:t.token,databaseName:t.name,collectionName:r,schema:e.jsonSchema,options:n,multiInstance:t.multiInstance,password:t.password,devMode:It.isDevMode()};return Qt("preCreateRxStorageInstance",A),ty(t,A).then(N=>{var F=new Aa(t,r,e,N,n,o,l,d,h,y,s,w);return F.prepare().then(()=>{Object.entries(s).forEach(([J,nt])=>{Object.defineProperty(F,J,{get:()=>nt.bind(F)})});var Q=Dn;return i&&F.schema.version!==0&&(Q=F.migratePromise()),Q}).then(()=>(Qt("createRxCollection",{collection:F,creator:{name:r,schema:e,storageInstance:N,instanceCreationOptions:n,migrationStrategies:o,methods:l,attachments:d,options:h,cacheReplacementPolicy:y,localDocuments:p,statics:s}}),F)).catch(Q=>N.close().then(()=>Promise.reject(Q)))})}var gf=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=r||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};gf.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,pf(this)},wrapCall:function(r){var e=this;this.lock();var n;try{n=r()}catch(o){throw this.unlock(),o}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(o){return e.unlock(),o}).catch(function(o){throw e.unlock(),o})},requestIdlePromise:function(r){var e=this;r=r||{};var n,o=new Promise(function(l){return n=l}),i=function(){hf(e,o),n()};if(o._manRes=i,r.timeout){var s=setTimeout(function(){o._manRes()},r.timeout);o._timeoutObj=s}return this._iC.add(o),pf(this),o},cancelIdlePromise:function(r){hf(this,r)},requestIdleCallback:function(r,e){var n=this._lHN++,o=this.requestIdlePromise(e);return this._hPM.set(n,o),this._pHM.set(o,n),o.then(function(){return r()}),n},cancelIdleCallback:function(r){var e=this._hPM.get(r);this.cancelIdlePromise(e)},clear:function(){var r=this;this._iC.forEach(function(e){return hf(r,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function ZC(t){if(t._iC.size!==0){var r=t._iC.values(),e=r.next().value;e._manRes(),setTimeout(function(){return pf(t)},0)}}function hf(t,r){if(r){if(r._timeoutObj&&clearTimeout(r._timeoutObj),t._pHM.has(r)){var e=t._pHM.get(r);t._hPM.delete(e),t._pHM.delete(r)}t._iC.delete(r)}}function pf(t){t._tryIR||t._iC.size===0||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}ZC(t),t._tryIR=!1},0)},0))}var Ln=class{ttl;map=new Map;_to=!1;constructor(r){this.ttl=r}has(r){return this.map.has(r)}add(r){this.map.set(r,uy()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,JC(this)},0))}clear(){this.map.clear()}};function JC(t){let r=uy()-t.ttl,e=t.map[Symbol.iterator]();for(;;){let n=e.next().value;if(!n)return;let o=n[0];if(n[1]<r)t.map.delete(o);else return}}function uy(){return Date.now()}var Xc=new Set,dy=0,Ia=function(){function t(e,n,o,i,s,l,d=!1,h={},p,y,w,A,N){this.idleQueue=new gf,this.rxdbVersion=go,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new at,this.observable$=this.eventBulks$.pipe(Ht(F=>F.events)),this.storageToken=kr,this.storageTokenDocument=kr,this.emittedEventBulkIds=new Ln(60*1e3),this.name=e,this.token=n,this.storage=o,this.instanceCreationOptions=i,this.password=s,this.multiInstance=l,this.eventReduce=d,this.options=h,this.internalStore=p,this.hashFunction=y,this.cleanupPolicy=w,this.allowSlowCount=A,this.reactivity=N,dy++,this.name!=="pseudoInstance"&&(this.internalStore=Vc(this.asRxDatabase,p,Wc),this.storageTokenDocument=Jv(this.asRxDatabase).catch(F=>this.startupErrors.push(F)),this.storageToken=this.storageTokenDocument.then(F=>F.data.token).catch(F=>this.startupErrors.push(F)))}var r=t.prototype;return r.getReactivityFactory=function(){if(!this.reactivity)throw $("DB14",{database:this.name});return this.reactivity},r.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},r.removeCollectionDoc=function(n,o){return U(this,null,function*(){var i=yield cf(this.internalStore,Hc(ff(n,o),gi));if(!i)throw $("SNH",{name:n,schema:o});var s=xo(i);s._deleted=!0,yield this.internalStore.bulkWrite([{document:s,previous:i}],"rx-database-remove-collection")})},r.addCollections=function(n){return U(this,null,function*(){var o={},i={},s=[],l={};yield Promise.all(Object.entries(n).map(w=>U(this,[w],function*([p,y]){var A=p,N=y.schema;o[A]=N;var F=Cg(N,this.hashFunction);if(i[A]=F,this.collections[p])throw $("DB3",{name:p});var Q=ff(p,N),J={id:Hc(Q,gi),key:Q,context:gi,data:{name:A,schemaHash:yield F.hash,schema:F.jsonSchema,version:F.version,connectedStorages:[]},_deleted:!1,_meta:Rn(),_rev:Yr(),_attachments:{}};s.push({document:J});var nt=Object.assign({},y,{name:A,schema:F,database:this}),tt=Et(y);tt.database=this,tt.name=p,Qt("preCreateRxCollection",tt),nt.conflictHandler=tt.conflictHandler,l[A]=nt})));var d=yield this.internalStore.bulkWrite(s,"rx-database-add-collection");yield rS(this),yield Promise.all(d.error.map(p=>U(this,null,function*(){if(p.status!==409)throw $("DB12",{database:this.name,writeError:p});var y=Rt(p.documentInDb),w=y.data.name,A=i[w];if(y.data.schemaHash!==(yield A.hash))throw $("DB6",{database:this.name,collection:w,previousSchemaHash:y.data.schemaHash,schemaHash:yield A.hash,previousSchema:y.data.schema,schema:Rt(o[w])})})));var h={};return yield Promise.all(Object.keys(n).map(p=>U(this,null,function*(){var y=l[p],w=yield ly(y);h[p]=w,this.collections[p]=w,this[p]||Object.defineProperty(this,p,{get:()=>this.collections[p]})}))),h})},r.lockedRun=function(n){return this.idleQueue.wrapCall(n)},r.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},r.exportJSON=function(n){throw St("json-dump")},r.addState=function(n){throw St("state")},r.importJSON=function(n){throw St("json-dump")},r.backup=function(n){throw St("backup")},r.leaderElector=function(){throw St("leader-election")},r.isLeader=function(){throw St("leader-election")},r.waitForLeadership=function(){throw St("leader-election")},r.migrationStates=function(){throw St("migration-schema")},r.destroy=function(){return U(this,null,function*(){return this.destroyed?kr:(this.destroyed=!0,yield Mn("preDestroyRxDatabase",this),this.eventBulks$.complete(),dy--,this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance"?kr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>Xc.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},r.remove=function(){return this.destroy().then(()=>eS(this.name,this.storage,this.password))},De(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function tS(t,r){var e=r.name+"|"+t;if(Xc.has(e))throw $("DB8",{name:t,storage:r.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function fy(t,r,e,n,o,i){return U(this,null,function*(){var s=yield r.createStorageInstance({databaseInstanceToken:t,databaseName:e,collectionName:Wv,schema:Wc,options:n,multiInstance:o,password:i,devMode:It.isDevMode()});return s})}function my({storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:o=!0,eventReduce:i=!0,ignoreDuplicate:s=!1,options:l={},cleanupPolicy:d,allowSlowCount:h=!1,localDocuments:p=!1,hashFunction:y=ni,reactivity:w}){Qt("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:o,eventReduce:i,ignoreDuplicate:s,options:l,localDocuments:p}),s||tS(e,t),Xc.add(t.name+"|"+e);var A=po(10);return fy(A,t,e,r,o,n).catch(N=>{throw Xc.delete(t.name+"|"+e),N}).then(N=>{var F=new Ia(e,A,t,r,n,o,i,l,N,y,d,h,w);return Mn("createRxDatabase",{database:F,creator:{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:o,eventReduce:i,ignoreDuplicate:s,options:l,localDocuments:p}}).then(()=>F)})}function eS(t,r,e){return U(this,null,function*(){var n=po(10),o=yield fy(n,r,t,{},!1,e),i=yield Kc(o),s=new Set;i.forEach(d=>s.add(d.data.name));var l=Array.from(s);return yield Promise.all(l.map(d=>Qc(r,o,n,t,d,e))),yield Mn("postRemoveRxDatabase",{databaseName:t,storage:r}),yield o.remove(),l})}function rS(t){return U(this,null,function*(){if(yield t.storageToken,t.startupErrors[0])throw t.startupErrors[0]})}var nS={RxSchema:xd.prototype,RxDocument:$n,RxQuery:af.prototype,RxCollection:Aa.prototype,RxDatabase:Ia.prototype},vf=new Set,hy=new Set;function Zc(t){if(Qt("preAddRxPlugin",{plugin:t,plugins:vf}),!vf.has(t)){{if(hy.has(t.name))throw $("PL3",{name:t.name,plugin:t});vf.add(t),hy.add(t.name)}if(!t.rxdb)throw se("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([r,e])=>e(nS[r])),t.overwritable&&Object.assign(It,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([r,e])=>{e.after&&ii[r].push(e.after),e.before&&ii[r].unshift(e.before)})}}function py(t){return t&&typeof t.then=="function"}var oS=Promise.resolve(!1),HH=Promise.resolve(!0),Tr=Promise.resolve();function Jc(t,r){return t||(t=0),new Promise(function(e){return setTimeout(function(){return e(r)},t)})}function gy(t,r){return Math.floor(Math.random()*(r-t+1)+t)}function Ma(){return Math.random().toString(36).substring(2)}var yf=0;function Jr(){var t=Date.now()*1e3;return t<=yf&&(t=yf+1),yf=t,t}var iS=Jr,aS="native";function sS(t){var r={time:Jr(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return r.bc.onmessage=function(e){r.messagesCallback&&r.messagesCallback(e.data)},r}function cS(t){t.bc.close(),t.subFns=[]}function lS(t,r){try{return t.bc.postMessage(r,!1),Tr}catch(e){return Promise.reject(e)}}function uS(t,r){t.messagesCallback=r}function dS(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function fS(){return 150}var vy={create:sS,close:cS,onMessage:uS,postMessage:lS,canBeUsed:dS,type:aS,averageResponseTime:fS,microSeconds:iS};function vi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=JSON.parse(JSON.stringify(t));return typeof r.webWorkerSupport>"u"&&(r.webWorkerSupport=!0),r.idb||(r.idb={}),r.idb.ttl||(r.idb.ttl=1e3*45),r.idb.fallbackInterval||(r.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(r.idb.onclose=t.idb.onclose),r.localstorage||(r.localstorage={}),r.localstorage.removeTimeout||(r.localstorage.removeTimeout=1e3*60),t.methods&&(r.methods=t.methods),r.node||(r.node={}),r.node.ttl||(r.node.ttl=1e3*60*2),r.node.maxParallelWrites||(r.node.maxParallelWrites=2048),typeof r.node.useFastPath>"u"&&(r.node.useFastPath=!0),r}var mS=Jr,hS="pubkey.broadcast-channel-0-",tn="messages",tl={durability:"relaxed"},pS="idb";function yy(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function bf(t){t.commit&&t.commit()}function gS(t){var r=yy(),e=hS+t,n=r.open(e);return n.onupgradeneeded=function(o){var i=o.target.result;i.createObjectStore(tn,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,i){n.onerror=function(s){return i(s)},n.onsuccess=function(){o(n.result)}})}function vS(t,r,e){var n=Date.now(),o={uuid:r,time:n,data:e},i=t.transaction([tn],"readwrite",tl);return new Promise(function(s,l){i.oncomplete=function(){return s()},i.onerror=function(h){return l(h)};var d=i.objectStore(tn);d.add(o),bf(i)})}function yS(t,r){var e=t.transaction(tn,"readonly",tl),n=e.objectStore(tn),o=[],i=IDBKeyRange.bound(r+1,1/0);if(n.getAll){var s=n.getAll(i);return new Promise(function(d,h){s.onerror=function(p){return h(p)},s.onsuccess=function(p){d(p.target.result)}})}function l(){try{return i=IDBKeyRange.bound(r+1,1/0),n.openCursor(i)}catch{return n.openCursor()}}return new Promise(function(d,h){var p=l();p.onerror=function(y){return h(y)},p.onsuccess=function(y){var w=y.target.result;w?w.value.id<r+1?w.continue(r+1):(o.push(w.value),w.continue()):(bf(e),d(o))}})}function bS(t,r){if(t.closed)return Promise.resolve([]);var e=t.db.transaction(tn,"readwrite",tl),n=e.objectStore(tn);return Promise.all(r.map(function(o){var i=n.delete(o);return new Promise(function(s){i.onsuccess=function(){return s()}})}))}function _S(t,r){var e=Date.now()-r,n=t.transaction(tn,"readonly",tl),o=n.objectStore(tn),i=[];return new Promise(function(s){o.openCursor().onsuccess=function(l){var d=l.target.result;if(d){var h=d.value;h.time<e?(i.push(h),d.continue()):(bf(n),s(i))}else s(i)}})}function xS(t){return _S(t.db,t.options.idb.ttl).then(function(r){return bS(t,r.map(function(e){return e.id}))})}function wS(t,r){return r=vi(r),gS(t).then(function(e){var n={closed:!1,lastCursorId:0,channelName:t,options:r,uuid:Ma(),eMIs:new Ln(r.idb.ttl*2),writeBlockPromise:Tr,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){n.closed=!0,r.idb.onclose&&r.idb.onclose()},by(n),n})}function by(t){t.closed||_y(t).then(function(){return Jc(t.options.idb.fallbackInterval)}).then(function(){return by(t)})}function CS(t,r){return!(t.uuid===r.uuid||r.eMIs.has(t.id)||t.data.time<r.messagesCallbackTime)}function _y(t){return t.closed?Tr:t.messagesCallback?yS(t.db,t.lastCursorId).then(function(r){var e=r.filter(function(n){return!!n}).map(function(n){return n.id>t.lastCursorId&&(t.lastCursorId=n.id),n}).filter(function(n){return CS(n,t)}).sort(function(n,o){return n.time-o.time});return e.forEach(function(n){t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),Tr}):Tr}function SS(t){t.closed=!0,t.db.close()}function RS(t,r){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return vS(t.db,t.uuid,r)}).then(function(){gy(0,10)===0&&xS(t)}),t.writeBlockPromise}function OS(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r,_y(t)}function DS(){return!!yy()}function ES(t){return t.idb.fallbackInterval*2}var xy={create:wS,close:SS,onMessage:OS,postMessage:RS,canBeUsed:DS,type:pS,averageResponseTime:ES,microSeconds:mS};var kS=Jr,AS="pubkey.broadcastChannel-",IS="localstorage";function wy(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Cy(t){return AS+t}function MS(t,r){return new Promise(function(e){Jc().then(function(){var n=Cy(t.channelName),o={token:Ma(),time:Date.now(),data:r,uuid:t.uuid},i=JSON.stringify(o);wy().setItem(n,i);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=n,s.newValue=i,window.dispatchEvent(s),e()})})}function PS(t,r){var e=Cy(t),n=function(i){i.key===e&&r(JSON.parse(i.newValue))};return window.addEventListener("storage",n),n}function TS(t){window.removeEventListener("storage",t)}function NS(t,r){if(r=vi(r),!Sy())throw new Error("BroadcastChannel: localstorage cannot be used");var e=Ma(),n=new Ln(r.localstorage.removeTimeout),o={channelName:t,uuid:e,eMIs:n};return o.listener=PS(t,function(i){o.messagesCallback&&i.uuid!==e&&(!i.token||n.has(i.token)||i.data.time&&i.data.time<o.messagesCallbackTime||(n.add(i.token),o.messagesCallback(i.data)))}),o}function $S(t){TS(t.listener)}function LS(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r}function Sy(){var t=wy();if(!t)return!1;try{var r="__broadcastchannel_check";t.setItem(r,"works"),t.removeItem(r)}catch{return!1}return!0}function BS(){var t=120,r=navigator.userAgent.toLowerCase();return r.includes("safari")&&!r.includes("chrome")?t*2:t}var Ry={create:NS,close:$S,onMessage:LS,postMessage:MS,canBeUsed:Sy,type:IS,averageResponseTime:BS,microSeconds:kS};var Oy=Jr,FS="simulate",_f=new Set;function jS(t){var r={time:Oy(),name:t,messagesCallback:null};return _f.add(r),r}function US(t){_f.delete(t)}var Dy=5;function zS(t,r){return new Promise(function(e){return setTimeout(function(){var n=Array.from(_f);n.forEach(function(o){o.name===t.name&&o!==t&&o.messagesCallback&&o.time<r.time&&o.messagesCallback(r)}),e()},Dy)})}function VS(t,r){t.messagesCallback=r}function qS(){return!0}function WS(){return Dy}var Ey={create:jS,close:US,onMessage:VS,postMessage:zS,canBeUsed:qS,type:FS,averageResponseTime:WS,microSeconds:Oy};var ky=[vy,xy,Ry];function Ay(t){var r=[].concat(t.methods,ky).filter(Boolean);if(t.type){if(t.type==="simulate")return Ey;var e=r.find(function(o){return o.type===t.type});if(e)return e;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(r=r.filter(function(o){return o.type!=="idb"}));var n=r.find(function(o){return o.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(ky.map(function(o){return o.type})))}var xf=new Set,HS=0,Pa=function(r,e){this.id=HS++,xf.add(this),this.name=r,Iy&&(e=Iy),this.options=vi(e),this.method=Ay(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,KS(this)};Pa._pubkey=!0;var Iy;Pa.prototype={postMessage:function(r){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(r));return My(this,"message",r)},postInternal:function(r){return My(this,"internal",r)},set onmessage(t){var r=this.method.microSeconds(),e={time:r,fn:t};Ty(this,"message",this._onML),t&&typeof t=="function"?(this._onML=e,Py(this,"message",e)):this._onML=null},addEventListener:function(r,e){var n=this.method.microSeconds(),o={time:n,fn:e};Py(this,r,o)},removeEventListener:function(r,e){var n=this._addEL[r].find(function(o){return o.fn===e});Ty(this,r,n)},close:function(){var r=this;if(!this.closed){xf.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Tr;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(r._uMP))}).then(function(){return Promise.all(r._befC.map(function(n){return n()}))}).then(function(){return r.method.close(r._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function My(t,r,e){var n=t.method.microSeconds(),o={time:n,type:r,data:e},i=t._prepP?t._prepP:Tr;return i.then(function(){var s=t.method.postMessage(t._state,o);return t._uMP.add(s),s.catch().then(function(){return t._uMP.delete(s)}),s})}function KS(t){var r=t.method.create(t.name,t.options);py(r)?(t._prepP=r,r.then(function(e){t._state=e})):t._state=r}function Ny(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function Py(t,r,e){t._addEL[r].push(e),QS(t)}function Ty(t,r,e){t._addEL[r]=t._addEL[r].filter(function(n){return n!==e}),YS(t)}function QS(t){if(!t._iL&&Ny(t)){var r=function(o){t._addEL[o.type].forEach(function(i){o.time>=i.time&&i.fn(o.data)})},e=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,r,e)}):(t._iL=!0,t.method.onMessage(t._state,r,e))}}function YS(t){if(t._iL&&!Ny(t)){t._iL=!1;var r=t.method.microSeconds();t.method.onMessage(t._state,null,r)}}var el=new Map;function GS(t,r,e,n){var o=el.get(r);return o||(o={bc:new Pa(["RxDB:",t,e].join("|")),refs:new Set},el.set(r,o)),o.refs.add(n),o.bc}function $y(t,r){var e=el.get(t);if(e&&(e.refs.delete(r),e.refs.size===0))return el.delete(t),e.bc.close()}function Ly(t,r,e,n){if(r.multiInstance){var o=n||GS(t,r.databaseInstanceToken,e.databaseName,e),i=new at,s=w=>{w.storageName===t&&w.databaseName===r.databaseName&&w.collectionName===r.collectionName&&w.version===r.schema.version&&i.next(w.eventBulk)};o.addEventListener("message",s);var l=e.changeStream(),d=!1,h=l.subscribe(w=>{d||o.postMessage({storageName:t,databaseName:r.databaseName,collectionName:r.collectionName,version:r.schema.version,eventBulk:w})});e.changeStream=function(){return i.asObservable().pipe(qm(l))};var p=e.close.bind(e);e.close=function(){return U(this,null,function*(){return d=!0,h.unsubscribe(),o.removeEventListener("message",s),n||(yield $y(r.databaseInstanceToken,e)),p()})};var y=e.remove.bind(e);e.remove=function(){return U(this,null,function*(){return d=!0,h.unsubscribe(),o.removeEventListener("message",s),n||(yield $y(r.databaseInstanceToken,e)),y()})}}}var wf={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",QU18:"Malformated query result data. This likely happens because you create a OPFS-storage RxDatabase inside of a worker but did not set the usesRxDatabaseInWorker setting. https://rxdb.info/rx-storage-opfs.html#setting-usesrxdatabaseinworker-when-a-rxdatabase-is-also-used-inside-of-the-worker ",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",COL22:".bulkInsert() and .bulkUpsert() cannot be run with multiple documents that have the same primary key",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var Cf;function By(){if(!Cf){var t=new Aa,r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Cf=[...r,...e]}return Cf}var Sf;function Fy(){if(!Sf){var t=new Ia("pseudoInstance","memory"),r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Sf=[...r,...e],t.destroy()}return Sf}var XS=qc($n),ZS=new XS,Rf;function rl(){if(!Rf){var t=["deleted","synced"],r=Object.getOwnPropertyNames(ZS),e=Object.getOwnPropertyNames($n);Rf=[...r,...e,...t]}return Rf}function JS(t){if(t!=="_deleted"){if(["properties"].includes(t))throw $("SC23",{fieldName:t});var r="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",e=new RegExp(r);if(t!=="_id"&&!t.match(e))throw $("SC1",{regex:r,fieldName:t})}}function tR(t){var r=he(t.primaryKey);function e(o,i,s){if(typeof o=="string"&&typeof i=="object"&&!Array.isArray(i)&&s.split(".").pop()!=="patternProperties"&&JS(o),Object.prototype.hasOwnProperty.call(i,"item")&&i.type!=="array")throw $("SC2",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"required")&&typeof i.required=="boolean")throw $("SC24",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"$ref"))throw $("SC40",{fieldName:o});if(Object.prototype.hasOwnProperty.call(i,"ref"))if(Array.isArray(i.type)){if(i.type.length>2||!i.type.includes("string")||!i.type.includes("null"))throw $("SC4",{fieldName:o})}else switch(i.type){case"string":break;case"array":if(!i.items||!i.items.type||i.items.type!=="string")throw $("SC3",{fieldName:o});break;default:throw $("SC4",{fieldName:o})}var l=s.split(".").length>=2;if(l&&i.default)throw $("SC7",{path:s});if(!l){if(o==="_id"&&r!=="_id")throw $("COL2",{fieldName:o});if(o.charAt(0)==="_"){if(o==="_id"||o==="_deleted")return;throw $("SC8",{fieldName:o})}}}function n(o,i){!o||typeof o!="object"||Object.keys(o).forEach(s=>{var l=o[s];!o.properties&&l&&typeof l=="object"&&!Array.isArray(o)&&e(s,l,i);var d=i;s!=="properties"&&(d=d+"."+s),n(l,d)})}return n(t,""),!0}function eR(t){if(!t.primaryKey)throw $("SC30",{schema:t});function r(d){if(!d)throw $("SC33",{schema:t});var h=d.type;if(!h||!["string","number","integer"].includes(h))throw $("SC32",{schema:t,args:{schemaPart:d}})}if(typeof t.primaryKey=="string"){var e=t.primaryKey,n=t.properties[e];r(n)}else{var o=t.primaryKey,i=Pe(t,o.key);r(i),o.fields.forEach(d=>{var h=Pe(t,d);r(h)})}var s=he(t.primaryKey),l=t.properties[s];if(l.maxLength){if(!isFinite(l.maxLength))throw $("SC41",{schema:t,args:{primaryPathSchemaPart:l}})}else throw $("SC39",{schema:t,args:{primaryPathSchemaPart:l}})}function jy(t){for(var r=t.split("."),e="",n=0;n<r.length;n+=1)r[n]!=="[]"?e=e.concat(".properties.".concat(r[n])):e=e.concat(".items");return mr(e)}function Uy(t){if(!t.primaryKey)throw $("SC30",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"properties"))throw $("SC29",{schema:t});if(t.properties._rev)throw $("SC10",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"version")||typeof t.version!="number"||t.version<0)throw $("SC11",{version:t.version});if(tR(t),eR(t),Object.keys(t.properties).forEach(r=>{var e=t.properties[r];if(r===t.primaryKey){if(t.indexes&&t.indexes.includes(r))throw $("SC13",{value:e,schema:t});if(e.unique)throw $("SC14",{value:e,schema:t});if(t.encrypted&&t.encrypted.includes(r))throw $("SC15",{value:e,schema:t});if(e.type!=="string")throw $("SC16",{value:e,schema:t})}if(rl().includes(r))throw $("SC17",{key:r,schema:t})}),t.indexes){if(!Er(t.indexes))throw $("SC18",{indexes:t.indexes,schema:t});t.indexes.forEach(r=>{if(!(typeof r=="string"||Array.isArray(r)))throw $("SC19",{index:r,schema:t});if(Array.isArray(r)){for(var e=0;e<r.length;e+=1)if(typeof r[e]!="string")throw $("SC20",{index:r,schema:t})}var n=Er(r)?r:[r];n.forEach(o=>{var i=Pe(t,o),s=i.type;switch(s){case"string":var l=i.maxLength;if(!l)throw $("SC34",{index:r,field:o,schema:t});break;case"number":case"integer":var d=i.multipleOf;if(!d)throw $("SC35",{index:r,field:o,schema:t});var h=i.maximum,p=i.minimum;if(typeof h>"u"||typeof p>"u")throw $("SC37",{index:r,field:o,schema:t});if(!isFinite(h)||!isFinite(p))throw $("SC41",{index:r,field:o,schema:t});break;case"boolean":var y="",w=o;if(o.includes(".")){var A=o.split(".");w=A.pop(),y=A.join(".")}var N=y===""?t:Pe(t,y);if(!N.required||!N.required.includes(w))throw $("SC38",{index:r,field:o,schema:t});break;default:throw $("SC36",{fieldName:o,type:i.type,schema:t})}})})}Object.keys(Gs(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!=="").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Me(t,r);return e&&!!e.index}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),$("SC26",{index:mr(r),schema:t})}),(t.indexes||[]).reduce((r,e)=>(Er(e)?fr(r,e):r.push(e),r),[]).filter((r,e,n)=>n.indexOf(r)===e).map(r=>{var e=jy(r),n=Me(t,e);if(!n||typeof n!="object")throw $("SC21",{index:r,schema:t});return{indexPath:r,schemaObj:n}}).filter(r=>r.schemaObj.type!=="string"&&r.schemaObj.type!=="integer"&&r.schemaObj.type!=="number"&&r.schemaObj.type!=="boolean").forEach(r=>{throw $("SC22",{key:r.indexPath,type:r.schemaObj.type,schema:t})}),Object.keys(Gs(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!==""&&r!=="attachments").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Me(t,r);return e&&!!e.encrypted}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),$("SC27",{index:mr(r),schema:t})}),t.encrypted&&t.encrypted.forEach(r=>{var e=jy(r),n=Me(t,e);if(!n||typeof n!="object")throw $("SC28",{field:r,schema:t})})}function nl(t){t&&Object.entries(t).forEach(([r,e])=>{if(typeof r!="string")throw se("COL14",{name:r});if(r.startsWith("_"))throw se("COL15",{name:r});if(typeof e!="function")throw se("COL16",{name:r,type:typeof r});if(By().includes(r)||rl().includes(r))throw $("COL17",{name:r})})}function zy(t,r){var e=Object.keys(t.properties);r&&Object.keys(r).filter(n=>e.includes(n)).forEach(n=>{throw $("COL18",{funName:n})})}function Vy(t,r){if(typeof r!="object"||Array.isArray(r))throw se("COL11",{schema:t});var e=wg(t);if(e.length!==Object.keys(r).length)throw $("COL12",{have:Object.keys(r),should:e});return e.map(n=>({v:n,s:r[n+1]})).filter(n=>typeof n.s!="function").forEach(n=>{throw se("COL13",{version:n.v,type:typeof n,schema:t})}),!0}function qy(t){if(Fy().includes(t.name))throw $("DB5",{name:t.name});Ky(t.name)}function Wy(t){if(Ky(t.name),t.name.includes("$"))throw $("DB13",{name:t.name});if(fd(t.name)&&(t.name.endsWith("/")||t.name.endsWith("\\")))throw $("DB11",{name:t.name})}var Hy="^[a-z][_$a-z0-9\\-]*$",rR=new RegExp(Hy);function Ky(t){if(typeof t!="string"||t.length===0)throw se("UT1",{name:t});if(fd(t))return!0;if(!t.match(rR)&&t!==":memory:")throw $("UT2",{regex:Hy,givenName:t});return!0}function Qy(t){var r=Object.prototype.toString.call(t.queryObj)==="[object Object]";if(!r)throw se("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj});var e=["selector","limit","skip","sort","index"];if(Object.keys(t.queryObj).forEach(n=>{if(!e.includes(n))throw se("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj,key:n,args:{validKeys:e}})}),t.op==="count"&&(t.queryObj.limit||t.queryObj.skip))throw $("QU15",{collection:t.collection.name,query:t.queryObj});ol(t.queryObj)}function Yy(t){var r=t.rxQuery.collection.schema.jsonSchema,e=t.mangoQuery.selector,n=Object.keys(r.properties);Object.keys(e).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw $("QU13",{schema:r,field:l,query:t.mangoQuery})});var o=r.indexes?r.indexes:[],i=t.mangoQuery.index;if(i){var s=o.find(l=>En(l,i));if(!s)throw $("QU12",{collection:t.rxQuery.collection.name,query:t.mangoQuery,schema:r})}if(t.rxQuery.op==="count"&&!nR(t.rxQuery.collection.schema.jsonSchema,t.mangoQuery)&&!t.rxQuery.collection.database.allowSlowCount)throw $("QU14",{collection:t.rxQuery.collection,query:t.mangoQuery});t.mangoQuery.sort&&t.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw $("QU13",{schema:r,field:l,query:t.mangoQuery})}),ol(t.mangoQuery)}function nR(t,r){var e=Ea(t,r);return e.queryPlan.selectorSatisfiedByIndex}function ol(t){if(!(typeof t!="object"||t===null)){var r=Object.keys(t);r.forEach(e=>{var n=t[e];if(n instanceof RegExp)throw $("QU16",{field:e,query:t});Array.isArray(n)?n.forEach(o=>ol(o)):ol(n)})}}function Gy(t,r){if(!t)throw $("DOC20",{primaryKey:t,document:r});if(t!==t.trim())throw $("DOC21",{primaryKey:t,document:r});if(t.includes("\r")||t.includes(`
`))throw $("DOC22",{primaryKey:t,document:r});if(t.includes('"'))throw $("DOC23",{primaryKey:t,document:r})}function Xy(t){if(typeof t!="object"||t===null)return!1;for(var r in t)if(t.hasOwnProperty(r)&&(t[r]instanceof Date||typeof t[r]=="object"&&Xy(t[r])))return!0;return!1}function Zy(t,r){var e=he(t.schema.primaryKey),n=function(i){i.document=nc(e,t.schema,i.document),i.previous&&Object.keys(i.previous._meta).forEach(s=>{if(!Object.prototype.hasOwnProperty.call(i.document._meta,s))throw $("SNH",{dataBefore:i.previous,dataAfter:i.document,args:{metaFieldName:s}})});try{typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i))}catch{throw $("DOC24",{collection:t.collectionName,document:i.document})}if(Xy(i.document))throw $("DOC24",{collection:t.collectionName,document:i.document})};for(var o of r)n(o)}var Jy=!1;function tb(t){return U(this,null,function*(){if(!(Jy||typeof window>"u"||typeof location>"u")&&!(An.premium&&typeof An.premium=="string"&&(yield ni(An.premium))===tc)){Jy=!0;var r=document.createElement("iframe");r.style.visibility="hidden",r.width="1px",r.height="1px",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.opacity="0.1",r.src="https://rxdb.info/html/dev-mode-iframe.html?version="+go,document.body.appendChild(r)}})}var oR=!0;function iR(t){return!t||typeof t=="string"||typeof t=="number"?t:sd(t)}var aR="dev-mode",eb={name:aR,rxdb:!0,init:()=>{oR&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:iR,tunnelErrorMessage(t){if(!wf[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return wf[t]}},hooks:{preCreateRxSchema:{after:Uy},preCreateRxDatabase:{after:function(t){Wy(t)}},createRxDatabase:{after:function(t){return U(this,null,function*(){tb(t.database)})}},preCreateRxCollection:{after:function(t){if(qy(t),zy(t.schema,t.methods),t.name.charAt(0)==="_")throw $("DB2",{name:t.name});if(!t.schema)throw $("DB4",{name:t.name,args:t})}},createRxDocument:{before:function(t){Gy(t.primary,t.toJSON(!0))}},preCreateRxQuery:{after:function(t){Qy(t)}},prePrepareQuery:{after:t=>{Yy(t)}},preStorageWrite:{before:t=>{Zy(t.storageInstance,t.rows)}},createRxCollection:{after:t=>{nl(t.creator.statics),nl(t.creator.methods),nl(t.creator.attachments),t.creator.schema&&t.creator.migrationStrategies&&Vy(t.creator.schema,t.creator.migrationStrategies)}}}};var il=C_(rb(),1),nb=Symbol.for("Dexie"),Ta=globalThis[nb]||(globalThis[nb]=il.default);if(il.default.semVer!==Ta.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${il.default.semVer} and ${Ta.semVer}`);var{liveQuery:g5,mergeRanges:v5,rangesOverlap:y5,RangeSet:b5,cmp:_5,Entity:x5,PropModSymbol:w5,PropModification:C5,replacePrefix:S5,add:R5,remove:O5}=Ta;var Na="docs",sR="changes",ob="attachments",sl="dexie",ib=new Map,al=new Map;function ab(t,r,e,n){var o="rxdb-dexie-"+t+"--"+n.version+"--"+r,i=qe(ib,o,()=>{var s=U(this,null,function*(){var l=Et(e);l.autoOpen=!1;var d=new Ta(o,l),h={[Na]:cR(n),[sR]:"++sequence, id",[ob]:"id"};return d.version(1).stores(h),yield d.open(),{dexieDb:d,dexieTable:d[Na],dexieAttachmentsTable:d[ob],booleanIndexes:lR(n)}});return ib.set(o,i),al.set(i,0),s});return i}function sb(t){return U(this,null,function*(){var r=yield t,e=al.get(t),n=e-1;n===0?(r.dexieDb.close(),al.delete(t)):al.set(t,n)})}var Ef="__";function wo(t){var r=t.split(".");if(r.length>1)return r.map(n=>wo(n)).join(".");if(t.startsWith("|")){var e=t.substring(1);return Ef+e}else return t}function cb(t){var r=t.split(".");if(r.length>1)return r.map(n=>cb(n)).join(".");if(t.startsWith(Ef)){var e=t.substring(Ef.length);return"|"+e}else return t}function lb(t,r){if(!r)return r;var e=Et(r);return e=kf(e),t.forEach(n=>{var o=Me(r,n),i=o?"1":"0",s=wo(n);pd(e,s,i)}),e}function If(t,r){return r&&(r=Et(r),r=Af(r),t.forEach(e=>{var n=Me(r,e),o=n==="1";pd(r,e,o)}),r)}function kf(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>kf(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="object"&&(n=kf(n)),r[wo(e)]=n}),r}}function Af(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>Af(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{(typeof n=="object"||Array.isArray(t))&&(n=Af(n)),r[cb(e)]=n}),r}}function cR(t){var r=[],e=he(t.primaryKey);r.push([e]),r.push(["_deleted",e]),t.indexes&&t.indexes.forEach(i=>{var s=ha(i);r.push(s)}),r.push(["_meta.lwt",e]),r.push(["_meta.lwt"]),r=r.map(i=>i.map(s=>wo(s)));var n=r.map(i=>i.length===1?i[0]:"["+i.join("+")+"]");n=n.filter((i,s,l)=>l.indexOf(i)===s);var o=n.join(", ");return o}function Mf(t,r){return U(this,null,function*(){var e=yield t,n=yield e.dexieTable.bulkGet(r);return n.map(o=>If(e.booleanIndexes,o))})}function $a(t,r){return t+"||"+r}function lR(t){var r=new Set,e=[];return t.indexes?(t.indexes.forEach(n=>{var o=ha(n);o.forEach(i=>{if(!r.has(i)){r.add(i);var s=Pe(t,i);s.type==="boolean"&&e.push(i)}})}),e.push("_deleted"),Qp(e)):e}function ub(t){return t===yo?-1/0:t}function db(t,r,e){if(t.includes(r)){var n=e===vo||e===!0?"1":"0";return n}else return e}function fb(t,r,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var n=r.startKeys.map((s,l)=>{var d=r.index[l];return db(t,d,s)}).map(ub),o=r.endKeys.map((s,l)=>{var d=r.index[l];return db(t,d,s)}).map(ub),i=e.bound(n,o,!r.inclusiveStart,!r.inclusiveEnd);return i}function Pf(t,r){return U(this,null,function*(){var e=yield t.internals,n=r.query,o=n.skip?n.skip:0,i=n.limit?n.limit:1/0,s=o+i,l=r.queryPlan,d=!1;l.selectorSatisfiedByIndex||(d=mi(t.schema,r.query));var h=fb(e.booleanIndexes,l,e.dexieDb._options.IDBKeyRange),p=l.index,y=[];if(yield e.dexieDb.transaction("r",e.dexieTable,A=>U(this,null,function*(){var N=A.idbtrans,F=N.objectStore(Na),Q,J;J="["+p.map(tt=>wo(tt)).join("+")+"]",Q=F.index(J);var nt=Q.openCursor(h);yield new Promise(tt=>{nt.onsuccess=function(kt){var st=kt.target.result;if(st){var Mt=If(e.booleanIndexes,st.value);(!d||d(Mt))&&y.push(Mt),l.sortSatisfiedByIndex&&y.length===s?tt():st.continue()}else tt()}})})),!l.sortSatisfiedByIndex){var w=Uc(t.schema,r.query);y=y.sort(w)}return y=y.slice(o,s),{documents:y}})}function mb(t,r){return U(this,null,function*(){var e=yield t.internals,n=r.queryPlan,o=n.index,i=fb(e.booleanIndexes,n,e.dexieDb._options.IDBKeyRange),s=-1;return yield e.dexieDb.transaction("r",e.dexieTable,l=>U(this,null,function*(){var d=l.idbtrans,h=d.objectStore(Na),p,y;y="["+o.map(A=>wo(A)).join("+")+"]",p=h.index(y);var w=p.count(i);s=yield new Promise((A,N)=>{w.onsuccess=function(){A(w.result)},w.onerror=F=>N(F)})})),s})}var uR=ee(),Tf=!1,dR=function(){function t(e,n,o,i,s,l,d,h){this.changes$=new at,this.instanceId=uR++,this.storage=e,this.databaseName=n,this.collectionName=o,this.schema=i,this.internals=s,this.options=l,this.settings=d,this.devMode=h,this.primaryPath=he(this.schema.primaryKey)}var r=t.prototype;return r.bulkWrite=function(n,o){return U(this,null,function*(){Co(this),!Tf&&(!An.premium||typeof An.premium!="string"||(yield ni(An.premium))!==tc)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),Tf=!0,n.forEach(p=>{if(!p.document._rev||p.previous&&!p.previous._rev)throw $("SNH",{args:{row:p}})});var i=yield this.internals,s={error:[]};this.devMode&&(n=n.map(p=>{var y=xo(p.document);return{previous:p.previous,document:y}}));var l=n.map(p=>p.document[this.primaryPath]),d;if(yield i.dexieDb.transaction("rw",i.dexieTable,i.dexieAttachmentsTable,()=>U(this,null,function*(){var p=new Map,y=yield Mf(this.internals,l);y.forEach(N=>{var F=N;return F&&p.set(F[this.primaryPath],F),F}),d=Hv(this,this.primaryPath,p,n,o),s.error=d.errors;var w=[];d.bulkInsertDocs.forEach(N=>{w.push(N.document)}),d.bulkUpdateDocs.forEach(N=>{w.push(N.document)}),w=w.map(N=>lb(i.booleanIndexes,N)),w.length>0&&(yield i.dexieTable.bulkPut(w));var A=[];d.attachmentsAdd.forEach(N=>{A.push({id:$a(N.documentId,N.attachmentId),data:N.attachmentData.data})}),d.attachmentsUpdate.forEach(N=>{A.push({id:$a(N.documentId,N.attachmentId),data:N.attachmentData.data})}),yield i.dexieAttachmentsTable.bulkPut(A),yield i.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(N=>$a(N.documentId,N.attachmentId)))})),d=Rt(d),d.eventBulk.events.length>0){var h=Rt(d.newestRow).document;d.eventBulk.checkpoint={id:h[this.primaryPath],lwt:h._meta.lwt},d.eventBulk.endTime=ee(),this.changes$.next(d.eventBulk)}return s})},r.findDocumentsById=function(n,o){return U(this,null,function*(){Co(this);var i=yield this.internals,s=[];return yield i.dexieDb.transaction("r",i.dexieTable,()=>U(this,null,function*(){var l=yield Mf(this.internals,n);l.forEach(d=>{d&&(!d._deleted||o)&&s.push(d)})})),s})},r.query=function(n){return Co(this),Pf(this,n)},r.count=function(n){return U(this,null,function*(){if(n.queryPlan.selectorSatisfiedByIndex){var o=yield mb(this,n);return{count:o,mode:"fast"}}else{var i=yield Pf(this,n);return{count:i.documents.length,mode:"slow"}}})},r.changeStream=function(){return Co(this),this.changes$.asObservable()},r.cleanup=function(n){return U(this,null,function*(){Co(this);var o=yield this.internals;return yield o.dexieDb.transaction("rw",o.dexieTable,()=>U(this,null,function*(){var i=ee()-n,s=yield o.dexieTable.where("_meta.lwt").below(i).toArray(),l=[];s.forEach(d=>{d._deleted==="1"&&l.push(d[this.primaryPath])}),yield o.dexieTable.bulkDelete(l)})),!0})},r.getAttachmentData=function(n,o,i){return U(this,null,function*(){Co(this);var s=yield this.internals,l=$a(n,o);return yield s.dexieDb.transaction("r",s.dexieAttachmentsTable,()=>U(this,null,function*(){var d=yield s.dexieAttachmentsTable.get(l);if(d)return d.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+o)}))})},r.remove=function(){return U(this,null,function*(){Co(this);var n=yield this.internals;return yield n.dexieTable.clear(),this.close()})},r.close=function(){return this.closed?this.closed:(this.closed=U(this,null,function*(){this.changes$.complete(),yield sb(this.internals)}),this.closed)},r.conflictResultionTasks=function(){return new at},r.resolveConflictResultionTask=function(n){return U(this,null,function*(){})},t}();function hb(t,r,e){return U(this,null,function*(){var n=ab(r.databaseName,r.collectionName,e,r.schema),o=new dR(t,r.databaseName,r.collectionName,r.schema,n,r.options,e,r.devMode);return yield Ly(sl,r,o),Promise.resolve(o)})}function Co(t){if(t.closed)throw new Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var fR=function(){function t(e){this.name=sl,this.rxdbVersion=go,this.settings=e}var r=t.prototype;return r.createStorageInstance=function(n){return Qv(n),hb(this,n,this.settings)},t}();function pb(t={}){var r=new fR(t);return r}var Nf={};ps(Nf,{$all:()=>fC,$and:()=>Kd,$bitsAllClear:()=>gb,$bitsAllSet:()=>vb,$bitsAnyClear:()=>yb,$bitsAnySet:()=>bb,$elemMatch:()=>Zd,$eq:()=>Pc,$exists:()=>tf,$expr:()=>lC,$gt:()=>Tc,$gte:()=>Nc,$in:()=>$c,$jsonSchema:()=>uC,$lt:()=>Lc,$lte:()=>Bc,$mod:()=>Gd,$ne:()=>Fc,$nin:()=>jc,$nor:()=>Qd,$not:()=>Yd,$or:()=>Ra,$regex:()=>Xd,$size:()=>Jd,$type:()=>ef,$where:()=>dC});var Bn=t=>Ct((r,e,n)=>{let o=0;if(e instanceof Array)for(let i of e)o=o|1<<i;else o=e;return t(r&o,o)});var gb=Bn((t,r)=>t==0);var vb=Bn((t,r)=>t==r);var yb=Bn((t,r)=>t<r);var bb=Bn((t,r)=>t>0);var cl={};ps(cl,{$addToSet:()=>hR,$bit:()=>gR,$currentDate:()=>vR,$inc:()=>yR,$max:()=>bR,$min:()=>_R,$mul:()=>xR,$pop:()=>wR,$pull:()=>$f,$pullAll:()=>CR,$push:()=>RR,$rename:()=>OR,$set:()=>Lf,$unset:()=>DR});var yi=(t,r)=>{switch(t){case"deep":return li(r);case"copy":return Tn(r)?new Date(r):it(r)?[...r]:ut(r)?j({},r):r;default:return r}},mR=/^[a-z]+[a-zA-Z0-9]*$/;function _b(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];let r=t.indexOf(".$"),e=t.indexOf("]"),n=t.substring(0,r),o=t.substring(r+3,e);z(o===""||mR.test(o),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let i=t.substring(e+2),[s,l]=i?_b(i):[];return[{selector:t,parent:n,child:o||"$",next:s},[o,...l||[]].filter(Boolean)]}var Pt=(t,r,e,n,o)=>{let{parent:i,child:s,next:l}=r;if(!s){let h=!1;return si(t,i,(y,w)=>h=!!n(y,w)||h,o),h}let d=ke(t,i);return it(d)?d.map((h,p)=>e[s]&&!e[s].test({[s]:h})?!1:l?Pt(h,l,e,n,o):n(d,p)).some(Boolean):!1};function $t(t,r,e,n){let o=[];for(let[i,s]of Object.entries(t)){let[l,d]=_b(i);if(!d.length)n(s,l,{})&&o.push(l.parent);else{let h={};r.forEach(y=>{Object.keys(y).forEach(w=>{d.forEach(A=>{(w===A||w.startsWith(A+"."))&&(h[A]=h[A]||{},Object.assign(h[A],{[w]:y[w]}))})})});let p={};for(let[y,w]of Object.entries(h))p[y]=new Yt(w,e.queryOptions);n(s,l,p)&&o.push(l.parent)}}return o}var hR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>{let l={$each:[o]};return ut(o)&&zt(o,"$each")&&Object.assign(l,o),Pt(t,i,s,(d,h)=>{let p=d[h]||=[];return Xr([p,l.$each]).length===l.$each.length?!1:(d[h]=yi(n.cloneMode,xa(p.concat(l.$each))),!0)},{buildGraph:!0})});var pR=new Set(["and","or","xor"]),gR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>{let l=Object.keys(o);return z(l.length===1&&pR.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Pt(t,i,s,(d,h)=>{let p=d[h],y=o[l[0]];if(p!==void 0&&!(dt(p)&&dt(y)))return!1;switch(p=p||0,l[0]){case"and":d[h]=p&y;break;case"or":d[h]=p|y;break;case"xor":d[h]=p^y;break}return d[h]!==p},{buildGraph:!0})});var vR=(t,r,e=[],n={})=>{let o=Date.now();return $t(r,e,n,(i,s,l)=>Pt(t,s,l,(d,h)=>(d[h]=o,!0),{buildGraph:!0}))};var yR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>{if(!i.child){let l=ke(t,i.parent);z(l===void 0||dt(l),"cannot apply $inc to a value of non-numeric type")}return Pt(t,i,s,(l,d)=>(l[d]=(l[d]||=0)+o,!0),{buildGraph:!0})});var bR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>l[d]!==void 0&&Tt(l[d],o)>-1?!1:(l[d]=o,!0),{buildGraph:!0}));var _R=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>l[d]!==void 0&&Tt(l[d],o)<1?!1:(l[d]=o,!0),{buildGraph:!0}));var xR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>{let h=l[d];return l[d]=l[d]===void 0?0:l[d]*o,l[d]!==h},{buildGraph:!0}));var wR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>{let h=l[d];return z(it(h),`path '${i.selector}' contains an element of non-array type.`),h.length?(o===-1?h.splice(0,1):h.pop(),!0):!1}));var $f=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>{let l=!ut(o)||Object.keys(o).some(He),d=new Yt(l?{k:o}:o,n.queryOptions),h=l?p=>d.test({k:p}):p=>d.test(p);return Pt(t,i,s,(p,y)=>{let w=p[y],A=new Array;return w.map(F=>{let Q=h(F);return Q||A.push(F),Q}).some(Boolean)?(p[y]=A,!0):!1})});var CR=(t,r,e=[],n={})=>{let o={};return Object.entries(r).forEach(([i,s])=>{o[i]={$in:s}}),$f(t,o,e,n)};var SR=Object.freeze(["$each","$slice","$sort","$position"]),RR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>{let l={$each:[o]};return ut(o)&&SR.some(d=>zt(o,d))&&Object.assign(l,o),Pt(t,i,s,(d,h)=>{let p=d[h]||=[],y=p.slice(0,l.$slice||p.length),w=p.length,A=dt(l.$position)?l.$position:p.length;if(p.splice(A,0,...yi(n.cloneMode,l.$each)),l.$sort){let N=ut(l.$sort)?Object.keys(l.$sort||{}).pop():"",F=N?l.$sort[N]:l.$sort,Q=N?J=>ke(J,N):J=>J;p.sort((J,nt)=>F*Tt(Q(J),Q(nt)))}return dt(l.$slice)&&(l.$slice<0?p.splice(0,p.length+l.$slice):p.splice(l.$slice)),w!=p.length||!pe(y,p)},{descendArray:!0,buildGraph:!0})});var Lf=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>pe(l[d],o)?!1:(l[d]=yi(n.cloneMode,o),!0),{buildGraph:!0}));var OR=(t,r,e=[],n={})=>{let o=[],i=$t(r,e,n,(s,l,d)=>Pt(t,l,d,(h,p)=>zt(h,p)?(o.push(...Lf(t,{[s]:h[p]},e,n)),delete h[p],!0):!1));return Array.from(new Set(i.concat(o)))};var DR=(t,r,e=[],n={})=>$t(r,e,n,(o,i,s)=>Pt(t,i,s,(l,d)=>zt(l,d)?(it(l)?l[d]=null:delete l[d],!0):!1));function Bf(t){return t=gt(j({},t),{queryOptions:Zr(t.queryOptions)}),t.queryOptions.context.addQueryOps(Nf).addExpressionOps(Vd).addExpressionOps(qd),(r,e,n=[],o={},i={})=>{let s=Object.assign({cloneMode:"copy"},t,i);Object.assign(s,{queryOptions:Zr(Object.assign({useStrictMode:!1},s?.queryOptions))}),n=n||[],o=o||{};let l=Object.entries(e);z(l.length===1,"Update expression must contain only one operator.");let[d,h]=l[0];z(zt(cl,d),`Update operator '${d}' is not supported.`);let p=cl[d];return Object.keys(o).length&&!(o instanceof Yt?o:new Yt(o,s.queryOptions)).test(r)?[]:p(r,h,n,s)}}var E8=Bf({});var Ff;function jf(t,r){if(!Ff){var e=Bf({cloneMode:"none"});Ff=(n,o)=>{var i=tr(n);return e(i,o),i}}return Ff(t,r)}function ER(t){return this.incrementalModify(r=>{var e=jf(r,t);return e})}function kR(t){var r=this._data,e=jf(r,t);return this._saveData(e,r)}function AR(t){return U(this,null,function*(){return Nn(this.asRxQuery,r=>r.update(t))})}var xb={name:"update",rxdb:!0,prototypes:{RxDocument:t=>{t.update=kR,t.incrementalUpdate=ER},RxQuery:t=>{t.update=AR}}};var IR={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function MR(){return U(this,null,function*(){Zc(iy),Zc(xb),dh()&&Zc(eb)})}MR();var H8=(()=>{class t{constructor(){this.dataBaseReadySubj=new be(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(e){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[e]}initDB(e){return U(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===e&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield my({name:e,storage:pb(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:IR}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var G8=(()=>{class t{constructor(){this.activePortal=new at,this.portal$=this.activePortal.asObservable()}setPortal(e){this.activePortal.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function e6(t){return t&&typeof t.connect=="function"&&!(t instanceof Zn)}var ll=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(ll||{}),r6=new pt("_ViewRepeater"),wb=class{applyChanges(r,e,n,o,i){r.forEachOperation((s,l,d)=>{let h,p;if(s.previousIndex==null){let y=n(s,l,d);h=e.createEmbeddedView(y.templateRef,y.context,y.index),p=ll.INSERTED}else d==null?(e.remove(l),p=ll.REMOVED):(h=e.get(l),e.move(h,d),p=ll.MOVED);i&&i({context:h?.context,operation:p,record:s})})}detach(){}};var Cb=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new at;constructor(r=!1,e,n=!0,o){this._multiple=r,this._emitChanges=n,this.compareWith=o,e&&e.length&&(r?e.forEach(i=>this._markSelected(i)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...r){this._verifyValueAssignment(r),r.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...r){this._verifyValueAssignment(r),r.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...r){this._verifyValueAssignment(r);let e=this.selected,n=new Set(r.map(i=>this._getConcreteValue(i)));r.forEach(i=>this._markSelected(i)),e.filter(i=>!n.has(this._getConcreteValue(i,n))).forEach(i=>this._unmarkSelected(i));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r)}clear(r=!0){this._unmarkAll();let e=this._hasQueuedChanges();return r&&this._emitChangeEvent(),e}isSelected(r){return this._selection.has(this._getConcreteValue(r))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){r=this._getConcreteValue(r),this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){r=this._getConcreteValue(r),this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){r.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(r,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(r,n))return n;return r}else return r}};var PR=20,ul=(()=>{class t{_ngZone=k(Zt);_platform=k(lr);_renderer=k(no).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new at;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=PR){return this._platform.isBrowser?new gs(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(eu(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):rt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let o=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(_t(i=>!i||o.indexOf(i)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((o,i)=>{this._scrollableContainsElement(i,e)&&n.push(i)}),n}_scrollableContainsElement(e,n){let o=Sh(n),i=e.getElementRef().nativeElement;do if(o==i)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uf=(()=>{class t{elementRef=k(Jt);scrollDispatcher=k(ul);ngZone=k(Zt);dir=k(vn,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new at;_renderer=k(pn);_cleanupScroll;_elementScrolled=new at;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=o?e.end:e.start),e.right==null&&(e.right=o?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),o&&zo()!=Uo.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),zo()==Uo.INVERTED?e.left=e.right:zo()==Uo.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;ws()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",o="right",i=this.elementRef.nativeElement;if(e=="top")return i.scrollTop;if(e=="bottom")return i.scrollHeight-i.clientHeight-i.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?o:n:e=="end"&&(e=s?n:o),s&&zo()==Uo.INVERTED?e==n?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:s&&zo()==Uo.NEGATED?e==n?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:e==n?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),TR=20,dl=(()=>{class t{_platform=k(lr);_listeners;_viewportSize;_change=new at;_document=k(Se,{optional:!0});constructor(){let e=k(Zt),n=k(no).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=i=>this._change.next(i);this._listeners=[n.listen("window","resize",o),n.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),o=e.documentElement,i=o.getBoundingClientRect(),s=-i.top||e.body.scrollTop||n.scrollY||o.scrollTop||0,l=-i.left||e.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:s,left:l}}change(e=TR){return e>0?this._change.pipe(eu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Sb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({})}return t})(),zf=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({imports:[Hi,Sb,Hi,Sb]})}return t})();var Rb=ws(),Vf=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(r,e){this._viewportRuler=r,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Kt(-this._previousScrollPosition.left),r.style.top=Kt(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,e=this._document.body,n=r.style,o=e.style,i=n.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),Rb&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Rb&&(n.scrollBehavior=i,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var qf=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(r,e,n,o){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=n,this._config=o}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(_t(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},fl=class{enable(){}disable(){}attach(){}};function Wf(t,r){return r.some(e=>{let n=t.bottom<e.top,o=t.top>e.bottom,i=t.right<e.left,s=t.left>e.right;return n||o||i||s})}function Ob(t,r){return r.some(e=>{let n=t.top<e.top,o=t.bottom>e.bottom,i=t.left<e.left,s=t.right>e.right;return n||o||i||s})}var Hf=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(r,e,n,o){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=n,this._config=o}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();Wf(e,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},$R=(()=>{class t{_scrollDispatcher=k(ul);_viewportRuler=k(dl);_ngZone=k(Zt);_document=k(Se);constructor(){}noop=()=>new fl;close=e=>new qf(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Vf(this._viewportRuler,this._document);reposition=e=>new Hf(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fn=class{positionStrategy;scrollStrategy=new fl;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(r){if(r){let e=Object.keys(r);for(let n of e)r[n]!==void 0&&(this[n]=r[n])}}};var Kf=class{connectionPair;scrollableViewProperties;constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}};var Pb=(()=>{class t{_attachedOverlays=[];_document=k(Se);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LR=(()=>{class t extends Pb{_ngZone=k(Zt);_renderer=k(no).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let o=n.length-1;o>-1;o--)if(n[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BR=(()=>{class t extends Pb{_platform=k(lr);_ngZone=k(Zt);_renderer=k(no).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,o={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[qi(this._renderer,n,"pointerdown",this._pointerDownListener,o),qi(this._renderer,n,"click",this._clickListener,o),qi(this._renderer,n,"auxclick",this._clickListener,o),qi(this._renderer,n,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Ss(e)};_clickListener=e=>{let n=Ss(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let i=this._attachedOverlays.slice();for(let s=i.length-1;s>-1;s--){let l=i[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(Db(l.overlayElement,n)||Db(l.overlayElement,o))break;let d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(e)):d.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Db(t,r){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=r;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Tb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),ml=(()=>{class t{_platform=k(lr);_containerElement;_document=k(Se);_styleLoader=k(Wi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||hu()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let i=0;i<o.length;i++)o[i].remove()}let n=this._document.createElement("div");n.classList.add(e),hu()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(Tb)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qf=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(r,e,n,o){this._renderer=e,this._ngZone=n,this.element=r.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let r=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(r,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),r.style.pointerEvents="none",r.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},bi=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new at;_attachments=new at;_detachments=new at;_positionStrategy;_scrollStrategy;_locationChanges=br.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new at;_outsidePointerEvents=new at;_renders=new at;_afterRenderRef;_afterNextRenderRef;constructor(r,e,n,o,i,s,l,d,h,p=!1,y,w){this._portalOutlet=r,this._host=e,this._pane=n,this._config=o,this._ngZone=i,this._keyboardDispatcher=s,this._document=l,this._location=d,this._outsideClickDispatcher=h,this._animationsDisabled=p,this._injector=y,this._renderer=w,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=mh(()=>ys(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ro(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,r&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=j(j({},this._config),r),this._updateElementSize()}setDirection(r){this._config=gt(j({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=Kt(this._config.width),r.height=Kt(this._config.height),r.minWidth=Kt(this._config.minWidth),r.minHeight=Kt(this._config.minHeight),r.maxWidth=Kt(this._config.maxWidth),r.maxHeight=Kt(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Qf(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(r))}):this._backdropRef.element.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(r,e,n){let o=pu(e||[]).filter(i=>!!i);o.length&&(n?r.classList.add(...o):r.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let r=this._renders.pipe(to(Po(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){let r=this._scrollStrategy;r?.disable(),r?.detach?.()}},Eb="cdk-overlay-connected-position-bounding-box",FR=/([A-Za-z%]+)$/,Yf=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new at;_resizeSubscription=br.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(r,e,n,o,i){this._viewportRuler=e,this._document=n,this._platform=o,this._overlayContainer=i,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(Eb),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,e=this._overlayRect,n=this._viewportRect,o=this._containerRect,i=[],s;for(let l of this._preferredPositions){let d=this._getOriginPoint(r,o,l),h=this._getOverlayPoint(d,e,l),p=this._getOverlayFit(h,e,n,l);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(p,h,n)){i.push({position:l,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!s||s.overlayFit.visibleArea<p.visibleArea)&&(s={overlayFit:p,overlayPoint:h,originPoint:d,position:l,overlayRect:e})}if(i.length){let l=null,d=-1;for(let h of i){let p=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);p>d&&(d=p,l=h)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&So(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Eb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,e)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e,n){let o;if(n.originX=="center")o=r.left+r.width/2;else{let s=this._isRtl()?r.right:r.left,l=this._isRtl()?r.left:r.right;o=n.originX=="start"?s:l}e.left<0&&(o-=e.left);let i;return n.originY=="center"?i=r.top+r.height/2:i=n.originY=="top"?r.top:r.bottom,e.top<0&&(i-=e.top),{x:o,y:i}}_getOverlayPoint(r,e,n){let o;n.overlayX=="center"?o=-e.width/2:n.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let i;return n.overlayY=="center"?i=-e.height/2:i=n.overlayY=="top"?0:-e.height,{x:r.x+o,y:r.y+i}}_getOverlayFit(r,e,n,o){let i=Ab(e),{x:s,y:l}=r,d=this._getOffset(o,"x"),h=this._getOffset(o,"y");d&&(s+=d),h&&(l+=h);let p=0-s,y=s+i.width-n.width,w=0-l,A=l+i.height-n.height,N=this._subtractOverflows(i.width,p,y),F=this._subtractOverflows(i.height,w,A),Q=N*F;return{visibleArea:Q,isCompletelyWithinViewport:i.width*i.height===Q,fitsInViewportVertically:F===i.height,fitsInViewportHorizontally:N==i.width}}_canFitWithFlexibleDimensions(r,e,n){if(this._hasFlexibleDimensions){let o=n.bottom-e.y,i=n.right-e.x,s=kb(this._overlayRef.getConfig().minHeight),l=kb(this._overlayRef.getConfig().minWidth),d=r.fitsInViewportVertically||s!=null&&s<=o,h=r.fitsInViewportHorizontally||l!=null&&l<=i;return d&&h}return!1}_pushOverlayOnScreen(r,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let o=Ab(e),i=this._viewportRect,s=Math.max(r.x+o.width-i.width,0),l=Math.max(r.y+o.height-i.height,0),d=Math.max(i.top-n.top-r.y,0),h=Math.max(i.left-n.left-r.x,0),p=0,y=0;return o.width<=i.width?p=h||-s:p=r.x<this._viewportMargin?i.left-n.left-r.x:0,o.height<=i.height?y=d||-l:y=r.y<this._viewportMargin?i.top-n.top-r.y:0,this._previousPushAmount={x:p,y},{x:r.x+p,y:r.y+y}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!jR(this._lastScrollVisibility,n)){let o=new Kf(r,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=r.overlayY;r.overlayX==="center"?n="center":this._isRtl()?n=r.overlayX==="start"?"right":"left":n=r.overlayX==="start"?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(r,e){let n=this._viewportRect,o=this._isRtl(),i,s,l;if(e.overlayY==="top")s=r.y,i=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")l=n.height-r.y+this._viewportMargin*2,i=n.height-l+this._viewportMargin;else{let A=Math.min(n.bottom-r.y+n.top,r.y),N=this._lastBoundingBoxSize.height;i=A*2,s=r.y-A,i>N&&!this._isInitialRender&&!this._growAfterOpen&&(s=r.y-N/2)}let d=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,h=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,p,y,w;if(h)w=n.width-r.x+this._viewportMargin*2,p=r.x-this._viewportMargin;else if(d)y=r.x,p=n.right-r.x;else{let A=Math.min(n.right-r.x+n.left,r.x),N=this._lastBoundingBoxSize.width;p=A*2,y=r.x-A,p>N&&!this._isInitialRender&&!this._growAfterOpen&&(y=r.x-N/2)}return{top:s,left:y,bottom:l,right:w,width:p,height:i}}_setBoundingBoxStyles(r,e){let n=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let i=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=Kt(n.height),o.top=Kt(n.top),o.bottom=Kt(n.bottom),o.width=Kt(n.width),o.left=Kt(n.left),o.right=Kt(n.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",i&&(o.maxHeight=Kt(i)),s&&(o.maxWidth=Kt(s))}this._lastBoundingBoxSize=n,So(this._boundingBox.style,o)}_resetBoundingBoxStyles(){So(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){So(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){let n={},o=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let p=this._viewportRuler.getViewportScrollPosition();So(n,this._getExactOverlayY(e,r,p)),So(n,this._getExactOverlayX(e,r,p))}else n.position="static";let l="",d=this._getOffset(e,"x"),h=this._getOffset(e,"y");d&&(l+=`translateX(${d}px) `),h&&(l+=`translateY(${h}px)`),n.transform=l.trim(),s.maxHeight&&(o?n.maxHeight=Kt(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(o?n.maxWidth=Kt(s.maxWidth):i&&(n.maxWidth="")),So(this._pane.style,n)}_getExactOverlayY(r,e,n){let o={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,r);if(this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),r.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(i.y+this._overlayRect.height)}px`}else o.top=Kt(i.y);return o}_getExactOverlayX(r,e,n){let o={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s;if(this._isRtl()?s=r.overlayX==="end"?"left":"right":s=r.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;o.right=`${l-(i.x+this._overlayRect.width)}px`}else o.left=Kt(i.x);return o}_getScrollVisibility(){let r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ob(r,n),isOriginOutsideView:Wf(r,n),isOverlayClipped:Ob(e,n),isOverlayOutsideView:Wf(e,n)}}_subtractOverflows(r,...e){return e.reduce((n,o)=>n-Math.max(o,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+r-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return e==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&pu(r).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){let r=this._origin;if(r instanceof Jt)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let e=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+e,height:n,width:e}}};function So(t,r){for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function kb(t){if(typeof t!="number"&&t!=null){let[r,e]=t.split(FR);return!e||e==="px"?parseFloat(r):null}return t||null}function Ab(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function jR(t,r){return t===r?!0:t.isOriginClipped===r.isOriginClipped&&t.isOriginOutsideView===r.isOriginOutsideView&&t.isOverlayClipped===r.isOverlayClipped&&t.isOverlayOutsideView===r.isOverlayOutsideView}var Ib="cdk-global-overlay-wrapper",Gf=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(r){let e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(Ib),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:i,maxWidth:s,maxHeight:l}=n,d=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(i==="100%"||i==="100vh")&&(!l||l==="100%"||l==="100vh"),p=this._xPosition,y=this._xOffset,w=this._overlayRef.getConfig().direction==="rtl",A="",N="",F="";d?F="flex-start":p==="center"?(F="center",w?N=y:A=y):w?p==="left"||p==="end"?(F="flex-end",A=y):(p==="right"||p==="start")&&(F="flex-start",N=y):p==="left"||p==="start"?(F="flex-start",A=y):(p==="right"||p==="end")&&(F="flex-end",N=y),r.position=this._cssPosition,r.marginLeft=d?"0":A,r.marginTop=h?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=d?"0":N,e.justifyContent=F,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Ib),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},UR=(()=>{class t{_viewportRuler=k(dl);_document=k(Se);_platform=k(lr);_overlayContainer=k(ml);constructor(){}global(){return new Gf}flexibleConnectedTo(e){return new Yf(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nr=(()=>{class t{scrollStrategies=k($R);_overlayContainer=k(ml);_positionBuilder=k(UR);_keyboardDispatcher=k(LR);_injector=k(Xt);_ngZone=k(Zt);_document=k(Se);_directionality=k(vn);_location=k(Vr);_outsideClickDispatcher=k(BR);_animationsModuleType=k(hn,{optional:!0});_idGenerator=k(qr);_renderer=k(no).createRenderer(null,null);_appRef;_styleLoader=k(Wi);constructor(){}create(e){this._styleLoader.load(Tb);let n=this._createHostElement(),o=this._createPaneElement(n),i=this._createPortalOutlet(o),s=new Fn(e);return s.direction=s.direction||this._directionality.value,new bi(i,n,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(eo),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(_s)),new Ds(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Nb=new pt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=k(nr);return()=>t.scrollStrategies.reposition()}}),Mb=(()=>{class t{elementRef=k(Jt);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),H6=(()=>{class t{_overlay=k(nr);_dir=k(vn,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=br.EMPTY;_attachSubscription=br.EMPTY;_detachSubscription=br.EMPTY;_positionSubscription=br.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=k(Nb);_disposeOnNavigation=!1;_ngZone=k(Zt);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new we;positionChange=new we;attach=new we;detach=new we;overlayKeydown=new we;overlayOutsideClick=new we;constructor(){let e=k(jr),n=k(gn);this._templatePortal=new Cr(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=zR);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Vo(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let o=this._getOriginElement(),i=Ss(n);(!o||o!==i&&!o.contains(i))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Fn({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Mb?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Mb?this.origin.elementRef.nativeElement:this.origin instanceof Jt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Hm(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",me],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",me],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",me],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",me],push:[2,"cdkConnectedOverlayPush","push",me],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",me]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[mn]})}return t})();function VR(t){return()=>t.scrollStrategies.reposition()}var qR={provide:Nb,deps:[nr],useFactory:VR},_i=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[nr,qR],imports:[Hi,Kr,zf,zf]})}return t})();function WR(t,r){if(t&1){let e=uh();xr(0,"div",1)(1,"button",2),io("click",function(){Gm(e);let o=du();return Xm(o.action())}),fu(2),cr()()}if(t&2){let e=du();Bo(2),mu(" ",e.data.action," ")}}var HR=["label"];function KR(t,r){}var QR=Math.pow(2,31)-1,Ba=class{_overlayRef;instance;containerInstance;_afterDismissed=new at;_afterOpened=new at;_onAction=new at;_durationTimeoutId;_dismissedByAction=!1;constructor(r,e){this._overlayRef=e,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,QR))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},$b=new pt("MatSnackBarData"),xi=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},YR=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),GR=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),XR=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),Lb=(()=>{class t{snackBarRef=k(Ba);data=k($b);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(xr(0,"div",0),fu(1),cr(),oo(2,WR,3,1,"div",1)),n&2&&(Bo(),mu(" ",o.data.message,`
`),Bo(),lh(o.hasAction?2:-1))},dependencies:[jh,YR,GR,XR],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),Xf="_mat-snack-bar-enter",Zf="_mat-snack-bar-exit",ZR=(()=>{class t extends yn{_ngZone=k(Zt);_elementRef=k(Jt);_changeDetectorRef=k(wr);_platform=k(lr);_rendersRef;_animationsDisabled=k(hn,{optional:!0})==="NoopAnimations";snackBarConfig=k(xi);_document=k(Se);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new at;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new at;_onExit=new at;_onEnter=new at;_animationState="void";_live;_label;_role;_liveElementId=k(qr).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=ys(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===Zf?this._completeExit():e===Xf&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(Be(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Xf)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Xf)},200)))}exit(){return this._destroyed?rt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(Be(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Zf)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Zf),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,i="mdc-snackbar__label";o.classList.toggle(i,!o.querySelector(`.${i}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let i=n[o],s=i.getAttribute("aria-owns");this._trackedModals.add(i),s?s.indexOf(e)===-1&&i.setAttribute("aria-owns",s+" "+e):i.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),o=e.querySelector("[aria-live]");if(n&&o){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(i=document.activeElement),n.removeAttribute("aria-hidden"),o.appendChild(n),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(Fo(bn,7),Fo(HR,7)),n&2){let i;ao(i=so())&&(o._portalOutlet=i.first),ao(i=so())&&(o._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,o){n&1&&io("animationend",function(s){return o.onAnimationEnd(s.animationName)})("animationcancel",function(s){return o.onAnimationEnd(s.animationName)}),n&2&&Xe("mat-snack-bar-container-enter",o._animationState==="visible")("mat-snack-bar-container-exit",o._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!o._animationsDisabled)},features:[fe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(xr(0,"div",1)(1,"div",2,0)(3,"div",3),oo(4,KR,0,0,"ng-template",4),cr(),Ze(5,"div"),cr()()),n&2&&(Bo(5),Fe("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[bn],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2})}return t})();function JR(){return new xi}var tO=new pt("mat-snack-bar-default-options",{providedIn:"root",factory:JR}),eO=(()=>{class t{_overlay=k(nr);_live=k(kh);_injector=k(Xt);_breakpointObserver=k(Rh);_parentSnackBar=k(t,{optional:!0,skipSelf:!0});_defaultConfig=k(tO);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Lb;snackBarContainerComponent=ZR;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",o){let i=j(j({},this._defaultConfig),o);return i.data={message:e,action:n},i.announcementMessage===e&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,i=Xt.create({parent:o||this._injector,providers:[{provide:xi,useValue:n}]}),s=new Hr(this.snackBarContainerComponent,n.viewContainerRef,i),l=e.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){let o=j(j(j({},new xi),this._defaultConfig),n),i=this._createOverlay(o),s=this._attachSnackBarContainer(i,o),l=new Ba(s,i);if(e instanceof jr){let d=new Cr(e,null,{$implicit:o.data,snackBarRef:l});l.instance=s.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),h=new Hr(e,void 0,d),p=s.attachComponentPortal(h);l.instance=p.instance}return this._breakpointObserver.observe(Oh.HandsetPortrait).pipe(to(i.detachments())).subscribe(d=>{i.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new Fn;n.direction=e.direction;let o=this._overlay.position().global(),i=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!i||e.horizontalPosition==="end"&&i,l=!s&&e.horizontalPosition!=="center";return s?o.left("0"):l?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(e,n){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Xt.create({parent:o||this._injector,providers:[{provide:Ba,useValue:n},{provide:$b,useValue:e.data}]})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h9=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[eO],imports:[_i,Kr,Uh,Wr,Lb,Wr]})}return t})();var v9={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function rO(t,r){}var jn=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var tm=(()=>{class t extends yn{_elementRef=k(Jt);_focusTrapFactory=k(Eh);_config;_interactivityChecker=k(Dh);_ngZone=k(Zt);_overlayRef=k(bi);_focusMonitor=k(Os);_renderer=k(pn);_platform=k(lr);_document=k(Se,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=k(wr);_injector=k(Xt);_isDestroyed=!1;constructor(){super(),this._config=k(jn,{optional:!0})||new jn,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i(),s(),e.removeAttribute("tabindex")},i=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||ro(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=Cs(),i=this._elementRef.nativeElement;(!o||o===this._document.body||o===i||i.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,n=Cs();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Cs()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&Fo(bn,7),n&2){let i;ao(i=so())&&(o._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Fe("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[fe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&oo(0,rO,0,0,"ng-template",0)},dependencies:[bn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),Fa=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new at;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(r,e){this.overlayRef=r,this.config=e,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Vo(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(r),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}},nO=new pt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=k(nr);return()=>t.scrollStrategies.block()}}),oO=new pt("DialogData"),iO=new pt("DefaultDialogConfig");var em=(()=>{class t{_overlay=k(nr);_injector=k(Xt);_defaultOptions=k(iO,{optional:!0});_parentDialog=k(t,{optional:!0,skipSelf:!0});_overlayContainer=k(ml);_idGenerator=k(qr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new at;_afterOpenedAtThisLevel=new at;_ariaHiddenElements=new Map;_scrollStrategy=k(nO);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Jn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sr(void 0)));constructor(){}open(e,n){let o=this._defaultOptions||new jn;n=j(j({},o),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let i=this._getOverlayConfig(n),s=this._overlay.create(i),l=new Fa(s,n),d=this._attachContainer(s,l,n);return l.containerInstance=d,this._attachDialogContent(e,l,d,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Jf(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){Jf(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Jf(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new Fn({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,o){let i=o.injector||o.viewContainerRef?.injector,s=[{provide:jn,useValue:o},{provide:Fa,useValue:n},{provide:bi,useValue:e}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,s.push(...o.container.providers(o))):l=tm;let d=new Hr(l,o.viewContainerRef,Xt.create({parent:i||this._injector,providers:s}));return e.attach(d).instance}_attachDialogContent(e,n,o,i){if(e instanceof jr){let s=this._createInjector(i,n,o,void 0),l={$implicit:i.data,dialogRef:n};i.templateContext&&(l=j(j({},l),typeof i.templateContext=="function"?i.templateContext():i.templateContext)),o.attachTemplatePortal(new Cr(e,null,l,s))}else{let s=this._createInjector(i,n,o,this._injector),l=o.attachComponentPortal(new Hr(e,i.viewContainerRef,s));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(e,n,o,i){let s=e.injector||e.viewContainerRef?.injector,l=[{provide:oO,useValue:e.data},{provide:Fa,useValue:n}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(n,e,o)):l.push(...e.providers)),e.direction&&(!s||!s.get(vn,null,{optional:!0}))&&l.push({provide:vn,useValue:{value:e.direction,change:rt()}}),Xt.create({parent:s||i,providers:l})}_removeOpenDialog(e,n){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let n=e.parentElement.children;for(let o=n.length-1;o>-1;o--){let i=n[o];i!==e&&i.nodeName!=="SCRIPT"&&i.nodeName!=="STYLE"&&!i.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jf(t,r){let e=t.length;for(;e--;)r(t[e])}var Bb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[em],imports:[_i,Kr,Ah,Kr]})}return t})();function aO(t,r){}var pl=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},rm="mdc-dialog--open",Fb="mdc-dialog--opening",jb="mdc-dialog--closing",sO=150,cO=75,lO=(()=>{class t extends tm{_animationMode=k(hn,{optional:!0});_animationStateChanged=new we;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?zb(this._config.enterAnimationDuration)??sO:0;_exitAnimationDuration=this._animationsEnabled?zb(this._config.exitAnimationDuration)??cO:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ub,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Fb,rm)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(rm),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(rm),this._animationsEnabled?(this._hostElement.style.setProperty(Ub,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(jb)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Fb,jb)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275cmp=Ce({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(uu("id",o._config.id),Fe("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Xe("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[fe],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(xr(0,"div",0)(1,"div",1),oo(2,aO,0,0,"ng-template",2),cr()())},dependencies:[bn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),Ub="--mat-dialog-transition-duration";function zb(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Rs(t.substring(0,t.length-2)):t.endsWith("s")?Rs(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var hl=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(hl||{}),ja=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new at;_beforeClosed=new at;_result;_closeFallbackTimeout;_state=hl.OPEN;_closeInteractionType;constructor(r,e,n){this._ref=r,this._containerInstance=n,this.disableClose=e.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(_t(o=>o.state==="opened"),Be(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(_t(o=>o.state==="closed"),Be(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Po(this.backdropClick(),this.keydownEvents().pipe(_t(o=>o.keyCode===27&&!this.disableClose&&!Vo(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),Vb(this,o.type==="keydown"?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(_t(e=>e.state==="closing"),Be(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=hl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=hl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Vb(t,r,e){return t._closeInteractionType=r,t.close(e)}var uO=new pt("MatMdcDialogData"),dO=new pt("mat-mdc-dialog-default-options"),fO=new pt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=k(nr);return()=>t.scrollStrategies.block()}});var nm=(()=>{class t{_overlay=k(nr);_defaultOptions=k(dO,{optional:!0});_scrollStrategy=k(fO);_parentDialog=k(t,{optional:!0,skipSelf:!0});_idGenerator=k(qr);_dialog=k(em);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new at;_afterOpenedAtThisLevel=new at;dialogConfigClass=pl;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Jn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sr(void 0)));constructor(){this._dialogRefConstructor=ja,this._dialogContainerType=lO,this._dialogDataToken=uO}open(e,n){let o;n=j(j({},this._defaultOptions||new pl),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let i=this._dialog.open(e,gt(j({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:jn,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(s,l,d)=>(o=new this._dialogRefConstructor(s,n,d),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=i.componentRef,o.componentInstance=i.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tQ=(()=>{class t{dialogRef=k(ja,{optional:!0});_elementRef=k(Jt);_dialog=k(nm);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Wb(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){Vb(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,o){n&1&&io("click",function(s){return o._onButtonClick(s)}),n&2&&Fe("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[mn]})}return t})(),qb=(()=>{class t{_dialogRef=k(ja,{optional:!0});_elementRef=k(Jt);_dialog=k(nm);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Wb(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t})}return t})(),eQ=(()=>{class t extends qb{id=k(qr).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,o){n&2&&uu("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[fe]})}return t})(),rQ=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[ah([Uf])]})}return t})(),nQ=(()=>{class t extends qb{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})();static \u0275dir=Ut({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,o){n&2&&Xe("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[fe]})}return t})();function Wb(t,r){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?r.find(n=>n.id===e.id):null}var oQ=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Gt({providers:[nm],imports:[Bb,_i,Kr,Wr,Wr]})}return t})();export{Hr as a,Cr as b,bO as c,bn as d,Kr as e,jh as f,IO as g,MO as h,Uh as i,Or as j,Dr as k,sx as l,wp as m,ze as n,oD as o,iD as p,vw as q,Qs as r,ma as s,id as t,bD as u,Bw as v,H8 as w,G8 as x,e6 as y,ll as z,r6 as A,wb as B,Cb as C,ul as D,dl as E,Sb as F,zf as G,Fn as H,nr as I,Mb as J,H6 as K,_i as L,ja as M,uO as N,nm as O,tQ as P,eQ as Q,rQ as R,nQ as S,oQ as T,tO as U,eO as V,h9 as W,v9 as X};
