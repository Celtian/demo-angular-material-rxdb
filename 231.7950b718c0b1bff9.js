"use strict";(self.webpackChunkdemo_angular_rxdb=self.webpackChunkdemo_angular_rxdb||[]).push([[231],{7231:(q,v,n)=>{n.r(v),n.d(v,{PostDetailModule:()=>$});var d=n(8484),u=n(6814),m=n(2296),r=n(5195),S=n(617),p=n(9515),T=n(1907),c=n(2787),l=n(3694),t=n(5879),P=n(1993),A=n(7398),g=n(2181),h=n(4664),C=n(9397),M=n(5177),R=n(1374),Z=n(3470),U=n(3003),D=n(4097),f=n(2237),I=n(5991),L=n(4310),Q=n(6241),Y=n(8807),B=n(2939);const O=function(a){return[a]};function N(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"button",5),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onDelete())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",6),t.ALo(5,"localize"),t._uU(6),t.ALo(7,"translate"),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"UNI.delete")),t.xp6(2),t.Q6J("routerLink",t.VKq(9,O,t.lcZ(5,5,"/"+e.dataSource().data.id+"/"+e.ROUTES.POSTS.EDIT))),t.xp6(2),t.Oqu(t.lcZ(7,7,"UNI.edit"))}}function b(a,i){if(1&a&&(t.ynx(0),t.YNc(1,N,8,11,"div",2),t.TgZ(2,"mat-card")(3,"mat-card-header")(4,"mat-card-subtitle"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-title"),t._uU(7),t.ALo(8,"uppercase"),t.qZA()(),t.TgZ(9,"mat-card-content")(10,"p",3),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()()(),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","data"===e.dataSource().state),t.xp6(3),t.ekj("blur-sm","loading"===e.dataSource().state),t.xp6(1),t.Oqu("#"+e.dataSource().data.id),t.xp6(1),t.ekj("blur-sm","loading"===e.dataSource().state),t.xp6(1),t.Oqu(t.lcZ(8,13,e.dataSource().data.title)),t.xp6(3),t.ekj("blur-sm","loading"===e.dataSource().state),t.xp6(1),t.hij(" ",t.lcZ(12,15,"post-detail.about-post")," "),t.xp6(2),t.ekj("blur-sm","loading"===e.dataSource().state),t.xp6(1),t.hij(" ",e.dataSource().data.body," ")}}function E(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-card")(2,"mat-card-content",7),t._UZ(3,"mat-icon",8),t.TgZ(4,"div"),t._uU(5),t.qZA()()(),t.BQk()),2&a){const e=t.oxw();t.xp6(5),t.Oqu(e.dataSource().error)}}function j(a,i){1&a&&(t.ynx(0),t.TgZ(1,"mat-card")(2,"mat-card-content",7),t._UZ(3,"mat-icon",9),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.BQk()),2&a&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ERROR.post-was-not-found")))}const J=function(a,i){return[a,i]};function w(a,i){if(1&a&&(t.ynx(0),t._UZ(1,"mat-icon",11),t.TgZ(2,"a",6),t.ALo(3,"localize"),t._uU(4),t.qZA(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.WLB(4,J,t.lcZ(3,2,"/"),e.dataSource().data.id)),t.xp6(2),t.Oqu(e.dataSource().data.id)}}function z(a,i){if(1&a&&(t.TgZ(0,"div",10)(1,"a",6),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,w,5,7,"ng-container",0),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,O,t.lcZ(2,3,"/"))),t.xp6(2),t.Oqu(t.lcZ(4,5,"BREADCRUMBS.app.posts")),t.xp6(2),t.Q6J("ngIf","data"===e.dataSource().state)}}const y=[{path:"",component:(()=>{class a{constructor(e,o,s,x,H,K,W,X,G,k,V){this.breadcrumbsPortalService=e,this.route=o,this.cdr=s,this.language=x,this.seoService=H,this.translate=K,this.lr=W,this.apiService=X,this.snackBar=G,this.router=k,this.confirm=V,this.destroyRef=(0,t.f3M)(t.ktI),this.dataSource=(0,t.tdS)(new U.o(D.X)),this.ROUTES=f.Z}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),setTimeout(()=>this.cdr.markForCheck());const e=this.route.paramMap.pipe((0,A.U)(o=>o.get("id")));e.pipe((0,g.h)(o=>!Number.isNaN(Number(o))),(0,h.w)(o=>this.language.language$.pipe((0,C.b)({next:()=>{const s=this.lr.translateRoute(`/${o}`);this.seoService.setSeo({title:this.translate.instant(`SEO.${f.Z.POSTS.DETAIL}.title`),description:this.translate.instant(`SEO.${f.Z.POSTS.DETAIL}.description`)},s)}}))),(0,P.sL)(this.destroyRef)).subscribe(),e.pipe((0,M.g)(500),(0,C.b)(o=>{("string"!=typeof o||!o)&&this.dataSource.mutate(s=>s.setData(D.X))}),(0,g.h)(o=>"string"==typeof o&&!!o),(0,h.w)(o=>this.apiService.detail(String(o))),(0,P.sL)(this.destroyRef)).subscribe({next:o=>this.dataSource.mutate(s=>s.setData(o)),error:o=>{const s=this.translate.instant("ERROR.unexpected-exception");this.dataSource.mutate(x=>x.setError(s))}})}onDelete(){this.confirm.openCustomConfirmDialog(Z.C.Delete).pipe((0,R.P)(),(0,g.h)(e=>!!e),(0,h.w)(()=>this.apiService.delete(this.dataSource().data.id))).subscribe({next:()=>{this.snackBar.open(this.translate.instant("response.delete.success"),this.translate.instant("UNI.close"));const e=this.lr.translateRoute("/");this.router.navigate([e])},error:()=>{this.snackBar.open(this.translate.instant("response.delete.failed"),this.translate.instant("UNI.close"))}})}ngOnDestroy(){this.portalContent?.detach()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(I.H),t.Y36(c.gz),t.Y36(t.sBO),t.Y36(L.T),t.Y36(Q.v),t.Y36(p.sK),t.Y36(l.An),t.Y36(Y.s),t.Y36(B.ux),t.Y36(c.F0),t.Y36(Z.w))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-post-detail"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.ig,7),2&e){let s;t.iGM(s=t.CRH())&&(o.portalContent=s.first)}},decls:4,vars:3,consts:[[4,"ngIf"],["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2",4,"ngIf"],[1,"mb-2","font-semibold","text-md"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"click"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","aria-label","Error icon","fontIcon","error"],["aria-hidden","false","aria-label","Warning icon","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(e,o){1&e&&(t.YNc(0,b,15,17,"ng-container",0),t.YNc(1,E,6,1,"ng-container",0),t.YNc(2,j,7,3,"ng-container",0),t.YNc(3,z,6,9,"div",1)),2&e&&(t.Q6J("ngIf","data"===o.dataSource().state||"loading"===o.dataSource().state),t.xp6(1),t.Q6J("ngIf","error"===o.dataSource().state),t.xp6(1),t.Q6J("ngIf","empty"===o.dataSource().state))},dependencies:[u.O5,c.rH,d.ig,m.zs,m.lW,S.Hw,r.a8,r.dn,r.dk,r.$j,r.n5,u.gd,l.lO,p.X$],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0}),a})()}];let F=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.Bz.forChild(y),l.fQ.forChild(y),c.Bz,l.fQ]}),a})(),$=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,F,d.eL,m.ot,S.Ps,r.QW,p.aw,T.D]}),a})()}}]);