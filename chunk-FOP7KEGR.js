import{$ as cm,$a as ce,$b as Dm,A as cu,Aa as $r,Ab as vu,B as nm,Ba as mm,Bb as Uo,C as Gn,Ca as Wt,Cb as Br,Cd as Hm,E as lu,Ea as pm,Eb as Ni,Ed as qm,F as Di,Fa as pe,Fb as Jn,G as wt,Ga as zt,Gb as ti,Gc as Fm,H as uu,Hc as ve,I as Oi,J as ki,Ka as Vt,Kb as bu,Kc as Li,L as du,Lc as Es,M as pr,Ma as gm,Mb as yu,Mc as Fi,N as im,Na as Lr,Nc as Rs,Oa as vm,Ob as Re,Oc as Ds,P as Ai,Pa as Ti,Pc as xu,Q as Ii,Qa as H,Qc as Bi,R as fn,Ra as zo,S as fu,Sa as Fr,Sc as Os,T as om,Ta as xs,Tc as wu,U as am,Uc as Yt,V as hu,Va as bm,Vb as Em,Vc as Bm,W as sm,Wa as ym,Wb as Rm,X as jo,Xa as Pi,Xb as Vo,Xc as jm,Y as tr,Ya as pn,Yb as _u,Yc as zm,Z as Ke,Zb as Ss,_ as hn,_b as $i,a as B,aa as me,ab as _m,ac as yr,b as gt,ba as _e,bb as gn,cb as ws,cc as ge,cd as ks,d as Mx,da as dt,db as pu,dc as Om,dd as As,e as vs,ea as Jt,eb as Zn,f as Nx,fa as lm,fb as Pe,fc as km,g as z,ga as vt,gd as Um,h as mr,ha as mu,hc as Am,hd as ji,i as Jh,ia as K,ib as vr,id as Vm,j as Lo,ja as X,jb as Cs,jc as Qt,jd as vn,k as Fo,ka as ys,kd as Wo,l as Yn,la as _s,lb as xm,lc as Im,m as lt,ma as Ee,mc as Ko,n as fe,na as te,nd as jr,o as tm,oa as jt,oc as Tm,pa as um,pb as br,pc as Pm,q as dn,qa as dm,qb as er,qc as rr,r as he,rb as We,rd as Km,s as nt,sa as Xn,t as Bo,ta as gr,u as Ri,v as em,va as mn,vb as wm,w as rm,wa as fm,wb as gu,wc as Mm,x as mt,xa as hm,xb as Cm,xc as Nm,y as bs,yb as Mi,yc as $m,yd as Wm,z as qt,zb as Sm,zc as Lm}from"./chunk-J44DNVTL.js";var hy=Mx((Nf,$f)=>{"use strict";(function(e,t){typeof Nf=="object"&&typeof $f<"u"?$f.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Dexie=t())})(Nf,function(){"use strict";var e=function(s,c){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])},e(s,c)};function t(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");e(s,c);function u(){this.constructor=s}s.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}var i=function(){return i=Object.assign||function(c){for(var u,f=1,h=arguments.length;f<h;f++){u=arguments[f];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(c[g]=u[g])}return c},i.apply(this,arguments)};function r(s,c,u){if(u||arguments.length===2)for(var f=0,h=c.length,g;f<h;f++)(g||!(f in c))&&(g||(g=Array.prototype.slice.call(c,0,f)),g[f]=c[f]);return s.concat(g||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,a=Array.isArray;typeof Promise<"u"&&!n.Promise&&(n.Promise=Promise);function l(s,c){return typeof c!="object"||o(c).forEach(function(u){s[u]=c[u]}),s}var d=Object.getPrototypeOf,m={}.hasOwnProperty;function p(s,c){return m.call(s,c)}function b(s,c){typeof c=="function"&&(c=c(d(s))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(u){C(s,u,c[u])})}var x=Object.defineProperty;function C(s,c,u,f){x(s,c,l(u&&p(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function O(s){return{from:function(c){return s.prototype=Object.create(c.prototype),C(s.prototype,"constructor",s),{extend:b.bind(null,s.prototype)}}}}var N=Object.getOwnPropertyDescriptor;function W(s,c){var u=N(s,c),f;return u||(f=d(s))&&W(f,c)}var et=[].slice;function rt(s,c,u){return et.call(s,c,u)}function Z(s,c){return c(s)}function Ft(s){if(!s)throw new Error("Assertion Failed")}function yt(s){n.setImmediate?setImmediate(s):setTimeout(s,0)}function Mt(s,c){return s.reduce(function(u,f,h){var g=c(f,h);return g&&(u[g[0]]=g[1]),u},{})}function bt(s,c){if(typeof c=="string"&&p(s,c))return s[c];if(!c)return s;if(typeof c!="string"){for(var u=[],f=0,h=c.length;f<h;++f){var g=bt(s,c[f]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var y=s[c.substr(0,v)];return y==null?void 0:bt(y,c.substr(v+1))}}function xt(s,c,u){if(!(!s||c===void 0)&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof c!="string"&&"length"in c){Ft(typeof u!="string"&&"length"in u);for(var f=0,h=c.length;f<h;++f)xt(s,c[f],u[f])}else{var g=c.indexOf(".");if(g!==-1){var v=c.substr(0,g),y=c.substr(g+1);if(y==="")u===void 0?a(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=u;else{var _=s[v];(!_||!p(s,v))&&(_=s[v]={}),xt(_,y,u)}}else u===void 0?a(s)&&!isNaN(parseInt(c))?s.splice(c,1):delete s[c]:s[c]=u}}function de(s,c){typeof c=="string"?xt(s,c,void 0):"length"in c&&[].map.call(c,function(u){xt(s,u,void 0)})}function lr(s){var c={};for(var u in s)p(s,u)&&(c[u]=s[u]);return c}var yo=[].concat;function Xr(s){return yo.apply([],s)}var Pr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Xr([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(c){return c+s+"Array"})}))).filter(function(s){return n[s]}),Ua=new Set(Pr.map(function(s){return n[s]}));function Va(s){var c={};for(var u in s)if(p(s,u)){var f=s[u];c[u]=!f||typeof f!="object"||Ua.has(f.constructor)?f:Va(f)}return c}function yl(s){for(var c in s)if(p(s,c))return!1;return!0}var jn=null;function Ue(s){jn=new WeakMap;var c=Zr(s);return jn=null,c}function Zr(s){if(!s||typeof s!="object")return s;var c=jn.get(s);if(c)return c;if(a(s)){c=[],jn.set(s,c);for(var u=0,f=s.length;u<f;++u)c.push(Zr(s[u]))}else if(Ua.has(s.constructor))c=s;else{var h=d(s);c=h===Object.prototype?{}:Object.create(h),jn.set(s,c);for(var g in s)p(s,g)&&(c[g]=Zr(s[g]))}return c}var _o={}.toString;function Jr(s){return _o.call(s).slice(8,-1)}var xo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",be=typeof xo=="symbol"?function(s){var c;return s!=null&&(c=s[xo])&&c.apply(s)}:function(){return null};function Zt(s,c){var u=s.indexOf(c);return u>=0&&s.splice(u,1),u>=0}var Ge={};function Xe(s){var c,u,f,h;if(arguments.length===1){if(a(s))return s.slice();if(this===Ge&&typeof s=="string")return[s];if(h=be(s)){for(u=[];f=h.next(),!f.done;)u.push(f.value);return u}if(s==null)return[s];if(c=s.length,typeof c=="number"){for(u=new Array(c);c--;)u[c]=s[c];return u}return[s]}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var _l=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},s_=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],mh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xl=s_.concat(mh),c_={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function bi(s,c){this.name=s,this.message=c}O(bi).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ph(s,c){return s+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function Ka(s,c,u,f){this.failures=c,this.failedKeys=f,this.successCount=u,this.message=ph(s,c)}O(Ka).from(bi);function yi(s,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=ph(s,this.failures)}O(yi).from(bi);var wl=xl.reduce(function(s,c){return s[c]=c+"Error",s},{}),l_=bi,it=xl.reduce(function(s,c){var u=c+"Error";function f(h,g){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=c_[c]||u,this.inner=null)}return O(f).from(l_),s[c]=f,s},{});it.Syntax=SyntaxError,it.Type=TypeError,it.Range=RangeError;var gh=mh.reduce(function(s,c){return s[c+"Error"]=it[c],s},{});function u_(s,c){if(!s||s instanceof bi||s instanceof TypeError||s instanceof SyntaxError||!s.name||!gh[s.name])return s;var u=new gh[s.name](c||s.message,s);return"stack"in s&&C(u,"stack",{get:function(){return this.inner.stack}}),u}var Wa=xl.reduce(function(s,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(s[c+"Error"]=it[c]),s},{});Wa.ModifyError=Ka,Wa.DexieError=bi,Wa.BulkError=yi;function At(){}function wo(s){return s}function d_(s,c){return s==null||s===wo?c:function(u){return c(s(u))}}function zn(s,c){return function(){s.apply(this,arguments),c.apply(this,arguments)}}function f_(s,c){return s===At?c:function(){var u=s.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?zn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?zn(h,this.onerror):h),g!==void 0?g:u}}function h_(s,c){return s===At?c:function(){s.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?zn(u,this.onsuccess):u),f&&(this.onerror=this.onerror?zn(f,this.onerror):f)}}function m_(s,c){return s===At?c:function(u){var f=s.apply(this,arguments);l(u,f);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var v=c.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?zn(h,this.onsuccess):h),g&&(this.onerror=this.onerror?zn(g,this.onerror):g),f===void 0?v===void 0?void 0:v:l(f,v)}}function p_(s,c){return s===At?c:function(){return c.apply(this,arguments)===!1?!1:s.apply(this,arguments)}}function Cl(s,c){return s===At?c:function(){var u=s.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return u.then(function(){return c.apply(f,g)})}return c.apply(this,arguments)}}var ur=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function vh(s,c){ur=s}var Co={},bh=100,Sl=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,d(s),s];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,d(c),s]}(),yh=Sl[0],_h=Sl[1],g_=Sl[2],v_=_h&&_h.then,So=yh&&yh.constructor,El=!!g_;function b_(){queueMicrotask(__)}var Eo=function(s,c){Ro.push([s,c]),Ha&&(b_(),Ha=!1)},Rl=!0,Ha=!0,Un=[],qa=[],Dl=wo,tn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:At,pgp:!1,env:{},finalize:At},tt=tn,Ro=[],Vn=0,Qa=[];function q(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=tt;if(typeof s!="function"){if(s!==Co)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&kl(this,this._value);return}this._state=null,this._value=null,++c.ref,wh(this,s)}var Ol={get:function(){var s=tt,c=Za;function u(f,h){var g=this,v=!s.global&&(s!==tt||c!==Za),y=v&&!rn(),_=new q(function(w,R){Al(g,new xh(Eh(f,s,v,y),Eh(h,s,v,y),w,R,s))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return u.prototype=Co,u},set:function(s){C(this,"then",s&&s.prototype===Co?Ol:{get:function(){return s},set:Ol.set})}};b(q.prototype,{then:Ol,_then:function(s,c){Al(this,new xh(null,null,s,c,tt))},catch:function(s){if(arguments.length===1)return this.then(null,s);var c=arguments[0],u=arguments[1];return typeof c=="function"?this.then(null,function(f){return f instanceof c?u(f):Ya(f)}):this.then(null,function(f){return f&&f.name===c?u(f):Ya(f)})},finally:function(s){return this.then(function(c){return q.resolve(s()).then(function(){return c})},function(c){return q.resolve(s()).then(function(){return Ya(c)})})},timeout:function(s,c){var u=this;return s<1/0?new q(function(f,h){var g=setTimeout(function(){return h(new it.Timeout(c))},s);u.then(f,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(q.prototype,Symbol.toStringTag,"Dexie.Promise"),tn.env=Sh();function xh(s,c,u,f,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=f,this.psd=h}b(q,{all:function(){var s=Xe.apply(null,arguments).map(Ja);return new q(function(c,u){s.length===0&&c([]);var f=s.length;s.forEach(function(h,g){return q.resolve(h).then(function(v){s[g]=v,--f||c(s)},u)})})},resolve:function(s){if(s instanceof q)return s;if(s&&typeof s.then=="function")return new q(function(u,f){s.then(u,f)});var c=new q(Co,!0,s);return c},reject:Ya,race:function(){var s=Xe.apply(null,arguments).map(Ja);return new q(function(c,u){s.map(function(f){return q.resolve(f).then(c,u)})})},PSD:{get:function(){return tt},set:function(s){return tt=s}},totalEchoes:{get:function(){return Za}},newPSD:en,usePSD:Kn,scheduler:{get:function(){return Eo},set:function(s){Eo=s}},rejectionMapper:{get:function(){return Dl},set:function(s){Dl=s}},follow:function(s,c){return new q(function(u,f){return en(function(h,g){var v=tt;v.unhandleds=[],v.onunhandled=g,v.finalize=zn(function(){var y=this;x_(function(){y.unhandleds.length===0?h():g(y.unhandleds[0])})},v.finalize),s()},c,u,f)})}}),So&&(So.allSettled&&C(q,"allSettled",function(){var s=Xe.apply(null,arguments).map(Ja);return new q(function(c){s.length===0&&c([]);var u=s.length,f=new Array(u);s.forEach(function(h,g){return q.resolve(h).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||c(f)})})})}),So.any&&typeof AggregateError<"u"&&C(q,"any",function(){var s=Xe.apply(null,arguments).map(Ja);return new q(function(c,u){s.length===0&&u(new AggregateError([]));var f=s.length,h=new Array(f);s.forEach(function(g,v){return q.resolve(g).then(function(y){return c(y)},function(y){h[v]=y,--f||u(new AggregateError(h))})})})}));function wh(s,c){try{c(function(u){if(s._state===null){if(u===s)throw new TypeError("A promise cannot be resolved with itself.");var f=s._lib&&_i();u&&typeof u.then=="function"?wh(s,function(h,g){u instanceof q?u._then(h,g):u.then(h,g)}):(s._state=!0,s._value=u,Ch(s)),f&&xi()}},kl.bind(null,s))}catch(u){kl(s,u)}}function kl(s,c){if(qa.push(c),s._state===null){var u=s._lib&&_i();c=Dl(c),s._state=!1,s._value=c,w_(s),Ch(s),u&&xi()}}function Ch(s){var c=s._listeners;s._listeners=[];for(var u=0,f=c.length;u<f;++u)Al(s,c[u]);var h=s._PSD;--h.ref||h.finalize(),Vn===0&&(++Vn,Eo(function(){--Vn===0&&Il()},[]))}function Al(s,c){if(s._state===null){s._listeners.push(c);return}var u=s._state?c.onFulfilled:c.onRejected;if(u===null)return(s._state?c.resolve:c.reject)(s._value);++c.psd.ref,++Vn,Eo(y_,[u,s,c])}function y_(s,c,u){try{var f,h=c._value;!c._state&&qa.length&&(qa=[]),f=ur&&c._consoleTask?c._consoleTask.run(function(){return s(h)}):s(h),!c._state&&qa.indexOf(h)===-1&&C_(c),u.resolve(f)}catch(g){u.reject(g)}finally{--Vn===0&&Il(),--u.psd.ref||u.psd.finalize()}}function __(){Kn(tn,function(){_i()&&xi()})}function _i(){var s=Rl;return Rl=!1,Ha=!1,s}function xi(){var s,c,u;do for(;Ro.length>0;)for(s=Ro,Ro=[],u=s.length,c=0;c<u;++c){var f=s[c];f[0].apply(null,f[1])}while(Ro.length>0);Rl=!0,Ha=!0}function Il(){var s=Un;Un=[],s.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=Qa.slice(0),u=c.length;u;)c[--u]()}function x_(s){function c(){s(),Qa.splice(Qa.indexOf(c),1)}Qa.push(c),++Vn,Eo(function(){--Vn===0&&Il()},[])}function w_(s){Un.some(function(c){return c._value===s._value})||Un.push(s)}function C_(s){for(var c=Un.length;c;)if(Un[--c]._value===s._value){Un.splice(c,1);return}}function Ya(s){return new q(Co,!1,s)}function Bt(s,c){var u=tt;return function(){var f=_i(),h=tt;try{return nn(u,!0),s.apply(this,arguments)}catch(g){c&&c(g)}finally{nn(h,!1),f&&xi()}}}var re={awaits:0,echoes:0,id:0},S_=0,Ga=[],Xa=0,Za=0,E_=0;function en(s,c,u,f){var h=tt,g=Object.create(h);g.parent=h,g.ref=0,g.global=!1,g.id=++E_,tn.env,g.env=El?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject}:{},c&&l(g,c),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()};var v=Kn(g,s,u,f);return g.ref===0&&g.finalize(),v}function wi(){return re.id||(re.id=++S_),++re.awaits,re.echoes+=bh,re.id}function rn(){return re.awaits?(--re.awaits===0&&(re.id=0),re.echoes=re.awaits*bh,!0):!1}(""+v_).indexOf("[native code]")===-1&&(wi=rn=At);function Ja(s){return re.echoes&&s&&s.constructor===So?(wi(),s.then(function(c){return rn(),c},function(c){return rn(),Ht(c)})):s}function R_(s){++Za,(!re.echoes||--re.echoes===0)&&(re.echoes=re.awaits=re.id=0),Ga.push(tt),nn(s,!0)}function D_(){var s=Ga[Ga.length-1];Ga.pop(),nn(s,!1)}function nn(s,c){var u=tt;if((c?re.echoes&&(!Xa++||s!==tt):Xa&&(!--Xa||s!==tt))&&queueMicrotask(c?R_.bind(null,s):D_),s!==tt&&(tt=s,u===tn&&(tn.env=Sh()),El)){var f=tn.env.Promise,h=s.env;(u.global||s.global)&&(Object.defineProperty(n,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any&&(f.any=h.any))}}function Sh(){var s=n.Promise;return El?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Kn(s,c,u,f,h){var g=tt;try{return nn(s,!0),c(u,f,h)}finally{nn(g,!1)}}function Eh(s,c,u,f){return typeof s!="function"?s:function(){var h=tt;u&&wi(),nn(c,!0);try{return s.apply(this,arguments)}finally{nn(h,!1),f&&queueMicrotask(rn)}}}function Tl(s){Promise===So&&re.echoes===0?Xa===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}var Ht=q.reject;function Pl(s,c,u,f){if(!s.idbdb||!s._state.openComplete&&!tt.letThrough&&!s._vip){if(s._state.openComplete)return Ht(new it.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return Ht(new it.DatabaseClosed);s.open().catch(At)}return s._state.dbReadyPromise.then(function(){return Pl(s,c,u,f)})}else{var h=s._createTransaction(c,u,s._dbSchema);try{h.create(),s._state.PR1398_maxLoop=3}catch(g){return g.name===wl.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s.close({disableAutoOpen:!1}),s.open().then(function(){return Pl(s,c,u,f)})):Ht(g)}return h._promise(c,function(g,v){return en(function(){return tt.trans=h,f(g,v,h)})}).then(function(g){if(c==="readwrite")try{h.idbtrans.commit()}catch{}return c==="readonly"?g:h._completion.then(function(){return g})})}}var Rh="4.0.8",Wn="\uFFFF",Ml=-1/0,Mr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Dh="String expected.",Ci=[],ts="__dbnames",Nl="readonly",$l="readwrite";function Hn(s,c){return s?c?function(){return s.apply(this,arguments)&&c.apply(this,arguments)}:s:c}var Oh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function es(s){return typeof s=="string"&&!/\./.test(s)?function(c){return c[s]===void 0&&s in c&&(c=Ue(c),delete c[s]),c}:function(c){return c}}function kh(){throw it.Type()}function Ct(s,c){try{var u=Ah(s),f=Ah(c);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return s>c?1:s<c?-1:0;case"binary":return k_(Ih(s),Ih(c));case"Array":return O_(s,c)}}catch{}return NaN}function O_(s,c){for(var u=s.length,f=c.length,h=u<f?u:f,g=0;g<h;++g){var v=Ct(s[g],c[g]);if(v!==0)return v}return u===f?0:u<f?-1:1}function k_(s,c){for(var u=s.length,f=c.length,h=u<f?u:f,g=0;g<h;++g)if(s[g]!==c[g])return s[g]<c[g]?-1:1;return u===f?0:u<f?-1:1}function Ah(s){var c=typeof s;if(c!=="object")return c;if(ArrayBuffer.isView(s))return"binary";var u=Jr(s);return u==="ArrayBuffer"?"binary":u}function Ih(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}var Th=function(){function s(){}return s.prototype._trans=function(c,u,f){var h=this._tx||tt.trans,g=this.name,v=ur&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function y(R,S,k){if(!k.schema[g])throw new it.NotFound("Table "+g+" not part of transaction");return u(k.idbtrans,k)}var _=_i();try{var w=h&&h.db._novip===this.db._novip?h===tt.trans?h._promise(c,y,f):en(function(){return h._promise(c,y,f)},{trans:h,transless:tt.transless||tt}):Pl(this.db,c,[this.name],y);return v&&(w._consoleTask=v,w=w.catch(function(R){return console.trace(R),Ht(R)})),w}finally{_&&xi()}},s.prototype.get=function(c,u){var f=this;return c&&c.constructor===Object?this.where(c).first(u):c==null?Ht(new it.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:c}).then(function(g){return f.hook.reading.fire(g)})}).then(u)},s.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(a(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var u=o(c);if(u.length===1)return this.where(u[0]).equals(c[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&u.every(function(j){return S.keyPath.indexOf(j)>=0})){for(var k=0;k<u.length;++k)if(u.indexOf(S.keyPath[k])===-1)return!1;return!0}return!1}).sort(function(S,k){return S.keyPath.length-k.keyPath.length})[0];if(f&&this.db._maxKey!==Wn){var h=f.keyPath.slice(0,u.length);return this.where(h).equals(h.map(function(S){return c[S]}))}!f&&ur&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var g=this.schema.idxByName,v=this.db._deps.indexedDB;function y(S,k){return v.cmp(S,k)===0}var _=u.reduce(function(S,k){var j=S[0],E=S[1],D=g[k],A=c[k];return[j||D,j||!D?Hn(E,D&&D.multi?function(I){var M=bt(I,k);return a(M)&&M.some(function(L){return y(A,L)})}:function(I){return y(A,bt(I,k))}):E]},[null,null]),w=_[0],R=_[1];return w?this.where(w.name).equals(c[w.keyPath]).filter(R):f?this.filter(R):this.where(u).equals("")},s.prototype.filter=function(c){return this.toCollection().and(c)},s.prototype.count=function(c){return this.toCollection().count(c)},s.prototype.offset=function(c){return this.toCollection().offset(c)},s.prototype.limit=function(c){return this.toCollection().limit(c)},s.prototype.each=function(c){return this.toCollection().each(c)},s.prototype.toArray=function(c){return this.toCollection().toArray(c)},s.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},s.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,a(c)?"[".concat(c.join("+"),"]"):c))},s.prototype.reverse=function(){return this.toCollection().reverse()},s.prototype.mapToClass=function(c){var u=this,f=u.db,h=u.name;this.schema.mappedClass=c,c.prototype instanceof kh&&(c=function(_){t(w,_);function w(){return _!==null&&_.apply(this,arguments)||this}return Object.defineProperty(w.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),w.prototype.table=function(){return h},w}(c));for(var g=new Set,v=c.prototype;v;v=d(v))Object.getOwnPropertyNames(v).forEach(function(_){return g.add(_)});var y=function(_){if(!_)return _;var w=Object.create(c.prototype);for(var R in _)if(!g.has(R))try{w[R]=_[R]}catch{}return w};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),c},s.prototype.defineClass=function(){function c(u){l(this,u)}return this.mapToClass(c)},s.prototype.add=function(c,u){var f=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,y=c;return v&&g&&(y=es(v)(c)),this._trans("readwrite",function(_){return f.core.mutate({trans:_,type:"add",keys:u!=null?[u]:null,values:[y]})}).then(function(_){return _.numFailures?q.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{xt(c,v,_)}catch{}return _})},s.prototype.update=function(c,u){if(typeof c=="object"&&!a(c)){var f=bt(c,this.schema.primKey.keyPath);return f===void 0?Ht(new it.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(u)}else return this.where(":id").equals(c).modify(u)},s.prototype.put=function(c,u){var f=this,h=this.schema.primKey,g=h.auto,v=h.keyPath,y=c;return v&&g&&(y=es(v)(c)),this._trans("readwrite",function(_){return f.core.mutate({trans:_,type:"put",values:[y],keys:u!=null?[u]:null})}).then(function(_){return _.numFailures?q.reject(_.failures[0]):_.lastResult}).then(function(_){if(v)try{xt(c,v,_)}catch{}return _})},s.prototype.delete=function(c){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[c]})}).then(function(f){return f.numFailures?q.reject(f.failures[0]):void 0})},s.prototype.clear=function(){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"deleteRange",range:Oh})}).then(function(u){return u.numFailures?q.reject(u.failures[0]):void 0})},s.prototype.bulkGet=function(c){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:c,trans:f}).then(function(h){return h.map(function(g){return u.hook.reading.fire(g)})})})},s.prototype.bulkAdd=function(c,u,f){var h=this,g=Array.isArray(u)?u:void 0;f=f||(g?void 0:u);var v=f?f.allKeys:void 0;return this._trans("readwrite",function(y){var _=h.schema.primKey,w=_.auto,R=_.keyPath;if(R&&g)throw new it.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==c.length)throw new it.InvalidArgument("Arguments objects and keys must have the same length");var S=c.length,k=R&&w?c.map(es(R)):c;return h.core.mutate({trans:y,type:"add",keys:g,values:k,wantResults:v}).then(function(j){var E=j.numFailures,D=j.results,A=j.lastResult,I=j.failures,M=v?D:A;if(E===0)return M;throw new yi("".concat(h.name,".bulkAdd(): ").concat(E," of ").concat(S," operations failed"),I)})})},s.prototype.bulkPut=function(c,u,f){var h=this,g=Array.isArray(u)?u:void 0;f=f||(g?void 0:u);var v=f?f.allKeys:void 0;return this._trans("readwrite",function(y){var _=h.schema.primKey,w=_.auto,R=_.keyPath;if(R&&g)throw new it.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==c.length)throw new it.InvalidArgument("Arguments objects and keys must have the same length");var S=c.length,k=R&&w?c.map(es(R)):c;return h.core.mutate({trans:y,type:"put",keys:g,values:k,wantResults:v}).then(function(j){var E=j.numFailures,D=j.results,A=j.lastResult,I=j.failures,M=v?D:A;if(E===0)return M;throw new yi("".concat(h.name,".bulkPut(): ").concat(E," of ").concat(S," operations failed"),I)})})},s.prototype.bulkUpdate=function(c){var u=this,f=this.core,h=c.map(function(y){return y.key}),g=c.map(function(y){return y.changes}),v=[];return this._trans("readwrite",function(y){return f.getMany({trans:y,keys:h,cache:"clone"}).then(function(_){var w=[],R=[];c.forEach(function(k,j){var E=k.key,D=k.changes,A=_[j];if(A){for(var I=0,M=Object.keys(D);I<M.length;I++){var L=M[I],F=D[L];if(L===u.schema.primKey.keyPath){if(Ct(F,E)!==0)throw new it.Constraint("Cannot update primary key in bulkUpdate()")}else xt(A,L,F)}v.push(j),w.push(E),R.push(A)}});var S=w.length;return f.mutate({trans:y,type:"put",keys:w,values:R,updates:{keys:h,changeSpecs:g}}).then(function(k){var j=k.numFailures,E=k.failures;if(j===0)return S;for(var D=0,A=Object.keys(E);D<A.length;D++){var I=A[D],M=v[Number(I)];if(M!=null){var L=E[I];delete E[I],E[M]=L}}throw new yi("".concat(u.name,".bulkUpdate(): ").concat(j," of ").concat(S," operations failed"),E)})})})},s.prototype.bulkDelete=function(c){var u=this,f=c.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:c})}).then(function(h){var g=h.numFailures,v=h.lastResult,y=h.failures;if(g===0)return v;throw new yi("".concat(u.name,".bulkDelete(): ").concat(g," of ").concat(f," operations failed"),y)})},s}();function Do(s){var c={},u=function(y,_){if(_){for(var w=arguments.length,R=new Array(w-1);--w;)R[w-1]=arguments[w];return c[y].subscribe.apply(null,R),s}else if(typeof y=="string")return c[y]};u.addEventType=g;for(var f=1,h=arguments.length;f<h;++f)g(arguments[f]);return u;function g(y,_,w){if(typeof y=="object")return v(y);_||(_=p_),w||(w=At);var R={subscribers:[],fire:w,subscribe:function(S){R.subscribers.indexOf(S)===-1&&(R.subscribers.push(S),R.fire=_(R.fire,S))},unsubscribe:function(S){R.subscribers=R.subscribers.filter(function(k){return k!==S}),R.fire=R.subscribers.reduce(_,w)}};return c[y]=u[y]=R,R}function v(y){o(y).forEach(function(_){var w=y[_];if(a(w))g(_,y[_][0],y[_][1]);else if(w==="asap")var R=g(_,wo,function(){for(var k=arguments.length,j=new Array(k);k--;)j[k]=arguments[k];R.subscribers.forEach(function(E){yt(function(){E.apply(null,j)})})});else throw new it.InvalidArgument("Invalid event config")})}}function Oo(s,c){return O(c).from({prototype:s}),c}function A_(s){return Oo(Th.prototype,function(u,f,h){this.db=s,this._tx=h,this.name=u,this.schema=f,this.hook=s._allTables[u]?s._allTables[u].hook:Do(null,{creating:[f_,At],reading:[d_,wo],updating:[m_,At],deleting:[h_,At]})})}function Si(s,c){return!(s.filter||s.algorithm||s.or)&&(c?s.justLimit:!s.replayFilter)}function Ll(s,c){s.filter=Hn(s.filter,c)}function Fl(s,c,u){var f=s.replayFilter;s.replayFilter=f?function(){return Hn(f(),c())}:c,s.justLimit=u&&!f}function I_(s,c){s.isMatch=Hn(s.isMatch,c)}function rs(s,c){if(s.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(s.index);if(!u)throw new it.Schema("KeyPath "+s.index+" on object store "+c.name+" is not indexed");return u}function Ph(s,c,u){var f=rs(s,c.schema);return c.openCursor({trans:u,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:f,range:s.range}})}function ns(s,c,u,f){var h=s.replayFilter?Hn(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},v=function(y,_,w){if(!h||h(_,w,function(k){return _.stop(k)},function(k){return _.fail(k)})){var R=_.primaryKey,S=""+R;S==="[object ArrayBuffer]"&&(S=""+new Uint8Array(R)),p(g,S)||(g[S]=!0,c(y,_,w))}};return Promise.all([s.or._iterate(v,u),Mh(Ph(s,f,u),s.algorithm,v,!s.keysOnly&&s.valueMapper)])}else return Mh(Ph(s,f,u),Hn(s.algorithm,h),c,!s.keysOnly&&s.valueMapper)}function Mh(s,c,u,f){var h=f?function(v,y,_){return u(f(v),y,_)}:u,g=Bt(h);return s.then(function(v){if(v)return v.start(function(){var y=function(){return v.continue()};(!c||c(v,function(_){return y=_},function(_){v.stop(_),y=At},function(_){v.fail(_),y=At}))&&g(v.value,v,function(_){return y=_}),y()})})}var T_=Symbol(),ko=function(){function s(c){Object.assign(this,c)}return s.prototype.execute=function(c){var u;if(this.add!==void 0){var f=this.add;if(a(f))return r(r([],a(c)?c:[],!0),f,!0).sort();if(typeof f=="number")return(Number(c)||0)+f;if(typeof f=="bigint")try{return BigInt(c)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(this.remove!==void 0){var h=this.remove;if(a(h))return a(c)?c.filter(function(v){return!h.includes(v)}).sort():[];if(typeof h=="number")return Number(c)-h;if(typeof h=="bigint")try{return BigInt(c)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}var g=(u=this.replacePrefix)===null||u===void 0?void 0:u[0];return g&&typeof c=="string"&&c.startsWith(g)?this.replacePrefix[1]+c.substring(g.length):c},s}(),P_=function(){function s(){}return s.prototype._read=function(c,u){var f=this._ctx;return f.error?f.table._trans(null,Ht.bind(null,f.error)):f.table._trans("readonly",c).then(u)},s.prototype._write=function(c){var u=this._ctx;return u.error?u.table._trans(null,Ht.bind(null,u.error)):u.table._trans("readwrite",c,"locked")},s.prototype._addAlgorithm=function(c){var u=this._ctx;u.algorithm=Hn(u.algorithm,c)},s.prototype._iterate=function(c,u){return ns(this._ctx,c,u,this._ctx.table.core)},s.prototype.clone=function(c){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return c&&l(f,c),u._ctx=f,u},s.prototype.raw=function(){return this._ctx.valueMapper=null,this},s.prototype.each=function(c){var u=this._ctx;return this._read(function(f){return ns(u,c,f,u.table.core)})},s.prototype.count=function(c){var u=this;return this._read(function(f){var h=u._ctx,g=h.table.core;if(Si(h,!0))return g.count({trans:f,query:{index:rs(h,g.schema),range:h.range}}).then(function(y){return Math.min(y,h.limit)});var v=0;return ns(h,function(){return++v,!1},f,g).then(function(){return v})}).then(c)},s.prototype.sortBy=function(c,u){var f=c.split(".").reverse(),h=f[0],g=f.length-1;function v(w,R){return R?v(w[f[R]],R-1):w[h]}var y=this._ctx.dir==="next"?1:-1;function _(w,R){var S=v(w,g),k=v(R,g);return S<k?-y:S>k?y:0}return this.toArray(function(w){return w.sort(_)}).then(u)},s.prototype.toArray=function(c){var u=this;return this._read(function(f){var h=u._ctx;if(h.dir==="next"&&Si(h,!0)&&h.limit>0){var g=h.valueMapper,v=rs(h,h.table.core.schema);return h.table.core.query({trans:f,limit:h.limit,values:!0,query:{index:v,range:h.range}}).then(function(_){var w=_.result;return g?w.map(g):w})}else{var y=[];return ns(h,function(_){return y.push(_)},f,h.table.core).then(function(){return y})}},c)},s.prototype.offset=function(c){var u=this._ctx;return c<=0?this:(u.offset+=c,Si(u)?Fl(u,function(){var f=c;return function(h,g){return f===0?!0:f===1?(--f,!1):(g(function(){h.advance(f),f=0}),!1)}}):Fl(u,function(){var f=c;return function(){return--f<0}}),this)},s.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),Fl(this._ctx,function(){var u=c;return function(f,h,g){return--u<=0&&h(g),u>=0}},!0),this},s.prototype.until=function(c,u){return Ll(this._ctx,function(f,h,g){return c(f.value)?(h(g),u):!0}),this},s.prototype.first=function(c){return this.limit(1).toArray(function(u){return u[0]}).then(c)},s.prototype.last=function(c){return this.reverse().first(c)},s.prototype.filter=function(c){return Ll(this._ctx,function(u){return c(u.value)}),I_(this._ctx,c),this},s.prototype.and=function(c){return this.filter(c)},s.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},s.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},s.prototype.desc=function(){return this.reverse()},s.prototype.eachKey=function(c){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){c(h.key,h)})},s.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},s.prototype.eachPrimaryKey=function(c){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){c(h.primaryKey,h)})},s.prototype.keys=function(c){var u=this._ctx;u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,g){f.push(g.key)}).then(function(){return f}).then(c)},s.prototype.primaryKeys=function(c){var u=this._ctx;if(u.dir==="next"&&Si(u,!0)&&u.limit>0)return this._read(function(h){var g=rs(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:g,range:u.range}})}).then(function(h){var g=h.result;return g}).then(c);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,g){f.push(g.primaryKey)}).then(function(){return f}).then(c)},s.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},s.prototype.firstKey=function(c){return this.limit(1).keys(function(u){return u[0]}).then(c)},s.prototype.lastKey=function(c){return this.reverse().firstKey(c)},s.prototype.distinct=function(){var c=this._ctx,u=c.index&&c.table.schema.idxByName[c.index];if(!u||!u.multi)return this;var f={};return Ll(this._ctx,function(h){var g=h.primaryKey.toString(),v=p(f,g);return f[g]=!0,!v}),this},s.prototype.modify=function(c){var u=this,f=this._ctx;return this._write(function(h){var g;if(typeof c=="function")g=c;else{var v=o(c),y=v.length;g=function(I){for(var M=!1,L=0;L<y;++L){var F=v[L],$=c[F],V=bt(I,F);$ instanceof ko?(xt(I,F,$.execute(V)),M=!0):V!==$&&(xt(I,F,$),M=!0)}return M}}var _=f.table.core,w=_.schema.primaryKey,R=w.outbound,S=w.extractKey,k=u.db._options.modifyChunkSize||200,j=[],E=0,D=[],A=function(I,M){var L=M.failures,F=M.numFailures;E+=I-F;for(var $=0,V=o(L);$<V.length;$++){var Y=V[$];j.push(L[Y])}};return u.clone().primaryKeys().then(function(I){var M=Si(f)&&f.limit===1/0&&(typeof c!="function"||c===Bl)&&{index:f.index,range:f.range},L=function(F){var $=Math.min(k,I.length-F);return _.getMany({trans:h,keys:I.slice(F,F+$),cache:"immutable"}).then(function(V){for(var Y=[],G=[],ct=R?[]:null,J=[],at=0;at<$;++at){var _t=V[at],ut={value:Ue(_t),primKey:I[F+at]};g.call(ut,ut.value,ut)!==!1&&(ut.value==null?J.push(I[F+at]):!R&&Ct(S(_t),S(ut.value))!==0?(J.push(I[F+at]),Y.push(ut.value)):(G.push(ut.value),R&&ct.push(I[F+at])))}return Promise.resolve(Y.length>0&&_.mutate({trans:h,type:"add",values:Y}).then(function(It){for(var st in It.failures)J.splice(parseInt(st),1);A(Y.length,It)})).then(function(){return(G.length>0||M&&typeof c=="object")&&_.mutate({trans:h,type:"put",keys:ct,values:G,criteria:M,changeSpec:typeof c!="function"&&c,isAdditionalChunk:F>0}).then(function(It){return A(G.length,It)})}).then(function(){return(J.length>0||M&&c===Bl)&&_.mutate({trans:h,type:"delete",keys:J,criteria:M,isAdditionalChunk:F>0}).then(function(It){return A(J.length,It)})}).then(function(){return I.length>F+$&&L(F+k)})})};return L(0).then(function(){if(j.length>0)throw new Ka("Error modifying one or more objects",j,E,D);return I.length})})})},s.prototype.delete=function(){var c=this._ctx,u=c.range;return Si(c)&&(c.isPrimKey||u.type===3)?this._write(function(f){var h=c.table.core.schema.primaryKey,g=u;return c.table.core.count({trans:f,query:{index:h,range:g}}).then(function(v){return c.table.core.mutate({trans:f,type:"deleteRange",range:g}).then(function(y){var _=y.failures;y.lastResult,y.results;var w=y.numFailures;if(w)throw new Ka("Could not delete some values",Object.keys(_).map(function(R){return _[R]}),v-w);return v-w})})}):this.modify(Bl)},s}(),Bl=function(s,c){return c.value=null};function M_(s){return Oo(P_.prototype,function(u,f){this.db=s;var h=Oh,g=null;if(f)try{h=f()}catch(w){g=w}var v=u._ctx,y=v.table,_=y.hook.reading.fire;this._ctx={table:y,index:v.index,isPrimKey:!v.index||y.schema.primKey.keyPath&&v.index===y.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:v.or,valueMapper:_!==wo?_:null}})}function N_(s,c){return s<c?-1:s===c?0:1}function $_(s,c){return s>c?-1:s===c?0:1}function Te(s,c,u){var f=s instanceof $h?new s.Collection(s):s;return f._ctx.error=u?new u(c):new TypeError(c),f}function Ei(s){return new s.Collection(s,function(){return Nh("")}).limit(0)}function L_(s){return s==="next"?function(c){return c.toUpperCase()}:function(c){return c.toLowerCase()}}function F_(s){return s==="next"?function(c){return c.toLowerCase()}:function(c){return c.toUpperCase()}}function B_(s,c,u,f,h,g){for(var v=Math.min(s.length,f.length),y=-1,_=0;_<v;++_){var w=c[_];if(w!==f[_])return h(s[_],u[_])<0?s.substr(0,_)+u[_]+u.substr(_+1):h(s[_],f[_])<0?s.substr(0,_)+f[_]+u.substr(_+1):y>=0?s.substr(0,y)+c[y]+u.substr(y+1):null;h(s[_],w)<0&&(y=_)}return v<f.length&&g==="next"?s+u.substr(s.length):v<s.length&&g==="prev"?s.substr(0,u.length):y<0?null:s.substr(0,y)+f[y]+u.substr(y+1)}function is(s,c,u,f){var h,g,v,y,_,w,R,S=u.length;if(!u.every(function(D){return typeof D=="string"}))return Te(s,Dh);function k(D){h=L_(D),g=F_(D),v=D==="next"?N_:$_;var A=u.map(function(I){return{lower:g(I),upper:h(I)}}).sort(function(I,M){return v(I.lower,M.lower)});y=A.map(function(I){return I.upper}),_=A.map(function(I){return I.lower}),w=D,R=D==="next"?"":f}k("next");var j=new s.Collection(s,function(){return on(y[0],_[S-1]+f)});j._ondirectionchange=function(D){k(D)};var E=0;return j._addAlgorithm(function(D,A,I){var M=D.key;if(typeof M!="string")return!1;var L=g(M);if(c(L,_,E))return!0;for(var F=null,$=E;$<S;++$){var V=B_(M,L,y[$],_[$],v,w);V===null&&F===null?E=$+1:(F===null||v(F,V)>0)&&(F=V)}return A(F!==null?function(){D.continue(F+R)}:I),!1}),j}function on(s,c,u,f){return{type:2,lower:s,upper:c,lowerOpen:u,upperOpen:f}}function Nh(s){return{type:1,lower:s,upper:s}}var $h=function(){function s(){}return Object.defineProperty(s.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),s.prototype.between=function(c,u,f,h){f=f!==!1,h=h===!0;try{return this._cmp(c,u)>0||this._cmp(c,u)===0&&(f||h)&&!(f&&h)?Ei(this):new this.Collection(this,function(){return on(c,u,!f,!h)})}catch{return Te(this,Mr)}},s.prototype.equals=function(c){return c==null?Te(this,Mr):new this.Collection(this,function(){return Nh(c)})},s.prototype.above=function(c){return c==null?Te(this,Mr):new this.Collection(this,function(){return on(c,void 0,!0)})},s.prototype.aboveOrEqual=function(c){return c==null?Te(this,Mr):new this.Collection(this,function(){return on(c,void 0,!1)})},s.prototype.below=function(c){return c==null?Te(this,Mr):new this.Collection(this,function(){return on(void 0,c,!1,!0)})},s.prototype.belowOrEqual=function(c){return c==null?Te(this,Mr):new this.Collection(this,function(){return on(void 0,c)})},s.prototype.startsWith=function(c){return typeof c!="string"?Te(this,Dh):this.between(c,c+Wn,!0,!0)},s.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):is(this,function(u,f){return u.indexOf(f[0])===0},[c],Wn)},s.prototype.equalsIgnoreCase=function(c){return is(this,function(u,f){return u===f[0]},[c],"")},s.prototype.anyOfIgnoreCase=function(){var c=Xe.apply(Ge,arguments);return c.length===0?Ei(this):is(this,function(u,f){return f.indexOf(u)!==-1},c,"")},s.prototype.startsWithAnyOfIgnoreCase=function(){var c=Xe.apply(Ge,arguments);return c.length===0?Ei(this):is(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},c,Wn)},s.prototype.anyOf=function(){var c=this,u=Xe.apply(Ge,arguments),f=this._cmp;try{u.sort(f)}catch{return Te(this,Mr)}if(u.length===0)return Ei(this);var h=new this.Collection(this,function(){return on(u[0],u[u.length-1])});h._ondirectionchange=function(v){f=v==="next"?c._ascending:c._descending,u.sort(f)};var g=0;return h._addAlgorithm(function(v,y,_){for(var w=v.key;f(w,u[g])>0;)if(++g,g===u.length)return y(_),!1;return f(w,u[g])===0?!0:(y(function(){v.continue(u[g])}),!1)}),h},s.prototype.notEqual=function(c){return this.inAnyRange([[Ml,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},s.prototype.noneOf=function(){var c=Xe.apply(Ge,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return Te(this,Mr)}var u=c.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[Ml,h]]},null);return u.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},s.prototype.inAnyRange=function(c,u){var f=this,h=this._cmp,g=this._ascending,v=this._descending,y=this._min,_=this._max;if(c.length===0)return Ei(this);if(!c.every(function($){return $[0]!==void 0&&$[1]!==void 0&&g($[0],$[1])<=0}))return Te(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",it.InvalidArgument);var w=!u||u.includeLowers!==!1,R=u&&u.includeUppers===!0;function S($,V){for(var Y=0,G=$.length;Y<G;++Y){var ct=$[Y];if(h(V[0],ct[1])<0&&h(V[1],ct[0])>0){ct[0]=y(ct[0],V[0]),ct[1]=_(ct[1],V[1]);break}}return Y===G&&$.push(V),$}var k=g;function j($,V){return k($[0],V[0])}var E;try{E=c.reduce(S,[]),E.sort(j)}catch{return Te(this,Mr)}var D=0,A=R?function($){return g($,E[D][1])>0}:function($){return g($,E[D][1])>=0},I=w?function($){return v($,E[D][0])>0}:function($){return v($,E[D][0])>=0};function M($){return!A($)&&!I($)}var L=A,F=new this.Collection(this,function(){return on(E[0][0],E[E.length-1][1],!w,!R)});return F._ondirectionchange=function($){$==="next"?(L=A,k=g):(L=I,k=v),E.sort(j)},F._addAlgorithm(function($,V,Y){for(var G=$.key;L(G);)if(++D,D===E.length)return V(Y),!1;return M(G)?!0:(f._cmp(G,E[D][1])===0||f._cmp(G,E[D][0])===0||V(function(){k===g?$.continue(E[D][0]):$.continue(E[D][1])}),!1)}),F},s.prototype.startsWithAnyOf=function(){var c=Xe.apply(Ge,arguments);return c.every(function(u){return typeof u=="string"})?c.length===0?Ei(this):this.inAnyRange(c.map(function(u){return[u,u+Wn]})):Te(this,"startsWithAnyOf() only works with strings")},s}();function j_(s){return Oo($h.prototype,function(u,f,h){if(this.db=s,this._ctx={table:u,index:f===":id"?null:f,or:h},this._cmp=this._ascending=Ct,this._descending=function(g,v){return Ct(v,g)},this._max=function(g,v){return Ct(g,v)>0?g:v},this._min=function(g,v){return Ct(g,v)<0?g:v},this._IDBKeyRange=s._deps.IDBKeyRange,!this._IDBKeyRange)throw new it.MissingAPI})}function dr(s){return Bt(function(c){return Ao(c),s(c.target.error),!1})}function Ao(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Io="storagemutated",jl="x-storagemutated-1",an=Do(null,Io),z_=function(){function s(){}return s.prototype._lock=function(){return Ft(!tt.global),++this._reculock,this._reculock===1&&!tt.global&&(tt.lockOwnerFor=this),this},s.prototype._unlock=function(){if(Ft(!tt.global),--this._reculock===0)for(tt.global||(tt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var c=this._blockedFuncs.shift();try{Kn(c[1],c[0])}catch{}}return this},s.prototype._locked=function(){return this._reculock&&tt.lockOwnerFor!==this},s.prototype.create=function(c){var u=this;if(!this.mode)return this;var f=this.db.idbdb,h=this.db._state.dbOpenError;if(Ft(!this.idbtrans),!c&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new it.DatabaseClosed(h);case"MissingAPIError":throw new it.MissingAPI(h.message,h);default:throw new it.OpenFailed(h)}if(!this.active)throw new it.TransactionInactive;return Ft(this._completion._state===null),c=this.idbtrans=c||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):f.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),c.onerror=Bt(function(g){Ao(g),u._reject(c.error)}),c.onabort=Bt(function(g){Ao(g),u.active&&u._reject(new it.Abort(c.error)),u.active=!1,u.on("abort").fire(g)}),c.oncomplete=Bt(function(){u.active=!1,u._resolve(),"mutatedParts"in c&&an.storagemutated.fire(c.mutatedParts)}),this},s.prototype._promise=function(c,u,f){var h=this;if(c==="readwrite"&&this.mode!=="readwrite")return Ht(new it.ReadOnly("Transaction is readonly"));if(!this.active)return Ht(new it.TransactionInactive);if(this._locked())return new q(function(v,y){h._blockedFuncs.push([function(){h._promise(c,u,f).then(v,y)},tt])});if(f)return en(function(){var v=new q(function(y,_){h._lock();var w=u(y,_,h);w&&w.then&&w.then(y,_)});return v.finally(function(){return h._unlock()}),v._lib=!0,v});var g=new q(function(v,y){var _=u(v,y,h);_&&_.then&&_.then(v,y)});return g._lib=!0,g},s.prototype._root=function(){return this.parent?this.parent._root():this},s.prototype.waitFor=function(c){var u=this._root(),f=q.resolve(c);if(u._waitingFor)u._waitingFor=u._waitingFor.then(function(){return f});else{u._waitingFor=f,u._waitingQueue=[];var h=u.idbtrans.objectStore(u.storeNames[0]);(function v(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(h.get(-1/0).onsuccess=v)})()}var g=u._waitingFor;return new q(function(v,y){f.then(function(_){return u._waitingQueue.push(Bt(v.bind(null,_)))},function(_){return u._waitingQueue.push(Bt(y.bind(null,_)))}).finally(function(){u._waitingFor===g&&(u._waitingFor=null)})})},s.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new it.Abort))},s.prototype.table=function(c){var u=this._memoizedTables||(this._memoizedTables={});if(p(u,c))return u[c];var f=this.schema[c];if(!f)throw new it.NotFound("Table "+c+" not part of transaction");var h=new this.db.Table(c,f,this);return h.core=this.db.core.table(c),u[c]=h,h},s}();function U_(s){return Oo(z_.prototype,function(u,f,h,g,v){var y=this;this.db=s,this.mode=u,this.storeNames=f,this.schema=h,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=Do(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q(function(_,w){y._resolve=_,y._reject=w}),this._completion.then(function(){y.active=!1,y.on.complete.fire()},function(_){var w=y.active;return y.active=!1,y.on.error.fire(_),y.parent?y.parent._reject(_):w&&y.idbtrans&&y.idbtrans.abort(),Ht(_)})})}function zl(s,c,u,f,h,g,v){return{name:s,keyPath:c,unique:u,multi:f,auto:h,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(h?"++":"")+Lh(c)}}function Lh(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ul(s,c,u){return{name:s,primKey:c,indexes:u,mappedClass:null,idxByName:Mt(u,function(f){return[f.name,f]})}}function V_(s){return s.length===1?s[0]:s}var To=function(s){try{return s.only([[]]),To=function(){return[[]]},[[]]}catch{return To=function(){return Wn},Wn}};function Vl(s){return s==null?function(){}:typeof s=="string"?K_(s):function(c){return bt(c,s)}}function K_(s){var c=s.split(".");return c.length===1?function(u){return u[s]}:function(u){return bt(u,s)}}function Fh(s){return[].slice.call(s)}var W_=0;function Po(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function H_(s,c,u){function f(S,k){var j=Fh(S.objectStoreNames);return{schema:{name:S.name,tables:j.map(function(E){return k.objectStore(E)}).map(function(E){var D=E.keyPath,A=E.autoIncrement,I=a(D),M=D==null,L={},F={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M,compound:I,keyPath:D,autoIncrement:A,unique:!0,extractKey:Vl(D)},indexes:Fh(E.indexNames).map(function($){return E.index($)}).map(function($){var V=$.name,Y=$.unique,G=$.multiEntry,ct=$.keyPath,J=a(ct),at={name:V,compound:J,keyPath:ct,unique:Y,multiEntry:G,extractKey:Vl(ct)};return L[Po(ct)]=at,at}),getIndexByKeyPath:function($){return L[Po($)]}};return L[":id"]=F.primaryKey,D!=null&&(L[Po(D)]=F.primaryKey),F})},hasGetAll:j.length>0&&"getAll"in k.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function h(S){if(S.type===3)return null;if(S.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var k=S.lower,j=S.upper,E=S.lowerOpen,D=S.upperOpen,A=k===void 0?j===void 0?null:c.upperBound(j,!!D):j===void 0?c.lowerBound(k,!!E):c.bound(k,j,!!E,!!D);return A}function g(S){var k=S.name;function j(A){var I=A.trans,M=A.type,L=A.keys,F=A.values,$=A.range;return new Promise(function(V,Y){V=Bt(V);var G=I.objectStore(k),ct=G.keyPath==null,J=M==="put"||M==="add";if(!J&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var at=(L||F||{length:1}).length;if(L&&F&&L.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(at===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});var _t,ut=[],It=[],st=0,ne=function(hr){++st,Ao(hr)};if(M==="deleteRange"){if($.type===4)return V({numFailures:st,failures:It,results:[],lastResult:void 0});$.type===3?ut.push(_t=G.clear()):ut.push(_t=G.delete(h($)))}else{var Ze=J?ct?[F,L]:[F,null]:[L,null],ln=Ze[0],fr=Ze[1];if(J)for(var Ve=0;Ve<at;++Ve)ut.push(_t=fr&&fr[Ve]!==void 0?G[M](ln[Ve],fr[Ve]):G[M](ln[Ve])),_t.onerror=ne;else for(var Ve=0;Ve<at;++Ve)ut.push(_t=G[M](ln[Ve])),_t.onerror=ne}var un=function(hr){var $o=hr.target.result;ut.forEach(function(Je,gs){return Je.error!=null&&(It[gs]=Je.error)}),V({numFailures:st,failures:It,results:M==="delete"?L:ut.map(function(Je){return Je.result}),lastResult:$o})};_t.onerror=function(hr){ne(hr),un(hr)},_t.onsuccess=un})}function E(A){var I=A.trans,M=A.values,L=A.query,F=A.reverse,$=A.unique;return new Promise(function(V,Y){V=Bt(V);var G=L.index,ct=L.range,J=I.objectStore(k),at=G.isPrimaryKey?J:J.index(G.name),_t=F?$?"prevunique":"prev":$?"nextunique":"next",ut=M||!("openKeyCursor"in at)?at.openCursor(h(ct),_t):at.openKeyCursor(h(ct),_t);ut.onerror=dr(Y),ut.onsuccess=Bt(function(It){var st=ut.result;if(!st){V(null);return}st.___id=++W_,st.done=!1;var ne=st.continue.bind(st),Ze=st.continuePrimaryKey;Ze&&(Ze=Ze.bind(st));var ln=st.advance.bind(st),fr=function(){throw new Error("Cursor not started")},Ve=function(){throw new Error("Cursor not stopped")};st.trans=I,st.stop=st.continue=st.continuePrimaryKey=st.advance=fr,st.fail=Bt(Y),st.next=function(){var un=this,hr=1;return this.start(function(){return hr--?un.continue():un.stop()}).then(function(){return un})},st.start=function(un){var hr=new Promise(function(Je,gs){Je=Bt(Je),ut.onerror=dr(gs),st.fail=gs,st.stop=function(Px){st.stop=st.continue=st.continuePrimaryKey=st.advance=Ve,Je(Px)}}),$o=function(){if(ut.result)try{un()}catch(Je){st.fail(Je)}else st.done=!0,st.start=function(){throw new Error("Cursor behind last entry")},st.stop()};return ut.onsuccess=Bt(function(Je){ut.onsuccess=$o,$o()}),st.continue=ne,st.continuePrimaryKey=Ze,st.advance=ln,$o(),hr},V(st)},Y)})}function D(A){return function(I){return new Promise(function(M,L){M=Bt(M);var F=I.trans,$=I.values,V=I.limit,Y=I.query,G=V===1/0?void 0:V,ct=Y.index,J=Y.range,at=F.objectStore(k),_t=ct.isPrimaryKey?at:at.index(ct.name),ut=h(J);if(V===0)return M({result:[]});if(A){var It=$?_t.getAll(ut,G):_t.getAllKeys(ut,G);It.onsuccess=function(ln){return M({result:ln.target.result})},It.onerror=dr(L)}else{var st=0,ne=$||!("openKeyCursor"in _t)?_t.openCursor(ut):_t.openKeyCursor(ut),Ze=[];ne.onsuccess=function(ln){var fr=ne.result;if(!fr)return M({result:Ze});if(Ze.push($?fr.value:fr.primaryKey),++st===V)return M({result:Ze});fr.continue()},ne.onerror=dr(L)}})}}return{name:k,schema:S,mutate:j,getMany:function(A){var I=A.trans,M=A.keys;return new Promise(function(L,F){L=Bt(L);for(var $=I.objectStore(k),V=M.length,Y=new Array(V),G=0,ct=0,J,at=function(st){var ne=st.target;(Y[ne._pos]=ne.result)!=null,++ct===G&&L(Y)},_t=dr(F),ut=0;ut<V;++ut){var It=M[ut];It!=null&&(J=$.get(M[ut]),J._pos=ut,J.onsuccess=at,J.onerror=_t,++G)}G===0&&L(Y)})},get:function(A){var I=A.trans,M=A.key;return new Promise(function(L,F){L=Bt(L);var $=I.objectStore(k),V=$.get(M);V.onsuccess=function(Y){return L(Y.target.result)},V.onerror=dr(F)})},query:D(_),openCursor:E,count:function(A){var I=A.query,M=A.trans,L=I.index,F=I.range;return new Promise(function($,V){var Y=M.objectStore(k),G=L.isPrimaryKey?Y:Y.index(L.name),ct=h(F),J=ct?G.count(ct):G.count();J.onsuccess=Bt(function(at){return $(at.target.result)}),J.onerror=dr(V)})}}}var v=f(s,u),y=v.schema,_=v.hasGetAll,w=y.tables.map(function(S){return g(S)}),R={};return w.forEach(function(S){return R[S.name]=S}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(S){var k=R[S];if(!k)throw new Error("Table '".concat(S,"' not found"));return R[S]},MIN_KEY:-1/0,MAX_KEY:To(c),schema:y}}function q_(s,c){return c.reduce(function(u,f){var h=f.create;return i(i({},u),h(u))},s)}function Q_(s,c,u,f){var h=u.IDBKeyRange;u.indexedDB;var g=q_(H_(c,h,f),s.dbcore);return{dbcore:g}}function os(s,c){var u=c.db,f=Q_(s._middlewares,u,s._deps,c);s.core=f.dbcore,s.tables.forEach(function(h){var g=h.name;s.core.schema.tables.some(function(v){return v.name===g})&&(h.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=h.core))})}function as(s,c,u,f){u.forEach(function(h){var g=f[h];c.forEach(function(v){var y=W(v,h);(!y||"value"in y&&y.value===void 0)&&(v===s.Transaction.prototype||v instanceof s.Transaction?C(v,h,{get:function(){return this.table(h)},set:function(_){x(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new s.Table(h,g))})})}function Kl(s,c){c.forEach(function(u){for(var f in u)u[f]instanceof s.Table&&delete u[f]})}function Y_(s,c){return s._cfg.version-c._cfg.version}function G_(s,c,u,f){var h=s._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Ul("$meta",jh("")[0],[]),s._storeNames.push("$meta"));var g=s._createTransaction("readwrite",s._storeNames,h);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),y=tt.transless||tt;en(function(){if(tt.trans=g,tt.transless=y,c===0)o(h).forEach(function(_){Hl(u,_,h[_].primKey,h[_].indexes)}),os(s,u),q.follow(function(){return s.on.populate.fire(g)}).catch(v);else return os(s,u),Z_(s,g,c).then(function(_){return J_(s,_,g,u)}).catch(v)})}function X_(s,c){Bh(s._dbSchema,c),c.db.version%10===0&&!c.objectStoreNames.contains("$meta")&&c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=cs(s,s.idbdb,c);ls(s,s._dbSchema,c);for(var f=Wl(u,s._dbSchema),h=function(w){if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=c.objectStore(w.name);w.add.forEach(function(S){ur&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(S.src)),ss(R,S)})},g=0,v=f.change;g<v.length;g++){var y=v[g],_=h(y);if(typeof _=="object")return _.value}}function Z_(s,c,u){return c.storeNames.includes("$meta")?c.table("$meta").get("version").then(function(f){return f??u}):q.resolve(u)}function J_(s,c,u,f){var h=[],g=s._versions,v=s._dbSchema=cs(s,s.idbdb,f),y=g.filter(function(w){return w._cfg.version>=c});if(y.length===0)return q.resolve();y.forEach(function(w){h.push(function(){var R=v,S=w._cfg.dbschema;ls(s,R,f),ls(s,S,f),v=s._dbSchema=S;var k=Wl(R,S);k.add.forEach(function(M){Hl(f,M[0],M[1].primKey,M[1].indexes)}),k.change.forEach(function(M){if(M.recreate)throw new it.Upgrade("Not yet support for changing primary key");var L=f.objectStore(M.name);M.add.forEach(function(F){return ss(L,F)}),M.change.forEach(function(F){L.deleteIndex(F.name),ss(L,F)}),M.del.forEach(function(F){return L.deleteIndex(F)})});var j=w._cfg.contentUpgrade;if(j&&w._cfg.version>c){os(s,f),u._memoizedTables={};var E=lr(S);k.del.forEach(function(M){E[M]=R[M]}),Kl(s,[s.Transaction.prototype]),as(s,[s.Transaction.prototype],o(E),E),u.schema=E;var D=_l(j);D&&wi();var A,I=q.follow(function(){if(A=j(u),A&&D){var M=rn.bind(null,null);A.then(M,M)}});return A&&typeof A.then=="function"?q.resolve(A):I.then(function(){return A})}}),h.push(function(R){var S=w._cfg.dbschema;tx(S,R),Kl(s,[s.Transaction.prototype]),as(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),u.schema=s._dbSchema}),h.push(function(R){s.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(s.idbdb.version/10)===w._cfg.version?(s.idbdb.deleteObjectStore("$meta"),delete s._dbSchema.$meta,s._storeNames=s._storeNames.filter(function(S){return S!=="$meta"})):R.objectStore("$meta").put(w._cfg.version,"version"))})});function _(){return h.length?q.resolve(h.shift()(u.idbtrans)).then(_):q.resolve()}return _().then(function(){Bh(v,f)})}function Wl(s,c){var u={del:[],add:[],change:[]},f;for(f in s)c[f]||u.del.push(f);for(f in c){var h=s[f],g=c[f];if(!h)u.add.push([f,g]);else{var v={name:f,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,u.change.push(v);else{var y=h.idxByName,_=g.idxByName,w=void 0;for(w in y)_[w]||v.del.push(w);for(w in _){var R=y[w],S=_[w];R?R.src!==S.src&&v.change.push(S):v.add.push(S)}(v.del.length>0||v.add.length>0||v.change.length>0)&&u.change.push(v)}}}return u}function Hl(s,c,u,f){var h=s.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return ss(h,g)}),h}function Bh(s,c){o(s).forEach(function(u){c.db.objectStoreNames.contains(u)||(ur&&console.debug("Dexie: Creating missing table",u),Hl(c,u,s[u].primKey,s[u].indexes))})}function tx(s,c){[].slice.call(c.db.objectStoreNames).forEach(function(u){return s[u]==null&&c.db.deleteObjectStore(u)})}function ss(s,c){s.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function cs(s,c,u){var f={},h=rt(c.objectStoreNames,0);return h.forEach(function(g){for(var v=u.objectStore(g),y=v.keyPath,_=zl(Lh(y),y||"",!0,!1,!!v.autoIncrement,y&&typeof y!="string",!0),w=[],R=0;R<v.indexNames.length;++R){var S=v.index(v.indexNames[R]);y=S.keyPath;var k=zl(S.name,y,!!S.unique,!!S.multiEntry,!1,y&&typeof y!="string",!1);w.push(k)}f[g]=Ul(g,_,w)}),f}function ex(s,c,u){s.verno=c.version/10;var f=s._dbSchema=cs(s,c,u);s._storeNames=rt(c.objectStoreNames,0),as(s,[s._allTables],o(f),f)}function rx(s,c){var u=cs(s,s.idbdb,c),f=Wl(u,s._dbSchema);return!(f.add.length||f.change.some(function(h){return h.add.length||h.change.length}))}function ls(s,c,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var g=f[h],v=u.objectStore(g);s._hasGetAll="getAll"in v;for(var y=0;y<v.indexNames.length;++y){var _=v.indexNames[y],w=v.index(_).keyPath,R=typeof w=="string"?w:"["+rt(w).join("+")+"]";if(c[g]){var S=c[g].idxByName[R];S&&(S.name=_,delete c[g].idxByName[R],c[g].idxByName[_]=S)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function jh(s){return s.split(",").map(function(c,u){c=c.trim();var f=c.replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return zl(f,h||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),a(h),u===0)})}var nx=function(){function s(){}return s.prototype._parseStoresSpec=function(c,u){o(c).forEach(function(f){if(c[f]!==null){var h=jh(c[f]),g=h.shift();if(g.unique=!0,g.multi)throw new it.Schema("Primary key cannot be multi-valued");h.forEach(function(v){if(v.auto)throw new it.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new it.Schema("Index must have a name and cannot be an empty string")}),u[f]=Ul(f,g,h)}})},s.prototype.stores=function(c){var u=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,c):c;var f=u._versions,h={},g={};return f.forEach(function(v){l(h,v._cfg.storesSource),g=v._cfg.dbschema={},v._parseStoresSpec(h,g)}),u._dbSchema=g,Kl(u,[u._allTables,u,u.Transaction.prototype]),as(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],o(g),g),u._storeNames=o(g),this},s.prototype.upgrade=function(c){return this._cfg.contentUpgrade=Cl(this._cfg.contentUpgrade||At,c),this},s}();function ix(s){return Oo(nx.prototype,function(u){this.db=s,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ql(s,c){var u=s._dbNamesDB;return u||(u=s._dbNamesDB=new Nr(ts,{addons:[],indexedDB:s,IDBKeyRange:c}),u.version(1).stores({dbnames:"name"})),u.table("dbnames")}function Ql(s){return s&&typeof s.databases=="function"}function ox(s){var c=s.indexedDB,u=s.IDBKeyRange;return Ql(c)?Promise.resolve(c.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==ts})}):ql(c,u).toCollection().primaryKeys()}function ax(s,c){var u=s.indexedDB,f=s.IDBKeyRange;!Ql(u)&&c!==ts&&ql(u,f).put({name:c}).catch(At)}function sx(s,c){var u=s.indexedDB,f=s.IDBKeyRange;!Ql(u)&&c!==ts&&ql(u,f).delete(c).catch(At)}function Yl(s){return en(function(){return tt.letThrough=!0,s()})}function cx(){var s=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!s||!indexedDB.databases)return Promise.resolve();var c;return new Promise(function(u){var f=function(){return indexedDB.databases().finally(u)};c=setInterval(f,100),f()}).finally(function(){return clearInterval(c)})}var Gl;function Xl(s){return!("from"in s)}var ye=function(s,c){if(this)l(this,arguments.length?{d:1,from:s,to:arguments.length>1?c:s}:{d:0});else{var u=new ye;return s&&"d"in s&&l(u,s),u}};b(ye.prototype,(Gl={add:function(s){return No(this,s),this},addKey:function(s){return Mo(this,s,s),this},addKeys:function(s){var c=this;return s.forEach(function(u){return Mo(c,u,u)}),this},hasKey:function(s){var c=us(this).next(s).value;return c&&Ct(c.from,s)<=0&&Ct(c.to,s)>=0}},Gl[xo]=function(){return us(this)},Gl));function Mo(s,c,u){var f=Ct(c,u);if(!isNaN(f)){if(f>0)throw RangeError();if(Xl(s))return l(s,{from:c,to:u,d:1});var h=s.l,g=s.r;if(Ct(u,s.from)<0)return h?Mo(h,c,u):s.l={from:c,to:u,d:1,l:null,r:null},Uh(s);if(Ct(c,s.to)>0)return g?Mo(g,c,u):s.r={from:c,to:u,d:1,l:null,r:null},Uh(s);Ct(c,s.from)<0&&(s.from=c,s.l=null,s.d=g?g.d+1:1),Ct(u,s.to)>0&&(s.to=u,s.r=null,s.d=s.l?s.l.d+1:1);var v=!s.r;h&&!s.l&&No(s,h),g&&v&&No(s,g)}}function No(s,c){function u(f,h){var g=h.from,v=h.to,y=h.l,_=h.r;Mo(f,g,v),y&&u(f,y),_&&u(f,_)}Xl(c)||u(s,c)}function zh(s,c){var u=us(c),f=u.next();if(f.done)return!1;for(var h=f.value,g=us(s),v=g.next(h.from),y=v.value;!f.done&&!v.done;){if(Ct(y.from,h.to)<=0&&Ct(y.to,h.from)>=0)return!0;Ct(h.from,y.from)<0?h=(f=u.next(y.from)).value:y=(v=g.next(h.from)).value}return!1}function us(s){var c=Xl(s)?null:{s:0,n:s};return{next:function(u){for(var f=arguments.length>0;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&Ct(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||Ct(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Uh(s){var c,u,f=(((c=s.r)===null||c===void 0?void 0:c.d)||0)-(((u=s.l)===null||u===void 0?void 0:u.d)||0),h=f>1?"r":f<-1?"l":"";if(h){var g=h==="r"?"l":"r",v=i({},s),y=s[h];s.from=y.from,s.to=y.to,s[h]=y[h],v[h]=y[g],s[g]=v,v.d=Vh(v)}s.d=Vh(s)}function Vh(s){var c=s.r,u=s.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function ds(s,c){return o(c).forEach(function(u){s[u]?No(s[u],c[u]):s[u]=Va(c[u])}),s}function Zl(s,c){return s.all||c.all||Object.keys(s).some(function(u){return c[u]&&zh(c[u],s[u])})}var qn={},Jl={},tu=!1;function fs(s,c){ds(Jl,s),tu||(tu=!0,setTimeout(function(){tu=!1;var u=Jl;Jl={},eu(u,!1)},0))}function eu(s,c){c===void 0&&(c=!1);var u=new Set;if(s.all)for(var f=0,h=Object.values(qn);f<h.length;f++){var g=h[f];Kh(g,s,u,c)}else for(var v in s){var y=/^idb\:\/\/(.*)\/(.*)\//.exec(v);if(y){var _=y[1],w=y[2],g=qn["idb://".concat(_,"/").concat(w)];g&&Kh(g,s,u,c)}}u.forEach(function(R){return R()})}function Kh(s,c,u,f){for(var h=[],g=0,v=Object.entries(s.queries.query);g<v.length;g++){for(var y=v[g],_=y[0],w=y[1],R=[],S=0,k=w;S<k.length;S++){var j=k[S];Zl(c,j.obsSet)?j.subscribers.forEach(function(I){return u.add(I)}):f&&R.push(j)}f&&h.push([_,R])}if(f)for(var E=0,D=h;E<D.length;E++){var A=D[E],_=A[0],R=A[1];s.queries.query[_]=R}}function lx(s){var c=s._state,u=s._deps.indexedDB;if(c.isBeingOpened||s.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Ht(c.dbOpenError):s});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,h=Math.round(s.verno*10),g=!1;function v(){if(c.openCanceller!==f)throw new it.DatabaseClosed("db.open() was cancelled")}var y=c.dbReadyResolve,_=null,w=!1,R=function(){return new q(function(S,k){if(v(),!u)throw new it.MissingAPI;var j=s.name,E=c.autoSchema||!h?u.open(j):u.open(j,h);if(!E)throw new it.MissingAPI;E.onerror=dr(k),E.onblocked=Bt(s._fireOnBlocked),E.onupgradeneeded=Bt(function(D){if(_=E.transaction,c.autoSchema&&!s._options.allowEmptyDB){E.onerror=Ao,_.abort(),E.result.close();var A=u.deleteDatabase(j);A.onsuccess=A.onerror=Bt(function(){k(new it.NoSuchDatabase("Database ".concat(j," doesnt exist")))})}else{_.onerror=dr(k);var I=D.oldVersion>Math.pow(2,62)?0:D.oldVersion;w=I<1,s.idbdb=E.result,g&&X_(s,_),G_(s,I/10,_,k)}},k),E.onsuccess=Bt(function(){_=null;var D=s.idbdb=E.result,A=rt(D.objectStoreNames);if(A.length>0)try{var I=D.transaction(V_(A),"readonly");if(c.autoSchema)ex(s,D,I);else if(ls(s,s._dbSchema,I),!rx(s,I)&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),D.close(),h=D.version+1,g=!0,S(R());os(s,I)}catch{}Ci.push(s),D.onversionchange=Bt(function(M){c.vcFired=!0,s.on("versionchange").fire(M)}),D.onclose=Bt(function(M){s.on("close").fire(M)}),w&&ax(s._deps,j),S()},k)}).catch(function(S){switch(S?.name){case"UnknownError":if(c.PR1398_maxLoop>0)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(h>0)return h=0,R();break}return q.reject(S)})};return q.race([f,(typeof navigator>"u"?q.resolve():cx()).then(R)]).then(function(){return v(),c.onReadyBeingFired=[],q.resolve(Yl(function(){return s.on.ready.fire(s.vip)})).then(function S(){if(c.onReadyBeingFired.length>0){var k=c.onReadyBeingFired.reduce(Cl,At);return c.onReadyBeingFired=[],q.resolve(Yl(function(){return k(s.vip)})).then(S)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(S){c.dbOpenError=S;try{_&&_.abort()}catch{}return f===c.openCanceller&&s._close(),Ht(S)}).finally(function(){c.openComplete=!0,y()}).then(function(){if(w){var S={};s.tables.forEach(function(k){k.schema.indexes.forEach(function(j){j.name&&(S["idb://".concat(s.name,"/").concat(k.name,"/").concat(j.name)]=new ye(-1/0,[[[]]]))}),S["idb://".concat(s.name,"/").concat(k.name,"/")]=S["idb://".concat(s.name,"/").concat(k.name,"/:dels")]=new ye(-1/0,[[[]]])}),an(Io).fire(S),eu(S,!0)}return s})}function ru(s){var c=function(v){return s.next(v)},u=function(v){return s.throw(v)},f=g(c),h=g(u);function g(v){return function(y){var _=v(y),w=_.value;return _.done?w:!w||typeof w.then!="function"?a(w)?Promise.all(w).then(f,h):f(w):w.then(f,h)}}return g(c)()}function ux(s,c,u){var f=arguments.length;if(f<2)throw new it.InvalidArgument("Too few arguments");for(var h=new Array(f-1);--f;)h[f-1]=arguments[f];u=h.pop();var g=Xr(h);return[s,g,u]}function Wh(s,c,u,f,h){return q.resolve().then(function(){var g=tt.transless||tt,v=s._createTransaction(c,u,s._dbSchema,f);v.explicit=!0;var y={trans:v,transless:g};if(f)v.idbtrans=f.idbtrans;else try{v.create(),v.idbtrans._explicit=!0,s._state.PR1398_maxLoop=3}catch(S){return S.name===wl.InvalidState&&s.isOpen()&&--s._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),s.close({disableAutoOpen:!1}),s.open().then(function(){return Wh(s,c,u,null,h)})):Ht(S)}var _=_l(h);_&&wi();var w,R=q.follow(function(){if(w=h.call(v,v),w)if(_){var S=rn.bind(null,null);w.then(S,S)}else typeof w.next=="function"&&typeof w.throw=="function"&&(w=ru(w))},y);return(w&&typeof w.then=="function"?q.resolve(w).then(function(S){return v.active?S:Ht(new it.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return w})).then(function(S){return f&&v._resolve(),v._completion.then(function(){return S})}).catch(function(S){return v._reject(S),Ht(S)})})}function hs(s,c,u){for(var f=a(s)?s.slice():[s],h=0;h<u;++h)f.push(c);return f}function dx(s){return i(i({},s),{table:function(c){var u=s.table(c),f=u.schema,h={},g=[];function v(D,A,I){var M=Po(D),L=h[M]=h[M]||[],F=D==null?0:typeof D=="string"?1:D.length,$=A>0,V=i(i({},I),{name:$?"".concat(M,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:$,keyTail:A,keyLength:F,extractKey:Vl(D),unique:!$&&I.unique});if(L.push(V),V.isPrimaryKey||g.push(V),F>1){var Y=F===2?D[0]:D.slice(0,F-1);v(Y,A+1,I)}return L.sort(function(G,ct){return G.keyTail-ct.keyTail}),V}var y=v(f.primaryKey.keyPath,0,f.primaryKey);h[":id"]=[y];for(var _=0,w=f.indexes;_<w.length;_++){var R=w[_];v(R.keyPath,0,R)}function S(D){var A=h[Po(D)];return A&&A[0]}function k(D,A){return{type:D.type===1?2:D.type,lower:hs(D.lower,D.lowerOpen?s.MAX_KEY:s.MIN_KEY,A),lowerOpen:!0,upper:hs(D.upper,D.upperOpen?s.MIN_KEY:s.MAX_KEY,A),upperOpen:!0}}function j(D){var A=D.query.index;return A.isVirtual?i(i({},D),{query:{index:A.lowLevelIndex,range:k(D.query.range,A.keyTail)}}):D}var E=i(i({},u),{schema:i(i({},f),{primaryKey:y,indexes:g,getIndexByKeyPath:S}),count:function(D){return u.count(j(D))},query:function(D){return u.query(j(D))},openCursor:function(D){var A=D.query.index,I=A.keyTail,M=A.isVirtual,L=A.keyLength;if(!M)return u.openCursor(D);function F($){function V(G){G!=null?$.continue(hs(G,D.reverse?s.MAX_KEY:s.MIN_KEY,I)):D.unique?$.continue($.key.slice(0,L).concat(D.reverse?s.MIN_KEY:s.MAX_KEY,I)):$.continue()}var Y=Object.create($,{continue:{value:V},continuePrimaryKey:{value:function(G,ct){$.continuePrimaryKey(hs(G,s.MAX_KEY,I),ct)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var G=$.key;return L===1?G[0]:G.slice(0,L)}},value:{get:function(){return $.value}}});return Y}return u.openCursor(j(D)).then(function($){return $&&F($)})}});return E}})}var fx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:dx};function nu(s,c,u,f){return u=u||{},f=f||"",o(s).forEach(function(h){if(!p(c,h))u[f+h]=void 0;else{var g=s[h],v=c[h];if(typeof g=="object"&&typeof v=="object"&&g&&v){var y=Jr(g),_=Jr(v);y!==_?u[f+h]=c[h]:y==="Object"?nu(g,v,u,f+h+"."):g!==v&&(u[f+h]=c[h])}else g!==v&&(u[f+h]=c[h])}}),o(c).forEach(function(h){p(s,h)||(u[f+h]=c[h])}),u}function iu(s,c){return c.type==="delete"?c.keys:c.keys||c.values.map(s.extractKey)}var hx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return i(i({},s),{table:function(c){var u=s.table(c),f=u.schema.primaryKey,h=i(i({},u),{mutate:function(g){var v=tt.trans,y=v.table(c).hook,_=y.deleting,w=y.creating,R=y.updating;switch(g.type){case"add":if(w.fire===At)break;return v._promise("readwrite",function(){return S(g)},!0);case"put":if(w.fire===At&&R.fire===At)break;return v._promise("readwrite",function(){return S(g)},!0);case"delete":if(_.fire===At)break;return v._promise("readwrite",function(){return S(g)},!0);case"deleteRange":if(_.fire===At)break;return v._promise("readwrite",function(){return k(g)},!0)}return u.mutate(g);function S(E){var D=tt.trans,A=E.keys||iu(f,E);if(!A)throw new Error("Keys missing");return E=E.type==="add"||E.type==="put"?i(i({},E),{keys:A}):i({},E),E.type!=="delete"&&(E.values=r([],E.values,!0)),E.keys&&(E.keys=r([],E.keys,!0)),mx(u,E,A).then(function(I){var M=A.map(function(L,F){var $=I[F],V={onerror:null,onsuccess:null};if(E.type==="delete")_.fire.call(V,L,$,D);else if(E.type==="add"||$===void 0){var Y=w.fire.call(V,L,E.values[F],D);L==null&&Y!=null&&(L=Y,E.keys[F]=L,f.outbound||xt(E.values[F],f.keyPath,L))}else{var G=nu($,E.values[F]),ct=R.fire.call(V,G,L,$,D);if(ct){var J=E.values[F];Object.keys(ct).forEach(function(at){p(J,at)?J[at]=ct[at]:xt(J,at,ct[at])})}}return V});return u.mutate(E).then(function(L){for(var F=L.failures,$=L.results,V=L.numFailures,Y=L.lastResult,G=0;G<A.length;++G){var ct=$?$[G]:A[G],J=M[G];ct==null?J.onerror&&J.onerror(F[G]):J.onsuccess&&J.onsuccess(E.type==="put"&&I[G]?E.values[G]:ct)}return{failures:F,results:$,numFailures:V,lastResult:Y}}).catch(function(L){return M.forEach(function(F){return F.onerror&&F.onerror(L)}),Promise.reject(L)})})}function k(E){return j(E.trans,E.range,1e4)}function j(E,D,A){return u.query({trans:E,values:!1,query:{index:f,range:D},limit:A}).then(function(I){var M=I.result;return S({type:"delete",keys:M,trans:E}).then(function(L){return L.numFailures>0?Promise.reject(L.failures[0]):M.length<A?{failures:[],numFailures:0,lastResult:void 0}:j(E,i(i({},D),{lower:M[M.length-1],lowerOpen:!0}),A)})})}}});return h}})}};function mx(s,c,u){return c.type==="add"?Promise.resolve([]):s.getMany({trans:c.trans,keys:u,cache:"immutable"})}function Hh(s,c,u){try{if(!c||c.keys.length<s.length)return null;for(var f=[],h=0,g=0;h<c.keys.length&&g<s.length;++h)Ct(c.keys[h],s[g])===0&&(f.push(u?Ue(c.values[h]):c.values[h]),++g);return f.length===s.length?f:null}catch{return null}}var px={stack:"dbcore",level:-1,create:function(s){return{table:function(c){var u=s.table(c);return i(i({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=Hh(f.keys,f.trans._cache,f.cache==="clone");return h?q.resolve(h):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Ue(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function qh(s,c){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Qh(s,c){switch(s){case"query":return c.values&&!c.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var gx={stack:"dbcore",level:0,name:"Observability",create:function(s){var c=s.schema.name,u=new ye(s.MIN_KEY,s.MAX_KEY);return i(i({},s),{transaction:function(f,h,g){if(tt.subscr&&h!=="readonly")throw new it.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(tt.querier));return s.transaction(f,h,g)},table:function(f){var h=s.table(f),g=h.schema,v=g.primaryKey,y=g.indexes,_=v.extractKey,w=v.outbound,R=v.autoIncrement&&y.filter(function(E){return E.compound&&E.keyPath.includes(v.keyPath)}),S=i(i({},h),{mutate:function(E){var D=E.trans,A=E.mutatedParts||(E.mutatedParts={}),I=function(at){var _t="idb://".concat(c,"/").concat(f,"/").concat(at);return A[_t]||(A[_t]=new ye)},M=I(""),L=I(":dels"),F=E.type,$=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[iu(v,E).filter(function(at){return at}),E.values]:[],V=$[0],Y=$[1],G=E.trans._cache;if(a(V)){M.addKeys(V);var ct=F==="delete"||V.length===Y.length?Hh(V,G):null;ct||L.addKeys(V),(ct||Y)&&vx(I,g,ct,Y)}else if(V){var J={from:V.lower,to:V.upper};L.add(J),M.add(J)}else M.add(u),L.add(u),g.indexes.forEach(function(at){return I(at.name).add(u)});return h.mutate(E).then(function(at){return V&&(E.type==="add"||E.type==="put")&&(M.addKeys(at.results),R&&R.forEach(function(_t){var ut=E.values.map(function(st){return _t.extractKey(st)}),It=_t.keyPath.findIndex(function(st){return st===v.keyPath});at.results.forEach(function(st){return ut[It]=st}),I(_t.name).addKeys(ut)})),D.mutatedParts=ds(D.mutatedParts||{},A),at})}}),k=function(E){var D,A,I=E.query,M=I.index,L=I.range;return[M,new ye((D=L.lower)!==null&&D!==void 0?D:s.MIN_KEY,(A=L.upper)!==null&&A!==void 0?A:s.MAX_KEY)]},j={get:function(E){return[v,new ye(E.key)]},getMany:function(E){return[v,new ye().addKeys(E.keys)]},count:k,query:k,openCursor:k};return o(j).forEach(function(E){S[E]=function(D){var A=tt.subscr,I=!!A,M=qh(tt,h)&&Qh(E,D),L=M?D.obsSet={}:A;if(I){var F=function(at){var _t="idb://".concat(c,"/").concat(f,"/").concat(at);return L[_t]||(L[_t]=new ye)},$=F(""),V=F(":dels"),Y=j[E](D),G=Y[0],ct=Y[1];if(E==="query"&&G.isPrimaryKey&&!D.values?V.add(ct):F(G.name||"").add(ct),!G.isPrimaryKey)if(E==="count")V.add(u);else{var J=E==="query"&&w&&D.values&&h.query(i(i({},D),{values:!1}));return h[E].apply(this,arguments).then(function(at){if(E==="query"){if(w&&D.values)return J.then(function(st){var ne=st.result;return $.addKeys(ne),at});var _t=D.values?at.result.map(_):at.result;D.values?$.addKeys(_t):V.addKeys(_t)}else if(E==="openCursor"){var ut=at,It=D.values;return ut&&Object.create(ut,{key:{get:function(){return V.addKey(ut.primaryKey),ut.key}},primaryKey:{get:function(){var st=ut.primaryKey;return V.addKey(st),st}},value:{get:function(){return It&&$.addKey(ut.primaryKey),ut.value}}})}return at})}}return h[E].apply(this,arguments)}}),S}})}};function vx(s,c,u,f){function h(g){var v=s(g.name||"");function y(w){return w!=null?g.extractKey(w):null}var _=function(w){return g.multiEntry&&a(w)?w.forEach(function(R){return v.addKey(R)}):v.addKey(w)};(u||f).forEach(function(w,R){var S=u&&y(u[R]),k=f&&y(f[R]);Ct(S,k)!==0&&(S!=null&&_(S),k!=null&&_(k))})}c.indexes.forEach(h)}function Yh(s,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;if(u.numFailures===f)return null;var h=i({},c);return a(h.keys)&&(h.keys=h.keys.filter(function(g,v){return!(v in u.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(g,v){return!(v in u.failures)})),h}function bx(s,c){return c.lower===void 0?!0:c.lowerOpen?Ct(s,c.lower)>0:Ct(s,c.lower)>=0}function yx(s,c){return c.upper===void 0?!0:c.upperOpen?Ct(s,c.upper)<0:Ct(s,c.upper)<=0}function ou(s,c){return bx(s,c)&&yx(s,c)}function Gh(s,c,u,f,h,g){if(!u||u.length===0)return s;var v=c.query.index,y=v.multiEntry,_=c.query.range,w=f.schema.primaryKey,R=w.extractKey,S=v.extractKey,k=(v.lowLevelIndex||v).extractKey,j=u.reduce(function(E,D){var A=E,I=[];if(D.type==="add"||D.type==="put")for(var M=new ye,L=D.values.length-1;L>=0;--L){var F=D.values[L],$=R(F);if(!M.hasKey($)){var V=S(F);(y&&a(V)?V.some(function(J){return ou(J,_)}):ou(V,_))&&(M.addKey($),I.push(F))}}switch(D.type){case"add":A=E.concat(c.values?I:I.map(function(J){return R(J)}));break;case"put":var Y=new ye().addKeys(D.values.map(function(J){return R(J)}));A=E.filter(function(J){return!Y.hasKey(c.values?R(J):J)}).concat(c.values?I:I.map(function(J){return R(J)}));break;case"delete":var G=new ye().addKeys(D.keys);A=E.filter(function(J){return!G.hasKey(c.values?R(J):J)});break;case"deleteRange":var ct=D.range;A=E.filter(function(J){return!ou(R(J),ct)});break}return A},s);return j===s?s:(j.sort(function(E,D){return Ct(k(E),k(D))||Ct(R(E),R(D))}),c.limit&&c.limit<1/0&&(j.length>c.limit?j.length=c.limit:s.length===c.limit&&j.length<c.limit&&(h.dirty=!0)),g?Object.freeze(j):j)}function Xh(s,c){return Ct(s.lower,c.lower)===0&&Ct(s.upper,c.upper)===0&&!!s.lowerOpen==!!c.lowerOpen&&!!s.upperOpen==!!c.upperOpen}function _x(s,c,u,f){if(s===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;var h=Ct(s,c);if(h===0){if(u&&f)return 0;if(u)return 1;if(f)return-1}return h}function xx(s,c,u,f){if(s===void 0)return c!==void 0?1:0;if(c===void 0)return-1;var h=Ct(s,c);if(h===0){if(u&&f)return 0;if(u)return-1;if(f)return 1}return h}function wx(s,c){return _x(s.lower,c.lower,s.lowerOpen,c.lowerOpen)<=0&&xx(s.upper,c.upper,s.upperOpen,c.upperOpen)>=0}function Cx(s,c,u,f){var h=qn["idb://".concat(s,"/").concat(c)];if(!h)return[];var g=h.queries[u];if(!g)return[null,!1,h,null];var v=f.query?f.query.index.name:null,y=g[v||""];if(!y)return[null,!1,h,null];switch(u){case"query":var _=y.find(function(S){return S.req.limit===f.limit&&S.req.values===f.values&&Xh(S.req.query.range,f.query.range)});if(_)return[_,!0,h,y];var w=y.find(function(S){var k="limit"in S.req?S.req.limit:1/0;return k>=f.limit&&(f.values?S.req.values:!0)&&wx(S.req.query.range,f.query.range)});return[w,!1,h,y];case"count":var R=y.find(function(S){return Xh(S.req.query.range,f.query.range)});return[R,!!R,h,y]}}function Sx(s,c,u,f){s.subscribers.add(u),f.addEventListener("abort",function(){s.subscribers.delete(u),s.subscribers.size===0&&Ex(s,c)})}function Ex(s,c){setTimeout(function(){s.subscribers.size===0&&Zt(c,s)},3e3)}var Rx={stack:"dbcore",level:0,name:"Cache",create:function(s){var c=s.schema.name,u=i(i({},s),{transaction:function(f,h,g){var v=s.transaction(f,h,g);if(h==="readwrite"){var y=new AbortController,_=y.signal,w=function(R){return function(){if(y.abort(),h==="readwrite"){for(var S=new Set,k=0,j=f;k<j.length;k++){var E=j[k],D=qn["idb://".concat(c,"/").concat(E)];if(D){var A=s.table(E),I=D.optimisticOps.filter(function(It){return It.trans===v});if(v._explicit&&R&&v.mutatedParts)for(var M=0,L=Object.values(D.queries.query);M<L.length;M++)for(var F=L[M],$=0,V=F.slice();$<V.length;$++){var Y=V[$];Zl(Y.obsSet,v.mutatedParts)&&(Zt(F,Y),Y.subscribers.forEach(function(It){return S.add(It)}))}else if(I.length>0){D.optimisticOps=D.optimisticOps.filter(function(It){return It.trans!==v});for(var G=0,ct=Object.values(D.queries.query);G<ct.length;G++)for(var F=ct[G],J=0,at=F.slice();J<at.length;J++){var Y=at[J];if(Y.res!=null&&v.mutatedParts)if(R&&!Y.dirty){var _t=Object.isFrozen(Y.res),ut=Gh(Y.res,Y.req,I,A,Y,_t);Y.dirty?(Zt(F,Y),Y.subscribers.forEach(function(ne){return S.add(ne)})):ut!==Y.res&&(Y.res=ut,Y.promise=q.resolve({result:ut}))}else Y.dirty&&Zt(F,Y),Y.subscribers.forEach(function(ne){return S.add(ne)})}}}}S.forEach(function(It){return It()})}}};v.addEventListener("abort",w(!1),{signal:_}),v.addEventListener("error",w(!1),{signal:_}),v.addEventListener("complete",w(!0),{signal:_})}return v},table:function(f){var h=s.table(f),g=h.schema.primaryKey,v=i(i({},h),{mutate:function(y){var _=tt.trans;if(g.outbound||_.db._options.cache==="disabled"||_.explicit)return h.mutate(y);var w=qn["idb://".concat(c,"/").concat(f)];if(!w)return h.mutate(y);var R=h.mutate(y);return(y.type==="add"||y.type==="put")&&(y.values.length>=50||iu(g,y).some(function(S){return S==null}))?R.then(function(S){var k=i(i({},y),{values:y.values.map(function(E,D){var A,I=!((A=g.keyPath)===null||A===void 0)&&A.includes(".")?Ue(E):i({},E);return xt(I,g.keyPath,S.results[D]),I})}),j=Yh(w,k,S);w.optimisticOps.push(j),queueMicrotask(function(){return y.mutatedParts&&fs(y.mutatedParts)})}):(w.optimisticOps.push(y),y.mutatedParts&&fs(y.mutatedParts),R.then(function(S){if(S.numFailures>0){Zt(w.optimisticOps,y);var k=Yh(w,y,S);k&&w.optimisticOps.push(k),y.mutatedParts&&fs(y.mutatedParts)}}),R.catch(function(){Zt(w.optimisticOps,y),y.mutatedParts&&fs(y.mutatedParts)})),R},query:function(y){var _;if(!qh(tt,h)||!Qh("query",y))return h.query(y);var w=((_=tt.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",R=tt,S=R.requery,k=R.signal,j=Cx(c,f,"query",y),E=j[0],D=j[1],A=j[2],I=j[3];if(E&&D)E.obsSet=y.obsSet;else{var M=h.query(y).then(function(L){var F=L.result;if(E&&(E.res=F),w){for(var $=0,V=F.length;$<V;++$)Object.freeze(F[$]);Object.freeze(F)}else L.result=Ue(F);return L}).catch(function(L){return I&&E&&Zt(I,E),Promise.reject(L)});E={obsSet:y.obsSet,promise:M,subscribers:new Set,type:"query",req:y,dirty:!1},I?I.push(E):(I=[E],A||(A=qn["idb://".concat(c,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),A.queries.query[y.query.index.name||""]=I)}return Sx(E,I,S,k),E.promise.then(function(L){return{result:Gh(L.result,y,A?.optimisticOps,h,E,w)}})}});return v}});return u}};function ms(s,c){return new Proxy(s,{get:function(u,f,h){return f==="db"?c:Reflect.get(u,f,h)}})}var Nr=function(){function s(c,u){var f=this;this._middlewares={},this.verno=0;var h=s.dependencies;this._options=u=i({addons:s.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange};var g=u.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen};v.dbReadyPromise=new q(function(_){v.dbReadyResolve=_}),v.openCanceller=new q(function(_,w){v.cancelOpen=w}),this._state=v,this.name=c,this.on=Do(this,"populate","blocked","versionchange","close",{ready:[Cl,At]}),this.on.ready.subscribe=Z(this.on.ready.subscribe,function(_){return function(w,R){s.vip(function(){var S=f._state;if(S.openComplete)S.dbOpenError||q.resolve().then(w),R&&_(w);else if(S.onReadyBeingFired)S.onReadyBeingFired.push(w),R&&_(w);else{_(w);var k=f;R||_(function j(){k.on.ready.unsubscribe(w),k.on.ready.unsubscribe(j)})}})}}),this.Collection=M_(this),this.Table=A_(this),this.Transaction=U_(this),this.Version=ix(this),this.WhereClause=j_(this),this.on("versionchange",function(_){_.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=To(u.IDBKeyRange),this._createTransaction=function(_,w,R,S){return new f.Transaction(_,w,R,f._options.chromeTransactionDurability,S)},this._fireOnBlocked=function(_){f.on("blocked").fire(_),Ci.filter(function(w){return w.name===f.name&&w!==f&&!w._state.vcFired}).map(function(w){return w.on("versionchange").fire(_)})},this.use(px),this.use(Rx),this.use(gx),this.use(fx),this.use(hx);var y=new Proxy(this,{get:function(_,w,R){if(w==="_vip")return!0;if(w==="table")return function(k){return ms(f.table(k),y)};var S=Reflect.get(_,w,R);return S instanceof Th?ms(S,y):w==="tables"?S.map(function(k){return ms(k,y)}):w==="_createTransaction"?function(){var k=S.apply(this,arguments);return ms(k,y)}:S}});this.vip=y,g.forEach(function(_){return _(f)})}return s.prototype.version=function(c){if(isNaN(c)||c<.1)throw new it.Type("Given version is not a positive number");if(c=Math.round(c*10)/10,this.idbdb||this._state.isBeingOpened)throw new it.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var u=this._versions,f=u.filter(function(h){return h._cfg.version===c})[0];return f||(f=new this.Version(c),u.push(f),u.sort(Y_),f.stores({}),this._state.autoSchema=!1,f)},s.prototype._whenReady=function(c){var u=this;return this.idbdb&&(this._state.openComplete||tt.letThrough||this._vip)?c():new q(function(f,h){if(u._state.openComplete)return h(new it.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen){h(new it.DatabaseClosed);return}u.open().catch(At)}u._state.dbReadyPromise.then(f,h)}).then(c)},s.prototype.use=function(c){var u=c.stack,f=c.create,h=c.level,g=c.name;g&&this.unuse({stack:u,name:g});var v=this._middlewares[u]||(this._middlewares[u]=[]);return v.push({stack:u,create:f,level:h??10,name:g}),v.sort(function(y,_){return y.level-_.level}),this},s.prototype.unuse=function(c){var u=c.stack,f=c.name,h=c.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(g){return h?g.create!==h:f?g.name!==f:!1})),this},s.prototype.open=function(){var c=this;return Kn(tn,function(){return lx(c)})},s.prototype._close=function(){var c=this._state,u=Ci.indexOf(this);if(u>=0&&Ci.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new q(function(f){c.dbReadyResolve=f}),c.openCanceller=new q(function(f,h){c.cancelOpen=h}))},s.prototype.close=function(c){var u=c===void 0?{disableAutoOpen:!0}:c,f=u.disableAutoOpen,h=this._state;f?(h.isBeingOpened&&h.cancelOpen(new it.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new it.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},s.prototype.delete=function(c){var u=this;c===void 0&&(c={disableAutoOpen:!0});var f=arguments.length>0&&typeof arguments[0]!="object",h=this._state;return new q(function(g,v){var y=function(){u.close(c);var _=u._deps.indexedDB.deleteDatabase(u.name);_.onsuccess=Bt(function(){sx(u._deps,u.name),g()}),_.onerror=dr(v),_.onblocked=u._fireOnBlocked};if(f)throw new it.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(y):y()})},s.prototype.backendDB=function(){return this.idbdb},s.prototype.isOpen=function(){return this.idbdb!==null},s.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},s.prototype.hasFailed=function(){return this._state.dbOpenError!==null},s.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(s.prototype,"tables",{get:function(){var c=this;return o(this._allTables).map(function(u){return c._allTables[u]})},enumerable:!1,configurable:!0}),s.prototype.transaction=function(){var c=ux.apply(this,arguments);return this._transaction.apply(this,c)},s.prototype._transaction=function(c,u,f){var h=this,g=tt.trans;(!g||g.db!==this||c.indexOf("!")!==-1)&&(g=null);var v=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");var y,_;try{if(_=u.map(function(R){var S=R instanceof h.Table?R.name:R;if(typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),c=="r"||c===Nl)y=Nl;else if(c=="rw"||c==$l)y=$l;else throw new it.InvalidArgument("Invalid transaction mode: "+c);if(g){if(g.mode===Nl&&y===$l)if(v)g=null;else throw new it.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g&&_.forEach(function(R){if(g&&g.storeNames.indexOf(R)===-1)if(v)g=null;else throw new it.SubTransaction("Table "+R+" not included in parent transaction.")}),v&&g&&!g.active&&(g=null)}}catch(R){return g?g._promise(null,function(S,k){k(R)}):Ht(R)}var w=Wh.bind(null,this,y,_,g,f);return g?g._promise(y,w,"lock"):tt.trans?Kn(tt.transless,function(){return h._whenReady(w)}):this._whenReady(w)},s.prototype.table=function(c){if(!p(this._allTables,c))throw new it.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},s}(),Dx=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ox=function(){function s(c){this._subscribe=c}return s.prototype.subscribe=function(c,u,f){return this._subscribe(!c||typeof c=="function"?{next:c,error:u,complete:f}:c)},s.prototype[Dx]=function(){return this},s}(),ps;try{ps={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch{ps={indexedDB:null,IDBKeyRange:null}}function Zh(s){var c=!1,u,f=new Ox(function(h){var g=_l(s);function v(I){var M=_i();try{g&&wi();var L=en(s,I);return g&&(L=L.finally(rn)),L}finally{M&&xi()}}var y=!1,_,w={},R={},S={get closed(){return y},unsubscribe:function(){y||(y=!0,_&&_.abort(),k&&an.storagemutated.unsubscribe(D))}};h.start&&h.start(S);var k=!1,j=function(){return Tl(A)};function E(){return Zl(R,w)}var D=function(I){ds(w,I),E()&&j()},A=function(){if(!(y||!ps.indexedDB)){w={};var I={};_&&_.abort(),_=new AbortController;var M={subscr:I,signal:_.signal,requery:j,querier:s,trans:null},L=v(M);Promise.resolve(L).then(function(F){c=!0,u=F,!(y||M.signal.aborted)&&(w={},R=I,!yl(R)&&!k&&(an(Io,D),k=!0),Tl(function(){return!y&&h.next&&h.next(F)}))},function(F){c=!1,["DatabaseClosedError","AbortError"].includes(F?.name)||y||Tl(function(){y||h.error&&h.error(F)})})}};return setTimeout(j,0),S});return f.hasValue=function(){return c},f.getValue=function(){return u},f}var Qn=Nr;b(Qn,i(i({},Wa),{delete:function(s){var c=new Qn(s,{addons:[]});return c.delete()},exists:function(s){return new Qn(s,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return ox(Qn.dependencies).then(s)}catch{return Ht(new it.MissingAPI)}},defineClass:function(){function s(c){l(this,c)}return s},ignoreTransaction:function(s){return tt.trans?Kn(tt.transless,s):s()},vip:Yl,async:function(s){return function(){try{var c=ru(s.apply(this,arguments));return!c||typeof c.then!="function"?q.resolve(c):c}catch(u){return Ht(u)}}},spawn:function(s,c,u){try{var f=ru(s.apply(u,c||[]));return!f||typeof f.then!="function"?q.resolve(f):f}catch(h){return Ht(h)}},currentTransaction:{get:function(){return tt.trans||null}},waitFor:function(s,c){var u=q.resolve(typeof s=="function"?Qn.ignoreTransaction(s):s).timeout(c||6e4);return tt.trans?tt.trans.waitFor(u):u},Promise:q,debug:{get:function(){return ur},set:function(s){vh(s)}},derive:O,extend:l,props:b,override:Z,Events:Do,on:an,liveQuery:Zh,extendObservabilitySet:ds,getByKeyPath:bt,setByKeyPath:xt,delByKeyPath:de,shallowClone:lr,deepClone:Ue,getObjectDiff:nu,cmp:Ct,asap:yt,minKey:Ml,addons:[],connections:Ci,errnames:wl,dependencies:ps,cache:qn,semVer:Rh,version:Rh.split(".").map(function(s){return parseInt(s)}).reduce(function(s,c,u){return s+c/Math.pow(10,u*2)})})),Qn.maxKey=To(Qn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(an(Io,function(s){if(!sn){var c;c=new CustomEvent(jl,{detail:s}),sn=!0,dispatchEvent(c),sn=!1}}),addEventListener(jl,function(s){var c=s.detail;sn||au(c)}));function au(s){var c=sn;try{sn=!0,an.storagemutated.fire(s),eu(s,!0)}finally{sn=c}}var sn=!1,cn,su=function(){};typeof BroadcastChannel<"u"&&(su=function(){cn=new BroadcastChannel(jl),cn.onmessage=function(s){return s.data&&au(s.data)}},su(),typeof cn.unref=="function"&&cn.unref(),an(Io,function(s){sn||cn.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Nr.disableBfCache&&s.persisted){ur&&console.debug("Dexie: handling persisted pagehide"),cn?.close();for(var c=0,u=Ci;c<u.length;c++){var f=u[c];f.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(s){!Nr.disableBfCache&&s.persisted&&(ur&&console.debug("Dexie: handling persisted pageshow"),su(),au({all:new ye(-1/0,[[]])}))}));function kx(s){return new ko({add:s})}function Ax(s){return new ko({remove:s})}function Ix(s,c){return new ko({replacePrefix:[s,c]})}q.rejectionMapper=u_,vh(ur);var Tx=Object.freeze({__proto__:null,Dexie:Nr,liveQuery:Zh,Entity:kh,cmp:Ct,PropModSymbol:T_,PropModification:ko,replacePrefix:Ix,add:kx,remove:Ax,default:Nr,RangeSet:ye,mergeRanges:No,rangesOverlap:zh});return i(Nr,Tx,{default:Nr}),Nr})});var Ho=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},zr=class extends Ho{constructor(t,i,r,n,o){super(),this.component=t,this.viewContainerRef=i,this.injector=r,this.componentFactoryResolver=n,this.projectableNodes=o}},_r=class extends Ho{constructor(t,i,r,n){super(),this.templateRef=t,this.viewContainerRef=i,this.context=r,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Cu=class extends Ho{constructor(t){super(),this.element=t instanceof Vt?t.nativeElement:t}},bn=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof zr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof _r)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Cu)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Is=class extends bn{constructor(t,i,r,n,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=r,this._defaultInjector=n,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=o}attachComponentPortal(t){let r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=r.create(t.injector||this._defaultInjector||Wt.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let i=t.viewContainerRef,r=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(n=>this.outletElement.appendChild(n)),r.detectChanges(),this.setDisposeFn(()=>{let n=i.indexOf(r);n!==-1&&i.remove(n)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var $D=(()=>{let t=class t extends _r{constructor(r,n){super(r,n)}};t.\u0275fac=function(n){return new(n||t)(H(Fr),H(pn))},t.\u0275dir=jt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[ce]});let e=t;return e})();var yn=(()=>{let t=class t extends bn{constructor(r,n,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new pe,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let d=this._document.createComment("dom-portal");a.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let n=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,a=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),l=n.createComponent(a,n.length,r.injector||n.injector,r.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=r,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(r){r.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};t.\u0275fac=function(n){return new(n||t)(H(xs),H(pn),H(Qt))},t.\u0275dir=jt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ce]});let e=t;return e})();var Ur=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({});let e=t;return e})();var Qm=["mat-button",""],Ym=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Gm=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Lx='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Xm=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var Fx=["mat-icon-button",""],Bx=["*"];var jx=new vt("MAT_BUTTON_CONFIG");var zx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Eu=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,n,o,a){this._elementRef=r,this._platform=n,this._ngZone=o,this._animationMode=a,this._focusMonitor=X(ji),this._rippleLoader=X(Wm),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=X(jx,{optional:!0}),d=r.nativeElement,m=d.classList;this.disabledInteractive=l?.disabledInteractive??!1,this.color=l?.color??null,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:p,mdcClasses:b}of zx)d.hasAttribute(p)&&m.add(...b)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",n){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(n){zo()},t.\u0275dir=jt({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ge],disabled:[2,"disabled","disabled",ge],ariaDisabled:[2,"aria-disabled","ariaDisabled",ge],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ge]},features:[gn]});let e=t;return e})();var Ux=(()=>{let t=class t extends Eu{constructor(r,n,o,a){super(r,n,o,a),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(n){zo()},t.\u0275dir=jt({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",r=>r==null?void 0:Om(r)]},features:[gn,ce]});let e=t;return e})(),Zm=(()=>{let t=class t extends Eu{constructor(r,n,o,a){super(r,n,o,a)}};t.\u0275fac=function(n){return new(n||t)(H(Vt),H(ve),H(zt),H(Lr,8))},t.\u0275cmp=Ee({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Pe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Cs(o.color?"mat-"+o.color:""),vr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ce,Re],attrs:Qm,ngContentSelectors:Gm,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(Uo(Ym),We(0,"span",0),Br(1),br(2,"span",1),Br(3,1),er(),Br(4,2),We(5,"span",2)(6,"span",3)),n&2&&vr("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),YD=(()=>{let t=class t extends Ux{constructor(r,n,o,a){super(r,n,o,a)}};t.\u0275fac=function(n){return new(n||t)(H(Vt),H(ve),H(zt),H(Lr,8))},t.\u0275cmp=Ee({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Pe("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),Cs(o.color?"mat-"+o.color:""),vr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[ce,Re],attrs:Qm,ngContentSelectors:Gm,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(Uo(Ym),We(0,"span",0),Br(1),br(2,"span",1),Br(3,1),er(),Br(4,2),We(5,"span",2)(6,"span",3)),n&2&&vr("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[Lx,Xm],encapsulation:2,changeDetection:0});let e=t;return e})();var GD=(()=>{let t=class t extends Eu{constructor(r,n,o,a){super(r,n,o,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(n){return new(n||t)(H(Vt),H(ve),H(zt),H(Lr,8))},t.\u0275cmp=Ee({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Pe("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Cs(o.color?"mat-"+o.color:""),vr("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ce,Re],attrs:Fx,ngContentSelectors:Bx,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(Uo(),We(0,"span",0),Br(1),We(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Xm],encapsulation:2,changeDetection:0});let e=t;return e})();var Jm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({imports:[jr,Km,jr]});let e=t;return e})();var pt="primary",aa=Symbol("RouteTitle"),Au=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Hi(e){return new Au(e)}function Vx(e,t,i){let r=i.path.split("/");if(r.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let n={};for(let o=0;o<r.length;o++){let a=r[o],l=e[o];if(a[0]===":")n[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:n}}function Kx(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!wr(e[i],t[i]))return!1;return!0}function wr(e,t){let i=e?Iu(e):void 0,r=t?Iu(t):void 0;if(!i||!r||i.length!=r.length)return!1;let n;for(let o=0;o<i.length;o++)if(n=i[o],!dp(e[n],t[n]))return!1;return!0}function Iu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function dp(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),r=[...t].sort();return i.every((n,o)=>r[o]===n)}else return e===t}function fp(e){return e.length>0?e[e.length-1]:null}function Cn(e){return Ri(e)?e:Rm(e)?he(Promise.resolve(e)):nt(e)}var Wx={exact:mp,subset:pp},hp={exact:Hx,subset:qx,ignored:()=>!0};function tp(e,t,i){return Wx[i.paths](e.root,t.root,i.matrixParams)&&hp[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function Hx(e,t){return wr(e,t)}function mp(e,t,i){if(!ri(e.segments,t.segments)||!Ms(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!mp(e.children[r],t.children[r],i))return!1;return!0}function qx(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>dp(e[i],t[i]))}function pp(e,t,i){return gp(e,t,t.segments,i)}function gp(e,t,i,r){if(e.segments.length>i.length){let n=e.segments.slice(0,i.length);return!(!ri(n,i)||t.hasChildren()||!Ms(n,i,r))}else if(e.segments.length===i.length){if(!ri(e.segments,i)||!Ms(e.segments,i,r))return!1;for(let n in t.children)if(!e.children[n]||!pp(e.children[n],t.children[n],r))return!1;return!0}else{let n=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!ri(e.segments,n)||!Ms(e.segments,n,r)||!e.children[pt]?!1:gp(e.children[pt],t,o,r)}}function Ms(e,t,i){return t.every((r,n)=>hp[i](e[n].parameters,r.parameters))}var Vr=class{constructor(t=new Ot([],{}),i={},r=null){this.root=t,this.queryParams=i,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){return Gx.serialize(this)}},Ot=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ns(this)}},ei=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Hi(this.parameters),this._parameterMap}toString(){return bp(this)}};function Qx(e,t){return ri(e,t)&&e.every((i,r)=>wr(i.parameters,t[r].parameters))}function ri(e,t){return e.length!==t.length?!1:e.every((i,r)=>i.path===t[r].path)}function Yx(e,t){let i=[];return Object.entries(e.children).forEach(([r,n])=>{r===pt&&(i=i.concat(t(n,r)))}),Object.entries(e.children).forEach(([r,n])=>{r!==pt&&(i=i.concat(t(n,r)))}),i}var sa=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:()=>new qi,providedIn:"root"});let e=t;return e})(),qi=class{parse(t){let i=new Pu(t);return new Vr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${qo(t.root,!0)}`,r=Jx(t.queryParams),n=typeof t.fragment=="string"?`#${Xx(t.fragment)}`:"";return`${i}${r}${n}`}},Gx=new qi;function Ns(e){return e.segments.map(t=>bp(t)).join("/")}function qo(e,t){if(!e.hasChildren())return Ns(e);if(t){let i=e.children[pt]?qo(e.children[pt],!1):"",r=[];return Object.entries(e.children).forEach(([n,o])=>{n!==pt&&r.push(`${n}:${qo(o,!1)}`)}),r.length>0?`${i}(${r.join("//")})`:i}else{let i=Yx(e,(r,n)=>n===pt?[qo(e.children[pt],!1)]:[`${n}:${qo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[pt]!=null?`${Ns(e)}/${i[0]}`:`${Ns(e)}/(${i.join("//")})`}}function vp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ts(e){return vp(e).replace(/%3B/gi,";")}function Xx(e){return encodeURI(e)}function Tu(e){return vp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $s(e){return decodeURIComponent(e)}function ep(e){return $s(e.replace(/\+/g,"%20"))}function bp(e){return`${Tu(e.path)}${Zx(e.parameters)}`}function Zx(e){return Object.entries(e).map(([t,i])=>`;${Tu(t)}=${Tu(i)}`).join("")}function Jx(e){let t=Object.entries(e).map(([i,r])=>Array.isArray(r)?r.map(n=>`${Ts(i)}=${Ts(n)}`).join("&"):`${Ts(i)}=${Ts(r)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var tw=/^[^\/()?;#]+/;function Ru(e){let t=e.match(tw);return t?t[0]:""}var ew=/^[^\/()?;=#]+/;function rw(e){let t=e.match(ew);return t?t[0]:""}var nw=/^[^=?&#]+/;function iw(e){let t=e.match(nw);return t?t[0]:""}var ow=/^[^&#]+/;function aw(e){let t=e.match(ow);return t?t[0]:""}var Pu=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(r[pt]=new Ot(t,i)),r}parseSegment(){let t=Ru(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new _e(4009,!1);return this.capture(t),new ei($s(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=rw(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){let n=Ru(this.remaining);n&&(r=n,this.capture(r))}t[$s(i)]=$s(r)}parseQueryParam(t){let i=iw(this.remaining);if(!i)return;this.capture(i);let r="";if(this.consumeOptional("=")){let a=aw(this.remaining);a&&(r=a,this.capture(r))}let n=ep(i),o=ep(r);if(t.hasOwnProperty(n)){let a=t[n];Array.isArray(a)||(a=[a],t[n]=a),a.push(o)}else t[n]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ru(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new _e(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pt);let a=this.parseChildren();i[o]=Object.keys(a).length===1?a[pt]:new Ot([],a),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new _e(4011,!1)}};function yp(e){return e.segments.length>0?new Ot([],{[pt]:e}):e}function _p(e){let t={};for(let[r,n]of Object.entries(e.children)){let o=_p(n);if(r===pt&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))t[a]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let i=new Ot(e.segments,t);return sw(i)}function sw(e){if(e.numberOfChildren===1&&e.children[pt]){let t=e.children[pt];return new Ot(e.segments.concat(t.segments),t.children)}return e}function ni(e){return e instanceof Vr}function cw(e,t,i=null,r=null){let n=xp(e);return wp(n,t,i,r)}function xp(e){let t;function i(o){let a={};for(let d of o.children){let m=i(d);a[d.outlet]=m}let l=new Ot(o.url,a);return o===e&&(t=l),l}let r=i(e.root),n=yp(r);return t??n}function wp(e,t,i,r){let n=e;for(;n.parent;)n=n.parent;if(t.length===0)return Du(n,n,n,i,r);let o=lw(t);if(o.toRoot())return Du(n,n,new Ot([],{}),i,r);let a=uw(o,n,e),l=a.processChildren?Go(a.segmentGroup,a.index,o.commands):Sp(a.segmentGroup,a.index,o.commands);return Du(n,a.segmentGroup,l,i,r)}function Ls(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Jo(e){return typeof e=="object"&&e!=null&&e.outlets}function Du(e,t,i,r,n){let o={};r&&Object.entries(r).forEach(([d,m])=>{o[d]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let a;e===t?a=i:a=Cp(e,t,i);let l=yp(_p(a));return new Vr(l,o,n)}function Cp(e,t,i){let r={};return Object.entries(e.children).forEach(([n,o])=>{o===t?r[n]=i:r[n]=Cp(o,t,i)}),new Ot(e.segments,r)}var Fs=class{constructor(t,i,r){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=r,t&&r.length>0&&Ls(r[0]))throw new _e(4003,!1);let n=r.find(Jo);if(n&&n!==fp(r))throw new _e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lw(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Fs(!0,0,e);let t=0,i=!1,r=e.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,m])=>{l[d]=typeof m=="string"?m.split("/"):m}),[...n,{outlets:l}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?i=!0:l===".."?t++:l!=""&&n.push(l))}),n):[...n,o]},[]);return new Fs(i,t,r)}var Vi=class{constructor(t,i,r){this.segmentGroup=t,this.processChildren=i,this.index=r}};function uw(e,t,i){if(e.isAbsolute)return new Vi(t,!0,0);if(!i)return new Vi(t,!1,NaN);if(i.parent===null)return new Vi(i,!0,0);let r=Ls(e.commands[0])?0:1,n=i.segments.length-1+r;return dw(i,n,e.numberOfDoubleDots)}function dw(e,t,i){let r=e,n=t,o=i;for(;o>n;){if(o-=n,r=r.parent,!r)throw new _e(4005,!1);n=r.segments.length}return new Vi(r,!1,n-o)}function fw(e){return Jo(e[0])?e[0].outlets:{[pt]:e}}function Sp(e,t,i){if(e??=new Ot([],{}),e.segments.length===0&&e.hasChildren())return Go(e,t,i);let r=hw(e,t,i),n=i.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ot(e.segments.slice(0,r.pathIndex),{});return o.children[pt]=new Ot(e.segments.slice(r.pathIndex),e.children),Go(o,0,n)}else return r.match&&n.length===0?new Ot(e.segments,{}):r.match&&!e.hasChildren()?Mu(e,t,i):r.match?Go(e,0,n):Mu(e,t,i)}function Go(e,t,i){if(i.length===0)return new Ot(e.segments,{});{let r=fw(i),n={};if(Object.keys(r).some(o=>o!==pt)&&e.children[pt]&&e.numberOfChildren===1&&e.children[pt].segments.length===0){let o=Go(e.children[pt],t,i);return new Ot(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=Sp(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(n[o]=a)}),new Ot(e.segments,n)}}function hw(e,t,i){let r=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(r>=i.length)return o;let a=e.segments[n],l=i[r];if(Jo(l))break;let d=`${l}`,m=r<i.length-1?i[r+1]:null;if(n>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!np(d,m,a))return o;r+=2}else{if(!np(d,{},a))return o;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function Mu(e,t,i){let r=e.segments.slice(0,t),n=0;for(;n<i.length;){let o=i[n];if(Jo(o)){let d=mw(o.outlets);return new Ot(r,d)}if(n===0&&Ls(i[0])){let d=e.segments[t];r.push(new ei(d.path,rp(i[0]))),n++;continue}let a=Jo(o)?o.outlets[pt]:`${o}`,l=n<i.length-1?i[n+1]:null;a&&l&&Ls(l)?(r.push(new ei(a,rp(l))),n+=2):(r.push(new ei(a,{})),n++)}return new Ot(r,{})}function mw(e){let t={};return Object.entries(e).forEach(([i,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[i]=Mu(new Ot([],{}),0,r))}),t}function rp(e){let t={};return Object.entries(e).forEach(([i,r])=>t[i]=`${r}`),t}function np(e,t,i){return e==i.path&&wr(t,i.parameters)}var Xo="imperative",ie=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ie||{}),He=class{constructor(t,i){this.id=t,this.url=i}},_n=class extends He{constructor(t,i,r="imperative",n=null){super(t,i),this.type=ie.NavigationStart,this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends He{constructor(t,i,r){super(t,i),this.urlAfterRedirects=r,this.type=ie.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ne||{}),Bs=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Bs||{}),nr=class extends He{constructor(t,i,r,n){super(t,i),this.reason=r,this.code=n,this.type=ie.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends He{constructor(t,i,r,n){super(t,i),this.reason=r,this.code=n,this.type=ie.NavigationSkipped}},ta=class extends He{constructor(t,i,r,n){super(t,i),this.error=r,this.target=n,this.type=ie.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},js=class extends He{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nu=class extends He{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class extends He{constructor(t,i,r,n,o){super(t,i),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=o,this.type=ie.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lu=class extends He{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fu=class extends He{constructor(t,i,r,n){super(t,i),this.urlAfterRedirects=r,this.state=n,this.type=ie.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bu=class{constructor(t){this.route=t,this.type=ie.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ju=class{constructor(t){this.route=t,this.type=ie.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zu=class{constructor(t){this.snapshot=t,this.type=ie.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uu=class{constructor(t){this.snapshot=t,this.type=ie.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vu=class{constructor(t){this.snapshot=t,this.type=ie.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{constructor(t){this.snapshot=t,this.type=ie.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zs=class{constructor(t,i,r){this.routerEvent=t,this.position=i,this.anchor=r,this.type=ie.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ea=class{},Qi=class{constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function pw(e,t){return e.providers&&!e._injector&&(e._injector=pu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function ir(e){return e.outlet||pt}function gw(e,t){let i=e.filter(r=>ir(r)===t);return i.push(...e.filter(r=>ir(r)!==t)),i}function ca(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Wu=class{get injector(){return ca(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new la(this.rootInjector),this.attachRef=null}},la=(()=>{let t=class t{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,n){let o=this.getOrCreateContext(r);o.outlet=n,this.contexts.set(r,o)}onChildOutletDestroyed(r){let n=this.getContext(r);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let n=this.getContext(r);return n||(n=new Wu(this.rootInjector),this.contexts.set(r,n)),n}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(n){return new(n||t)(K(Xn))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Us=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Hu(t,this._root);return i?i.children.map(r=>r.value):[]}firstChild(t){let i=Hu(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=qu(t,this._root);return i.length<2?[]:i[i.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return qu(t,this._root).map(i=>i.value)}};function Hu(e,t){if(e===t.value)return t;for(let i of t.children){let r=Hu(e,i);if(r)return r}return null}function qu(e,t){if(e===t.value)return[t];for(let i of t.children){let r=qu(e,i);if(r.length)return r.unshift(t),r}return[]}var Me=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Ui(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var Vs=class extends Us{constructor(t,i){super(t),this.snapshot=i,rd(this,t)}toString(){return this.snapshot.toString()}};function Ep(e){let t=vw(e),i=new fe([new ei("",{})]),r=new fe({}),n=new fe({}),o=new fe({}),a=new fe(""),l=new Sr(i,r,o,a,n,pt,e,t.root);return l.snapshot=t.root,new Vs(new Me(l,[]),t)}function vw(e){let t={},i={},r={},n="",o=new Ki([],t,r,n,i,pt,e,null,{});return new Ws("",new Me(o,[]))}var Sr=class{constructor(t,i,r,n,o,a,l,d){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(mt(m=>m[aa]))??nt(void 0),this.url=t,this.params=i,this.queryParams=r,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(mt(t=>Hi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(mt(t=>Hi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ks(e,t,i="emptyOnly"){let r,{routeConfig:n}=e;return t!==null&&(i==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:B(B({},t.params),e.params),data:B(B({},t.data),e.data),resolve:B(B(B(B({},e.data),t.data),n?.data),e._resolvedData)}:r={params:B({},e.params),data:B({},e.data),resolve:B(B({},e.data),e._resolvedData??{})},n&&Dp(n)&&(r.resolve[aa]=n.title),r}var Ki=class{get title(){return this.data?.[aa]}constructor(t,i,r,n,o,a,l,d,m){this.url=t,this.params=i,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Ws=class extends Us{constructor(t,i){super(i),this.url=t,rd(this,i)}toString(){return Rp(this._root)}};function rd(e,t){t.value._routerState=e,t.children.forEach(i=>rd(e,i))}function Rp(e){let t=e.children.length>0?` { ${e.children.map(Rp).join(", ")} } `:"";return`${e.value}${t}`}function Ou(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,wr(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),wr(t.params,i.params)||e.paramsSubject.next(i.params),Kx(t.url,i.url)||e.urlSubject.next(i.url),wr(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Qu(e,t){let i=wr(e.params,t.params)&&Qx(e.url,t.url),r=!e.parent!=!t.parent;return i&&!r&&(!e.parent||Qu(e.parent,t.parent))}function Dp(e){return typeof e.title=="string"||e.title===null}var bw=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=X(la),this.location=X(pn),this.changeDetector=X(yr),this.inputBinder=X(Ys,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:n,previousValue:o}=r.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _e(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,n){this.activated=r,this._activatedRoute=n,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new _e(4013,!1);this._activatedRoute=r;let o=this.location,l=r.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new Yu(r,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]});let e=t;return e})(),Yu=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,r){this.route=t,this.childContexts=i,this.parent=r}get(t,i){return t===Sr?this.route:t===la?this.childContexts:this.parent.get(t,i)}},Ys=new vt(""),ip=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:n}=r,o=bs([n.queryParams,n.params,n.data]).pipe(Ke(([a,l,d],m)=>(d=B(B(B({},a),l),d),m===0?nt(d):Promise.resolve(d)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(r);return}let l=Am(n.component);if(!l){this.unsubscribeFromRouteData(r);return}for(let{templateName:d}of l.inputs)r.activatedComponentRef.setInput(d,a[d])});this.outletDataSubscriptions.set(r,o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})();function yw(e,t,i){let r=ra(e,t._root,i?i._root:void 0);return new Vs(r,t)}function ra(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let r=i.value;r._futureSnapshot=t.value;let n=_w(e,t,i);return new Me(r,n)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>ra(e,l)),a}}let r=xw(t.value),n=t.children.map(o=>ra(e,o));return new Me(r,n)}}function _w(e,t,i){return t.children.map(r=>{for(let n of i.children)if(e.shouldReuseRoute(r.value,n.value.snapshot))return ra(e,r,n);return ra(e,r)})}function xw(e){return new Sr(new fe(e.url),new fe(e.params),new fe(e.queryParams),new fe(e.fragment),new fe(e.data),e.outlet,e.component,e)}var na=class{constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},Op="ngNavigationCancelingError";function Hs(e,t){let{redirectTo:i,navigationBehaviorOptions:r}=ni(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=kp(!1,Ne.Redirect);return n.url=i,n.navigationBehaviorOptions=r,n}function kp(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[Op]=!0,i.cancellationCode=t,i}function ww(e){return Ap(e)&&ni(e.url)}function Ap(e){return!!e&&e[Op]}var Cw=(e,t,i,r)=>mt(n=>(new Gu(t,n.targetRouterState,n.currentRouterState,i,r).activate(e),n)),Gu=class{constructor(t,i,r,n,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,r,t),Ou(this.futureState.root),this.activateChildRoutes(i,r,t)}deactivateChildRoutes(t,i,r){let n=Ui(i);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],r),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,i,r){let n=t.value,o=i?i.value:null;if(n===o)if(n.component){let a=r.getContext(n.outlet);a&&this.deactivateChildRoutes(t,i,a.children)}else this.deactivateChildRoutes(t,i,r);else o&&this.deactivateRouteAndItsChildren(i,r)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let r=i.getContext(t.value.outlet),n=r&&t.value.component?r.children:i,o=Ui(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(r&&r.outlet){let a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,i){let r=i.getContext(t.value.outlet),n=r&&t.value.component?r.children:i,o=Ui(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,i,r){let n=Ui(i);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],r),this.forwardEvent(new Ku(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Uu(t.value.snapshot))}activateRoutes(t,i,r){let n=t.value,o=i?i.value:null;if(Ou(n),n===o)if(n.component){let a=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,i,a.children)}else this.activateChildRoutes(t,i,r);else if(n.component){let a=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let l=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Ou(l.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=n,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},qs=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Wi=class{constructor(t,i){this.component=t,this.route=i}};function Sw(e,t,i){let r=e._root,n=t?t._root:null;return Qo(r,n,i,[r.value])}function Ew(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Gi(e,t){let i=Symbol(),r=t.get(e,i);return r===i?typeof e=="function"&&!lm(e)?e:t.get(e):r}function Qo(e,t,i,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ui(t);return e.children.forEach(a=>{Rw(a,o[a.value.outlet],i,r.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Zo(l,i.getContext(a),n)),n}function Rw(e,t,i,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Dw(a,o,o.routeConfig.runGuardsAndResolvers);d?n.canActivateChecks.push(new qs(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Qo(e,t,l?l.children:null,r,n):Qo(e,t,i,r,n),d&&l&&l.outlet&&l.outlet.isActivated&&n.canDeactivateChecks.push(new Wi(l.outlet.component,a))}else a&&Zo(t,l,n),n.canActivateChecks.push(new qs(r)),o.component?Qo(e,null,l?l.children:null,r,n):Qo(e,null,i,r,n);return n}function Dw(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!ri(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ri(e.url,t.url)||!wr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qu(e,t)||!wr(e.queryParams,t.queryParams);case"paramsChange":default:return!Qu(e,t)}}function Zo(e,t,i){let r=Ui(e),n=e.value;Object.entries(r).forEach(([o,a])=>{n.component?t?Zo(a,t.children.getContext(o),i):Zo(a,null,i):Zo(a,t,i)}),n.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Wi(t.outlet.component,n)):i.canDeactivateChecks.push(new Wi(null,n)):i.canDeactivateChecks.push(new Wi(null,n))}function ua(e){return typeof e=="function"}function Ow(e){return typeof e=="boolean"}function kw(e){return e&&ua(e.canLoad)}function Aw(e){return e&&ua(e.canActivate)}function Iw(e){return e&&ua(e.canActivateChild)}function Tw(e){return e&&ua(e.canDeactivate)}function Pw(e){return e&&ua(e.canMatch)}function Ip(e){return e instanceof em||e?.name==="EmptyError"}var Ps=Symbol("INITIAL_VALUE");function Yi(){return Ke(e=>bs(e.map(t=>t.pipe(pr(1),tr(Ps)))).pipe(mt(t=>{for(let i of t)if(i!==!0){if(i===Ps)return Ps;if(i===!1||Mw(i))return i}return!0}),wt(t=>t!==Ps),pr(1)))}function Mw(e){return ni(e)||e instanceof na}function Nw(e,t){return qt(i=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=i;return a.length===0&&o.length===0?nt(gt(B({},i),{guardsResult:!0})):$w(a,r,n,e).pipe(qt(l=>l&&Ow(l)?Lw(r,o,e,t):nt(l)),mt(l=>gt(B({},i),{guardsResult:l})))})}function $w(e,t,i,r){return he(e).pipe(qt(n=>Uw(n.component,n.route,i,t,r)),fn(n=>n!==!0,!0))}function Lw(e,t,i,r){return he(t).pipe(ki(n=>nm(Bw(n.route.parent,r),Fw(n.route,r),zw(e,n.path,i),jw(e,n.route,i))),fn(n=>n!==!0,!0))}function Fw(e,t){return e!==null&&t&&t(new Vu(e)),nt(!0)}function Bw(e,t){return e!==null&&t&&t(new zu(e)),nt(!0)}function jw(e,t,i){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return nt(!0);let n=r.map(o=>Gn(()=>{let a=ca(t)??i,l=Gi(o,a),d=Aw(l)?l.canActivate(t,e):gr(a,()=>l(t,e));return Cn(d).pipe(fn())}));return nt(n).pipe(Yi())}function zw(e,t,i){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>Ew(a)).filter(a=>a!==null).map(a=>Gn(()=>{let l=a.guards.map(d=>{let m=ca(a.node)??i,p=Gi(d,m),b=Iw(p)?p.canActivateChild(r,e):gr(m,()=>p(r,e));return Cn(b).pipe(fn())});return nt(l).pipe(Yi())}));return nt(o).pipe(Yi())}function Uw(e,t,i,r,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return nt(!0);let a=o.map(l=>{let d=ca(t)??n,m=Gi(l,d),p=Tw(m)?m.canDeactivate(e,t,i,r):gr(d,()=>m(e,t,i,r));return Cn(p).pipe(fn())});return nt(a).pipe(Yi())}function Vw(e,t,i,r){let n=t.canLoad;if(n===void 0||n.length===0)return nt(!0);let o=n.map(a=>{let l=Gi(a,e),d=kw(l)?l.canLoad(t,i):gr(e,()=>l(t,i));return Cn(d)});return nt(o).pipe(Yi(),Tp(r))}function Tp(e){return Jh(me(t=>{if(typeof t!="boolean")throw Hs(e,t)}),mt(t=>t===!0))}function Kw(e,t,i,r){let n=t.canMatch;if(!n||n.length===0)return nt(!0);let o=n.map(a=>{let l=Gi(a,e),d=Pw(l)?l.canMatch(t,i):gr(e,()=>l(t,i));return Cn(d)});return nt(o).pipe(Yi(),Tp(r))}var ia=class{constructor(t){this.segmentGroup=t||null}},oa=class extends Error{constructor(t){super(),this.urlTree=t}};function zi(e){return Bo(new ia(e))}function Ww(e){return Bo(new _e(4e3,!1))}function Hw(e){return Bo(kp(!1,Ne.GuardRejected))}var Xu=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let r=[],n=i.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return nt(r);if(n.numberOfChildren>1||!n.children[pt])return Ww(`${t.redirectTo}`);n=n.children[pt]}}applyRedirectCommands(t,i,r,n,o){if(typeof i!="string"){let l=i,{queryParams:d,fragment:m,routeConfig:p,url:b,outlet:x,params:C,data:O,title:N}=n,W=gr(o,()=>l({params:C,data:O,queryParams:d,fragment:m,routeConfig:p,url:b,outlet:x,title:N}));if(W instanceof Vr)throw new oa(W);i=W}let a=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,r);if(i[0]==="/")throw new oa(a);return a}applyRedirectCreateUrlTree(t,i,r,n){let o=this.createSegmentGroup(t,i.root,r,n);return new Vr(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let r={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);r[n]=i[l]}else r[n]=o}),r}createSegmentGroup(t,i,r,n){let o=this.createSegments(t,i.segments,r,n),a={};return Object.entries(i.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(t,d,r,n)}),new Ot(o,a)}createSegments(t,i,r,n){return i.map(o=>o.path[0]===":"?this.findPosParam(t,o,n):this.findOrReturn(o,r))}findPosParam(t,i,r){let n=r[i.path.substring(1)];if(!n)throw new _e(4001,!1);return n}findOrReturn(t,i){let r=0;for(let n of i){if(n.path===t.path)return i.splice(r),n;r++}return t}},Zu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qw(e,t,i,r,n){let o=nd(e,t,i);return o.matched?(r=pw(t,r),Kw(r,t,i,n).pipe(mt(a=>a===!0?o:B({},Zu)))):nt(o)}function nd(e,t,i){if(t.path==="**")return Qw(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?B({},Zu):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let n=(t.matcher||Vx)(i,e,t);if(!n)return B({},Zu);let o={};Object.entries(n.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=n.consumed.length>0?B(B({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:i.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function Qw(e){return{matched:!0,parameters:e.length>0?fp(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function op(e,t,i,r){return i.length>0&&Xw(e,i,r)?{segmentGroup:new Ot(t,Gw(r,new Ot(i,e.children))),slicedSegments:[]}:i.length===0&&Zw(e,i,r)?{segmentGroup:new Ot(e.segments,Yw(e,i,r,e.children)),slicedSegments:i}:{segmentGroup:new Ot(e.segments,e.children),slicedSegments:i}}function Yw(e,t,i,r){let n={};for(let o of i)if(Gs(e,t,o)&&!r[ir(o)]){let a=new Ot([],{});n[ir(o)]=a}return B(B({},r),n)}function Gw(e,t){let i={};i[pt]=t;for(let r of e)if(r.path===""&&ir(r)!==pt){let n=new Ot([],{});i[ir(r)]=n}return i}function Xw(e,t,i){return i.some(r=>Gs(e,t,r)&&ir(r)!==pt)}function Zw(e,t,i){return i.some(r=>Gs(e,t,r))}function Gs(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function Jw(e,t,i,r){return ir(e)!==r&&(r===pt||!Gs(t,i,e))?!1:nd(t,e,i).matched}function t0(e,t,i){return t.length===0&&!e.children[i]}var Ju=class{};function e0(e,t,i,r,n,o,a="emptyOnly"){return new td(e,t,i,r,n,a,o).recognize()}var r0=31,td=class{constructor(t,i,r,n,o,a,l){this.injector=t,this.configLoader=i,this.rootComponentType=r,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new Xu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new _e(4002,`'${t.segmentGroup}'`)}recognize(){let t=op(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(mt(({children:i,rootSnapshot:r})=>{let n=new Me(r,i),o=new Ws("",n),a=cw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let i=new Ki([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,pt,i).pipe(mt(r=>({children:r,rootSnapshot:i})),Oi(r=>{if(r instanceof oa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ia?this.noMatchError(r):r}))}processSegmentGroup(t,i,r,n,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,i,r,o):this.processSegment(t,i,r,r.segments,n,!0,o).pipe(mt(a=>a instanceof Me?[a]:[]))}processChildren(t,i,r,n){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return he(o).pipe(ki(a=>{let l=r.children[a],d=gw(i,a);return this.processSegmentGroup(t,d,l,a,n)}),sm((a,l)=>(a.push(...l),a)),du(null),om(),qt(a=>{if(a===null)return zi(r);let l=Pp(a);return n0(l),nt(l)}))}processSegment(t,i,r,n,o,a,l){return he(i).pipe(ki(d=>this.processSegmentAgainstRoute(d._injector??t,i,d,r,n,o,a,l).pipe(Oi(m=>{if(m instanceof ia)return nt(null);throw m}))),fn(d=>!!d),Oi(d=>{if(Ip(d))return t0(r,n,o)?nt(new Ju):zi(r);throw d}))}processSegmentAgainstRoute(t,i,r,n,o,a,l,d){return Jw(r,n,o,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,r,o,a,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a,d):zi(n):zi(n)}expandSegmentAgainstRouteUsingRedirect(t,i,r,n,o,a,l){let{matched:d,parameters:m,consumedSegments:p,positionalParamSegments:b,remainingSegments:x}=nd(i,n,o);if(!d)return zi(i);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r0&&(this.allowRedirects=!1));let C=new Ki(o,m,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,ap(n),ir(n),n.component??n._loadedComponent??null,n,sp(n)),O=Ks(C,l,this.paramsInheritanceStrategy);C.params=Object.freeze(O.params),C.data=Object.freeze(O.data);let N=this.applyRedirects.applyRedirectCommands(p,n.redirectTo,b,C,t);return this.applyRedirects.lineralizeSegments(n,N).pipe(qt(W=>this.processSegment(t,r,i,W.concat(x),a,!1,l)))}matchSegmentAgainstRoute(t,i,r,n,o,a){let l=qw(i,r,n,t,this.urlSerializer);return r.path==="**"&&(i.children={}),l.pipe(Ke(d=>d.matched?(t=r._injector??t,this.getChildConfig(t,r,n).pipe(Ke(({routes:m})=>{let p=r._loadedInjector??t,{parameters:b,consumedSegments:x,remainingSegments:C}=d,O=new Ki(x,b,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,ap(r),ir(r),r.component??r._loadedComponent??null,r,sp(r)),N=Ks(O,a,this.paramsInheritanceStrategy);O.params=Object.freeze(N.params),O.data=Object.freeze(N.data);let{segmentGroup:W,slicedSegments:et}=op(i,x,C,m);if(et.length===0&&W.hasChildren())return this.processChildren(p,m,W,O).pipe(mt(Z=>new Me(O,Z)));if(m.length===0&&et.length===0)return nt(new Me(O,[]));let rt=ir(r)===o;return this.processSegment(p,m,W,et,rt?pt:o,!0,O).pipe(mt(Z=>new Me(O,Z instanceof Me?[Z]:[])))}))):zi(i)))}getChildConfig(t,i,r){return i.children?nt({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?nt({routes:i._loadedRoutes,injector:i._loadedInjector}):Vw(t,i,r,this.urlSerializer).pipe(qt(n=>n?this.configLoader.loadChildren(t,i).pipe(me(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):Hw(i))):nt({routes:[],injector:t})}};function n0(e){e.sort((t,i)=>t.value.outlet===pt?-1:i.value.outlet===pt?1:t.value.outlet.localeCompare(i.value.outlet))}function i0(e){let t=e.value.routeConfig;return t&&t.path===""}function Pp(e){let t=[],i=new Set;for(let r of e){if(!i0(r)){t.push(r);continue}let n=t.find(o=>r.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...r.children),i.add(n)):t.push(r)}for(let r of i){let n=Pp(r.children);t.push(new Me(r.value,n))}return t.filter(r=>!i.has(r))}function ap(e){return e.data||{}}function sp(e){return e.resolve||{}}function o0(e,t,i,r,n,o){return qt(a=>e0(e,t,i,r,a.extractedUrl,n,o).pipe(mt(({state:l,tree:d})=>gt(B({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function a0(e,t){return qt(i=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=i;if(!n.length)return nt(i);let o=new Set(n.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let m of Mp(d))a.add(m);let l=0;return he(a).pipe(ki(d=>o.has(d)?s0(d,r,e,t):(d.data=Ks(d,d.parent,e).resolve,nt(void 0))),me(()=>l++),fu(1),qt(d=>l===a.size?nt(i):dn))})}function Mp(e){let t=e.children.map(i=>Mp(i)).flat();return[e,...t]}function s0(e,t,i,r){let n=e.routeConfig,o=e._resolve;return n?.title!==void 0&&!Dp(n)&&(o[aa]=n.title),c0(o,e,t,r).pipe(mt(a=>(e._resolvedData=a,e.data=Ks(e,e.parent,i).resolve,null)))}function c0(e,t,i,r){let n=Iu(e);if(n.length===0)return nt({});let o={};return he(n).pipe(qt(a=>l0(e[a],t,i,r).pipe(fn(),me(l=>{if(l instanceof na)throw Hs(new qi,l);o[a]=l}))),fu(1),im(o),Oi(a=>Ip(a)?dn:Bo(a)))}function l0(e,t,i,r){let n=ca(t)??r,o=Gi(e,n),a=o.resolve?o.resolve(t,i):gr(n,()=>o(t,i));return Cn(a)}function ku(e){return Ke(t=>{let i=e(t);return i?he(i).pipe(mt(()=>t)):nt(t)})}var Np=(()=>{let t=class t{buildTitle(r){let n,o=r.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(a=>a.outlet===pt);return n}getResolvedTitleForRoute(r){return r.data[aa]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:()=>X(u0),providedIn:"root"});let e=t;return e})(),u0=(()=>{let t=class t extends Np{constructor(r){super(),this.title=r}updateTitle(r){let n=this.buildTitle(r);n!==void 0&&this.title.setTitle(n)}};t.\u0275fac=function(n){return new(n||t)(K(Fm))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),da=new vt("",{providedIn:"root",factory:()=>({})}),id=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[Re],decls:1,vars:0,template:function(n,o){n&1&&We(0,"router-outlet")},dependencies:[bw],encapsulation:2});let e=t;return e})();function od(e){let t=e.children&&e.children.map(od),i=t?gt(B({},e),{children:t}):B({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==pt&&(i.component=id),i}var wn=new vt(""),ad=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X($i)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return nt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let n=Cn(r.loadComponent()).pipe(mt($p),me(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ii(()=>{this.componentLoaders.delete(r)})),o=new Yn(n,()=>new lt).pipe(Fo());return this.componentLoaders.set(r,o),o}loadChildren(r,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return nt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let a=d0(n,this.compiler,r,this.onLoadEndListener).pipe(Ii(()=>{this.childrenLoaders.delete(n)})),l=new Yn(a,()=>new lt).pipe(Fo());return this.childrenLoaders.set(n,l),l}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function d0(e,t,i,r){return Cn(e.loadChildren()).pipe(mt($p),qt(n=>n instanceof ws||Array.isArray(n)?nt(n):he(t.compileModuleAsync(n))),mt(n=>{r&&r(e);let o,a,l=!1;return Array.isArray(n)?(a=n,l=!0):(o=n.create(i).injector,a=o.get(wn,[],{optional:!0,self:!0}).flat()),{routes:a.map(od),injector:o}}))}function f0(e){return e&&typeof e=="object"&&"default"in e}function $p(e){return f0(e)?e.default:e}var sd=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:()=>X(h0),providedIn:"root"});let e=t;return e})(),h0=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,n){return r}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Lp=new vt(""),Fp=new vt("");function m0(e,t,i){let r=e.get(Fp),n=e.get(Qt);return e.get(zt).runOutsideAngular(()=>{if(!n.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,a=new Promise(m=>{o=m}),l=n.startViewTransition(()=>(o(),p0(e))),{onViewTransitionCreated:d}=r;return d&&gr(e,()=>d({transition:l,from:t,to:i})),a})}function p0(e){return new Promise(t=>{Pi({read:()=>setTimeout(t)},{injector:e})})}var g0=new vt(""),cd=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=X(ad),this.environmentInjector=X(Xn),this.urlSerializer=X(sa),this.rootContexts=X(la),this.location=X(rr),this.inputBindingEnabled=X(Ys,{optional:!0})!==null,this.titleStrategy=X(Np),this.options=X(da,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(sd),this.createViewTransition=X(Lp,{optional:!0}),this.navigationErrorHandler=X(g0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Bu(o)),n=o=>this.events.next(new ju(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let n=++this.navigationId;this.transitions?.next(gt(B(B({},this.transitions.value),r),{id:n}))}setupNavigations(r,n,o){return this.transitions=new fe({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(a=>a.id!==0),mt(a=>gt(B({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ke(a=>{let l=!1,d=!1;return nt(a).pipe(Ke(m=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Ne.SupersededByNewNavigation),dn;this.currentTransition=a,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:typeof m.extras.browserUrl=="string"?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?gt(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=m.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&b!=="reload"){let x="";return this.events.next(new xn(m.id,this.urlSerializer.serialize(m.rawUrl),x,Bs.IgnoredSameUrlNavigation)),m.resolve(!1),dn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return nt(m).pipe(Ke(x=>{let C=this.transitions?.getValue();return this.events.next(new _n(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),C!==this.transitions?.getValue()?dn:Promise.resolve(x)}),o0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),me(x=>{a.targetSnapshot=x.targetSnapshot,a.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation=gt(B({},this.currentNavigation),{finalUrl:x.urlAfterRedirects});let C=new js(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(C)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:x,extractedUrl:C,source:O,restoredState:N,extras:W}=m,et=new _n(x,this.urlSerializer.serialize(C),O,N);this.events.next(et);let rt=Ep(this.rootComponentType).snapshot;return this.currentTransition=a=gt(B({},m),{targetSnapshot:rt,urlAfterRedirects:C,extras:gt(B({},W),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,nt(a)}else{let x="";return this.events.next(new xn(m.id,this.urlSerializer.serialize(m.extractedUrl),x,Bs.IgnoredByUrlHandlingStrategy)),m.resolve(!1),dn}}),me(m=>{let p=new Nu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}),mt(m=>(this.currentTransition=a=gt(B({},m),{guards:Sw(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),a)),Nw(this.environmentInjector,m=>this.events.next(m)),me(m=>{if(a.guardsResult=m.guardsResult,m.guardsResult&&typeof m.guardsResult!="boolean")throw Hs(this.urlSerializer,m.guardsResult);let p=new $u(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(p)}),wt(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",Ne.GuardRejected),!1)),ku(m=>{if(m.guards.canActivateChecks.length)return nt(m).pipe(me(p=>{let b=new Lu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),Ke(p=>{let b=!1;return nt(p).pipe(a0(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(p,"",Ne.NoDataFromResolver)}}))}),me(p=>{let b=new Fu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}))}),ku(m=>{let p=b=>{let x=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe(me(C=>{b.component=C}),mt(()=>{})));for(let C of b.children)x.push(...p(C));return x};return bs(p(m.targetSnapshot.root)).pipe(du(null),pr(1))}),ku(()=>this.afterPreactivation()),Ke(()=>{let{currentSnapshot:m,targetSnapshot:p}=a,b=this.createViewTransition?.(this.environmentInjector,m.root,p.root);return b?he(b).pipe(mt(()=>a)):nt(a)}),mt(m=>{let p=yw(r.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=a=gt(B({},m),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),me(()=>{this.events.next(new ea)}),Cw(this.rootContexts,r.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),pr(1),me({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cr(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),hn(this.transitionAbortSubject.pipe(me(m=>{throw m}))),Ii(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Ne.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Oi(m=>{if(d=!0,Ap(m))this.events.next(new nr(a.id,this.urlSerializer.serialize(a.extractedUrl),m.message,m.cancellationCode)),ww(m)?this.events.next(new Qi(m.url,m.navigationBehaviorOptions)):a.resolve(!1);else{let p=new ta(a.id,this.urlSerializer.serialize(a.extractedUrl),m,a.targetSnapshot??void 0);try{let b=gr(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(b instanceof na){let{message:x,cancellationCode:C}=Hs(this.urlSerializer,b);this.events.next(new nr(a.id,this.urlSerializer.serialize(a.extractedUrl),x,C)),this.events.next(new Qi(b.redirectTo,b.navigationBehaviorOptions))}else{this.events.next(p);let x=r.errorHandler(m);a.resolve(!!x)}}catch(b){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(b)}}return dn}))}))}cancelNavigationTransition(r,n,o){let a=new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),n,o);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function v0(e){return e!==Xo}var ld=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:()=>X(b0),providedIn:"root"});let e=t;return e})(),ed=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},b0=(()=>{let t=class t extends ed{};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=$r(t)))(o||t)}})(),t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Bp=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:()=>X(y0),providedIn:"root"});let e=t;return e})(),y0=(()=>{let t=class t extends Bp{constructor(){super(...arguments),this.location=X(rr),this.urlSerializer=X(sa),this.options=X(da,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(sd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ep(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(n=>{n.type==="popstate"&&r(n.url,n.state)})}handleRouterEvent(r,n){if(r instanceof _n)this.stateMemento=this.createStateMemento();else if(r instanceof xn)this.rawUrlTree=n.initialUrl;else if(r instanceof js){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??o,n)}}else r instanceof ea?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):r instanceof nr&&(r.code===Ne.GuardRejected||r.code===Ne.NoDataFromResolver)?this.restoreHistory(n):r instanceof ta?this.restoreHistory(n,!0):r instanceof Cr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,n){let o=r instanceof Vr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let a=this.browserPageId,l=B(B({},n.extras.state),this.generateNgRouterState(n.id,a));this.location.replaceState(o,"",l)}else{let a=B(B({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(r,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,n){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:n}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=$r(t)))(o||t)}})(),t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Yo||{});function jp(e,t){e.events.pipe(wt(i=>i instanceof Cr||i instanceof nr||i instanceof ta||i instanceof xn),mt(i=>i instanceof Cr||i instanceof xn?Yo.COMPLETE:(i instanceof nr?i.code===Ne.Redirect||i.code===Ne.SupersededByNewNavigation:!1)?Yo.REDIRECTING:Yo.FAILED),wt(i=>i!==Yo.REDIRECTING),pr(1)).subscribe(()=>{t()})}function _0(e){throw e}var x0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},De=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=X(Em),this.stateManager=X(Bp),this.options=X(da,{optional:!0})||{},this.pendingTasks=X(pm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(cd),this.urlSerializer=X(sa),this.location=X(rr),this.urlHandlingStrategy=X(sd),this._events=new lt,this.errorHandler=this.options.errorHandler||_0,this.navigated=!1,this.routeReuseStrategy=X(ld),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(wn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(Ys,{optional:!0}),this.eventsSubscription=new mr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(n,a),n instanceof nr&&n.code!==Ne.Redirect&&n.code!==Ne.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Cr)this.navigated=!0;else if(n instanceof Qi){let l=n.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),m=B({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||v0(o.source)},l);this.scheduleNavigation(d,Xo,null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}S0(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",n)},0)})}navigateToSyncWithBrowser(r,n,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let m=B({},o);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(a.state=m)}let d=this.parseUrl(r);this.scheduleNavigation(d,n,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(od),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,n={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:m}=n,p=m?this.currentUrlTree.fragment:l,b=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":b=B(B({},this.currentUrlTree.queryParams),a);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}b!==null&&(b=this.removeEmptyProps(b));let x;try{let C=o?o.snapshot:this.routerState.snapshot.root;x=xp(C)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),x=this.currentUrlTree.root}return wp(x,r,b,p??null)}navigateByUrl(r,n={skipLocationChange:!1}){let o=ni(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Xo,null,n)}navigate(r,n={skipLocationChange:!1}){return C0(r),this.navigateByUrl(this.createUrlTree(r,n),n)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,n){let o;if(n===!0?o=B({},x0):n===!1?o=B({},w0):o=n,ni(r))return tp(this.currentUrlTree,r,o);let a=this.parseUrl(r);return tp(this.currentUrlTree,a,o)}removeEmptyProps(r){return Object.entries(r).reduce((n,[o,a])=>(a!=null&&(n[o]=a),n),{})}scheduleNavigation(r,n,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,m,p;l?(d=l.resolve,m=l.reject,p=l.promise):p=new Promise((x,C)=>{d=x,m=C});let b=this.pendingTasks.add();return jp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:d,reject:m,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(x=>Promise.reject(x))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function C0(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new _e(4008,!1)}function S0(e){return!(e instanceof ea)&&!(e instanceof Qi)}var yO=(()=>{let t=class t{constructor(r,n,o,a,l,d){this.router=r,this.route=n,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.onChanges=new lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof Cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ni(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,n,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(r!==0||n||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let n=this.href===null?null:vm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(r,n){let o=this.renderer,a=this.el.nativeElement;n!==null?o.setAttribute(a,r,n):o.removeAttribute(a,r)}get urlTree(){return this.routerLinkInput===null?null:ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(n){return new(n||t)(H(De),H(Sr),mm("tabindex"),H(bm),H(Vt),H(Ko))},t.\u0275dir=jt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){n&1&&Mi("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),n&2&&Pe("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ge],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ge],replaceUrl:[2,"replaceUrl","replaceUrl",ge],routerLink:"routerLink"},standalone:!0,features:[gn,mn]});let e=t;return e})();var Qs=class{};var E0=(()=>{let t=class t{constructor(r,n,o,a,l){this.router=r,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(wt(r=>r instanceof Cr),ki(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,n){let o=[];for(let a of n){a.providers&&!a._injector&&(a._injector=pu(a.providers,r,`Route: ${a.path}`));let l=a._injector??r,d=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(d,a.children??a._loadedRoutes))}return he(o).pipe(cu())}preloadConfig(r,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(r,n):o=nt(null);let a=o.pipe(qt(l=>l===null?nt(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??r,l.routes))));if(n.loadComponent&&!n._loadedComponent){let l=this.loader.loadComponent(n);return he([a,l]).pipe(cu())}else return a})}};t.\u0275fac=function(n){return new(n||t)(K(De),K($i),K(Xn),K(Qs),K(ad))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zp=new vt(""),R0=(()=>{let t=class t{constructor(r,n,o,a,l={}){this.urlSerializer=r,this.transitions=n,this.viewportScroller=o,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Cr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof xn&&r.code===Bs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zs&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zs(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(n){zo()},t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})();function _O(e,...t){return dm([{provide:wn,multi:!0,useValue:e},[],{provide:Sr,useFactory:Up,deps:[De]},{provide:_u,multi:!0,useFactory:Vp},t.map(i=>i.\u0275providers)])}function Up(e){return e.routerState.root}function fa(e,t){return{\u0275kind:e,\u0275providers:t}}function Vp(){let e=X(Wt);return t=>{let i=e.get(Ss);if(t!==i.components[0])return;let r=e.get(De),n=e.get(Kp);e.get(ud)===1&&r.initialNavigation(),e.get(Wp,null,mu.Optional)?.setUpPreloading(),e.get(zp,null,mu.Optional)?.init(),r.resetRootComponentType(i.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Kp=new vt("",{factory:()=>new lt}),ud=new vt("",{providedIn:"root",factory:()=>1});function D0(){return fa(2,[{provide:ud,useValue:0},{provide:Vo,multi:!0,deps:[Wt],useFactory:t=>{let i=t.get(Im,Promise.resolve());return()=>i.then(()=>new Promise(r=>{let n=t.get(De),o=t.get(Kp);jp(n,()=>{r(!0)}),t.get(cd).afterPreactivation=()=>(r(!0),o.closed?nt(void 0):o),n.initialNavigation()}))}}])}function O0(){return fa(3,[{provide:Vo,multi:!0,useFactory:()=>{let t=X(De);return()=>{t.setUpLocationChangeListener()}}},{provide:ud,useValue:2}])}var Wp=new vt("");function k0(e){return fa(0,[{provide:Wp,useExisting:E0},{provide:Qs,useExisting:e}])}function A0(){return fa(8,[ip,{provide:Ys,useExisting:ip}])}function I0(e){let t=[{provide:Lp,useValue:m0},{provide:Fp,useValue:B({skipNextTransition:!!e?.skipInitialTransition},e)}];return fa(9,t)}var cp=new vt("ROUTER_FORROOT_GUARD"),T0=[rr,{provide:sa,useClass:qi},De,la,{provide:Sr,useFactory:Up,deps:[De]},ad,[]],Hp=(()=>{let t=class t{constructor(r){}static forRoot(r,n){return{ngModule:t,providers:[T0,[],{provide:wn,multi:!0,useValue:r},{provide:cp,useFactory:$0,deps:[[De,new ys,new _s]]},{provide:da,useValue:n||{}},n?.useHash?M0():N0(),P0(),n?.preloadingStrategy?k0(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?L0(n):[],n?.bindToComponentInputs?A0().\u0275providers:[],n?.enableViewTransitions?I0().\u0275providers:[],F0()]}}static forChild(r){return{ngModule:t,providers:[{provide:wn,multi:!0,useValue:r}]}}};t.\u0275fac=function(n){return new(n||t)(K(cp,8))},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({});let e=t;return e})();function P0(){return{provide:zp,useFactory:()=>{let e=X($m),t=X(zt),i=X(da),r=X(cd),n=X(sa);return i.scrollOffset&&e.setOffset(i.scrollOffset),new R0(n,r,e,t,i)}}}function M0(){return{provide:Ko,useClass:Pm}}function N0(){return{provide:Ko,useClass:Tm}}function $0(e){return"guarded"}function L0(e){return[e.initialNavigation==="disabled"?O0().\u0275providers:[],e.initialNavigation==="enabledBlocking"?D0().\u0275providers:[]]}var lp=new vt("");function F0(){return[{provide:lp,useFactory:Vp},{provide:_u,multi:!0,useExisting:lp}]}var B0=new vt("LOCALIZE_ROUTER_FORROOT_GUARD"),dd=new vt("RAW_ROUTES"),Sn=function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Cookie="Cookie",e}(Sn||{}),Qp=new vt("USE_CACHED_LANG"),Yp=new vt("CACHE_MECHANISM"),Gp=new vt("CACHE_NAME"),Xp=new vt("COOKIE_FORMAT"),Zp=new vt("INITIAL_NAVIGATION"),Jp=new vt("DEFAULT_LANG_FUNCTION"),tg=new vt("ALWAYS_SET_PREFIX"),j0="LOCALIZE_DEFAULT_LANGUAGE",z0="{{value}};{{expires}}",U0=!1,Zs=(()=>{let t=class t{constructor(r=!0,n=!0,o=Sn.LocalStorage,a=j0,l=void 0,d=z0,m=U0){this.useCachedLang=r,this.alwaysSetPrefix=n,this.cacheName=a,this.cookieFormat=d,this.initialNavigation=m,this.cacheMechanism=o,this.defaultLangFunction=l}};t.\u0275fac=function(n){return new(n||t)(K(Qp),K(tg),K(Yp),K(Gp),K(Jp),K(Xp),K(Zp))},t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})(),V0=30,ha=(()=>{let t=class t{constructor(r,n,o){this.translate=r,this.location=n,this.settings=o}init(r){let n;if(this.routes=r,!this.locales||!this.locales.length)return Promise.resolve();let o=this.getLocationLang(),a=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,a):this.defaultLang=this._cachedLang||a||this.locales[0],n=o||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let l=[];if(this.settings.alwaysSetPrefix){let d={path:"",redirectTo:this.defaultLang,pathMatch:"full"},m=r.findIndex(p=>p.path==="**");m!==-1&&(this._wildcardRoute=r.splice(m,1)[0]),l=this.routes.splice(0,this.routes.length,d)}else l=[...this.routes];for(let d=l.length-1;d>=0;d--)l[d].data&&l[d].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(l[d]),(l[d].redirectTo===void 0||!l[d].data.skipRouteLocalization.localizeRedirectTo||typeof l[d].redirectTo=="function")&&l.splice(d,1));return l&&l.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:l},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),rm(this.translateRoutes(n))}initChildRoutes(r){return this._translateRouteTree(r),r}translateRoutes(r){return new Lo(n=>{this._cachedLang=r,this._languageRoute&&(this._languageRoute.path=r),this.translate.use(r).subscribe(o=>{this._translationObject=o,this.currentLang=r,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(r,n){r.forEach(o=>{let a=o.data&&o.data.skipRouteLocalization,l=!a||a.localizeRedirectTo;if(o.redirectTo&&l&&typeof o.redirectTo!="function"){let d=o.redirectTo.indexOf("/")===0||n;this._translateProperty(o,"redirectTo",d)}a||(o.path!==null&&o.path!==void 0&&this._translateProperty(o,"path"),o.children&&this._translateRouteTree(o.children),o.loadChildren&&o._loadedRoutes?.length&&this._translateRouteTree(o._loadedRoutes))})}_translateProperty(r,n,o){let a=r.data=r.data||{};a.localizeRouter||(a.localizeRouter={}),a.localizeRouter[n]||(a.localizeRouter=gt(B({},a.localizeRouter),{[n]:r[n]}));let l=this.translateRoute(a.localizeRouter[n]);r[n]=o?this.addPrefixToUrl(l):l}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(r){let n=r.split("?"),o=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let a=n.join("?");return this.urlPrefix===""?a:!a.startsWith("/")&&!o?`${this.urlPrefix}/${a}`:`/${this.urlPrefix}${a}`}translateRoute(r){let n=r.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(a=>a.length?this.translateText(a):a).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(r){let n=(r||this.location.path()).split(/[\?;]/),o=[];return n.length>0&&(o=n[0].split("/")),o.length>1&&this.locales.indexOf(o[1])!==-1?o[1]:o.length&&this.locales.indexOf(o[0])!==-1?o[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===Sn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===Sn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===Sn.Cookie)return this._cacheWithCookies()}}set _cachedLang(r){this.settings.useCachedLang&&(this.settings.cacheMechanism===Sn.LocalStorage&&this._cacheWithLocalStorage(r),this.settings.cacheMechanism===Sn.SessionStorage&&this._cacheWithSessionStorage(r),this.settings.cacheMechanism===Sn.Cookie&&this._cacheWithCookies(r))}_cacheWithLocalStorage(r){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(r){window.localStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(r){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(r){window.sessionStorage.setItem(this.settings.cacheName,r);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(r){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(r){let l=`${this.settings.cookieFormat}`;l=l.replace("{{value}}",`${n}=${encodeURIComponent(r)}`).replace(/{{expires:?(\d+)?}}/g,(d,m)=>{let p=m===void 0?V0:parseInt(m,10),b=new Date;return b.setTime(b.getTime()+p*864e5),`expires=${b.toUTCString()}`}),document.cookie=l;return}let a=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(a[1])}catch{return}}_returnIfInLocales(r){return r&&this.locales.indexOf(r)!==-1?r:null}translateText(r){if(this.escapePrefix&&r.startsWith(this.escapePrefix))return r.replace(this.escapePrefix,"");{if(!this._translationObject)return r;let n=this.prefix+r,o=this.translate.getParsedResult(this._translationObject,n);return o!==n?o:r}}chooseQueryParams(r,n){let o;return r&&r.queryParams?o=r.queryParams:n&&(o=n),o}formatQueryParams(r){return new Lm({fromObject:r}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}};t.\u0275fac=function(n){return new(n||t)(K(Hm),K(rr),K(Zs))},t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})();var K0=(()=>{let t=class t extends ha{load(r){return new Promise(n=>{this.init(r).then(n)})}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=$r(t)))(o||t)}})(),t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})();function Xs(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;let i=typeof e,r=typeof t,n,o,a;if(i===r&&i==="object")if(Array.isArray(e)){if(!Array.isArray(t))return!1;if((n=e.length)===t.length){for(o=0;o<n;o++)if(!Xs(e[o],t[o]))return!1;return!0}}else{if(Array.isArray(t))return!1;a=Object.create(null);for(o in e)if(e.hasOwnProperty(o)){if(!Xs(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(t.hasOwnProperty(o)&&!(o in a)&&typeof t[o]<"u")return!1;return!0}return!1}function W0(e){return!!e&&typeof e.then=="function"}function hd(e){let t=Array.isArray(e)?[]:{};for(let i in e)if(i){let r=e[i];t[i]=typeof r=="object"?hd(r):r}return t}var md=(()=>{let t=class t{constructor(r,n,o,a){this.parser=r,this.settings=n,this.router=o,this.route=a,this.routerEvents=new lt;let l=new tm(1);this.hooks={_initializedSubject:l,initialized:l.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(wt(r=>r instanceof _n),hu()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(r,n,o){if(r!==this.parser.currentLang){let a=this.router.routerState.snapshot.root;this.parser.translateRoutes(r).subscribe(()=>{let l=this.traverseRouteSnapshot(a);if(l=this.translateRoute(l),!this.settings.alwaysSetPrefix){let p=l.split("/"),b=p.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(b===0||b===1&&p[0]==="")&&(p=p.slice(0,b).concat(p.slice(b+1)));else if(b===-1){let x=p[0]===""?1:0;p=p.slice(0,x).concat(this.parser.currentLang,p.slice(x))}l=p.join("/")}l=l.replace(/\/+/g,"/");let d=l.lastIndexOf("/");d>0&&d===l.length-1&&(l=l.slice(0,-1));let m=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,o){let p=n?B({},n):{};m&&(p.queryParams=m),this.router.navigate([l],p)}else{let p=this.parser.formatQueryParams(m);p=p?`?${p}`:"",this.router.navigateByUrl(`${l}${p}`,n)}})}}traverseRouteSnapshot(r){return r.firstChild&&r.routeConfig?`${this.parseSegmentValue(r)}/${this.traverseRouteSnapshot(r.firstChild)}`:r.firstChild?this.traverseRouteSnapshot(r.firstChild):this.parseSegmentValue(r)}buildUrlFromSegments(r,n){return n.map((o,a)=>o.indexOf(":")===0?r.url[a].path:o).join("/")}parseSegmentValue(r){if(r.routeConfig&&r.routeConfig.matcher){let n=this.parseSegmentValueMatcher(r);return this.buildUrlFromSegments(r,n)}else if(r.data.localizeRouter){let o=r.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(r,o)}else if(r.parent&&r.parent.parent){let o=r.routeConfig.path.split("/");return this.buildUrlFromSegments(r,o)}else return""}parseSegmentValueMatcher(r){let n=r.data&&r.data.localizeMatcher&&r.data.localizeMatcher.params||{};return r.url.map(a=>{let l=a.path,d=a.localizedParamName;return(d&&n[d]?n[d](l):null)||`${this.parser.getEscapePrefix()}${l}`})}translateRoute(r){if(typeof r=="string"){let o=this.parser.translateRoute(r);return r.indexOf("/")?o:this.parser.addPrefixToUrl(o)}let n=[];return r.forEach((o,a)=>{if(typeof o=="string"){let l=this.parser.translateRoute(o);!a&&!o.indexOf("/")?n.push(this.parser.addPrefixToUrl(l)):n.push(l)}else n.push(o)}),n}_routeChanged(){return([r,n])=>{let o=this.parser.getLocationLang(r.url)||this.parser.defaultLang,a=this.parser.getLocationLang(n.url)||this.parser.defaultLang,l=this.lastExtras;a!==o&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(a).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,l),this.routerEvents.next(a)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let r=this.router.getCurrentNavigation(),n=this.router.serializeUrl(r.extractedUrl);this.router.events.next(new nr(r.id,n,"")),this.router.navigationTransitions.transitions.next(gt(B({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(r){this.router.resetConfig(hd(r))}};t.\u0275fac=function(n){return new(n||t)(K(ha),K(Zs),K(De),K(Sr))},t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})(),H0=128,MO=(()=>{let t=class t{constructor(r,n){this.localize=r,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(r){if(!r||r.length===0||!this.localize.parser.currentLang)return r;if(Xs(r,this.lastKey)&&Xs(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=r,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(r),this.lastKey=r;let n=this._ref._view;return n&&n.state&H0?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}};t.\u0275fac=function(n){return new(n||t)(H(md,16),H(yr,16))},t.\u0275pipe=um({name:"localize",type:t,pure:!1,standalone:!0});let e=t;return e})(),fd=class{constructor(){}shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t&&i?this.getKey(t)===this.getKey(i):!1}getKey(t){if(t.firstChild&&t.firstChild.routeConfig&&t.firstChild.routeConfig.path&&t.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!t.data.localizeRouter&&(!t.parent||!t.parent.parent)&&!t.data.skipRouteLocalization)return"LANG";if(t.routeConfig.matcher){let i=`${this.getKey(t.parent)}/${t.routeConfig.matcher.name}`;return t.data.discriminantPathKey&&(i=`${i}-${t.data.discriminantPathKey}`),i}else if(t.data.localizeRouter){let i=`${this.getKey(t.parent)}/${t.data.localizeRouter.path}`;return t.data.discriminantPathKey&&(i=`${i}-${t.data.discriminantPathKey}`),i}else{let i=t.routeConfig.path;return t.parent&&(i=`${this.getKey(t.parent)}/${t.routeConfig.path}`),t.data.discriminantPathKey&&(i=`${i}-${t.data.discriminantPathKey}`),i}}},q0=(()=>{let t=class t extends De{constructor(){super(),this.platformId=X(gm),this.compiler=X($i),this.localize=X(ha),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(o,a)=>G0(a.loadChildren()).pipe(mt(Y0),qt(l=>l instanceof ws||Array.isArray(l)?nt(l):he(this.compiler.compileModuleAsync(l))),mt(l=>{this.onLoadEndListener&&this.onLoadEndListener(a);let d,m;if(Array.isArray(l))m=this.localize.initChildRoutes([].concat(...l));else{d=l.create(o).injector;let b=d.get.bind(d);d.get=(x,C,O)=>{let N=b(x,C,O);return x===wn?this.localize.initChildRoutes([].concat(...N)):N},m=d.get(wn,[],{optional:!0,self:!0}).reduce((x,C)=>x.concat(C),[])}return{routes:m.map(eg),injector:d}}));let n=Nm(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(o,a)=>{if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return nt({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let d=this.loadModuleFactoryOrRoutes(o,a).pipe(Ii(()=>{this.childrenLoaders.delete(a)})),m=new Yn(d,()=>new lt).pipe(Fo());return this.childrenLoaders.set(a,m),m}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eg(e){let t=e.children&&e.children.map(eg),i=t?gt(B({},e),{children:t}):B({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==pt&&(i.component=id),i}function Q0(e){return e&&typeof e=="object"&&"default"in e}function Y0(e){return Q0(e)?e.default:e}function G0(e){return Ri(e)?e:W0(e)?he(Promise.resolve(e)):nt(e)}var qp=(()=>{let t=class t{constructor(r){this.injector=r}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(md),o=this.injector.get(De),a=this.injector.get(Zs);if(n.init(),a.initialNavigation)return new Promise(l=>{let d=o.navigationTransitions.afterPreactivation,m=!0;o.navigationTransitions.afterPreactivation=()=>(m&&(l(),m=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),d())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(r,n){return this.parser=r,this.routes=n.reduce((o,a)=>o.concat(a)),this.appInitializer}};t.\u0275fac=function(n){return new(n||t)(K(Wt))},t.\u0275prov=dt({token:t,factory:t.\u0275fac});let e=t;return e})();function X0(e,t,i){let r=hd(i);return e.generateInitializer(t,r).bind(e)}function Z0(e,t){return[{provide:De,useClass:q0},{provide:B0,useFactory:tC,deps:[[J0,new ys,new _s]]},{provide:Qp,useValue:t.useCachedLang},{provide:tg,useValue:t.alwaysSetPrefix},{provide:Gp,useValue:t.cacheName},{provide:Yp,useValue:t.cacheMechanism},{provide:Jp,useValue:t.defaultLangFunction},{provide:Xp,useValue:t.cookieFormat},{provide:Zp,useValue:t.initialNavigation},Zs,t.parser||{provide:ha,useClass:K0},{provide:dd,multi:!0,useValue:e},md,qp,{provide:Vo,multi:!0,useFactory:X0,deps:[qp,ha,dd]},{provide:ld,useClass:fd}]}var J0=(()=>{let t=class t{static forRoot(r,n={}){return{ngModule:t,providers:Z0(r,n)}}static forChild(r){return{ngModule:t,providers:[{provide:dd,multi:!0,useValue:r}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({imports:[Mm,Hp,qm]});let e=t;return e})();function tC(e){if(e)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function rg(e,t){if(ii(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ng(e){var t=rg(e,"string");return ii(t)=="symbol"?t:t+""}function ig(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ng(r.key),r)}}function xe(e,t,i){return t&&ig(e.prototype,t),i&&ig(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function ma(e){return Array.isArray(e)?e.slice(0):[e]}function Er(e){return Array.isArray(e)}function og(e){return e!=null}function Js(e,t){var i=0,r=-1;for(var n of e){r=r+1;var o=t(n,r);if(o)i=i+1;else break}return i}function or(e,t){var i=t.length;if(i!==0){var r=e.length;e.length=r+t.length;for(var n=0;n<i;++n)e[r+n]=t[n]}}function ag(e){return e.filter(function(t,i,r){return r.indexOf(t)===i})}function sg(e){for(var t="",i=new Uint8Array(e),r=i.byteLength,n=0;n<r;n++)t+=String.fromCharCode(i[n]);return btoa(t)}function cg(e,t){return z(this,null,function*(){var i=yield fetch("data:"+t+";base64,"+e),r=yield i.blob();return r})}function lg(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8Array]"&&(e=new Blob([e])),typeof e=="string"?Promise.resolve(e):e.text()}function ug(e){return z(this,null,function*(){if(typeof e=="string")return e;var t=Object.prototype.toString.call(e);t==="[object Uint8Array]"&&(e=new Blob([e]));var i=yield e.arrayBuffer();return sg(i)})}function dg(e){return e.size}function oi(e){for(var t="",i=0;i<e.length;i++){var r=e[i];if(r==="-")return parseInt(t,10);t+=r}throw new Error("malformatted revision: "+e)}function Xi(e,t){var i=t?oi(t._rev)+1:1;return i+"-"+e}function gd(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&gd(e[t])}),e}function fg(e){var t=e.split("."),i=t.length;return i===1?r=>r[e]:r=>{for(var n=r,o=0;o<i;++o){var a=t[o];if(n=n[a],typeof n>"u")return n}return n}}function tc(e){var t={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(typeof e[i]=="object"){var r=tc(e[i]);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[i+"."+n]=r[n])}else t[i]=e[i];return t}function kt(e){return Object.assign({},e)}function hg(e){return Object.keys(e)[0]}function Zi(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,n)=>typeof r=="string"&&typeof n=="string"?r.localeCompare(n):typeof r=="object"?1:-1).map(r=>Zi(r,t));if(typeof e=="object"&&!Array.isArray(e)){var i={};return Object.keys(e).sort((r,n)=>r.localeCompare(n)).forEach(r=>{i[r]=Zi(e[r],t)}),i}return e}function pd(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),i=t.length;i--;)t[i]=pd(e[i]);return t}var r={};for(var n in e)r[n]=pd(e[n]);return r}var qe=pd;function $e(e,t,i){return Object.defineProperty(e,t,{get:function(){return i}}),i}var ec=1;function En(){return{lwt:ec}}function Kr(){return""}function mg(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function pg(e,t,i){if(t.length!==i.length)return!1;for(var r=0,n=t.length;r<n;){var o=t[r],a=i[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}var tk=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var ek=Object.freeze(["prototype","__proto__","constructor"]);var eC="[native code] }",rk=eC.length;var Rn=class e{constructor(t,i){t=this.words=t||[],this.sigBytes=i===void 0?t.length*4:i}toString(t){return(t||rC).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let i=0;i<t.sigBytes;i++){let r=t.words[i>>>2]>>>24-i%4*8&255;this.words[this.sigBytes+i>>>2]|=r<<24-(this.sigBytes+i)%4*8}else for(let i=0;i<t.sigBytes;i+=4)this.words[this.sigBytes+i>>>2]=t.words[i>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new e([...this.words])}},rC={stringify(e){let t=[];for(let i=0;i<e.sigBytes;i++){let r=e.words[i>>>2]>>>24-i%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}};var nC={parse(e){let t=e.length,i=[];for(let r=0;r<t;r++)i[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new Rn(i,t)}},iC={parse(e){return nC.parse(unescape(encodeURIComponent(e)))}},vd=class{constructor(){this._data=new Rn,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Rn,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=iC.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,i){}_process(t){let i,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);let n=r*this.blockSize,o=Math.min(n*4,this._data.sigBytes);if(n){for(let a=0;a<n;a+=this.blockSize)this._doProcessBlock(this._data.words,a);i=this._data.words.splice(0,n),this._data.sigBytes-=o}return new Rn(i,o)}},bd=class extends vd{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}},gg=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],oC=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ai=[],yd=class extends bd{constructor(){super(...arguments),this._hash=new Rn([...gg])}reset(){super.reset(),this._hash=new Rn([...gg])}_doProcessBlock(t,i){let r=this._hash.words,n=r[0],o=r[1],a=r[2],l=r[3],d=r[4],m=r[5],p=r[6],b=r[7];for(let x=0;x<64;x++){if(x<16)ai[x]=t[i+x]|0;else{let Z=ai[x-15],Ft=(Z<<25|Z>>>7)^(Z<<14|Z>>>18)^Z>>>3,yt=ai[x-2],Mt=(yt<<15|yt>>>17)^(yt<<13|yt>>>19)^yt>>>10;ai[x]=Ft+ai[x-7]+Mt+ai[x-16]}let C=d&m^~d&p,O=n&o^n&a^o&a,N=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),W=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),et=b+W+C+oC[x]+ai[x],rt=N+O;b=p,p=m,m=d,d=l+et|0,l=a,a=o,o=n,n=et+rt|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+l|0,r[4]=r[4]+d|0,r[5]=r[5]+m|0,r[6]=r[6]+p|0,r[7]=r[7]+b|0}finalize(t){super.finalize(t);let i=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(i/4294967296),this._data.words[(r+64>>>9<<4)+15]=i,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function vg(e){return new yd().finalize(e).toString()}function aC(e){return Promise.resolve(vg(e))}function sC(e){return z(this,null,function*(){var t=new TextEncoder().encode(e),i=yield crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(i),n=>("00"+n.toString(16)).slice(-2)).join("");return r})}var cC=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",Ji=cC?sC:aC;function bg(){return new Promise(e=>setTimeout(e,0))}function yg(e=0){return new Promise(t=>setTimeout(t,e))}var lC=Promise.resolve(!0),Rr=Promise.resolve(!1),_g=Promise.resolve(null),Dn=Promise.resolve();function to(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):yg(0)}var _d=Dn;function xg(e=void 0){return _d=_d.then(()=>to(e)),_d}function wg(e,t){return e.reduce((i,r)=>i.then(r),Promise.resolve(t))}var Cg=/\./g;var Sg="abcdefghijklmnopqrstuvwxyz";function si(e=10){for(var t="",i=0;i<e;i++)t+=Sg.charAt(Math.floor(Math.random()*Sg.length));return t}function rc(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function ar(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function xd(e){return!!(e.includes("/")||e.includes("\\"))}function On(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r;if(Array.isArray(e)){if(i=e.length,i!==t.length)return!1;for(r=i;r--!==0;)if(!On(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e);if(i=n.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(r=i;r--!==0;){var o=n[r];if(!On(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var Cd=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},wd=new Set(["__proto__","prototype","constructor"]),uC=new Set("0123456789");function Eg(e){var t=[],i="",r="start",n=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");n&&(i+=o),r="property",n=!n;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(n){n=!1,i+=o;break}if(wd.has(i))return[];t.push(i),i="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(n){n=!1,i+=o;break}if(r==="property"){if(wd.has(i))return[];t.push(i),i=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(i,10)),i="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!uC.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),n&&(n=!1,i+="\\"),i+=o}}switch(n&&(i+="\\"),r){case"property":{if(wd.has(i))return[];t.push(i);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Rg(e,t){if(typeof t!="number"&&Array.isArray(e)){var i=Number.parseInt(t,10);return Number.isInteger(i)&&e[i]===e[t]}return!1}function dC(e,t){if(Rg(e,t))throw new Error("Cannot use string index")}function Oe(e,t,i){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!Cd(e)||typeof t!="string")return i===void 0?e:i;var r=Eg(t);if(r.length===0)return i;for(var n=0;n<r.length;n++){var o=r[n];if(Rg(e,o)?e=n===r.length-1?void 0:null:e=e[o],e==null){if(n!==r.length-1)return i;break}}return e===void 0?i:e}function Sd(e,t,i){if(Array.isArray(t)&&(t=t.join(".")),!Cd(e)||typeof t!="string")return e;for(var r=e,n=Eg(t),o=0;o<n.length;o++){var a=n[o];dC(e,a),o===n.length-1?e[a]=i:Cd(e[a])||(e[a]=typeof n[o+1]=="number"?[]:{}),e=e[a]}return r}function kn(e,t){var i=e.get(t);if(typeof i>"u")throw new Error("missing value from map "+t);return i}function Le(e,t,i,r){var n=e.get(t);return typeof n>"u"?(n=i(),e.set(t,n)):r&&r(n),n}function Rt(e){var t=e.split("-"),i="RxDB";return t.forEach(r=>{i+=rc(r)}),i+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+i+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+i+`);
        `)}var Ed=0;function ee(){var e=Date.now();e=e+.01,e<=Ed&&(e=Ed+.01);var t=parseFloat(e.toFixed(2));return Ed=t,t}function Dt(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var nc={bufferSize:1,refCount:!0};var ci="15.31.4";var An={},ic="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function In(e,t){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},In(e,t)}function Rd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,In(e,t)}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oc(e)}function Dg(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Dd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dd=function(){return!!e})()}function Og(e,t,i){if(Dd())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var n=new(e.bind.apply(e,r));return i&&In(n,i.prototype),n}function pa(e){var t=typeof Map=="function"?new Map:void 0;return pa=function(r){if(r===null||!Dg(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return Og(r,arguments,oc(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),In(n,r)},pa(e)}var Tt={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function fC(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(i=>{var r="[object Object]";try{i==="errors"?r=e[i].map(n=>JSON.stringify(n,Object.getOwnPropertyNames(n))):r=JSON.stringify(e[i],function(n,o){return o===void 0?null:o},2)}catch{}return i+":"+r}).join(`
`),t+="}"),t}function kg(e,t,i){return"RxError ("+t+`):
`+e+`
`+fC(i)}var hC=function(e){function t(r,n,o={}){var a,l=kg(n,r,o);return a=e.call(this,l)||this,a.code=r,a.message=l,a.url=Od(r),a.parameters=o,a.rxdb=!0,a}Rd(t,e);var i=t.prototype;return i.toString=function(){return this.message},xe(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(pa(Error)),mC=function(e){function t(r,n,o={}){var a,l=kg(n,r,o);return a=e.call(this,l)||this,a.code=r,a.message=l,a.url=Od(r),a.parameters=o,a.rxdb=!0,a}Rd(t,e);var i=t.prototype;return i.toString=function(){return this.message},xe(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(pa(TypeError));function Od(e){return"https://rxdb.info/errors.html?console=errors#"+e}function Ag(e){return`
 You can find out more about this error here: `+Od(e)+" "}function P(e,t){return new hC(e,Tt.tunnelErrorMessage(e)+Ag(e),t)}function oe(e,t){return new mC(e,Tt.tunnelErrorMessage(e)+Ag(e),t)}function ac(e){return e&&e.status===409?e:!1}var pC={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Ig(e){return P("COL20",{name:pC[e.status],document:e.documentId,writeError:e})}var eo={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Gt(e,t){eo[e].length>0&&eo[e].forEach(i=>i(t))}function Tn(e,t){return Promise.all(eo[e].map(i=>i(t)))}function ke(e,t){var i=t;i=i.replace(Cg,".properties."),i="properties."+i,i=ar(i);var r=Oe(e,i);return r}function sc(e,t,i){if(typeof t.primaryKey=="string")return i;var r=ga(t,i),n=i[e];if(n&&n!==r)throw P("DOC19",{args:{documentData:i,existingPrimary:n,newPrimary:r},schema:t});return i[e]=r,i}function le(e){return typeof e=="string"?e:e.key}function ga(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var i=e.primaryKey;return i.fields.map(r=>{var n=Oe(t,r);if(typeof n>"u")throw P("DOC18",{args:{field:r,documentData:t}});return n}).join(i.separator)}function Tg(e){var t=Zi(e,!0);return t}function gC(e){return["_deleted",e]}function cc(e){e=kt(e);var t=le(e.primaryKey);e.properties=kt(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=vC,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var i=kd(e);or(e.required,i),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,l)=>l.indexOf(o)===a),e.version=e.version||0;var r=e.indexes.map(o=>{var a=Er(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(gC(t)),r.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map(o=>{r.push(o)});var n=new Set;return r.filter(o=>{var a=o.join(",");return n.has(a)?!1:(n.add(a),!0)}),e.indexes=r,e}var vC={type:"object",properties:{lwt:{type:"number",minimum:ec,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function kd(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),i=le(e.primaryKey);return t.push(i),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function Pg(e,t){for(var i=Object.keys(e.defaultValues),r=0;r<i.length;++r){var n=i[r];(!Object.prototype.hasOwnProperty.call(t,n)||typeof t[n]>"u")&&(t[n]=e.defaultValues[n])}return t}var Ad=function(){function e(i,r){this.jsonSchema=i,this.hashFunction=r,this.indexes=bC(this.jsonSchema),this.primaryPath=le(this.jsonSchema.primaryKey),this.finalFields=kd(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,n){this.finalFields.forEach(o=>{if(!On(r[o],n[o]))throw P("DOC9",{dataBefore:r,dataAfter:n,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},n=ke(this.jsonSchema,"");return Object.keys(n).forEach(o=>{var a=o;r.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(a);return l}}),Object.defineProperty(r,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),$e(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return ga(this.jsonSchema,r)},xe(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var i={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,n])=>i[r]=n.default),$e(this,"defaultValues",i)}},{key:"hash",get:function(){return $e(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function bC(e){return(e.indexes||[]).map(t=>Er(t)?t:[t])}function Mg(e){var t=e.version?e.version:0,i=0;return new Array(t).fill(0).map(()=>i++)}function Ng(e,t,i=!0){i&&Gt("preCreateRxSchema",e);var r=cc(e);r=Tg(r),Tt.deepFreezeWhenDevMode(r);var n=new Ad(r,t);return Gt("createRxSchema",n),n}function $g(e){return e.documentData?e.documentData:e.previousDocumentData}function Lg(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Tt.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function lc(e){return e[e.length-1]}function yC(e){let t=typeof e;return e!==null&&(t==="object"||t==="function")}function Id(e,t,i){if(Array.isArray(t)&&(t=t.join(".")),!yC(e)||typeof t!="string")return i===void 0?e:i;let r=t.split(".");if(r.length===0)return i;for(let n=0;n<r.length;n++){let o=r[n];if(_C(e,o)?e=n===r.length-1?void 0:null:e=e[o],e==null){if(n!==r.length-1)return i;break}}return e===void 0?i:e}function _C(e,t){if(typeof t!="number"&&Array.isArray(e)){let i=Number.parseInt(t,10);return Number.isInteger(i)&&e[i]===e[t]}return!1}var Td=e=>!!e.queryParams.limit,Fg=e=>e.queryParams.limit===1,Bg=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),jg=e=>e.changeEvent.operation==="DELETE",zg=e=>e.changeEvent.operation==="INSERT",Ug=e=>e.changeEvent.operation==="UPDATE",Vg=e=>Td(e)&&e.previousResults.length>=e.queryParams.limit,Kg=e=>{let t=e.queryParams.sortFields,i=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!i)return!0;for(let n=0;n<t.length;n++){let o=t[n],a=Id(i,o),l=Id(r,o);if(a!==l)return!0}return!1},Wg=e=>{let t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{let i=e.queryParams.primaryKey,r=e.previousResults;for(let n=0;n<r.length;n++)if(r[n][i]===t)return!0;return!1}},Hg=e=>{let t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},qg=e=>{let t=lc(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Qg=e=>{let t=e.changeEvent.previous;if(!t)return!1;let i=e.previousResults[0];return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)<0:!1},Yg=e=>{let t=e.changeEvent.previous;if(!t)return!1;let i=lc(e.previousResults);return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)>0:!1},Gg=e=>{let t=e.changeEvent.doc;if(!t)return!1;let i=e.previousResults[0];return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)<0:!1},Xg=e=>{let t=e.changeEvent.doc;if(!t)return!1;let i=lc(e.previousResults);return i?i[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,i)>0:!1},Zg=e=>{let t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},Jg=e=>{let t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},tv=e=>e.previousResults.length===0;var ev={0:zg,1:Ug,2:jg,3:Td,4:Fg,5:Bg,6:tv,7:Vg,8:Hg,9:qg,10:Kg,11:Wg,12:Qg,13:Yg,14:Gg,15:Xg,16:Zg,17:Jg};function rv(e,t,i,r){var n=e.length,o=n-1,a=0;if(n===0)return e.push(t),0;for(var l;r<=o;)a=r+(o-r>>1),l=e[a],i(l,t)<=0?r=a+1:o=a-1;return i(l,t)<=0&&a++,e.splice(a,0,t),a}var nv=e=>{},uc=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},dc=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},fc=e=>{let t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},hc=e=>{let t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},iv=e=>{fc(e),dc(e)},ov=e=>{hc(e),uc(e)},av=e=>{fc(e),uc(e)},sv=e=>{hc(e),dc(e)},Pd=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);let t=e.queryParams.primaryKey,i=e.previousResults;for(let r=0;r<i.length;r++)if(i[r][t]===e.changeEvent.id){i.splice(r,1);break}},cv=e=>{let t=e.changeEvent.doc,i=e.queryParams.primaryKey,r=e.previousResults;for(let n=0;n<r.length;n++)if(r[n][i]===e.changeEvent.id){r[n]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},lv=e=>{let t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},Md=e=>{let t=e.changeEvent.id,i=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,i)}else if(e.previousResults.find(n=>n[e.queryParams.primaryKey]===t))return;rv(e.previousResults,i,e.queryParams.sortComparator,0)},uv=e=>{Pd(e),Md(e)},dv=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},fv=e=>{throw new Error("Action unknownAction should never be called")};var hv=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],mv={doNothing:nv,insertFirst:uc,insertLast:dc,removeFirstItem:fc,removeLastItem:hc,removeFirstInsertLast:iv,removeLastInsertFirst:ov,removeFirstInsertFirst:av,removeLastInsertLast:sv,removeExisting:Pd,replaceExisting:cv,alwaysWrong:lv,insertAtSortPosition:Md,removeExistingAndInsertAtSortPosition:uv,runFullQueryAgain:dv,unknownAction:fv};function mc(e){return e.charCodeAt(0)-40}function pv(e){return e?"1":"0"}function xC(e=6){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length;for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*r));return t}var mA=xC(4);function Nd(e,t){let i=[];for(let r=0,n=e.length;r<n;r+=t)i.push(e.substring(r,r+t));return i}function gv(e){let t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,n=e.substring(2,r),o=Nd(n,2);for(let N=0;N<o.length;N++){let W=o[N],et=W.charAt(0),rt=mc(W.charAt(1));t.set(et,rt)}let a=e.substring(r,e.length-3),l=Nd(a,4);for(let N=0;N<l.length;N++){let W=l[N],et=W.charAt(0),rt=W.charAt(1),Z=W.charAt(2),Ft=mc(W.charAt(3));if(!t.has(rt))throw new Error("missing node with id "+rt);if(!t.has(Z))throw new Error("missing node with id "+Z);let yt=t.get(rt),Mt=t.get(Z),bt={l:Ft,0:yt,1:Mt};t.set(et,bt)}let d=e.slice(-3),m=d.charAt(0),p=d.charAt(1),b=mc(d.charAt(2)),x=t.get(m),C=t.get(p);return{l:b,0:x,1:C}}function vv(e,t,i){let r=e,n=e.l;for(;;){let o=t[n](i),a=pv(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;n=r.l}}var wC="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",$d;function CC(){return $d||($d=gv(wC)),$d}var bv=e=>vv(CC(),ev,e);function yv(e){let t=bv(e);return hv[t]}function _v(e,t,i,r,n){let o=mv[e];return o({queryParams:t,changeEvent:i,previousResults:r,keyDocumentMap:n}),r}var li="\uFFFF",ui=Number.MIN_SAFE_INTEGER;function xv(e,t){var i=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var n=!!t.sort.find(p=>Object.values(p)[0]==="desc"),o=new Set;Object.keys(i).forEach(p=>{var b=ke(e,p);b&&b.type==="boolean"&&Object.prototype.hasOwnProperty.call(i[p],"$eq")&&o.add(p)});var a=t.sort.map(p=>Object.keys(p)[0]),l=a.filter(p=>!o.has(p)).join(","),d=-1,m;if(r.forEach(p=>{var b=!0,x=!0,C=p.map(rt=>{var Z=i[rt],Ft=Z?Object.keys(Z):[],yt={};if(!Z||!Ft.length){var Mt=x?ui:li;yt={startKey:Mt,endKey:b?li:ui,inclusiveStart:!0,inclusiveEnd:!0}}else Ft.forEach(bt=>{if(pc.has(bt)){var xt=Z[bt],de=DC(bt,xt);yt=Object.assign(yt,de)}});return typeof yt.startKey>"u"&&(yt.startKey=ui),typeof yt.endKey>"u"&&(yt.endKey=li),typeof yt.inclusiveStart>"u"&&(yt.inclusiveStart=!0),typeof yt.inclusiveEnd>"u"&&(yt.inclusiveEnd=!0),x&&!yt.inclusiveStart&&(x=!1),b&&!yt.inclusiveEnd&&(b=!1),yt}),O=C.map(rt=>rt.startKey),N=C.map(rt=>rt.endKey),W={index:p,startKeys:O,endKeys:N,inclusiveEnd:b,inclusiveStart:x,sortSatisfiedByIndex:!n&&l===p.filter(rt=>!o.has(rt)).join(","),selectorSatisfiedByIndex:RC(p,t.selector,O,N)},et=OC(e,t,W);(et>=d||t.index)&&(d=et,m=W)}),!m)throw P("SNH",{query:t});return m}var pc=new Set(["$eq","$gt","$gte","$lt","$lte"]),SC=new Set(["$eq","$gt","$gte"]),EC=new Set(["$eq","$lt","$lte"]);function RC(e,t,i,r){var n=Object.entries(t),o=n.find(([bt,xt])=>{if(!e.includes(bt))return!0;var de=Object.entries(xt).find(([lr,yo])=>!pc.has(lr));return de});if(o||t.$and||t.$or)return!1;var a=[],l=new Set;for(var[d,m]of Object.entries(t)){if(!e.includes(d))return!1;var p=Object.keys(m).filter(bt=>SC.has(bt));if(p.length>1)return!1;var b=p[0];if(b&&l.add(d),b!=="$eq"){if(a.length>0)return!1;a.push(b)}}var x=[],C=new Set;for(var[O,N]of Object.entries(t)){if(!e.includes(O))return!1;var W=Object.keys(N).filter(bt=>EC.has(bt));if(W.length>1)return!1;var et=W[0];if(et&&C.add(O),et!=="$eq"){if(x.length>0)return!1;x.push(et)}}var rt=0;for(var Z of e){for(var Ft of[l,C]){if(!Ft.has(Z)&&Ft.size>0)return!1;Ft.delete(Z)}var yt=i[rt],Mt=r[rt];if(yt!==Mt&&l.size>0&&C.size>0)return!1;rt++}return!0}function DC(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function OC(e,t,i){var r=0,n=p=>{p>0&&(r=r+p)},o=10,a=Js(i.startKeys,p=>p!==ui&&p!==li);n(a*o);var l=Js(i.startKeys,p=>p!==li&&p!==ui);n(l*o);var d=Js(i.startKeys,(p,b)=>p===i.endKeys[b]);n(d*o*1.5);var m=i.sortSatisfiedByIndex?5:0;return n(m),r}var ae=class extends Error{},yc=2147483647,_c=-2147483648,zd=Number.MAX_SAFE_INTEGER,Ud=Number.MIN_SAFE_INTEGER,Wr=Symbol("missing"),Sv=Object.freeze(new Error("mingo: cycle detected while processing object/array")),kC="[object Object]",AC=/^\[object ([a-zA-Z0-9]+)\]$/,va=e=>{let t=NC(e),i=0,r=t.length;for(;r;)i=(i<<5)-i^t.charCodeAt(--r);return i>>>0},Ev=new Set(["null","undefined","boolean","number","string","date","regexp"]),IC={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Nt=(e,t)=>{e===Wr&&(e=void 0),t===Wr&&(t=void 0);let[i,r]=[e,t].map(n=>IC[Pn(n).toLowerCase()]);return i!==r?i-r:i===1||i===2||i===6?e<t?-1:e>t?1:0:ue(e,t)?0:e<t?-1:e>t?1:0};function U(e,t){if(!e)throw new ae(t)}var Pn=e=>AC.exec(Object.prototype.toString.call(e))[1],ba=e=>typeof e=="boolean",St=e=>typeof e=="string";var ht=e=>!isNaN(e)&&typeof e=="number";var ot=Array.isArray,ft=e=>{if(!e)return!1;let t=Object.getPrototypeOf(e);return(t===Object.prototype||t===null)&&kC===Object.prototype.toString.call(e)},ya=e=>e===Object(e),Mn=e=>e instanceof Date,io=e=>e instanceof RegExp,_a=e=>typeof e=="function",Q=e=>e==null,Dr=(e,t)=>e.includes(t),xc=(e,t)=>!Dr(e,t),we=(e,t=!0)=>!!e||t&&e==="",Fe=e=>Q(e)||St(e)&&!e||e instanceof Array&&e.length===0||ft(e)&&Object.keys(e).length===0,wv=e=>e===Wr,Or=e=>e instanceof Array?e:[e],Ut=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),Vd=e=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e),TC=[Mn,io,Vd],Fd=(e,t)=>{if(Q(e))return e;if(t.has(e))throw Sv;let i=e.constructor;if(TC.some(r=>r(e)))return new i(e);try{if(t.add(e),ot(e))return e.map(r=>Fd(r,t));if(ft(e)){let r={};for(let n in e)r[n]=Fd(e[n],t);return r}}finally{t.delete(e)}return e},oo=e=>Fd(e,new Set),PC=(e,t)=>ft(e)&&ft(t)||ot(e)&&ot(t);function vc(e,t,i){if(i=i||{flatten:!1},wv(e)||Q(e))return t;if(wv(t)||Q(t))return e;if(!PC(e,t)){if(i.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(i.skipValidation=!0,ot(e)){let r=e,n=t;if(i.flatten){let o=0,a=0;for(;o<r.length&&a<n.length;)r[o]=vc(r[o++],n[a++],i);for(;a<n.length;)r.push(t[a++])}else Qe(r,n)}else for(let r in t)e[r]=vc(e[r],t[r],i);return e}function Bd(e,t=va){let i=new Map;return e.forEach((r,n)=>{let o=wc(r,t);i.has(o)?i.get(o).some(a=>ue(e[a],r))||i.get(o).push(n):i.set(o,[n])}),i}function Hr(e,t=va){if(e.some(l=>l.length==0))return[];if(e.length===1)return Array.from(e);let i=Rv(e.map((l,d)=>[d,l.length]),l=>l[1]),r=e[i[0][0]],n=Bd(r,t),o=new Map,a=new Array;return n.forEach((l,d)=>{let m=l.map(C=>r[C]),p=m.map(C=>0),b=m.map(C=>[i[0][0],0]),x=!1;for(let C=1;C<e.length;C++){let[O,N]=i[C],W=e[O];if(o.has(C)||o.set(C,Bd(W)),o.get(C).has(d)){let et=o.get(C).get(d).map(rt=>W[rt]);x=m.map((rt,Z)=>et.some((Ft,yt)=>{let Mt=p[Z];return ue(rt,Ft)&&(p[Z]++,O<b[Z][0]&&(b[Z]=[O,o.get(C).get(d)[yt]])),Mt<p[Z]})).some(Boolean)}if(!x)return}x&&Qe(a,p.map((C,O)=>C===e.length-1?[m[O],b[O]]:Wr).filter(C=>C!==Wr))}),a.sort((l,d)=>{let[m,[p,b]]=l,[x,[C,O]]=d,N=Nt(p,C);return N!==0?N:Nt(b,O)}).map(l=>l[0])}function Kd(e,t=0){let i=new Array;function r(n,o){for(let a=0,l=n.length;a<l;a++)ot(n[a])&&(o>0||o<0)?r(n[a],Math.max(-1,o-1)):i.push(n[a])}return r(e,t),i}var MC=e=>{let[t,i]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!i.length&&t!==Object.prototype&&t!==Array.prototype;)r=t,i=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);let n={};return i.forEach(o=>n[o]=e[o]),[n,r]};function ue(e,t){if(e===t||Object.is(e,t))return!0;let i=!!e&&e.constructor||e;if(e===null||t===null||e===void 0||t===void 0||i!==t.constructor||i===Function)return!1;if(i===Array||i===Object){let o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length||new Set([...o,...a]).size!=o.length)return!1;for(let l of o)if(!ue(e[l],t[l]))return!1;return!0}let r=Object.getPrototypeOf(e);return(Vd(e)||r!==Object.prototype&&r!==Array.prototype&&Object.prototype.hasOwnProperty.call(r,"toString"))&&e.toString()===t.toString()}function xa(e,t=va){let i=e.map(r=>Wr);return Bd(e,t).forEach((r,n)=>{r.forEach(o=>i[o]=e[o])}),i.filter(r=>r!==Wr)}var gc=(e,t)=>{if(e===null)return"null";if(e===void 0)return"undefined";let i=e.constructor;switch(i){case RegExp:case Number:case Boolean:case Function:case Symbol:return e.toString();case String:return JSON.stringify(e);case Date:return e.toISOString()}if(Vd(e))return i.name+"["+e.toString()+"]";if(t.has(e))throw Sv;try{if(t.add(e),ot(e))return"["+e.map(a=>gc(a,t)).join(",")+"]";if(i===Object)return"{"+Object.keys(e).sort().map(a=>a+":"+gc(e[a],t)).join(",")+"}";let r=Object.getPrototypeOf(e);if(r!==Object.prototype&&r!==Array.prototype&&Object.prototype.hasOwnProperty.call(r,"toString"))return i.name+"("+JSON.stringify(e.toString())+")";let[n,o]=MC(e);return i.name+gc(n,t)}finally{t.delete(e)}},NC=e=>gc(e,new Set);function wc(e,t){return t=t||va,Q(e)?null:t(e).toString()}function Rv(e,t,i=Nt){if(Fe(e))return e;let r=new Array,n=new Array;for(let o=0;o<e.length;o++){let a=e[o],l=t(a,o);Q(l)?n.push(a):r.push([l,a])}return r.sort((o,a)=>i(o[0],a[0])),Qe(n,r.map(o=>o[1]))}function Cc(e,t,i=va){if(e.length<1)return new Map;let r=new Map,n=new Map;for(let o=0;o<e.length;o++){let a=e[o],l=t(a,o),d=wc(l,i);if(d===null)n.has(null)?n.get(null).push(a):n.set(null,[a]);else{let m=r.has(d)?r.get(d).find(p=>ue(p,l)):null;Q(m)?(n.set(l,[a]),r.has(d)?r.get(d).push(l):r.set(d,[l])):n.get(m).push(a)}}return n}var Ld=5e4;function Qe(e,...t){return e instanceof Array?t.reduce((i,r)=>{let n=Math.ceil(r.length/Ld),o=0;for(;n-- >0;)Array.prototype.push.apply(i,r.slice(o,o+Ld)),o+=Ld;return i},e):t.filter(ya).reduce((i,r)=>(Object.assign(i,r),i),e)}function jd(e,t){return ya(e)?e[t]:void 0}function $C(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function Ce(e,t,i){let r=0;function n(a,l){let d=a;for(let m=0;m<l.length;m++){let p=l[m];if(/^\d+$/.exec(p)===null&&d instanceof Array){if(m===0&&r>0)break;r+=1;let x=l.slice(m);d=d.reduce((C,O)=>{let N=n(O,x);return N!==void 0&&C.push(N),C},[]);break}else d=jd(d,p);if(d===void 0)break}return d}let o=Ev.has(Pn(e).toLowerCase())?e:n(e,t.split("."));return o instanceof Array&&i?.unwrapArray?$C(o,r):o}function ro(e,t,i){let r=t.split("."),n=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(n)!==null,l=r.length>1,d,m;if(e instanceof Array)if(a)d=jd(e,Number(n)),l&&(d=ro(d,o,i)),d=[d];else{d=[];for(let p of e)m=ro(p,t,i),i?.preserveMissing?(m===void 0&&(m=Wr),d.push(m)):m!==void 0&&d.push(m)}else{if(m=jd(e,n),l&&(m=ro(m,o,i)),m===void 0)return;d=i?.preserveKeys?B({},e):{},d[n]=m}return d}function bc(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===Wr?e.splice(t,1):bc(e[t]);else if(ft(e))for(let t in e)Ut(e,t)&&bc(e[t])}var Cv=/^\d+$/;function no(e,t,i,r){let n=t.split("."),o=n[0],a=n.slice(1).join(".");if(n.length===1)(ft(e)||ot(e)&&Cv.test(o))&&i(e,o);else{r?.buildGraph&&Q(e[o])&&(e[o]={});let l=e[o];if(!l)return;let d=!!(n.length>1&&Cv.test(n[1]));l instanceof Array&&r?.descendArray&&!d?l.forEach(m=>no(m,a,i,r)):no(l,a,i,r)}}function Sc(e,t,i){no(e,t,(r,n)=>{r[n]=_a(i)?i(r[n]):i},{buildGraph:!0})}function wa(e,t,i){no(e,t,(r,n)=>{if(r instanceof Array){if(/^\d+$/.test(n))r.splice(parseInt(n),1);else if(i&&i.descendArray)for(let o of r)ft(o)&&delete o[n]}else ft(r)&&delete r[n]},i)}var LC=/^\$[a-zA-Z0-9_]+$/;function Be(e){return LC.test(e)}function Ec(e){if(Ev.has(Pn(e).toLowerCase()))return io(e)?{$regex:e}:{$eq:e};if(ya(e)){if(!Object.keys(e).some(Be))return{$eq:e};if(Ut(e,"$regex")){let i=B({},e);return i.$regex=new RegExp(e.$regex,e.$options),delete i.$options,i}}return e}var fi=(e=>(e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF",e))(fi||{}),Kt=class e{constructor(t,i,r,n=Date.now()){this._opts=t,this._root=i,this._local=r,this.timestamp=n,this.update(i,r)}static init(t,i,r){return t instanceof e?new e(t._opts,Q(t.root)?i:t.root,Object.assign({},t.local,r)):new e(t,i,r)}update(t,i){return this._root=t,this._local=i&&Object.assign({},i,{variables:Object.assign({},this._local?.variables,i?.variables)}),this}getOptions(){return Object.freeze(gt(B({},this._opts),{context:ao.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function qr(e){return e instanceof Kt?e.getOptions():Object.freeze(gt(B({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},e),{context:e?.context?ao.from(e?.context):ao.init({})}))}var cr=(e=>(e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e))(cr||{}),ao=class e{constructor(t){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[i,r]of Object.entries(t))this.addOperators(i,r)}static init(t={}){return new e(t)}static from(t){return new e(t.operators)}addOperators(t,i){for(let[r,n]of Object.entries(i))this.getOperator(t,r)||(this.operators[t][r]=n);return this}addAccumulatorOps(t){return this.addOperators("accumulator",t)}addExpressionOps(t){return this.addOperators("expression",t)}addQueryOps(t){return this.addOperators("query",t)}addPipelineOps(t){return this.addOperators("pipeline",t)}addProjectionOps(t){return this.addOperators("projection",t)}addWindowOps(t){return this.addOperators("window",t)}getOperator(t,i){return t in this.operators&&this.operators[t][i]||null}},di=ao.init();function qd(e,t){for(let[i,r]of Object.entries(t)){U(_a(r)&&Be(i),`'${i}' is not a valid operator`);let n=sr(e,i,null);U(!n||r===n,`${i} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case"accumulator":di.addAccumulatorOps(t);break;case"expression":di.addExpressionOps(t);break;case"pipeline":di.addPipelineOps(t);break;case"projection":di.addProjectionOps(t);break;case"query":di.addQueryOps(t);break;case"window":di.addWindowOps(t);break}}function sr(e,t,i){let{context:r,useGlobalContext:n}=i||{},o=r?r.getOperator(e,t):null;return!o&&n?di.getOperator(e,t):o}var Dv={$$ROOT(e,t,i){return i.root},$$CURRENT(e,t,i){return e},$$REMOVE(e,t,i){},$$NOW(e,t,i){return new Date(i.timestamp)}},Wd={$$KEEP(e,t,i){return e},$$PRUNE(e,t,i){},$$DESCEND(e,t,i){if(!Ut(t,"$cond"))return e;let r;for(let[n,o]of Object.entries(e))if(ya(o)){if(o instanceof Array){let a=[];for(let l of o)ft(l)&&(l=Hd(l,t,i.update(l))),Q(l)||a.push(l);r=a}else r=Hd(o,t,i.update(o));Q(r)?delete e[n]:e[n]=r}return e}};function T(e,t,i,r){let n=Kt.init(r,e);if(i=i||"",Be(i)){let o=sr("expression",i,r);if(o)return o(e,t,n);let a=sr("accumulator",i,r);if(a)return e instanceof Array||(e=T(e,t,null,n),t=null),U(e instanceof Array,`'${i}' target must be an array.`),a(e,t,n.update(null,n.local));throw new ae(`operator '${i}' is not registered`)}if(St(t)&&t.length>0&&t[0]==="$"){if(Ut(Wd,t))return t;let o=n.root,a=t.split(".");if(Ut(Dv,a[0]))o=Dv[a[0]](e,null,n),t=t.slice(a[0].length+1);else if(a[0].slice(0,2)==="$$"){o=Object.assign({},n.variables,{this:e},n.local?.variables);let l=a[0].slice(2);U(Ut(o,l),`Use of undefined variable: ${l}`),t=t.slice(2)}else t=t.slice(1);return t===""?o:Ce(o,t)}if(ot(t))return t.map(o=>T(e,o,null,n));if(ft(t)){let o={};for(let[a,l]of Object.entries(t))if(o[a]=T(e,l,a,n),["expression","accumulator"].some(d=>!!sr(d,a,r)))return U(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),o[a];return o}return t}function Hd(e,t,i){let r=T(e,t,null,i);return Ut(Wd,r)?Wd[r](e,t,i):r}function je(e){return e instanceof Ca?e:new Ca(e)}function Rc(...e){let t=0;return je(()=>{for(;t<e.length;){let i=e[t].next();if(!i.done)return i;t++}return{done:!0}})}function FC(e){return!!e&&typeof e=="object"&&e?.next instanceof Function}function BC(e,t){let i=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,i)}var Qd=new Error;function jC(e,t,i){let r=!1,n=-1,o=0;return function(a){try{t:for(;!r;){let l=e();n++;let d=-1,m=t.length,p=!1;for(;++d<m;){let b=t[d];switch(b.action){case 0:l=b.func(l,n);break;case 1:if(!b.func(l,n))continue t;break;case 2:--b.count,b.count||(p=!0);break;case 3:--b.count,b.count||BC(t,d);continue t;default:break t}}if(r=p,a)i[o++]=l;else return{value:l,done:!1}}}catch(l){if(l!==Qd)throw l}return r=!0,{done:r}}}var Ca=class{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let i;if(t instanceof Function&&(t={next:t}),FC(t)){let r=t;i=()=>{let n=r.next();if(n.done)throw Qd;return n.value}}else if(t instanceof Array){let r=t,n=r.length,o=0;i=()=>{if(o<n)return r[o++];throw Qd}}else if(!(t instanceof Function))throw new ae("Lazy must be initialized with an array, generator, or function.");this.getNext=jC(i,this.iteratees,this.yieldedValues)}push(t,i){return typeof i=="function"?this.iteratees.push({action:t,func:i}):typeof i=="number"&&this.iteratees.push({action:t,count:i}),this}next(){return this.getNext()}map(t){return this.push(0,t)}filter(t){return this.push(1,t)}take(t){return t>0?this.push(2,t):this}drop(t){return t>0?this.push(3,t):this}transform(t){let i=this,r;return je(()=>(r||(r=je(t(i.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){let i=this.next();if(i.done)break;if(t(i.value)===!1)return!1}return!0}reduce(t,i){let r=this.next();for(i===void 0&&!r.done&&(i=r.value,r=this.next());!r.done;)i=t(i,r.value),r=this.next();return i}size(){return this.reduce((t,i)=>++t,0)}[Symbol.iterator](){return this}};var kr=class{constructor(t,i){this.pipeline=t,this.options=qr(i)}stream(t){let i=je(t),r=this.options.processingMode;(r==fi.CLONE_ALL||r==fi.CLONE_INPUT)&&i.map(oo);let n=new Array;if(!Fe(this.pipeline))for(let o of this.pipeline){let a=Object.keys(o),l=a[0],d=sr(cr.PIPELINE,l,this.options);U(a.length===1&&!!d,`invalid pipeline operator ${l}`),n.push(l),i=d(i,o[l],this.options)}return(r==fi.CLONE_OUTPUT||r==fi.CLONE_ALL&&Hr([["$group","$unwind"],n]).length)&&i.map(oo),i}run(t){return this.stream(t).value()}};var Dc=class{constructor(t,i,r,n){this.source=t,this.predicate=i,this.projection=r,this.options=n,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(ft(this.projection)&&this.operators.push({$project:this.projection}),this.result=je(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new kr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let t=je([...this.buffer]);return this.buffer=[],Rc(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=gt(B({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;let t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}};var Xt=class{constructor(t,i){this.condition=t,this.options=qr(i),this.compiled=[],this.compile()}compile(){U(ft(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let t={};for(let[i,r]of Object.entries(this.condition)){if(i==="$where")Object.assign(t,{field:i,expr:r});else if(Dr(["$and","$or","$nor","$expr","$jsonSchema"],i))this.processOperator(i,i,r);else{U(!Be(i),`unknown top level operator: ${i}`);for(let[n,o]of Object.entries(Ec(r)))this.processOperator(i,n,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,i,r){let n=sr(cr.QUERY,i,this.options);if(!n)throw new ae(`unknown query operator ${i}`);let o=n(t,r,this.options);this.compiled.push(o)}test(t){for(let i=0,r=this.compiled.length;i<r;i++)if(!this.compiled[i](t))return!1;return!0}find(t,i){return new Dc(t,r=>this.test(r),i||{},this.options)}remove(t){return t.reduce((i,r)=>(this.test(r)||i.push(r),i),[])}};var so=1e3*60*60*24,Ov={week:so*7,day:so,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var AP={week:so*7,day:so,hour:so/24,minute:6e4,second:1e3,millisecond:1};var kc=(e,t,i)=>{if(Fe(t)||!ft(t))return e;let r=Nt,n=i.collation;return ft(n)&&St(n.locale)&&(r=GC(n)),e.transform(o=>{let a=Object.keys(t);for(let l of a.reverse()){let d=Cc(o,p=>Ce(p,l),i.hashFunction),m=Array.from(d.keys()).sort(r);t[l]===-1&&m.reverse(),o=[],m.reduce((p,b)=>Qe(p,d.get(b)),o)}return o})},YC={1:"base",2:"accent",3:"variant"};function GC(e){let t={sensitivity:YC[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));let i=new Intl.Collator(e.locale,t);return(r,n)=>{if(!St(r)||!St(n))return Nt(r,n);let o=i.compare(r,n);return o<0?-1:o>0?1:0}}function Et(e){let t=(i,r,n)=>{let o={unwrapArray:!0},a=Math.max(1,i.split(".").length-1);return l=>{let d=Ce(l,i,o);return e(d,r,gt(B({},n),{depth:a}))}};return t.op="query",t}function Ae(e){return(t,i,r)=>{let n=T(t,i,null,r);return e(...n)}}function Sa(e,t,i){if(ue(e,t)||Q(e)&&Q(t))return!0;if(e instanceof Array){let r=ue.bind(null,t);return e.some(r)||Kd(e,i?.depth).some(r)}return!1}function Ac(e,t,i){return!Sa(e,t,i)}function Gd(e,t,i){return Q(e)?t.some(r=>r===null):Hr([Or(e),t],i?.hashFunction).length>0}function Ic(e,t,i){return!Gd(e,t,i)}function Tc(e,t,i){return $c(e,t,(r,n)=>Nt(r,n)<0)}function Pc(e,t,i){return $c(e,t,(r,n)=>Nt(r,n)<=0)}function Mc(e,t,i){return $c(e,t,(r,n)=>Nt(r,n)>0)}function Nc(e,t,i){return $c(e,t,(r,n)=>Nt(r,n)>=0)}function Mv(e,t,i){return Or(e).some(r=>t.length===2&&r%t[0]===t[1])}function Nv(e,t,i){let r=Or(e),n=o=>St(o)&&we(t.exec(o),i?.useStrictMode);return r.some(n)||Kd(r,1).some(n)}function $v(e,t,i){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function Lv(e,t,i){if(!ot(e)||!ot(t)||!e.length||!t.length)return!1;let r=!0;for(let n of t){if(!r)break;ft(n)&&Dr(Object.keys(n),"$elemMatch")?r=Xd(e,n.$elemMatch,i):n instanceof RegExp?r=e.some(o=>typeof o=="string"&&n.test(o)):r=e.some(o=>ue(n,o))}return r}function Fv(e,t,i){return Array.isArray(e)&&e.length===t}function tS(e){return Be(e)&&["$and","$or","$nor"].indexOf(e)===-1}function Xd(e,t,i){if(ot(e)&&!Fe(e)){let r=a=>a,n=t;Object.keys(t).every(tS)&&(n={temp:t},r=a=>({temp:a}));let o=new Xt(n,i);for(let a=0,l=e.length;a<l;a++)if(o.test(r(e[a])))return!0}return!1}var Av=e=>e===null,Iv=e=>ht(e)&&e>=_c&&e<=yc&&e.toString().indexOf(".")===-1,Tv=e=>ht(e)&&e>=Ud&&e<=zd&&e.toString().indexOf(".")===-1,eS={array:ot,bool:ba,boolean:ba,date:Mn,decimal:ht,double:ht,int:Iv,long:Tv,number:ht,null:Av,object:ft,regex:io,regexp:io,string:St,undefined:Q,function:e=>{throw new ae("unsupported type key `function`.")},1:ht,2:St,3:ft,4:ot,6:Q,8:ba,9:Mn,10:Av,11:io,16:Iv,18:Tv,19:ht};function Pv(e,t,i){let r=eS[t];return r?r(e):!1}function Bv(e,t,i){return Array.isArray(t)?t.findIndex(r=>Pv(e,r,i))>=0:Pv(e,t,i)}function $c(e,t,i){return Or(e).some(r=>Pn(r)===Pn(t)&&i(r,t))}var zN=Ae(Ic);var co=(e,t)=>(i,r,n)=>{U(ot(r),`${e}: expression must be an array.`);let o=T(i,r,null,n);return o.some(Q)?null:(U(o.every(ht),`${e}: expression must evalue to array of numbers.`),t(o))};var L$=co("$bitAnd",e=>e.reduce((t,i)=>t&i,-1));var V$=co("$bitOr",e=>e.reduce((t,i)=>t|i,0));var H$=co("$bitXor",e=>e.reduce((t,i)=>t^i,0));var Zd={};vs(Zd,{$and:()=>rS,$not:()=>nS,$or:()=>iS});var rS=(e,t,i)=>{let r=T(e,t,null,i);return we(r,i.useStrictMode)&&r.every(n=>we(n,i.useStrictMode))};var nS=(e,t,i)=>{let r=Or(t);if(r.length==0)return!1;if(r.length==1)return!T(e,r[0],null,i);throw"Expression $not takes exactly 1 argument"};var iS=(e,t,i)=>{let r=T(e,t,null,i),n=i.useStrictMode;return we(r,n)&&r.some(o=>we(o,n))};var Jd={};vs(Jd,{$cmp:()=>oS,$eq:()=>aS,$gt:()=>sS,$gte:()=>cS,$lt:()=>lS,$lte:()=>uS,$ne:()=>dS});var oS=(e,t,i)=>{let r=T(e,t,null,i);return r[0]>r[1]?1:r[0]<r[1]?-1:0};var aS=Ae(Sa);var sS=Ae(Mc);var cS=Ae(Nc);var lS=Ae(Tc);var uS=Ae(Pc);var dS=Ae(Ac);var jv=(e,t)=>{let i={};return e.split("").forEach((r,n)=>i[r]=t*(n+1)),i},nF=gt(B(B({},jv("ABCDEFGHIKLM",1)),jv("NOPQRSTUVWXY",-1)),{Z:0});var Kv={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function $t(e,t=Kv){let i=Object.assign({},Kv,t),r=new Set(Object.keys(i));return(n,o,a)=>{let l=T(n,o,null,a);if(r.has(`${l}`)){let d=i[`${l}`];if(d instanceof Error)throw new ae(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return d}return e(l)}}var dU=$t(Math.acos,{Infinity:1/0,0:new Error});var mU=$t(Math.acosh,{Infinity:1/0,0:new Error});var vU=$t(Math.asin);var _U=$t(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var CU=$t(Math.atan);var kU=$t(Math.atanh,{1:1/0,"-1":-1/0});var TU=$t(Math.cos);var NU=$t(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var pS=Math.PI/180,FU=$t(e=>e*pS,{Infinity:1/0,"-Infinity":1/0});var gS=180/Math.PI,zU=$t(e=>e*gS,{Infinity:1/0,"-Infinity":-1/0});var KU=$t(Math.sin);var qU=$t(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var GU=$t(Math.tan);var ef=(e,t,i)=>{if(Fe(t))return e;let r=Object.keys(t),n=!1;Hv(t,i);let o=i.idKey;if(Dr(r,o)){let l=t[o];(l===0||l===!1)&&(r=r.filter(xc.bind(null,[o])),n=r.length==0)}else r.push(o);let a=Kt.init(i);return e.map(l=>tf(l,t,a.update(l),r,n))};function tf(e,t,i,r,n){let o={},a=!1,l=!1,d=[];n&&d.push(i.idKey);for(let m of r){let p,b=t[m];if(m!==i.idKey&&Dr([0,!1],b)&&(l=!0),m===i.idKey&&Fe(b))p=e[m];else if(St(b))p=T(e,b,m,i);else if(!Dr([1,!0],b))if(b instanceof Array)p=b.map(C=>{let O=T(e,C,null,i);return Q(O)?null:O});else if(ft(b)){let C=b,O=Object.keys(b),N=O.length==1?O[0]:"",W=sr(cr.PROJECTION,N,i);if(W)N==="$slice"?Or(C[N]).every(ht)?(p=W(e,C[N],m,i),a=!0):p=T(e,C,m,i):p=W(e,C[N],m,i);else if(Be(N))p=T(e,C[N],N,i);else if(Ut(e,m)){Hv(C,i);let et=e[m];et instanceof Array?p=et.map(rt=>tf(rt,C,i,O,!1)):(et=ft(et)?et:e,p=tf(et,C,i,O,!1))}else p=T(e,b,null,i)}else{d.push(m);continue}let x=ro(e,m,{preserveMissing:!0});x!==void 0&&vc(o,x,{flatten:!0}),xc([0,1,!1,!0],b)&&(p===void 0?wa(o,m,{descendArray:!0}):Sc(o,m,p))}if(bc(o),(a||l||n)&&(o=Qe({},e,o),d.length>0))for(let m of d)wa(o,m,{descendArray:!0});return o}function Hv(e,t){let i=[!1,!1];for(let[r,n]of Object.entries(e)){if(r===t?.idKey)return;n===0||n===!1?i[0]=!0:(n===1||n===!0)&&(i[1]=!0),U(!(i[0]&&i[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var rf=(e,t,i)=>{U(ot(t),"Invalid expression: $and expects value to be an Array.");let r=t.map(n=>new Xt(n,i));return n=>r.every(o=>o.test(n))};var Ea=(e,t,i)=>{U(ot(t),"Invalid expression. $or expects value to be an Array");let r=t.map(n=>new Xt(n,i));return n=>r.some(o=>o.test(n))};var nf=(e,t,i)=>{U(ot(t),"Invalid expression. $nor expects value to be an array.");let r=Ea("$or",t,i);return n=>!r(n)};var of=(e,t,i)=>{let r={};r[e]=Ec(t);let n=new Xt(r,i);return o=>!n.test(o)};var Lc=Et(Sa);var Fc=Et(Mc);var Bc=Et(Nc);var jc=Et(Gd);var zc=Et(Tc);var Uc=Et(Pc);var Vc=Et(Ac);var Kc=Et(Ic);function yS(e,t,i){return r=>T(r,t,null,i)}function _S(e,t,i){if(!i?.jsonSchemaValidator)throw new ae("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let r=i?.jsonSchemaValidator(t);return n=>r(n)}var af=Et(Mv);var sf=Et(Nv);function xS(e,t,i){U(i.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let r=t;return U(_a(r),"$where only accepts a Function object"),n=>we(r.call(n),i?.useStrictMode)}var wS=Et(Lv);var cf=Et(Xd);var lf=Et(Fv);var uf=Et($v);var df=Et(Bv);var qv=!1;function Qv(e){return qv||(qd(cr.PIPELINE,{$sort:kc,$project:ef}),qd(cr.QUERY,{$and:rf,$eq:Lc,$elemMatch:cf,$exists:uf,$gt:Fc,$gte:Bc,$in:jc,$lt:zc,$lte:Uc,$ne:Vc,$nin:Kc,$mod:af,$nor:nf,$not:of,$or:Ea,$regex:sf,$size:lf,$type:df}),qv=!0),new Xt(e)}function Ra(e,t){var i=le(e.primaryKey);t=kt(t);var r=qe(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([m,p])=>{(typeof p!="object"||p===null)&&(r.selector[m]={$eq:p})})):r.selector={},r.index){var n=ma(r.index);n.includes(i)||n.push(i),r.index=n}if(r.sort){var d=r.sort.find(m=>hg(m)===i);d||(r.sort=r.sort.slice(0),r.sort.push({[i]:"asc"}))}else if(r.index)r.sort=r.index.map(m=>({[m]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([m,p])=>{var b=!1;typeof p=="object"&&p!==null?b=!!Object.keys(p).find(x=>pc.has(x)):b=!0,b&&o.add(m)});var a=-1,l;e.indexes.forEach(m=>{var p=Er(m)?m:[m],b=p.findIndex(x=>!o.has(x));b>0&&b>a&&(a=b,l=p)}),l&&(r.sort=l.map(m=>({[m]:"asc"})))}r.sort||(r.sort=[{[i]:"asc"}])}return r}function Wc(e,t){if(!t.sort)throw P("SNH",{query:t});var i=[];t.sort.forEach(n=>{var o=Object.keys(n)[0],a=Object.values(n)[0];i.push({key:o,direction:a,getValueFn:fg(o)})});var r=(n,o)=>{for(var a=0;a<i.length;++a){var l=i[a],d=l.getValueFn(n),m=l.getValueFn(o);if(d!==m){var p=l.direction==="asc"?Nt(d,m):Nt(m,d);return p}}};return r}function lo(e,t){if(!t.sort)throw P("SNH",{query:t});var i=Qv(t.selector),r=n=>i.test(n);return r}function Nn(e,t){return z(this,null,function*(){var i=yield e.exec();if(!i)return null;if(Array.isArray(i))return Promise.all(i.map(n=>t(n)));var r=yield t(i);return r})}function CS(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(i=>Object.keys(i)[0])}var SS=new WeakMap;function ES(e){return Le(SS,e,()=>{var t=e.collection,i=Ra(t.storageInstance.schema,qe(e.mangoQuery)),r=t.schema.primaryPath,n=Wc(t.schema.jsonSchema,i),o=(m,p)=>{var b={docA:m,docB:p,rxQuery:e};return n(b.docA,b.docB)},a=lo(t.schema.jsonSchema,i),l=m=>{var p={doc:m,rxQuery:e};return a(p.doc)},d={primaryKey:e.collection.schema.primaryPath,skip:i.skip,limit:i.limit,sortFields:CS(r,i),sortComparator:o,queryMatcher:l};return d})}function Yv(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var i=ES(e),r=Dt(e._result).docsData.slice(0),n=Dt(e._result).docsDataMap,o=!1,a=t.map(d=>Lg(d)).filter(og),l=a.find(d=>{var m={queryParams:i,changeEvent:d,previousResults:r,keyDocumentMap:n},p=yv(m);if(p==="runFullQueryAgain")return!0;if(p!=="doNothing")return o=!0,_v(p,i,d,r,n),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var RS=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var n=r.toString();return Le(this._map,n,()=>r)},e}();function Xv(){return new RS}function Gv(e,t){t.uncached=!0;var i=t.toString();e._map.delete(i)}function DS(e){return e.refCount$.observers.length}var OS=100,kS=30*1e3,AS=(e,t)=>(i,r)=>{if(!(r._map.size<e)){var n=ee()-t,o=[],a=Array.from(r._map.values());for(var l of a)if(!(DS(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<n){Gv(r,l);continue}o.push(l)}var d=o.length-e;if(!(d<=0)){var m=o.sort((b,x)=>b._lastEnsureEqual-x._lastEnsureEqual),p=m.slice(0,d);p.forEach(b=>Gv(r,b))}}},hf=AS(OS,kS),ff=new WeakSet;function Zv(e){ff.has(e)||(ff.add(e),bg().then(()=>xg(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),ff.delete(e)}))}var tb=function(){function e(i,r,n){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,l=this.cacheItemByDocId.get(a);l&&(l[0].delete(o.revisionHeight),l[0].size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.primaryPath=i,this.changes$=r,this.documentCreator=n,r.subscribe(o=>{this.tasks.add(()=>{for(var a=this.cacheItemByDocId,l=0;l<o.length;l++){var d=o[l],m=a.get(d.documentId);if(m){var p=d.documentData;p||(p=d.previousDocumentData),m[1]=p}}}),this.tasks.size<=1&&to().then(()=>{this.processTasks()})})}var t=e.prototype;return t.processTasks=function(){if(this.tasks.size!==0){var r=Array.from(this.tasks);r.forEach(n=>n()),this.tasks.clear()}},t.getLatestDocumentData=function(r){this.processTasks();var n=kn(this.cacheItemByDocId,r);return n[1]},t.getLatestDocumentDataIfExists=function(r){this.processTasks();var n=this.cacheItemByDocId.get(r);if(n)return n[1]},xe(e,[{key:"getCachedRxDocuments",get:function(){var i=Jv(this);return $e(this,"getCachedRxDocuments",i)}},{key:"getCachedRxDocument",get:function(){var i=Jv(this);return $e(this,"getCachedRxDocument",r=>i([r])[0])}}])}();function Jv(e){var t=e.primaryPath,i=e.cacheItemByDocId,r=e.registry,n=Tt.deepFreezeWhenDevMode,o=e.documentCreator,a=l=>{for(var d=new Array(l.length),m=[],p=0;p<l.length;p++){var b=l[p],x=b[t],C=oi(b._rev),O=void 0,N=void 0,W=i.get(x);W?(O=W[0],N=O.get(C)):(O=new Map,W=[O,b],i.set(x,W));var et=N?N.deref():void 0;et||(b=n(b),et=o(b),O.set(C,TS(et)),r&&m.push(et)),d[p]=et}return m.length>0&&r&&(e.tasks.add(()=>{for(var rt=0;rt<m.length;rt++){var Z=m[rt];r.register(Z,{docId:Z.primary,revisionHeight:oi(Z.revision)})}}),e.tasks.size<=1&&to().then(()=>{e.processTasks()})),d};return a}function Hc(e,t){var i=e.getCachedRxDocuments;return i(t)}var IS=typeof WeakRef=="function",TS=IS?PS:MS;function PS(e){return new WeakRef(e)}function MS(e){return{deref(){return e}}}var mf=function(){function e(i,r,n){this.time=ee(),this.query=i,this.count=n,this.documents=Hc(this.query.collection._docCache,r)}var t=e.prototype;return t.getValue=function(r){var n=this.query.op;if(n==="count")return this.count;if(n==="findOne"){var o=this.documents.length===0?null:this.documents[0];if(!o&&r)throw P("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:n});return o}else return n==="findByIds"?this.docsMap:this.documents.slice(0)},xe(e,[{key:"docsData",get:function(){return $e(this,"docsData",this.documents.map(i=>i._data))}},{key:"docsDataMap",get:function(){var i=new Map;return this.documents.forEach(r=>{i.set(r.primary,r._data)}),$e(this,"docsDataMap",i)}},{key:"docsMap",get:function(){for(var i=new Map,r=this.documents,n=0;n<r.length;n++){var o=r[n];i.set(o.primary,o)}return $e(this,"docsMap",i)}}])}();var NS=0,$S=function(){return++NS},pf=function(){function e(i,r,n,o={}){this.id=$S(),this._execOverDatabaseCount=0,this._creationTime=ee(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new fe(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Rr,this.op=i,this.mangoQuery=r,this.collection=n,this.other=o,r||(this.mangoQuery=Da()),this.isFindOneByIdQuery=jS(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new mf(this,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var n=new mf(this,r,r.length);this._result=n},t._execOverDatabase=function(){return z(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=ee(),this.op==="count"){var r=this.getPreparedQuery(),n=yield this.collection.storageInstance.count(r);if(n.mode==="slow"&&!this.collection.database.allowSlowCount)throw P("QU14",{collection:this.collection,queryObj:this.mangoQuery});return n.count}if(this.op==="findByIds"){var o=Dt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,l=[];if(o.forEach(p=>{var b=this.collection._docCache.getLatestDocumentDataIfExists(p);if(b){if(!b._deleted){var x=this.collection._docCache.getCachedRxDocument(b);a.set(p,x)}}else l.push(p)}),l.length>0){var d=yield this.collection.storageInstance.findDocumentsById(l,!1);d.forEach(p=>{var b=this.collection._docCache.getCachedRxDocument(p);a.set(b.primary,b)})}return a}var m=BS(this);return m.then(p=>(this._lastExecEnd=ee(),p))})},t.exec=function(r){return z(this,null,function*(){if(r&&this.op!=="findOne")throw P("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield eb(this);var n=Dt(this._result);return n.getValue(r)})},t.toString=function(){var r=Zi({op:this.op,query:this.mangoQuery,other:this.other},!0),n=JSON.stringify(r);return this.toString=()=>n,n},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Ra(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),Gt("prePrepareQuery",r);var n=Oa(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>n,n},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(n=>n.remove())):r.remove())},t.incrementalRemove=function(){return Nn(this.asRxQuery,r=>r.incrementalRemove())},t.update=function(r){throw Rt("update")},t.patch=function(r){return Nn(this.asRxQuery,n=>n.patch(r))},t.incrementalPatch=function(r){return Nn(this.asRxQuery,n=>n.incrementalPatch(r))},t.modify=function(r){return Nn(this.asRxQuery,n=>n.modify(r))},t.incrementalModify=function(r){return Nn(this.asRxQuery,n=>n.incrementalModify(r))},t.where=function(r){throw Rt("query-builder")},t.sort=function(r){throw Rt("query-builder")},t.skip=function(r){throw Rt("query-builder")},t.limit=function(r){throw Rt("query-builder")},xe(e,[{key:"$",get:function(){if(!this._$){var i=this.collection.$.pipe(wt(r=>!r.isLocal),tr(null),qt(()=>eb(this)),mt(()=>this._result),jo(nc),Ai((r,n)=>!!(r&&r.time===Dt(n).time)),wt(r=>!!r),mt(r=>Dt(r).getValue()));this._$=Di(i,this.refCount$.pipe(wt(()=>!1)))}return this._$}},{key:"$$",get:function(){var i=this.collection.database.getReactivityFactory();return i.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var i=this.collection.schema.jsonSchema,r=Ra(this.collection.schema.jsonSchema,this.mangoQuery);return $e(this,"queryMatcher",lo(i,r))}},{key:"asRxQuery",get:function(){return this}}])}();function Da(){return{selector:{}}}function LS(e){return e.collection._queryCache.getByQuery(e)}function uo(e,t,i,r){Gt("preCreateRxQuery",{op:e,queryObj:t,collection:i,other:r});var n=new pf(e,t,i,r);return n=LS(n),Zv(i),n}function rb(e){var t=e.asRxQuery.collection._changeEventBuffer.getCounter();return e._latestChangeEvent>=t}function eb(e){return z(this,null,function*(){return e.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(e.collection.awaitBeforeReads).map(t=>t()))),e.collection.database.destroyed||rb(e)?!1:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>FS(e)),e._ensureEqualQueue)})}function FS(e){if(e._lastEnsureEqual=ee(),e.collection.database.destroyed||rb(e))return Rr;var t=!1,i=!1;if(e._latestChangeEvent===-1&&(i=!0),!i){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)i=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.getCounter();var n=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=Dt(e._result).count,a=o;n.forEach(d=>{var m=d.previousDocumentData&&e.doesDocumentDataMatch(d.previousDocumentData),p=e.doesDocumentDataMatch(d.documentData);!m&&p&&a++,m&&!p&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var l=Yv(e,n);l.runFullQueryAgain?i=!0:l.changed&&(t=!0,e._setResultData(l.newResults))}}}return i?e._execOverDatabase().then(d=>(e._latestChangeEvent=e.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!e._result||d!==e._result.count)&&(t=!0,e._setResultData(d)),t):((!e._result||!pg(e.collection.schema.primaryPath,d,e._result.docsData))&&(t=!0,e._setResultData(d)),t))):Promise.resolve(t)}function Oa(e,t){if(!t.sort)throw P("SNH",{query:t});var i=xv(e,t);return{query:t,queryPlan:i}}function BS(e){return z(this,null,function*(){var t=[],i=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(p=>{var b=e.collection._docCache.getLatestDocumentDataIfExists(p);return b?(b._deleted||t.push(b),!1):!0}),r.length>0){var n=yield i.storageInstance.findDocumentsById(r,!1);or(t,n)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var l=yield i.storageInstance.findDocumentsById([o],!1);l[0]&&(a=l[0])}a&&!a._deleted&&t.push(a)}else{var d=e.getPreparedQuery(),m=yield i.storageInstance.query(d);t=m.documents}return t})}function jS(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var i=t.selector[e];if(typeof i=="string")return i;if(Object.keys(i).length===1&&typeof i.$eq=="string"||Object.keys(i).length===1&&Array.isArray(i.$eq)&&!i.$eq.find(r=>typeof r!="string"))return i.$eq}return!1}var nb="_rxdb_internal";function vf(e,t){return z(this,null,function*(){var i=yield e.findDocumentsById([t],!1),r=i[0];if(r)return r})}function fo(e,t,i,r){if(r)throw r.status===409?P("CONFLICT",{collection:e.name,id:t,writeError:r,data:i}):r.status===422?P("VD2",{collection:e.name,id:t,writeError:r,data:i}):r}function ib(e,t,i,r,n,o,a){for(var l=!!e.schema.attachments,d=[],m=[],p=[],b=si(10),x={id:b,events:[],checkpoint:null,context:n,startTime:ee(),endTime:0},C=x.events,O=[],N=[],W=[],et=i.size>0,rt,Z=r.length,Ft=function(){var Mt=r[yt],bt=Mt.document,xt=Mt.previous,de=bt[t],lr=bt._deleted,yo=xt&&xt._deleted,Xr=void 0;et&&(Xr=i.get(de));var Pr;if(Xr){var yl=Xr._rev;if(!xt||xt&&yl!==xt._rev){var jn={isError:!0,status:409,documentId:de,writeRow:Mt,documentInDb:Xr};return p.push(jn),1}var Ue=l?gf(Mt):Mt;l&&(lr?xt&&Object.keys(xt._attachments).forEach(be=>{N.push({documentId:de,attachmentId:be,digest:Dt(xt)._attachments[be].digest})}):(Object.entries(bt._attachments).find(([be,Zt])=>{var Ge=xt?xt._attachments[be]:void 0;return!Ge&&!Zt.data&&(Pr={documentId:de,documentInDb:Xr,isError:!0,status:510,writeRow:Mt,attachmentId:be}),!0}),Pr||Object.entries(bt._attachments).forEach(([be,Zt])=>{var Ge=xt?xt._attachments[be]:void 0;if(!Ge)O.push({documentId:de,attachmentId:be,attachmentData:Zt,digest:Zt.digest});else{var Xe=Ue.document._attachments[be].digest;Zt.data&&Ge.digest!==Xe&&W.push({documentId:de,attachmentId:be,attachmentData:Zt,digest:Zt.digest})}}))),Pr?p.push(Pr):(l?(m.push(gf(Ue)),a&&a(bt)):(m.push(Ue),a&&a(bt)),rt=Ue);var Zr=null,_o=null,Jr=null;if(yo&&!lr)Jr="INSERT",Zr=l?Ar(bt):bt;else if(xt&&!yo&&!lr)Jr="UPDATE",Zr=l?Ar(bt):bt,_o=xt;else if(lr)Jr="DELETE",Zr=Dt(bt),_o=xt;else throw P("SNH",{args:{writeRow:Mt}});var xo={documentId:de,documentData:Zr,previousDocumentData:_o,operation:Jr};C.push(xo)}else{var Ua=!!lr;if(l&&Object.entries(bt._attachments).forEach(([be,Zt])=>{Zt.data?O.push({documentId:de,attachmentId:be,attachmentData:Zt,digest:Zt.digest}):(Pr={documentId:de,isError:!0,status:510,writeRow:Mt,attachmentId:be},p.push(Pr))}),Pr||(l?(d.push(gf(Mt)),o&&o(bt)):(d.push(Mt),o&&o(bt)),rt=Mt),!Ua){var Va={documentId:de,operation:"INSERT",documentData:l?Ar(bt):bt,previousDocumentData:l&&xt?Ar(xt):xt};C.push(Va)}}},yt=0;yt<Z;yt++)Ft();return{bulkInsertDocs:d,bulkUpdateDocs:m,newestRow:rt,errors:p,eventBulk:x,attachmentsAdd:O,attachmentsRemove:N,attachmentsUpdate:W}}function gf(e){return{previous:e.previous,document:Ar(e.document)}}function zS(e){return atob(e).length}function US(e){var t=e.data;if(!t)return e;var i={length:zS(t),digest:e.digest,type:e.type};return i}function Ar(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=kt(e);return t._attachments={},Object.entries(e._attachments).forEach(([i,r])=>{t._attachments[i]=US(r)}),t}function hi(e){return Object.assign({},e,{_meta:kt(e._meta)})}var ob=new WeakMap;function qc(e,t,i){Tt.deepFreezeWhenDevMode(i);var r=le(t.schema.primaryKey),n={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(o,a){for(var l=e.token,d=new Array(o.length),m=ee(),p=0;p<o.length;p++){var b=o[p],x=hi(b.document);x._meta.lwt=m;var C=b.previous;x._rev=Xi(l,C),d[p]={document:x,previous:C}}return Gt("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),e.lockedRun(()=>t.bulkWrite(d,a)).then(O=>{var N={error:[]},W=Ye(r,d,O);ob.set(N,W);var et=O.error.length===0?[]:O.error.filter(Z=>Z.status===409&&!Z.writeRow.previous&&!Z.writeRow.document._deleted&&Dt(Z.documentInDb)._deleted?!0:(N.error.push(Z),!1));if(et.length>0){var rt=et.map(Z=>({previous:Z.documentInDb,document:Object.assign({},Z.writeRow.document,{_rev:Xi(e.token,Z.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(rt,a)).then(Z=>{or(N.error,Z.error);var Ft=Ye(r,rt,Z);return or(W,Ft),N})}return N})},query(o){return e.lockedRun(()=>t.query(o))},count(o){return e.lockedRun(()=>t.count(o))},findDocumentsById(o,a){return e.lockedRun(()=>t.findDocumentsById(o,a))},getAttachmentData(o,a,l){return e.lockedRun(()=>t.getAttachmentData(o,a,l))},getChangedDocumentsSince:t.getChangedDocumentsSince?(o,a)=>e.lockedRun(()=>t.getChangedDocumentsSince(Dt(o),a)):void 0,cleanup(o){return e.lockedRun(()=>t.cleanup(o))},remove(){return e.storageInstances.delete(n),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(n),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(o){if(o.output.isEqual)return t.resolveConflictResultionTask(o);var a=Object.assign({},o.output.documentData,{_meta:En(),_rev:Kr(),_attachments:{}}),l=kt(a);return delete l._meta,delete l._rev,delete l._attachments,t.resolveConflictResultionTask({id:o.id,output:{isEqual:!1,documentData:l}})}};return e.storageInstances.add(n),n}function ab(e){if(e.schema.keyCompression)throw P("UT5",{args:{params:e}});if(VS(e.schema))throw P("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw P("UT7",{args:{params:e}})}function VS(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}function Ye(e,t,i){var r=ob.get(i);if(r)return r;var n=[];if(i.error.length>0){for(var o=new Set,a=0;a<i.error.length;a++){var l=i.error[a];o.add(l.documentId)}for(var d=0;d<t.length;d++){var m=t[d].document;o.has(m[e])||n.push(Ar(m))}}else{n.length=t.length-i.error.length;for(var p=0;p<t.length;p++){var b=t[p].document;n[p]=Ar(b)}}return n}var sb=function(){function e(i,r,n,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=i,this.primaryPath=r,this.preWrite=n,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,n){var o=r[this.primaryPath],a=Le(this.queueByDocId,o,()=>[]),l=new Promise((d,m)=>{var p={lastKnownDocumentState:r,modifier:n,resolve:d,reject:m};Dt(a).push(p),this.triggerRun()});return l},t.triggerRun=function(){return z(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],n=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(n.entries()).map(d=>z(this,[d],function*([a,l]){var m=KS(l.map(x=>x.lastKnownDocumentState)),p=m;for(var b of l)try{p=yield b.modifier(qe(p))}catch(x){b.reject(x),b.reject=()=>{},b.resolve=()=>{}}try{yield this.preWrite(p,m)}catch(x){l.forEach(C=>C.reject(x));return}r.push({previous:m,document:p})})));var o=r.length>0?yield this.storageInstance.bulkWrite(r,"incremental-write"):{error:[]};return yield Promise.all(Ye(this.primaryPath,r,o).map(a=>{var l=a[this.primaryPath];this.postWrite(a);var d=kn(n,l);d.forEach(m=>m.resolve(a))})),o.error.forEach(a=>{var l=a.documentId,d=kn(n,l),m=ac(a);if(m){var p=Le(this.queueByDocId,l,()=>[]);d.reverse().forEach(x=>{x.lastKnownDocumentState=Dt(m.documentInDb),Dt(p).unshift(x)})}else{var b=Ig(a);d.forEach(x=>x.reject(b))}}),this.isRunning=!1,this.triggerRun()}})},e}();function bf(e){var t=i=>z(this,null,function*(){var r=mg(i);r._deleted=i._deleted;var n=yield e(r),o=Object.assign({},n,{_meta:i._meta,_attachments:i._attachments,_rev:i._rev,_deleted:typeof n._deleted<"u"?n._deleted:i._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return t}function KS(e){var t=e[0],i=oi(t._rev);return e.forEach(r=>{var n=oi(r._rev);n>i&&(t=r,i=n)}),t}var $n={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(mt(t=>t._data._deleted))},get deleted$$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(wt(t=>!t.isLocal),wt(t=>t.documentId===this.primary),mt(t=>$g(t)),tr(e.collection._docCache.getLatestDocumentData(this.primary)),Ai((t,i)=>t._rev===i._rev),mt(t=>this.collection._docCache.getCachedRxDocument(t)),jo(nc))},get $$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$(e){if(Tt.isDevMode()){if(e.includes(".item."))throw P("DOC1",{path:e});if(e===this.primaryPath)throw P("DOC2");if(this.collection.schema.finalFields.includes(e))throw P("DOC3",{path:e});var t=ke(this.collection.schema.jsonSchema,e);if(!t)throw P("DOC4",{path:e})}return this.$.pipe(mt(i=>Oe(i,e)),Ai())},get$$(e){var t=this.get$(e),i=this.collection.database.getReactivityFactory();return i.fromObservable(t,this.getLatest().get(e),this.collection.database)},populate(e){var t=ke(this.collection.schema.jsonSchema,e),i=this.get(e);if(!i)return _g;if(!t)throw P("DOC5",{path:e});if(!t.ref)throw P("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw P("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(i).exec().then(n=>{var o=n.values();return Array.from(o)}):r.findOne(i).exec()},get(e){return Le(this._propertyCache,e,()=>{var t=Oe(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return Tt.deepFreezeWhenDevMode(t);var i=this,r=new Proxy(kt(t),{get(n,o){if(typeof o!="string")return n[o];var a=o.charAt(o.length-1);if(o.endsWith("$$")){var l=o.slice(0,-2);return i.get$$(ar(e+"."+l))}else if(a==="$"){var d=o.slice(0,-1);return i.get$(ar(e+"."+d))}else if(a==="_"){var m=o.slice(0,-1);return i.populate(ar(e+"."+m))}else return i.get(ar(e+"."+o))}});return r})},toJSON(e=!1){if(e)return Tt.deepFreezeWhenDevMode(this._data);var t=kt(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Tt.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return qe(this.toJSON(e))},update(e){throw Rt("update")},incrementalUpdate(e){throw Rt("update")},updateCRDT(e){throw Rt("crdt")},putAttachment(){throw Rt("attachments")},getAttachment(){throw Rt("attachments")},allAttachments(){throw Rt("attachments")},get allAttachments$(){throw Rt("attachments")},modify(e,t){return z(this,null,function*(){var i=this._data,r=yield bf(e)(i);return this._saveData(r,i)})},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,bf(e)).then(i=>this.collection._docCache.getCachedRxDocument(i))},patch(e){var t=this._data,i=qe(t);return Object.entries(e).forEach(([r,n])=>{i[r]=n}),this._saveData(i,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([i,r])=>{t[i]=r}),t))},_saveData(e,t){return z(this,null,function*(){if(e=kt(e),this._data._deleted)throw P("DOC11",{id:this.primary,document:this});yield yf(this.collection,e,t);var i=[{previous:t,document:e}],r=yield this.collection.storageInstance.bulkWrite(i,"rx-document-save-data"),n=r.error[0];return fo(this.collection,this.primary,e,n),yield this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(Ye(this.collection.schema.primaryPath,i,r)[0])})},remove(){var e=this.collection;if(this.deleted)return Promise.reject(P("DOC13",{document:this,id:this.primary}));var t=kt(this._data),i;return e._runHooks("pre","remove",t,this).then(()=>z(this,null,function*(){t._deleted=!0;var r=[{previous:this._data,document:t}],n=yield e.storageInstance.bulkWrite(r,"rx-document-remove"),o=n.error[0];return fo(e,this.primary,t,o),Ye(this.collection.schema.primaryPath,r,n)[0]})).then(r=>(i=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(i))},incrementalRemove(){return this.incrementalModify(e=>z(this,null,function*(){return yield this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e})).then(e=>z(this,null,function*(){return yield this.collection._runHooks("post","remove",e._data,e),e}))},destroy(){throw P("DOC14")}};function Qc(e=$n){var t=function(r,n){this.collection=r,this._data=n,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function cb(e,t,i){var r=new e(t,i);return Gt("createRxDocument",r),r}function yf(e,t,i){return t._meta=Object.assign({},i._meta,t._meta),Tt.isDevMode()&&e.schema.validateChange(i,t),e._runHooks("pre","save",t,i)}var ho="collection",_f="storage-token",WS="rx-migration-status",HS="RxInternalDocument",Yc=cc({version:0,title:HS,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[ho,_f,WS,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Gc(e,t){return ga(Yc,{key:e,context:t})}function Xc(e){return z(this,null,function*(){var t=Oa(e.schema,{selector:{context:ho,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),i=yield e.query(t),r=i.documents;return r})}var lb="storageToken",qS=Gc(lb,_f);function ub(e){return z(this,null,function*(){var t=si(10),i=e.password?yield e.hashFunction(JSON.stringify(e.password)):void 0,r={id:qS,context:_f,key:lb,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:i},_deleted:!1,_meta:En(),_rev:Kr(),_attachments:{}},n=[{document:r}],o=yield e.internalStore.bulkWrite(n,"internal-add-storage-token");if(!o.error[0])return Ye("id",n,o)[0];var a=Dt(o.error[0]);if(a.isError&&ac(a)){var l=a;if(!QS(l.documentInDb.data.rxdbVersion,e.rxdbVersion))throw P("DM5",{args:{database:e.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(i&&i!==l.documentInDb.data.passwordHash)throw P("DB1",{passwordHash:i,existingPasswordHash:l.documentInDb.data.passwordHash});var d=l.documentInDb;return Dt(d)}throw a})}function QS(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var i=e.split(".")[0],r=t.split(".")[0];return i===r}function xf(e,t){return e+"-"+t.version}function ka(e,t){return t=kt(t),t=Pg(e,t),typeof e.jsonSchema.primaryKey!="string"&&(t=sc(e.primaryPath,e.jsonSchema,t)),t._meta=En(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=Kr()),t}function db(e,t){return z(this,null,function*(){t.multiInstance=e.multiInstance;var i=yield e.storage.createStorageInstance(t);return i})}function Zc(e,t,i,r,n,o,a){return z(this,null,function*(){var l=yield Xc(t),d=l.filter(x=>x.data.name===n),m=[];d.forEach(x=>{m.push({collectionName:x.data.name,schema:x.data.schema,isCollection:!0}),x.data.connectedStorages.forEach(C=>m.push({collectionName:C.collectionName,isCollection:!1,schema:C.schema}))});var p=new Set;if(m=m.filter(x=>{var C=x.collectionName+"||"+x.schema.version;return p.has(C)?!1:(p.add(C),!0)}),yield Promise.all(m.map(x=>z(this,null,function*(){var C=yield e.createStorageInstance({collectionName:x.collectionName,databaseInstanceToken:i,databaseName:r,multiInstance:!1,options:{},schema:x.schema,password:o,devMode:Tt.isDevMode()});yield C.remove(),x.isCollection&&(yield Tn("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:n}))}))),a){var b=d.map(x=>{var C=hi(x);return C._deleted=!0,C._meta.lwt=ee(),C._rev=Xi(i,x),{previous:x,document:C}});yield t.bulkWrite(b,"rx-database-remove-collection-all")}})}function ze(e){if(e.destroyed)throw P("COL21",{collection:e.name,version:e.schema.version})}var YS=function(){function e(i){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=i,this.subs.push(this.collection.database.eventBulks$.pipe(wt(r=>r.collectionName===this.collection.name),wt(r=>{var n=r.events[0];return!n.isLocal})).subscribe(r=>{this.tasks.add(()=>this._handleChangeEvents(r.events)),this.tasks.size<=1&&to().then(()=>{this.processTasks()})}))}var t=e.prototype;return t.processTasks=function(){if(this.tasks.size!==0){var r=Array.from(this.tasks);r.forEach(n=>n()),this.tasks.clear()}},t._handleChangeEvents=function(r){var n=this.counter;this.counter=this.counter+r.length,r.length>this.limit?this.buffer=r.slice(r.length*-1):(or(this.buffer,r),this.buffer=this.buffer.slice(this.limit*-1));for(var o=n+1,a=this.eventCounterMap,l=0;l<r.length;l++){var d=r[l];a.set(d,o+l)}},t.getCounter=function(){return this.processTasks(),this.counter},t.getBuffer=function(){return this.processTasks(),this.buffer},t.getArrayIndexByPointer=function(r){this.processTasks();var n=this.buffer[0],o=this.eventCounterMap.get(n);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){this.processTasks();var n=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)n.push(a);else return n}},t.runFrom=function(r,n){this.processTasks();var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>n(a))},t.reduceByLastOfDoc=function(r){return this.processTasks(),r.slice(0);var n={};return r.forEach(o=>{n[o.documentId]=o}),Object.values(n)},t.destroy=function(){this.tasks.clear(),this.subs.forEach(r=>r.unsubscribe())},e}();function fb(e){return new YS(e)}var GS=new WeakMap;function XS(e){var t=e.schema.getDocumentPrototype(),i=ZS(e),r=$n,n={};return[t,i,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(l=>{var d=Object.getOwnPropertyDescriptor(o,l),m=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(m=!1),typeof d.value=="function"?Object.defineProperty(n,l,{get(){return d.value.bind(this)},enumerable:m,configurable:!1}):(d.enumerable=m,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(n,l,d))})}),n}function hb(e){return Le(GS,e,()=>Qc(XS(e)))}function mb(e,t,i){var r=cb(t,e,Tt.deepFreezeWhenDevMode(i));return e._runHooksSync("post","create",i,r),Gt("postCreateRxDocument",r),r}function ZS(e){var t={};return Object.entries(e.methods).forEach(([i,r])=>{t[i]=r}),t}var wf=function(e,t){var i=Ar(e.newDocumentState),r=Ar(e.realMasterState);return On(i,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};function Jc(e){var t=e.collection.schema.jsonSchema;if(!t.attachments)throw P("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function pb(e){Object.entries(e.doc.collection.attachments).forEach(([t,i])=>{Object.defineProperty(e,t,{get:()=>i.bind(e)})})}var JS=function(){function e({doc:i,id:r,type:n,length:o,digest:a}){this.doc=i,this.id=r,this.type=n,this.length=o,this.digest=a,pb(this)}var t=e.prototype;return t.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,r=>(delete r._attachments[this.id],r)).then(()=>{})},t.getData=function(){return z(this,null,function*(){var r=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),n=yield cg(r,this.type);return n})},t.getStringData=function(){return z(this,null,function*(){var r=yield this.getData(),n=yield lg(r);return n})},e}();function tl(e,t,i){return new JS({doc:i,id:e,type:t.type,length:t.length,digest:t.digest})}function tE(e){return z(this,null,function*(){Jc(this);var t=dg(e.data),i=yield ug(e.data),r=yield this.collection.database.hashFunction(i),n=e.id,o=e.type,a=i;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=kt(l),l._attachments=kt(l._attachments),l._attachments[n]={length:t,type:o,data:a,digest:r},l)).then(l=>{var d=this.collection._docCache.getCachedRxDocument(l),m=l._attachments[n],p=tl(n,m,d);return p})})}function eE(e){Jc(this);var t=this._data;if(!t._attachments||!t._attachments[e])return null;var i=t._attachments[e],r=tl(e,i,this);return r}function rE(){Jc(this);var e=this._data;return e._attachments?Object.keys(e._attachments).map(t=>tl(t,e._attachments[t],this)):[]}function nE(e){return z(this,null,function*(){var t=e.docData._attachments;if(t){var i={};yield Promise.all(Object.keys(t).map(r=>z(this,null,function*(){var n=t[r],o=e.docData[e.oldCollection.schema.primaryPath],a=yield e.oldCollection.storageInstance.getAttachmentData(o,r,n.digest),l=yield e.oldCollection.database.hashFunction(a);i[r]={length:n.length,type:n.type,data:a,digest:l}}))),e.docData._attachments=i}})}function iE(e){return Dn}var gb={name:"attachments",rxdb:!0,prototypes:{RxDocument:e=>{e.putAttachment=tE,e.getAttachment=eE,e.allAttachments=rE,Object.defineProperty(e,"allAttachments$",{get:function(){return this.$.pipe(mt(i=>Object.entries(i.toJSON(!0)._attachments)),mt(i=>i.map(([r,n])=>tl(r,n,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:nE},postMigrateDocument:{after:iE}}};var bb=["pre","post"],yb=["insert","save","remove","create"],vb=!1,Aa=function(){function e(i,r,n,o,a={},l={},d={},m={},p={},b=hf,x={},C=wf){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Xv(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=i,this.name=r,this.schema=n,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=l,this.methods=d,this.attachments=m,this.options=p,this.cacheReplacementPolicy=b,this.statics=x,this.conflictHandler=C,oE(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){return z(this,null,function*(){this.storageInstance=qc(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new sb(this.storageInstance,this.schema.primaryPath,(d,m)=>yf(this,d,m),d=>this._runHooks("post","save",d));var r=this.database.eventBulks$.pipe(wt(d=>d.collectionName===this.name));this.$=r.pipe(qt(d=>d.events)),this.checkpoint$=r.pipe(mt(d=>d.checkpoint)),this._changeEventBuffer=fb(this.asRxCollection);var n;this._docCache=new tb(this.schema.primaryPath,this.database.eventBulks$.pipe(wt(d=>d.collectionName===this.name&&!d.events[0].isLocal),mt(d=>d.events)),d=>(n||(n=hb(this.asRxCollection)),mb(this.asRxCollection,n,d)));var o=this.database.internalStore.changeStream().pipe(wt(d=>{var m=this.name+"-"+this.schema.version,p=d.events.find(b=>b.documentData.context==="collection"&&b.documentData.key===m&&b.operation==="DELETE");return!!p})).subscribe(()=>z(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(o);var a=yield this.database.storageToken,l=this.storageInstance.changeStream().subscribe(d=>{for(var m=new Array(d.events.length),p=d.events,b=this.name,x=Tt.deepFreezeWhenDevMode,C=0;C<p.length;C++){var O=p[C];m[C]={documentId:O.documentId,collectionName:b,isLocal:!1,operation:O.operation,documentData:x(O.documentData),previousDocumentData:x(O.previousDocumentData)}}var N={id:d.id,internal:!1,collectionName:this.name,storageToken:a,events:m,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit(N)});return this._subs.push(l),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(m=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:m})})})),Dn})},t.cleanup=function(r){throw ze(this),Rt("cleanup")},t.migrationNeeded=function(){throw Rt("migration-schema")},t.getMigrationState=function(){throw Rt("migration-schema")},t.startMigration=function(r=10){return ze(this),this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=function(r){return z(this,null,function*(){ze(this);var n=yield this.bulkInsert([r]),o=n.error[0];fo(this,r[this.schema.primaryPath],r,o);var a=Dt(n.success[0]);return a})},t.bulkInsert=function(r){return z(this,null,function*(){if(ze(this),r.length===0)return{success:[],error:[]};var n=this.schema.primaryPath,o;if(this.hasHooks("pre","insert"))o=yield Promise.all(r.map(N=>{var W=ka(this.schema,N);return this._runHooks("pre","insert",W).then(()=>({document:W}))}));else{o=new Array(r.length);for(var a=this.schema,l=0;l<r.length;l++){var d=r[l],m=ka(a,d);o[l]={document:m}}}var p=yield this.storageInstance.bulkWrite(o,"rx-collection-bulk-insert"),b,x=this,C={get success(){if(!b){var N=Ye(x.schema.primaryPath,o,p);b=Hc(x._docCache,N)}return b},error:p.error};if(this.hasHooks("post","insert")){var O=new Map;o.forEach(N=>{var W=N.document;O.set(W[n],W)}),yield Promise.all(C.success.map(N=>this._runHooks("post","insert",O.get(N.primary),N)))}return C})},t.bulkRemove=function(r){return z(this,null,function*(){ze(this);var n=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var o=yield this.findByIds(r).exec(),a=[],l=new Map;Array.from(o.values()).forEach(C=>{var O=C.toMutableJSON(!0);a.push(O),l.set(C.primary,O)}),yield Promise.all(a.map(C=>{var O=C[this.schema.primaryPath];return this._runHooks("pre","remove",C,o.get(O))}));var d=a.map(C=>{var O=kt(C);return O._deleted=!0,{previous:C,document:O}}),m=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),p=Ye(this.schema.primaryPath,d,m),b=p.map(C=>C[n]);yield Promise.all(b.map(C=>this._runHooks("post","remove",l.get(C),o.get(C))));var x=b.map(C=>kn(o,C));return{success:x,error:m.error}})},t.bulkUpsert=function(r){return z(this,null,function*(){ze(this);var n=[],o=new Map;r.forEach(m=>{var p=ka(this.schema,m),b=p[this.schema.primaryPath];if(!b)throw P("COL3",{primaryPath:this.schema.primaryPath,data:p,schema:this.schema.jsonSchema});o.set(b,p),n.push(p)});var a=yield this.bulkInsert(n),l=a.success.slice(0),d=[];return yield Promise.all(a.error.map(m=>z(this,null,function*(){if(m.status!==409)d.push(m);else{var p=m.documentId,b=kn(o,p),x=Dt(m.documentInDb),C=this._docCache.getCachedRxDocuments([x])[0],O=yield C.incrementalModify(()=>b);l.push(O)}}))),{error:d,success:l}})},t.upsert=function(r){return z(this,null,function*(){ze(this);var n=yield this.bulkUpsert([r]);return fo(this.asRxCollection,r[this.schema.primaryPath],r,n.error[0]),n.success[0]})},t.incrementalUpsert=function(r){ze(this);var n=ka(this.schema,r),o=n[this.schema.primaryPath];if(!o)throw P("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=Dn),a=a.then(()=>sE(this,o,n)).then(l=>l.inserted?l.doc:aE(l.doc,n)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(ze(this),typeof r=="string")throw P("COL5",{queryObj:r});r||(r=Da());var n=uo("find",r,this);return n},t.findOne=function(r){if(ze(this),typeof r=="number"||Array.isArray(r))throw oe("COL6",{queryObj:r});var n;if(typeof r=="string")n=uo("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=Da()),r.limit)throw P("QU6");r=kt(r),r.limit=1,n=uo("findOne",r,this)}return n},t.count=function(r){ze(this),r||(r=Da());var n=uo("count",r,this);return n},t.findByIds=function(r){ze(this);var n={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=uo("findByIds",n,this);return o},t.exportJSON=function(){throw Rt("json-dump")},t.importJSON=function(r){throw Rt("json-dump")},t.insertCRDT=function(r){throw Rt("crdt")},t.addPipeline=function(r){throw Rt("pipeline")},t.addHook=function(r,n,o,a=!1){if(typeof o!="function")throw oe("COL7",{key:n,when:r});if(!bb.includes(r))throw oe("COL8",{key:n,when:r});if(!yb.includes(n))throw P("COL9",{key:n});if(r==="post"&&n==="create"&&a===!0)throw P("COL10",{when:r,key:n,parallel:a});var l=o.bind(this),d=a?"parallel":"series";this.hooks[n]=this.hooks[n]||{},this.hooks[n][r]=this.hooks[n][r]||{series:[],parallel:[]},this.hooks[n][r][d].push(l)},t.getHooks=function(r,n){return!this.hooks[n]||!this.hooks[n][r]?{series:[],parallel:[]}:this.hooks[n][r]},t.hasHooks=function(r,n){if(!this.hooks[n]||!this.hooks[n][r])return!1;var o=this.getHooks(r,n);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,n,o,a){var l=this.getHooks(r,n);if(!l)return Dn;var d=l.series.map(m=>()=>m(o,a));return wg(d).then(()=>Promise.all(l.parallel.map(m=>m(o,a))))},t._runHooksSync=function(r,n,o,a){if(this.hasHooks(r,n)){var l=this.getHooks(r,n);l&&l.series.forEach(d=>d(o,a))}},t.promiseWait=function(r){var n=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return n},t.destroy=function(){return z(this,null,function*(){return this.destroyed?Rr:(yield Promise.all(this.onDestroy.map(r=>r())),this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],Tn("postDestroyRxCollection",this).then(()=>!0))))})},t.remove=function(){return z(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(r=>r())),yield Zc(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},xe(e,[{key:"insert$",get:function(){return this.$.pipe(wt(i=>i.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(wt(i=>i.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(wt(i=>i.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function oE(e){if(!vb){vb=!0;var t=Object.getPrototypeOf(e);yb.forEach(i=>{bb.map(r=>{var n=r+rc(i);t[n]=function(o,a){return this.addHook(r,i,o,a)}})})}}function aE(e,t){return e.incrementalModify(i=>t)}function sE(e,t,i){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocuments([r])[0],inserted:!1}):e.findOne(t).exec().then(n=>n?{doc:n,inserted:!1}:e.insert(i).then(o=>({doc:o,inserted:!0})))}function _b({database:e,name:t,schema:i,instanceCreationOptions:r={},migrationStrategies:n={},autoMigrate:o=!0,statics:a={},methods:l={},attachments:d={},options:m={},localDocuments:p=!1,cacheReplacementPolicy:b=hf,conflictHandler:x=wf}){var C={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:i.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:Tt.isDevMode()};return Gt("preCreateRxStorageInstance",C),db(e,C).then(O=>{var N=new Aa(e,t,i,O,r,n,l,d,m,b,a,x);return N.prepare().then(()=>{Object.entries(a).forEach(([et,rt])=>{Object.defineProperty(N,et,{get:()=>rt.bind(N)})});var W=Dn;return o&&N.schema.version!==0&&(W=N.migratePromise()),W}).then(()=>(Gt("createRxCollection",{collection:N,creator:{name:t,schema:i,storageInstance:O,instanceCreationOptions:r,migrationStrategies:n,methods:l,attachments:d,options:m,cacheReplacementPolicy:b,localDocuments:p,statics:a}}),N)).catch(W=>O.close().then(()=>Promise.reject(W)))})}var Ef=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Ef.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Sf(this)},wrapCall:function(t){var i=this;this.lock();var r;try{r=t()}catch(n){throw this.unlock(),n}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(n){return i.unlock(),n}).catch(function(n){throw i.unlock(),n})},requestIdlePromise:function(t){var i=this;t=t||{};var r,n=new Promise(function(l){return r=l}),o=function(){Cf(i,n),r()};if(n._manRes=o,t.timeout){var a=setTimeout(function(){n._manRes()},t.timeout);n._timeoutObj=a}return this._iC.add(n),Sf(this),n},cancelIdlePromise:function(t){Cf(this,t)},requestIdleCallback:function(t,i){var r=this._lHN++,n=this.requestIdlePromise(i);return this._hPM.set(r,n),this._pHM.set(n,r),n.then(function(){return t()}),r},cancelIdleCallback:function(t){var i=this._hPM.get(t);this.cancelIdlePromise(i)},clear:function(){var t=this;this._iC.forEach(function(i){return Cf(t,i)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function cE(e){if(e._iC.size!==0){var t=e._iC.values(),i=t.next().value;i._manRes(),setTimeout(function(){return Sf(e)},0)}}function Cf(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var i=e._pHM.get(t);e._hPM.delete(i),e._pHM.delete(t)}e._iC.delete(t)}}function Sf(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}cE(e),e._tryIR=!1},0)},0))}var Ln=class{ttl;map=new Map;_to=!1;constructor(t){this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,xb()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,lE(this)},0))}clear(){this.map.clear()}};function lE(e){let t=xb()-e.ttl,i=e.map[Symbol.iterator]();for(;;){let r=i.next().value;if(!r)return;let n=r[0];if(r[1]<t)e.map.delete(n);else return}}function xb(){return Date.now()}var el=new Set,wb=0,Ia=function(){function e(i,r,n,o,a,l,d=!1,m={},p,b,x,C,O){this.idleQueue=new Ef,this.rxdbVersion=ci,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new lt,this.observable$=this.eventBulks$.pipe(qt(N=>N.events)),this.storageToken=Rr,this.storageTokenDocument=Rr,this.emittedEventBulkIds=new Ln(60*1e3),this.name=i,this.token=r,this.storage=n,this.instanceCreationOptions=o,this.password=a,this.multiInstance=l,this.eventReduce=d,this.options=m,this.internalStore=p,this.hashFunction=b,this.cleanupPolicy=x,this.allowSlowCount=C,this.reactivity=O,wb++,this.name!=="pseudoInstance"&&(this.internalStore=qc(this.asRxDatabase,p,Yc),this.storageTokenDocument=ub(this.asRxDatabase).catch(N=>this.startupErrors.push(N)),this.storageToken=this.storageTokenDocument.then(N=>N.data.token).catch(N=>this.startupErrors.push(N)))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw P("DB14",{database:this.name});return this.reactivity},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=function(r,n){return z(this,null,function*(){var o=yield vf(this.internalStore,Gc(xf(r,n),ho));if(!o)throw P("SNH",{name:r,schema:n});var a=hi(o);a._deleted=!0,yield this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")})},t.addCollections=function(r){return z(this,null,function*(){var n={},o={},a=[],l={};yield Promise.all(Object.entries(r).map(x=>z(this,[x],function*([p,b]){var C=p,O=b.schema;n[C]=O;var N=Ng(O,this.hashFunction);if(o[C]=N,this.collections[p])throw P("DB3",{name:p});var W=xf(p,O),et={id:Gc(W,ho),key:W,context:ho,data:{name:C,schemaHash:yield N.hash,schema:N.jsonSchema,version:N.version,connectedStorages:[]},_deleted:!1,_meta:En(),_rev:Kr(),_attachments:{}};a.push({document:et});var rt=Object.assign({},b,{name:C,schema:N,database:this}),Z=kt(b);Z.database=this,Z.name=p,Gt("preCreateRxCollection",Z),rt.conflictHandler=Z.conflictHandler,l[C]=rt})));var d=yield this.internalStore.bulkWrite(a,"rx-database-add-collection");yield fE(this),yield Promise.all(d.error.map(p=>z(this,null,function*(){if(p.status!==409)throw P("DB12",{database:this.name,writeError:p});var b=Dt(p.documentInDb),x=b.data.name,C=o[x];if(b.data.schemaHash!==(yield C.hash))throw P("DB6",{database:this.name,collection:x,previousSchemaHash:b.data.schemaHash,schemaHash:yield C.hash,previousSchema:b.data.schema,schema:Dt(n[x])})})));var m={};return yield Promise.all(Object.keys(r).map(p=>z(this,null,function*(){var b=l[p],x=yield _b(b);m[p]=x,this.collections[p]=x,this[p]||Object.defineProperty(this,p,{get:()=>this.collections[p]})}))),m})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw Rt("json-dump")},t.addState=function(r){throw Rt("state")},t.importJSON=function(r){throw Rt("json-dump")},t.backup=function(r){throw Rt("backup")},t.leaderElector=function(){throw Rt("leader-election")},t.isLeader=function(){throw Rt("leader-election")},t.waitForLeadership=function(){throw Rt("leader-election")},t.migrationStates=function(){throw Rt("migration-schema")},t.destroy=function(){return z(this,null,function*(){return this.destroyed?Rr:(this.destroyed=!0,yield Tn("preDestroyRxDatabase",this),this.eventBulks$.complete(),wb--,this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance"?Rr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>el.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},t.remove=function(){return this.destroy().then(()=>dE(this.name,this.storage,this.password))},xe(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function uE(e,t){var i=t.name+"|"+e;if(el.has(i))throw P("DB8",{name:e,storage:t.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function Cb(e,t,i,r,n,o){return z(this,null,function*(){var a=yield t.createStorageInstance({databaseInstanceToken:e,databaseName:i,collectionName:nb,schema:Yc,options:r,multiInstance:n,password:o,devMode:Tt.isDevMode()});return a})}function Sb({storage:e,instanceCreationOptions:t,name:i,password:r,multiInstance:n=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:l={},cleanupPolicy:d,allowSlowCount:m=!1,localDocuments:p=!1,hashFunction:b=Ji,reactivity:x}){Gt("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:i,password:r,multiInstance:n,eventReduce:o,ignoreDuplicate:a,options:l,localDocuments:p}),a||uE(i,e),el.add(e.name+"|"+i);var C=si(10);return Cb(C,e,i,t,n,r).catch(O=>{throw el.delete(e.name+"|"+i),O}).then(O=>{var N=new Ia(i,C,e,t,r,n,o,l,O,b,d,m,x);return Tn("createRxDatabase",{database:N,creator:{storage:e,instanceCreationOptions:t,name:i,password:r,multiInstance:n,eventReduce:o,ignoreDuplicate:a,options:l,localDocuments:p}}).then(()=>N)})}function dE(e,t,i){return z(this,null,function*(){var r=si(10),n=yield Cb(r,t,e,{},!1,i),o=yield Xc(n),a=new Set;o.forEach(d=>a.add(d.data.name));var l=Array.from(a);return yield Promise.all(l.map(d=>Zc(t,n,r,e,d,i))),yield Tn("postRemoveRxDatabase",{databaseName:e,storage:t}),yield n.remove(),l})}function fE(e){return z(this,null,function*(){if(yield e.storageToken,e.startupErrors[0])throw e.startupErrors[0]})}var hE={RxSchema:Ad.prototype,RxDocument:$n,RxQuery:pf.prototype,RxCollection:Aa.prototype,RxDatabase:Ia.prototype},Rf=new Set,Eb=new Set;function rl(e){if(Gt("preAddRxPlugin",{plugin:e,plugins:Rf}),!Rf.has(e)){{if(Eb.has(e.name))throw P("PL3",{name:e.name,plugin:e});Rf.add(e),Eb.add(e.name)}if(!e.rxdb)throw oe("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,i])=>i(hE[t])),e.overwritable&&Object.assign(Tt,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,i])=>{i.after&&eo[t].push(i.after),i.before&&eo[t].unshift(i.before)})}}function Rb(e){return e&&typeof e.then=="function"}var mE=Promise.resolve(!1),sq=Promise.resolve(!0),Ir=Promise.resolve();function nl(e,t){return e||(e=0),new Promise(function(i){return setTimeout(function(){return i(t)},e)})}function Db(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Ta(){return Math.random().toString(36).substring(2)}var Df=0;function Qr(){var e=Date.now()*1e3;return e<=Df&&(e=Df+1),Df=e,e}var pE=Qr,gE="native";function vE(e){var t={time:Qr(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(i){t.messagesCallback&&t.messagesCallback(i.data)},t}function bE(e){e.bc.close(),e.subFns=[]}function yE(e,t){try{return e.bc.postMessage(t,!1),Ir}catch(i){return Promise.reject(i)}}function _E(e,t){e.messagesCallback=t}function xE(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function wE(){return 150}var Ob={create:vE,close:bE,onMessage:_E,postMessage:yE,canBeUsed:xE,type:gE,averageResponseTime:wE,microSeconds:pE};function mo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var CE=Qr,SE="pubkey.broadcast-channel-0-",Yr="messages",il={durability:"relaxed"},EE="idb";function kb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Of(e){e.commit&&e.commit()}function RE(e){var t=kb(),i=SE+e,r=t.open(i);return r.onupgradeneeded=function(n){var o=n.target.result;o.createObjectStore(Yr,{keyPath:"id",autoIncrement:!0})},new Promise(function(n,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){n(r.result)}})}function DE(e,t,i){var r=Date.now(),n={uuid:t,time:r,data:i},o=e.transaction([Yr],"readwrite",il);return new Promise(function(a,l){o.oncomplete=function(){return a()},o.onerror=function(m){return l(m)};var d=o.objectStore(Yr);d.add(n),Of(o)})}function OE(e,t){var i=e.transaction(Yr,"readonly",il),r=i.objectStore(Yr),n=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(d,m){a.onerror=function(p){return m(p)},a.onsuccess=function(p){d(p.target.result)}})}function l(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(d,m){var p=l();p.onerror=function(b){return m(b)},p.onsuccess=function(b){var x=b.target.result;x?x.value.id<t+1?x.continue(t+1):(n.push(x.value),x.continue()):(Of(i),d(n))}})}function kE(e,t){if(e.closed)return Promise.resolve([]);var i=e.db.transaction(Yr,"readwrite",il),r=i.objectStore(Yr);return Promise.all(t.map(function(n){var o=r.delete(n);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function AE(e,t){var i=Date.now()-t,r=e.transaction(Yr,"readonly",il),n=r.objectStore(Yr),o=[];return new Promise(function(a){n.openCursor().onsuccess=function(l){var d=l.target.result;if(d){var m=d.value;m.time<i?(o.push(m),d.continue()):(Of(r),a(o))}else a(o)}})}function IE(e){return AE(e.db,e.options.idb.ttl).then(function(t){return kE(e,t.map(function(i){return i.id}))})}function TE(e,t){return t=mo(t),RE(e).then(function(i){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Ta(),eMIs:new Ln(t.idb.ttl*2),writeBlockPromise:Ir,messagesCallback:null,readQueuePromises:[],db:i};return i.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Ab(r),r})}function Ab(e){e.closed||Ib(e).then(function(){return nl(e.options.idb.fallbackInterval)}).then(function(){return Ab(e)})}function PE(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Ib(e){return e.closed?Ir:e.messagesCallback?OE(e.db,e.lastCursorId).then(function(t){var i=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return PE(r,e)}).sort(function(r,n){return r.time-n.time});return i.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Ir}):Ir}function ME(e){e.closed=!0,e.db.close()}function NE(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return DE(e.db,e.uuid,t)}).then(function(){Db(0,10)===0&&IE(e)}),e.writeBlockPromise}function $E(e,t,i){e.messagesCallbackTime=i,e.messagesCallback=t,Ib(e)}function LE(){return!!kb()}function FE(e){return e.idb.fallbackInterval*2}var Tb={create:TE,close:ME,onMessage:$E,postMessage:NE,canBeUsed:LE,type:EE,averageResponseTime:FE,microSeconds:CE};var BE=Qr,jE="pubkey.broadcastChannel-",zE="localstorage";function Pb(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Mb(e){return jE+e}function UE(e,t){return new Promise(function(i){nl().then(function(){var r=Mb(e.channelName),n={token:Ta(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(n);Pb().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),i()})})}function VE(e,t){var i=Mb(e),r=function(o){o.key===i&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function KE(e){window.removeEventListener("storage",e)}function WE(e,t){if(t=mo(t),!Nb())throw new Error("BroadcastChannel: localstorage cannot be used");var i=Ta(),r=new Ln(t.localstorage.removeTimeout),n={channelName:e,uuid:i,eMIs:r};return n.listener=VE(e,function(o){n.messagesCallback&&o.uuid!==i&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<n.messagesCallbackTime||(r.add(o.token),n.messagesCallback(o.data)))}),n}function HE(e){KE(e.listener)}function qE(e,t,i){e.messagesCallbackTime=i,e.messagesCallback=t}function Nb(){var e=Pb();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function QE(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var $b={create:WE,close:HE,onMessage:qE,postMessage:UE,canBeUsed:Nb,type:zE,averageResponseTime:QE,microSeconds:BE};var Lb=Qr,YE="simulate",kf=new Set;function GE(e){var t={time:Lb(),name:e,messagesCallback:null};return kf.add(t),t}function XE(e){kf.delete(e)}var Fb=5;function ZE(e,t){return new Promise(function(i){return setTimeout(function(){var r=Array.from(kf);r.forEach(function(n){n.name===e.name&&n!==e&&n.messagesCallback&&n.time<t.time&&n.messagesCallback(t)}),i()},Fb)})}function JE(e,t){e.messagesCallback=t}function tR(){return!0}function eR(){return Fb}var Bb={create:GE,close:XE,onMessage:JE,postMessage:ZE,canBeUsed:tR,type:YE,averageResponseTime:eR,microSeconds:Lb};var jb=[Ob,Tb,$b];function zb(e){var t=[].concat(e.methods,jb).filter(Boolean);if(e.type){if(e.type==="simulate")return Bb;var i=t.find(function(n){return n.type===e.type});if(i)return i;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(n){return n.type!=="idb"}));var r=t.find(function(n){return n.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(jb.map(function(n){return n.type})))}var Af=new Set,rR=0,Pa=function(t,i){this.id=rR++,Af.add(this),this.name=t,Ub&&(i=Ub),this.options=mo(i),this.method=zb(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,nR(this)};Pa._pubkey=!0;var Ub;Pa.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Vb(this,"message",t)},postInternal:function(t){return Vb(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),i={time:t,fn:e};Wb(this,"message",this._onML),e&&typeof e=="function"?(this._onML=i,Kb(this,"message",i)):this._onML=null},addEventListener:function(t,i){var r=this.method.microSeconds(),n={time:r,fn:i};Kb(this,t,n)},removeEventListener:function(t,i){var r=this._addEL[t].find(function(n){return n.fn===i});Wb(this,t,r)},close:function(){var t=this;if(!this.closed){Af.delete(this),this.closed=!0;var i=this._prepP?this._prepP:Ir;return this._onML=null,this._addEL.message=[],i.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Vb(e,t,i){var r=e.method.microSeconds(),n={time:r,type:t,data:i},o=e._prepP?e._prepP:Ir;return o.then(function(){var a=e.method.postMessage(e._state,n);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function nR(e){var t=e.method.create(e.name,e.options);Rb(t)?(e._prepP=t,t.then(function(i){e._state=i})):e._state=t}function Hb(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Kb(e,t,i){e._addEL[t].push(i),iR(e)}function Wb(e,t,i){e._addEL[t]=e._addEL[t].filter(function(r){return r!==i}),oR(e)}function iR(e){if(!e._iL&&Hb(e)){var t=function(n){e._addEL[n.type].forEach(function(o){n.time>=o.time&&o.fn(n.data)})},i=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,i)}):(e._iL=!0,e.method.onMessage(e._state,t,i))}}function oR(e){if(e._iL&&!Hb(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var ol=new Map;function aR(e,t,i,r){var n=ol.get(t);return n||(n={bc:new Pa(["RxDB:",e,i].join("|")),refs:new Set},ol.set(t,n)),n.refs.add(r),n.bc}function qb(e,t){var i=ol.get(e);if(i&&(i.refs.delete(t),i.refs.size===0))return ol.delete(e),i.bc.close()}function Qb(e,t,i,r){if(t.multiInstance){var n=r||aR(e,t.databaseInstanceToken,i.databaseName,i),o=new lt,a=x=>{x.storageName===e&&x.databaseName===t.databaseName&&x.collectionName===t.collectionName&&x.version===t.schema.version&&o.next(x.eventBulk)};n.addEventListener("message",a);var l=i.changeStream(),d=!1,m=l.subscribe(x=>{d||n.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:x})});i.changeStream=function(){return o.asObservable().pipe(am(l))};var p=i.close.bind(i);i.close=function(){return z(this,null,function*(){return d=!0,m.unsubscribe(),n.removeEventListener("message",a),r||(yield qb(t.databaseInstanceToken,i)),p()})};var b=i.remove.bind(i);i.remove=function(){return z(this,null,function*(){return d=!0,m.unsubscribe(),n.removeEventListener("message",a),r||(yield qb(t.databaseInstanceToken,i)),b()})}}}var If={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var Tf;function Yb(){if(!Tf){var e=new Aa,t=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Tf=[...t,...i]}return Tf}var Pf;function Gb(){if(!Pf){var e=new Ia("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Pf=[...t,...i],e.destroy()}return Pf}var sR=Qc($n),cR=new sR,Mf;function al(){if(!Mf){var e=["deleted","synced"],t=Object.getOwnPropertyNames(cR),i=Object.getOwnPropertyNames($n);Mf=[...t,...i,...e]}return Mf}function lR(e){if(e!=="_deleted"){if(["properties"].includes(e))throw P("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",i=new RegExp(t);if(e!=="_id"&&!e.match(i))throw P("SC1",{regex:t,fieldName:e})}}function uR(e){var t=le(e.primaryKey);function i(n,o,a){if(typeof n=="string"&&typeof o=="object"&&!Array.isArray(o)&&a.split(".").pop()!=="patternProperties"&&lR(n),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw P("SC2",{fieldName:n});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw P("SC24",{fieldName:n});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw P("SC40",{fieldName:n});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw P("SC4",{fieldName:n})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw P("SC3",{fieldName:n});break;default:throw P("SC4",{fieldName:n})}var l=a.split(".").length>=2;if(l&&o.default)throw P("SC7",{path:a});if(!l){if(n==="_id"&&t!=="_id")throw P("COL2",{fieldName:n});if(n.charAt(0)==="_"){if(n==="_id"||n==="_deleted")return;throw P("SC8",{fieldName:n})}}}function r(n,o){!n||typeof n!="object"||Object.keys(n).forEach(a=>{var l=n[a];!n.properties&&l&&typeof l=="object"&&!Array.isArray(n)&&i(a,l,o);var d=o;a!=="properties"&&(d=d+"."+a),r(l,d)})}return r(e,""),!0}function dR(e){if(!e.primaryKey)throw P("SC30",{schema:e});function t(d){if(!d)throw P("SC33",{schema:e});var m=d.type;if(!m||!["string","number","integer"].includes(m))throw P("SC32",{schema:e,args:{schemaPart:d}})}if(typeof e.primaryKey=="string"){var i=e.primaryKey,r=e.properties[i];t(r)}else{var n=e.primaryKey,o=ke(e,n.key);t(o),n.fields.forEach(d=>{var m=ke(e,d);t(m)})}var a=le(e.primaryKey),l=e.properties[a];if(l.maxLength){if(!isFinite(l.maxLength))throw P("SC41",{schema:e,args:{primaryPathSchemaPart:l}})}else throw P("SC39",{schema:e,args:{primaryPathSchemaPart:l}})}function Xb(e){for(var t=e.split("."),i="",r=0;r<t.length;r+=1)t[r]!=="[]"?i=i.concat(".properties.".concat(t[r])):i=i.concat(".items");return ar(i)}function Zb(e){if(!e.primaryKey)throw P("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw P("SC29",{schema:e});if(e.properties._rev)throw P("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||typeof e.version!="number"||e.version<0)throw P("SC11",{version:e.version});if(uR(e),dR(e),Object.keys(e.properties).forEach(t=>{var i=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw P("SC13",{value:i,schema:e});if(i.unique)throw P("SC14",{value:i,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw P("SC15",{value:i,schema:e});if(i.type!=="string")throw P("SC16",{value:i,schema:e})}if(al().includes(t))throw P("SC17",{key:t,schema:e})}),e.indexes){if(!Er(e.indexes))throw P("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw P("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var i=0;i<t.length;i+=1)if(typeof t[i]!="string")throw P("SC20",{index:t,schema:e})}var r=Er(t)?t:[t];r.forEach(n=>{var o=ke(e,n),a=o.type;switch(a){case"string":var l=o.maxLength;if(!l)throw P("SC34",{index:t,field:n,schema:e});break;case"number":case"integer":var d=o.multipleOf;if(!d)throw P("SC35",{index:t,field:n,schema:e});var m=o.maximum,p=o.minimum;if(typeof m>"u"||typeof p>"u")throw P("SC37",{index:t,field:n,schema:e});if(!isFinite(m)||!isFinite(p))throw P("SC41",{index:t,field:n,schema:e});break;case"boolean":var b="",x=n;if(n.includes(".")){var C=n.split(".");x=C.pop(),b=C.join(".")}var O=b===""?e:ke(e,b);if(!O.required||!O.required.includes(x))throw P("SC38",{index:t,field:n,schema:e});break;default:throw P("SC36",{fieldName:n,type:o.type,schema:e})}})})}Object.keys(tc(e)).map(t=>{var i=t.split(".");return i.pop(),i.join(".")}).filter(t=>t!=="").filter((t,i,r)=>r.indexOf(t)===i).filter(t=>{var i=Oe(e,t);return i&&!!i.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),P("SC26",{index:ar(t),schema:e})}),(e.indexes||[]).reduce((t,i)=>(Er(i)?or(t,i):t.push(i),t),[]).filter((t,i,r)=>r.indexOf(t)===i).map(t=>{var i=Xb(t),r=Oe(e,i);if(!r||typeof r!="object")throw P("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw P("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(tc(e)).map(t=>{var i=t.split(".");return i.pop(),i.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,i,r)=>r.indexOf(t)===i).filter(t=>{var i=Oe(e,t);return i&&!!i.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),P("SC27",{index:ar(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var i=Xb(t),r=Oe(e,i);if(!r||typeof r!="object")throw P("SC28",{field:t,schema:e})})}function sl(e){e&&Object.entries(e).forEach(([t,i])=>{if(typeof t!="string")throw oe("COL14",{name:t});if(t.startsWith("_"))throw oe("COL15",{name:t});if(typeof i!="function")throw oe("COL16",{name:t,type:typeof t});if(Yb().includes(t)||al().includes(t))throw P("COL17",{name:t})})}function Jb(e,t){var i=Object.keys(e.properties);t&&Object.keys(t).filter(r=>i.includes(r)).forEach(r=>{throw P("COL18",{funName:r})})}function ty(e,t){if(typeof t!="object"||Array.isArray(t))throw oe("COL11",{schema:e});var i=Mg(e);if(i.length!==Object.keys(t).length)throw P("COL12",{have:Object.keys(t),should:i});return i.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw oe("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function ey(e){if(Gb().includes(e.name))throw P("DB5",{name:e.name});iy(e.name)}function ry(e){if(iy(e.name),e.name.includes("$"))throw P("DB13",{name:e.name});if(xd(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw P("DB11",{name:e.name})}var ny="^[a-z][_$a-z0-9\\-]*$",fR=new RegExp(ny);function iy(e){if(typeof e!="string"||e.length===0)throw oe("UT1",{name:e});if(xd(e))return!0;if(!e.match(fR)&&e!==":memory:")throw P("UT2",{regex:ny,givenName:e});return!0}function oy(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw oe("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var i=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!i.includes(r))throw oe("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:i}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw P("QU15",{collection:e.collection.name,query:e.queryObj});cl(e.queryObj)}function ay(e){var t=e.rxQuery.collection.schema.jsonSchema,i=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(i).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!r.includes(l))throw P("QU13",{schema:t,field:l,query:e.mangoQuery})});var n=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=n.find(l=>On(l,o));if(!a)throw P("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!hR(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw P("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!r.includes(l))throw P("QU13",{schema:t,field:l,query:e.mangoQuery})}),cl(e.mangoQuery)}function hR(e,t){var i=Oa(e,t);return i.queryPlan.selectorSatisfiedByIndex}function cl(e){if(!(typeof e!="object"||e===null)){var t=Object.keys(e);t.forEach(i=>{var r=e[i];if(r instanceof RegExp)throw P("QU16",{field:i,query:e});Array.isArray(r)?r.forEach(n=>cl(n)):cl(r)})}}function sy(e,t){if(!e)throw P("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw P("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw P("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw P("DOC23",{primaryKey:e,document:t})}function cy(e){if(typeof e!="object"||e===null)return!1;for(var t in e)if(e.hasOwnProperty(t)&&(e[t]instanceof Date||typeof e[t]=="object"&&cy(e[t])))return!0;return!1}function ly(e,t){var i=le(e.schema.primaryKey),r=function(o){o.document=sc(i,e.schema,o.document),o.previous&&Object.keys(o.previous._meta).forEach(a=>{if(!Object.prototype.hasOwnProperty.call(o.document._meta,a))throw P("SNH",{dataBefore:o.previous,dataAfter:o.document,args:{metaFieldName:a}})});try{typeof structuredClone=="function"?structuredClone(o):JSON.parse(JSON.stringify(o))}catch{throw P("DOC24",{collection:e.collectionName,document:o.document})}if(cy(o.document))throw P("DOC24",{collection:e.collectionName,document:o.document})};for(var n of t)r(n)}var uy=!1;function dy(e){return z(this,null,function*(){if(!(uy||typeof window>"u"||typeof location>"u")&&!(An.premium&&typeof An.premium=="string"&&(yield Ji(An.premium))===ic)){uy=!0;var t=document.createElement("iframe");t.style.display="none",t.src="https://rxdb.info/html/dev-mode-iframe.html?version="+ci,document.body.appendChild(t)}})}var mR=!0;function pR(e){return!e||typeof e=="string"||typeof e=="number"?e:gd(e)}var gR="dev-mode",fy={name:gR,rxdb:!0,init:()=>{mR&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:pR,tunnelErrorMessage(e){if(!If[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return If[e]}},hooks:{preCreateRxSchema:{after:Zb},preCreateRxDatabase:{after:function(e){ry(e)}},createRxDatabase:{after:function(e){return z(this,null,function*(){dy(e.database)})}},preCreateRxCollection:{after:function(e){if(ey(e),Jb(e.schema,e.methods),e.name.charAt(0)==="_")throw P("DB2",{name:e.name});if(!e.schema)throw P("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){sy(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){oy(e)}},prePrepareQuery:{after:e=>{ay(e)}},preStorageWrite:{before:e=>{ly(e.storageInstance,e.rows)}},createRxCollection:{after:e=>{sl(e.creator.statics),sl(e.creator.methods),sl(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&ty(e.creator.schema,e.creator.migrationStrategies)}}}};var ll=Nx(hy(),1),my=Symbol.for("Dexie"),Ma=globalThis[my]||(globalThis[my]=ll.default);if(ll.default.semVer!==Ma.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ll.default.semVer} and ${Ma.semVer}`);var{liveQuery:I3,mergeRanges:T3,rangesOverlap:P3,RangeSet:M3,cmp:N3,Entity:$3,PropModSymbol:L3,PropModification:F3,replacePrefix:B3,add:j3,remove:z3}=Ma;var Na="docs",vR="changes",py="attachments",dl="dexie",gy=new Map,ul=new Map;function vy(e,t,i,r){var n="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=Le(gy,n,()=>{var a=z(this,null,function*(){var l=kt(i);l.autoOpen=!1;var d=new Ma(n,l),m={[Na]:bR(r),[vR]:"++sequence, id",[py]:"id"};return d.version(1).stores(m),yield d.open(),{dexieDb:d,dexieTable:d[Na],dexieAttachmentsTable:d[py],booleanIndexes:yR(r)}});return gy.set(n,o),ul.set(o,0),a});return o}function by(e){return z(this,null,function*(){var t=yield e,i=ul.get(e),r=i-1;r===0?(t.dexieDb.close(),ul.delete(e)):ul.set(e,r)})}var Lf="__";function mi(e){var t=e.split(".");if(t.length>1)return t.map(r=>mi(r)).join(".");if(e.startsWith("|")){var i=e.substring(1);return Lf+i}else return e}function yy(e){var t=e.split(".");if(t.length>1)return t.map(r=>yy(r)).join(".");if(e.startsWith(Lf)){var i=e.substring(Lf.length);return"|"+i}else return e}function _y(e,t){if(!t)return t;var i=kt(t);return i=Ff(i),e.forEach(r=>{var n=Oe(t,r),o=n?"1":"0",a=mi(r);Sd(i,a,o)}),i}function jf(e,t){return t&&(t=kt(t),t=Bf(t),e.forEach(i=>{var r=Oe(t,i),n=r==="1";Sd(t,i,n)}),t)}function Ff(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(i=>Ff(i));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([i,r])=>{typeof r=="object"&&(r=Ff(r)),t[mi(i)]=r}),t}}function Bf(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(i=>Bf(i));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([i,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=Bf(r)),t[yy(i)]=r}),t}}function bR(e){var t=[],i=le(e.primaryKey);t.push([i]),t.push(["_deleted",i]),e.indexes&&e.indexes.forEach(o=>{var a=ma(o);t.push(a)}),t.push(["_meta.lwt",i]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>mi(a)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,a,l)=>l.indexOf(o)===a);var n=r.join(", ");return n}function zf(e,t){return z(this,null,function*(){var i=yield e,r=yield i.dexieTable.bulkGet(t);return r.map(n=>jf(i.booleanIndexes,n))})}function $a(e,t){return e+"||"+t}function yR(e){var t=new Set,i=[];return e.indexes?(e.indexes.forEach(r=>{var n=ma(r);n.forEach(o=>{if(!t.has(o)){t.add(o);var a=ke(e,o);a.type==="boolean"&&i.push(o)}})}),i.push("_deleted"),ag(i)):i}function xy(e){return e===ui?-1/0:e}function wy(e,t,i){if(e.includes(t)){var r=i===li||i===!0?"1":"0";return r}else return i}function Cy(e,t,i){if(!i){if(typeof window>"u")throw new Error("IDBKeyRange missing");i=window.IDBKeyRange}var r=t.startKeys.map((a,l)=>{var d=t.index[l];return wy(e,d,a)}).map(xy),n=t.endKeys.map((a,l)=>{var d=t.index[l];return wy(e,d,a)}).map(xy),o=i.bound(r,n,!t.inclusiveStart,!t.inclusiveEnd);return o}function Uf(e,t){return z(this,null,function*(){var i=yield e.internals,r=t.query,n=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=n+o,l=t.queryPlan,d=!1;l.selectorSatisfiedByIndex||(d=lo(e.schema,t.query));var m=Cy(i.booleanIndexes,l,i.dexieDb._options.IDBKeyRange),p=l.index,b=[];if(yield i.dexieDb.transaction("r",i.dexieTable,C=>z(this,null,function*(){var O=C.idbtrans,N=O.objectStore(Na),W,et;et="["+p.map(Z=>mi(Z)).join("+")+"]",W=N.index(et);var rt=W.openCursor(m);yield new Promise(Z=>{rt.onsuccess=function(Ft){var yt=Ft.target.result;if(yt){var Mt=jf(i.booleanIndexes,yt.value);(!d||d(Mt))&&b.push(Mt),l.sortSatisfiedByIndex&&b.length===a?Z():yt.continue()}else Z()}})})),!l.sortSatisfiedByIndex){var x=Wc(e.schema,t.query);b=b.sort(x)}return b=b.slice(n,a),{documents:b}})}function Sy(e,t){return z(this,null,function*(){var i=yield e.internals,r=t.queryPlan,n=r.index,o=Cy(i.booleanIndexes,r,i.dexieDb._options.IDBKeyRange),a=-1;return yield i.dexieDb.transaction("r",i.dexieTable,l=>z(this,null,function*(){var d=l.idbtrans,m=d.objectStore(Na),p,b;b="["+n.map(C=>mi(C)).join("+")+"]",p=m.index(b);var x=p.count(o);a=yield new Promise((C,O)=>{x.onsuccess=function(){C(x.result)},x.onerror=N=>O(N)})})),a})}var _R=ee(),Vf=!1,xR=function(){function e(i,r,n,o,a,l,d,m){this.changes$=new lt,this.instanceId=_R++,this.storage=i,this.databaseName=r,this.collectionName=n,this.schema=o,this.internals=a,this.options=l,this.settings=d,this.devMode=m,this.primaryPath=le(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,n){return z(this,null,function*(){pi(this),!Vf&&(!An.premium||typeof An.premium!="string"||(yield Ji(An.premium))!==ic)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),Vf=!0,r.forEach(p=>{if(!p.document._rev||p.previous&&!p.previous._rev)throw P("SNH",{args:{row:p}})});var o=yield this.internals,a={error:[]};this.devMode&&(r=r.map(p=>{var b=hi(p.document);return{previous:p.previous,document:b}}));var l=r.map(p=>p.document[this.primaryPath]),d;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>z(this,null,function*(){var p=new Map,b=yield zf(this.internals,l);b.forEach(O=>{var N=O;return N&&p.set(N[this.primaryPath],N),N}),d=ib(this,this.primaryPath,p,r,n),a.error=d.errors;var x=[];d.bulkInsertDocs.forEach(O=>{x.push(O.document)}),d.bulkUpdateDocs.forEach(O=>{x.push(O.document)}),x=x.map(O=>_y(o.booleanIndexes,O)),x.length>0&&(yield o.dexieTable.bulkPut(x));var C=[];d.attachmentsAdd.forEach(O=>{C.push({id:$a(O.documentId,O.attachmentId),data:O.attachmentData.data})}),d.attachmentsUpdate.forEach(O=>{C.push({id:$a(O.documentId,O.attachmentId),data:O.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(C),yield o.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(O=>$a(O.documentId,O.attachmentId)))})),d=Dt(d),d.eventBulk.events.length>0){var m=Dt(d.newestRow).document;d.eventBulk.checkpoint={id:m[this.primaryPath],lwt:m._meta.lwt},d.eventBulk.endTime=ee(),this.changes$.next(d.eventBulk)}return a})},t.findDocumentsById=function(r,n){return z(this,null,function*(){pi(this);var o=yield this.internals,a=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>z(this,null,function*(){var l=yield zf(this.internals,r);l.forEach(d=>{d&&(!d._deleted||n)&&a.push(d)})})),a})},t.query=function(r){return pi(this),Uf(this,r)},t.count=function(r){return z(this,null,function*(){if(r.queryPlan.selectorSatisfiedByIndex){var n=yield Sy(this,r);return{count:n,mode:"fast"}}else{var o=yield Uf(this,r);return{count:o.documents.length,mode:"slow"}}})},t.changeStream=function(){return pi(this),this.changes$.asObservable()},t.cleanup=function(r){return z(this,null,function*(){pi(this);var n=yield this.internals;return yield n.dexieDb.transaction("rw",n.dexieTable,()=>z(this,null,function*(){var o=ee()-r,a=yield n.dexieTable.where("_meta.lwt").below(o).toArray(),l=[];a.forEach(d=>{d._deleted==="1"&&l.push(d[this.primaryPath])}),yield n.dexieTable.bulkDelete(l)})),!0})},t.getAttachmentData=function(r,n,o){return z(this,null,function*(){pi(this);var a=yield this.internals,l=$a(r,n);return yield a.dexieDb.transaction("r",a.dexieAttachmentsTable,()=>z(this,null,function*(){var d=yield a.dexieAttachmentsTable.get(l);if(d)return d.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+n)}))})},t.remove=function(){return z(this,null,function*(){pi(this);var r=yield this.internals;return yield r.dexieTable.clear(),this.close()})},t.close=function(){return this.closed?this.closed:(this.closed=z(this,null,function*(){this.changes$.complete(),yield by(this.internals)}),this.closed)},t.conflictResultionTasks=function(){return new lt},t.resolveConflictResultionTask=function(r){return z(this,null,function*(){})},e}();function Ey(e,t,i){return z(this,null,function*(){var r=vy(t.databaseName,t.collectionName,i,t.schema),n=new xR(e,t.databaseName,t.collectionName,t.schema,r,t.options,i,t.devMode);return yield Qb(dl,t,n),Promise.resolve(n)})}function pi(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var wR=function(){function e(i){this.name=dl,this.rxdbVersion=ci,this.settings=i}var t=e.prototype;return t.createStorageInstance=function(r){return ab(r),Ey(this,r,this.settings)},e}();function Ry(e={}){var t=new wR(e);return t}var Kf={};vs(Kf,{$all:()=>wS,$and:()=>rf,$bitsAllClear:()=>Dy,$bitsAllSet:()=>Oy,$bitsAnyClear:()=>ky,$bitsAnySet:()=>Ay,$elemMatch:()=>cf,$eq:()=>Lc,$exists:()=>uf,$expr:()=>yS,$gt:()=>Fc,$gte:()=>Bc,$in:()=>jc,$jsonSchema:()=>_S,$lt:()=>zc,$lte:()=>Uc,$mod:()=>af,$ne:()=>Vc,$nin:()=>Kc,$nor:()=>nf,$not:()=>of,$or:()=>Ea,$regex:()=>sf,$size:()=>lf,$type:()=>df,$where:()=>xS});var Fn=e=>Et((t,i,r)=>{let n=0;if(i instanceof Array)for(let o of i)n=n|1<<o;else n=i;return e(t&n,n)});var Dy=Fn((e,t)=>e==0);var Oy=Fn((e,t)=>e==t);var ky=Fn((e,t)=>e<t);var Ay=Fn((e,t)=>e>0);var fl={};vs(fl,{$addToSet:()=>SR,$bit:()=>RR,$currentDate:()=>DR,$inc:()=>OR,$max:()=>kR,$min:()=>AR,$mul:()=>IR,$pop:()=>TR,$pull:()=>Wf,$pullAll:()=>PR,$push:()=>NR,$rename:()=>$R,$set:()=>Hf,$unset:()=>LR});var po=(e,t)=>{switch(e){case"deep":return oo(t);case"copy":return Mn(t)?new Date(t):ot(t)?[...t]:ft(t)?B({},t):t;default:return t}},CR=/^[a-z]+[a-zA-Z0-9]*$/;function Iy(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];let t=e.indexOf(".$"),i=e.indexOf("]"),r=e.substring(0,t),n=e.substring(t+3,i);U(n===""||CR.test(n),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let o=e.substring(i+2),[a,l]=o?Iy(o):[];return[{selector:e,parent:r,child:n||"$",next:a},[n,...l||[]].filter(Boolean)]}var Pt=(e,t,i,r,n)=>{let{parent:o,child:a,next:l}=t;if(!a){let m=!1;return no(e,o,(b,x)=>m=!!r(b,x)||m,n),m}let d=Ce(e,o);return ot(d)?d.map((m,p)=>i[a]&&!i[a].test({[a]:m})?!1:l?Pt(m,l,i,r,n):r(d,p)).some(Boolean):!1};function Lt(e,t,i,r){let n=[];for(let[o,a]of Object.entries(e)){let[l,d]=Iy(o);if(!d.length)r(a,l,{})&&n.push(l.parent);else{let m={};t.forEach(b=>{Object.keys(b).forEach(x=>{d.forEach(C=>{(x===C||x.startsWith(C+"."))&&(m[C]=m[C]||{},Object.assign(m[C],{[x]:b[x]}))})})});let p={};for(let[b,x]of Object.entries(m))p[b]=new Xt(x,i.queryOptions);r(a,l,p)&&n.push(l.parent)}}return n}var SR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l={$each:[n]};return ft(n)&&Ut(n,"$each")&&Object.assign(l,n),Pt(e,o,a,(d,m)=>{let p=d[m]||=[];return Hr([p,l.$each]).length===l.$each.length?!1:(d[m]=po(r.cloneMode,xa(p.concat(l.$each))),!0)},{buildGraph:!0})});var ER=new Set(["and","or","xor"]),RR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l=Object.keys(n);return U(l.length===1&&ER.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Pt(e,o,a,(d,m)=>{let p=d[m],b=n[l[0]];if(p!==void 0&&!(ht(p)&&ht(b)))return!1;switch(p=p||0,l[0]){case"and":d[m]=p&b;break;case"or":d[m]=p|b;break;case"xor":d[m]=p^b;break}return d[m]!==p},{buildGraph:!0})});var DR=(e,t,i=[],r={})=>{let n=Date.now();return Lt(t,i,r,(o,a,l)=>Pt(e,a,l,(d,m)=>(d[m]=n,!0),{buildGraph:!0}))};var OR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{if(!o.child){let l=Ce(e,o.parent);U(l===void 0||ht(l),"cannot apply $inc to a value of non-numeric type")}return Pt(e,o,a,(l,d)=>(l[d]=(l[d]||=0)+n,!0),{buildGraph:!0})});var kR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Pt(e,o,a,(l,d)=>l[d]!==void 0&&Nt(l[d],n)>-1?!1:(l[d]=n,!0),{buildGraph:!0}));var AR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Pt(e,o,a,(l,d)=>l[d]!==void 0&&Nt(l[d],n)<1?!1:(l[d]=n,!0),{buildGraph:!0}));var IR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Pt(e,o,a,(l,d)=>{let m=l[d];return l[d]=l[d]===void 0?0:l[d]*n,l[d]!==m},{buildGraph:!0}));var TR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Pt(e,o,a,(l,d)=>{let m=l[d];return U(ot(m),`path '${o.selector}' contains an element of non-array type.`),m.length?(n===-1?m.splice(0,1):m.pop(),!0):!1}));var Wf=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l=!ft(n)||Object.keys(n).some(Be),d=new Xt(l?{k:n}:n,r.queryOptions),m=l?p=>d.test({k:p}):p=>d.test(p);return Pt(e,o,a,(p,b)=>{let x=p[b],C=new Array;return x.map(N=>{let W=m(N);return W||C.push(N),W}).some(Boolean)?(p[b]=C,!0):!1})});var PR=(e,t,i=[],r={})=>{let n={};return Object.entries(t).forEach(([o,a])=>{n[o]={$in:a}}),Wf(e,n,i,r)};var MR=Object.freeze(["$each","$slice","$sort","$position"]),NR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>{let l={$each:[n]};return ft(n)&&MR.some(d=>Ut(n,d))&&Object.assign(l,n),Pt(e,o,a,(d,m)=>{let p=d[m]||=[],b=p.slice(0,l.$slice||p.length),x=p.length,C=ht(l.$position)?l.$position:p.length;if(p.splice(C,0,...po(r.cloneMode,l.$each)),l.$sort){let O=ft(l.$sort)?Object.keys(l.$sort||{}).pop():"",N=O?l.$sort[O]:l.$sort,W=O?et=>Ce(et,O):et=>et;p.sort((et,rt)=>N*Nt(W(et),W(rt)))}return ht(l.$slice)&&(l.$slice<0?p.splice(0,p.length+l.$slice):p.splice(l.$slice)),x!=p.length||!ue(b,p)},{descendArray:!0,buildGraph:!0})});var Hf=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Pt(e,o,a,(l,d)=>ue(l[d],n)?!1:(l[d]=po(r.cloneMode,n),!0),{buildGraph:!0}));var $R=(e,t,i=[],r={})=>{let n=[],o=Lt(t,i,r,(a,l,d)=>Pt(e,l,d,(m,p)=>Ut(m,p)?(n.push(...Hf(e,{[a]:m[p]},i,r)),delete m[p],!0):!1));return Array.from(new Set(o.concat(n)))};var LR=(e,t,i=[],r={})=>Lt(t,i,r,(n,o,a)=>Pt(e,o,a,(l,d)=>Ut(l,d)?(ot(l)?l[d]=null:delete l[d],!0):!1));function qf(e){return e=gt(B({},e),{queryOptions:qr(e.queryOptions)}),e.queryOptions.context.addQueryOps(Kf).addExpressionOps(Zd).addExpressionOps(Jd),(t,i,r=[],n={},o={})=>{let a=Object.assign({cloneMode:"copy"},e,o);Object.assign(a,{queryOptions:qr(Object.assign({useStrictMode:!1},a?.queryOptions))}),r=r||[],n=n||{};let l=Object.entries(i);U(l.length===1,"Update expression must contain only one operator.");let[d,m]=l[0];U(Ut(fl,d),`Update operator '${d}' is not supported.`);let p=fl[d];return Object.keys(n).length&&!(n instanceof Xt?n:new Xt(n,a.queryOptions)).test(t)?[]:p(t,m,r,a)}}var V6=qf({});var Qf;function Yf(e,t){if(!Qf){var i=qf({cloneMode:"none"});Qf=(r,n)=>{var o=qe(r);return i(o,n),o}}return Qf(e,t)}function FR(e){return this.incrementalModify(t=>{var i=Yf(t,e);return i})}function BR(e){var t=this._data,i=Yf(t,e);return this._saveData(i,t)}function jR(e){return z(this,null,function*(){return Nn(this.asRxQuery,t=>t.update(e))})}var Ty={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=BR,e.incrementalUpdate=FR},RxQuery:e=>{e.update=jR}}};var zR={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function UR(){return z(this,null,function*(){rl(gb),rl(Ty),Dm()&&rl(fy)})}UR();var s9=(()=>{let t=class t{constructor(){this.dataBaseReadySubj=new fe(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(r){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[r]}initDB(r){return z(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===r&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield Sb({name:r,storage:Ry(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:zR}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var d9=(()=>{let t=class t{constructor(){this.activePortal=new lt,this.portal$=this.activePortal.asObservable()}setPortal(r){this.activePortal.next(r)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Tr=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Tr||{}),h9="*";function Ny(e,t){return{type:Tr.Trigger,name:e,definitions:t,options:{}}}function Gf(e,t=null){return{type:Tr.Animate,styles:t,timings:e}}function m9(e,t=null){return{type:Tr.Sequence,steps:e,options:t}}function hl(e){return{type:Tr.Style,styles:e,offset:null}}function Xf(e,t,i){return{type:Tr.State,name:e,styles:t,options:i}}function p9(e){return{type:Tr.Keyframes,steps:e}}function Zf(e,t,i=null){return{type:Tr.Transition,expr:e,animation:t,options:i}}function g9(e=null){return{type:Tr.AnimateChild,options:e}}function v9(e,t,i=null){return{type:Tr.Query,selector:e,animation:t,options:i}}var Py=class{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},My=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,r=0,n=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++i==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++n==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let i=t*this.totalTime;this.players.forEach(r=>{let n=r.totalTime?Math.min(1,i/r.totalTime):1;r.setPosition(n)})}getPosition(){let t=this.players.reduce((i,r)=>i===null||r.totalTime>i.totalTime?r:i,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},b9="!";function C9(e){return e&&typeof e.connect=="function"&&!(e instanceof Yn)}var ml=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(ml||{}),S9=new vt("_ViewRepeater"),$y=class{applyChanges(t,i,r,n,o){t.forEachOperation((a,l,d)=>{let m,p;if(a.previousIndex==null){let b=r(a,l,d);m=i.createEmbeddedView(b.templateRef,b.context,b.index),p=ml.INSERTED}else d==null?(i.remove(l),p=ml.REMOVED):(m=i.get(l),i.move(m,d),p=ml.MOVED);o&&o({context:m?.context,operation:p,record:a})})}detach(){}};var Ly=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,i,r=!0,n){this._multiple=t,this._emitChanges=r,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new lt,i&&i.length&&(t?i.forEach(o=>this._markSelected(o)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...t){this._verifyValueAssignment(t);let i=this.selected,r=new Set(t);t.forEach(o=>this._markSelected(o)),i.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let i=this._hasQueuedChanges();return t&&this._emitChangeEvent(),i}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,i){if(this.compareWith){i=i??this._selection;for(let r of i)if(this.compareWith(t,r))return r;return t}else return t}};var KR=20,pl=(()=>{let t=class t{constructor(r,n,o){this._ngZone=r,this._platform=n,this._scrolled=new lt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let n=this.scrollContainers.get(r);n&&(n.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=KR){return this._platform.isBrowser?new Lo(n=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(uu(r)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(r,n){let o=this.getAncestorScrollContainers(r);return this.scrolled(n).pipe(wt(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(r){let n=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,r)&&n.push(a)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,n){let o=Bm(n),a=r.getElementRef().nativeElement;do if(o==a)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return lu(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(K(zt),K(ve),K(Qt,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Jf=(()=>{let t=class t{constructor(r,n,o,a){this.elementRef=r,this.scrollDispatcher=n,this.ngZone=o,this.dir=a,this._destroyed=new lt,this._elementScrolled=new Lo(l=>this.ngZone.runOutsideAngular(()=>lu(this.elementRef.nativeElement,"scroll").pipe(hn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(r){let n=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";r.left==null&&(r.left=o?r.end:r.start),r.right==null&&(r.right=o?r.start:r.end),r.bottom!=null&&(r.top=n.scrollHeight-n.clientHeight-r.bottom),o&&Fi()!=Li.NORMAL?(r.left!=null&&(r.right=n.scrollWidth-n.clientWidth-r.left),Fi()==Li.INVERTED?r.left=r.right:Fi()==Li.NEGATED&&(r.left=r.right?-r.right:r.right)):r.right!=null&&(r.left=n.scrollWidth-n.clientWidth-r.right),this._applyScrollToOptions(r)}_applyScrollToOptions(r){let n=this.elementRef.nativeElement;Es()?n.scrollTo(r):(r.top!=null&&(n.scrollTop=r.top),r.left!=null&&(n.scrollLeft=r.left))}measureScrollOffset(r){let n="left",o="right",a=this.elementRef.nativeElement;if(r=="top")return a.scrollTop;if(r=="bottom")return a.scrollHeight-a.clientHeight-a.scrollTop;let l=this.dir&&this.dir.value=="rtl";return r=="start"?r=l?o:n:r=="end"&&(r=l?n:o),l&&Fi()==Li.INVERTED?r==n?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&Fi()==Li.NEGATED?r==n?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:r==n?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}};t.\u0275fac=function(n){return new(n||t)(H(Vt),H(pl),H(zt),H(vn,8))},t.\u0275dir=jt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let e=t;return e})(),WR=20,gl=(()=>{let t=class t{constructor(r,n,o){this._platform=r,this._change=new lt,this._changeListener=a=>{this._change.next(a)},this._document=o,n.runOutsideAngular(()=>{if(r.isBrowser){let a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,n=this._getWindow(),o=r.documentElement,a=o.getBoundingClientRect(),l=-a.top||r.body.scrollTop||n.scrollY||o.scrollTop||0,d=-a.left||r.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:l,left:d}}change(r=WR){return r>0?this._change.pipe(uu(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(n){return new(n||t)(K(ve),K(zt),K(Qt,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Fy=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({});let e=t;return e})(),th=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({imports:[Wo,Fy,Wo,Fy]});let e=t;return e})();var jy=Es(),eh=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Yt(-this._previousScrollPosition.left),t.style.top=Yt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,r=t.style,n=i.style,o=r.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),jy&&(r.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jy&&(r.scrollBehavior=o,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,r=this._viewportRuler.getViewportSize();return i.scrollHeight>r.height||i.scrollWidth>r.width}};var rh=class{constructor(t,i,r,n){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=r,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(wt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},vl=class{enable(){}disable(){}attach(){}};function nh(e,t){return t.some(i=>{let r=e.bottom<i.top,n=e.top>i.bottom,o=e.right<i.left,a=e.left>i.right;return r||n||o||a})}function zy(e,t){return t.some(i=>{let r=e.top<i.top,n=e.bottom>i.bottom,o=e.left<i.left,a=e.right>i.right;return r||n||o||a})}var ih=class{constructor(t,i,r,n){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:n}=this._viewportRuler.getViewportSize();nh(i,[{width:r,height:n,bottom:n,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},HR=(()=>{let t=class t{constructor(r,n,o,a){this._scrollDispatcher=r,this._viewportRuler=n,this._ngZone=o,this.noop=()=>new vl,this.close=l=>new rh(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new eh(this._viewportRuler,this._document),this.reposition=l=>new ih(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}};t.\u0275fac=function(n){return new(n||t)(K(pl),K(gl),K(zt),K(Qt))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Bn=class{constructor(t){if(this.scrollStrategy=new vl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let r of i)t[r]!==void 0&&(this[r]=t[r])}}};var oh=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var Qy=(()=>{let t=class t{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let n=this._attachedOverlays.indexOf(r);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(n){return new(n||t)(K(Qt))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),qR=(()=>{let t=class t extends Qy{constructor(r,n){super(r),this._ngZone=n,this._keydownListener=o=>{let a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){let d=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(n){return new(n||t)(K(Qt),K(zt,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),QR=(()=>{let t=class t extends Qy{constructor(r,n,o){super(r),this._platform=n,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Ds(a)},this._clickListener=a=>{let l=Ds(a),d=a.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let m=this._attachedOverlays.slice();for(let p=m.length-1;p>-1;p--){let b=m[p];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(Uy(b.overlayElement,l)||Uy(b.overlayElement,d))break;let x=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(r){if(super.add(r),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(n){return new(n||t)(K(Qt),K(ve),K(zt,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Uy(e,t){let i=typeof ShadowRoot<"u"&&ShadowRoot,r=t;for(;r;){if(r===e)return!0;r=i&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var go=(()=>{let t=class t{constructor(r,n){this._platform=n,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||xu()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}let n=this._document.createElement("div");n.classList.add(r),xu()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};t.\u0275fac=function(n){return new(n||t)(K(Qt),K(ve))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Gr=class{constructor(t,i,r,n,o,a,l,d,m,p=!1,b){this._portalOutlet=t,this._host=i,this._pane=r,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=d,this._outsideClickDispatcher=m,this._animationsDisabled=p,this._injector=b,this._backdropElement=null,this._backdropClick=new lt,this._attachments=new lt,this._detachments=new lt,this._locationChanges=mr.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new lt,this._outsidePointerEvents=new lt,this._renders=new lt,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=km(()=>ym(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Pi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=B(B({},this._config),t),this._updateElementSize()}setDirection(t){this._config=gt(B({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Yt(this._config.width),t.height=Yt(this._config.height),t.minWidth=Yt(this._config.minWidth),t.minHeight=Yt(this._config.minHeight),t.maxWidth=Yt(this._config.maxWidth),t.maxHeight=Yt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,r){let n=wu(i||[]).filter(o=>!!o);n.length&&(r?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(hn(Di(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Vy="cdk-overlay-connected-position-bounding-box",YR=/([A-Za-z%]+)$/,ah=class{get positions(){return this._preferredPositions}constructor(t,i,r,n,o){this._viewportRuler=i,this._document=r,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt,this._resizeSubscription=mr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Vy),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,r=this._viewportRect,n=this._containerRect,o=[],a;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,n,l),m=this._getOverlayPoint(d,i,l),p=this._getOverlayFit(m,i,r,l);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(p,m,r)){o.push({position:l,origin:d,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!a||a.overlayFit.visibleArea<p.visibleArea)&&(a={overlayFit:p,overlayPoint:m,originPoint:d,position:l,overlayRect:i})}if(o.length){let l=null,d=-1;for(let m of o){let p=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);p>d&&(d=p,l=m)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Vy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,r){let n;if(r.originX=="center")n=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;n=r.originX=="start"?a:l}i.left<0&&(n-=i.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:n,y:o}}_getOverlayPoint(t,i,r){let n;r.overlayX=="center"?n=-i.width/2:r.overlayX==="start"?n=this._isRtl()?-i.width:0:n=this._isRtl()?0:-i.width;let o;return r.overlayY=="center"?o=-i.height/2:o=r.overlayY=="top"?0:-i.height,{x:t.x+n,y:t.y+o}}_getOverlayFit(t,i,r,n){let o=Wy(i),{x:a,y:l}=t,d=this._getOffset(n,"x"),m=this._getOffset(n,"y");d&&(a+=d),m&&(l+=m);let p=0-a,b=a+o.width-r.width,x=0-l,C=l+o.height-r.height,O=this._subtractOverflows(o.width,p,b),N=this._subtractOverflows(o.height,x,C),W=O*N;return{visibleArea:W,isCompletelyWithinViewport:o.width*o.height===W,fitsInViewportVertically:N===o.height,fitsInViewportHorizontally:O==o.width}}_canFitWithFlexibleDimensions(t,i,r){if(this._hasFlexibleDimensions){let n=r.bottom-i.y,o=r.right-i.x,a=Ky(this._overlayRef.getConfig().minHeight),l=Ky(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||a!=null&&a<=n,m=t.fitsInViewportHorizontally||l!=null&&l<=o;return d&&m}return!1}_pushOverlayOnScreen(t,i,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=Wy(i),o=this._viewportRect,a=Math.max(t.x+n.width-o.width,0),l=Math.max(t.y+n.height-o.height,0),d=Math.max(o.top-r.top-t.y,0),m=Math.max(o.left-r.left-t.x,0),p=0,b=0;return n.width<=o.width?p=m||-a:p=t.x<this._viewportMargin?o.left-r.left-t.x:0,n.height<=o.height?b=d||-l:b=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:p,y:b},{x:t.x+p,y:t.y+b}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!GR(this._lastScrollVisibility,r)){let n=new oh(t,r);this._positionChanges.next(n)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,n=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${r} ${n}`}_calculateBoundingBoxRect(t,i){let r=this._viewportRect,n=this._isRtl(),o,a,l;if(i.overlayY==="top")a=t.y,o=r.height-a+this._viewportMargin;else if(i.overlayY==="bottom")l=r.height-t.y+this._viewportMargin*2,o=r.height-l+this._viewportMargin;else{let C=Math.min(r.bottom-t.y+r.top,t.y),O=this._lastBoundingBoxSize.height;o=C*2,a=t.y-C,o>O&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-O/2)}let d=i.overlayX==="start"&&!n||i.overlayX==="end"&&n,m=i.overlayX==="end"&&!n||i.overlayX==="start"&&n,p,b,x;if(m)x=r.width-t.x+this._viewportMargin*2,p=t.x-this._viewportMargin;else if(d)b=t.x,p=r.right-t.x;else{let C=Math.min(r.right-t.x+r.left,t.x),O=this._lastBoundingBoxSize.width;p=C*2,b=t.x-C,p>O&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-O/2)}return{top:a,left:b,bottom:l,right:x,width:p,height:o}}_setBoundingBoxStyles(t,i){let r=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Yt(r.height),n.top=Yt(r.top),n.bottom=Yt(r.bottom),n.width=Yt(r.width),n.left=Yt(r.left),n.right=Yt(r.right),i.overlayX==="center"?n.alignItems="center":n.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?n.justifyContent="center":n.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Yt(o)),a&&(n.maxWidth=Yt(a))}this._lastBoundingBoxSize=r,gi(this._boundingBox.style,n)}_resetBoundingBoxStyles(){gi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let r={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let p=this._viewportRuler.getViewportScrollPosition();gi(r,this._getExactOverlayY(i,t,p)),gi(r,this._getExactOverlayX(i,t,p))}else r.position="static";let l="",d=this._getOffset(i,"x"),m=this._getOffset(i,"y");d&&(l+=`translateX(${d}px) `),m&&(l+=`translateY(${m}px)`),r.transform=l.trim(),a.maxHeight&&(n?r.maxHeight=Yt(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(n?r.maxWidth=Yt(a.maxWidth):o&&(r.maxWidth="")),gi(this._pane.style,r)}_getExactOverlayY(t,i,r){let n={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(o.y+this._overlayRect.height)}px`}else n.top=Yt(o.y);return n}_getExactOverlayX(t,i,r){let n={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let l=this._document.documentElement.clientWidth;n.right=`${l-(o.x+this._overlayRect.width)}px`}else n.left=Yt(o.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),r=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zy(t,r),isOriginOutsideView:nh(t,r),isOverlayClipped:zy(i,r),isOverlayOutsideView:nh(i,r)}}_subtractOverflows(t,...i){return i.reduce((r,n)=>r-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&wu(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Vt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+i,height:r,width:i}}};function gi(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function Ky(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(YR);return!i||i==="px"?parseFloat(t):null}return e||null}function Wy(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function GR(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var Hy="cdk-global-overlay-wrapper",sh=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Hy),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:l}=r,d=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),m=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),p=this._xPosition,b=this._xOffset,x=this._overlayRef.getConfig().direction==="rtl",C="",O="",N="";d?N="flex-start":p==="center"?(N="center",x?O=b:C=b):x?p==="left"||p==="end"?(N="flex-end",C=b):(p==="right"||p==="start")&&(N="flex-start",O=b):p==="left"||p==="start"?(N="flex-start",C=b):(p==="right"||p==="end")&&(N="flex-end",O=b),t.position=this._cssPosition,t.marginLeft=d?"0":C,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":O,i.justifyContent=N,i.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,r=i.style;i.classList.remove(Hy),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},XR=(()=>{let t=class t{constructor(r,n,o,a){this._viewportRuler=r,this._document=n,this._platform=o,this._overlayContainer=a}global(){return new sh}flexibleConnectedTo(r){return new ah(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(n){return new(n||t)(K(gl),K(Qt),K(ve),K(go))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ZR=0,Ie=(()=>{let t=class t{constructor(r,n,o,a,l,d,m,p,b,x,C,O){this.scrollStrategies=r,this._overlayContainer=n,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=d,this._ngZone=m,this._document=p,this._directionality=b,this._location=x,this._outsideClickDispatcher=C,this._animationsModuleType=O}create(r){let n=this._createHostElement(),o=this._createPaneElement(n),a=this._createPortalOutlet(o),l=new Bn(r);return l.direction=l.direction||this._directionality.value,new Gr(a,n,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Xn))}position(){return this._positionBuilder}_createPaneElement(r){let n=this._document.createElement("div");return n.id=`cdk-overlay-${ZR++}`,n.classList.add("cdk-overlay-pane"),r.appendChild(n),n}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Ss)),new Is(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(n){return new(n||t)(K(HR),K(go),K(xs),K(XR),K(qR),K(Wt),K(zt),K(Qt),K(vn),K(rr),K(QR),K(Lr,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),JR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yy=new vt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=X(Ie);return()=>e.scrollStrategies.reposition()}}),qy=(()=>{let t=class t{constructor(r){this.elementRef=r}};t.\u0275fac=function(n){return new(n||t)(H(Vt))},t.\u0275dir=jt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let e=t;return e})(),J9=(()=>{let t=class t{get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}constructor(r,n,o,a,l){this._overlay=r,this._dir=l,this._backdropSubscription=mr.EMPTY,this._attachSubscription=mr.EMPTY,this._detachSubscription=mr.EMPTY,this._positionSubscription=mr.EMPTY,this._disposeOnNavigation=!1,this._ngZone=X(zt),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new pe,this.positionChange=new pe,this.attach=new pe,this.detach=new pe,this.overlayKeydown=new pe,this.overlayOutsideClick=new pe,this._templatePortal=new _r(n,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=JR);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Bi(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let o=this._getOriginElement(),a=Ds(n);(!o||o!==a&&!o.contains(a))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Bn({direction:this._dir,positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(r){let n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return r.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(r),r}_getOrigin(){return this.origin instanceof qy?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof qy?this.origin.elementRef.nativeElement:this.origin instanceof Vt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(cm(()=>this.positionChange.observers.length>0)).subscribe(r=>{this._ngZone.run(()=>this.positionChange.emit(r)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};t.\u0275fac=function(n){return new(n||t)(H(Ie),H(Fr),H(pn),H(Yy),H(vn,8))},t.\u0275dir=jt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ge],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ge],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ge],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ge],push:[2,"cdkConnectedOverlayPush","push",ge],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ge]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[gn,mn]});let e=t;return e})();function tD(e){return()=>e.scrollStrategies.reposition()}var eD={provide:Yy,deps:[Ie],useFactory:tD},vo=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({providers:[Ie,eD],imports:[Wo,Ur,th,th]});let e=t;return e})();function rD(e,t){if(e&1){let i=wm();br(0,"div",1)(1,"button",2),Mi("click",function(){fm(i);let n=vu();return hm(n.action())}),bu(2),er()()}if(e&2){let i=vu();Ti(2),yu(" ",i.data.action," ")}}var nD=["label"];function iD(e,t){}var oD=Math.pow(2,31)-1,Fa=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new lt,this._afterOpened=new lt,this._onAction=new lt,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,oD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Xy=new vt("MatSnackBarData"),bo=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},aD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=jt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),sD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=jt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),cD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=jt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),Zy=(()=>{let t=class t{constructor(r,n){this.snackBarRef=r,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(n){return new(n||t)(H(Fa),H(Xy))},t.\u0275cmp=Ee({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Re],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(br(0,"div",0),bu(1),er(),Zn(2,rD,3,1,"div",1)),n&2&&(Ti(),yu(" ",o.data.message,`
`),Ti(),xm(o.hasAction?2:-1))},dependencies:[Zm,aD,sD,cD],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),lD={snackBarState:Ny("state",[Xf("void, hidden",hl({transform:"scale(0.8)",opacity:0})),Xf("visible",hl({transform:"scale(1)",opacity:1})),Zf("* => visible",Gf("150ms cubic-bezier(0, 0, 0.2, 1)")),Zf("* => void, * => hidden",Gf("75ms cubic-bezier(0.4, 0.0, 1, 1)",hl({opacity:0})))])},uD=0,dD=(()=>{let t=class t extends bn{constructor(r,n,o,a,l){super(),this._ngZone=r,this._elementRef=n,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=l,this._document=X(Qt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new lt,this._onExit=new lt,this._onEnter=new lt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${uD++}`,this.attachDomPortal=d=>{this._assertNotAttached();let m=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),m},l.politeness==="assertive"&&!l.announcementMessage?this._live="assertive":l.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),n}attachTemplatePortal(r){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),n}onAnimationEnd(r){let{fromState:n,toState:o}=r;if((o==="void"&&n!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let r=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(l=>r.classList.add(l)):r.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let r=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let a=n[o],l=a.getAttribute("aria-owns");this._trackedModals.add(a),l?l.indexOf(r)===-1&&a.setAttribute("aria-owns",l+" "+r):a.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let n=r.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&n){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),n.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(n){return new(n||t)(H(zt),H(Vt),H(yr),H(ve),H(bo))},t.\u0275cmp=Ee({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(Ni(yn,7),Ni(nD,7)),n&2){let a;Jn(a=ti())&&(o._portalOutlet=a.first),Jn(a=ti())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,o){n&1&&Sm("@state.done",function(l){return o.onAnimationEnd(l)}),n&2&&Cm("@state",o._animationState)},standalone:!0,features:[ce,Re],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(br(0,"div",1)(1,"div",2,0)(3,"div",3),Zn(4,iD,0,0,"ng-template",4),er(),We(5,"div"),er()()),n&2&&(Ti(5),Pe("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[yn],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[lD.snackBarState]}});let e=t;return e})();function fD(){return new bo}var hD=new vt("mat-snack-bar-default-options",{providedIn:"root",factory:fD}),mD=(()=>{let t=class t{get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(r,n,o,a,l,d){this._overlay=r,this._live=n,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=l,this._defaultConfig=d,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Zy,this.snackBarContainerComponent=dD,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(r,n){return this._attach(r,n)}openFromTemplate(r,n){return this._attach(r,n)}open(r,n="",o){let a=B(B({},this._defaultConfig),o);return a.data={message:r,action:n},a.announcementMessage===r&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,a=Wt.create({parent:o||this._injector,providers:[{provide:bo,useValue:n}]}),l=new zr(this.snackBarContainerComponent,n.viewContainerRef,a),d=r.attach(l);return d.instance.snackBarConfig=n,d.instance}_attach(r,n){let o=B(B(B({},new bo),this._defaultConfig),n),a=this._createOverlay(o),l=this._attachSnackBarContainer(a,o),d=new Fa(l,a);if(r instanceof Fr){let m=new _r(r,null,{$implicit:o.data,snackBarRef:d});d.instance=l.attachTemplatePortal(m)}else{let m=this._createInjector(o,d),p=new zr(r,void 0,m),b=l.attachComponentPortal(p);d.instance=b.instance}return this._breakpointObserver.observe(zm.HandsetPortrait).pipe(hn(a.detachments())).subscribe(m=>{a.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(d,o),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(r,n){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),n.duration&&n.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(n.duration))}_createOverlay(r){let n=new Bn;n.direction=r.direction;let o=this._overlay.position().global(),a=r.direction==="rtl",l=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!a||r.horizontalPosition==="end"&&a,d=!l&&r.horizontalPosition!=="center";return l?o.left("0"):d?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(r,n){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return Wt.create({parent:o||this._injector,providers:[{provide:Fa,useValue:n},{provide:Xy,useValue:r.data}]})}};t.\u0275fac=function(n){return new(n||t)(K(Ie),K(Um),K(Wt),K(jm),K(t,12),K(hD))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var CQ=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({providers:[mD],imports:[vo,Ur,Jm,jr,Zy,jr]});let e=t;return e})();var RQ={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function pD(e,t){}var vi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var uh=(()=>{let t=class t extends bn{constructor(r,n,o,a,l,d,m,p){super(),this._elementRef=r,this._focusTrapFactory=n,this._config=a,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=m,this._focusMonitor=p,this._platform=X(ve),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=X(yr),this._injector=X(Wt),this._isDestroyed=!1,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();let x=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),x},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let n=this._ariaLabelledByQueue.indexOf(r);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),n}attachTemplatePortal(r){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,n){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r.removeEventListener("blur",o),r.removeEventListener("mousedown",o),r.removeAttribute("tabindex")};r.addEventListener("blur",o),r.addEventListener("mousedown",o)})),r.focus(n)}_focusByCssSelector(r,n){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||Pi(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let r=this._config.restoreFocus,n=null;if(typeof r=="string"?n=this._document.querySelector(r):typeof r=="boolean"?n=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(n=r),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=Rs(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,n=Rs();return r===n||r.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Rs()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(n){return new(n||t)(H(Vt),H(As),H(Qt,8),H(vi),H(ks),H(zt),H(Gr),H(ji))},t.\u0275cmp=Ee({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&Ni(yn,7),n&2){let a;Jn(a=ti())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Pe("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[ce,Re],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&Zn(0,pD,0,0,"ng-template",0)},dependencies:[yn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Ba=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new lt,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Bi(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},gD=new vt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=X(Ie);return()=>e.scrollStrategies.block()}}),vD=new vt("DialogData"),bD=new vt("DefaultDialogConfig");var yD=0,dh=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,n,o,a,l,d){this._overlay=r,this._injector=n,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt,this._afterOpenedAtThisLevel=new lt,this._ariaHiddenElements=new Map,this.afterAllClosed=Gn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tr(void 0))),this._scrollStrategy=d}open(r,n){let o=this._defaultOptions||new vi;n=B(B({},o),n),n.id=n.id||`cdk-dialog-${yD++}`,n.id&&this.getDialogById(n.id);let a=this._getOverlayConfig(n),l=this._overlay.create(a),d=new Ba(l,n),m=this._attachContainer(l,d,n);return d.containerInstance=m,this._attachDialogContent(r,d,m,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){lh(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(n=>n.id===r)}ngOnDestroy(){lh(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),lh(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let n=new Bn({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(n.backdropClass=r.backdropClass),n}_attachContainer(r,n,o){let a=o.injector||o.viewContainerRef?.injector,l=[{provide:vi,useValue:o},{provide:Ba,useValue:n},{provide:Gr,useValue:r}],d;o.container?typeof o.container=="function"?d=o.container:(d=o.container.type,l.push(...o.container.providers(o))):d=uh;let m=new zr(d,o.viewContainerRef,Wt.create({parent:a||this._injector,providers:l}),o.componentFactoryResolver);return r.attach(m).instance}_attachDialogContent(r,n,o,a){if(r instanceof Fr){let l=this._createInjector(a,n,o,void 0),d={$implicit:a.data,dialogRef:n};a.templateContext&&(d=B(B({},d),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),o.attachTemplatePortal(new _r(r,null,d,l))}else{let l=this._createInjector(a,n,o,this._injector),d=o.attachComponentPortal(new zr(r,a.viewContainerRef,l,a.componentFactoryResolver));n.componentRef=d,n.componentInstance=d.instance}}_createInjector(r,n,o,a){let l=r.injector||r.viewContainerRef?.injector,d=[{provide:vD,useValue:r.data},{provide:Ba,useValue:n}];return r.providers&&(typeof r.providers=="function"?d.push(...r.providers(n,r,o)):d.push(...r.providers)),r.direction&&(!l||!l.get(vn,null,{optional:!0}))&&d.push({provide:vn,useValue:{value:r.direction,change:nt()}}),Wt.create({parent:l||a,providers:d})}_removeOpenDialog(r,n){let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let n=r.parentElement.children;for(let o=n.length-1;o>-1;o--){let a=n[o];a!==r&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(n){return new(n||t)(K(Ie),K(Wt),K(bD,8),K(t,12),K(go),K(gD))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function lh(e,t){let i=e.length;for(;i--;)t(e[i])}var Jy=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({providers:[dh],imports:[vo,Ur,Vm,Ur]});let e=t;return e})();function _D(e,t){}var ja=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},fh="mdc-dialog--open",t_="mdc-dialog--opening",e_="mdc-dialog--closing",xD=150,wD=75,CD=(()=>{let t=class t extends uh{constructor(r,n,o,a,l,d,m,p,b){super(r,n,o,a,l,d,m,b),this._animationMode=p,this._animationStateChanged=new pe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?n_(this._config.enterAnimationDuration)??xD:0,this._exitAnimationDuration=this._animationsEnabled?n_(this._config.exitAnimationDuration)??wD:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(r_,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(t_,fh)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(fh),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(fh),this._animationsEnabled?(this._hostElement.style.setProperty(r_,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(e_)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(t_,e_)}_waitForAnimationToComplete(r,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let n=super.attachComponentPortal(r);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}};t.\u0275fac=function(n){return new(n||t)(H(Vt),H(As),H(Qt,8),H(ja),H(ks),H(zt),H(Gr),H(Lr,8),H(ji))},t.\u0275cmp=Ee({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(gu("id",o._config.id),Pe("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),vr("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[ce,Re],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(br(0,"div",0)(1,"div",1),Zn(2,_D,0,0,"ng-template",2),er()())},dependencies:[yn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let e=t;return e})(),r_="--mat-dialog-transition-duration";function n_(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Os(e.substring(0,e.length-2)):e.endsWith("s")?Os(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var bl=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(bl||{}),za=class{constructor(t,i,r){this._ref=t,this._containerInstance=r,this._afterOpened=new lt,this._beforeClosed=new lt,this._state=bl.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(wt(n=>n.state==="opened"),pr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(wt(n=>n.state==="closed"),pr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Di(this.backdropClick(),this.keydownEvents().pipe(wt(n=>n.keyCode===27&&!this.disableClose&&!Bi(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),i_(this,n.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(wt(i=>i.state==="closing"),pr(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=bl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=bl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function i_(e,t,i){return e._closeInteractionType=t,e.close(i)}var SD=new vt("MatMdcDialogData"),ED=new vt("mat-mdc-dialog-default-options"),RD=new vt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=X(Ie);return()=>e.scrollStrategies.block()}});var DD=0,hh=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,n,o,a,l,d,m,p){this._overlay=r,this._defaultOptions=a,this._scrollStrategy=l,this._parentDialog=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt,this._afterOpenedAtThisLevel=new lt,this.dialogConfigClass=ja,this.afterAllClosed=Gn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tr(void 0))),this._dialog=n.get(dh),this._dialogRefConstructor=za,this._dialogContainerType=CD,this._dialogDataToken=SD}open(r,n){let o;n=B(B({},this._defaultOptions||new ja),n),n.id=n.id||`mat-mdc-dialog-${DD++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(r,gt(B({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:vi,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(l,d,m)=>(o=new this._dialogRefConstructor(l,n,m),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=a.componentRef,o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(o);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(n=>n.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let n=r.length;for(;n--;)r[n].close()}};t.\u0275fac=function(n){return new(n||t)(K(Ie),K(Wt),K(rr,8),K(ED,8),K(RD),K(t,12),K(go),K(Lr,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),OD=0,pY=(()=>{let t=class t{constructor(r,n,o){this.dialogRef=r,this._elementRef=n,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=a_(this._elementRef,this._dialog.openDialogs))}ngOnChanges(r){let n=r._matDialogClose||r._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(r){i_(this.dialogRef,r.screenX===0&&r.screenY===0?"keyboard":"mouse",this.dialogResult)}};t.\u0275fac=function(n){return new(n||t)(H(za,8),H(Vt),H(hh))},t.\u0275dir=jt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,o){n&1&&Mi("click",function(l){return o._onButtonClick(l)}),n&2&&Pe("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[mn]});let e=t;return e})(),o_=(()=>{let t=class t{constructor(r,n,o){this._dialogRef=r,this._elementRef=n,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=a_(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};t.\u0275fac=function(n){return new(n||t)(H(za,8),H(Vt),H(hh))},t.\u0275dir=jt({type:t,standalone:!0});let e=t;return e})(),gY=(()=>{let t=class t extends o_{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${OD++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=$r(t)))(o||t)}})(),t.\u0275dir=jt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,o){n&2&&gu("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[ce]});let e=t;return e})(),vY=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=jt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[_m([Jf])]});let e=t;return e})(),bY=(()=>{let t=class t extends o_{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=$r(t)))(o||t)}})(),t.\u0275dir=jt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,o){n&2&&vr("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[ce]});let e=t;return e})();function a_(e,t){let i=e.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?t.find(r=>r.id===i.id):null}var yY=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=te({type:t}),t.\u0275inj=Jt({providers:[hh],imports:[Jy,vo,Ur,jr,jr]});let e=t;return e})();export{zr as a,_r as b,$D as c,yn as d,Ur as e,Zm as f,YD as g,GD as h,Jm as i,Cr as j,Sr as k,bw as l,Np as m,De as n,yO as o,_O as p,I0 as q,Zs as r,ha as s,md as t,MO as u,J0 as v,s9 as w,d9 as x,C9 as y,ml as z,S9 as A,$y as B,Ly as C,pl as D,gl as E,Fy as F,th as G,Bn as H,Ie as I,qy as J,J9 as K,vo as L,Tr as M,h9 as N,Ny as O,Gf as P,m9 as Q,hl as R,Xf as S,p9 as T,Zf as U,g9 as V,v9 as W,Py as X,My as Y,b9 as Z,za as _,SD as $,hh as aa,pY as ba,gY as ca,vY as da,bY as ea,yY as fa,hD as ga,mD as ha,CQ as ia,RQ as ja};
