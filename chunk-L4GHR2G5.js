import{a as ut,b as ft,c as xt,d as ht,e as vt}from"./chunk-TXLED3WN.js";import{a as rt}from"./chunk-DVLIV7R4.js";import{a as Q}from"./chunk-FU4JTQ3A.js";import{c as ot}from"./chunk-YOGGJIUU.js";import{c as I,e as A,f as V,g as q,i as H,ja as nt,k as K,n as W,o as X,t as tt,u as et,v as it,x as at}from"./chunk-57JVOC33.js";import{a as dt,b as ct,c as lt,d as pt,e as st,f as mt}from"./chunk-2KKN35RP.js";import{Ab as k,Cb as f,Gb as j,Hb as F,Ib as L,Kb as p,Lb as u,Ma as e,Mb as P,Na as m,O as M,Ob as N,Pb as b,Qb as z,Rb as r,Sb as d,Wa as E,Xa as R,Z as y,ga as D,gb as C,hb as S,ib as h,ka as w,kb as v,la as T,nb as x,qc as U,rb as o,sb as c,tb as g,td as G,ud as J,wd as Y,xb as B,xd as Z,ya as O,yd as $}from"./chunk-MC3QMJ5E.js";var _t=t=>[t];function Pt(t,a){if(t&1){let i=B();o(0,"div",3)(1,"button",4),k("deleted",function(){w(i);let l=f(2);return T(l.onDeleted())}),p(2),r(3,"translate"),c(),o(4,"a",5),r(5,"localize"),p(6),r(7,"translate"),c()()}if(t&2){let i=f(2);e(),h("appPostDelete",i.dataSource.data().id),e(),P(" ",d(3,4,"uni.delete")," "),e(2),h("routerLink",b(10,_t,d(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),e(2),u(d(7,8,"uni.edit"))}}function It(t,a){if(t&1&&(C(0,Pt,8,12,"div",1),o(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),p(4),c(),o(5,"mat-card-title"),p(6),r(7,"uppercase"),c()(),o(8,"mat-card-content")(9,"p",2),p(10),r(11,"translate"),c(),o(12,"p"),p(13),c()()()),t&2){let i=f();x(0,i.dataSource.state()==="data"?0:-1),e(3),v("blur-sm",i.dataSource.state()==="loading"),e(),u("#"+i.dataSource.data().id),e(),v("blur-sm",i.dataSource.state()==="loading"),e(),u(d(7,13,i.dataSource.data().title)),e(3),v("blur-sm",i.dataSource.state()==="loading"),e(),P(" ",d(11,15,"post-detail.about-post")," "),e(2),v("blur-sm",i.dataSource.state()==="loading"),e(),P(" ",i.dataSource.data().body," ")}}function bt(t,a){if(t&1&&(o(0,"mat-card")(1,"mat-card-content",6),g(2,"mat-icon",7),r(3,"translate"),o(4,"div"),p(5),c()()()),t&2){let i=f();e(2),S("aria-label",d(3,2,"uni.aria-label.error-icon")),e(3),u(i.dataSource.error())}}function Mt(t,a){t&1&&(o(0,"mat-card")(1,"mat-card-content",6),g(2,"mat-icon",8),r(3,"translate"),o(4,"div"),p(5),r(6,"translate"),c()()()),t&2&&(e(2),S("aria-label",d(3,2,"uni.aria-label.warning-icon")),e(3),u(d(6,4,"error.post-was-not-found")))}var yt=(t,a)=>[t,a];function Dt(t,a){if(t&1&&(g(0,"mat-icon",10),r(1,"translate"),o(2,"a",5),r(3,"localize"),p(4),c()),t&2){let i=f(2);S("aria-label",d(1,3,"uni.aria-label.arrow-icon")),e(2),h("routerLink",z(7,yt,d(3,5,"/"),i.dataSource.data().id)),e(2),u(i.dataSource.data().id)}}function wt(t,a){if(t&1&&(o(0,"div",9)(1,"a",5),r(2,"localize"),p(3),r(4,"translate"),c(),C(5,Dt,5,10),c()),t&2){let i=f();e(),h("routerLink",b(7,_t,d(2,3,"/"))),e(2),u(d(4,5,"breadcrumbs.app.posts")),e(2),x(5,i.dataSource.state()==="data"?5:-1)}}var re=(()=>{let a=class a{constructor(n,l,s,_,Ct,St,gt){this.breadcrumbsPortalService=n,this.route=l,this.cdr=s,this.translate=_,this.lr=Ct,this.apiService=St,this.router=gt,this.destroyRef=O(R),this.dataSource=new ut(ft),this.ROUTE_DEFINITION=nt}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),setTimeout(()=>this.cdr.markForCheck()),this.route.paramMap.pipe(M(500),ht(),vt(this.dataSource),xt(),y(n=>this.apiService.detail(n)),Q(this.destroyRef)).subscribe({next:n=>this.dataSource.setData(n),error:()=>{let n=this.translate.instant("error.unexpected-exception");this.dataSource.setError(n)}})}onDeleted(){let n=this.lr.translateRoute("/");this.router.navigate([n])}};a.\u0275fac=function(l){return new(l||a)(m(at),m(K),m(E),m(Y),m(tt),m(ot),m(W))},a.\u0275cmp=D({type:a,selectors:[["app-post-detail"]],viewQuery:function(l,s){if(l&1&&j(I,7),l&2){let _;F(_=L())&&(s.portalContent=_.first)}},standalone:!0,features:[N],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2"],[1,"mb-2","font-semibold","text-md"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"appPostDelete","deleted"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(l,s){l&1&&C(0,It,14,17,"mat-card")(1,bt,6,4,"mat-card")(2,Mt,7,6,"mat-card")(3,wt,6,9,"div",0),l&2&&(x(0,s.dataSource.state()==="data"||s.dataSource.state()==="loading"?0:-1),e(),x(1,s.dataSource.state()==="error"?1:-1),e(),x(2,s.dataSource.state()==="empty"?2:-1))},dependencies:[U,X,it,et,A,I,H,q,V,J,G,mt,dt,lt,st,pt,ct,$,Z,rt],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let t=a;return t})();export{re as PostDetailComponent};
