"use strict";(self.webpackChunkdemo_angular_material_rxdb=self.webpackChunkdemo_angular_material_rxdb||[]).push([[757],{7757:(Q,g,e)=>{e.r(g),e.d(g,{PostCreateComponent:()=>B});var m=e(8484),E=e(6814),t=e(5879),T=e(1993),r=e(6223),_=e(2296),l=e(5195),C=e(617),P=e(2032),O=e(2596),u=e(2787),p=e(3694),d=e(9949),A=e(1374),c=e(7919),v=e(4852),D=e(8807),I=e(5991),U=e(4310),x=e(6241),R=e(2939),f=e(4170);function b(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.form.controls.title.setValue(""))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"close"),t.qZA()()}2&o&&(t.Q6J("matTooltip",t.lcZ(2,4,"UNI.clear")),t.uIk("aria-label",t.lcZ(1,2,"UNI.clear")))}function L(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.form.controls.body.setValue(""))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"close"),t.qZA()()}2&o&&(t.Q6J("matTooltip",t.lcZ(2,4,"UNI.clear")),t.uIk("aria-label",t.lcZ(1,2,"UNI.clear")))}const M=function(o){return[o]};function Z(o,i){1&o&&(t.TgZ(0,"div",11)(1,"a",12),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"mat-icon",13),t.TgZ(6,"a",12),t.ALo(7,"localize"),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(12,M,t.lcZ(2,4,"/"))),t.xp6(2),t.Oqu(t.lcZ(4,6,"BREADCRUMBS.app.posts")),t.xp6(3),t.Q6J("routerLink",t.VKq(14,M,t.lcZ(7,8,"/create"))),t.xp6(2),t.Oqu(t.lcZ(9,10,"BREADCRUMBS.posts.create")))}let B=(()=>{class o{constructor(a,n,s,h,K,y,W,S,N,J,Y){this.fb=a,this.apiService=n,this.breadcrumbsPortalService=s,this.cdr=h,this.language=K,this.seoService=y,this.translate=W,this.lr=S,this.snackBar=N,this.router=J,this.confirm=Y,this.destroyRef=(0,t.f3M)(t.ktI),this.ROUTE_DEFINITION=c.R,this.form=this.fb.group({title:new r.NI("",{nonNullable:!0,validators:[r.kI.required,r.kI.min(3)]}),body:new r.NI("",{nonNullable:!0,validators:[r.kI.required,r.kI.min(3)]})})}canDeactivate(){return this.form.pristine||this.confirm.openCustomConfirmDialog(v.C.UnsavedWork)}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),setTimeout(()=>this.cdr.detectChanges()),this.language.language$.pipe((0,T.sL)(this.destroyRef)).subscribe(()=>{const a=this.lr.translateRoute(`/${c.R.POSTS.CREATE}`);this.seoService.setSeo({title:this.translate.instant(`SEO.${c.R.POSTS.CREATE}.title`),description:this.translate.instant(`SEO.${c.R.POSTS.CREATE}.description`)},a)})}ngOnDestroy(){this.portalContent?.detach()}onSubmit(){this.apiService.create(this.form.value).pipe((0,A.P)()).subscribe({next:a=>{this.form.reset(a),this.snackBar.open(this.translate.instant("response.create.success"),this.translate.instant("UNI.close"));const n=this.lr.translateRoute("/");this.router.navigate([n])},error:()=>{this.snackBar.open(this.translate.instant("response.create.failed"),this.translate.instant("UNI.close"))}})}onReset(a){a.preventDefault(),this.form.reset()}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(r.qu),t.Y36(D.s),t.Y36(I.H),t.Y36(t.sBO),t.Y36(U.T),t.Y36(x.v),t.Y36(d.sK),t.Y36(p.An),t.Y36(R.ux),t.Y36(u.F0),t.Y36(v.w))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-create"]],viewQuery:function(a,n){if(1&a&&t.Gf(m.ig,7),2&a){let s;t.iGM(s=t.CRH())&&(n.portalContent=s.first)}},standalone:!0,features:[t.jDz],decls:27,vars:21,consts:[[1,"flex","flex-col","gap-2","mt-2","text-center"],[3,"formGroup","ngSubmit","reset"],[1,"w-full"],["matInput","","type","text","formControlName","title"],["matSuffix","","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["matInput","","formControlName","body",3,"placeholder"],[1,"flex","justify-center","gap-2"],["mat-button","","color","primary","type","reset",3,"disabled"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["matSuffix","","mat-icon-button","",3,"matTooltip","click"],[1,"container","flex","items-center","gap-1","py-4"],["mat-button","","color","primary",3,"routerLink"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(a,n){1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content",0)(5,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()})("reset",function(h){return n.onReset(h)}),t.TgZ(6,"mat-form-field",2)(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"input",3),t.YNc(11,b,5,6,"button",4),t.qZA(),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"textarea",5),t.ALo(17,"translate"),t.YNc(18,L,5,6,"button",4),t.qZA(),t.TgZ(19,"div",6)(20,"button",7),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"button",8),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()(),t.YNc(26,Z,10,16,"div",9)),2&a&&(t.xp6(3),t.Oqu(n.form.controls.title.value),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(3),t.Oqu(t.lcZ(9,11,"form.post.title.label")),t.xp6(3),t.Q6J("ngIf",n.form.controls.title.value),t.xp6(3),t.Oqu(t.lcZ(15,13,"form.post.body.label")),t.xp6(2),t.Q6J("placeholder",t.lcZ(17,15,"form.post.body.placeholder")),t.xp6(2),t.Q6J("ngIf",n.form.controls.body.value),t.xp6(2),t.Q6J("disabled",n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(22,17,"UNI.reset")," "),t.xp6(2),t.Q6J("disabled",n.form.pristine||n.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(25,19,"UNI.submit")," "))},dependencies:[E.ez,E.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,l.QW,l.a8,l.dn,l.dk,l.n5,C.Ps,C.Hw,P.c,P.Nt,f.KE,f.hX,f.R9,_.ot,_.zs,_.lW,_.RK,O.AV,O.gM,m.eL,m.ig,d.aw,d.X$,u.Bz,u.rH,p.fQ,p.lO],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0}),o})()}}]);