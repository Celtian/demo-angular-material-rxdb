import{a as mt,b as ut,c as ft,d as xt,e as ht}from"./chunk-GBSZBUIS.js";import{a as ot}from"./chunk-Q74SW4UY.js";import{a as A}from"./chunk-TDGUKWTO.js";import{c as nt}from"./chunk-YOF4SGQR.js";import{c as P,e as U,f as Q,g as V,i as q,ja as at,k as J,n as K,o as W,t as $,u as tt,v as et,x as it}from"./chunk-MD3C45FJ.js";import{a as rt,b as dt,c as ct,d as pt,e as lt,f as st}from"./chunk-7PYJMYAL.js";import{$b as N,Bd as X,Cd as Y,Da as O,Db as B,Dd as Z,Eb as k,Fb as F,Jb as d,Kb as s,Lb as g,Nb as j,O as b,Ob as I,Pa as i,Pb as L,Qa as l,Qb as n,Rb as o,Z as M,cb as _,fb as C,gb as x,hb as h,ja as D,kb as f,ma as y,ob as a,pb as r,qb as S,ub as E,uc as z,wa as w,xa as T,xb as R,yd as H,zb as u,zd as G}from"./chunk-OKNWWQ6Y.js";var vt=e=>[e],gt=(e,m)=>[e,m];function Pt(e,m){if(e&1){let t=E();a(0,"div",1)(1,"button",3),R("deleted",function(){w(t);let p=u(2);return T(p.onDeleted())}),d(2),n(3,"translate"),r(),a(4,"a",4),n(5,"localize"),d(6),n(7,"translate"),r()()}if(e&2){let t=u(2);i(),x("appPostDelete",t.dataSource.data().id),i(),g(" ",o(3,4,"uni.delete")," "),i(2),x("routerLink",I(10,vt,o(5,6,"/"+t.dataSource.data().id+"/"+t.ROUTE_DEFINITION.POSTS.EDIT))),i(2),s(o(7,8,"uni.edit"))}}function It(e,m){if(e&1&&(_(0,Pt,8,12,"div",1),a(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),d(4),r(),a(5,"mat-card-title"),d(6),n(7,"uppercase"),r()(),a(8,"mat-card-content")(9,"p",2),d(10),n(11,"translate"),r(),a(12,"p"),d(13),r()()()),e&2){let t=u();f(t.dataSource.state()==="data"?0:-1),i(3),h("blur-sm",t.dataSource.state()==="loading"),i(),s("#"+t.dataSource.data().id),i(),h("blur-sm",t.dataSource.state()==="loading"),i(),s(o(7,13,t.dataSource.data().title)),i(3),h("blur-sm",t.dataSource.state()==="loading"),i(),g(" ",o(11,15,"post-detail.about-post")," "),i(2),h("blur-sm",t.dataSource.state()==="loading"),i(),g(" ",t.dataSource.data().body," ")}}function bt(e,m){if(e&1&&(a(0,"mat-card")(1,"mat-card-content",5),S(2,"mat-icon",6),n(3,"translate"),a(4,"div"),d(5),r()()()),e&2){let t=u();i(2),C("aria-label",o(3,2,"uni.aria-label.error-icon")),i(3),s(t.dataSource.error())}}function Mt(e,m){e&1&&(a(0,"mat-card")(1,"mat-card-content",5),S(2,"mat-icon",7),n(3,"translate"),a(4,"div"),d(5),n(6,"translate"),r()()()),e&2&&(i(2),C("aria-label",o(3,2,"uni.aria-label.warning-icon")),i(3),s(o(6,4,"error.post-was-not-found")))}function Dt(e,m){if(e&1&&(S(0,"mat-icon",9),n(1,"translate"),a(2,"a",4),n(3,"localize"),d(4),r()),e&2){let t=u(2);C("aria-label",o(1,3,"uni.aria-label.arrow-icon")),i(2),x("routerLink",L(7,gt,o(3,5,"/"),t.dataSource.data().id)),i(2),s(t.dataSource.data().id)}}function yt(e,m){if(e&1&&(a(0,"div",8)(1,"a",4),n(2,"localize"),d(3),n(4,"translate"),r(),_(5,Dt,5,10),r()),e&2){let t=u();i(),x("routerLink",I(7,vt,o(2,3,"/"))),i(2),s(o(4,5,"breadcrumbs.app.posts")),i(2),f(t.dataSource.state()==="data"?5:-1)}}var oe=(()=>{class e{constructor(t,c,p,v,_t,Ct,St){this.breadcrumbsPortalService=t,this.route=c,this.cdr=p,this.translate=v,this.lr=_t,this.apiService=Ct,this.router=St,this.destroyRef=D(O),this.dataSource=new mt(ut),this.ROUTE_DEFINITION=at}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),setTimeout(()=>this.cdr.markForCheck()),this.route.paramMap.pipe(b(500),xt(),ht(this.dataSource),ft(),M(t=>this.apiService.detail(t)),A(this.destroyRef)).subscribe({next:t=>this.dataSource.setData(t),error:()=>{let t=this.translate.instant("error.unexpected-exception");this.dataSource.setError(t)}})}onDeleted(){let t=this.lr.translateRoute("/");this.router.navigate([t])}static{this.\u0275fac=function(c){return new(c||e)(l(it),l(J),l(N),l(X),l($),l(nt),l(K))}}static{this.\u0275cmp=y({type:e,selectors:[["app-post-detail"]],viewQuery:function(c,p){if(c&1&&B(P,7),c&2){let v;k(v=F())&&(p.portalContent=v.first)}},standalone:!0,features:[j],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(c,p){c&1&&_(0,It,14,17,"mat-card")(1,bt,6,4,"mat-card")(2,Mt,7,6,"mat-card")(3,yt,6,9,"div",0),c&2&&(f(p.dataSource.state()==="data"||p.dataSource.state()==="loading"?0:-1),i(),f(p.dataSource.state()==="error"?1:-1),i(),f(p.dataSource.state()==="empty"?2:-1))},dependencies:[z,W,et,tt,U,P,q,V,Q,G,H,st,rt,ct,lt,pt,dt,Z,Y,ot],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0})}}return e})();export{oe as PostDetailComponent};
