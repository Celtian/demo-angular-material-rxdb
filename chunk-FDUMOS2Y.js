import{$ as sm,$a as kt,$c as qm,A as he,Aa as hm,Ac as Bm,B as ed,Ba as pm,C as qs,Ca as Lr,D as Dn,Da as or,Db as Dm,Ea as mm,Eb as hd,F as Hs,Fa as Bt,Fb as gi,Fc as $m,G as yt,Ga as ad,H as rd,Ha as Zs,Hb as pd,Hc as oc,I as Ws,Ia as Js,Ib as la,Ic as vd,J as aa,Ja as tc,Jb as vi,K as Ks,Ka as gm,L as Pe,La as vm,Lb as ua,Ma as ym,Mb as yi,Mc as jm,N as An,Na as Zi,Nb as bi,O as Gs,Oa as bm,P as kn,Pa as Ne,Q as nd,Qa as nn,R as om,Ra as wr,Rc as Um,S as id,Sa as Fr,Sb as ar,Sc as zm,T as sa,Ta as on,Tb as Am,Tc as Cr,U as Ys,Ua as _m,Ub as md,Uc as ac,V as qe,Va as In,Vc as Vm,W as Pr,Wa as sd,Wb as gd,Wc as Tn,X as yr,Xa as ec,Xc as Ke,Y as am,Ya as rc,Z as br,Za as re,_ as ye,_a as Wt,a as $,ab as wm,b as mt,ba as J,bb as xm,bd as Hm,ca as Ht,cb as Se,d as Sx,da as cm,db as Ji,dc as ic,e as zs,ea as ot,f as Rx,fa as Gt,fb as Cm,g as j,ga as w,gb as cd,gc as km,h as nr,ha as lm,hb as Em,i as tm,ib as Sm,ic as Im,j as On,ja as He,jb as ld,k as em,ka as We,kb as ud,l as Vs,la as um,lb as ca,lc as Tm,m as it,ma as dm,mc as Br,n as fe,nb as xr,o as ia,ob as Rm,oc as oe,pa as wt,pb as Om,pc as Mm,qa as Lt,r as ir,ra as Qs,rc as Pm,s as Ee,sa as fm,sc as Nm,t as lt,ta as ee,u as rm,ua as Ct,ub as to,v as Xi,vb as pi,vc as Lm,w as nm,wa as Xs,wb as nc,wc as da,x as im,xa as _r,xb as dd,y as bt,ya as od,yb as fd,yc as Fm,z as oa,za as Nr,zb as mi,zc as $r}from"./chunk-CGPOFAB2.js";var rw=Sx((Uh,zh)=>{"use strict";(function(t,r){typeof Uh=="object"&&typeof zh<"u"?zh.exports=r():typeof define=="function"&&define.amd?define(r):(t=typeof globalThis<"u"?globalThis:t||self).Dexie=r()})(Uh,function(){"use strict";var t=function(a,c){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])})(a,c)},r=function(){return(r=Object.assign||function(a){for(var c,u=1,f=arguments.length;u<f;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h]);return a}).apply(this,arguments)};function e(a,c,u){if(u||arguments.length===2)for(var f,h=0,g=c.length;h<g;h++)!f&&h in c||((f=f||Array.prototype.slice.call(c,0,h))[h]=c[h]);return a.concat(f||Array.prototype.slice.call(c))}var n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i=Object.keys,o=Array.isArray;function s(a,c){return typeof c!="object"||i(c).forEach(function(u){a[u]=c[u]}),a}typeof Promise>"u"||n.Promise||(n.Promise=Promise);var l=Object.getPrototypeOf,d={}.hasOwnProperty;function p(a,c){return d.call(a,c)}function m(a,c){typeof c=="function"&&(c=c(l(a))),(typeof Reflect>"u"?i:Reflect.ownKeys)(c).forEach(function(u){x(a,u,c[u])})}var y=Object.defineProperty;function x(a,c,u,f){y(a,c,s(u&&p(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function O(a){return{from:function(c){return a.prototype=Object.create(c.prototype),x(a.prototype,"constructor",a),{extend:m.bind(null,a.prototype)}}}}var N=Object.getOwnPropertyDescriptor,U=[].slice;function G(a,c,u){return U.call(a,c,u)}function tt(a,c){return c(a)}function et(a){if(!a)throw new Error("Assertion Failed")}function rt(a){n.setImmediate?setImmediate(a):setTimeout(a,0)}function Tt(a,c){if(typeof c=="string"&&p(a,c))return a[c];if(!c)return a;if(typeof c!="string"){for(var u=[],f=0,h=c.length;f<h;++f){var g=Tt(a,c[f]);u.push(g)}return u}var v=c.indexOf(".");if(v!==-1){var b=a[c.substr(0,v)];return b==null?void 0:Tt(b,c.substr(v+1))}}function ct(a,c,u){if(a&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof c!="string"&&"length"in c){et(typeof u!="string"&&"length"in u);for(var f=0,h=c.length;f<h;++f)ct(a,c[f],u[f])}else{var g,v,b=c.indexOf(".");b!==-1?(g=c.substr(0,b),(v=c.substr(b+1))===""?u===void 0?o(a)&&!isNaN(parseInt(g))?a.splice(g,1):delete a[g]:a[g]=u:ct(b=!(b=a[g])||!p(a,g)?a[g]={}:b,v,u)):u===void 0?o(a)&&!isNaN(parseInt(c))?a.splice(c,1):delete a[c]:a[c]=u}}function Nt(a){var c,u={};for(c in a)p(a,c)&&(u[c]=a[c]);return u}var At=[].concat;function Vt(a){return At.apply([],a)}var en="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Vt([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(c){return c+a+"Array"})}))).filter(function(a){return n[a]}),ve=new Set(en.map(function(a){return n[a]})),Ue=null;function mr(a){return Ue=new WeakMap,a=(function c(u){if(!u||typeof u!="object")return u;var f=Ue.get(u);if(f)return f;if(o(u)){f=[],Ue.set(u,f);for(var h=0,g=u.length;h<g;++h)f.push(c(u[h]))}else if(ve.has(u.constructor))f=u;else{var v,b=l(u);for(v in f=b===Object.prototype?{}:Object.create(b),Ue.set(u,f),u)p(u,v)&&(f[v]=c(u[v]))}return f})(a),Ue=null,a}var ni={}.toString;function gr(a){return ni.call(a).slice(8,-1)}var zo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",vu=typeof zo=="symbol"?function(a){var c;return a!=null&&(c=a[zo])&&c.apply(a)}:function(){return null};function Jr(a,c){return c=a.indexOf(c),0<=c&&a.splice(c,1),0<=c}var vn={};function Me(a){var c,u,f,h;if(arguments.length===1){if(o(a))return a.slice();if(this===vn&&typeof a=="string")return[a];if(h=vu(a)){for(u=[];!(f=h.next()).done;)u.push(f.value);return u}if(a==null)return[a];if(typeof(c=a.length)!="number")return[a];for(u=new Array(c);c--;)u[c]=a[c];return u}for(c=arguments.length,u=new Array(c);c--;)u[c]=arguments[c];return u}var yn=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wo),Vo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function vr(a,c){this.name=a,this.message=c}function ps(a,c){return a+". Errors: "+Object.keys(c).map(function(u){return c[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function ce(a,c,u,f){this.failures=c,this.failedKeys=f,this.successCount=u,this.message=ps(a,c)}function le(a,c){this.name="BulkError",this.failures=Object.keys(c).map(function(u){return c[u]}),this.failuresByPos=c,this.message=ps(a,this.failures)}O(vr).from(Error).extend({toString:function(){return this.name+": "+this.message}}),O(ce).from(vr),O(le).from(vr);var bn=rr.reduce(function(a,c){return a[c]=c+"Error",a},{}),yu=vr,at=rr.reduce(function(a,c){var u=c+"Error";function f(h,g){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Vo[c]||u,this.inner=null)}return O(f).from(yu),a[c]=f,a},{});at.Syntax=SyntaxError,at.Type=TypeError,at.Range=RangeError;var _p=Wo.reduce(function(a,c){return a[c+"Error"]=at[c],a},{}),ms=rr.reduce(function(a,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(a[c+"Error"]=at[c]),a},{});function Mt(){}function qo(a){return a}function Yw(a,c){return a==null||a===qo?c:function(u){return c(a(u))}}function ii(a,c){return function(){a.apply(this,arguments),c.apply(this,arguments)}}function Qw(a,c){return a===Mt?c:function(){var u=a.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?ii(f,this.onsuccess):f),h&&(this.onerror=this.onerror?ii(h,this.onerror):h),g!==void 0?g:u}}function Xw(a,c){return a===Mt?c:function(){a.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?ii(u,this.onsuccess):u),f&&(this.onerror=this.onerror?ii(f,this.onerror):f)}}function Zw(a,c){return a===Mt?c:function(u){var f=a.apply(this,arguments);s(u,f);var h=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=c.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?ii(h,this.onsuccess):h),g&&(this.onerror=this.onerror?ii(g,this.onerror):g),f===void 0?u===void 0?void 0:u:s(f,u)}}function Jw(a,c){return a===Mt?c:function(){return c.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function bu(a,c){return a===Mt?c:function(){var u=a.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return u.then(function(){return c.apply(f,g)})}return c.apply(this,arguments)}}ms.ModifyError=ce,ms.DexieError=vr,ms.BulkError=le;var Ir=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wp(a){Ir=a}var Ho={},xp=100,en=typeof Promise>"u"?[]:(function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,l(a),a];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,l(c),a]})(),Wo=en[0],rr=en[1],en=en[2],rr=rr&&rr.then,oi=Wo&&Wo.constructor,_u=!!en,Ko=function(a,c){Go.push([a,c]),gs&&(queueMicrotask(ex),gs=!1)},wu=!0,gs=!0,ai=[],vs=[],xu=qo,_n={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Mt,pgp:!1,env:{},finalize:Mt},nt=_n,Go=[],si=0,ys=[];function Q(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=nt;if(typeof a!="function"){if(a!==Ho)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Eu(this,this._value))}this._state=null,this._value=null,++c.ref,(function u(f,h){try{h(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&qi();g&&typeof g.then=="function"?u(f,function(b,C){g instanceof Q?g._then(b,C):g.then(b,C)}):(f._state=!0,f._value=g,Ep(f)),v&&Hi()}},Eu.bind(null,f))}catch(g){Eu(f,g)}})(this,a)}var Cu={get:function(){var a=nt,c=xs;function u(f,h){var g=this,v=!a.global&&(a!==nt||c!==xs),b=v&&!xn(),C=new Q(function(S,A){Su(g,new Cp(Rp(f,a,v,b),Rp(h,a,v,b),S,A,a))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return u.prototype=Ho,u},set:function(a){x(this,"then",a&&a.prototype===Ho?Cu:{get:function(){return a},set:Cu.set})}};function Cp(a,c,u,f,h){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof c=="function"?c:null,this.resolve=u,this.reject=f,this.psd=h}function Eu(a,c){var u,f;vs.push(c),a._state===null&&(u=a._lib&&qi(),c=xu(c),a._state=!1,a._value=c,f=a,ai.some(function(h){return h._value===f._value})||ai.push(f),Ep(a),u&&Hi())}function Ep(a){var c=a._listeners;a._listeners=[];for(var u=0,f=c.length;u<f;++u)Su(a,c[u]);var h=a._PSD;--h.ref||h.finalize(),si===0&&(++si,Ko(function(){--si==0&&Ru()},[]))}function Su(a,c){if(a._state!==null){var u=a._state?c.onFulfilled:c.onRejected;if(u===null)return(a._state?c.resolve:c.reject)(a._value);++c.psd.ref,++si,Ko(tx,[u,a,c])}else a._listeners.push(c)}function tx(a,c,u){try{var f,h=c._value;!c._state&&vs.length&&(vs=[]),f=Ir&&c._consoleTask?c._consoleTask.run(function(){return a(h)}):a(h),c._state||vs.indexOf(h)!==-1||(function(g){for(var v=ai.length;v;)if(ai[--v]._value===g._value)return ai.splice(v,1)})(c),u.resolve(f)}catch(g){u.reject(g)}finally{--si==0&&Ru(),--u.psd.ref||u.psd.finalize()}}function ex(){ci(_n,function(){qi()&&Hi()})}function qi(){var a=wu;return gs=wu=!1,a}function Hi(){var a,c,u;do for(;0<Go.length;)for(a=Go,Go=[],u=a.length,c=0;c<u;++c){var f=a[c];f[0].apply(null,f[1])}while(0<Go.length);gs=wu=!0}function Ru(){var a=ai;ai=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=ys.slice(0),u=c.length;u;)c[--u]()}function bs(a){return new Q(Ho,!1,a)}function Kt(a,c){var u=nt;return function(){var f=qi(),h=nt;try{return Cn(u,!0),a.apply(this,arguments)}catch(g){c&&c(g)}finally{Cn(h,!1),f&&Hi()}}}m(Q.prototype,{then:Cu,_then:function(a,c){Su(this,new Cp(null,null,a,c,nt))},catch:function(a){if(arguments.length===1)return this.then(null,a);var c=a,u=arguments[1];return typeof c=="function"?this.then(null,function(f){return(f instanceof c?u:bs)(f)}):this.then(null,function(f){return(f&&f.name===c?u:bs)(f)})},finally:function(a){return this.then(function(c){return Q.resolve(a()).then(function(){return c})},function(c){return Q.resolve(a()).then(function(){return bs(c)})})},timeout:function(a,c){var u=this;return a<1/0?new Q(function(f,h){var g=setTimeout(function(){return h(new at.Timeout(c))},a);u.then(f,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&x(Q.prototype,Symbol.toStringTag,"Dexie.Promise"),_n.env=Sp(),m(Q,{all:function(){var a=Me.apply(null,arguments).map(Cs);return new Q(function(c,u){a.length===0&&c([]);var f=a.length;a.forEach(function(h,g){return Q.resolve(h).then(function(v){a[g]=v,--f||c(a)},u)})})},resolve:function(a){return a instanceof Q?a:a&&typeof a.then=="function"?new Q(function(c,u){a.then(c,u)}):new Q(Ho,!0,a)},reject:bs,race:function(){var a=Me.apply(null,arguments).map(Cs);return new Q(function(c,u){a.map(function(f){return Q.resolve(f).then(c,u)})})},PSD:{get:function(){return nt},set:function(a){return nt=a}},totalEchoes:{get:function(){return xs}},newPSD:wn,usePSD:ci,scheduler:{get:function(){return Ko},set:function(a){Ko=a}},rejectionMapper:{get:function(){return xu},set:function(a){xu=a}},follow:function(a,c){return new Q(function(u,f){return wn(function(h,g){var v=nt;v.unhandleds=[],v.onunhandled=g,v.finalize=ii(function(){var b,C=this;b=function(){C.unhandleds.length===0?h():g(C.unhandleds[0])},ys.push(function S(){b(),ys.splice(ys.indexOf(S),1)}),++si,Ko(function(){--si==0&&Ru()},[])},v.finalize),a()},c,u,f)})}}),oi&&(oi.allSettled&&x(Q,"allSettled",function(){var a=Me.apply(null,arguments).map(Cs);return new Q(function(c){a.length===0&&c([]);var u=a.length,f=new Array(u);a.forEach(function(h,g){return Q.resolve(h).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--u||c(f)})})})}),oi.any&&typeof AggregateError<"u"&&x(Q,"any",function(){var a=Me.apply(null,arguments).map(Cs);return new Q(function(c,u){a.length===0&&u(new AggregateError([]));var f=a.length,h=new Array(f);a.forEach(function(g,v){return Q.resolve(g).then(function(b){return c(b)},function(b){h[v]=b,--f||u(new AggregateError(h))})})})}),oi.withResolvers&&(Q.withResolvers=oi.withResolvers));var ue={awaits:0,echoes:0,id:0},rx=0,_s=[],ws=0,xs=0,nx=0;function wn(a,c,u,f){var h=nt,g=Object.create(h);return g.parent=h,g.ref=0,g.global=!1,g.id=++nx,_n.env,g.env=_u?{Promise:Q,PromiseProp:{value:Q,configurable:!0,writable:!0},all:Q.all,race:Q.race,allSettled:Q.allSettled,any:Q.any,resolve:Q.resolve,reject:Q.reject}:{},c&&s(g,c),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=ci(g,a,u,f),g.ref===0&&g.finalize(),f}function Wi(){return ue.id||(ue.id=++rx),++ue.awaits,ue.echoes+=xp,ue.id}function xn(){return!!ue.awaits&&(--ue.awaits==0&&(ue.id=0),ue.echoes=ue.awaits*xp,!0)}function Cs(a){return ue.echoes&&a&&a.constructor===oi?(Wi(),a.then(function(c){return xn(),c},function(c){return xn(),Zt(c)})):a}function ix(){var a=_s[_s.length-1];_s.pop(),Cn(a,!1)}function Cn(a,c){var u,f=nt;(c?!ue.echoes||ws++&&a===nt:!ws||--ws&&a===nt)||queueMicrotask(c?function(h){++xs,ue.echoes&&--ue.echoes!=0||(ue.echoes=ue.awaits=ue.id=0),_s.push(nt),Cn(h,!0)}.bind(null,a):ix),a!==nt&&(nt=a,f===_n&&(_n.env=Sp()),_u&&(u=_n.env.Promise,c=a.env,(f.global||a.global)&&(Object.defineProperty(n,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any&&(u.any=c.any))))}function Sp(){var a=n.Promise;return _u?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(n,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function ci(a,c,u,f,h){var g=nt;try{return Cn(a,!0),c(u,f,h)}finally{Cn(g,!1)}}function Rp(a,c,u,f){return typeof a!="function"?a:function(){var h=nt;u&&Wi(),Cn(c,!0);try{return a.apply(this,arguments)}finally{Cn(h,!1),f&&queueMicrotask(xn)}}}function Ou(a){Promise===oi&&ue.echoes===0?ws===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+rr).indexOf("[native code]")===-1&&(Wi=xn=Mt);var Zt=Q.reject,li="\uFFFF",tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Op="String expected.",Ki=[],Es="__dbnames",Du="readonly",Au="readwrite";function ui(a,c){return a?c?function(){return a.apply(this,arguments)&&c.apply(this,arguments)}:a:c}var Dp={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ss(a){return typeof a!="string"||/\./.test(a)?function(c){return c}:function(c){return c[a]===void 0&&a in c&&delete(c=mr(c))[a],c}}function Ap(){throw at.Type()}function _t(a,c){try{var u=kp(a),f=kp(c);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return c<a?1:a<c?-1:0;case"binary":return(function(h,g){for(var v=h.length,b=g.length,C=v<b?v:b,S=0;S<C;++S)if(h[S]!==g[S])return h[S]<g[S]?-1:1;return v===b?0:v<b?-1:1})(Ip(a),Ip(c));case"Array":return(function(h,g){for(var v=h.length,b=g.length,C=v<b?v:b,S=0;S<C;++S){var A=_t(h[S],g[S]);if(A!==0)return A}return v===b?0:v<b?-1:1})(a,c)}}catch(h){}return NaN}function kp(a){var c=typeof a;return c!="object"?c:ArrayBuffer.isView(a)?"binary":(a=gr(a),a==="ArrayBuffer"?"binary":a)}function Ip(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Tp=(qt.prototype._trans=function(a,c,u){var f=this._tx||nt.trans,h=this.name,g=Ir&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function v(S,A,_){if(!_.schema[h])throw new at.NotFound("Table "+h+" not part of transaction");return c(_.idbtrans,_)}var b=qi();try{var C=f&&f.db._novip===this.db._novip?f===nt.trans?f._promise(a,v,u):wn(function(){return f._promise(a,v,u)},{trans:f,transless:nt.transless||nt}):(function S(A,_,I,E){if(A.idbdb&&(A._state.openComplete||nt.letThrough||A._vip)){var D=A._createTransaction(_,I,A._dbSchema);try{D.create(),A._state.PR1398_maxLoop=3}catch(k){return k.name===bn.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return S(A,_,I,E)})):Zt(k)}return D._promise(_,function(k,R){return wn(function(){return nt.trans=D,E(k,R,D)})}).then(function(k){if(_==="readwrite")try{D.idbtrans.commit()}catch(R){}return _==="readonly"?k:D._completion.then(function(){return k})})}if(A._state.openComplete)return Zt(new at.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return Zt(new at.DatabaseClosed);A.open().catch(Mt)}return A._state.dbReadyPromise.then(function(){return S(A,_,I,E)})})(this.db,a,[this.name],v);return g&&(C._consoleTask=g,C=C.catch(function(S){return console.trace(S),Zt(S)})),C}finally{b&&Hi()}},qt.prototype.get=function(a,c){var u=this;return a&&a.constructor===Object?this.where(a).first(c):a==null?Zt(new at.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:a}).then(function(h){return u.hook.reading.fire(h)})}).then(c)},qt.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(o(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var c=i(a);if(c.length===1)return this.where(c[0]).equals(a[c[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&c.every(function(S){return 0<=b.keyPath.indexOf(S)})){for(var C=0;C<c.length;++C)if(c.indexOf(b.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(b,C){return b.keyPath.length-C.keyPath.length})[0];if(u&&this.db._maxKey!==li){var g=u.keyPath.slice(0,c.length);return this.where(g).equals(g.map(function(C){return a[C]}))}!u&&Ir&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName;function h(b,C){return _t(b,C)===0}var v=c.reduce(function(_,C){var S=_[0],A=_[1],_=f[C],I=a[C];return[S||_,S||!_?ui(A,_&&_.multi?function(E){return E=Tt(E,C),o(E)&&E.some(function(D){return h(I,D)})}:function(E){return h(I,Tt(E,C))}):A]},[null,null]),g=v[0],v=v[1];return g?this.where(g.name).equals(a[g.keyPath]).filter(v):u?this.filter(v):this.where(c).equals("")},qt.prototype.filter=function(a){return this.toCollection().and(a)},qt.prototype.count=function(a){return this.toCollection().count(a)},qt.prototype.offset=function(a){return this.toCollection().offset(a)},qt.prototype.limit=function(a){return this.toCollection().limit(a)},qt.prototype.each=function(a){return this.toCollection().each(a)},qt.prototype.toArray=function(a){return this.toCollection().toArray(a)},qt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qt.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,o(a)?"[".concat(a.join("+"),"]"):a))},qt.prototype.reverse=function(){return this.toCollection().reverse()},qt.prototype.mapToClass=function(a){var c,u=this.db,f=this.name;function h(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof Ap&&((function(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function A(){this.constructor=C}t(C,S),C.prototype=S===null?Object.create(S):(A.prototype=S.prototype,new A)})(h,c=a),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},a=h);for(var g=new Set,v=a.prototype;v;v=l(v))Object.getOwnPropertyNames(v).forEach(function(C){return g.add(C)});function b(C){if(!C)return C;var S,A=Object.create(a.prototype);for(S in C)if(!g.has(S))try{A[S]=C[S]}catch(_){}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),a},qt.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},qt.prototype.add=function(a,c){var u=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=a;return g&&h&&(v=Ss(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:c!=null?[c]:null,values:[v]})}).then(function(b){return b.numFailures?Q.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{ct(a,g,b)}catch(C){}return b})},qt.prototype.update=function(a,c){return typeof a!="object"||o(a)?this.where(":id").equals(a).modify(c):(a=Tt(a,this.schema.primKey.keyPath),a===void 0?Zt(new at.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(c))},qt.prototype.put=function(a,c){var u=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=a;return g&&h&&(v=Ss(g)(a)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[v],keys:c!=null?[c]:null})}).then(function(b){return b.numFailures?Q.reject(b.failures[0]):b.lastResult}).then(function(b){if(g)try{ct(a,g,b)}catch(C){}return b})},qt.prototype.delete=function(a){var c=this;return this._trans("readwrite",function(u){return c.core.mutate({trans:u,type:"delete",keys:[a]})}).then(function(u){return u.numFailures?Q.reject(u.failures[0]):void 0})},qt.prototype.clear=function(){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"deleteRange",range:Dp})}).then(function(c){return c.numFailures?Q.reject(c.failures[0]):void 0})},qt.prototype.bulkGet=function(a){var c=this;return this._trans("readonly",function(u){return c.core.getMany({keys:a,trans:u}).then(function(f){return f.map(function(h){return c.hook.reading.fire(h)})})})},qt.prototype.bulkAdd=function(a,c,u){var f=this,h=Array.isArray(c)?c:void 0,g=(u=u||(h?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var S=f.schema.primKey,b=S.auto,S=S.keyPath;if(S&&h)throw new at.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new at.InvalidArgument("Arguments objects and keys must have the same length");var C=a.length,S=S&&b?a.map(Ss(S)):a;return f.core.mutate({trans:v,type:"add",keys:h,values:S,wantResults:g}).then(function(D){var _=D.numFailures,I=D.results,E=D.lastResult,D=D.failures;if(_===0)return g?I:E;throw new le("".concat(f.name,".bulkAdd(): ").concat(_," of ").concat(C," operations failed"),D)})})},qt.prototype.bulkPut=function(a,c,u){var f=this,h=Array.isArray(c)?c:void 0,g=(u=u||(h?void 0:c))?u.allKeys:void 0;return this._trans("readwrite",function(v){var S=f.schema.primKey,b=S.auto,S=S.keyPath;if(S&&h)throw new at.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new at.InvalidArgument("Arguments objects and keys must have the same length");var C=a.length,S=S&&b?a.map(Ss(S)):a;return f.core.mutate({trans:v,type:"put",keys:h,values:S,wantResults:g}).then(function(D){var _=D.numFailures,I=D.results,E=D.lastResult,D=D.failures;if(_===0)return g?I:E;throw new le("".concat(f.name,".bulkPut(): ").concat(_," of ").concat(C," operations failed"),D)})})},qt.prototype.bulkUpdate=function(a){var c=this,u=this.core,f=a.map(function(v){return v.key}),h=a.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:f,cache:"clone"}).then(function(b){var C=[],S=[];a.forEach(function(_,I){var E=_.key,D=_.changes,k=b[I];if(k){for(var R=0,T=Object.keys(D);R<T.length;R++){var M=T[R],P=D[M];if(M===c.schema.primKey.keyPath){if(_t(P,E)!==0)throw new at.Constraint("Cannot update primary key in bulkUpdate()")}else ct(k,M,P)}g.push(I),C.push(E),S.push(k)}});var A=C.length;return u.mutate({trans:v,type:"put",keys:C,values:S,updates:{keys:f,changeSpecs:h}}).then(function(_){var I=_.numFailures,E=_.failures;if(I===0)return A;for(var D=0,k=Object.keys(E);D<k.length;D++){var R,T=k[D],M=g[Number(T)];M!=null&&(R=E[T],delete E[T],E[M]=R)}throw new le("".concat(c.name,".bulkUpdate(): ").concat(I," of ").concat(A," operations failed"),E)})})})},qt.prototype.bulkDelete=function(a){var c=this,u=a.length;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:a})}).then(function(v){var h=v.numFailures,g=v.lastResult,v=v.failures;if(h===0)return g;throw new le("".concat(c.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),v)})},qt);function qt(){}function Yo(a){function c(v,b){if(b){for(var C=arguments.length,S=new Array(C-1);--C;)S[C-1]=arguments[C];return u[v].subscribe.apply(null,S),a}if(typeof v=="string")return u[v]}var u={};c.addEventType=g;for(var f=1,h=arguments.length;f<h;++f)g(arguments[f]);return c;function g(v,b,C){if(typeof v!="object"){var S;b=b||Jw;var A={subscribers:[],fire:C=C||Mt,subscribe:function(_){A.subscribers.indexOf(_)===-1&&(A.subscribers.push(_),A.fire=b(A.fire,_))},unsubscribe:function(_){A.subscribers=A.subscribers.filter(function(I){return I!==_}),A.fire=A.subscribers.reduce(b,C)}};return u[v]=c[v]=A}i(S=v).forEach(function(_){var I=S[_];if(o(I))g(_,S[_][0],S[_][1]);else{if(I!=="asap")throw new at.InvalidArgument("Invalid event config");var E=g(_,qo,function(){for(var D=arguments.length,k=new Array(D);D--;)k[D]=arguments[D];E.subscribers.forEach(function(R){rt(function(){R.apply(null,k)})})})}})}}function Qo(a,c){return O(c).from({prototype:a}),c}function Gi(a,c){return!(a.filter||a.algorithm||a.or)&&(c?a.justLimit:!a.replayFilter)}function ku(a,c){a.filter=ui(a.filter,c)}function Iu(a,c,u){var f=a.replayFilter;a.replayFilter=f?function(){return ui(f(),c())}:c,a.justLimit=u&&!f}function Rs(a,c){if(a.isPrimKey)return c.primaryKey;var u=c.getIndexByKeyPath(a.index);if(!u)throw new at.Schema("KeyPath "+a.index+" on object store "+c.name+" is not indexed");return u}function Mp(a,c,u){var f=Rs(a,c.schema);return c.openCursor({trans:u,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function Os(a,c,u,f){var h=a.replayFilter?ui(a.filter,a.replayFilter()):a.filter;if(a.or){var g={},v=function(b,C,S){var A,_;h&&!h(C,S,function(I){return C.stop(I)},function(I){return C.fail(I)})||((_=""+(A=C.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(A)),p(g,_)||(g[_]=!0,c(b,C,S)))};return Promise.all([a.or._iterate(v,u),Pp(Mp(a,f,u),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}return Pp(Mp(a,f,u),ui(a.algorithm,h),c,!a.keysOnly&&a.valueMapper)}function Pp(a,c,u,f){var h=Kt(f?function(g,v,b){return u(f(g),v,b)}:u);return a.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};c&&!c(g,function(b){return v=b},function(b){g.stop(b),v=Mt},function(b){g.fail(b),v=Mt})||h(g.value,g,function(b){return v=b}),v()})})}var en=Symbol(),Xo=(Np.prototype.execute=function(a){if(this.add!==void 0){var c=this.add;if(o(c))return e(e([],o(a)?a:[],!0),c,!0).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch(f){return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(this.remove!==void 0){var u=this.remove;if(o(u))return o(a)?a.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(a)-u;if(typeof u=="bigint")try{return BigInt(a)-u}catch(f){return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?this.replacePrefix[1]+a.substring(c.length):a},Np);function Np(a){Object.assign(this,a)}var ox=(xt.prototype._read=function(a,c){var u=this._ctx;return u.error?u.table._trans(null,Zt.bind(null,u.error)):u.table._trans("readonly",a).then(c)},xt.prototype._write=function(a){var c=this._ctx;return c.error?c.table._trans(null,Zt.bind(null,c.error)):c.table._trans("readwrite",a,"locked")},xt.prototype._addAlgorithm=function(a){var c=this._ctx;c.algorithm=ui(c.algorithm,a)},xt.prototype._iterate=function(a,c){return Os(this._ctx,a,c,this._ctx.table.core)},xt.prototype.clone=function(a){var c=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return a&&s(u,a),c._ctx=u,c},xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},xt.prototype.each=function(a){var c=this._ctx;return this._read(function(u){return Os(c,a,u,c.table.core)})},xt.prototype.count=function(a){var c=this;return this._read(function(u){var f=c._ctx,h=f.table.core;if(Gi(f,!0))return h.count({trans:u,query:{index:Rs(f,h.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return Os(f,function(){return++g,!1},u,h).then(function(){return g})}).then(a)},xt.prototype.sortBy=function(a,c){var u=a.split(".").reverse(),f=u[0],h=u.length-1;function g(C,S){return S?g(C[u[S]],S-1):C[f]}var v=this._ctx.dir==="next"?1:-1;function b(C,S){return _t(g(C,h),g(S,h))*v}return this.toArray(function(C){return C.sort(b)}).then(c)},xt.prototype.toArray=function(a){var c=this;return this._read(function(u){var f=c._ctx;if(f.dir==="next"&&Gi(f,!0)&&0<f.limit){var h=f.valueMapper,g=Rs(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(b){return b=b.result,h?b.map(h):b})}var v=[];return Os(f,function(b){return v.push(b)},u,f.table.core).then(function(){return v})},a)},xt.prototype.offset=function(a){var c=this._ctx;return a<=0||(c.offset+=a,Gi(c)?Iu(c,function(){var u=a;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):Iu(c,function(){var u=a;return function(){return--u<0}})),this},xt.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),Iu(this._ctx,function(){var c=a;return function(u,f,h){return--c<=0&&f(h),0<=c}},!0),this},xt.prototype.until=function(a,c){return ku(this._ctx,function(u,f,h){return!a(u.value)||(f(h),c)}),this},xt.prototype.first=function(a){return this.limit(1).toArray(function(c){return c[0]}).then(a)},xt.prototype.last=function(a){return this.reverse().first(a)},xt.prototype.filter=function(a){var c;return ku(this._ctx,function(u){return a(u.value)}),(c=this._ctx).isMatch=ui(c.isMatch,a),this},xt.prototype.and=function(a){return this.filter(a)},xt.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xt.prototype.desc=function(){return this.reverse()},xt.prototype.eachKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.key,f)})},xt.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},xt.prototype.eachPrimaryKey=function(a){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(u,f){a(f.primaryKey,f)})},xt.prototype.keys=function(a){var c=this._ctx;c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(a)},xt.prototype.primaryKeys=function(a){var c=this._ctx;if(c.dir==="next"&&Gi(c,!0)&&0<c.limit)return this._read(function(f){var h=Rs(c,c.table.core.schema);return c.table.core.query({trans:f,values:!1,limit:c.limit,query:{index:h,range:c.range}})}).then(function(f){return f.result}).then(a);c.keysOnly=!c.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(a)},xt.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},xt.prototype.firstKey=function(a){return this.limit(1).keys(function(c){return c[0]}).then(a)},xt.prototype.lastKey=function(a){return this.reverse().firstKey(a)},xt.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var c={};return ku(this._ctx,function(h){var f=h.primaryKey.toString(),h=p(c,f);return c[f]=!0,!h}),this},xt.prototype.modify=function(a){var c=this,u=this._ctx;return this._write(function(f){var h,g,v;v=typeof a=="function"?a:(h=i(a),g=h.length,function(R){for(var T=!1,M=0;M<g;++M){var P=h[M],B=a[P],V=Tt(R,P);B instanceof Xo?(ct(R,P,B.execute(V)),T=!0):V!==B&&(ct(R,P,B),T=!0)}return T});var b=u.table.core,_=b.schema.primaryKey,C=_.outbound,S=_.extractKey,A=200,_=c.db._options.modifyChunkSize;_&&(A=typeof _=="object"?_[b.name]||_["*"]||200:_);function I(R,P){var M=P.failures,P=P.numFailures;D+=R-P;for(var B=0,V=i(M);B<V.length;B++){var K=V[B];E.push(M[K])}}var E=[],D=0,k=[];return c.clone().primaryKeys().then(function(R){function T(P){var B=Math.min(A,R.length-P);return b.getMany({trans:f,keys:R.slice(P,P+B),cache:"immutable"}).then(function(V){for(var K=[],q=[],H=C?[]:null,Y=[],W=0;W<B;++W){var Z=V[W],pt={value:mr(Z),primKey:R[P+W]};v.call(pt,pt.value,pt)!==!1&&(pt.value==null?Y.push(R[P+W]):C||_t(S(Z),S(pt.value))===0?(q.push(pt.value),C&&H.push(R[P+W])):(Y.push(R[P+W]),K.push(pt.value)))}return Promise.resolve(0<K.length&&b.mutate({trans:f,type:"add",values:K}).then(function(gt){for(var vt in gt.failures)Y.splice(parseInt(vt),1);I(K.length,gt)})).then(function(){return(0<q.length||M&&typeof a=="object")&&b.mutate({trans:f,type:"put",keys:H,values:q,criteria:M,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<P}).then(function(gt){return I(q.length,gt)})}).then(function(){return(0<Y.length||M&&a===Tu)&&b.mutate({trans:f,type:"delete",keys:Y,criteria:M,isAdditionalChunk:0<P}).then(function(gt){return I(Y.length,gt)})}).then(function(){return R.length>P+B&&T(P+A)})})}var M=Gi(u)&&u.limit===1/0&&(typeof a!="function"||a===Tu)&&{index:u.index,range:u.range};return T(0).then(function(){if(0<E.length)throw new ce("Error modifying one or more objects",E,D,k);return R.length})})})},xt.prototype.delete=function(){var a=this._ctx,c=a.range;return Gi(a)&&(a.isPrimKey||c.type===3)?this._write(function(u){var f=a.table.core.schema.primaryKey,h=c;return a.table.core.count({trans:u,query:{index:f,range:h}}).then(function(g){return a.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(v){var b=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new ce("Could not delete some values",Object.keys(b).map(function(C){return b[C]}),g-v);return g-v})})}):this.modify(Tu)},xt);function xt(){}var Tu=function(a,c){return c.value=null};function ax(a,c){return a<c?-1:a===c?0:1}function sx(a,c){return c<a?-1:a===c?0:1}function ze(a,c,u){return a=a instanceof Fp?new a.Collection(a):a,a._ctx.error=new(u||TypeError)(c),a}function Yi(a){return new a.Collection(a,function(){return Lp("")}).limit(0)}function Ds(a,c,u,f){var h,g,v,b,C,S,A,_=u.length;if(!u.every(function(D){return typeof D=="string"}))return ze(a,Op);function I(D){h=D==="next"?function(R){return R.toUpperCase()}:function(R){return R.toLowerCase()},g=D==="next"?function(R){return R.toLowerCase()}:function(R){return R.toUpperCase()},v=D==="next"?ax:sx;var k=u.map(function(R){return{lower:g(R),upper:h(R)}}).sort(function(R,T){return v(R.lower,T.lower)});b=k.map(function(R){return R.upper}),C=k.map(function(R){return R.lower}),A=(S=D)==="next"?"":f}I("next"),a=new a.Collection(a,function(){return En(b[0],C[_-1]+f)}),a._ondirectionchange=function(D){I(D)};var E=0;return a._addAlgorithm(function(D,k,R){var T=D.key;if(typeof T!="string")return!1;var M=g(T);if(c(M,C,E))return!0;for(var P=null,B=E;B<_;++B){var V=(function(K,q,H,Y,W,Z){for(var pt=Math.min(K.length,Y.length),gt=-1,vt=0;vt<pt;++vt){var Ve=q[vt];if(Ve!==Y[vt])return W(K[vt],H[vt])<0?K.substr(0,vt)+H[vt]+H.substr(vt+1):W(K[vt],Y[vt])<0?K.substr(0,vt)+Y[vt]+H.substr(vt+1):0<=gt?K.substr(0,gt)+q[gt]+H.substr(gt+1):null;W(K[vt],Ve)<0&&(gt=vt)}return pt<Y.length&&Z==="next"?K+H.substr(K.length):pt<K.length&&Z==="prev"?K.substr(0,H.length):gt<0?null:K.substr(0,gt)+Y[gt]+H.substr(gt+1)})(T,M,b[B],C[B],v,S);V===null&&P===null?E=B+1:(P===null||0<v(P,V))&&(P=V)}return k(P!==null?function(){D.continue(P+A)}:R),!1}),a}function En(a,c,u,f){return{type:2,lower:a,upper:c,lowerOpen:u,upperOpen:f}}function Lp(a){return{type:1,lower:a,upper:a}}var Fp=(Object.defineProperty(de.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),de.prototype.between=function(a,c,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(a,c)||this._cmp(a,c)===0&&(u||f)&&(!u||!f)?Yi(this):new this.Collection(this,function(){return En(a,c,!u,!f)})}catch(h){return ze(this,tn)}},de.prototype.equals=function(a){return a==null?ze(this,tn):new this.Collection(this,function(){return Lp(a)})},de.prototype.above=function(a){return a==null?ze(this,tn):new this.Collection(this,function(){return En(a,void 0,!0)})},de.prototype.aboveOrEqual=function(a){return a==null?ze(this,tn):new this.Collection(this,function(){return En(a,void 0,!1)})},de.prototype.below=function(a){return a==null?ze(this,tn):new this.Collection(this,function(){return En(void 0,a,!1,!0)})},de.prototype.belowOrEqual=function(a){return a==null?ze(this,tn):new this.Collection(this,function(){return En(void 0,a)})},de.prototype.startsWith=function(a){return typeof a!="string"?ze(this,Op):this.between(a,a+li,!0,!0)},de.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):Ds(this,function(c,u){return c.indexOf(u[0])===0},[a],li)},de.prototype.equalsIgnoreCase=function(a){return Ds(this,function(c,u){return c===u[0]},[a],"")},de.prototype.anyOfIgnoreCase=function(){var a=Me.apply(vn,arguments);return a.length===0?Yi(this):Ds(this,function(c,u){return u.indexOf(c)!==-1},a,"")},de.prototype.startsWithAnyOfIgnoreCase=function(){var a=Me.apply(vn,arguments);return a.length===0?Yi(this):Ds(this,function(c,u){return u.some(function(f){return c.indexOf(f)===0})},a,li)},de.prototype.anyOf=function(){var a=this,c=Me.apply(vn,arguments),u=this._cmp;try{c.sort(u)}catch(g){return ze(this,tn)}if(c.length===0)return Yi(this);var f=new this.Collection(this,function(){return En(c[0],c[c.length-1])});f._ondirectionchange=function(g){u=g==="next"?a._ascending:a._descending,c.sort(u)};var h=0;return f._addAlgorithm(function(g,v,b){for(var C=g.key;0<u(C,c[h]);)if(++h===c.length)return v(b),!1;return u(C,c[h])===0||(v(function(){g.continue(c[h])}),!1)}),f},de.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},de.prototype.noneOf=function(){var a=Me.apply(vn,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(u){return ze(this,tn)}var c=a.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return c.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},de.prototype.inAnyRange=function(T,c){var u=this,f=this._cmp,h=this._ascending,g=this._descending,v=this._min,b=this._max;if(T.length===0)return Yi(this);if(!T.every(function(M){return M[0]!==void 0&&M[1]!==void 0&&h(M[0],M[1])<=0}))return ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",at.InvalidArgument);var C=!c||c.includeLowers!==!1,S=c&&c.includeUppers===!0,A,_=h;function I(M,P){return _(M[0],P[0])}try{(A=T.reduce(function(M,P){for(var B=0,V=M.length;B<V;++B){var K=M[B];if(f(P[0],K[1])<0&&0<f(P[1],K[0])){K[0]=v(K[0],P[0]),K[1]=b(K[1],P[1]);break}}return B===V&&M.push(P),M},[])).sort(I)}catch(M){return ze(this,tn)}var E=0,D=S?function(M){return 0<h(M,A[E][1])}:function(M){return 0<=h(M,A[E][1])},k=C?function(M){return 0<g(M,A[E][0])}:function(M){return 0<=g(M,A[E][0])},R=D,T=new this.Collection(this,function(){return En(A[0][0],A[A.length-1][1],!C,!S)});return T._ondirectionchange=function(M){_=M==="next"?(R=D,h):(R=k,g),A.sort(I)},T._addAlgorithm(function(M,P,B){for(var V,K=M.key;R(K);)if(++E===A.length)return P(B),!1;return!D(V=K)&&!k(V)||(u._cmp(K,A[E][1])===0||u._cmp(K,A[E][0])===0||P(function(){_===h?M.continue(A[E][0]):M.continue(A[E][1])}),!1)}),T},de.prototype.startsWithAnyOf=function(){var a=Me.apply(vn,arguments);return a.every(function(c){return typeof c=="string"})?a.length===0?Yi(this):this.inAnyRange(a.map(function(c){return[c,c+li]})):ze(this,"startsWithAnyOf() only works with strings")},de);function de(){}function Tr(a){return Kt(function(c){return Zo(c),a(c.target.error),!1})}function Zo(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Jo="storagemutated",Mu="x-storagemutated-1",Sn=Yo(null,Jo),cx=(Mr.prototype._lock=function(){return et(!nt.global),++this._reculock,this._reculock!==1||nt.global||(nt.lockOwnerFor=this),this},Mr.prototype._unlock=function(){if(et(!nt.global),--this._reculock==0)for(nt.global||(nt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{ci(a[1],a[0])}catch(c){}}return this},Mr.prototype._locked=function(){return this._reculock&&nt.lockOwnerFor!==this},Mr.prototype.create=function(a){var c=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(et(!this.idbtrans),!a&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new at.DatabaseClosed(f);case"MissingAPIError":throw new at.MissingAPI(f.message,f);default:throw new at.OpenFailed(f)}if(!this.active)throw new at.TransactionInactive;return et(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Kt(function(h){Zo(h),c._reject(a.error)}),a.onabort=Kt(function(h){Zo(h),c.active&&c._reject(new at.Abort(a.error)),c.active=!1,c.on("abort").fire(h)}),a.oncomplete=Kt(function(){c.active=!1,c._resolve(),"mutatedParts"in a&&Sn.storagemutated.fire(a.mutatedParts)}),this},Mr.prototype._promise=function(a,c,u){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return Zt(new at.ReadOnly("Transaction is readonly"));if(!this.active)return Zt(new at.TransactionInactive);if(this._locked())return new Q(function(g,v){f._blockedFuncs.push([function(){f._promise(a,c,u).then(g,v)},nt])});if(u)return wn(function(){var g=new Q(function(v,b){f._lock();var C=c(v,b,f);C&&C.then&&C.then(v,b)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var h=new Q(function(g,v){var b=c(g,v,f);b&&b.then&&b.then(g,v)});return h._lib=!0,h},Mr.prototype._root=function(){return this.parent?this.parent._root():this},Mr.prototype.waitFor=function(a){var c,u=this._root(),f=Q.resolve(a);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],c=u.idbtrans.objectStore(u.storeNames[0]),(function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(c.get(-1/0).onsuccess=g)})());var h=u._waitingFor;return new Q(function(g,v){f.then(function(b){return u._waitingQueue.push(Kt(g.bind(null,b)))},function(b){return u._waitingQueue.push(Kt(v.bind(null,b)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},Mr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new at.Abort))},Mr.prototype.table=function(a){var c=this._memoizedTables||(this._memoizedTables={});if(p(c,a))return c[a];var u=this.schema[a];if(!u)throw new at.NotFound("Table "+a+" not part of transaction");return u=new this.db.Table(a,u,this),u.core=this.db.core.table(a),c[a]=u},Mr);function Mr(){}function Pu(a,c,u,f,h,g,v){return{name:a,keyPath:c,unique:u,multi:f,auto:h,compound:g,src:(u&&!v?"&":"")+(f?"*":"")+(h?"++":"")+Bp(c)}}function Bp(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Nu(a,c,u){return{name:a,primKey:c,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,g,v){return v=f(g,v),v&&(h[v[0]]=v[1]),h},{}))};var f}var ta=function(a){try{return a.only([[]]),ta=function(){return[[]]},[[]]}catch(c){return ta=function(){return li},li}};function Lu(a){return a==null?function(){}:typeof a=="string"?(c=a).split(".").length===1?function(u){return u[c]}:function(u){return Tt(u,c)}:function(u){return Tt(u,a)};var c}function $p(a){return[].slice.call(a)}var lx=0;function ea(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function ux(a,c,C){function f(R){if(R.type===3)return null;if(R.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=R.lower,D=R.upper,k=R.lowerOpen,R=R.upperOpen;return E===void 0?D===void 0?null:c.upperBound(D,!!R):D===void 0?c.lowerBound(E,!!k):c.bound(E,D,!!k,!!R)}function h(I){var E,D=I.name;return{name:D,schema:I,mutate:function(k){var R=k.trans,T=k.type,M=k.keys,P=k.values,B=k.range;return new Promise(function(V,K){V=Kt(V);var q=R.objectStore(D),H=q.keyPath==null,Y=T==="put"||T==="add";if(!Y&&T!=="delete"&&T!=="deleteRange")throw new Error("Invalid operation type: "+T);var W,Z=(M||P||{length:1}).length;if(M&&P&&M.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return V({numFailures:0,failures:{},results:[],lastResult:void 0});function pt(Oe){++Ve,Zo(Oe)}var gt=[],vt=[],Ve=0;if(T==="deleteRange"){if(B.type===4)return V({numFailures:Ve,failures:vt,results:[],lastResult:void 0});B.type===3?gt.push(W=q.clear()):gt.push(W=q.delete(f(B)))}else{var H=Y?H?[P,M]:[P,null]:[M,null],ht=H[0],xe=H[1];if(Y)for(var Ce=0;Ce<Z;++Ce)gt.push(W=xe&&xe[Ce]!==void 0?q[T](ht[Ce],xe[Ce]):q[T](ht[Ce])),W.onerror=pt;else for(Ce=0;Ce<Z;++Ce)gt.push(W=q[T](ht[Ce])),W.onerror=pt}function Us(Oe){Oe=Oe.target.result,gt.forEach(function(hi,td){return hi.error!=null&&(vt[td]=hi.error)}),V({numFailures:Ve,failures:vt,results:T==="delete"?M:gt.map(function(hi){return hi.result}),lastResult:Oe})}W.onerror=function(Oe){pt(Oe),Us(Oe)},W.onsuccess=Us})},getMany:function(k){var R=k.trans,T=k.keys;return new Promise(function(M,P){M=Kt(M);for(var B,V=R.objectStore(D),K=T.length,q=new Array(K),H=0,Y=0,W=function(gt){gt=gt.target,q[gt._pos]=gt.result,++Y===H&&M(q)},Z=Tr(P),pt=0;pt<K;++pt)T[pt]!=null&&((B=V.get(T[pt]))._pos=pt,B.onsuccess=W,B.onerror=Z,++H);H===0&&M(q)})},get:function(k){var R=k.trans,T=k.key;return new Promise(function(M,P){M=Kt(M);var B=R.objectStore(D).get(T);B.onsuccess=function(V){return M(V.target.result)},B.onerror=Tr(P)})},query:(E=S,function(k){return new Promise(function(R,T){R=Kt(R);var M,P,B,H=k.trans,V=k.values,K=k.limit,W=k.query,q=K===1/0?void 0:K,Y=W.index,W=W.range,H=H.objectStore(D),Y=Y.isPrimaryKey?H:H.index(Y.name),W=f(W);if(K===0)return R({result:[]});E?((q=V?Y.getAll(W,q):Y.getAllKeys(W,q)).onsuccess=function(Z){return R({result:Z.target.result})},q.onerror=Tr(T)):(M=0,P=!V&&"openKeyCursor"in Y?Y.openKeyCursor(W):Y.openCursor(W),B=[],P.onsuccess=function(Z){var pt=P.result;return pt?(B.push(V?pt.value:pt.primaryKey),++M===K?R({result:B}):void pt.continue()):R({result:B})},P.onerror=Tr(T))})}),openCursor:function(k){var R=k.trans,T=k.values,M=k.query,P=k.reverse,B=k.unique;return new Promise(function(V,K){V=Kt(V);var Y=M.index,q=M.range,H=R.objectStore(D),H=Y.isPrimaryKey?H:H.index(Y.name),Y=P?B?"prevunique":"prev":B?"nextunique":"next",W=!T&&"openKeyCursor"in H?H.openKeyCursor(f(q),Y):H.openCursor(f(q),Y);W.onerror=Tr(K),W.onsuccess=Kt(function(Z){var pt,gt,vt,Ve,ht=W.result;ht?(ht.___id=++lx,ht.done=!1,pt=ht.continue.bind(ht),gt=(gt=ht.continuePrimaryKey)&&gt.bind(ht),vt=ht.advance.bind(ht),Ve=function(){throw new Error("Cursor not stopped")},ht.trans=R,ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=function(){throw new Error("Cursor not started")},ht.fail=Kt(K),ht.next=function(){var xe=this,Ce=1;return this.start(function(){return Ce--?xe.continue():xe.stop()}).then(function(){return xe})},ht.start=function(xe){function Ce(){if(W.result)try{xe()}catch(Oe){ht.fail(Oe)}else ht.done=!0,ht.start=function(){throw new Error("Cursor behind last entry")},ht.stop()}var Us=new Promise(function(Oe,hi){Oe=Kt(Oe),W.onerror=Tr(hi),ht.fail=hi,ht.stop=function(td){ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=Ve,Oe(td)}});return W.onsuccess=Kt(function(Oe){W.onsuccess=Ce,Ce()}),ht.continue=pt,ht.continuePrimaryKey=gt,ht.advance=vt,Ce(),Us},V(ht)):V(null)},K)})},count:function(k){var R=k.query,T=k.trans,M=R.index,P=R.range;return new Promise(function(B,V){var K=T.objectStore(D),q=M.isPrimaryKey?K:K.index(M.name),K=f(P),q=K?q.count(K):q.count();q.onsuccess=Kt(function(H){return B(H.target.result)}),q.onerror=Tr(V)})}}}var g,v,b,A=(v=C,b=$p((g=a).objectStoreNames),{schema:{name:g.name,tables:b.map(function(I){return v.objectStore(I)}).map(function(I){var E=I.keyPath,R=I.autoIncrement,D=o(E),k={},R={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:D,keyPath:E,autoIncrement:R,unique:!0,extractKey:Lu(E)},indexes:$p(I.indexNames).map(function(T){return I.index(T)}).map(function(B){var M=B.name,P=B.unique,V=B.multiEntry,B=B.keyPath,V={name:M,compound:o(B),keyPath:B,unique:P,multiEntry:V,extractKey:Lu(B)};return k[ea(B)]=V}),getIndexByKeyPath:function(T){return k[ea(T)]}};return k[":id"]=R.primaryKey,E!=null&&(k[ea(E)]=R.primaryKey),R})},hasGetAll:0<b.length&&"getAll"in v.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=A.schema,S=A.hasGetAll,A=C.tables.map(h),_={};return A.forEach(function(I){return _[I.name]=I}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(I){if(!_[I])throw new Error("Table '".concat(I,"' not found"));return _[I]},MIN_KEY:-1/0,MAX_KEY:ta(c),schema:C}}function dx(a,c,u,f){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=ux(c,h,f),a.dbcore.reduce(function(g,v){return v=v.create,r(r({},g),v(g))},f))}}function As(a,f){var u=f.db,f=dx(a._middlewares,u,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(h){var g=h.name;a.core.schema.tables.some(function(v){return v.name===g})&&(h.core=a.core.table(g),a[g]instanceof a.Table&&(a[g].core=h.core))})}function ks(a,c,u,f){u.forEach(function(h){var g=f[h];c.forEach(function(v){var b=(function C(S,A){return N(S,A)||(S=l(S))&&C(S,A)})(v,h);(!b||"value"in b&&b.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?x(v,h,{get:function(){return this.table(h)},set:function(C){y(this,h,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new a.Table(h,g))})})}function Fu(a,c){c.forEach(function(u){for(var f in u)u[f]instanceof a.Table&&delete u[f]})}function fx(a,c){return a._cfg.version-c._cfg.version}function hx(a,c,u,f){var h=a._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Nu("$meta",Up("")[0],[]),a._storeNames.push("$meta"));var g=a._createTransaction("readwrite",a._storeNames,h);g.create(u),g._completion.catch(f);var v=g._reject.bind(g),b=nt.transless||nt;wn(function(){return nt.trans=g,nt.transless=b,c!==0?(As(a,u),S=c,((C=g).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(A){return A??S}):Q.resolve(S)).then(function(A){return I=A,E=g,D=u,k=[],A=(_=a)._versions,R=_._dbSchema=Ts(0,_.idbdb,D),(A=A.filter(function(T){return T._cfg.version>=I})).length!==0?(A.forEach(function(T){k.push(function(){var M=R,P=T._cfg.dbschema;Ms(_,M,D),Ms(_,P,D),R=_._dbSchema=P;var B=Bu(M,P);B.add.forEach(function(Y){$u(D,Y[0],Y[1].primKey,Y[1].indexes)}),B.change.forEach(function(Y){if(Y.recreate)throw new at.Upgrade("Not yet support for changing primary key");var W=D.objectStore(Y.name);Y.add.forEach(function(Z){return Is(W,Z)}),Y.change.forEach(function(Z){W.deleteIndex(Z.name),Is(W,Z)}),Y.del.forEach(function(Z){return W.deleteIndex(Z)})});var V=T._cfg.contentUpgrade;if(V&&T._cfg.version>I){As(_,D),E._memoizedTables={};var K=Nt(P);B.del.forEach(function(Y){K[Y]=M[Y]}),Fu(_,[_.Transaction.prototype]),ks(_,[_.Transaction.prototype],i(K),K),E.schema=K;var q,H=yn(V);return H&&Wi(),B=Q.follow(function(){var Y;(q=V(E))&&H&&(Y=xn.bind(null,null),q.then(Y,Y))}),q&&typeof q.then=="function"?Q.resolve(q):B.then(function(){return q})}}),k.push(function(M){var P,B,V=T._cfg.dbschema;P=V,B=M,[].slice.call(B.db.objectStoreNames).forEach(function(K){return P[K]==null&&B.db.deleteObjectStore(K)}),Fu(_,[_.Transaction.prototype]),ks(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),E.schema=_._dbSchema}),k.push(function(M){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===T._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(P){return P!=="$meta"})):M.objectStore("$meta").put(T._cfg.version,"version"))})}),(function T(){return k.length?Q.resolve(k.shift()(E.idbtrans)).then(T):Q.resolve()})().then(function(){jp(R,D)})):Q.resolve();var _,I,E,D,k,R}).catch(v)):(i(h).forEach(function(A){$u(u,A,h[A].primKey,h[A].indexes)}),As(a,u),void Q.follow(function(){return a.on.populate.fire(g)}).catch(v));var C,S})}function px(a,c){jp(a._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var u=Ts(0,a.idbdb,c);Ms(a,a._dbSchema,c);for(var f=0,h=Bu(u,a._dbSchema).change;f<h.length;f++){var g=(function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=c.objectStore(v.name);v.add.forEach(function(C){Ir&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(C.src)),Is(b,C)})})(h[f]);if(typeof g=="object")return g.value}}function Bu(a,c){var u,f={del:[],add:[],change:[]};for(u in a)c[u]||f.del.push(u);for(u in c){var h=a[u],g=c[u];if(h){var v={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var b=h.idxByName,C=g.idxByName,S=void 0;for(S in b)C[S]||v.del.push(S);for(S in C){var A=b[S],_=C[S];A?A.src!==_.src&&v.change.push(_):v.add.push(_)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([u,g])}return f}function $u(a,c,u,f){var h=a.db.createObjectStore(c,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return Is(h,g)}),h}function jp(a,c){i(a).forEach(function(u){c.db.objectStoreNames.contains(u)||(Ir&&console.debug("Dexie: Creating missing table",u),$u(c,u,a[u].primKey,a[u].indexes))})}function Is(a,c){a.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Ts(a,c,u){var f={};return G(c.objectStoreNames,0).forEach(function(h){for(var g=u.objectStore(h),v=Pu(Bp(S=g.keyPath),S||"",!0,!1,!!g.autoIncrement,S&&typeof S!="string",!0),b=[],C=0;C<g.indexNames.length;++C){var A=g.index(g.indexNames[C]),S=A.keyPath,A=Pu(A.name,S,!!A.unique,!!A.multiEntry,!1,S&&typeof S!="string",!1);b.push(A)}f[h]=Nu(h,v,b)}),f}function Ms(a,c,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var g=f[h],v=u.objectStore(g);a._hasGetAll="getAll"in v;for(var b=0;b<v.indexNames.length;++b){var C=v.indexNames[b],S=v.index(C).keyPath,A=typeof S=="string"?S:"["+G(S).join("+")+"]";!c[g]||(S=c[g].idxByName[A])&&(S.name=C,delete c[g].idxByName[A],c[g].idxByName[C]=S)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&n.WorkerGlobalScope&&n instanceof n.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Up(a){return a.split(",").map(function(c,u){var f=(c=c.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Pu(f,h||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),o(h),u===0)})}var mx=(Ps.prototype._parseStoresSpec=function(a,c){i(a).forEach(function(u){if(a[u]!==null){var f=Up(a[u]),h=f.shift();if(h.unique=!0,h.multi)throw new at.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new at.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new at.Schema("Index must have a name and cannot be an empty string")}),c[u]=Nu(u,h,f)}})},Ps.prototype.stores=function(u){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,u):u;var u=c._versions,f={},h={};return u.forEach(function(g){s(f,g._cfg.storesSource),h=g._cfg.dbschema={},g._parseStoresSpec(f,h)}),c._dbSchema=h,Fu(c,[c._allTables,c,c.Transaction.prototype]),ks(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],i(h),h),c._storeNames=i(h),this},Ps.prototype.upgrade=function(a){return this._cfg.contentUpgrade=bu(this._cfg.contentUpgrade||Mt,a),this},Ps);function Ps(){}function ju(a,c){var u=a._dbNamesDB;return u||(u=a._dbNamesDB=new rn(Es,{addons:[],indexedDB:a,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Uu(a){return a&&typeof a.databases=="function"}function zu(a){return wn(function(){return nt.letThrough=!0,a()})}function Vu(a){return!("from"in a)}var we=function(a,c){if(!this){var u=new we;return a&&"d"in a&&s(u,a),u}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?c:a}:{d:0})};function ra(a,c,u){var f=_t(c,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Vu(a))return s(a,{from:c,to:u,d:1});var h=a.l,f=a.r;if(_t(u,a.from)<0)return h?ra(h,c,u):a.l={from:c,to:u,d:1,l:null,r:null},Vp(a);if(0<_t(c,a.to))return f?ra(f,c,u):a.r={from:c,to:u,d:1,l:null,r:null},Vp(a);_t(c,a.from)<0&&(a.from=c,a.l=null,a.d=f?f.d+1:1),0<_t(u,a.to)&&(a.to=u,a.r=null,a.d=a.l?a.l.d+1:1),u=!a.r,h&&!a.l&&na(a,h),f&&u&&na(a,f)}}function na(a,c){Vu(c)||(function u(f,C){var g=C.from,v=C.to,b=C.l,C=C.r;ra(f,g,v),b&&u(f,b),C&&u(f,C)})(a,c)}function zp(a,c){var u=Ns(c),f=u.next();if(f.done)return!1;for(var h=f.value,g=Ns(a),v=g.next(h.from),b=v.value;!f.done&&!v.done;){if(_t(b.from,h.to)<=0&&0<=_t(b.to,h.from))return!0;_t(h.from,b.from)<0?h=(f=u.next(b.from)).value:b=(v=g.next(h.from)).value}return!1}function Ns(a){var c=Vu(a)?null:{s:0,n:a};return{next:function(u){for(var f=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&_t(u,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||_t(u,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Vp(a){var c,u,f=(((c=a.r)===null||c===void 0?void 0:c.d)||0)-(((u=a.l)===null||u===void 0?void 0:u.d)||0),h=1<f?"r":f<-1?"l":"";h&&(c=h=="r"?"l":"r",u=r({},a),f=a[h],a.from=f.from,a.to=f.to,a[h]=f[h],u[h]=f[c],(a[c]=u).d=qp(u)),a.d=qp(a)}function qp(u){var c=u.r,u=u.l;return(c?u?Math.max(c.d,u.d):c.d:u?u.d:0)+1}function Ls(a,c){return i(c).forEach(function(u){a[u]?na(a[u],c[u]):a[u]=(function f(h){var g,v,b={};for(g in h)p(h,g)&&(v=h[g],b[g]=!v||typeof v!="object"||ve.has(v.constructor)?v:f(v));return b})(c[u])}),a}function qu(a,c){return a.all||c.all||Object.keys(a).some(function(u){return c[u]&&zp(c[u],a[u])})}m(we.prototype,((rr={add:function(a){return na(this,a),this},addKey:function(a){return ra(this,a,a),this},addKeys:function(a){var c=this;return a.forEach(function(u){return ra(c,u,u)}),this},hasKey:function(a){var c=Ns(this).next(a).value;return c&&_t(c.from,a)<=0&&0<=_t(c.to,a)}})[zo]=function(){return Ns(this)},rr));var di={},Hu={},Wu=!1;function Fs(a){Ls(Hu,a),Wu||(Wu=!0,setTimeout(function(){Wu=!1,Ku(Hu,!(Hu={}))},0))}function Ku(a,c){c===void 0&&(c=!1);var u=new Set;if(a.all)for(var f=0,h=Object.values(di);f<h.length;f++)Hp(v=h[f],a,u,c);else for(var g in a){var v,b=/^idb\:\/\/(.*)\/(.*)\//.exec(g);b&&(g=b[1],b=b[2],(v=di["idb://".concat(g,"/").concat(b)])&&Hp(v,a,u,c))}u.forEach(function(C){return C()})}function Hp(a,c,u,f){for(var h=[],g=0,v=Object.entries(a.queries.query);g<v.length;g++){for(var b=v[g],C=b[0],S=[],A=0,_=b[1];A<_.length;A++){var I=_[A];qu(c,I.obsSet)?I.subscribers.forEach(function(R){return u.add(R)}):f&&S.push(I)}f&&h.push([C,S])}if(f)for(var E=0,D=h;E<D.length;E++){var k=D[E],C=k[0],S=k[1];a.queries.query[C]=S}}function gx(a){var c=a._state,u=a._deps.indexedDB;if(c.isBeingOpened||a.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Zt(c.dbOpenError):a});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,h=Math.round(10*a.verno),g=!1;function v(){if(c.openCanceller!==f)throw new at.DatabaseClosed("db.open() was cancelled")}function b(){return new Q(function(I,E){if(v(),!u)throw new at.MissingAPI;var D=a.name,k=c.autoSchema||!h?u.open(D):u.open(D,h);if(!k)throw new at.MissingAPI;k.onerror=Tr(E),k.onblocked=Kt(a._fireOnBlocked),k.onupgradeneeded=Kt(function(R){var T;A=k.transaction,c.autoSchema&&!a._options.allowEmptyDB?(k.onerror=Zo,A.abort(),k.result.close(),(T=u.deleteDatabase(D)).onsuccess=T.onerror=Kt(function(){E(new at.NoSuchDatabase("Database ".concat(D," doesnt exist")))})):(A.onerror=Tr(E),R=R.oldVersion>Math.pow(2,62)?0:R.oldVersion,_=R<1,a.idbdb=k.result,g&&px(a,A),hx(a,R/10,A,E))},E),k.onsuccess=Kt(function(){A=null;var R,T,M,P,B,V=a.idbdb=k.result,K=G(V.objectStoreNames);if(0<K.length)try{var q=V.transaction((P=K).length===1?P[0]:P,"readonly");if(c.autoSchema)T=V,M=q,(R=a).verno=T.version/10,M=R._dbSchema=Ts(0,T,M),R._storeNames=G(T.objectStoreNames,0),ks(R,[R._allTables],i(M),M);else if(Ms(a,a._dbSchema,q),((B=Bu(Ts(0,(B=a).idbdb,q),B._dbSchema)).add.length||B.change.some(function(H){return H.add.length||H.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),V.close(),h=V.version+1,g=!0,I(b());As(a,q)}catch(H){}Ki.push(a),V.onversionchange=Kt(function(H){c.vcFired=!0,a.on("versionchange").fire(H)}),V.onclose=Kt(function(H){a.on("close").fire(H)}),_&&(B=a._deps,q=D,V=B.indexedDB,B=B.IDBKeyRange,Uu(V)||q===Es||ju(V,B).put({name:q}).catch(Mt)),I()},E)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<h)return h=0,b()}return Q.reject(I)})}var C,S=c.dbReadyResolve,A=null,_=!1;return Q.race([f,(typeof navigator>"u"?Q.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function E(){return indexedDB.databases().finally(I)}C=setInterval(E,100),E()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(b)]).then(function(){return v(),c.onReadyBeingFired=[],Q.resolve(zu(function(){return a.on.ready.fire(a.vip)})).then(function I(){if(0<c.onReadyBeingFired.length){var E=c.onReadyBeingFired.reduce(bu,Mt);return c.onReadyBeingFired=[],Q.resolve(zu(function(){return E(a.vip)})).then(I)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(I){c.dbOpenError=I;try{A&&A.abort()}catch(E){}return f===c.openCanceller&&a._close(),Zt(I)}).finally(function(){c.openComplete=!0,S()}).then(function(){var I;return _&&(I={},a.tables.forEach(function(E){E.schema.indexes.forEach(function(D){D.name&&(I["idb://".concat(a.name,"/").concat(E.name,"/").concat(D.name)]=new we(-1/0,[[[]]]))}),I["idb://".concat(a.name,"/").concat(E.name,"/")]=I["idb://".concat(a.name,"/").concat(E.name,"/:dels")]=new we(-1/0,[[[]]])}),Sn(Jo).fire(I),Ku(I,!0)),a})}function Gu(a){function c(g){return a.next(g)}var u=h(c),f=h(function(g){return a.throw(g)});function h(g){return function(C){var b=g(C),C=b.value;return b.done?C:C&&typeof C.then=="function"?C.then(u,f):o(C)?Promise.all(C).then(u,f):u(C)}}return h(c)()}function Bs(a,c,u){for(var f=o(a)?a.slice():[a],h=0;h<u;++h)f.push(c);return f}var vx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema,h={},g=[];function v(_,I,E){var D=ea(_),k=h[D]=h[D]||[],R=_==null?0:typeof _=="string"?1:_.length,T=0<I,T=r(r({},E),{name:T?"".concat(D,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:T,keyTail:I,keyLength:R,extractKey:Lu(_),unique:!T&&E.unique});return k.push(T),T.isPrimaryKey||g.push(T),1<R&&v(R===2?_[0]:_.slice(0,R-1),I+1,E),k.sort(function(M,P){return M.keyTail-P.keyTail}),T}c=v(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[c];for(var b=0,C=f.indexes;b<C.length;b++){var S=C[b];v(S.keyPath,0,S)}function A(_){var I,E=_.query.index;return E.isVirtual?r(r({},_),{query:{index:E.lowLevelIndex,range:(I=_.query.range,E=E.keyTail,{type:I.type===1?2:I.type,lower:Bs(I.lower,I.lowerOpen?a.MAX_KEY:a.MIN_KEY,E),lowerOpen:!0,upper:Bs(I.upper,I.upperOpen?a.MIN_KEY:a.MAX_KEY,E),upperOpen:!0})}}):_}return r(r({},u),{schema:r(r({},f),{primaryKey:c,indexes:g,getIndexByKeyPath:function(_){return(_=h[ea(_)])&&_[0]}}),count:function(_){return u.count(A(_))},query:function(_){return u.query(A(_))},openCursor:function(_){var I=_.query.index,E=I.keyTail,D=I.isVirtual,k=I.keyLength;return D?u.openCursor(A(_)).then(function(T){return T&&R(T)}):u.openCursor(_);function R(T){return Object.create(T,{continue:{value:function(M){M!=null?T.continue(Bs(M,_.reverse?a.MAX_KEY:a.MIN_KEY,E)):_.unique?T.continue(T.key.slice(0,k).concat(_.reverse?a.MIN_KEY:a.MAX_KEY,E)):T.continue()}},continuePrimaryKey:{value:function(M,P){T.continuePrimaryKey(Bs(M,a.MAX_KEY,E),P)}},primaryKey:{get:function(){return T.primaryKey}},key:{get:function(){var M=T.key;return k===1?M[0]:M.slice(0,k)}},value:{get:function(){return T.value}}})}}})}})}};function Yu(a,c,u,f){return u=u||{},f=f||"",i(a).forEach(function(h){var g,v,b;p(c,h)?(g=a[h],v=c[h],typeof g=="object"&&typeof v=="object"&&g&&v?(b=gr(g))!==gr(v)?u[f+h]=c[h]:b==="Object"?Yu(g,v,u,f+h+"."):g!==v&&(u[f+h]=c[h]):g!==v&&(u[f+h]=c[h])):u[f+h]=void 0}),i(c).forEach(function(h){p(a,h)||(u[f+h]=c[h])}),u}function Qu(a,c){return c.type==="delete"?c.keys:c.keys||c.values.map(a.extractKey)}var yx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return r(r({},a),{table:function(c){var u=a.table(c),f=u.schema.primaryKey;return r(r({},u),{mutate:function(h){var g=nt.trans,v=g.table(c).hook,b=v.deleting,C=v.creating,S=v.updating;switch(h.type){case"add":if(C.fire===Mt)break;return g._promise("readwrite",function(){return A(h)},!0);case"put":if(C.fire===Mt&&S.fire===Mt)break;return g._promise("readwrite",function(){return A(h)},!0);case"delete":if(b.fire===Mt)break;return g._promise("readwrite",function(){return A(h)},!0);case"deleteRange":if(b.fire===Mt)break;return g._promise("readwrite",function(){return(function _(I,E,D){return u.query({trans:I,values:!1,query:{index:f,range:E},limit:D}).then(function(k){var R=k.result;return A({type:"delete",keys:R,trans:I}).then(function(T){return 0<T.numFailures?Promise.reject(T.failures[0]):R.length<D?{failures:[],numFailures:0,lastResult:void 0}:_(I,r(r({},E),{lower:R[R.length-1],lowerOpen:!0}),D)})})})(h.trans,h.range,1e4)},!0)}return u.mutate(h);function A(_){var I,E,D,k=nt.trans,R=_.keys||Qu(f,_);if(!R)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?r(r({},_),{keys:R}):r({},_)).type!=="delete"&&(_.values=e([],_.values,!0)),_.keys&&(_.keys=e([],_.keys,!0)),I=u,D=R,((E=_).type==="add"?Promise.resolve([]):I.getMany({trans:E.trans,keys:D,cache:"immutable"})).then(function(T){var M=R.map(function(P,B){var V,K,q,H=T[B],Y={onerror:null,onsuccess:null};return _.type==="delete"?b.fire.call(Y,P,H,k):_.type==="add"||H===void 0?(V=C.fire.call(Y,P,_.values[B],k),P==null&&V!=null&&(_.keys[B]=P=V,f.outbound||ct(_.values[B],f.keyPath,P))):(V=Yu(H,_.values[B]),(K=S.fire.call(Y,V,P,H,k))&&(q=_.values[B],Object.keys(K).forEach(function(W){p(q,W)?q[W]=K[W]:ct(q,W,K[W])}))),Y});return u.mutate(_).then(function(P){for(var B=P.failures,V=P.results,K=P.numFailures,P=P.lastResult,q=0;q<R.length;++q){var H=(V||R)[q],Y=M[q];H==null?Y.onerror&&Y.onerror(B[q]):Y.onsuccess&&Y.onsuccess(_.type==="put"&&T[q]?_.values[q]:H)}return{failures:B,results:V,numFailures:K,lastResult:P}}).catch(function(P){return M.forEach(function(B){return B.onerror&&B.onerror(P)}),Promise.reject(P)})})}}})}})}};function Wp(a,c,u){try{if(!c||c.keys.length<a.length)return null;for(var f=[],h=0,g=0;h<c.keys.length&&g<a.length;++h)_t(c.keys[h],a[g])===0&&(f.push(u?mr(c.values[h]):c.values[h]),++g);return f.length===a.length?f:null}catch(v){return null}}var bx={stack:"dbcore",level:-1,create:function(a){return{table:function(c){var u=a.table(c);return r(r({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var h=Wp(f.keys,f.trans._cache,f.cache==="clone");return h?Q.resolve(h):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?mr(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Kp(a,c){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Gp(a,c){switch(a){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var _x={stack:"dbcore",level:0,name:"Observability",create:function(a){var c=a.schema.name,u=new we(a.MIN_KEY,a.MAX_KEY);return r(r({},a),{transaction:function(f,h,g){if(nt.subscr&&h!=="readonly")throw new at.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(nt.querier));return a.transaction(f,h,g)},table:function(f){var h=a.table(f),g=h.schema,v=g.primaryKey,_=g.indexes,b=v.extractKey,C=v.outbound,S=v.autoIncrement&&_.filter(function(E){return E.compound&&E.keyPath.includes(v.keyPath)}),A=r(r({},h),{mutate:function(E){function D(W){return W="idb://".concat(c,"/").concat(f,"/").concat(W),P[W]||(P[W]=new we)}var k,R,T,M=E.trans,P=E.mutatedParts||(E.mutatedParts={}),B=D(""),V=D(":dels"),K=E.type,Y=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[Qu(v,E).filter(function(W){return W}),E.values]:[],q=Y[0],H=Y[1],Y=E.trans._cache;return o(q)?(B.addKeys(q),(Y=K==="delete"||q.length===H.length?Wp(q,Y):null)||V.addKeys(q),(Y||H)&&(k=D,R=Y,T=H,g.indexes.forEach(function(W){var Z=k(W.name||"");function pt(vt){return vt!=null?W.extractKey(vt):null}function gt(vt){return W.multiEntry&&o(vt)?vt.forEach(function(Ve){return Z.addKey(Ve)}):Z.addKey(vt)}(R||T).forEach(function(vt,xe){var ht=R&&pt(R[xe]),xe=T&&pt(T[xe]);_t(ht,xe)!==0&&(ht!=null&&gt(ht),xe!=null&&gt(xe))})}))):q?(H={from:(H=q.lower)!==null&&H!==void 0?H:a.MIN_KEY,to:(H=q.upper)!==null&&H!==void 0?H:a.MAX_KEY},V.add(H),B.add(H)):(B.add(u),V.add(u),g.indexes.forEach(function(W){return D(W.name).add(u)})),h.mutate(E).then(function(W){return!q||E.type!=="add"&&E.type!=="put"||(B.addKeys(W.results),S&&S.forEach(function(Z){for(var pt=E.values.map(function(ht){return Z.extractKey(ht)}),gt=Z.keyPath.findIndex(function(ht){return ht===v.keyPath}),vt=0,Ve=W.results.length;vt<Ve;++vt)pt[vt][gt]=W.results[vt];D(Z.name).addKeys(pt)})),M.mutatedParts=Ls(M.mutatedParts||{},P),W})}}),_=function(D){var k=D.query,D=k.index,k=k.range;return[D,new we((D=k.lower)!==null&&D!==void 0?D:a.MIN_KEY,(k=k.upper)!==null&&k!==void 0?k:a.MAX_KEY)]},I={get:function(E){return[v,new we(E.key)]},getMany:function(E){return[v,new we().addKeys(E.keys)]},count:_,query:_,openCursor:_};return i(I).forEach(function(E){A[E]=function(D){var k=nt.subscr,R=!!k,T=Kp(nt,h)&&Gp(E,D)?D.obsSet={}:k;if(R){var M=function(H){return H="idb://".concat(c,"/").concat(f,"/").concat(H),T[H]||(T[H]=new we)},P=M(""),B=M(":dels"),k=I[E](D),R=k[0],k=k[1];if((E==="query"&&R.isPrimaryKey&&!D.values?B:M(R.name||"")).add(k),!R.isPrimaryKey){if(E!=="count"){var V=E==="query"&&C&&D.values&&h.query(r(r({},D),{values:!1}));return h[E].apply(this,arguments).then(function(H){if(E==="query"){if(C&&D.values)return V.then(function(pt){return pt=pt.result,P.addKeys(pt),H});var Y=D.values?H.result.map(b):H.result;(D.values?P:B).addKeys(Y)}else if(E==="openCursor"){var W=H,Z=D.values;return W&&Object.create(W,{key:{get:function(){return B.addKey(W.primaryKey),W.key}},primaryKey:{get:function(){var pt=W.primaryKey;return B.addKey(pt),pt}},value:{get:function(){return Z&&P.addKey(W.primaryKey),W.value}}})}return H})}B.add(u)}}return h[E].apply(this,arguments)}}),A}})}};function Yp(a,c,u){if(u.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return u.numFailures===f?null:(c=r({},c),o(c.keys)&&(c.keys=c.keys.filter(function(h,g){return!(g in u.failures)})),"values"in c&&o(c.values)&&(c.values=c.values.filter(function(h,g){return!(g in u.failures)})),c)}function Xu(a,c){return u=a,((f=c).lower===void 0||(f.lowerOpen?0<_t(u,f.lower):0<=_t(u,f.lower)))&&(a=a,(c=c).upper===void 0||(c.upperOpen?_t(a,c.upper)<0:_t(a,c.upper)<=0));var u,f}function Qp(a,c,I,f,h,g){if(!I||I.length===0)return a;var v=c.query.index,b=v.multiEntry,C=c.query.range,S=f.schema.primaryKey.extractKey,A=v.extractKey,_=(v.lowLevelIndex||v).extractKey,I=I.reduce(function(E,D){var k=E,R=[];if(D.type==="add"||D.type==="put")for(var T=new we,M=D.values.length-1;0<=M;--M){var P,B=D.values[M],V=S(B);T.hasKey(V)||(P=A(B),(b&&o(P)?P.some(function(W){return Xu(W,C)}):Xu(P,C))&&(T.addKey(V),R.push(B)))}switch(D.type){case"add":var K=new we().addKeys(c.values?E.map(function(Z){return S(Z)}):E),k=E.concat(c.values?R.filter(function(Z){return Z=S(Z),!K.hasKey(Z)&&(K.addKey(Z),!0)}):R.map(function(Z){return S(Z)}).filter(function(Z){return!K.hasKey(Z)&&(K.addKey(Z),!0)}));break;case"put":var q=new we().addKeys(D.values.map(function(Z){return S(Z)}));k=E.filter(function(Z){return!q.hasKey(c.values?S(Z):Z)}).concat(c.values?R:R.map(function(Z){return S(Z)}));break;case"delete":var H=new we().addKeys(D.keys);k=E.filter(function(Z){return!H.hasKey(c.values?S(Z):Z)});break;case"deleteRange":var Y=D.range;k=E.filter(function(Z){return!Xu(S(Z),Y)})}return k},a);return I===a?a:(I.sort(function(E,D){return _t(_(E),_(D))||_t(S(E),S(D))}),c.limit&&c.limit<1/0&&(I.length>c.limit?I.length=c.limit:a.length===c.limit&&I.length<c.limit&&(h.dirty=!0)),g?Object.freeze(I):I)}function Xp(a,c){return _t(a.lower,c.lower)===0&&_t(a.upper,c.upper)===0&&!!a.lowerOpen==!!c.lowerOpen&&!!a.upperOpen==!!c.upperOpen}function wx(a,c){return(function(u,f,h,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=_t(u,f))===0){if(h&&g)return 0;if(h)return 1;if(g)return-1}return f})(a.lower,c.lower,a.lowerOpen,c.lowerOpen)<=0&&0<=(function(u,f,h,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=_t(u,f))===0){if(h&&g)return 0;if(h)return-1;if(g)return 1}return f})(a.upper,c.upper,a.upperOpen,c.upperOpen)}function xx(a,c,u,f){a.subscribers.add(u),f.addEventListener("abort",function(){var h,g;a.subscribers.delete(u),a.subscribers.size===0&&(h=a,g=c,setTimeout(function(){h.subscribers.size===0&&Jr(g,h)},3e3))})}var Cx={stack:"dbcore",level:0,name:"Cache",create:function(a){var c=a.schema.name;return r(r({},a),{transaction:function(u,f,h){var g,v,b=a.transaction(u,f,h);return f==="readwrite"&&(v=(g=new AbortController).signal,h=function(C){return function(){if(g.abort(),f==="readwrite"){for(var S=new Set,A=0,_=u;A<_.length;A++){var I=_[A],E=di["idb://".concat(c,"/").concat(I)];if(E){var D=a.table(I),k=E.optimisticOps.filter(function(Z){return Z.trans===b});if(b._explicit&&C&&b.mutatedParts)for(var R=0,T=Object.values(E.queries.query);R<T.length;R++)for(var M=0,P=(K=T[R]).slice();M<P.length;M++)qu((q=P[M]).obsSet,b.mutatedParts)&&(Jr(K,q),q.subscribers.forEach(function(Z){return S.add(Z)}));else if(0<k.length){E.optimisticOps=E.optimisticOps.filter(function(Z){return Z.trans!==b});for(var B=0,V=Object.values(E.queries.query);B<V.length;B++)for(var K,q,H,Y=0,W=(K=V[B]).slice();Y<W.length;Y++)(q=W[Y]).res!=null&&b.mutatedParts&&(C&&!q.dirty?(H=Object.isFrozen(q.res),H=Qp(q.res,q.req,k,D,q,H),q.dirty?(Jr(K,q),q.subscribers.forEach(function(Z){return S.add(Z)})):H!==q.res&&(q.res=H,q.promise=Q.resolve({result:H}))):(q.dirty&&Jr(K,q),q.subscribers.forEach(function(Z){return S.add(Z)})))}}}S.forEach(function(Z){return Z()})}}},b.addEventListener("abort",h(!1),{signal:v}),b.addEventListener("error",h(!1),{signal:v}),b.addEventListener("complete",h(!0),{signal:v})),b},table:function(u){var f=a.table(u),h=f.schema.primaryKey;return r(r({},f),{mutate:function(g){var v=nt.trans;if(h.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(g);var b=di["idb://".concat(c,"/").concat(u)];return b?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Qu(h,g).some(function(C){return C==null}))?(b.optimisticOps.push(g),g.mutatedParts&&Fs(g.mutatedParts),v.then(function(C){0<C.numFailures&&(Jr(b.optimisticOps,g),(C=Yp(0,g,C))&&b.optimisticOps.push(C),g.mutatedParts&&Fs(g.mutatedParts))}),v.catch(function(){Jr(b.optimisticOps,g),g.mutatedParts&&Fs(g.mutatedParts)})):v.then(function(C){var S=Yp(0,r(r({},g),{values:g.values.map(function(A,_){var I;return C.failures[_]?A:(A=(I=h.keyPath)!==null&&I!==void 0&&I.includes(".")?mr(A):r({},A),ct(A,h.keyPath,C.results[_]),A)})}),C);b.optimisticOps.push(S),queueMicrotask(function(){return g.mutatedParts&&Fs(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!Kp(nt,f)||!Gp("query",g))return f.query(g);var v=((S=nt.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",_=nt,b=_.requery,C=_.signal,S=(function(D,k,R,T){var M=di["idb://".concat(D,"/").concat(k)];if(!M)return[];if(!(k=M.queries[R]))return[null,!1,M,null];var P=k[(T.query?T.query.index.name:null)||""];if(!P)return[null,!1,M,null];switch(R){case"query":var B=P.find(function(V){return V.req.limit===T.limit&&V.req.values===T.values&&Xp(V.req.query.range,T.query.range)});return B?[B,!0,M,P]:[P.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=T.limit&&(!T.values||V.req.values)&&wx(V.req.query.range,T.query.range)}),!1,M,P];case"count":return B=P.find(function(V){return Xp(V.req.query.range,T.query.range)}),[B,!!B,M,P]}})(c,u,"query",g),A=S[0],_=S[1],I=S[2],E=S[3];return A&&_?A.obsSet=g.obsSet:(_=f.query(g).then(function(D){var k=D.result;if(A&&(A.res=k),v){for(var R=0,T=k.length;R<T;++R)Object.freeze(k[R]);Object.freeze(k)}else D.result=mr(k);return D}).catch(function(D){return E&&A&&Jr(E,A),Promise.reject(D)}),A={obsSet:g.obsSet,promise:_,subscribers:new Set,type:"query",req:g,dirty:!1},E?E.push(A):(E=[A],(I=I||(di["idb://".concat(c,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=E)),xx(A,E,b,C),A.promise.then(function(D){return{result:Qp(D.result,g,I?.optimisticOps,f,A,v)}})}})}})}};function $s(a,c){return new Proxy(a,{get:function(u,f,h){return f==="db"?c:Reflect.get(u,f,h)}})}var rn=(Jt.prototype.version=function(a){if(isNaN(a)||a<.1)throw new at.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new at.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var c=this._versions,u=c.filter(function(f){return f._cfg.version===a})[0];return u||(u=new this.Version(a),c.push(u),c.sort(fx),u.stores({}),this._state.autoSchema=!1,u)},Jt.prototype._whenReady=function(a){var c=this;return this.idbdb&&(this._state.openComplete||nt.letThrough||this._vip)?a():new Q(function(u,f){if(c._state.openComplete)return f(new at.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void f(new at.DatabaseClosed);c.open().catch(Mt)}c._state.dbReadyPromise.then(u,f)}).then(a)},Jt.prototype.use=function(a){var c=a.stack,u=a.create,f=a.level,h=a.name;return h&&this.unuse({stack:c,name:h}),a=this._middlewares[c]||(this._middlewares[c]=[]),a.push({stack:c,create:u,level:f??10,name:h}),a.sort(function(g,v){return g.level-v.level}),this},Jt.prototype.unuse=function(a){var c=a.stack,u=a.name,f=a.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},Jt.prototype.open=function(){var a=this;return ci(_n,function(){return gx(a)})},Jt.prototype._close=function(){var a=this._state,c=Ki.indexOf(this);if(0<=c&&Ki.splice(c,1),this.idbdb){try{this.idbdb.close()}catch(u){}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new Q(function(u){a.dbReadyResolve=u}),a.openCanceller=new Q(function(u,f){a.cancelOpen=f}))},Jt.prototype.close=function(u){var c=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;c?(u.isBeingOpened&&u.cancelOpen(new at.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new at.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Jt.prototype.delete=function(a){var c=this;a===void 0&&(a={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new Q(function(h,g){function v(){c.close(a);var b=c._deps.indexedDB.deleteDatabase(c.name);b.onsuccess=Kt(function(){var C,S,A;C=c._deps,S=c.name,A=C.indexedDB,C=C.IDBKeyRange,Uu(A)||S===Es||ju(A,C).delete(S).catch(Mt),h()}),b.onerror=Tr(g),b.onblocked=c._fireOnBlocked}if(u)throw new at.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},Jt.prototype.backendDB=function(){return this.idbdb},Jt.prototype.isOpen=function(){return this.idbdb!==null},Jt.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Jt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Jt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Jt.prototype,"tables",{get:function(){var a=this;return i(this._allTables).map(function(c){return a._allTables[c]})},enumerable:!1,configurable:!0}),Jt.prototype.transaction=function(){var a=function(c,u,f){var h=arguments.length;if(h<2)throw new at.InvalidArgument("Too few arguments");for(var g=new Array(h-1);--h;)g[h-1]=arguments[h];return f=g.pop(),[c,Vt(g),f]}.apply(this,arguments);return this._transaction.apply(this,a)},Jt.prototype._transaction=function(a,c,u){var f=this,h=nt.trans;h&&h.db===this&&a.indexOf("!")===-1||(h=null);var g,v,b=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(v=c.map(function(S){if(S=S instanceof f.Table?S.name:S,typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),a=="r"||a===Du)g=Du;else{if(a!="rw"&&a!=Au)throw new at.InvalidArgument("Invalid transaction mode: "+a);g=Au}if(h){if(h.mode===Du&&g===Au){if(!b)throw new at.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&v.forEach(function(S){if(h&&h.storeNames.indexOf(S)===-1){if(!b)throw new at.SubTransaction("Table "+S+" not included in parent transaction.");h=null}}),b&&h&&!h.active&&(h=null)}}catch(S){return h?h._promise(null,function(A,_){_(S)}):Zt(S)}var C=function S(A,_,I,E,D){return Q.resolve().then(function(){var k=nt.transless||nt,R=A._createTransaction(_,I,A._dbSchema,E);if(R.explicit=!0,k={trans:R,transless:k},E)R.idbtrans=E.idbtrans;else try{R.create(),R.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(P){return P.name===bn.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return S(A,_,I,null,D)})):Zt(P)}var T,M=yn(D);return M&&Wi(),k=Q.follow(function(){var P;(T=D.call(R,R))&&(M?(P=xn.bind(null,null),T.then(P,P)):typeof T.next=="function"&&typeof T.throw=="function"&&(T=Gu(T)))},k),(T&&typeof T.then=="function"?Q.resolve(T).then(function(P){return R.active?P:Zt(new at.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return T})).then(function(P){return E&&R._resolve(),R._completion.then(function(){return P})}).catch(function(P){return R._reject(P),Zt(P)})})}.bind(null,this,g,v,h,u);return h?h._promise(g,C,"lock"):nt.trans?ci(nt.transless,function(){return f._whenReady(C)}):this._whenReady(C)},Jt.prototype.table=function(a){if(!p(this._allTables,a))throw new at.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Jt);function Jt(a,c){var u=this;this._middlewares={},this.verno=0;var f=Jt.dependencies;this._options=c=r({addons:Jt.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},f=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,g,v,b,C,S={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Mt,dbReadyPromise:null,cancelOpen:Mt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};S.dbReadyPromise=new Q(function(_){S.dbReadyResolve=_}),S.openCanceller=new Q(function(_,I){S.cancelOpen=I}),this._state=S,this.name=a,this.on=Yo(this,"populate","blocked","versionchange","close",{ready:[bu,Mt]}),this.on.ready.subscribe=tt(this.on.ready.subscribe,function(_){return function(I,E){Jt.vip(function(){var D,k=u._state;k.openComplete?(k.dbOpenError||Q.resolve().then(I),E&&_(I)):k.onReadyBeingFired?(k.onReadyBeingFired.push(I),E&&_(I)):(_(I),D=u,E||_(function R(){D.on.ready.unsubscribe(I),D.on.ready.unsubscribe(R)}))})}}),this.Collection=(h=this,Qo(ox.prototype,function(T,R){this.db=h;var E=Dp,D=null;if(R)try{E=R()}catch(M){D=M}var k=T._ctx,R=k.table,T=R.hook.reading.fire;this._ctx={table:R,index:k.index,isPrimKey:!k.index||R.schema.primKey.keyPath&&k.index===R.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:D,or:k.or,valueMapper:T!==qo?T:null}})),this.Table=(g=this,Qo(Tp.prototype,function(_,I,E){this.db=g,this._tx=E,this.name=_,this.schema=I,this.hook=g._allTables[_]?g._allTables[_].hook:Yo(null,{creating:[Qw,Mt],reading:[Yw,qo],updating:[Zw,Mt],deleting:[Xw,Mt]})})),this.Transaction=(v=this,Qo(cx.prototype,function(_,I,E,D,k){var R=this;this.db=v,this.mode=_,this.storeNames=I,this.schema=E,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=Yo(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Q(function(T,M){R._resolve=T,R._reject=M}),this._completion.then(function(){R.active=!1,R.on.complete.fire()},function(T){var M=R.active;return R.active=!1,R.on.error.fire(T),R.parent?R.parent._reject(T):M&&R.idbtrans&&R.idbtrans.abort(),Zt(T)})})),this.Version=(b=this,Qo(mx.prototype,function(_){this.db=b,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Qo(Fp.prototype,function(_,I,E){if(this.db=C,this._ctx={table:_,index:I===":id"?null:I,or:E},this._cmp=this._ascending=_t,this._descending=function(D,k){return _t(k,D)},this._max=function(D,k){return 0<_t(D,k)?D:k},this._min=function(D,k){return _t(D,k)<0?D:k},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new at.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=ta(c.IDBKeyRange),this._createTransaction=function(_,I,E,D){return new u.Transaction(_,I,E,u._options.chromeTransactionDurability,D)},this._fireOnBlocked=function(_){u.on("blocked").fire(_),Ki.filter(function(I){return I.name===u.name&&I!==u&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(_)})},this.use(bx),this.use(Cx),this.use(_x),this.use(vx),this.use(yx);var A=new Proxy(this,{get:function(_,I,E){if(I==="_vip")return!0;if(I==="table")return function(k){return $s(u.table(k),A)};var D=Reflect.get(_,I,E);return D instanceof Tp?$s(D,A):I==="tables"?D.map(function(k){return $s(k,A)}):I==="_createTransaction"?function(){return $s(D.apply(this,arguments),A)}:D}});this.vip=A,f.forEach(function(_){return _(u)})}var js,rr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ex=(Zu.prototype.subscribe=function(a,c,u){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:c,complete:u})},Zu.prototype[rr]=function(){return this},Zu);function Zu(a){this._subscribe=a}try{js={indexedDB:n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange}}catch(a){js={indexedDB:null,IDBKeyRange:null}}function Zp(a){var c,u=!1,f=new Ex(function(h){var g=yn(a),v,b=!1,C={},S={},A={get closed(){return b},unsubscribe:function(){b||(b=!0,v&&v.abort(),_&&Sn.storagemutated.unsubscribe(E))}};h.start&&h.start(A);var _=!1,I=function(){return Ou(D)},E=function(k){Ls(C,k),qu(S,C)&&I()},D=function(){var k,R,T;!b&&js.indexedDB&&(C={},k={},v&&v.abort(),v=new AbortController,T=(function(M){var P=qi();try{g&&Wi();var B=wn(a,M);return B=g?B.finally(xn):B}finally{P&&Hi()}})(R={subscr:k,signal:v.signal,requery:I,querier:a,trans:null}),Promise.resolve(T).then(function(M){u=!0,c=M,b||R.signal.aborted||(C={},(function(P){for(var B in P)if(p(P,B))return;return 1})(S=k)||_||(Sn(Jo,E),_=!0),Ou(function(){return!b&&h.next&&h.next(M)}))},function(M){u=!1,["DatabaseClosedError","AbortError"].includes(M?.name)||b||Ou(function(){b||h.error&&h.error(M)})}))};return setTimeout(I,0),A});return f.hasValue=function(){return u},f.getValue=function(){return c},f}var fi=rn;function Ju(a){var c=Rn;try{Rn=!0,Sn.storagemutated.fire(a),Ku(a,!0)}finally{Rn=c}}m(fi,r(r({},ms),{delete:function(a){return new fi(a,{addons:[]}).delete()},exists:function(a){return new fi(a,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return c=fi.dependencies,u=c.indexedDB,c=c.IDBKeyRange,(Uu(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Es})}):ju(u,c).toCollection().primaryKeys()).then(a)}catch(f){return Zt(new at.MissingAPI)}var c,u},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return nt.trans?ci(nt.transless,a):a()},vip:zu,async:function(a){return function(){try{var c=Gu(a.apply(this,arguments));return c&&typeof c.then=="function"?c:Q.resolve(c)}catch(u){return Zt(u)}}},spawn:function(a,c,u){try{var f=Gu(a.apply(u,c||[]));return f&&typeof f.then=="function"?f:Q.resolve(f)}catch(h){return Zt(h)}},currentTransaction:{get:function(){return nt.trans||null}},waitFor:function(a,c){return c=Q.resolve(typeof a=="function"?fi.ignoreTransaction(a):a).timeout(c||6e4),nt.trans?nt.trans.waitFor(c):c},Promise:Q,debug:{get:function(){return Ir},set:function(a){wp(a)}},derive:O,extend:s,props:m,override:tt,Events:Yo,on:Sn,liveQuery:Zp,extendObservabilitySet:Ls,getByKeyPath:Tt,setByKeyPath:ct,delByKeyPath:function(a,c){typeof c=="string"?ct(a,c,void 0):"length"in c&&[].map.call(c,function(u){ct(a,u,void 0)})},shallowClone:Nt,deepClone:mr,getObjectDiff:Yu,cmp:_t,asap:rt,minKey:-1/0,addons:[],connections:Ki,errnames:bn,dependencies:js,cache:di,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,c,u){return a+c/Math.pow(10,2*u)})})),fi.maxKey=ta(fi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Sn(Jo,function(a){Rn||(a=new CustomEvent(Mu,{detail:a}),Rn=!0,dispatchEvent(a),Rn=!1)}),addEventListener(Mu,function(a){a=a.detail,Rn||Ju(a)}));var Qi,Rn=!1,Jp=function(){};return typeof BroadcastChannel<"u"&&((Jp=function(){(Qi=new BroadcastChannel(Mu)).onmessage=function(a){return a.data&&Ju(a.data)}})(),typeof Qi.unref=="function"&&Qi.unref(),Sn(Jo,function(a){Rn||Qi.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!rn.disableBfCache&&a.persisted){Ir&&console.debug("Dexie: handling persisted pagehide"),Qi?.close();for(var c=0,u=Ki;c<u.length;c++)u[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!rn.disableBfCache&&a.persisted&&(Ir&&console.debug("Dexie: handling persisted pageshow"),Jp(),Ju({all:new we(-1/0,[[]])}))})),Q.rejectionMapper=function(a,c){return!a||a instanceof vr||a instanceof TypeError||a instanceof SyntaxError||!a.name||!_p[a.name]?a:(c=new _p[a.name](c||a.message,a),"stack"in a&&x(c,"stack",{get:function(){return this.inner.stack}}),c)},wp(Ir),r(rn,Object.freeze({__proto__:null,Dexie:rn,liveQuery:Zp,Entity:Ap,cmp:_t,PropModSymbol:en,PropModification:Xo,replacePrefix:function(a,c){return new Xo({replacePrefix:[a,c]})},add:function(a){return new Xo({add:a})},remove:function(a){return new Xo({remove:a})},default:rn,RangeSet:we,mergeRanges:na,rangesOverlap:zp}),{default:rn}),rn})});var fa=class{_attachedHost=null;attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},an=class extends fa{component;viewContainerRef;injector;projectableNodes;constructor(r,e,n,i){super(),this.component=r,this.viewContainerRef=e,this.injector=n,this.projectableNodes=i}},jr=class extends fa{templateRef;viewContainerRef;context;injector;constructor(r,e,n,i){super(),this.templateRef=r,this.viewContainerRef=e,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}},yd=class extends fa{element;constructor(r){super(),this.element=r instanceof Bt?r.nativeElement:r}},Mn=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(r){if(r instanceof an)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof jr)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof yd)return this._attachedPortal=r,this.attachDomPortal(r)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},sc=class extends Mn{outletElement;_appRef;_defaultInjector;constructor(r,e,n){super(),this.outletElement=r,this._appRef=e,this._defaultInjector=n}attachComponentPortal(r){let e;if(r.viewContainerRef){let n=r.injector||r.viewContainerRef.injector,i=n.get(sd,null,{optional:!0})||void 0;e=r.viewContainerRef.createComponent(r.component,{index:r.viewContainerRef.length,injector:n,ngModuleRef:i,projectableNodes:r.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,i=r.injector||this._defaultInjector||wt.NULL,o=i.get(He,n.injector);e=Pm(r.component,{elementInjector:i,environmentInjector:o,projectableNodes:r.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=r,e}attachTemplatePortal(r){let e=r.viewContainerRef,n=e.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(n);i!==-1&&e.remove(i)}),this._attachedPortal=r,n}attachDomPortal=r=>{let e=r.element;e.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=r,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}},AD=(()=>{class t extends jr{constructor(){let e=w(nn),n=w(In);super(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Se]})}return t})(),Pn=(()=>{class t extends Mn{_moduleRef=w(sd,{optional:!0});_document=w(Lt);_viewContainerRef=w(In);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ee;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,i=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let i=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(i,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Se]})}return t})(),sn=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({})}return t})();function ha(t){return t.buttons===0||t.detail===0}function pa(t){let r=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var bd;function Wm(){if(bd==null){let t=typeof document<"u"?document.head:null;bd=!!(t&&(t.createShadowRoot||t.attachShadow))}return bd}function _d(t){if(Wm()){let r=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function ma(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}function De(t){return t.composedPath?t.composedPath()[0]:t.target}var wd;try{wd=typeof Intl<"u"&&Intl.v8BreakIterator}catch(t){wd=!1}var $t=(()=>{class t{_platformId=w(Js);isBrowser=this._platformId?oc(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||wd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ga;function Km(){if(ga==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ga=!0}))}finally{ga=ga||!1}return ga}function eo(t){return Km()?t:!!t.capture}function va(t,r=0){return Gm(t)?Number(t):arguments.length===2?r:0}function Gm(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Ur(t){return t instanceof Bt?t.nativeElement:t}var Ym=new ot("cdk-input-modality-detector-options"),Qm={ignoreKeys:[18,17,224,91,16]},Xm=650,xd={passive:!0,capture:!0},Zm=(()=>{class t{_platform=w($t);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new fe(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=De(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Xm||(this._modality.next(ha(e)?"keyboard":"mouse"),this._mostRecentTarget=De(e))};_onTouchstart=e=>{if(pa(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=De(e)};constructor(){let e=w(Ct),n=w(Lt),i=w(Ym,{optional:!0});if(this._options=$($({},Qm),i),this.modalityDetected=this._modality.pipe(Ys(1)),this.modalityChanged=this.modalityDetected.pipe(An()),this._platform.isBrowser){let o=w(wr).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(n,"keydown",this._onKeydown,xd),o.listen(n,"mousedown",this._onMousedown,xd),o.listen(n,"touchstart",this._onTouchstart,xd)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ya=(function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t})(ya||{}),Jm=new ot("cdk-focus-monitor-default-options"),cc=eo({passive:!0,capture:!0}),ba=(()=>{class t{_ngZone=w(Ct);_platform=w($t);_inputModalityDetector=w(Zm);_origin=null;_lastFocusOrigin=null;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=w(Lt);_stopInputModalityDetector=new it;constructor(){let e=w(Jm,{optional:!0});this._detectionMode=e?.detectionMode||ya.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=De(e);for(let i=n;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,n=!1){let i=Ur(e);if(!this._platform.isBrowser||i.nodeType!==1)return lt();let o=_d(i)||this._document,s=this._elementInfo.get(i);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new it,rootNode:o};return this._elementInfo.set(i,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let n=Ur(e),i=this._elementInfo.get(n);i&&(i.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(i))}focusVia(e,n,i){let o=Ur(e),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,d])=>this._originChanged(l,n,d)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ya.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===ya.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?Xm:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,n){let i=this._elementInfo.get(n),o=De(e);!i||!i.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),i)}_onBlur(e,n){let i=this._elementInfo.get(n);!i||i.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(i,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,cc),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,cc)}),this._rootNodeFocusListenerCount.set(n,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let i=this._rootNodeFocusListenerCount.get(n);i>1?this._rootNodeFocusListenerCount.set(n,i-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cc),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cc),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,i){this._setClasses(e,n),this._emitOrigin(i,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&n.push([o,i])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ro(t){return Array.isArray(t)?t:[t]}var tg=new Set,_i,lc=(()=>{class t{_platform=w($t);_nonce=w(gm,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Dx}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Ox(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ox(t,r){if(!tg.has(t))try{_i||(_i=document.createElement("style"),r&&_i.setAttribute("nonce",r),_i.setAttribute("type","text/css"),document.head.appendChild(_i)),_i.sheet&&(_i.sheet.insertRule(`@media ${t} {body{ }}`,0),tg.add(t))}catch(e){console.error(e)}}function Dx(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var _a=(()=>{class t{_mediaMatcher=w(lc);_zone=w(Ct);_queries=new Map;_destroySubject=new it;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return eg(ro(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=eg(ro(e)).map(s=>this._registerQuery(s).observable),o=oa(i);return o=qs(o.pipe(Pe(1)),o.pipe(Ys(1),Ks(0))),o.pipe(bt(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:d,query:p})=>{l.matches=l.matches||d,l.breakpoints[p]=d}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new On(s=>{let l=d=>this._zone.run(()=>s.next(d));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(qe(n),bt(({matches:s})=>({query:e,matches:s})),yr(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eg(t){return t.map(r=>r.split(",")).reduce((r,e)=>r.concat(e)).map(r=>r.trim())}var Ax=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({providers:[Ax]})}return t})();var Sd=(()=>{class t{_platform=w($t);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return Ix(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=kx($x(e));if(n&&(ng(n)===-1||!this.isVisible(n)))return!1;let i=e.nodeName.toLowerCase(),o=ng(e);return e.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Fx(e)?!1:i==="audio"?e.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return Bx(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kx(t){try{return t.frameElement}catch(r){return null}}function Ix(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function Tx(t){let r=t.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function Mx(t){return Nx(t)&&t.type=="hidden"}function Px(t){return Lx(t)&&t.hasAttribute("href")}function Nx(t){return t.nodeName.toLowerCase()=="input"}function Lx(t){return t.nodeName.toLowerCase()=="a"}function ag(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let r=t.getAttribute("tabindex");return!!(r&&!isNaN(parseInt(r,10)))}function ng(t){if(!ag(t))return null;let r=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function Fx(t){let r=t.nodeName.toLowerCase(),e=r==="input"&&t.type;return e==="text"||e==="password"||r==="select"||r==="textarea"}function Bx(t){return Mx(t)?!1:Tx(t)||Px(t)||t.hasAttribute("contenteditable")||ag(t)}function $x(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Ed=class{_element;_checker;_ngZone;_document;_injector;_startAnchor=null;_endAnchor=null;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_enabled=!0;constructor(r,e,n,i,o=!1,s){this._element=r,this._checker=e,this._ngZone=n,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return r=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(r),!!n}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){let e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){let e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let n=0;n<e.length;n++){let i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let n=e.length-1;n>=0;n--){let i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._injector?Ne(r,{injector:this._injector}):setTimeout(r)}},Rd=(()=>{class t{_checker=w(Sd);_ngZone=w(Ct);_document=w(Lt);_injector=w(wt);constructor(){w(Cr).load(ac)}create(e,n=!1){return new Ed(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sg=new ot("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),cg=new ot("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),jx=0,Od=(()=>{class t{_ngZone=w(Ct);_defaultOptions=w(cg,{optional:!0});_liveElement;_document=w(Lt);_sanitizer=w(zm);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=w(sg,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let i=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{!e||typeof e=="string"?this._liveElement.textContent=e:Vm(this._liveElement,e,this._sanitizer),typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${jx++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nn=(function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t})(Nn||{}),ig="cdk-high-contrast-black-on-white",og="cdk-high-contrast-white-on-black",Cd="cdk-high-contrast-active",lg=(()=>{class t{_platform=w($t);_hasCheckedHighContrastMode=!1;_document=w(Lt);_breakpointSubscription;constructor(){this._breakpointSubscription=w(_a).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Nn.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,i=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Nn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Nn.BLACK_ON_WHITE}return Nn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Cd,ig,og),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Nn.BLACK_ON_WHITE?e.add(Cd,ig):n===Nn.WHITE_ON_BLACK&&e.add(Cd,og)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dd=(()=>{class t{constructor(){w(lg)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({imports:[rg]})}return t})();var Ad={},sr=class t{_appId=w(Zs);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(r,e=!1){return this._appId!=="ng"&&(r+=this._appId),Ad.hasOwnProperty(r)||(Ad[r]=0),`${r}${e?t._infix+"-":""}${Ad[r]++}`}static \u0275fac=function(e){return new(e||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ux=200,uc=class{_letterKeyStream=new it;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new it;selectedItem=this._selectedItem;constructor(r,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:Ux;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(r),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(r){this._selectedItemIndex=r}setItems(r){this._items=r}handleKey(r){let e=r.keyCode;r.key&&r.key.length===1?this._letterKeyStream.next(r.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(r){this._letterKeyStream.pipe(br(e=>this._pressedLetters.push(e)),Ks(r),yt(()=>this._pressedLetters.length>0),bt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let i=(this._selectedItemIndex+n)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Ln(t,...r){return r.length?r.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var no=class{_items;_activeItemIndex=_r(-1);_activeItem=_r(null);_wrap=!1;_typeaheadSubscription=nr.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal=null;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=r=>r.disabled;constructor(r,e){this._items=r,r instanceof ad?this._itemChangesSubscription=r.changes.subscribe(n=>this._itemsChanged(n.toArray())):cd(r)&&(this._effectRef=od(()=>this._itemsChanged(r()),{injector:e}))}tabOut=new it;change=new it;skipPredicate(r){return this._skipPredicateFn=r,this}withWrap(r=!0){return this._wrap=r,this}withVerticalOrientation(r=!0){return this._vertical=r,this}withHorizontalOrientation(r){return this._horizontal=r,this}withAllowedModifierKeys(r){return this._allowedModifierKeys=r,this}withTypeAhead(r=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new uc(e,{debounceInterval:typeof r=="number"?r:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(r=!0){return this._homeAndEnd=r,this}withPageUpDown(r=!0,e=10){return this._pageUpAndDown={enabled:r,delta:e},this}setActiveItem(r){let e=this._activeItem();this.updateActiveItem(r),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(r){let e=r.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!r[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||Ln(r,"shiftKey"))&&this._typeahead?.handleKey(r);return}this._typeahead?.reset(),r.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(r){let e=this._getItemsArray(),n=typeof r=="number"?r:e.indexOf(r),i=e[n];this._activeItem.set(i??null),this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(r){this._wrap?this._setActiveInWrapMode(r):this._setActiveInDefaultMode(r)}_setActiveInWrapMode(r){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let i=(this._activeItemIndex()+r*n+e.length)%e.length,o=e[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(r){this._setActiveItemByIndex(this._activeItemIndex()+r,r)}_setActiveItemByIndex(r,e){let n=this._getItemsArray();if(n[r]){for(;this._skipPredicateFn(n[r]);)if(r+=e,!n[r])return;this.setActiveItem(r)}}_getItemsArray(){return cd(this._items)?this._items():this._items instanceof ad?this._items.toArray():this._items}_itemsChanged(r){this._typeahead?.setItems(r);let e=this._activeItem();if(e){let n=r.indexOf(e);n>-1&&n!==this._activeItemIndex()&&(this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n))}}};var kd=class extends no{setActiveItem(r){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(r),this.activeItem&&this.activeItem.setActiveStyles()}};var Id=class extends no{_origin="program";setFocusOrigin(r){return this._origin=r,this}setActiveItem(r){super.setActiveItem(r),this.activeItem&&this.activeItem.focus(this._origin)}};var dg=" ";function zx(t,r,e){let n=fc(t,r);e=e.trim(),!n.some(i=>i.trim()===e)&&(n.push(e),t.setAttribute(r,n.join(dg)))}function Vx(t,r,e){let n=fc(t,r);e=e.trim();let i=n.filter(o=>o!==e);i.length?t.setAttribute(r,i.join(dg)):t.removeAttribute(r)}function fc(t,r){return t.getAttribute(r)?.match(/\S+/g)??[]}var fg="cdk-describedby-message",dc="cdk-describedby-host",Md=0,uk=(()=>{class t{_platform=w($t);_document=w(Lt);_messageRegistry=new Map;_messagesContainer=null;_id=`${Md++}`;constructor(){w(Cr).load(ac),this._id=w(Zs)+"-"+Md++}describe(e,n,i){if(!this._canBeDescribed(e,n))return;let o=Td(n,i);typeof n!="string"?(ug(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,i){if(!n||!this._isElementNode(e))return;let o=Td(n,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${dc}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(dc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let i=this._document.createElement("div");ug(i,this._id),i.textContent=e,n&&i.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Td(e,n),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){let n=fc(e,"aria-describedby").filter(i=>i.indexOf(fg)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let i=this._messageRegistry.get(n);zx(e,"aria-describedby",i.messageElement.id),e.setAttribute(dc,this._id),i.referenceCount++}_removeMessageReference(e,n){let i=this._messageRegistry.get(n);i.referenceCount--,Vx(e,"aria-describedby",i.messageElement.id),e.removeAttribute(dc)}_isElementDescribedByMessage(e,n){let i=fc(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let i=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Td(t,r){return typeof t=="string"?`${r||""}/${t}`:t}function ug(t,r){t.id||(t.id=`${fg}-${r}-${Md++}`)}var Er=(function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t})(Er||{}),hc,wi;function pc(){if(wi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return wi=!1,wi;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)wi=!0;else{let t=Element.prototype.scrollTo;t?wi=!/\{\s*\[native code\]\s*\}/.test(t.toString()):wi=!1}}return wi}function io(){if(typeof document!="object"||!document)return Er.NORMAL;if(hc==null){let t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),hc=Er.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,hc=t.scrollLeft===0?Er.NEGATED:Er.INVERTED),t.remove()}return hc}function Pd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var oo,hg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _k(){if(oo)return oo;if(typeof document!="object"||!document)return oo=new Set(hg),oo;let t=document.createElement("input");return oo=new Set(hg.filter(r=>(t.setAttribute("type",r),t.type===r))),oo}var pg={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var qx=new ot("MATERIAL_ANIMATIONS"),mg=null;function Hx(){return w(qx,{optional:!0})?.animationsDisabled||w(tc,{optional:!0})==="NoopAnimations"?"di-disabled":(mg??=w(lc).matchMedia("(prefers-reduced-motion)").matches,mg?"reduced-motion":"enabled")}function cr(){return Hx()!=="enabled"}function te(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Ik(t){return t!=null&&`${t}`!="false"}var lr=(function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t})(lr||{}),Nd=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=lr.HIDDEN;constructor(r,e,n,i=!1){this._renderer=r,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},gg=eo({passive:!0,capture:!0}),Ld=class{_events=new Map;addHandler(r,e,n,i){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(i):o.set(n,new Set([i]))}else this._events.set(e,new Map([[n,new Set([i])]])),r.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,gg)})}removeHandler(r,e,n){let i=this._events.get(r);if(!i)return;let o=i.get(e);o&&(o.delete(n),o.size===0&&i.delete(e),i.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,gg)))}_delegateEventHandler=r=>{let e=De(r);e&&this._events.get(r.type)?.forEach((n,i)=>{(i===e||i.contains(e))&&n.forEach(o=>o.handleEvent(r))})}},wa={enterDuration:225,exitDuration:150},Wx=800,vg=eo({passive:!0,capture:!0}),yg=["mousedown","touchstart"],bg=["mouseup","mouseleave","touchend","touchcancel"],Kx=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),xa=class t{_target;_ngZone;_platform;_containerElement;_triggerElement=null;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple=null;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect=null;static _eventManager=new Ld;constructor(r,e,n,i,o){this._target=r,this._ngZone=e,this._platform=i,i.isBrowser&&(this._containerElement=Ur(n)),o&&o.get(Cr).load(Kx)}fadeInRipple(r,e,n={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=$($({},wa),n.animation);n.centered&&(r=i.left+i.width/2,e=i.top+i.height/2);let s=n.radius||Gx(r,e,i),l=r-i.left,d=e-i.top,p=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-s}px`,m.style.top=`${d-s}px`,m.style.height=`${s*2}px`,m.style.width=`${s*2}px`,n.color!=null&&(m.style.backgroundColor=n.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);let y=window.getComputedStyle(m),x=y.transitionProperty,O=y.transitionDuration,N=x==="none"||O==="0s"||O==="0s, 0s"||i.width===0&&i.height===0,U=new Nd(this,m,n,N);m.style.transform="scale3d(1, 1, 1)",U.state=lr.FADING_IN,n.persistent||(this._mostRecentTransientRipple=U);let G=null;return!N&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let tt=()=>{G&&(G.fallbackTimer=null),clearTimeout(rt),this._finishRippleTransition(U)},et=()=>this._destroyRipple(U),rt=setTimeout(et,p+100);m.addEventListener("transitionend",tt),m.addEventListener("transitioncancel",et),G={onTransitionEnd:tt,onTransitionCancel:et,fallbackTimer:rt}}),this._activeRipples.set(U,G),(N||!p)&&this._finishRippleTransition(U),U}fadeOutRipple(r){if(r.state===lr.FADING_OUT||r.state===lr.HIDDEN)return;let e=r.element,n=$($({},wa),r.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",r.state=lr.FADING_OUT,(r._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let e=Ur(r);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,yg.forEach(n=>{t._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bg.forEach(e=>{this._triggerElement.addEventListener(e,this,vg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===lr.FADING_IN?this._startFadeOutTransition(r):r.state===lr.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let e=r===this._mostRecentTransientRipple,{persistent:n}=r.config;r.state=lr.VISIBLE,!n&&(!e||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let e=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=lr.HIDDEN,e!==null&&(r.element.removeEventListener("transitionend",e.onTransitionEnd),r.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),r.element.remove()}_onMousedown(r){let e=ha(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Wx;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!pa(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=r.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let e=r.state===lr.VISIBLE||r.config.terminateOnPointerUp&&r.state===lr.FADING_IN;!r.config.persistent&&e&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(yg.forEach(e=>t._eventManager.removeHandler(e,r,this)),this._pointerUpEventsRegistered&&(bg.forEach(e=>r.removeEventListener(e,this,vg)),this._pointerUpEventsRegistered=!1))}};function Gx(t,r,e){let n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(n*n+i*i)}var Fd=new ot("mat-ripple-global-options"),Hk=(()=>{class t{_elementRef=w(Bt);_animationsDisabled=cr();color;unbounded=!1;centered=!1;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=w(Ct),n=w($t),i=w(Fd,{optional:!0}),o=w(wt);this._globalOptions=i||{},this._rippleRenderer=new xa(this,e,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:$($($({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,i){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,$($({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,$($({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,i){n&2&&ar("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var Yx={capture:!0},Qx=["focus","mousedown","mouseenter","touchstart"],Bd="mat-ripple-loader-uninitialized",$d="mat-ripple-loader-class-name",_g="mat-ripple-loader-centered",mc="mat-ripple-loader-disabled",wg=(()=>{class t{_document=w(Lt);_animationsDisabled=cr();_globalRippleOptions=w(Fd,{optional:!0});_platform=w($t);_ngZone=w(Ct);_injector=w(wt);_eventCleanups;_hosts=new Map;constructor(){let e=w(wr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Qx.map(n=>e.listen(this._document,n,this._onInteraction,Yx)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(Bd,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute($d))&&e.setAttribute($d,n.className||""),n.centered&&e.setAttribute(_g,""),n.disabled&&e.setAttribute(mc,"")}setDisabled(e,n){let i=this._hosts.get(e);i?(i.target.rippleDisabled=n,!n&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(e))):n?e.setAttribute(mc,""):e.removeAttribute(mc)}_onInteraction=e=>{let n=De(e);if(n instanceof HTMLElement){let i=n.closest(`[${Bd}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute($d)),e.append(n);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??wa.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??wa.exitDuration,l={rippleDisabled:this._animationsDisabled||i?.disabled||e.hasAttribute(mc),rippleConfig:{centered:e.hasAttribute(_g),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},d=new xa(l,this._ngZone,n,this._platform,this._injector),p=!l.rippleDisabled;p&&d.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:d,hasSetUpEvents:p}),e.removeAttribute(Bd)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var Xx=["mat-icon-button",""],Zx=["*"],Jx=new ot("MAT_BUTTON_CONFIG");function Cg(t){return t==null?void 0:Mm(t)}var jd=(()=>{class t{_elementRef=w(Bt);_ngZone=w(Ct);_animationsDisabled=cr();_config=w(Jx,{optional:!0});_focusMonitor=w(ba);_cleanupClick;_renderer=w(Fr);_rippleLoader=w(wg);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){w(Cr).load(xg);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,i){n&2&&(xr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Am(i.color?"mat-"+i.color:""),ar("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",oe],disabled:[2,"disabled","disabled",oe],ariaDisabled:[2,"aria-disabled","ariaDisabled",oe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",oe],tabIndex:[2,"tabIndex","tabIndex",Cg],_tabindex:[2,"tabindex","_tabindex",Cg]}})}return t})(),t0=(()=>{class t extends jd{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Se],attrs:Xx,ngContentSelectors:Zx,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(la(),mi(0,"span",0),vi(1),mi(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var Eg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({imports:[Ke]})}return t})();var e0=["matButton",""],r0=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],n0=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Sg=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Rg=(()=>{class t extends jd{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=i0(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let n=this._elementRef.nativeElement.classList,i=this._appearance?Sg.get(this._appearance):null,o=Sg.get(e);i&&n.remove(...i),n.add(...o),this._appearance=e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Se],attrs:e0,ngContentSelectors:n0,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(la(r0),mi(0,"span",0),vi(1),dd(2,"span",1),vi(3,1),fd(),vi(4,2),mi(5,"span",2)(6,"span",3)),n&2&&ar("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function i0(t){return t.hasAttribute("mat-raised-button")?"elevated":t.hasAttribute("mat-stroked-button")?"outlined":t.hasAttribute("mat-flat-button")?"filled":t.hasAttribute("mat-button")?"text":null}var Og=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({imports:[Eg,Ke]})}return t})();var ut="primary",Ta=Symbol("RouteTitle"),Hd=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ei(t){return new Hd(t)}function Ud(t,r,e){for(let n=0;n<t.length;n++){let i=t[n],o=r[n];if(i[0]===":")e[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function Fg(t,r,e){let n=e.path.split("/"),i=n.indexOf("**");if(i===-1){if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let d={},p=t.slice(0,n.length);return Ud(n,p,d)?{consumed:p,posParams:d}:null}if(i!==n.lastIndexOf("**"))return null;let o=n.slice(0,i),s=n.slice(i+1);if(o.length+s.length>t.length||e.pathMatch==="full"&&r.hasChildren()&&e.path!=="**")return null;let l={};return!Ud(o,t.slice(0,o.length),l)||!Ud(s,t.slice(t.length-s.length),l)?null:{consumed:t,posParams:l}}function wc(t){return new Promise((r,e)=>{t.pipe(kn()).subscribe({next:n=>r(n),error:n=>e(n)})})}function o0(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!zr(t[e],r[e]))return!1;return!0}function zr(t,r){let e=t?Wd(t):void 0,n=r?Wd(r):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Bg(t[i],r[i]))return!1;return!0}function Wd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Bg(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((i,o)=>n[o]===i)}else return t===r}function a0(t){return t.length>0?t[t.length-1]:null}function Ri(t){return Xi(t)?t:Em(t)?Ee(Promise.resolve(t)):lt(t)}function $g(t){return Xi(t)?wc(t):Promise.resolve(t)}var s0={exact:Ug,subset:zg},jg={exact:c0,subset:l0,ignored:()=>!0};function Dg(t,r,e){return s0[e.paths](t.root,r.root,e.matrixParams)&&jg[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function c0(t,r){return zr(t,r)}function Ug(t,r,e){if(!xi(t.segments,r.segments)||!yc(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!Ug(t.children[n],r.children[n],e))return!1;return!0}function l0(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>Bg(t[e],r[e]))}function zg(t,r,e){return Vg(t,r,r.segments,e)}function Vg(t,r,e,n){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!xi(i,e)||r.hasChildren()||!yc(i,e,n))}else if(t.segments.length===e.length){if(!xi(t.segments,e)||!yc(t.segments,e,n))return!1;for(let i in r.children)if(!t.children[i]||!zg(t.children[i],r.children[i],n))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!xi(t.segments,i)||!yc(t.segments,i,n)||!t.children[ut]?!1:Vg(t.children[ut],r,o,n)}}function yc(t,r,e){return r.every((n,i)=>jg[e](t[i].parameters,n.parameters))}var Rr=class{root;queryParams;fragment;_queryParamMap;constructor(r=new Rt([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return f0.serialize(this)}},Rt=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bc(this)}},Fn=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return Hg(this)}};function u0(t,r){return xi(t,r)&&t.every((e,n)=>zr(e.parameters,r[n].parameters))}function xi(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function d0(t,r){let e=[];return Object.entries(t.children).forEach(([n,i])=>{n===ut&&(e=e.concat(r(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==ut&&(e=e.concat(r(i,n)))}),e}var Oi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:()=>new ln,providedIn:"root"})}return t})(),ln=class{parse(r){let e=new Gd(r);return new Rr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${Ca(r.root,!0)}`,n=m0(r.queryParams),i=typeof r.fragment=="string"?`#${h0(r.fragment)}`:"";return`${e}${n}${i}`}},f0=new ln;function bc(t){return t.segments.map(r=>Hg(r)).join("/")}function Ca(t,r){if(!t.hasChildren())return bc(t);if(r){let e=t.children[ut]?Ca(t.children[ut],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ut&&n.push(`${i}:${Ca(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=d0(t,(n,i)=>i===ut?[Ca(t.children[ut],!1)]:[`${i}:${Ca(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ut]!=null?`${bc(t)}/${e[0]}`:`${bc(t)}/(${e.join("//")})`}}function qg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(t){return qg(t).replace(/%3B/gi,";")}function h0(t){return encodeURI(t)}function Kd(t){return qg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _c(t){return decodeURIComponent(t)}function Ag(t){return _c(t.replace(/\+/g,"%20"))}function Hg(t){return`${Kd(t.path)}${p0(t.parameters)}`}function p0(t){return Object.entries(t).map(([r,e])=>`;${Kd(r)}=${Kd(e)}`).join("")}function m0(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(i=>`${gc(e)}=${gc(i)}`).join("&"):`${gc(e)}=${gc(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var g0=/^[^\/()?;#]+/;function zd(t){let r=t.match(g0);return r?r[0]:""}var v0=/^[^\/()?;=#]+/;function y0(t){let r=t.match(v0);return r?r[0]:""}var b0=/^[^=?&#]+/;function _0(t){let r=t.match(b0);return r?r[0]:""}var w0=/^[^&#]+/;function x0(t){let r=t.match(w0);return r?r[0]:""}var Gd=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(r=0){if(r>50)throw new ye(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0,r));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1,r)),(e.length>0||Object.keys(n).length>0)&&(i[ut]=new Rt(e,n)),i}parseSegment(){let r=zd(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new ye(4009,!1);return this.capture(r),new Fn(_c(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=y0(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=zd(this.remaining);i&&(n=i,this.capture(n))}r[_c(e)]=_c(n)}parseQueryParam(r){let e=_0(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=x0(this.remaining);s&&(n=s,this.capture(n))}let i=Ag(e),o=Ag(n);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(o)}else r[i]=o}parseParens(r,e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=zd(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new ye(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):r&&(s=ut);let l=this.parseChildren(e+1);n[s??ut]=Object.keys(l).length===1&&l[ut]?l[ut]:new Rt([],l),this.consumeOptional("//")}return n}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new ye(4011,!1)}};function Wg(t){return t.segments.length>0?new Rt([],{[ut]:t}):t}function Kg(t){let r={};for(let[n,i]of Object.entries(t.children)){let o=Kg(i);if(n===ut&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))r[s]=l;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let e=new Rt(t.segments,r);return C0(e)}function C0(t){if(t.numberOfChildren===1&&t.children[ut]){let r=t.children[ut];return new Rt(t.segments.concat(r.segments),r.children)}return t}function Bn(t){return t instanceof Rr}function Gg(t,r,e=null,n=null,i=new ln){let o=Yg(t);return Qg(o,r,e,n,i)}function Yg(t){let r;function e(o){let s={};for(let d of o.children){let p=e(d);s[d.outlet]=p}let l=new Rt(o.url,s);return o===t&&(r=l),l}let n=e(t.root),i=Wg(n);return r??i}function Qg(t,r,e,n,i){let o=t;for(;o.parent;)o=o.parent;if(r.length===0)return Vd(o,o,o,e,n,i);let s=E0(r);if(s.toRoot())return Vd(o,o,new Rt([],{}),e,n,i);let l=S0(s,o,t),d=l.processChildren?Sa(l.segmentGroup,l.index,s.commands):Zg(l.segmentGroup,l.index,s.commands);return Vd(o,l.segmentGroup,d,e,n,i)}function xc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oa(t){return typeof t=="object"&&t!=null&&t.outlets}function kg(t,r,e){t||="\u0275";let n=new Rr;return n.queryParams={[t]:r},e.parse(e.serialize(n)).queryParams[t]}function Vd(t,r,e,n,i,o){let s={};for(let[p,m]of Object.entries(n??{}))s[p]=Array.isArray(m)?m.map(y=>kg(p,y,o)):kg(p,m,o);let l;t===r?l=e:l=Xg(t,r,e);let d=Wg(Kg(l));return new Rr(d,s,i)}function Xg(t,r,e){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===r?n[i]=e:n[i]=Xg(o,r,e)}),new Rt(t.segments,n)}var Cc=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&xc(n[0]))throw new ye(4003,!1);let i=n.find(Oa);if(i&&i!==a0(n))throw new ye(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function E0(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Cc(!0,0,t);let r=0,e=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,p])=>{l[d]=typeof p=="string"?p.split("/"):p}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?e=!0:l===".."?r++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new Cc(e,r,n)}var so=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function S0(t,r,e){if(t.isAbsolute)return new so(r,!0,0);if(!e)return new so(r,!1,NaN);if(e.parent===null)return new so(e,!0,0);let n=xc(t.commands[0])?0:1,i=e.segments.length-1+n;return R0(e,i,t.numberOfDoubleDots)}function R0(t,r,e){let n=t,i=r,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new ye(4005,!1);i=n.segments.length}return new so(n,!1,i-o)}function O0(t){return Oa(t[0])?t[0].outlets:{[ut]:t}}function Zg(t,r,e){if(t??=new Rt([],{}),t.segments.length===0&&t.hasChildren())return Sa(t,r,e);let n=D0(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Rt(t.segments.slice(0,n.pathIndex),{});return o.children[ut]=new Rt(t.segments.slice(n.pathIndex),t.children),Sa(o,0,i)}else return n.match&&i.length===0?new Rt(t.segments,{}):n.match&&!t.hasChildren()?Yd(t,r,e):n.match?Sa(t,0,i):Yd(t,r,e)}function Sa(t,r,e){if(e.length===0)return new Rt(t.segments,{});{let n=O0(e),i={};if(Object.keys(n).some(o=>o!==ut)&&t.children[ut]&&t.numberOfChildren===1&&t.children[ut].segments.length===0){let o=Sa(t.children[ut],r,e);return new Rt(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Zg(t.children[o],r,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Rt(t.segments,i)}}function D0(t,r,e){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=e.length)return o;let s=t.segments[i],l=e[n];if(Oa(l))break;let d=`${l}`,p=n<e.length-1?e[n+1]:null;if(i>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!Tg(d,p,s))return o;n+=2}else{if(!Tg(d,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Yd(t,r,e){let n=t.segments.slice(0,r),i=0;for(;i<e.length;){let o=e[i];if(Oa(o)){let d=A0(o.outlets);return new Rt(n,d)}if(i===0&&xc(e[0])){let d=t.segments[r];n.push(new Fn(d.path,Ig(e[0]))),i++;continue}let s=Oa(o)?o.outlets[ut]:`${o}`,l=i<e.length-1?e[i+1]:null;s&&l&&xc(l)?(n.push(new Fn(s,Ig(l))),i+=2):(n.push(new Fn(s,{})),i++)}return new Rt(n,{})}function A0(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Yd(new Rt([],{}),0,n))}),r}function Ig(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function Tg(t,r,e){return t==e.path&&zr(r,e.parameters)}var co="imperative",ae=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(ae||{}),Ye=class{id;url;constructor(r,e){this.id=r,this.url=e}},Vr=class extends Ye{type=ae.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",i=null){super(r,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ur=class extends Ye{urlAfterRedirects;type=ae.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Re=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Re||{}),uo=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(uo||{}),Le=class extends Ye{reason;code;type=ae.NavigationCancel;constructor(r,e,n,i){super(r,e),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function Jg(t){return t instanceof Le&&(t.code===Re.Redirect||t.code===Re.SupersededByNewNavigation)}var qr=class extends Ye{reason;code;type=ae.NavigationSkipped;constructor(r,e,n,i){super(r,e),this.reason=n,this.code=i}},Si=class extends Ye{error;target;type=ae.NavigationError;constructor(r,e,n,i){super(r,e),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fo=class extends Ye{urlAfterRedirects;state;type=ae.RoutesRecognized;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ec=class extends Ye{urlAfterRedirects;state;type=ae.GuardsCheckStart;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sc=class extends Ye{urlAfterRedirects;state;shouldActivate;type=ae.GuardsCheckEnd;constructor(r,e,n,i,o){super(r,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rc=class extends Ye{urlAfterRedirects;state;type=ae.ResolveStart;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oc=class extends Ye{urlAfterRedirects;state;type=ae.ResolveEnd;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dc=class{route;type=ae.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ac=class{route;type=ae.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kc=class{snapshot;type=ae.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ic=class{snapshot;type=ae.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tc=class{snapshot;type=ae.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mc=class{snapshot;type=ae.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ho=class{routerEvent;position;anchor;scrollBehavior;type=ae.Scroll;constructor(r,e,n,i){this.routerEvent=r,this.position=e,this.anchor=n,this.scrollBehavior=i}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},po=class{},mo=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function k0(t){return!(t instanceof po)&&!(t instanceof mo)}var Pc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new Di(this.rootInjector)}},Di=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Pc(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(Gt(He))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nc=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=Qd(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=Qd(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=Xd(r,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return Xd(r,this._root).map(e=>e.value)}};function Qd(t,r){if(t===r.value)return r;for(let e of r.children){let n=Qd(t,e);if(n)return n}return null}function Xd(t,r){if(t===r.value)return[r];for(let e of r.children){let n=Xd(t,e);if(n.length)return n.unshift(r),n}return[]}var Ge=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function ao(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var Da=class extends Nc{snapshot;constructor(r,e){super(r),this.snapshot=e,af(this,r)}toString(){return this.snapshot.toString()}};function tv(t,r){let e=I0(t,r),n=new fe([new Fn("",{})]),i=new fe({}),o=new fe({}),s=new fe({}),l=new fe(""),d=new dr(n,i,s,l,o,ut,t,e.root);return d.snapshot=e.root,new Da(new Ge(d,[]),e)}function I0(t,r){let e={},n={},i={},s=new Ci([],e,i,"",n,ut,t,null,{},r);return new Aa("",new Ge(s,[]))}var dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,i,o,s,l,d){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(bt(p=>p[Ta]))??lt(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(bt(r=>Ei(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(bt(r=>Ei(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lc(t,r,e="emptyOnly"){let n,{routeConfig:i}=t;return r!==null&&(e==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:$($({},r.params),t.params),data:$($({},r.data),t.data),resolve:$($($($({},t.data),r.data),i?.data),t._resolvedData)}:n={params:$({},t.params),data:$({},t.data),resolve:$($({},t.data),t._resolvedData??{})},i&&rv(i)&&(n.resolve[Ta]=i.title),n}var Ci=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Ta]}constructor(r,e,n,i,o,s,l,d,p,m){this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=p,this._environmentInjector=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Aa=class extends Nc{url;constructor(r,e){super(e),this.url=r,af(this,e)}toString(){return ev(this._root)}};function af(t,r){r.value._routerState=t,r.children.forEach(e=>af(t,e))}function ev(t){let r=t.children.length>0?` { ${t.children.map(ev).join(", ")} } `:"";return`${t.value}${r}`}function qd(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,zr(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),zr(r.params,e.params)||t.paramsSubject.next(e.params),o0(r.url,e.url)||t.urlSubject.next(e.url),zr(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zd(t,r){let e=zr(t.params,r.params)&&u0(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||Zd(t.parent,r.parent))}function rv(t){return typeof t.title=="string"||t.title===null}var nv=new ot(""),sf=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ut;activateEvents=new ee;deactivateEvents=new ee;attachEvents=new ee;detachEvents=new ee;routerOutletData=Im();parentContexts=w(Di);location=w(In);changeDetector=w(Br);inputBinder=w(Ma,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ye(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ye(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ye(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new ye(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Jd(e,l,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Lr]})}return t})(),Jd=class{route;childContexts;parent;outletData;constructor(r,e,n,i){this.route=r,this.childContexts=e,this.parent=n,this.outletData=i}get(r,e){return r===dr?this.route:r===Di?this.childContexts:r===nv?this.outletData:this.parent.get(r,e)}},Ma=new ot(""),cf=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,i=oa([n.queryParams,n.params,n.data]).pipe(Pr(([o,s,l],d)=>(l=$($($({},o),s),l),d===0?lt(l):Promise.resolve(l)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=Nm(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),Pa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&nc(0,"router-outlet")},dependencies:[sf],encapsulation:2})}return t})();function lf(t){let r=t.children&&t.children.map(lf),e=r?mt($({},t),{children:r}):$({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ut&&(e.component=Pa),e}function T0(t,r,e){let n=ka(t,r._root,e?e._root:void 0);return new Da(n,r)}function ka(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let i=M0(t,r,e);return new Ge(n,i)}else{if(t.shouldAttach(r.value)){let o=t.retrieve(r.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(l=>ka(t,l)),s}}let n=P0(r.value),i=r.children.map(o=>ka(t,o));return new Ge(n,i)}}function M0(t,r,e){return r.children.map(n=>{for(let i of e.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return ka(t,n,i);return ka(t,n)})}function P0(t){return new dr(new fe(t.url),new fe(t.params),new fe(t.queryParams),new fe(t.fragment),new fe(t.data),t.outlet,t.component,t)}var go=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},iv="ngNavigationCancelingError";function Fc(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=Bn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=ov(!1,Re.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function ov(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[iv]=!0,e.cancellationCode=r,e}function N0(t){return av(t)&&Bn(t.url)}function av(t){return!!t&&t[iv]}var tf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,i,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),qd(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let i=ao(e);r.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,e,n){let i=r.value,o=e?e.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(r,e,s.children)}else this.deactivateChildRoutes(r,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),i=n&&r.value.component?n.children:e,o=ao(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:l})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),i=n&&r.value.component?n.children:e,o=ao(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let i=ao(e);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Mc(o.value.snapshot))}),r.children.length&&this.forwardEvent(new Ic(r.value.snapshot))}activateRoutes(r,e,n){let i=r.value,o=e?e.value:null;if(qd(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,e,s.children)}else this.activateChildRoutes(r,e,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),qd(l.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},Bc=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},lo=class{component;route;constructor(r,e){this.component=r,this.route=e}};function L0(t,r,e){let n=t._root,i=r?r._root:null;return Ea(n,i,e,[n.value])}function F0(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function yo(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!cm(t)?t:r.get(t):n}function Ea(t,r,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ao(r);return t.children.forEach(s=>{B0(s,o[s.value.outlet],e,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Ra(l,e.getContext(s),i)),i}function B0(t,r,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=r?r.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=$0(s,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new Bc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ea(t,r,l?l.children:null,n,i):Ea(t,r,e,n,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new lo(l.outlet.component,s))}else s&&Ra(r,l,i),i.canActivateChecks.push(new Bc(n)),o.component?Ea(t,null,l?l.children:null,n,i):Ea(t,null,e,n,i);return i}function $0(t,r,e){if(typeof e=="function")return We(r._environmentInjector,()=>e(t,r));switch(e){case"pathParamsChange":return!xi(t.url,r.url);case"pathParamsOrQueryParamsChange":return!xi(t.url,r.url)||!zr(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zd(t,r)||!zr(t.queryParams,r.queryParams);default:return!Zd(t,r)}}function Ra(t,r,e){let n=ao(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?r?Ra(s,r.children.getContext(o),e):Ra(s,null,e):Ra(s,r,e)}),i.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new lo(r.outlet.component,i)):e.canDeactivateChecks.push(new lo(null,i)):e.canDeactivateChecks.push(new lo(null,i))}function Na(t){return typeof t=="function"}function j0(t){return typeof t=="boolean"}function U0(t){return t&&Na(t.canLoad)}function z0(t){return t&&Na(t.canActivate)}function V0(t){return t&&Na(t.canActivateChild)}function q0(t){return t&&Na(t.canDeactivate)}function H0(t){return t&&Na(t.canMatch)}function sv(t){return t instanceof nm||t?.name==="EmptyError"}var vc=Symbol("INITIAL_VALUE");function vo(){return Pr(t=>oa(t.map(r=>r.pipe(Pe(1),qe(vc)))).pipe(bt(r=>{for(let e of r)if(e!==!0){if(e===vc)return vc;if(e===!1||W0(e))return e}return!0}),yt(r=>r!==vc),Pe(1)))}function W0(t){return Bn(t)||t instanceof go}function cv(t){return t.aborted?lt(void 0).pipe(Pe(1)):new On(r=>{let e=()=>{r.next(),r.complete()};return t.addEventListener("abort",e),()=>t.removeEventListener("abort",e)})}function lv(t){return yr(cv(t))}function K0(t){return he(r=>{let{targetSnapshot:e,currentSnapshot:n,guards:{canActivateChecks:i,canDeactivateChecks:o}}=r;return o.length===0&&i.length===0?lt(mt($({},r),{guardsResult:!0})):G0(o,e,n).pipe(he(s=>s&&j0(s)?Y0(e,i,t):lt(s)),bt(s=>mt($({},r),{guardsResult:s})))})}function G0(t,r,e){return Ee(t).pipe(he(n=>tC(n.component,n.route,e,r)),kn(n=>n!==!0,!0))}function Y0(t,r,e){return Ee(r).pipe(aa(n=>qs(X0(n.route.parent,e),Q0(n.route,e),J0(t,n.path),Z0(t,n.route))),kn(n=>n!==!0,!0))}function Q0(t,r){return t!==null&&r&&r(new Tc(t)),lt(!0)}function X0(t,r){return t!==null&&r&&r(new kc(t)),lt(!0)}function Z0(t,r){let e=r.routeConfig?r.routeConfig.canActivate:null;if(!e||e.length===0)return lt(!0);let n=e.map(i=>Dn(()=>{let o=r._environmentInjector,s=yo(i,o),l=z0(s)?s.canActivate(r,t):We(o,()=>s(r,t));return Ri(l).pipe(kn())}));return lt(n).pipe(vo())}function J0(t,r){let e=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(o=>F0(o)).filter(o=>o!==null).map(o=>Dn(()=>{let s=o.guards.map(l=>{let d=o.node._environmentInjector,p=yo(l,d),m=V0(p)?p.canActivateChild(e,t):We(d,()=>p(e,t));return Ri(m).pipe(kn())});return lt(s).pipe(vo())}));return lt(i).pipe(vo())}function tC(t,r,e,n){let i=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!i||i.length===0)return lt(!0);let o=i.map(s=>{let l=r._environmentInjector,d=yo(s,l),p=q0(d)?d.canDeactivate(t,r,e,n):We(l,()=>d(t,r,e,n));return Ri(p).pipe(kn())});return lt(o).pipe(vo())}function eC(t,r,e,n,i){let o=r.canLoad;if(o===void 0||o.length===0)return lt(!0);let s=o.map(l=>{let d=yo(l,t),p=U0(d)?d.canLoad(r,e):We(t,()=>d(r,e)),m=Ri(p);return i?m.pipe(lv(i)):m});return lt(s).pipe(vo(),uv(n))}function uv(t){return tm(br(r=>{if(typeof r!="boolean")throw Fc(t,r)}),bt(r=>r===!0))}function rC(t,r,e,n,i){let o=r.canMatch;if(!o||o.length===0)return lt(!0);let s=o.map(l=>{let d=yo(l,t),p=H0(d)?d.canMatch(r,e):We(t,()=>d(r,e));return Ri(p).pipe(lv(i))});return lt(s).pipe(vo(),uv(n))}var cn=class t extends Error{segmentGroup;constructor(r){super(),this.segmentGroup=r||null,Object.setPrototypeOf(this,t.prototype)}},Ia=class t extends Error{urlTree;constructor(r){super(),this.urlTree=r,Object.setPrototypeOf(this,t.prototype)}};function nC(t){throw new ye(4e3,!1)}function iC(t){throw ov(!1,Re.GuardRejected)}var ef=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){return j(this,null,function*(){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return n;if(i.numberOfChildren>1||!i.children[ut])throw nC(`${r.redirectTo}`);i=i.children[ut]}})}applyRedirectCommands(r,e,n,i,o){return j(this,null,function*(){let s=yield oC(e,i,o);if(s instanceof Rr)throw new Ia(s);let l=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),r,n);if(s[0]==="/")throw new Ia(l);return l})}applyRedirectCreateUrlTree(r,e,n,i){let o=this.createSegmentGroup(r,e.root,n,i);return new Rr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);n[i]=e[l]}else n[i]=o}),n}createSegmentGroup(r,e,n,i){let o=this.createSegments(r,e.segments,n,i),s={};return Object.entries(e.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(r,d,n,i)}),new Rt(o,s)}createSegments(r,e,n,i){return e.map(o=>o.path[0]===":"?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,e,n){let i=n[e.path.substring(1)];if(!i)throw new ye(4001,!1);return i}findOrReturn(r,e){let n=0;for(let i of e){if(i.path===r.path)return e.splice(n),i;n++}return r}};function oC(t,r,e){if(typeof t=="string")return Promise.resolve(t);let n=t,{queryParams:i,fragment:o,routeConfig:s,url:l,outlet:d,params:p,data:m,title:y,paramMap:x,queryParamMap:O}=r;return wc(Ri(We(e,()=>n({params:p,data:m,queryParams:i,fragment:o,routeConfig:s,url:l,outlet:d,title:y,paramMap:x,queryParamMap:O}))))}function aC(t,r){return t.providers&&!t._injector&&(t._injector=rc(t.providers,r,`Route: ${t.path}`)),t._injector??r}function Sr(t){return t.outlet||ut}function sC(t,r){let e=t.filter(n=>Sr(n)===r);return e.push(...t.filter(n=>Sr(n)!==r)),e}var rf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cC(t,r,e,n,i,o){let s=dv(t,r,e);return s.matched?(n=aC(r,n),rC(n,r,e,i,o).pipe(bt(l=>l===!0?s:$({},rf)))):lt(s)}function dv(t,r,e){if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?$({},rf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(r.matcher||Fg)(e,t,r);if(!i)return $({},rf);let o={};Object.entries(i.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Mg(t,r,e,n){return e.length>0&&dC(t,e,n)?{segmentGroup:new Rt(r,uC(n,new Rt(e,t.children))),slicedSegments:[]}:e.length===0&&fC(t,e,n)?{segmentGroup:new Rt(t.segments,lC(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new Rt(t.segments,t.children),slicedSegments:e}}function lC(t,r,e,n){let i={};for(let o of e)if(jc(t,r,o)&&!n[Sr(o)]){let s=new Rt([],{});i[Sr(o)]=s}return $($({},n),i)}function uC(t,r){let e={};e[ut]=r;for(let n of t)if(n.path===""&&Sr(n)!==ut){let i=new Rt([],{});e[Sr(n)]=i}return e}function dC(t,r,e){return e.some(n=>jc(t,r,n)&&Sr(n)!==ut)}function fC(t,r,e){return e.some(n=>jc(t,r,n))}function jc(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function hC(t,r,e){return r.length===0&&!t.children[e]}var nf=class{};function pC(t,r,e,n,i,o,s="emptyOnly",l){return j(this,null,function*(){return new of(t,r,e,n,i,s,o,l).recognize()})}var mC=31,of=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,i,o,s,l,d){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.abortSignal=d,this.applyRedirects=new ef(this.urlSerializer,this.urlTree)}noMatchError(r){return new ye(4002,`'${r.segmentGroup}'`)}recognize(){return j(this,null,function*(){let r=Mg(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:n}=yield this.match(r),i=new Ge(n,e),o=new Aa("",i),s=Gg(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(r){return j(this,null,function*(){let e=new Ci([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ut,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,r,ut,e),rootSnapshot:e}}catch(n){if(n instanceof Ia)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof cn?this.noMatchError(n):n}})}processSegmentGroup(r,e,n,i,o){return j(this,null,function*(){if(n.segments.length===0&&n.hasChildren())return this.processChildren(r,e,n,o);let s=yield this.processSegment(r,e,n,n.segments,i,!0,o);return s instanceof Ge?[s]:[]})}processChildren(r,e,n,i){return j(this,null,function*(){let o=[];for(let d of Object.keys(n.children))d==="primary"?o.unshift(d):o.push(d);let s=[];for(let d of o){let p=n.children[d],m=sC(e,d),y=yield this.processSegmentGroup(r,m,p,d,i);s.push(...y)}let l=fv(s);return gC(l),l})}processSegment(r,e,n,i,o,s,l){return j(this,null,function*(){for(let d of e)try{return yield this.processSegmentAgainstRoute(d._injector??r,e,d,n,i,o,s,l)}catch(p){if(p instanceof cn||sv(p))continue;throw p}if(hC(n,i,o))return new nf;throw new cn(n)})}processSegmentAgainstRoute(r,e,n,i,o,s,l,d){return j(this,null,function*(){if(Sr(n)!==s&&(s===ut||!jc(i,o,n)))throw new cn(i);if(n.redirectTo===void 0)return this.matchSegmentAgainstRoute(r,i,n,o,s,d);if(this.allowRedirects&&l)return this.expandSegmentAgainstRouteUsingRedirect(r,i,e,n,o,s,d);throw new cn(i)})}expandSegmentAgainstRouteUsingRedirect(r,e,n,i,o,s,l){return j(this,null,function*(){let{matched:d,parameters:p,consumedSegments:m,positionalParamSegments:y,remainingSegments:x}=dv(e,i,o);if(!d)throw new cn(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mC&&(this.allowRedirects=!1));let O=new Ci(o,p,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Pg(i),Sr(i),i.component??i._loadedComponent??null,i,Ng(i),r),N=Lc(O,l,this.paramsInheritanceStrategy);if(O.params=Object.freeze(N.params),O.data=Object.freeze(N.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let U=yield this.applyRedirects.applyRedirectCommands(m,i.redirectTo,y,O,r),G=yield this.applyRedirects.lineralizeSegments(i,U);return this.processSegment(r,n,e,G.concat(x),s,!1,l)})}matchSegmentAgainstRoute(r,e,n,i,o,s){return j(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let l=yield wc(cC(e,n,i,r,this.urlSerializer,this.abortSignal));if(n.path==="**"&&(e.children={}),!l?.matched)throw new cn(e);r=n._injector??r;let{routes:d}=yield this.getChildConfig(r,n,i),p=n._loadedInjector??r,{parameters:m,consumedSegments:y,remainingSegments:x}=l,O=new Ci(y,m,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Pg(n),Sr(n),n.component??n._loadedComponent??null,n,Ng(n),r),N=Lc(O,s,this.paramsInheritanceStrategy);O.params=Object.freeze(N.params),O.data=Object.freeze(N.data);let{segmentGroup:U,slicedSegments:G}=Mg(e,y,x,d);if(G.length===0&&U.hasChildren()){let rt=yield this.processChildren(p,d,U,O);return new Ge(O,rt)}if(d.length===0&&G.length===0)return new Ge(O,[]);let tt=Sr(n)===o,et=yield this.processSegment(p,d,U,G,tt?ut:o,!0,O);return new Ge(O,et instanceof Ge?[et]:[])})}getChildConfig(r,e,n){return j(this,null,function*(){if(e.children)return{routes:e.children,injector:r};if(e.loadChildren){if(e._loadedRoutes!==void 0){let o=e._loadedNgModuleFactory;return o&&!e._loadedInjector&&(e._loadedInjector=o.create(r).injector),{routes:e._loadedRoutes,injector:e._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield wc(eC(r,e,n,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(r,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,e._loadedNgModuleFactory=o.factory,o}throw iC(e)}return{routes:[],injector:r}})}};function gC(t){t.sort((r,e)=>r.value.outlet===ut?-1:e.value.outlet===ut?1:r.value.outlet.localeCompare(e.value.outlet))}function vC(t){let r=t.value.routeConfig;return r&&r.path===""}function fv(t){let r=[],e=new Set;for(let n of t){if(!vC(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):r.push(n)}for(let n of e){let i=fv(n.children);r.push(new Ge(n.value,i))}return r.filter(n=>!e.has(n))}function Pg(t){return t.data||{}}function Ng(t){return t.resolve||{}}function yC(t,r,e,n,i,o,s){return he(l=>j(null,null,function*(){let{state:d,tree:p}=yield pC(t,r,e,n,l.extractedUrl,i,o,s);return mt($({},l),{targetSnapshot:d,urlAfterRedirects:p})}))}function bC(t){return he(r=>{let{targetSnapshot:e,guards:{canActivateChecks:n}}=r;if(!n.length)return lt(r);let i=new Set(n.map(l=>l.route)),o=new Set;for(let l of i)if(!o.has(l))for(let d of hv(l))o.add(d);let s=0;return Ee(o).pipe(aa(l=>i.has(l)?_C(l,e,t):(l.data=Lc(l,l.parent,t).resolve,lt(void 0))),br(()=>s++),nd(1),he(l=>s===o.size?lt(r):ir))})}function hv(t){let r=t.children.map(e=>hv(e)).flat();return[t,...r]}function _C(t,r,e){let n=t.routeConfig,i=t._resolve;return n?.title!==void 0&&!rv(n)&&(i[Ta]=n.title),Dn(()=>(t.data=Lc(t,t.parent,e).resolve,wC(i,t,r).pipe(bt(o=>(t._resolvedData=o,t.data=$($({},t.data),o),null)))))}function wC(t,r,e){let n=Wd(t);if(n.length===0)return lt({});let i={};return Ee(n).pipe(he(o=>xC(t[o],r,e).pipe(kn(),br(s=>{if(s instanceof go)throw Fc(new ln,s);i[o]=s}))),nd(1),bt(()=>i),Ws(o=>sv(o)?ir:rm(o)))}function xC(t,r,e){let n=r._environmentInjector,i=yo(t,n),o=i.resolve?i.resolve(r,e):We(n,()=>i(r,e));return Ri(o)}function Lg(t){return Pr(r=>{let e=t(r);return e?Ee(e).pipe(bt(()=>r)):lt(r)})}var uf=(()=>{class t{buildTitle(e){let n,i=e.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===ut);return n}getResolvedTitleForRoute(e){return e.data[Ta]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:()=>w(pv),providedIn:"root"})}return t})(),pv=(()=>{class t extends uf{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(Gt(Um))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$n=new ot("",{factory:()=>({})}),Hr=new ot(""),Uc=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=w(ic);loadComponent(e,n){return j(this,null,function*(){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Promise.resolve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=j(this,null,function*(){try{let o=yield $g(We(e,()=>n.loadComponent())),s=yield vv(gv(o));return this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s,s}finally{this.componentLoaders.delete(n)}});return this.componentLoaders.set(n,i),i})}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Promise.resolve({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=j(this,null,function*(){try{let o=yield mv(n,this.compiler,e,this.onLoadEndListener);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(n)}});return this.childrenLoaders.set(n,i),i}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mv(t,r,e,n){return j(this,null,function*(){let i=yield $g(We(e,()=>t.loadChildren())),o=yield vv(gv(i)),s;o instanceof ec||Array.isArray(o)?s=o:s=yield r.compileModuleAsync(o),n&&n(t);let l,d,p=!1,m;return Array.isArray(s)?(d=s,p=!0):(l=s.create(e).injector,m=s,d=l.get(Hr,[],{optional:!0,self:!0}).flat()),{routes:d.map(lf),injector:l,factory:m}})}function CC(t){return t&&typeof t=="object"&&"default"in t}function gv(t){return CC(t)?t.default:t}function vv(t){return j(this,null,function*(){return t})}var zc=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:()=>w(EC),providedIn:"root"})}return t})(),EC=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),df=new ot(""),ff=new ot("");function yv(t,r,e){let n=t.get(ff),i=t.get(Lt);if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(p=>setTimeout(p));let o,s=new Promise(p=>{o=p}),l=i.startViewTransition(()=>(o(),SC(t)));l.updateCallbackDone.catch(p=>{}),l.ready.catch(p=>{}),l.finished.catch(p=>{});let{onViewTransitionCreated:d}=n;return d&&We(t,()=>d({transition:l,from:r,to:e})),s}function SC(t){return new Promise(r=>{Ne({read:()=>setTimeout(r)},{injector:t})})}var RC=()=>{},hf=new ot(""),Vc=(()=>{class t{currentNavigation=_r(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=_r(null);events=new it;transitionAbortWithErrorSubject=new it;configLoader=w(Uc);environmentInjector=w(He);destroyRef=w(Qs);urlSerializer=w(Oi);rootContexts=w(Di);location=w($r);inputBindingEnabled=w(Ma,{optional:!0})!==null;titleStrategy=w(uf);options=w($n,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=w(zc);createViewTransition=w(df,{optional:!0});navigationErrorHandler=w(hf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>lt(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Dc(i)),n=i=>this.events.next(new Ac(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;Nr(()=>{this.transitions?.next(mt($({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))})}setupNavigations(e){return this.transitions=new fe(null),this.transitions.pipe(yt(n=>n!==null),Pr(n=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===n.id;return lt(n).pipe(Pr(l=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Re.SupersededByNewNavigation),ir;this.currentTransition=n;let d=this.lastSuccessfulNavigation();this.currentNavigation.set({id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:d?mt($({},d),{previousNavigation:null}):null,abort:()=>o.abort()});let p=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!p&&m!=="reload")return this.events.next(new qr(l.id,this.urlSerializer.serialize(l.rawUrl),"",uo.IgnoredSameUrlNavigation)),l.resolve(!1),ir;if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return lt(l).pipe(Pr(y=>(this.events.next(new Vr(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),y.id!==this.navigationId?ir:Promise.resolve(y))),yC(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),br(y=>{n.targetSnapshot=y.targetSnapshot,n.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation.update(O=>(O.finalUrl=y.urlAfterRedirects,O));let x=new fo(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(x)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:x,source:O,restoredState:N,extras:U}=l,G=new Vr(y,this.urlSerializer.serialize(x),O,N);this.events.next(G);let tt=tv(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=n=mt($({},l),{targetSnapshot:tt,urlAfterRedirects:x,extras:mt($({},U),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(et=>(et.finalUrl=x,et)),lt(n)}else return this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),"",uo.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ir}),bt(l=>{let d=new Ec(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);return this.events.next(d),this.currentTransition=n=mt($({},l),{guards:L0(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),n}),K0(l=>this.events.next(l)),Pr(l=>{if(n.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Fc(this.urlSerializer,l.guardsResult);let d=new Sc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);if(this.events.next(d),!s())return ir;if(!l.guardsResult)return this.cancelNavigationTransition(l,"",Re.GuardRejected),ir;if(l.guards.canActivateChecks.length===0)return lt(l);let p=new Rc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);if(this.events.next(p),!s())return ir;let m=!1;return lt(l).pipe(bC(this.paramsInheritanceStrategy),br({next:()=>{m=!0;let y=new Oc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(y)},complete:()=>{m||this.cancelNavigationTransition(l,"",Re.NoDataFromResolver)}}))}),Lg(l=>{let d=m=>{let y=[];if(m.routeConfig?._loadedComponent)m.component=m.routeConfig?._loadedComponent;else if(m.routeConfig?.loadComponent){let x=m._environmentInjector;y.push(this.configLoader.loadComponent(x,m.routeConfig).then(O=>{m.component=O}))}for(let x of m.children)y.push(...d(x));return y},p=d(l.targetSnapshot.root);return p.length===0?lt(l):Ee(Promise.all(p).then(()=>l))}),Lg(()=>this.afterPreactivation()),Pr(()=>{let{currentSnapshot:l,targetSnapshot:d}=n,p=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return p?Ee(p).pipe(bt(()=>n)):lt(n)}),Pe(1),bt(l=>{let d=T0(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);this.currentTransition=n=l=mt($({},l),{targetRouterState:d}),this.currentNavigation.update(p=>(p.targetRouterState=d,p)),this.events.next(new po),s()&&(new tf(e.routeReuseStrategy,n.targetRouterState,n.currentRouterState,p=>this.events.next(p),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(p=>(p.abort=RC,p)),this.lastSuccessfulNavigation.set(Nr(this.currentNavigation)),this.events.next(new ur(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)))}),yr(cv(o.signal).pipe(yt(()=>!i&&!n.targetRouterState),br(()=>{this.cancelNavigationTransition(n,o.signal.reason+"",Re.Aborted)}))),br({complete:()=>{i=!0}}),yr(this.transitionAbortWithErrorSubject.pipe(br(l=>{throw l}))),Gs(()=>{o.abort(),i||this.cancelNavigationTransition(n,"",Re.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ws(l=>{if(i=!0,this.destroyed)return n.resolve(!1),ir;if(av(l))this.events.next(new Le(n.id,this.urlSerializer.serialize(n.extractedUrl),l.message,l.cancellationCode)),N0(l)?this.events.next(new mo(l.url,l.navigationBehaviorOptions)):n.resolve(!1);else{let d=new Si(n.id,this.urlSerializer.serialize(n.extractedUrl),l,n.targetSnapshot??void 0);try{let p=We(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof go){let{message:m,cancellationCode:y}=Fc(this.urlSerializer,p);this.events.next(new Le(n.id,this.urlSerializer.serialize(n.extractedUrl),m,y)),this.events.next(new mo(p.redirectTo,p.navigationBehaviorOptions))}else throw this.events.next(d),l}catch(p){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(p)}}return ir}))}))}cancelNavigationTransition(e,n,i){let o=new Le(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=Nr(this.currentNavigation),i=n?.targetBrowserUrl??n?.extractedUrl;return e.toString()!==i?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OC(t){return t!==co}var bv=new ot("");var qc=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:()=>w(DC),providedIn:"root"})}return t})(),$c=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}shouldDestroyInjector(r){return!0}},DC=(()=>{class t extends $c{static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pf=(()=>{class t{urlSerializer=w(Oi);options=w($n,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=w($r);urlHandlingStrategy=w(zc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=i??o;return s instanceof Rr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:i}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,i),this.routerState=e):this.rawUrlTree=i}routerState=tv(null,w(He));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:()=>w(AC),providedIn:"root"})}return t})(),AC=(()=>{class t extends pf{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof Vr?this.updateStateMemento():e instanceof qr?this.commitTransition(n):e instanceof fo?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof po?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Le&&!Jg(e)?this.restoreHistory(n):e instanceof Si?this.restoreHistory(n,!0):e instanceof ur&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:i}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let l=this.browserPageId,d=$($({},s),this.generateNgRouterState(i,l));this.location.replaceState(e,"",d)}else{let l=$($({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hc(t,r){t.events.pipe(yt(e=>e instanceof ur||e instanceof Le||e instanceof Si||e instanceof qr),bt(e=>e instanceof ur||e instanceof qr?0:(e instanceof Le?e.code===Re.Redirect||e.code===Re.SupersededByNewNavigation:!1)?2:1),yt(e=>e!==2),Pe(1)).subscribe(()=>{r()})}var _v={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fe=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=w(Cm);stateManager=w(pf);options=w($n,{optional:!0})||{};pendingTasks=w(fm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=w(Vc);urlSerializer=w(Oi);location=w($r);urlHandlingStrategy=w(zc);injector=w(He);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=w(qc);injectorCleanup=w(bv,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=w(Hr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!w(Ma,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new nr;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=Nr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Le&&n.code!==Re.Redirect&&n.code!==Re.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ur)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(n instanceof mo){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),d=$({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OC(i.source)},s);this.scheduleNavigation(l,co,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}k0(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),co,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,i)=>{this.navigateToSyncWithBrowser(e,i,n)})}navigateToSyncWithBrowser(e,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let d=$({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,s,o).catch(d=>{this.disposed||this.injector.get(Xs)(d)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(lf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:d}=n,p=d?this.currentUrlTree.fragment:s,m=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":m=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let y;try{let x=i?i.snapshot:this.routerState.snapshot.root;y=Yg(x)}catch(x){(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return Qg(y,e,m,p??null,this.urlSerializer)}navigateByUrl(e,n={skipLocationChange:!1}){let i=Bn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,co,null,n)}navigate(e,n={skipLocationChange:!1}){return kC(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch(n){return this.console.warn(sm(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===!0?i=$({},_v):n===!1?i=$({},wv):i=n,Bn(e))return Dg(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Dg(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(e,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,d,p;s?(l=s.resolve,d=s.reject,p=s.promise):p=new Promise((y,x)=>{l=y,d=x});let m=this.pendingTasks.add();return Hc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(Promise.reject.bind(Promise))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kC(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new ye(4008,!1)}var xv=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_r(null);get href(){return Nr(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new it;applicationErrorHandler=w(Xs);options=w($n,{optional:!0});constructor(e,n,i,o,s,l){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=l,this.reactiveHref.set(w(new km("href"),{optional:!0}));let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area"||!!(typeof customElements=="object"&&customElements.get(d)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof ur&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,i,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d)?.catch(p=>{this.applicationErrorHandler(p)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,e,n):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Bn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(on(Fe),on(dr),mm("tabindex"),on(Fr),on(Bt),on(da))};static \u0275dir=kt({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,i){n&1&&gi("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&xr("href",i.reactiveHref(),ym)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oe],replaceUrl:[2,"replaceUrl","replaceUrl",oe],routerLink:"routerLink"},features:[Lr]})}return t})();var La=class{};var Cv=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,i,o){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(yt(e=>e instanceof ur),aa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=rc(o.providers,e,""));let s=o._injector??e;o._loadedNgModuleFactory&&!o._loadedInjector&&(o._loadedInjector=o._loadedNgModuleFactory.create(s).injector);let l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ee(i).pipe(ed())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{if(e.destroyed)return lt(null);let i;n.loadChildren&&n.canLoad===void 0?i=Ee(this.loader.loadChildren(e,n)):i=lt(null);let o=i.pipe(he(s=>s===null?lt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,n._loadedNgModuleFactory=s.factory,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(e,n);return Ee([o,s]).pipe(ed())}else return o})}static \u0275fac=function(n){return new(n||t)(Gt(Fe),Gt(He),Gt(La),Gt(Uc))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ev=new ot(""),TC=(()=>{class t{options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=co;restoredId=0;store={};urlSerializer=w(Oi);zone=w(Ct);viewportScroller=w(vd);transitions=w(Vc);constructor(e){this.options=e,this.options.scrollPositionRestoration||="disabled",this.options.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ur?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof qr&&e.code===uo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof ho)||e.scrollBehavior==="manual")return;let n={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],n):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,n):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,n){let i=Nr(this.transitions.currentNavigation)?.extras.scroll;this.zone.runOutsideAngular(()=>j(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new ho(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){_m()};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function MC(t,...r){return lm([{provide:Hr,multi:!0,useValue:t},[],{provide:dr,useFactory:Sv},{provide:ud,multi:!0,useFactory:Rv},r.map(e=>e.\u0275providers)])}function Sv(){return w(Fe).routerState.root}function Fa(t,r){return{\u0275kind:t,\u0275providers:r}}function Rv(){let t=w(wt);return r=>{let e=t.get(ca);if(r!==e.components[0])return;let n=t.get(Fe),i=t.get(Ov);t.get(gf)===1&&n.initialNavigation(),t.get(kv,null,{optional:!0})?.setUpPreloading(),t.get(Ev,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ov=new ot("",{factory:()=>new it}),gf=new ot("",{factory:()=>1});function Dv(){let t=[{provide:vm,useValue:!0},{provide:gf,useValue:0},ld(()=>{let r=w(wt);return r.get(Lm,Promise.resolve()).then(()=>new Promise(n=>{let i=r.get(Fe),o=r.get(Ov);Hc(i,()=>{n(!0)}),r.get(Vc).afterPreactivation=()=>(n(!0),o.closed?lt(void 0):o),i.initialNavigation()}))})];return Fa(2,t)}function Av(){let t=[ld(()=>{w(Fe).setUpLocationChangeListener()}),{provide:gf,useValue:2}];return Fa(3,t)}var kv=new ot("");function Iv(t){return Fa(0,[{provide:kv,useExisting:Cv},{provide:La,useExisting:t}])}function Tv(){return Fa(8,[cf,{provide:Ma,useExisting:cf}])}function Mv(t){bm("NgRouterViewTransitions");let r=[{provide:df,useValue:yv},{provide:ff,useValue:$({skipNextTransition:!!t?.skipInitialTransition},t)}];return Fa(9,r)}var Pv=[$r,{provide:Oi,useClass:ln},Fe,Di,{provide:dr,useFactory:Sv},Uc,[]],vf=(()=>{class t{constructor(){}static forRoot(e,n){return{ngModule:t,providers:[Pv,[],{provide:Hr,multi:!0,useValue:e},[],n?.errorHandler?{provide:hf,useValue:n.errorHandler}:[],{provide:$n,useValue:n||{}},n?.useHash?NC():LC(),PC(),n?.preloadingStrategy?Iv(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?FC(n):[],n?.bindToComponentInputs?Tv().\u0275providers:[],n?.enableViewTransitions?Mv().\u0275providers:[],BC()]}}static forChild(e){return{ngModule:t,providers:[{provide:Hr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({})}return t})();function PC(){return{provide:Ev,useFactory:()=>{let t=w(vd),r=w($n);return r.scrollOffset&&t.setOffset(r.scrollOffset),new TC(r)}}}function NC(){return{provide:da,useClass:Bm}}function LC(){return{provide:da,useClass:Fm}}function FC(t){return[t.initialNavigation==="disabled"?Av().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Dv().\u0275providers:[]]}var mf=new ot("");function BC(){return[{provide:mf,useFactory:Rv},{provide:ud,multi:!0,useExisting:mf}]}var $C=new ot("LOCALIZE_ROUTER_FORROOT_GUARD"),yf=new ot("RAW_ROUTES"),jn=(function(t){return t.LocalStorage="LocalStorage",t.SessionStorage="SessionStorage",t.Cookie="Cookie",t})(jn||{}),Lv=new ot("USE_CACHED_LANG"),Fv=new ot("CACHE_MECHANISM"),Bv=new ot("CACHE_NAME"),$v=new ot("COOKIE_FORMAT"),jv=new ot("INITIAL_NAVIGATION"),Uv=new ot("DEFAULT_LANG_FUNCTION"),zv=new ot("ALWAYS_SET_PREFIX"),jC="LOCALIZE_DEFAULT_LANGUAGE",UC="{{value}};{{expires}}",zC=!1,Kc=(()=>{class t{constructor(e=!0,n=!0,i=jn.LocalStorage,o=jC,s=void 0,l=UC,d=zC){this.useCachedLang=e,this.alwaysSetPrefix=n,this.cacheName=o,this.cookieFormat=l,this.initialNavigation=d,this.cacheMechanism=i,this.defaultLangFunction=s}static{this.\u0275fac=function(n){return new(n||t)(Gt(Lv),Gt(zv),Gt(Fv),Gt(Bv),Gt(Uv),Gt($v),Gt(jv))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac})}}return t})(),VC=30,Ba=(()=>{class t{constructor(e,n,i){this.translate=e,this.location=n,this.settings=i}init(e){let n;if(this.routes=e,!this.locales||!this.locales.length)return Promise.resolve();let i=this.getLocationLang(),o=this._getBrowserLang();this.settings.defaultLangFunction?this.defaultLang=this.settings.defaultLangFunction(this.locales,this._cachedLang,o):this.defaultLang=this._cachedLang||o||this.locales[0],n=i||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let s=[];if(this.settings.alwaysSetPrefix){let l={path:"",redirectTo:this.defaultLang,pathMatch:"full"},d=e.findIndex(p=>p.path==="**");d!==-1&&(this._wildcardRoute=e.splice(d,1)[0]),s=this.routes.splice(0,this.routes.length,l)}else s=[...this.routes];for(let l=s.length-1;l>=0;l--)s[l].data&&s[l].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(s[l]),(s[l].redirectTo===void 0||!s[l].data.skipRouteLocalization.localizeRedirectTo||typeof s[l].redirectTo=="function")&&s.splice(l,1));return s&&s.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:s},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),im(this.translateRoutes(n))}initChildRoutes(e){return this._translateRouteTree(e),e}translateRoutes(e){return new On(n=>{this._cachedLang=e,this._languageRoute&&(this._languageRoute.path=e),this.translate.use(e).subscribe(i=>{this._translationObject=i,this.currentLang=e,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),n.next(void 0),n.complete()})})}_translateRouteTree(e,n){e.forEach(i=>{let o=i.data&&i.data.skipRouteLocalization,s=!o||o.localizeRedirectTo;if(i.redirectTo&&s&&typeof i.redirectTo!="function"){let l=i.redirectTo.indexOf("/")===0||n;this._translateProperty(i,"redirectTo",l)}o||(i.path!==null&&i.path!==void 0&&this._translateProperty(i,"path"),i.children&&this._translateRouteTree(i.children),i.loadChildren&&i._loadedRoutes?.length&&this._translateRouteTree(i._loadedRoutes))})}_translateProperty(e,n,i){let o=e.data=e.data||{};o.localizeRouter||(o.localizeRouter={}),o.localizeRouter[n]||(o.localizeRouter=mt($({},o.localizeRouter),{[n]:e[n]}));let s=this.translateRoute(o.localizeRouter[n]);e[n]=i?this.addPrefixToUrl(s):s}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(e){let n=e.split("?"),i=n[0].length===1&&n[0]==="/";n[0]=n[0].replace(/\/$/,"");let o=n.join("?");return this.urlPrefix===""?o:!o.startsWith("/")&&!i?`${this.urlPrefix}/${o}`:`/${this.urlPrefix}${o}`}translateRoute(e){let n=e.split("?");if(n.length>2)throw Error("There should be only one query parameter block in the URL");return n[0].split("/").map(o=>o.length?this.translateText(o):o).join("/")+(n.length>1?`?${n[1]}`:"")}getLocationLang(e){let n=(e||this.location.path()).split(/[\?;]/),i=[];return n.length>0&&(i=n[0].split("/")),i.length>1&&this.locales.indexOf(i[1])!==-1?i[1]:i.length&&this.locales.indexOf(i[0])!==-1?i[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===jn.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===jn.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===jn.Cookie)return this._cacheWithCookies()}}set _cachedLang(e){this.settings.useCachedLang&&(this.settings.cacheMechanism===jn.LocalStorage&&this._cacheWithLocalStorage(e),this.settings.cacheMechanism===jn.SessionStorage&&this._cacheWithSessionStorage(e),this.settings.cacheMechanism===jn.Cookie&&this._cacheWithCookies(e))}_cacheWithLocalStorage(e){try{if(typeof window>"u"||typeof window.localStorage>"u")return;if(e){window.localStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch(n){return}}_cacheWithSessionStorage(e){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;if(e){window.sessionStorage.setItem(this.settings.cacheName,e);return}return this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch(n){return}}_cacheWithCookies(e){try{if(typeof document>"u"||typeof document.cookie>"u")return;let n=encodeURIComponent(this.settings.cacheName);if(e){let s=`${this.settings.cookieFormat}`;s=s.replace("{{value}}",`${n}=${encodeURIComponent(e)}`).replace(/{{expires:?(\d+)?}}/g,(l,d)=>{let p=d===void 0?VC:parseInt(d,10),m=new Date;return m.setTime(m.getTime()+p*864e5),`expires=${m.toUTCString()}`}),document.cookie=s;return}let o=new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(o[1])}catch(n){return}}_returnIfInLocales(e){return e&&this.locales.indexOf(e)!==-1?e:null}translateText(e){if(this.escapePrefix&&e.startsWith(this.escapePrefix))return e.replace(this.escapePrefix,"");{if(!this._translationObject)return e;let n=this.prefix+e,i=this.translate.getParsedResult(this._translationObject,n);return i!==n?i:e}}chooseQueryParams(e,n){let i;return e&&e.queryParams?i=e.queryParams:n&&(i=n),i}formatQueryParams(e){return new jm({fromObject:e}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}static{this.\u0275fac=function(n){return new(n||t)(Gt(qm),Gt($r),Gt(Kc))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac})}}return t})();var qC=(()=>{class t extends Ba{load(e){return new Promise(n=>{this.init(e).then(n)})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})()}static{this.\u0275prov=J({token:t,factory:t.\u0275fac})}}return t})();function Wc(t,r){if(t===r)return!0;if(t===null||r===null)return!1;if(t!==t&&r!==r)return!0;let e=typeof t,n=typeof r,i,o,s;if(e===n&&e==="object")if(Array.isArray(t)){if(!Array.isArray(r))return!1;if((i=t.length)===r.length){for(o=0;o<i;o++)if(!Wc(t[o],r[o]))return!1;return!0}}else{if(Array.isArray(r))return!1;s=Object.create(null);for(o in t)if(t.hasOwnProperty(o)){if(!Wc(t[o],r[o]))return!1;s[o]=!0}for(o in r)if(r.hasOwnProperty(o)&&!(o in s)&&typeof r[o]<"u")return!1;return!0}return!1}function HC(t){return!!t&&typeof t.then=="function"}function _f(t){let r=Array.isArray(t)?[]:{};for(let e in t)if(e){let n=t[e];r[e]=typeof n=="object"?_f(n):n}return r}var wf=(()=>{class t{constructor(e,n,i,o){this.parser=e,this.settings=n,this.router=i,this.route=o,this.routerEvents=new it;let s=new ia(1);this.hooks={_initializedSubject:s,initialized:s.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe(yt(e=>e instanceof Vr),id()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(e,n,i){if(e!==this.parser.currentLang){let o=this.router.routerState.snapshot.root;this.parser.translateRoutes(e).subscribe(()=>{let s=this.traverseRouteSnapshot(o);if(s=this.translateRoute(s),!this.settings.alwaysSetPrefix){let p=s.split("/"),m=p.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(m===0||m===1&&p[0]==="")&&(p=p.slice(0,m).concat(p.slice(m+1)));else if(m===-1){let y=p[0]===""?1:0;p=p.slice(0,y).concat(this.parser.currentLang,p.slice(y))}s=p.join("/")}s=s.replace(/\/+/g,"/");let l=s.lastIndexOf("/");l>0&&l===s.length-1&&(s=s.slice(0,-1));let d=this.parser.chooseQueryParams(n,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=n,i){let p=n?$({},n):{};d&&(p.queryParams=d),this.router.navigate([s],p)}else{let p=this.parser.formatQueryParams(d);p=p?`?${p}`:"",this.router.navigateByUrl(`${s}${p}`,n)}})}}traverseRouteSnapshot(e){return e.firstChild&&e.routeConfig?`${this.parseSegmentValue(e)}/${this.traverseRouteSnapshot(e.firstChild)}`:e.firstChild?this.traverseRouteSnapshot(e.firstChild):this.parseSegmentValue(e)}buildUrlFromSegments(e,n){return n.map((i,o)=>i.indexOf(":")===0?e.url[o].path:i).join("/")}parseSegmentValue(e){if(e.routeConfig&&e.routeConfig.matcher){let n=this.parseSegmentValueMatcher(e);return this.buildUrlFromSegments(e,n)}else if(e.data.localizeRouter){let i=e.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(e,i)}else if(e.parent&&e.parent.parent){let i=e.routeConfig.path.split("/");return this.buildUrlFromSegments(e,i)}else return""}parseSegmentValueMatcher(e){let n=e.data&&e.data.localizeMatcher&&e.data.localizeMatcher.params||{};return e.url.map(o=>{let s=o.path,l=o.localizedParamName;return(l&&n[l]?n[l](s):null)||`${this.parser.getEscapePrefix()}${s}`})}translateRoute(e){if(typeof e=="string"){let i=this.parser.translateRoute(e);return e.indexOf("/")?i:this.parser.addPrefixToUrl(i)}let n=[];return e.forEach((i,o)=>{if(typeof i=="string"){let s=this.parser.translateRoute(i);!o&&!i.indexOf("/")?n.push(this.parser.addPrefixToUrl(s)):n.push(s)}else n.push(i)}),n}_routeChanged(){return([e,n])=>{let i=this.parser.getLocationLang(e.url)||this.parser.defaultLang,o=this.parser.getLocationLang(n.url)||this.parser.defaultLang,s=this.lastExtras;o!==i&&this.latestUrl!==n.url&&(this.latestUrl=n.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(o).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(n.url,s),this.routerEvents.next(o)})),this.latestUrl=n.url}}cancelCurrentNavigation(){let e=this.router.getCurrentNavigation(),n=this.router.serializeUrl(e.extractedUrl);this.router.events.next(new Le(e.id,n,"")),this.router.navigationTransitions.transitions.next(mt($({},this.router.navigationTransitions.transitions.getValue()),{id:0}))}applyConfigToRouter(e){this.router.resetConfig(_f(e))}static{this.\u0275fac=function(n){return new(n||t)(Gt(Ba),Gt(Kc),Gt(Fe),Gt(dr))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac})}}return t})(),WC=128,NT=(()=>{class t{constructor(e,n){this.localize=e,this._ref=n,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(e){if(!e||e.length===0||!this.localize.parser.currentLang)return e;if(Wc(e,this.lastKey)&&Wc(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=e,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(e),this.lastKey=e;let n=this._ref._view;return n&&n.state&WC?this.value:(setTimeout(()=>{this._ref.detectChanges()},0),this.value)}static{this.\u0275fac=function(n){return new(n||t)(on(wf,16),on(Br,16))}}static{this.\u0275pipe=wm({name:"localize",type:t,pure:!1})}}return t})(),bf=class{constructor(){}shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r&&e?this.getKey(r)===this.getKey(e):!1}getKey(r){if(r.firstChild&&r.firstChild.routeConfig&&r.firstChild.routeConfig.path&&r.firstChild.routeConfig.path.indexOf("**")!==-1)return"WILDCARD";if(!r.data.localizeRouter&&(!r.parent||!r.parent.parent)&&!r.data.skipRouteLocalization)return"LANG";if(r.routeConfig.matcher){let e=`${this.getKey(r.parent)}/${r.routeConfig.matcher.name}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else if(r.data.localizeRouter){let e=`${this.getKey(r.parent)}/${r.data.localizeRouter.path}`;return r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}else{let e=r.routeConfig.path;return r.parent&&(e=`${this.getKey(r.parent)}/${r.routeConfig.path}`),r.data.discriminantPathKey&&(e=`${e}-${r.data.discriminantPathKey}`),e}}},KC=(()=>{class t extends Fe{constructor(){super(),this.platformId=w(Js),this.compiler=w(ic),this.localize=w(Ba),this.childrenLoaders=new WeakMap,this.loadModuleFactoryOrRoutes=(i,o)=>QC(o.loadChildren()).pipe(bt(YC),he(s=>s instanceof ec||Array.isArray(s)?lt(s):Ee(this.compiler.compileModuleAsync(s))),bt(s=>{this.onLoadEndListener&&this.onLoadEndListener(o);let l,d;if(Array.isArray(s))d=this.localize.initChildRoutes([].concat(...s));else{l=s.create(i).injector;let m=l.get.bind(l);l.get=(y,x,O)=>{let N=m(y,x,O);return y===Hr?this.localize.initChildRoutes([].concat(...N)):N},d=l.get(Hr,[],{optional:!0,self:!0}).reduce((y,x)=>y.concat(x),[])}return{routes:d.map(Vv),injector:l}}));let n=oc(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader;n.loadChildren=(i,o)=>{if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return lt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let l=this.loadModuleFactoryOrRoutes(i,o).pipe(Gs(()=>{this.childrenLoaders.delete(o)})),d=new Vs(l,()=>new it).pipe(em());return this.childrenLoaders.set(o,d),d}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vv(t){let r=t.children&&t.children.map(Vv),e=r?mt($({},t),{children:r}):$({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ut&&(e.component=Pa),e}function GC(t){return t&&typeof t=="object"&&"default"in t}function YC(t){return GC(t)?t.default:t}function QC(t){return Xi(t)?t:HC(t)?Ee(Promise.resolve(t)):lt(t)}var Nv=(()=>{class t{constructor(e){this.injector=e}appInitializer(){return this.parser.load(this.routes).then(()=>{let n=this.injector.get(wf),i=this.injector.get(Fe),o=this.injector.get(Kc);if(n.init(),o.initialNavigation)return new Promise(s=>{let l=i.navigationTransitions.afterPreactivation,d=!0;i.navigationTransitions.afterPreactivation=()=>(d&&(s(),d=!1,n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()),l())});n.hooks._initializedSubject.next(!0),n.hooks._initializedSubject.complete()})}generateInitializer(e,n){return this.parser=e,this.routes=n.reduce((i,o)=>i.concat(o)),this.appInitializer}static{this.\u0275fac=function(n){return new(n||t)(Gt(wt))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac})}}return t})();function XC(t,r,e){let n=_f(e);return t.generateInitializer(r,n).bind(t)}function ZC(t,r){return[{provide:Fe,useClass:KC},{provide:$C,useFactory:tE,deps:[[JC,new hm,new pm]]},{provide:Lv,useValue:r.useCachedLang},{provide:zv,useValue:r.alwaysSetPrefix},{provide:Bv,useValue:r.cacheName},{provide:Fv,useValue:r.cacheMechanism},{provide:Uv,useValue:r.defaultLangFunction},{provide:$v,useValue:r.cookieFormat},{provide:jv,useValue:r.initialNavigation},Kc,r.parser||{provide:Ba,useClass:qC},{provide:yf,multi:!0,useValue:t},wf,Nv,{provide:Sm,multi:!0,useFactory:XC,deps:[Nv,Ba,yf]},{provide:qc,useClass:bf}]}var JC=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:ZC(e,n)}}static forChild(e){return{ngModule:t,providers:[{provide:yf,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Wt({type:t})}static{this.\u0275inj=Ht({imports:[$m,vf,Hm]})}}return t})();function tE(t){if(t)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}var $T=(()=>{class t{constructor(){this.activePortal=new it,this.portal$=this.activePortal.asObservable()}setPortal(e){this.activePortal.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ai(t){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ai(t)}function qv(t,r){if(Ai(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(Ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Hv(t){var r=qv(t,"string");return Ai(r)=="symbol"?r:r+""}function Wv(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hv(n.key),n)}}function Ae(t,r,e){return r&&Wv(t.prototype,r),e&&Wv(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $a(t){return Array.isArray(t)?t.slice(0):[t]}function Wr(t){return Array.isArray(t)}function Kv(t){return t!=null}function Gc(t,r){var e=0,n=-1;for(var i of t){n=n+1;var o=r(i,n);if(o)e=e+1;else break}return e}function Or(t,r){var e=r.length;if(e!==0){var n=t.length;t.length=n+r.length;for(var i=0;i<e;++i)t[n+i]=r[i]}}function Gv(t){return t.filter(function(r,e,n){return n.indexOf(r)===e})}function Yv(t){for(var r="",e=new Uint8Array(t),n=e.byteLength,i=0;i<n;i++)r+=String.fromCharCode(e[i]);return btoa(r)}function Qv(t,r){return j(this,null,function*(){var e=yield fetch("data:"+r+";base64,"+t),n=yield e.blob();return n})}function Xv(t){var r=Object.prototype.toString.call(t);return r==="[object Uint8Array]"&&(t=new Blob([t])),typeof t=="string"?Promise.resolve(t):t.text()}function Zv(t){return j(this,null,function*(){if(typeof t=="string")return t;var r=Object.prototype.toString.call(t);r==="[object Uint8Array]"&&(t=new Blob([t]));var e=yield t.arrayBuffer();return Yv(e)})}function Jv(t){return t.size}function ki(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(n==="-")return parseInt(r,10);r+=n}throw new Error("malformatted revision: "+t)}function bo(t,r){var e=r?ki(r._rev)+1:1;return e+"-"+t}function Cf(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==null&&(typeof t[r]=="object"||typeof t[r]=="function")&&!Object.isFrozen(t[r])&&Cf(t[r])}),t}function ty(t){var r=t.split("."),e=r.length;return e===1?n=>n[t]:n=>{for(var i=n,o=0;o<e;++o){var s=r[o];if(i=i[s],typeof i>"u")return i}return i}}function Yc(t){var r={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))if(typeof t[e]=="object"){var n=Yc(t[e]);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[e+"."+i]=n[i])}else r[e]=t[e];return r}function It(t){return Object.assign({},t)}function ey(t){return Object.keys(t)[0]}function _o(t,r=!1){if(!t)return t;if(!r&&Array.isArray(t))return t.sort((n,i)=>typeof n=="string"&&typeof i=="string"?n.localeCompare(i):typeof n=="object"?1:-1).map(n=>_o(n,r));if(typeof t=="object"&&!Array.isArray(t)){var e={};return Object.keys(t).sort((n,i)=>n.localeCompare(i)).forEach(n=>{e[n]=_o(t[n],r)}),e}return t}function xf(t){if(!t||t===null||typeof t!="object")return t;if(Array.isArray(t)){for(var r=new Array(t.length),e=r.length;e--;)r[e]=xf(t[e]);return r}var n={};for(var i in t)n[i]=xf(t[i]);return n}var fr=xf;function Qe(t,r,e){return Object.defineProperty(t,r,{get:function(){return e}}),e}var Qc=1;function Un(){return{lwt:Qc}}function un(){return""}function ry(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function ny(t,r,e){if(r.length!==e.length)return!1;for(var n=0,i=r.length;n<i;){var o=r[n],s=e[n];if(n++,o._rev!==s._rev||o[t]!==s[t])return!1}return!0}var iM=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});var oM=Object.freeze(["prototype","__proto__","constructor"]);var eE="[native code] }",aM=eE.length;var rE=Object.defineProperty,nE=(t,r,e)=>r in t?rE(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,wo=(t,r,e)=>(nE(t,typeof r!="symbol"?r+"":r,e),e),zn=class t{constructor(r,e){wo(this,"words"),wo(this,"sigBytes"),r=this.words=r||[],this.sigBytes=e===void 0?r.length*4:e}toString(r){return(r||iE).stringify(this)}concat(r){if(this.clamp(),this.sigBytes%4)for(let e=0;e<r.sigBytes;e++){let n=r.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<r.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=r.words[e>>>2];return this.sigBytes+=r.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new t([...this.words])}},iE={stringify(t){let r=[];for(let e=0;e<t.sigBytes;e++){let n=t.words[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16),(n&15).toString(16))}return r.join("")}};var oE={parse(t){let r=t.length,e=[];for(let n=0;n<r;n++)e[n>>>2]|=(t.charCodeAt(n)&255)<<24-n%4*8;return new zn(e,r)}},aE={parse(t){return oE.parse(unescape(encodeURIComponent(t)))}},Ef=class{constructor(){wo(this,"_data",new zn),wo(this,"_nDataBytes",0),wo(this,"_minBufferSize",0),wo(this,"blockSize",512/32)}reset(){this._data=new zn,this._nDataBytes=0}_append(r){typeof r=="string"&&(r=aE.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_doProcessBlock(r,e){}_process(r){let e,n=this._data.sigBytes/(this.blockSize*4);r?n=Math.ceil(n):n=Math.max((n|0)-this._minBufferSize,0);let i=n*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let s=0;s<i;s+=this.blockSize)this._doProcessBlock(this._data.words,s);e=this._data.words.splice(0,i),this._data.sigBytes-=o}return new zn(e,o)}},Sf=class extends Ef{update(r){return this._append(r),this._process(),this}finalize(r){r&&this._append(r)}},sE=Object.defineProperty,cE=(t,r,e)=>r in t?sE(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,lE=(t,r,e)=>(cE(t,typeof r!="symbol"?r+"":r,e),e),iy=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],uE=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ii=[],Rf=class extends Sf{constructor(){super(...arguments),lE(this,"_hash",new zn([...iy]))}reset(){super.reset(),this._hash=new zn([...iy])}_doProcessBlock(r,e){let n=this._hash.words,i=n[0],o=n[1],s=n[2],l=n[3],d=n[4],p=n[5],m=n[6],y=n[7];for(let x=0;x<64;x++){if(x<16)Ii[x]=r[e+x]|0;else{let rt=Ii[x-15],Tt=(rt<<25|rt>>>7)^(rt<<14|rt>>>18)^rt>>>3,ct=Ii[x-2],Nt=(ct<<15|ct>>>17)^(ct<<13|ct>>>19)^ct>>>10;Ii[x]=Tt+Ii[x-7]+Nt+Ii[x-16]}let O=d&p^~d&m,N=i&o^i&s^o&s,U=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),G=(d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25),tt=y+G+O+uE[x]+Ii[x],et=U+N;y=m,m=p,p=d,d=l+tt|0,l=s,s=o,o=i,i=tt+et|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+d|0,n[5]=n[5]+p|0,n[6]=n[6]+m|0,n[7]=n[7]+y|0}finalize(r){super.finalize(r);let e=this._nDataBytes*8,n=this._data.sigBytes*8;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(n+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}};function oy(t){return new Rf().finalize(t).toString()}function dE(t){return Promise.resolve(oy(t))}function fE(t){return j(this,null,function*(){var r=new TextEncoder().encode(t),e=yield crypto.subtle.digest("SHA-256",r),n=Array.prototype.map.call(new Uint8Array(e),i=>("00"+i.toString(16)).slice(-2)).join("");return n})}var hE=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",xo=hE?fE:dE;function ay(){return new Promise(t=>setTimeout(t,0))}function sy(t=0){return new Promise(r=>setTimeout(r,t))}var pE=Promise.resolve(!0),Kr=Promise.resolve(!1),cy=Promise.resolve(null),Vn=Promise.resolve();function Co(t=1e4){return typeof requestIdleCallback=="function"?new Promise(r=>{requestIdleCallback(()=>r(),{timeout:t})}):sy(0)}var Of=Vn;function ly(t=void 0){return Of=Of.then(()=>Co(t)),Of}function uy(t,r){return t.reduce((e,n)=>e.then(n),Promise.resolve(r))}var dy=/\./g;var fy="abcdefghijklmnopqrstuvwxyz";function Ti(t=10){for(var r="",e=0;e<t;e++)r+=fy.charAt(Math.floor(Math.random()*fy.length));return r}function Xc(t){t+="";var r=t.charAt(0).toUpperCase();return r+t.substr(1)}function Dr(t){for(;t.charAt(0)===".";)t=t.substr(1);for(;t.slice(-1)===".";)t=t.slice(0,-1);return t}function Df(t){return!!(t.includes("/")||t.includes("\\"))}function qn(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var e,n;if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!qn(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();var i=Object.keys(t);if(e=i.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=e;n--!==0;){var o=i[n];if(!qn(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}var kf=t=>{var r=typeof t;return t!==null&&(r==="object"||r==="function")},Af=new Set(["__proto__","prototype","constructor"]),mE=new Set("0123456789");function hy(t){var r=[],e="",n="start",i=!1;for(var o of t)switch(o){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(e+=o),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,e+=o;break}if(Af.has(e))return[];r.push(e),e="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,e+=o;break}if(n==="property"){if(Af.has(e))return[];r.push(e),e=""}n="index";break}case"]":{if(n==="index"){r.push(Number.parseInt(e,10)),e="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!mE.has(o))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,e+="\\"),e+=o}}switch(i&&(e+="\\"),n){case"property":{if(Af.has(e))return[];r.push(e);break}case"index":throw new Error("Index was not closed");case"start":{r.push("");break}}return r}function py(t,r){if(typeof r!="number"&&Array.isArray(t)){var e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}function gE(t,r){if(py(t,r))throw new Error("Cannot use string index")}function Be(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!r.includes(".")&&!r.includes("["))return t[r];if(!kf(t)||typeof r!="string")return e===void 0?t:e;var n=hy(r);if(n.length===0)return e;for(var i=0;i<n.length;i++){var o=n[i];if(py(t,o)?t=i===n.length-1?void 0:null:t=t[o],t==null){if(i!==n.length-1)return e;break}}return t===void 0?e:t}function If(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!kf(t)||typeof r!="string")return t;for(var n=t,i=hy(r),o=0;o<i.length;o++){var s=i[o];gE(t,s),o===i.length-1?t[s]=e:kf(t[s])||(t[s]=typeof i[o+1]=="number"?[]:{}),t=t[s]}return n}function Hn(t,r){var e=t.get(r);if(typeof e>"u")throw new Error("missing value from map "+r);return e}function Xe(t,r,e,n){var i=t.get(r);return typeof i>"u"?(i=e(),t.set(r,i)):n&&n(i),i}function Ot(t){var r=t.split("-"),e="RxDB";return r.forEach(n=>{e+=Xc(n)}),e+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+e+" } from 'rxdb/plugins/"+t+`';
            addRxPlugin(`+e+`);
        `)}var Tf=0;function se(){var t=Date.now();t=t+.01,t<=Tf&&(t=Tf+.01);var r=parseFloat(t.toFixed(2));return Tf=r,r}function Dt(t,r){if(!t)throw r||(r=""),new Error("ensureNotFalsy() is falsy: "+r);return t}var Zc={bufferSize:1,refCount:!0};var Mi="15.39.0";var Wn={},Jc="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93";function Kn(t,r){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Kn(t,r)}function Mf(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,Kn(t,r)}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tl(t)}function my(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch(r){return typeof t=="function"}}function Pf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Pf=function(){return!!t})()}function gy(t,r,e){if(Pf())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var i=new(t.bind.apply(t,n));return e&&Kn(i,e.prototype),i}function ja(t){var r=typeof Map=="function"?new Map:void 0;return ja=function(n){if(n===null||!my(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return gy(n,arguments,tl(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kn(i,n)},ja(t)}var Pt={isDevMode(){return!1},deepFreezeWhenDevMode(t){return t},tunnelErrorMessage(t){return"RxDB Error-Code "+t+`.
        Error messages are not included in RxDB core to reduce build size.
        `}};function vE(t){var r="";return Object.keys(t).length===0||(r+=`Given parameters: {
`,r+=Object.keys(t).map(e=>{var n="[object Object]";try{e==="errors"?n=t[e].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):n=JSON.stringify(t[e],function(i,o){return o===void 0?null:o},2)}catch(i){}return e+":"+n}).join(`
`),r+="}"),r}function vy(t,r,e){return"RxError ("+r+`):
`+t+`
`+vE(e)}var yE=(function(t){function r(n,i,o={}){var s,l=vy(i,n,o);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=Nf(n),s.parameters=o,s.rxdb=!0,s}Mf(r,t);var e=r.prototype;return e.toString=function(){return this.message},Ae(r,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])})(ja(Error)),bE=(function(t){function r(n,i,o={}){var s,l=vy(i,n,o);return s=t.call(this,l)||this,s.code=n,s.message=l,s.url=Nf(n),s.parameters=o,s.rxdb=!0,s}Mf(r,t);var e=r.prototype;return e.toString=function(){return this.message},Ae(r,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])})(ja(TypeError));function Nf(t){return"https://rxdb.info/errors.html?console=errors#"+t}function yy(t){return`
 You can find out more about this error here: `+Nf(t)+" "}function L(t,r){return new yE(t,Pt.tunnelErrorMessage(t)+yy(t),r)}function pe(t,r){return new bE(t,Pt.tunnelErrorMessage(t)+yy(t),r)}function el(t){return t&&t.status===409?t:!1}var _E={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function by(t){return L("COL20",{name:_E[t.status],document:t.documentId,writeError:t})}var Eo={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function ne(t,r){Eo[t].length>0&&Eo[t].forEach(e=>e(r))}function Gn(t,r){return Promise.all(Eo[t].map(e=>e(r)))}function $e(t,r){var e=r;e=e.replace(dy,".properties."),e="properties."+e,e=Dr(e);var n=Be(t,e);return n}function rl(t,r,e){if(typeof r.primaryKey=="string")return e;var n=Ua(r,e),i=e[t];if(i&&i!==n)throw L("DOC19",{args:{documentData:e,existingPrimary:i,newPrimary:n},schema:r});return e[t]=n,e}function be(t){return typeof t=="string"?t:t.key}function Ua(t,r){if(typeof t.primaryKey=="string")return r[t.primaryKey];var e=t.primaryKey;return e.fields.map(n=>{var i=Be(r,n);if(typeof i>"u")throw L("DOC18",{args:{field:n,documentData:r}});return i}).join(e.separator)}function _y(t){var r=_o(t,!0);return r}function wE(t){return["_deleted",t]}function nl(t){t=It(t);var r=be(t.primaryKey);t.properties=It(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=xE,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var e=Lf(t);Or(t.required,e),t.required=t.required.filter(o=>!o.includes(".")).filter((o,s,l)=>l.indexOf(o)===s),t.version=t.version||0;var n=t.indexes.map(o=>{var s=Wr(o)?o.slice(0):[o];return s.includes(r)||s.push(r),s[0]!=="_deleted"&&s.unshift("_deleted"),s});n.length===0&&n.push(wE(r)),n.push(["_meta.lwt",r]),t.internalIndexes&&t.internalIndexes.map(o=>{n.push(o)});var i=new Set;return n.filter(o=>{var s=o.join(",");return i.has(s)?!1:(i.add(s),!0)}),t.indexes=n,t}var xE={type:"object",properties:{lwt:{type:"number",minimum:Qc,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Lf(t){var r=Object.keys(t.properties).filter(n=>t.properties[n].final),e=be(t.primaryKey);return r.push(e),typeof t.primaryKey!="string"&&t.primaryKey.fields.forEach(n=>r.push(n)),r}function wy(t,r){for(var e=Object.keys(t.defaultValues),n=0;n<e.length;++n){var i=e[n];(!Object.prototype.hasOwnProperty.call(r,i)||typeof r[i]>"u")&&(r[i]=t.defaultValues[i])}return r}var Ff=(function(){function t(e,n){this.jsonSchema=e,this.hashFunction=n,this.indexes=CE(this.jsonSchema),this.primaryPath=be(this.jsonSchema.primaryKey),this.finalFields=Lf(this.jsonSchema)}var r=t.prototype;return r.validateChange=function(n,i){this.finalFields.forEach(o=>{if(!qn(n[o],i[o]))throw L("DOC9",{dataBefore:n,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},r.getDocumentPrototype=function(){var n={},i=$e(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var s=o;n.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var l=this.get(s);return l}}),Object.defineProperty(n,o+"$",{get:function(){return this.get$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"$$",{get:function(){return this.get$$(s)},enumerable:!1,configurable:!1}),Object.defineProperty(n,o+"_",{get:function(){return this.populate(s)},enumerable:!1,configurable:!1})}),Qe(this,"getDocumentPrototype",()=>n),n},r.getPrimaryOfDocumentData=function(n){return Ua(this.jsonSchema,n)},Ae(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.jsonSchema.properties).filter(([,n])=>Object.prototype.hasOwnProperty.call(n,"default")).forEach(([n,i])=>e[n]=i.default),Qe(this,"defaultValues",e)}},{key:"hash",get:function(){return Qe(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])})();function CE(t){return(t.indexes||[]).map(r=>Wr(r)?r:[r])}function xy(t){var r=t.version?t.version:0,e=0;return new Array(r).fill(0).map(()=>e++)}function Cy(t,r,e=!0){e&&ne("preCreateRxSchema",t);var n=nl(t);n=_y(n),Pt.deepFreezeWhenDevMode(n);var i=new Ff(n,r);return ne("createRxSchema",i),i}function Ey(t){return t.documentData?t.documentData:t.previousDocumentData}function Sy(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:Pt.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}function il(t){return t[t.length-1]}function EE(t){let r=typeof t;return t!==null&&(r==="object"||r==="function")}function Bf(t,r,e){if(Array.isArray(r)&&(r=r.join(".")),!EE(t)||typeof r!="string")return e===void 0?t:e;let n=r.split(".");if(n.length===0)return e;for(let i=0;i<n.length;i++){let o=n[i];if(SE(t,o)?t=i===n.length-1?void 0:null:t=t[o],t==null){if(i!==n.length-1)return e;break}}return t===void 0?e:t}function SE(t,r){if(typeof r!="number"&&Array.isArray(t)){let e=Number.parseInt(r,10);return Number.isInteger(e)&&t[e]===t[r]}return!1}var $f=t=>!!t.queryParams.limit,Ry=t=>t.queryParams.limit===1,Oy=t=>!!(t.queryParams.skip&&t.queryParams.skip>0),Dy=t=>t.changeEvent.operation==="DELETE",Ay=t=>t.changeEvent.operation==="INSERT",ky=t=>t.changeEvent.operation==="UPDATE",Iy=t=>$f(t)&&t.previousResults.length>=t.queryParams.limit,Ty=t=>{let r=t.queryParams.sortFields,e=t.changeEvent.previous,n=t.changeEvent.doc;if(!n)return!1;if(!e)return!0;for(let i=0;i<r.length;i++){let o=r[i],s=Bf(e,o),l=Bf(n,o);if(s!==l)return!0}return!1},My=t=>{let r=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(r);{let e=t.queryParams.primaryKey,n=t.previousResults;for(let i=0;i<n.length;i++)if(n[i][e]===r)return!0;return!1}},Py=t=>{let r=t.previousResults[0];return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},Ny=t=>{let r=il(t.previousResults);return!!(r&&r[t.queryParams.primaryKey]===t.changeEvent.id)},Ly=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},Fy=t=>{let r=t.changeEvent.previous;if(!r)return!1;let e=il(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},By=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=t.previousResults[0];return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)<0:!1},$y=t=>{let r=t.changeEvent.doc;if(!r)return!1;let e=il(t.previousResults);return e?e[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(r,e)>0:!1},jy=t=>{let r=t.changeEvent.previous;return r?t.queryParams.queryMatcher(r):!1},Uy=t=>{let r=t.changeEvent.doc;return r?t.queryParams.queryMatcher(r):!1},zy=t=>t.previousResults.length===0;var Vy={0:Ay,1:ky,2:Dy,3:$f,4:Ry,5:Oy,6:zy,7:Iy,8:Py,9:Ny,10:Ty,11:My,12:Ly,13:Fy,14:By,15:$y,16:jy,17:Uy};function qy(t,r,e,n){var i=t.length,o=i-1,s=0;if(i===0)return t.push(r),0;for(var l;n<=o;)s=n+(o-n>>1),l=t[s],e(l,r)<=0?n=s+1:o=s-1;return e(l,r)<=0&&s++,t.splice(s,0,r),s}var Hy=t=>{},ol=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},al=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},sl=t=>{let r=t.previousResults.shift();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},cl=t=>{let r=t.previousResults.pop();t.keyDocumentMap&&r&&t.keyDocumentMap.delete(r[t.queryParams.primaryKey])},Wy=t=>{sl(t),al(t)},Ky=t=>{cl(t),ol(t)},Gy=t=>{sl(t),ol(t)},Yy=t=>{cl(t),al(t)},jf=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);let r=t.queryParams.primaryKey,e=t.previousResults;for(let n=0;n<e.length;n++)if(e[n][r]===t.changeEvent.id){e.splice(n,1);break}},Qy=t=>{let r=t.changeEvent.doc,e=t.queryParams.primaryKey,n=t.previousResults;for(let i=0;i<n.length;i++)if(n[i][e]===t.changeEvent.id){n[i]=r,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,r);break}},Xy=t=>{let r={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(r),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(r._id,r))},Uf=t=>{let r=t.changeEvent.id,e=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(r))return;t.keyDocumentMap.set(r,e)}else if(t.previousResults.find(i=>i[t.queryParams.primaryKey]===r))return;qy(t.previousResults,e,t.queryParams.sortComparator,0)},Zy=t=>{jf(t),Uf(t)},Jy=t=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},tb=t=>{throw new Error("Action unknownAction should never be called")};var eb=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],rb={doNothing:Hy,insertFirst:ol,insertLast:al,removeFirstItem:sl,removeLastItem:cl,removeFirstInsertLast:Wy,removeLastInsertFirst:Ky,removeFirstInsertFirst:Gy,removeLastInsertLast:Yy,removeExisting:jf,replaceExisting:Qy,alwaysWrong:Xy,insertAtSortPosition:Uf,removeExistingAndInsertAtSortPosition:Zy,runFullQueryAgain:Jy,unknownAction:tb};function ll(t){return t.charCodeAt(0)-40}function nb(t){return t?"1":"0"}function RE(t=6){let r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let i=0;i<t;i++)r+=e.charAt(Math.floor(Math.random()*n));return r}var yP=RE(4);function zf(t,r){let e=[];for(let n=0,i=t.length;n<i;n+=r)e.push(t.substring(n,n+r));return e}function ib(t){let r=new Map,n=2+parseInt(t.charAt(0)+t.charAt(1),10)*2,i=t.substring(2,n),o=zf(i,2);for(let U=0;U<o.length;U++){let G=o[U],tt=G.charAt(0),et=ll(G.charAt(1));r.set(tt,et)}let s=t.substring(n,t.length-3),l=zf(s,4);for(let U=0;U<l.length;U++){let G=l[U],tt=G.charAt(0),et=G.charAt(1),rt=G.charAt(2),Tt=ll(G.charAt(3));if(!r.has(et))throw new Error("missing node with id "+et);if(!r.has(rt))throw new Error("missing node with id "+rt);let ct=r.get(et),Nt=r.get(rt),At={l:Tt,0:ct,1:Nt};r.set(tt,At)}let d=t.slice(-3),p=d.charAt(0),m=d.charAt(1),y=ll(d.charAt(2)),x=r.get(p),O=r.get(m);return{l:y,0:x,1:O}}function ob(t,r,e){let n=t,i=t.l;for(;;){let o=r[i](e),s=nb(o);if(n=n[s],typeof n=="number"||typeof n=="string")return n;i=n.l}}var OE="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7Fae9\xA1bf9\xA2bq9\xA3cg9\xA4ck9\xA5cn9\xA6nd9\xA7np9\xA8nq9\xA9nf9\xAAng9\xABnm9\xACnk9\xADmr9\xAEms9\xAFmt9\xB0mj9\xB1mk9\xB2ml9\xB3mn9\xB4mc8\xB5\xB3{8\xB6\xAF}8\xB7\xB0\xA48\xB8\xB3\xA78\xB9mn8\xBA\xB3\xAB8\xBB\xB3m8\xBCm\xB44\xBDz\xB24\xBE\xB3w4\xBFz\xB54\xC0\xAF\xB64\xC1\xB0\xB74\xC2\xB3\xBA4\xC3\xB3\xB84\xC4m\xB94\xC5v\xA47\xC6yn7\xC7\xC0\xC17\xC8~\x7F7\xC9\xA5\xA47\xCA\xC3\xC47\xCB\xA8n7\xCC\xBA\xB97\xCD\xAD\xB07\xCE\xAEm7\xCF\xAF\xB07\xD0\xB1m7\xD1\xB3m7\xD2\xBCm5\xD3\xC4m5\xD4\xB9m5\xD5\xBD\xB05\xD6\xBEm5\xD7\xBF\xB05\xD8\xC7\xCF5\xD9\xC2m5\xDA\xCA\xD15\xDB\xB1m5\xDC\xBAm5\xDD\xCC\xD15\xDE\xD5\xCD2\xDF|\x7F2\xE0\xA1u2\xE1\xA3\xC52\xE2\xD6\xCE2\xE3\xA6\xC62\xE4\xA9x2\xE5\xAA\xC62\xE6\xD7\xD82\xE7|\xC82\xE8\xA1\xA22\xE9\xA3\xC92\xEA\xA4\xA52\xEB\xD9\xDA2\xEC\xA6\xCB2\xED\xA9n2\xEE\xAAn2\xEF\xDB\xD02\xF0\xDC\xDD2\xF1\xACn2\xF2\xD2\xD3/\xF3an/\xF4bn/\xF5cn/\xF6\xDE\xE2/\xF7\xDF\xE3/\xF8\xE0\xE4/\xF9\xE1\xE5/\xFA\xE6\xEB/\xFB\xE7\xEC/\xFC\xE8\xED/\xFD\xE9\xEE/\xFE\xCD\xCE/\xFF\xCF\xD1/\u0100\xF2\xD4,\u0101cn,\u0102\xF6\xEF,\u0103\xA4\xF1,\u0104\xFA\xF0,\u0105\xEA\xF1,\u0106\xFE\xD0,\u0107\xFF\xD1,\u0108ac0\u0109bc0\u010A\xF3\xF50\u010B\xF4\u01010\u010C\xDF\xE10\u010D\xE0\xA40\u010E\xE7\xE90\u010F\xE8\xEA0\u0110\xF7\xF90\u0111\xF8\u01030\u0112\xFB\xFD0\u0113\xFC\u01050\u0114m\xD2-\u0115m\u0100-\u0116\xDE\xE6-\u0117\u010C\u010E-\u0118\u010D\u010F-\u0119\u0102\u0104-\u011A\u0110\u0112-\u011B\u0111\u0113-\u011C\xB2\xBB-\u011D\xCD\xCF-\u011E\u0106\u0107-\u011F\xB2\xB3-\u0120\u0114\u01083\u0121\u0115\u010A3\u0122\u0116\u01173\u0123\u0119\u011A3\u0124\u0122\u011D(\u0125\u011C\u011F(\u0126\u0123\u011E(\u0127\u0120\u0121+\u0128\u0109\u010B+\u0129\u0124\u0126+\u012A\u0118\u011B+\u012B\u0127\u01281\u012C\u0129\u012A1\u012D\u012C\u012B*\u012E\u0125m*\u012D\u012E.",Vf;function DE(){return Vf||(Vf=ib(OE)),Vf}var ab=t=>ob(DE(),Vy,t);function sb(t){let r=ab(t);return eb[r]}function cb(t,r,e,n,i){let o=rb[t];return o({queryParams:r,changeEvent:e,previousResults:n,keyDocumentMap:i}),n}var Pi="\uFFFF",Ni=Number.MIN_SAFE_INTEGER;function lb(t,r){var e=r.selector,n=t.indexes?t.indexes.slice(0):[];r.index&&(n=[r.index]);var i=!!r.sort.find(m=>Object.values(m)[0]==="desc"),o=new Set;Object.keys(e).forEach(m=>{var y=$e(t,m);y&&y.type==="boolean"&&Object.prototype.hasOwnProperty.call(e[m],"$eq")&&o.add(m)});var s=r.sort.map(m=>Object.keys(m)[0]),l=s.filter(m=>!o.has(m)).join(","),d=-1,p;if(n.forEach(m=>{var y=!0,x=!0,O=m.map(et=>{var rt=e[et],Tt=rt?Object.keys(rt):[],ct={};if(!rt||!Tt.length){var Nt=x?Ni:Pi;ct={startKey:Nt,endKey:y?Pi:Ni,inclusiveStart:!0,inclusiveEnd:!0}}else Tt.forEach(At=>{if(ul.has(At)){var Vt=rt[At],ve=TE(At,Vt);ct=Object.assign(ct,ve)}});return typeof ct.startKey>"u"&&(ct.startKey=Ni),typeof ct.endKey>"u"&&(ct.endKey=Pi),typeof ct.inclusiveStart>"u"&&(ct.inclusiveStart=!0),typeof ct.inclusiveEnd>"u"&&(ct.inclusiveEnd=!0),x&&!ct.inclusiveStart&&(x=!1),y&&!ct.inclusiveEnd&&(y=!1),ct}),N=O.map(et=>et.startKey),U=O.map(et=>et.endKey),G={index:m,startKeys:N,endKeys:U,inclusiveEnd:y,inclusiveStart:x,sortSatisfiedByIndex:!i&&l===m.filter(et=>!o.has(et)).join(","),selectorSatisfiedByIndex:IE(m,r.selector,N,U)},tt=ME(t,r,G);(tt>=d||r.index)&&(d=tt,p=G)}),!p)throw L("SNH",{query:r});return p}var ul=new Set(["$eq","$gt","$gte","$lt","$lte"]),AE=new Set(["$eq","$gt","$gte"]),kE=new Set(["$eq","$lt","$lte"]);function IE(t,r,e,n){var i=Object.entries(r),o=i.find(([At,Vt])=>{if(!t.includes(At))return!0;var ve=Object.entries(Vt).find(([Ue,mr])=>!ul.has(Ue));return ve});if(o||r.$and||r.$or)return!1;var s=[],l=new Set;for(var[d,p]of Object.entries(r)){if(!t.includes(d))return!1;var m=Object.keys(p).filter(At=>AE.has(At));if(m.length>1)return!1;var y=m[0];if(y&&l.add(d),y!=="$eq"){if(s.length>0)return!1;s.push(y)}}var x=[],O=new Set;for(var[N,U]of Object.entries(r)){if(!t.includes(N))return!1;var G=Object.keys(U).filter(At=>kE.has(At));if(G.length>1)return!1;var tt=G[0];if(tt&&O.add(N),tt!=="$eq"){if(x.length>0)return!1;x.push(tt)}}var et=0;for(var rt of t){for(var Tt of[l,O]){if(!Tt.has(rt)&&Tt.size>0)return!1;Tt.delete(rt)}var ct=e[et],Nt=n[et];if(ct!==Nt&&l.size>0&&O.size>0)return!1;et++}return!0}function TE(t,r){switch(t){case"$eq":return{startKey:r,endKey:r,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:r,inclusiveEnd:!0};case"$gte":return{startKey:r,inclusiveStart:!0};case"$lt":return{endKey:r,inclusiveEnd:!1};case"$gt":return{startKey:r,inclusiveStart:!1};default:throw new Error("SNH")}}function ME(t,r,e){var n=0,i=m=>{m>0&&(n=n+m)},o=10,s=Gc(e.startKeys,m=>m!==Ni&&m!==Pi);i(s*o);var l=Gc(e.startKeys,m=>m!==Pi&&m!==Ni);i(l*o);var d=Gc(e.startKeys,(m,y)=>m===e.endKeys[y]);i(d*o*1.5);var p=e.sortSatisfiedByIndex?5:0;return i(p),n}var me=class extends Error{},pl=2147483647,ml=-2147483648,Gf=Number.MAX_SAFE_INTEGER,Yf=Number.MIN_SAFE_INTEGER,dn=Symbol("missing"),fb=Object.freeze(new Error("mingo: cycle detected while processing object/array")),PE="[object Object]",NE=/^\[object ([a-zA-Z0-9]+)\]$/,za=t=>{let r=jE(t),e=0,n=r.length;for(;n;)e=(e<<5)-e^r.charCodeAt(--n);return e>>>0},hb=new Set(["null","undefined","boolean","number","string","date","regexp"]),LE={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},jt=(t,r)=>{t===dn&&(t=void 0),r===dn&&(r=void 0);let[e,n]=[t,r].map(i=>LE[Yn(i).toLowerCase()]);return e!==n?e-n:e===1||e===2||e===6?t<r?-1:t>r?1:0:_e(t,r)?0:t<r?-1:t>r?1:0};function z(t,r){if(!t)throw new me(r)}var Yn=t=>NE.exec(Object.prototype.toString.call(t))[1],Va=t=>typeof t=="boolean",Et=t=>typeof t=="string";var ft=t=>!isNaN(t)&&typeof t=="number";var st=Array.isArray,dt=t=>{if(!t)return!1;let r=Object.getPrototypeOf(t);return(r===Object.prototype||r===null)&&PE===Object.prototype.toString.call(t)},qa=t=>t===Object(t),Qn=t=>t instanceof Date,Oo=t=>t instanceof RegExp,Ha=t=>typeof t=="function",X=t=>t==null,Gr=(t,r)=>t.includes(r),gl=(t,r)=>!Gr(t,r),ke=(t,r=!0)=>!!t||r&&t==="",Ze=t=>X(t)||Et(t)&&!t||t instanceof Array&&t.length===0||dt(t)&&Object.keys(t).length===0,ub=t=>t===dn,Yr=t=>t instanceof Array?t:[t],Yt=(t,r)=>!!t&&Object.prototype.hasOwnProperty.call(t,r),Qf=t=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t),FE=[Qn,Oo,Qf],Hf=(t,r)=>{if(X(t))return t;if(r.has(t))throw fb;let e=t.constructor;if(FE.some(n=>n(t)))return new e(t);try{if(r.add(t),st(t))return t.map(n=>Hf(n,r));if(dt(t)){let n={};for(let i in t)n[i]=Hf(t[i],r);return n}}finally{r.delete(t)}return t},Do=t=>Hf(t,new Set),BE=(t,r)=>dt(t)&&dt(r)||st(t)&&st(r);function fl(t,r,e){if(e=e||{flatten:!1},ub(t)||X(t))return r;if(ub(r)||X(r))return t;if(!BE(t,r)){if(e.skipValidation)return r||t;throw Error("mismatched types. must both be array or object")}if(e.skipValidation=!0,st(t)){let n=t,i=r;if(e.flatten){let o=0,s=0;for(;o<n.length&&s<i.length;)n[o]=fl(n[o++],i[s++],e);for(;s<i.length;)n.push(r[s++])}else hr(n,i)}else for(let n in r)t[n]=fl(t[n],r[n],e);return t}function Wf(t,r=za){let e=new Map;return t.forEach((n,i)=>{let o=vl(n,r);e.has(o)?e.get(o).some(s=>_e(t[s],n))||e.get(o).push(i):e.set(o,[i])}),e}function fn(t,r=za){if(t.some(l=>l.length==0))return[];if(t.length===1)return Array.from(t);let e=pb(t.map((l,d)=>[d,l.length]),l=>l[1]),n=t[e[0][0]],i=Wf(n,r),o=new Map,s=new Array;return i.forEach((l,d)=>{let p=l.map(O=>n[O]),m=p.map(O=>0),y=p.map(O=>[e[0][0],0]),x=!1;for(let O=1;O<t.length;O++){let[N,U]=e[O],G=t[N];if(o.has(O)||o.set(O,Wf(G)),o.get(O).has(d)){let tt=o.get(O).get(d).map(et=>G[et]);x=p.map((et,rt)=>tt.some((Tt,ct)=>{let Nt=m[rt];return _e(et,Tt)&&(m[rt]++,N<y[rt][0]&&(y[rt]=[N,o.get(O).get(d)[ct]])),Nt<m[rt]})).some(Boolean)}if(!x)return}x&&hr(s,m.map((O,N)=>O===t.length-1?[p[N],y[N]]:dn).filter(O=>O!==dn))}),s.sort((l,d)=>{let[p,[m,y]]=l,[x,[O,N]]=d,U=jt(m,O);return U!==0?U:jt(y,N)}).map(l=>l[0])}function Xf(t,r=0){let e=new Array;function n(i,o){for(let s=0,l=i.length;s<l;s++)st(i[s])&&(o>0||o<0)?n(i[s],Math.max(-1,o-1)):e.push(i[s])}return n(t,r),e}var $E=t=>{let[r,e]=[Object.getPrototypeOf(t),Object.getOwnPropertyNames(t)],n=r;for(;!e.length&&r!==Object.prototype&&r!==Array.prototype;)n=r,e=Object.getOwnPropertyNames(r),r=Object.getPrototypeOf(r);let i={};return e.forEach(o=>i[o]=t[o]),[i,n]};function _e(t,r){if(t===r||Object.is(t,r))return!0;let e=!!t&&t.constructor||t;if(t===null||r===null||t===void 0||r===void 0||e!==r.constructor||e===Function)return!1;if(e===Array||e===Object){let o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length||new Set([...o,...s]).size!=o.length)return!1;for(let l of o)if(!_e(t[l],r[l]))return!1;return!0}let n=Object.getPrototypeOf(t);return(Qf(t)||n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))&&t.toString()===r.toString()}function Wa(t,r=za){let e=t.map(n=>dn);return Wf(t,r).forEach((n,i)=>{n.forEach(o=>e[o]=t[o])}),e.filter(n=>n!==dn)}var dl=(t,r)=>{if(t===null)return"null";if(t===void 0)return"undefined";let e=t.constructor;switch(e){case RegExp:case Number:case Boolean:case Function:case Symbol:return t.toString();case String:return JSON.stringify(t);case Date:return t.toISOString()}if(Qf(t))return e.name+"["+t.toString()+"]";if(r.has(t))throw fb;try{if(r.add(t),st(t))return"["+t.map(s=>dl(s,r)).join(",")+"]";if(e===Object)return"{"+Object.keys(t).sort().map(s=>s+":"+dl(t[s],r)).join(",")+"}";let n=Object.getPrototypeOf(t);if(n!==Object.prototype&&n!==Array.prototype&&Object.prototype.hasOwnProperty.call(n,"toString"))return e.name+"("+JSON.stringify(t.toString())+")";let[i,o]=$E(t);return e.name+dl(i,r)}finally{r.delete(t)}},jE=t=>dl(t,new Set);function vl(t,r){return r=r||za,X(t)?null:r(t).toString()}function pb(t,r,e=jt){if(Ze(t))return t;let n=new Array,i=new Array;for(let o=0;o<t.length;o++){let s=t[o],l=r(s,o);X(l)?i.push(s):n.push([l,s])}return n.sort((o,s)=>e(o[0],s[0])),hr(i,n.map(o=>o[1]))}function yl(t,r,e=za){if(t.length<1)return new Map;let n=new Map,i=new Map;for(let o=0;o<t.length;o++){let s=t[o],l=r(s,o),d=vl(l,e);if(d===null)i.has(null)?i.get(null).push(s):i.set(null,[s]);else{let p=n.has(d)?n.get(d).find(m=>_e(m,l)):null;X(p)?(i.set(l,[s]),n.has(d)?n.get(d).push(l):n.set(d,[l])):i.get(p).push(s)}}return i}var qf=5e4;function hr(t,...r){return t instanceof Array?r.reduce((e,n)=>{let i=Math.ceil(n.length/qf),o=0;for(;i-- >0;)Array.prototype.push.apply(e,n.slice(o,o+qf)),o+=qf;return e},t):r.filter(qa).reduce((e,n)=>(Object.assign(e,n),e),t)}function Kf(t,r){return qa(t)?t[r]:void 0}function UE(t,r){if(r<1)return t;for(;r--&&t.length===1;)t=t[0];return t}function Ie(t,r,e){let n=0;function i(s,l){let d=s;for(let p=0;p<l.length;p++){let m=l[p];if(/^\d+$/.exec(m)===null&&d instanceof Array){if(p===0&&n>0)break;n+=1;let x=l.slice(p);d=d.reduce((O,N)=>{let U=i(N,x);return U!==void 0&&O.push(U),O},[]);break}else d=Kf(d,m);if(d===void 0)break}return d}let o=hb.has(Yn(t).toLowerCase())?t:i(t,r.split("."));return o instanceof Array&&e?.unwrapArray?UE(o,n):o}function So(t,r,e){let n=r.split("."),i=n[0],o=n.slice(1).join("."),s=/^\d+$/.exec(i)!==null,l=n.length>1,d,p;if(t instanceof Array)if(s)d=Kf(t,Number(i)),l&&(d=So(d,o,e)),d=[d];else{d=[];for(let m of t)p=So(m,r,e),e?.preserveMissing?(p===void 0&&(p=dn),d.push(p)):p!==void 0&&d.push(p)}else{if(p=Kf(t,i),l&&(p=So(p,o,e)),p===void 0)return;d=e?.preserveKeys?$({},t):{},d[i]=p}return d}function hl(t){if(t instanceof Array)for(let r=t.length-1;r>=0;r--)t[r]===dn?t.splice(r,1):hl(t[r]);else if(dt(t))for(let r in t)Yt(t,r)&&hl(t[r])}var db=/^\d+$/;function Ro(t,r,e,n){let i=r.split("."),o=i[0],s=i.slice(1).join(".");if(i.length===1)(dt(t)||st(t)&&db.test(o))&&e(t,o);else{n?.buildGraph&&X(t[o])&&(t[o]={});let l=t[o];if(!l)return;let d=!!(i.length>1&&db.test(i[1]));l instanceof Array&&n?.descendArray&&!d?l.forEach(p=>Ro(p,s,e,n)):Ro(l,s,e,n)}}function bl(t,r,e){Ro(t,r,(n,i)=>{n[i]=Ha(e)?e(n[i]):e},{buildGraph:!0})}function Ka(t,r,e){Ro(t,r,(n,i)=>{if(n instanceof Array){if(/^\d+$/.test(i))n.splice(parseInt(i),1);else if(e&&e.descendArray)for(let o of n)dt(o)&&delete o[i]}else dt(n)&&delete n[i]},e)}var zE=/^\$[a-zA-Z0-9_]+$/;function Je(t){return zE.test(t)}function _l(t){if(hb.has(Yn(t).toLowerCase()))return Oo(t)?{$regex:t}:{$eq:t};if(qa(t)){if(!Object.keys(t).some(Je))return{$eq:t};if(Yt(t,"$regex")){let e=$({},t);return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}var Fi=(t=>(t.CLONE_ALL="CLONE_ALL",t.CLONE_INPUT="CLONE_INPUT",t.CLONE_OUTPUT="CLONE_OUTPUT",t.CLONE_OFF="CLONE_OFF",t))(Fi||{}),Xt=class t{constructor(r,e,n,i=Date.now()){this._opts=r,this._root=e,this._local=n,this.timestamp=i,this.update(e,n)}static init(r,e,n){return r instanceof t?new t(r._opts,X(r.root)?e:r.root,Object.assign({},r.local,n)):new t(r,e,n)}update(r,e){return this._root=r,this._local=e&&Object.assign({},e,{variables:Object.assign({},this._local?.variables,e?.variables)}),this}getOptions(){return Object.freeze(mt($({},this._opts),{context:Ao.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}};function hn(t){return t instanceof Xt?t.getOptions():Object.freeze(mt($({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF"},t),{context:t?.context?Ao.from(t?.context):Ao.init({})}))}var kr=(t=>(t.ACCUMULATOR="accumulator",t.EXPRESSION="expression",t.PIPELINE="pipeline",t.PROJECTION="projection",t.QUERY="query",t.WINDOW="window",t))(kr||{}),Ao=class t{constructor(r){this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}};for(let[e,n]of Object.entries(r))this.addOperators(e,n)}static init(r={}){return new t(r)}static from(r){return new t(r.operators)}addOperators(r,e){for(let[n,i]of Object.entries(e))this.getOperator(r,n)||(this.operators[r][n]=i);return this}addAccumulatorOps(r){return this.addOperators("accumulator",r)}addExpressionOps(r){return this.addOperators("expression",r)}addQueryOps(r){return this.addOperators("query",r)}addPipelineOps(r){return this.addOperators("pipeline",r)}addProjectionOps(r){return this.addOperators("projection",r)}addWindowOps(r){return this.addOperators("window",r)}getOperator(r,e){return r in this.operators&&this.operators[r][e]||null}},Li=Ao.init();function th(t,r){for(let[e,n]of Object.entries(r)){z(Ha(n)&&Je(e),`'${e}' is not a valid operator`);let i=Ar(t,e,null);z(!i||n===i,`${e} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":Li.addAccumulatorOps(r);break;case"expression":Li.addExpressionOps(r);break;case"pipeline":Li.addPipelineOps(r);break;case"projection":Li.addProjectionOps(r);break;case"query":Li.addQueryOps(r);break;case"window":Li.addWindowOps(r);break}}function Ar(t,r,e){let{context:n,useGlobalContext:i}=e||{},o=n?n.getOperator(t,r):null;return!o&&i?Li.getOperator(t,r):o}var mb={$$ROOT(t,r,e){return e.root},$$CURRENT(t,r,e){return t},$$REMOVE(t,r,e){},$$NOW(t,r,e){return new Date(e.timestamp)}},Zf={$$KEEP(t,r,e){return t},$$PRUNE(t,r,e){},$$DESCEND(t,r,e){if(!Yt(r,"$cond"))return t;let n;for(let[i,o]of Object.entries(t))if(qa(o)){if(o instanceof Array){let s=[];for(let l of o)dt(l)&&(l=Jf(l,r,e.update(l))),X(l)||s.push(l);n=s}else n=Jf(o,r,e.update(o));X(n)?delete t[i]:t[i]=n}return t}};function F(t,r,e,n){let i=Xt.init(n,t);if(e=e||"",Je(e)){let o=Ar("expression",e,n);if(o)return o(t,r,i);let s=Ar("accumulator",e,n);if(s)return t instanceof Array||(t=F(t,r,null,i),r=null),z(t instanceof Array,`'${e}' target must be an array.`),s(t,r,i.update(null,i.local));throw new me(`operator '${e}' is not registered`)}if(Et(r)&&r.length>0&&r[0]==="$"){if(Yt(Zf,r))return r;let o=i.root,s=r.split(".");if(Yt(mb,s[0]))o=mb[s[0]](t,null,i),r=r.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){o=Object.assign({},i.variables,{this:t},i.local?.variables);let l=s[0].slice(2);z(Yt(o,l),`Use of undefined variable: ${l}`),r=r.slice(2)}else r=r.slice(1);return r===""?o:Ie(o,r)}if(st(r))return r.map(o=>F(t,o,null,i));if(dt(r)){let o={};for(let[s,l]of Object.entries(r))if(o[s]=F(t,l,s,i),["expression","accumulator"].some(d=>!!Ar(d,s,n)))return z(Object.keys(r).length===1,"Invalid aggregation expression '"+JSON.stringify(r)+"'"),o[s];return o}return r}function Jf(t,r,e){let n=F(t,r,null,e);return Yt(Zf,n)?Zf[n](t,r,e):n}function tr(t){return t instanceof Ga?t:new Ga(t)}function wl(...t){let r=0;return tr(()=>{for(;r<t.length;){let e=t[r].next();if(!e.done)return e;r++}return{done:!0}})}function VE(t){return!!t&&typeof t=="object"&&t?.next instanceof Function}function qE(t,r){let e=t.slice(r+1);t.splice(r),Array.prototype.push.apply(t,e)}var eh=new Error;function HE(t,r,e){let n=!1,i=-1,o=0;return function(s){try{t:for(;!n;){let l=t();i++;let d=-1,p=r.length,m=!1;for(;++d<p;){let y=r[d];switch(y.action){case 0:l=y.func(l,i);break;case 1:if(!y.func(l,i))continue t;break;case 2:--y.count,y.count||(m=!0);break;case 3:--y.count,y.count||qE(r,d);continue t;default:break t}}if(n=m,s)e[o++]=l;else return{value:l,done:!1}}}catch(l){if(l!==eh)throw l}return n=!0,{done:n}}}var Ga=class{constructor(r){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let e;if(r instanceof Function&&(r={next:r}),VE(r)){let n=r;e=()=>{let i=n.next();if(i.done)throw eh;return i.value}}else if(r instanceof Array){let n=r,i=n.length,o=0;e=()=>{if(o<i)return n[o++];throw eh}}else if(!(r instanceof Function))throw new me("Lazy must be initialized with an array, generator, or function.");this.getNext=HE(e,this.iteratees,this.yieldedValues)}push(r,e){return typeof e=="function"?this.iteratees.push({action:r,func:e}):typeof e=="number"&&this.iteratees.push({action:r,count:e}),this}next(){return this.getNext()}map(r){return this.push(0,r)}filter(r){return this.push(1,r)}take(r){return r>0?this.push(2,r):this}drop(r){return r>0?this.push(3,r):this}transform(r){let e=this,n;return tr(()=>(n||(n=tr(r(e.value()))),n.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(r){for(;;){let e=this.next();if(e.done)break;if(r(e.value)===!1)return!1}return!0}reduce(r,e){let n=this.next();for(e===void 0&&!n.done&&(e=n.value,n=this.next());!n.done;)e=r(e,n.value),n=this.next();return e}size(){return this.reduce((r,e)=>++r,0)}[Symbol.iterator](){return this}};var Qr=class{constructor(r,e){this.pipeline=r,this.options=hn(e)}stream(r){let e=tr(r),n=this.options.processingMode;(n==Fi.CLONE_ALL||n==Fi.CLONE_INPUT)&&e.map(Do);let i=new Array;if(!Ze(this.pipeline))for(let o of this.pipeline){let s=Object.keys(o),l=s[0],d=Ar(kr.PIPELINE,l,this.options);z(s.length===1&&!!d,`invalid pipeline operator ${l}`),i.push(l),e=d(e,o[l],this.options)}return(n==Fi.CLONE_OUTPUT||n==Fi.CLONE_ALL&&fn([["$group","$unwind"],i]).length)&&e.map(Do),e}run(r){return this.stream(r).value()}};var xl=class{constructor(r,e,n,i){this.source=r,this.predicate=e,this.projection=n,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(dt(this.projection)&&this.operators.push({$project:this.projection}),this.result=tr(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Qr(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){let r=tr([...this.buffer]);return this.buffer=[],wl(r,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(r){return this.operators.push({$skip:r}),this}limit(r){return this.operators.push({$limit:r}),this}sort(r){return this.operators.push({$sort:r}),this}collation(r){return this.options=mt($({},this.options),{collation:r}),this}next(){if(this.buffer.length>0)return this.buffer.pop();let r=this.fetch().next();if(!r.done)return r.value}hasNext(){if(this.buffer.length>0)return!0;let r=this.fetch().next();return r.done?!1:(this.buffer.push(r.value),!0)}map(r){return this.all().map(r)}forEach(r){this.all().forEach(r)}[Symbol.iterator](){return this.fetchAll()}};var ie=class{constructor(r,e){this.condition=r,this.options=hn(e),this.compiled=[],this.compile()}compile(){z(dt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let r={};for(let[e,n]of Object.entries(this.condition)){if(e==="$where")Object.assign(r,{field:e,expr:n});else if(Gr(["$and","$or","$nor","$expr","$jsonSchema"],e))this.processOperator(e,e,n);else{z(!Je(e),`unknown top level operator: ${e}`);for(let[i,o]of Object.entries(_l(n)))this.processOperator(e,i,o)}r.field&&this.processOperator(r.field,r.field,r.expr)}}processOperator(r,e,n){let i=Ar(kr.QUERY,e,this.options);if(!i)throw new me(`unknown query operator ${e}`);let o=i(r,n,this.options);this.compiled.push(o)}test(r){for(let e=0,n=this.compiled.length;e<n;e++)if(!this.compiled[e](r))return!1;return!0}find(r,e){return new xl(r,n=>this.test(n),e||{},this.options)}remove(r){return r.reduce((e,n)=>(this.test(n)||e.push(n),e),[])}};var ko=1e3*60*60*24,gb={week:ko*7,day:ko,hour:1e3*60*60,minute:1e3*60,second:1e3,millisecond:1};var PL={week:ko*7,day:ko,hour:ko/24,minute:6e4,second:1e3,millisecond:1};var El=(t,r,e)=>{if(Ze(r)||!dt(r))return t;let n=jt,i=e.collation;return dt(i)&&Et(i.locale)&&(n=eS(i)),t.transform(o=>{let s=Object.keys(r);for(let l of s.reverse()){let d=yl(o,m=>Ie(m,l),e.hashFunction),p=Array.from(d.keys()).sort(n);r[l]===-1&&p.reverse(),o=[],p.reduce((m,y)=>hr(m,d.get(y)),o)}return o})},tS={1:"base",2:"accent",3:"variant"};function eS(t){let r={sensitivity:tS[t.strength||3],caseFirst:t.caseFirst==="off"?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:t.alternate==="shifted"};(t.caseLevel||!1)===!0&&(r.sensitivity==="base"&&(r.sensitivity="case"),r.sensitivity==="accent"&&(r.sensitivity="variant"));let e=new Intl.Collator(t.locale,r);return(n,i)=>{if(!Et(n)||!Et(i))return jt(n,i);let o=e.compare(n,i);return o<0?-1:o>0?1:0}}function St(t){let r=(e,n,i)=>{let o={unwrapArray:!0},s=Math.max(1,e.split(".").length-1);return l=>{let d=Ie(l,e,o);return t(d,n,mt($({},i),{depth:s}))}};return r.op="query",r}function je(t){return(r,e,n)=>{let i=F(r,e,null,n);return t(...i)}}function Ya(t,r,e){if(_e(t,r)||X(t)&&X(r))return!0;if(t instanceof Array){let n=_e.bind(null,r);return t.some(n)||Xf(t,e?.depth).some(n)}return!1}function Sl(t,r,e){return!Ya(t,r,e)}function nh(t,r,e){return X(t)?r.some(n=>n===null):fn([Yr(t),r],e?.hashFunction).length>0}function Rl(t,r,e){return!nh(t,r,e)}function Ol(t,r,e){return Il(t,r,(n,i)=>jt(n,i)<0)}function Dl(t,r,e){return Il(t,r,(n,i)=>jt(n,i)<=0)}function Al(t,r,e){return Il(t,r,(n,i)=>jt(n,i)>0)}function kl(t,r,e){return Il(t,r,(n,i)=>jt(n,i)>=0)}function xb(t,r,e){return Yr(t).some(n=>r.length===2&&n%r[0]===r[1])}function Cb(t,r,e){let n=Yr(t),i=o=>Et(o)&&ke(r.exec(o),e?.useStrictMode);return n.some(i)||Xf(n,1).some(i)}function Eb(t,r,e){return(r===!1||r===0)&&t===void 0||(r===!0||r===1)&&t!==void 0}function Sb(t,r,e){if(!st(t)||!st(r)||!t.length||!r.length)return!1;let n=!0;for(let i of r){if(!n)break;dt(i)&&Gr(Object.keys(i),"$elemMatch")?n=ih(t,i.$elemMatch,e):i instanceof RegExp?n=t.some(o=>typeof o=="string"&&i.test(o)):n=t.some(o=>_e(i,o))}return n}function Rb(t,r,e){return Array.isArray(t)&&t.length===r}function oS(t){return Je(t)&&["$and","$or","$nor"].indexOf(t)===-1}function ih(t,r,e){if(st(t)&&!Ze(t)){let n=s=>s,i=r;Object.keys(r).every(oS)&&(i={temp:r},n=s=>({temp:s}));let o=new ie(i,e);for(let s=0,l=t.length;s<l;s++)if(o.test(n(t[s])))return!0}return!1}var yb=t=>t===null,bb=t=>ft(t)&&t>=ml&&t<=pl&&t.toString().indexOf(".")===-1,_b=t=>ft(t)&&t>=Yf&&t<=Gf&&t.toString().indexOf(".")===-1,aS={array:st,bool:Va,boolean:Va,date:Qn,decimal:ft,double:ft,int:bb,long:_b,number:ft,null:yb,object:dt,regex:Oo,regexp:Oo,string:Et,undefined:X,function:t=>{throw new me("unsupported type key `function`.")},1:ft,2:Et,3:dt,4:st,6:X,8:Va,9:Qn,10:yb,11:Oo,16:bb,18:_b,19:ft};function wb(t,r,e){let n=aS[r];return n?n(t):!1}function Ob(t,r,e){return Array.isArray(r)?r.findIndex(n=>wb(t,n,e))>=0:wb(t,r,e)}function Il(t,r,e){return Yr(t).some(n=>Yn(n)===Yn(r)&&e(n,r))}var H$=je(Rl);var Io=(t,r)=>(e,n,i)=>{z(st(n),`${t}: expression must be an array.`);let o=F(e,n,null,i);return o.some(X)?null:(z(o.every(ft),`${t}: expression must evalue to array of numbers.`),r(o))};var Uj=Io("$bitAnd",t=>t.reduce((r,e)=>r&e,-1));var Kj=Io("$bitOr",t=>t.reduce((r,e)=>r|e,0));var Qj=Io("$bitXor",t=>t.reduce((r,e)=>r^e,0));var oh={};zs(oh,{$and:()=>sS,$not:()=>cS,$or:()=>lS});var sS=(t,r,e)=>{let n=F(t,r,null,e);return ke(n,e.useStrictMode)&&n.every(i=>ke(i,e.useStrictMode))};var cS=(t,r,e)=>{let n=Yr(r);if(n.length==0)return!1;if(n.length==1)return!F(t,n[0],null,e);throw"Expression $not takes exactly 1 argument"};var lS=(t,r,e)=>{let n=F(t,r,null,e),i=e.useStrictMode;return ke(n,i)&&n.some(o=>ke(o,i))};var ah={};zs(ah,{$cmp:()=>uS,$eq:()=>dS,$gt:()=>fS,$gte:()=>hS,$lt:()=>pS,$lte:()=>mS,$ne:()=>gS});var uS=(t,r,e)=>{let n=F(t,r,null,e);return n[0]>n[1]?1:n[0]<n[1]?-1:0};var dS=je(Ya);var fS=je(Al);var hS=je(kl);var pS=je(Ol);var mS=je(Dl);var gS=je(Sl);var Db=(t,r)=>{let e={};return t.split("").forEach((n,i)=>e[n]=r*(i+1)),e},sz=mt($($({},Db("ABCDEFGHIKLM",1)),Db("NOPQRSTUVWXY",-1)),{Z:0});var Tb={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Ut(t,r=Tb){let e=Object.assign({},Tb,r),n=new Set(Object.keys(e));return(i,o,s)=>{let l=F(i,o,null,s);if(n.has(`${l}`)){let d=e[`${l}`];if(d instanceof Error)throw new me(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return d}return t(l)}}var mH=Ut(Math.acos,{Infinity:1/0,0:new Error});var yH=Ut(Math.acosh,{Infinity:1/0,0:new Error});var wH=Ut(Math.asin);var EH=Ut(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});var OH=Ut(Math.atan);var MH=Ut(Math.atanh,{1:1/0,"-1":-1/0});var LH=Ut(Math.cos);var $H=Ut(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var _S=Math.PI/180,zH=Ut(t=>t*_S,{Infinity:1/0,"-Infinity":1/0});var wS=180/Math.PI,HH=Ut(t=>t*wS,{Infinity:1/0,"-Infinity":-1/0});var GH=Ut(Math.sin);var XH=Ut(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});var tW=Ut(Math.tan);var ch=(t,r,e)=>{if(Ze(r))return t;let n=Object.keys(r),i=!1;Pb(r,e);let o=e.idKey;if(Gr(n,o)){let l=r[o];(l===0||l===!1)&&(n=n.filter(gl.bind(null,[o])),i=n.length==0)}else n.push(o);let s=Xt.init(e);return t.map(l=>sh(l,r,s.update(l),n,i))};function sh(t,r,e,n,i){let o={},s=!1,l=!1,d=[];i&&d.push(e.idKey);for(let p of n){let m,y=r[p];if(p!==e.idKey&&Gr([0,!1],y)&&(l=!0),p===e.idKey&&Ze(y))m=t[p];else if(Et(y))m=F(t,y,p,e);else if(!Gr([1,!0],y))if(y instanceof Array)m=y.map(O=>{let N=F(t,O,null,e);return X(N)?null:N});else if(dt(y)){let O=y,N=Object.keys(y),U=N.length==1?N[0]:"",G=Ar(kr.PROJECTION,U,e);if(G)U==="$slice"?Yr(O[U]).every(ft)?(m=G(t,O[U],p,e),s=!0):m=F(t,O,p,e):m=G(t,O[U],p,e);else if(Je(U))m=F(t,O[U],U,e);else if(Yt(t,p)){Pb(O,e);let tt=t[p];tt instanceof Array?m=tt.map(et=>sh(et,O,e,N,!1)):(tt=dt(tt)?tt:t,m=sh(tt,O,e,N,!1))}else m=F(t,y,null,e)}else{d.push(p);continue}let x=So(t,p,{preserveMissing:!0});x!==void 0&&fl(o,x,{flatten:!0}),gl([0,1,!1,!0],y)&&(m===void 0?Ka(o,p,{descendArray:!0}):bl(o,p,m))}if(hl(o),(s||l||i)&&(o=hr({},t,o),d.length>0))for(let p of d)Ka(o,p,{descendArray:!0});return o}function Pb(t,r){let e=[!1,!1];for(let[n,i]of Object.entries(t)){if(n===r?.idKey)return;i===0||i===!1?e[0]=!0:(i===1||i===!0)&&(e[1]=!0),z(!(e[0]&&e[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var lh=(t,r,e)=>{z(st(r),"Invalid expression: $and expects value to be an Array.");let n=r.map(i=>new ie(i,e));return i=>n.every(o=>o.test(i))};var Qa=(t,r,e)=>{z(st(r),"Invalid expression. $or expects value to be an Array");let n=r.map(i=>new ie(i,e));return i=>n.some(o=>o.test(i))};var uh=(t,r,e)=>{z(st(r),"Invalid expression. $nor expects value to be an array.");let n=Qa("$or",r,e);return i=>!n(i)};var dh=(t,r,e)=>{let n={};n[t]=_l(r);let i=new ie(n,e);return o=>!i.test(o)};var Tl=St(Ya);var Ml=St(Al);var Pl=St(kl);var Nl=St(nh);var Ll=St(Ol);var Fl=St(Dl);var Bl=St(Sl);var $l=St(Rl);function ES(t,r,e){return n=>F(n,r,null,e)}function SS(t,r,e){if(!e?.jsonSchemaValidator)throw new me("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let n=e?.jsonSchemaValidator(r);return i=>n(i)}var fh=St(xb);var hh=St(Cb);function RS(t,r,e){z(e.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");let n=r;return z(Ha(n),"$where only accepts a Function object"),i=>ke(n.call(i),e?.useStrictMode)}var OS=St(Sb);var ph=St(ih);var mh=St(Rb);var gh=St(Eb);var vh=St(Ob);var Nb=!1;function Lb(t){return Nb||(th(kr.PIPELINE,{$sort:El,$project:ch}),th(kr.QUERY,{$and:lh,$eq:Tl,$elemMatch:ph,$exists:gh,$gt:Ml,$gte:Pl,$in:Nl,$lt:Ll,$lte:Fl,$ne:Bl,$nin:$l,$mod:fh,$nor:uh,$not:dh,$or:Qa,$regex:hh,$size:mh,$type:vh}),Nb=!0),new ie(t)}function Xa(t,r){var e=be(t.primaryKey);r=It(r);var n=fr(r);if(typeof n.skip!="number"&&(n.skip=0),n.selector?(n.selector=n.selector,Object.entries(n.selector).forEach(([p,m])=>{(typeof m!="object"||m===null)&&(n.selector[p]={$eq:m})})):n.selector={},n.index){var i=$a(n.index);i.includes(e)||i.push(e),n.index=i}if(n.sort){var d=n.sort.find(p=>ey(p)===e);d||(n.sort=n.sort.slice(0),n.sort.push({[e]:"asc"}))}else if(n.index)n.sort=n.index.map(p=>({[p]:"asc"}));else{if(t.indexes){var o=new Set;Object.entries(n.selector).forEach(([p,m])=>{var y=!1;typeof m=="object"&&m!==null?y=!!Object.keys(m).find(x=>ul.has(x)):y=!0,y&&o.add(p)});var s=-1,l;t.indexes.forEach(p=>{var m=Wr(p)?p:[p],y=m.findIndex(x=>!o.has(x));y>0&&y>s&&(s=y,l=m)}),l&&(n.sort=l.map(p=>({[p]:"asc"})))}n.sort||(n.sort=[{[e]:"asc"}])}return n}function jl(t,r){if(!r.sort)throw L("SNH",{query:r});var e=[];r.sort.forEach(i=>{var o=Object.keys(i)[0],s=Object.values(i)[0];e.push({key:o,direction:s,getValueFn:ty(o)})});var n=(i,o)=>{for(var s=0;s<e.length;++s){var l=e[s],d=l.getValueFn(i),p=l.getValueFn(o);if(d!==p){var m=l.direction==="asc"?jt(d,p):jt(p,d);return m}}};return n}function To(t,r){if(!r.sort)throw L("SNH",{query:r});var e=Lb(r.selector),n=i=>e.test(i);return n}function Xn(t,r){return j(this,null,function*(){var e=yield t.exec();if(!e)return null;if(Array.isArray(e))return Promise.all(e.map(i=>r(i)));if(e instanceof Map)return Promise.all([...e.values()].map(i=>r(i)));var n=yield r(e);return n})}function DS(t,r){return!r.sort||r.sort.length===0?[t]:r.sort.map(e=>Object.keys(e)[0])}var AS=new WeakMap;function kS(t){return Xe(AS,t,()=>{var r=t.collection,e=Xa(r.storageInstance.schema,fr(t.mangoQuery)),n=r.schema.primaryPath,i=jl(r.schema.jsonSchema,e),o=(p,m)=>{var y={docA:p,docB:m,rxQuery:t};return i(y.docA,y.docB)},s=To(r.schema.jsonSchema,e),l=p=>{var m={doc:p,rxQuery:t};return s(m.doc)},d={primaryKey:t.collection.schema.primaryPath,skip:e.skip,limit:e.limit,sortFields:DS(n,e),sortComparator:o,queryMatcher:l};return d})}function Fb(t,r){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var e=kS(t),n=Dt(t._result).docsData.slice(0),i=Dt(t._result).docsDataMap,o=!1,s=r.map(d=>Sy(d)).filter(Kv),l=s.find(d=>{var p={queryParams:e,changeEvent:d,previousResults:n,keyDocumentMap:i},m=sb(p);if(m==="runFullQueryAgain")return!0;if(m!=="doNothing")return o=!0,cb(m,e,d,n,i),!1});return l?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:n}}var IS=(function(){function t(){this._map=new Map}var r=t.prototype;return r.getByQuery=function(n){var i=n.toString();return Xe(this._map,i,()=>n)},t})();function $b(){return new IS}function Bb(t,r){r.uncached=!0;var e=r.toString();t._map.delete(e)}function TS(t){return t.refCount$.observers.length}var MS=100,PS=30*1e3,NS=(t,r)=>(e,n)=>{if(!(n._map.size<t)){var i=se()-r,o=[],s=Array.from(n._map.values());for(var l of s)if(!(TS(l)>0)){if(l._lastEnsureEqual===0&&l._creationTime<i){Bb(n,l);continue}o.push(l)}var d=o.length-t;if(!(d<=0)){var p=o.sort((y,x)=>y._lastEnsureEqual-x._lastEnsureEqual),m=p.slice(0,d);m.forEach(y=>Bb(n,y))}}},bh=NS(MS,PS),yh=new WeakSet;function jb(t){yh.has(t)||(yh.add(t),ay().then(()=>ly(200)).then(()=>{t.destroyed||t.cacheReplacementPolicy(t,t._queryCache),yh.delete(t)}))}var zb=(function(){function t(e,n,i){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var s=o.docId,l=this.cacheItemByDocId.get(s);l&&(l[0].delete(o.revisionHeight),l[0].size===0&&this.cacheItemByDocId.delete(s))}):void 0,this.primaryPath=e,this.changes$=n,this.documentCreator=i,n.subscribe(o=>{this.tasks.add(()=>{for(var s=this.cacheItemByDocId,l=0;l<o.length;l++){var d=o[l],p=s.get(d.documentId);if(p){var m=d.documentData;m||(m=d.previousDocumentData),p[1]=m}}}),this.tasks.size<=1&&Co().then(()=>{this.processTasks()})})}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},r.getLatestDocumentData=function(n){this.processTasks();var i=Hn(this.cacheItemByDocId,n);return i[1]},r.getLatestDocumentDataIfExists=function(n){this.processTasks();var i=this.cacheItemByDocId.get(n);if(i)return i[1]},Ae(t,[{key:"getCachedRxDocuments",get:function(){var e=Ub(this);return Qe(this,"getCachedRxDocuments",e)}},{key:"getCachedRxDocument",get:function(){var e=Ub(this);return Qe(this,"getCachedRxDocument",n=>e([n])[0])}}])})();function Ub(t){var r=t.primaryPath,e=t.cacheItemByDocId,n=t.registry,i=Pt.deepFreezeWhenDevMode,o=t.documentCreator,s=l=>{for(var d=new Array(l.length),p=[],m=0;m<l.length;m++){var y=l[m],x=y[r],O=ki(y._rev),N=void 0,U=void 0,G=e.get(x);G?(N=G[0],U=N.get(O)):(N=new Map,G=[N,y],e.set(x,G));var tt=U?U.deref():void 0;tt||(y=i(y),tt=o(y),N.set(O,FS(tt)),n&&p.push(tt)),d[m]=tt}return p.length>0&&n&&(t.tasks.add(()=>{for(var et=0;et<p.length;et++){var rt=p[et];n.register(rt,{docId:rt.primary,revisionHeight:ki(rt.revision)})}}),t.tasks.size<=1&&Co().then(()=>{t.processTasks()})),d};return s}function Ul(t,r){var e=t.getCachedRxDocuments;return e(r)}var LS=typeof WeakRef=="function",FS=LS?BS:$S;function BS(t){return new WeakRef(t)}function $S(t){return{deref(){return t}}}var _h=(function(){function t(e,n,i){this.time=se(),this.query=e,this.count=i,this.documents=Ul(this.query.collection._docCache,n)}var r=t.prototype;return r.getValue=function(n){var i=this.query.op;if(i==="count")return this.count;if(i==="findOne"){var o=this.documents.length===0?null:this.documents[0];if(!o&&n)throw L("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:i});return o}else return i==="findByIds"?this.docsMap:this.documents.slice(0)},Ae(t,[{key:"docsData",get:function(){return Qe(this,"docsData",this.documents.map(e=>e._data))}},{key:"docsDataMap",get:function(){var e=new Map;return this.documents.forEach(n=>{e.set(n.primary,n._data)}),Qe(this,"docsDataMap",e)}},{key:"docsMap",get:function(){for(var e=new Map,n=this.documents,i=0;i<n.length;i++){var o=n[i];e.set(o.primary,o)}return Qe(this,"docsMap",e)}}])})();var jS=0,US=function(){return++jS},wh=(function(){function t(e,n,i,o={}){this.id=US(),this._execOverDatabaseCount=0,this._creationTime=se(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new fe(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Kr,this.op=e,this.mangoQuery=n,this.collection=i,this.other=o,n||(this.mangoQuery=Za()),this.isFindOneByIdQuery=HS(this.collection.schema.primaryPath,n)}var r=t.prototype;return r._setResultData=function(n){if(typeof n>"u")throw L("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof n=="number"){this._result=new _h(this,[],n);return}else n instanceof Map&&(n=Array.from(n.values()));var i=new _h(this,n,n.length);this._result=i},r._execOverDatabase=function(){return j(this,null,function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=se(),this.op==="count"){var n=this.getPreparedQuery(),i=yield this.collection.storageInstance.count(n);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw L("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=Dt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,s=new Map,l=[];if(o.forEach(m=>{var y=this.collection._docCache.getLatestDocumentDataIfExists(m);if(y){if(!y._deleted){var x=this.collection._docCache.getCachedRxDocument(y);s.set(m,x)}}else l.push(m)}),l.length>0){var d=yield this.collection.storageInstance.findDocumentsById(l,!1);d.forEach(m=>{var y=this.collection._docCache.getCachedRxDocument(m);s.set(y.primary,y)})}return s}var p=qS(this);return p.then(m=>(this._lastExecEnd=se(),m))})},r.exec=function(n){return j(this,null,function*(){if(n&&this.op!=="findOne")throw L("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});yield Vb(this);var i=Dt(this._result);return i.getValue(n)})},r.toString=function(){var n=_o({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n);return this.toString=()=>i,i},r.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:Xa(this.collection.schema.jsonSchema,this.mangoQuery)};n.mangoQuery.selector._deleted={$eq:!1},n.mangoQuery.index&&n.mangoQuery.index.unshift("_deleted"),ne("prePrepareQuery",n);var i=Ja(this.collection.schema.jsonSchema,n.mangoQuery);return this.getPreparedQuery=()=>i,i},r.doesDocumentDataMatch=function(n){return n._deleted?!1:this.queryMatcher(n)},r.remove=function(){return this.exec().then(n=>Array.isArray(n)?Promise.all(n.map(i=>i.remove())):n.remove())},r.incrementalRemove=function(){return Xn(this.asRxQuery,n=>n.incrementalRemove())},r.update=function(n){throw Ot("update")},r.patch=function(n){return Xn(this.asRxQuery,i=>i.patch(n))},r.incrementalPatch=function(n){return Xn(this.asRxQuery,i=>i.incrementalPatch(n))},r.modify=function(n){return Xn(this.asRxQuery,i=>i.modify(n))},r.incrementalModify=function(n){return Xn(this.asRxQuery,i=>i.incrementalModify(n))},r.where=function(n){throw Ot("query-builder")},r.sort=function(n){throw Ot("query-builder")},r.skip=function(n){throw Ot("query-builder")},r.limit=function(n){throw Ot("query-builder")},Ae(t,[{key:"$",get:function(){if(!this._$){var e=this.collection.$.pipe(yt(n=>!n.isLocal),qe(null),he(()=>Vb(this)),bt(()=>this._result),sa(Zc),An((n,i)=>!!(n&&n.time===Dt(i).time)),yt(n=>!!n),bt(n=>Dt(n).getValue()));this._$=Hs(e,this.refCount$.pipe(yt(()=>!1)))}return this._$}},{key:"$$",get:function(){var e=this.collection.database.getReactivityFactory();return e.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var e=this.collection.schema.jsonSchema,n=Xa(this.collection.schema.jsonSchema,this.mangoQuery);return Qe(this,"queryMatcher",To(e,n))}},{key:"asRxQuery",get:function(){return this}}])})();function Za(){return{selector:{}}}function zS(t){return t.collection._queryCache.getByQuery(t)}function Mo(t,r,e,n){ne("preCreateRxQuery",{op:t,queryObj:r,collection:e,other:n});var i=new wh(t,r,e,n);return i=zS(i),jb(e),i}function qb(t){var r=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=r}function Vb(t){return j(this,null,function*(){return t.collection.awaitBeforeReads.size>0&&(yield Promise.all(Array.from(t.collection.awaitBeforeReads).map(r=>r()))),t.collection.database.destroyed||qb(t)?!1:(t._ensureEqualQueue=t._ensureEqualQueue.then(()=>VS(t)),t._ensureEqualQueue)})}function VS(t){if(t._lastEnsureEqual=se(),t.collection.database.destroyed||qb(t))return Kr;var r=!1,e=!1;if(t._latestChangeEvent===-1&&(e=!0),!e){var n=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(n===null)e=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var i=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n);if(t.op==="count"){var o=Dt(t._result).count,s=o;i.forEach(d=>{var p=d.previousDocumentData&&t.doesDocumentDataMatch(d.previousDocumentData),m=t.doesDocumentDataMatch(d.documentData);!p&&m&&s++,p&&!m&&s--}),s!==o&&(r=!0,t._setResultData(s))}else{var l=Fb(t,i);l.runFullQueryAgain?e=!0:l.changed&&(r=!0,t._setResultData(l.newResults))}}}return e?t._execOverDatabase().then(d=>(t._latestChangeEvent=t.collection._changeEventBuffer.getCounter(),typeof d=="number"?((!t._result||d!==t._result.count)&&(r=!0,t._setResultData(d)),r):((!t._result||!ny(t.collection.schema.primaryPath,d,t._result.docsData))&&(r=!0,t._setResultData(d)),r))):Promise.resolve(r)}function Ja(t,r){if(!r.sort)throw L("SNH",{query:r});var e=lb(t,r);return{query:r,queryPlan:e}}function qS(t){return j(this,null,function*(){var r=[],e=t.collection;if(t.isFindOneByIdQuery)if(Array.isArray(t.isFindOneByIdQuery)){var n=t.isFindOneByIdQuery;if(n=n.filter(m=>{var y=t.collection._docCache.getLatestDocumentDataIfExists(m);return y?(y._deleted||r.push(y),!1):!0}),n.length>0){var i=yield e.storageInstance.findDocumentsById(n,!1);Or(r,i)}}else{var o=t.isFindOneByIdQuery,s=t.collection._docCache.getLatestDocumentDataIfExists(o);if(!s){var l=yield e.storageInstance.findDocumentsById([o],!1);l[0]&&(s=l[0])}s&&!s._deleted&&r.push(s)}else{var d=t.getPreparedQuery(),p=yield e.storageInstance.query(d);r=p.documents}return r})}function HS(t,r){if(!r.skip&&r.selector&&Object.keys(r.selector).length===1&&r.selector[t]){var e=r.selector[t];if(typeof e=="string")return e;if(Object.keys(e).length===1&&typeof e.$eq=="string"||Object.keys(e).length===1&&Array.isArray(e.$eq)&&!e.$eq.find(n=>typeof n!="string"))return e.$eq}return!1}var Hb="_rxdb_internal";function Ch(t,r){return j(this,null,function*(){var e=yield t.findDocumentsById([r],!1),n=e[0];if(n)return n})}function Po(t,r,e,n){if(n)throw n.status===409?L("CONFLICT",{collection:t.name,id:r,writeError:n,data:e}):n.status===422?L("VD2",{collection:t.name,id:r,writeError:n,data:e}):n}function Wb(t,r,e,n,i,o,s){for(var l=!!t.schema.attachments,d=[],p=[],m=[],y=Ti(10),x={id:y,events:[],checkpoint:null,context:i,startTime:se(),endTime:0},O=x.events,N=[],U=[],G=[],tt=e.size>0,et,rt=n.length,Tt=function(){var Nt=n[ct],At=Nt.document,Vt=Nt.previous,ve=At[r],Ue=At._deleted,mr=Vt&&Vt._deleted,ni=void 0;tt&&(ni=e.get(ve));var gr;if(ni){var Jr=ni._rev;if(!Vt||Vt&&Jr!==Vt._rev){var vn={isError:!0,status:409,documentId:ve,writeRow:Nt,documentInDb:ni};return m.push(vn),1}var Me=l?xh(Nt):Nt;l&&(Ue?Vt&&Object.keys(Vt._attachments).forEach(ce=>{U.push({documentId:ve,attachmentId:ce,digest:Dt(Vt)._attachments[ce].digest})}):(Object.entries(At._attachments).find(([ce,le])=>{var bn=Vt?Vt._attachments[ce]:void 0;return!bn&&!le.data&&(gr={documentId:ve,documentInDb:ni,isError:!0,status:510,writeRow:Nt,attachmentId:ce}),!0}),gr||Object.entries(At._attachments).forEach(([ce,le])=>{var bn=Vt?Vt._attachments[ce]:void 0;if(!bn)N.push({documentId:ve,attachmentId:ce,attachmentData:le,digest:le.digest});else{var yu=Me.document._attachments[ce].digest;le.data&&bn.digest!==yu&&G.push({documentId:ve,attachmentId:ce,attachmentData:le,digest:le.digest})}}))),gr?m.push(gr):(l?(p.push(xh(Me)),s&&s(At)):(p.push(Me),s&&s(At)),et=Me);var yn=null,Vo=null,vr=null;if(mr&&!Ue)vr="INSERT",yn=l?Xr(At):At;else if(Vt&&!mr&&!Ue)vr="UPDATE",yn=l?Xr(At):At,Vo=Vt;else if(Ue)vr="DELETE",yn=Dt(At),Vo=Vt;else throw L("SNH",{args:{writeRow:Nt}});var ps={documentId:ve,documentData:yn,previousDocumentData:Vo,operation:vr};O.push(ps)}else{var zo=!!Ue;if(l&&Object.entries(At._attachments).forEach(([ce,le])=>{le.data?N.push({documentId:ve,attachmentId:ce,attachmentData:le,digest:le.digest}):(gr={documentId:ve,isError:!0,status:510,writeRow:Nt,attachmentId:ce},m.push(gr))}),gr||(l?(d.push(xh(Nt)),o&&o(At)):(d.push(Nt),o&&o(At)),et=Nt),!zo){var vu={documentId:ve,operation:"INSERT",documentData:l?Xr(At):At,previousDocumentData:l&&Vt?Xr(Vt):Vt};O.push(vu)}}},ct=0;ct<rt;ct++)Tt();return{bulkInsertDocs:d,bulkUpdateDocs:p,newestRow:et,errors:m,eventBulk:x,attachmentsAdd:N,attachmentsRemove:U,attachmentsUpdate:G}}function xh(t){return{previous:t.previous,document:Xr(t.document)}}function WS(t){return atob(t).length}function KS(t){var r=t.data;if(!r)return t;var e={length:WS(r),digest:t.digest,type:t.type};return e}function Xr(t){if(!t._attachments||Object.keys(t._attachments).length===0)return t;var r=It(t);return r._attachments={},Object.entries(t._attachments).forEach(([e,n])=>{r._attachments[e]=KS(n)}),r}function Bi(t){return Object.assign({},t,{_meta:It(t._meta)})}var Kb=new WeakMap;function zl(t,r,e){Pt.deepFreezeWhenDevMode(e);var n=be(r.schema.primaryKey),i={originalStorageInstance:r,schema:r.schema,internals:r.internals,collectionName:r.collectionName,databaseName:r.databaseName,options:r.options,bulkWrite(o,s){for(var l=t.token,d=new Array(o.length),p=se(),m=0;m<o.length;m++){var y=o[m],x=Bi(y.document);x._meta.lwt=p;var O=y.previous;x._rev=bo(l,O),d[m]={document:x,previous:O}}return ne("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:d}),t.lockedRun(()=>r.bulkWrite(d,s)).then(N=>{var U={error:[]},G=pr(n,d,N);Kb.set(U,G);var tt=N.error.length===0?[]:N.error.filter(rt=>rt.status===409&&!rt.writeRow.previous&&!rt.writeRow.document._deleted&&Dt(rt.documentInDb)._deleted?!0:(U.error.push(rt),!1));if(tt.length>0){var et=tt.map(rt=>({previous:rt.documentInDb,document:Object.assign({},rt.writeRow.document,{_rev:bo(t.token,rt.documentInDb)})}));return t.lockedRun(()=>r.bulkWrite(et,s)).then(rt=>{Or(U.error,rt.error);var Tt=pr(n,et,rt);return Or(G,Tt),U})}return U})},query(o){return t.lockedRun(()=>r.query(o))},count(o){return t.lockedRun(()=>r.count(o))},findDocumentsById(o,s){return t.lockedRun(()=>r.findDocumentsById(o,s))},getAttachmentData(o,s,l){return t.lockedRun(()=>r.getAttachmentData(o,s,l))},getChangedDocumentsSince:r.getChangedDocumentsSince?(o,s)=>t.lockedRun(()=>r.getChangedDocumentsSince(Dt(o),s)):void 0,cleanup(o){return t.lockedRun(()=>r.cleanup(o))},remove(){return t.storageInstances.delete(i),t.lockedRun(()=>r.remove())},close(){return t.storageInstances.delete(i),t.lockedRun(()=>r.close())},changeStream(){return r.changeStream()},conflictResultionTasks(){return r.conflictResultionTasks()},resolveConflictResultionTask(o){if(o.output.isEqual)return r.resolveConflictResultionTask(o);var s=Object.assign({},o.output.documentData,{_meta:Un(),_rev:un(),_attachments:{}}),l=It(s);return delete l._meta,delete l._rev,delete l._attachments,r.resolveConflictResultionTask({id:o.id,output:{isEqual:!1,documentData:l}})}};return t.storageInstances.add(i),i}function Gb(t){if(t.schema.keyCompression)throw L("UT5",{args:{params:t}});if(GS(t.schema))throw L("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw L("UT7",{args:{params:t}})}function GS(t){return!!(t.encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)}function pr(t,r,e){var n=Kb.get(e);if(n)return n;var i=[];if(e.error.length>0){for(var o=new Set,s=0;s<e.error.length;s++){var l=e.error[s];o.add(l.documentId)}for(var d=0;d<r.length;d++){var p=r[d].document;o.has(p[t])||i.push(Xr(p))}}else{i.length=r.length-e.error.length;for(var m=0;m<r.length;m++){var y=r[m].document;i[m]=Xr(y)}}return i}var Yb=(function(){function t(e,n,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=e,this.primaryPath=n,this.preWrite=i,this.postWrite=o}var r=t.prototype;return r.addWrite=function(n,i){var o=n[this.primaryPath],s=Xe(this.queueByDocId,o,()=>[]),l=new Promise((d,p)=>{var m={lastKnownDocumentState:n,modifier:i,resolve:d,reject:p};Dt(s).push(m),this.triggerRun()});return l},r.triggerRun=function(){return j(this,null,function*(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var n=[],i=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(i.entries()).map(d=>j(this,[d],function*([s,l]){var p=YS(l.map(x=>x.lastKnownDocumentState)),m=p;for(var y of l)try{m=yield y.modifier(fr(m))}catch(x){y.reject(x),y.reject=()=>{},y.resolve=()=>{}}try{yield this.preWrite(m,p)}catch(x){l.forEach(O=>O.reject(x));return}n.push({previous:p,document:m})})));var o=n.length>0?yield this.storageInstance.bulkWrite(n,"incremental-write"):{error:[]};return yield Promise.all(pr(this.primaryPath,n,o).map(s=>{var l=s[this.primaryPath];this.postWrite(s);var d=Hn(i,l);d.forEach(p=>p.resolve(s))})),o.error.forEach(s=>{var l=s.documentId,d=Hn(i,l),p=el(s);if(p){var m=Xe(this.queueByDocId,l,()=>[]);d.reverse().forEach(x=>{x.lastKnownDocumentState=Dt(p.documentInDb),Dt(m).unshift(x)})}else{var y=by(s);d.forEach(x=>x.reject(y))}}),this.isRunning=!1,this.triggerRun()}})},t})();function Eh(t){var r=e=>j(null,null,function*(){var n=ry(e);n._deleted=e._deleted;var i=yield t(n),o=Object.assign({},i,{_meta:e._meta,_attachments:e._attachments,_rev:e._rev,_deleted:typeof i._deleted<"u"?i._deleted:e._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o});return r}function YS(t){var r=t[0],e=ki(r._rev);return t.forEach(n=>{var i=ki(n._rev);i>e&&(r=n,e=i)}),r}var Zn={get primaryPath(){var t=this;if(t.isInstanceOfRxDocument)return t.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){var t=this;if(t.isInstanceOfRxDocument)return t._data._rev},get deleted$(){var t=this;if(t.isInstanceOfRxDocument)return t.$.pipe(bt(r=>r._data._deleted))},get deleted$$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.deleted$,t.getLatest().deleted,t.collection.database)},get deleted(){var t=this;if(t.isInstanceOfRxDocument)return t._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){var t=this;return t.collection.$.pipe(yt(r=>!r.isLocal),yt(r=>r.documentId===this.primary),bt(r=>Ey(r)),qe(t.collection._docCache.getLatestDocumentData(this.primary)),An((r,e)=>r._rev===e._rev),bt(r=>this.collection._docCache.getCachedRxDocument(r)),sa(Zc))},get $$(){var t=this,r=t.collection.database.getReactivityFactory();return r.fromObservable(t.$,t.getLatest()._data,t.collection.database)},get$(t){if(Pt.isDevMode()){if(t.includes(".item."))throw L("DOC1",{path:t});if(t===this.primaryPath)throw L("DOC2");if(this.collection.schema.finalFields.includes(t))throw L("DOC3",{path:t});var r=$e(this.collection.schema.jsonSchema,t);if(!r)throw L("DOC4",{path:t})}return this.$.pipe(bt(e=>Be(e,t)),An())},get$$(t){var r=this.get$(t),e=this.collection.database.getReactivityFactory();return e.fromObservable(r,this.getLatest().get(t),this.collection.database)},populate(t){var r=$e(this.collection.schema.jsonSchema,t),e=this.get(t);if(!e)return cy;if(!r)throw L("DOC5",{path:t});if(!r.ref)throw L("DOC6",{path:t,schemaObj:r});var n=this.collection.database.collections[r.ref];if(!n)throw L("DOC7",{ref:r.ref,path:t,schemaObj:r});return r.type==="array"?n.findByIds(e).exec().then(i=>{var o=i.values();return Array.from(o)}):n.findOne(e).exec()},get(t){return Xb(this,t)},toJSON(t=!1){if(t)return Pt.deepFreezeWhenDevMode(this._data);var r=It(this._data);return delete r._rev,delete r._attachments,delete r._deleted,delete r._meta,Pt.deepFreezeWhenDevMode(r)},toMutableJSON(t=!1){return fr(this.toJSON(t))},update(t){throw Ot("update")},incrementalUpdate(t){throw Ot("update")},updateCRDT(t){throw Ot("crdt")},putAttachment(){throw Ot("attachments")},getAttachment(){throw Ot("attachments")},allAttachments(){throw Ot("attachments")},get allAttachments$(){throw Ot("attachments")},modify(t,r){return j(this,null,function*(){var e=this._data,n=yield Eh(t)(e);return this._saveData(n,e)})},incrementalModify(t,r){return this.collection.incrementalWriteQueue.addWrite(this._data,Eh(t)).then(e=>this.collection._docCache.getCachedRxDocument(e))},patch(t){var r=this._data,e=fr(r);return Object.entries(t).forEach(([n,i])=>{e[n]=i}),this._saveData(e,r)},incrementalPatch(t){return this.incrementalModify(r=>(Object.entries(t).forEach(([e,n])=>{r[e]=n}),r))},_saveData(t,r){return j(this,null,function*(){if(t=It(t),this._data._deleted)throw L("DOC11",{id:this.primary,document:this});yield Sh(this.collection,t,r);var e=[{previous:r,document:t}],n=yield this.collection.storageInstance.bulkWrite(e,"rx-document-save-data"),i=n.error[0];return Po(this.collection,this.primary,t,i),yield this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument(pr(this.collection.schema.primaryPath,e,n)[0])})},remove(){var t=this.collection;if(this.deleted)return Promise.reject(L("DOC13",{document:this,id:this.primary}));var r=It(this._data),e;return t._runHooks("pre","remove",r,this).then(()=>j(this,null,function*(){r._deleted=!0;var n=[{previous:this._data,document:r}],i=yield t.storageInstance.bulkWrite(n,"rx-document-remove"),o=i.error[0];return Po(t,this.primary,r,o),pr(this.collection.schema.primaryPath,n,i)[0]})).then(n=>(e=n,this.collection._runHooks("post","remove",r,this))).then(()=>this.collection._docCache.getCachedRxDocument(e))},incrementalRemove(){return this.incrementalModify(t=>j(this,null,function*(){return yield this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t})).then(t=>j(this,null,function*(){return yield this.collection._runHooks("post","remove",t._data,t),t}))},destroy(){throw L("DOC14")}};function Vl(t=Zn){var r=function(n,i){this.collection=n,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return r.prototype=t,r}function Qb(t,r,e){var n=new t(r,e);return ne("createRxDocument",n),n}function Sh(t,r,e){return r._meta=Object.assign({},e._meta,r._meta),Pt.isDevMode()&&t.schema.validateChange(e,r),t._runHooks("pre","save",r,e)}function Xb(t,r){return Xe(t._propertyCache,r,()=>{var e=Be(t._data,r);if(typeof e!="object"||e===null||Array.isArray(e))return Pt.deepFreezeWhenDevMode(e);var n=new Proxy(It(e),{get(i,o){if(typeof o!="string")return i[o];var s=o.charAt(o.length-1);if(s==="$")if(o.endsWith("$$")){var l=o.slice(0,-2);return t.get$$(Dr(r+"."+l))}else{var d=o.slice(0,-1);return t.get$(Dr(r+"."+d))}else if(s==="_"){var p=o.slice(0,-1);return t.populate(Dr(r+"."+p))}else{var m=i[o];return typeof m=="number"||typeof m=="string"||typeof m=="boolean"?m:Xb(t,Dr(r+"."+o))}}});return n})}var No="collection",Rh="storage-token",QS="rx-migration-status",XS="RxInternalDocument",ql=nl({version:0,title:XS,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[No,Rh,QS,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Hl(t,r){return Ua(ql,{key:t,context:r})}function Wl(t){return j(this,null,function*(){var r=Ja(t.schema,{selector:{context:No,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),e=yield t.query(r),n=e.documents;return n})}var Zb="storageToken",ZS=Hl(Zb,Rh);function Jb(t){return j(this,null,function*(){var r=Ti(10),e=t.password?yield t.hashFunction(JSON.stringify(t.password)):void 0,n={id:ZS,context:Rh,key:Zb,data:{rxdbVersion:t.rxdbVersion,token:r,instanceToken:t.token,passwordHash:e},_deleted:!1,_meta:Un(),_rev:un(),_attachments:{}},i=[{document:n}],o=yield t.internalStore.bulkWrite(i,"internal-add-storage-token");if(!o.error[0])return pr("id",i,o)[0];var s=Dt(o.error[0]);if(s.isError&&el(s)){var l=s;if(!JS(l.documentInDb.data.rxdbVersion,t.rxdbVersion))throw L("DM5",{args:{database:t.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(e&&e!==l.documentInDb.data.passwordHash)throw L("DB1",{passwordHash:e,existingPasswordHash:l.documentInDb.data.passwordHash});var d=l.documentInDb;return Dt(d)}throw s})}function JS(t,r){if(!t||r.includes("beta")&&r!==t)return!1;var e=t.split(".")[0],n=r.split(".")[0];return e===n}function Oh(t,r){return t+"-"+r.version}function ts(t,r){return r=It(r),r=wy(t,r),typeof t.jsonSchema.primaryKey!="string"&&(r=rl(t.primaryPath,t.jsonSchema,r)),r._meta=Un(),Object.prototype.hasOwnProperty.call(r,"_deleted")||(r._deleted=!1),Object.prototype.hasOwnProperty.call(r,"_attachments")||(r._attachments={}),Object.prototype.hasOwnProperty.call(r,"_rev")||(r._rev=un()),r}function t_(t,r){return j(this,null,function*(){r.multiInstance=t.multiInstance;var e=yield t.storage.createStorageInstance(r);return e})}function Kl(t,r,e,n,i,o,s){return j(this,null,function*(){var l=yield Wl(r),d=l.filter(x=>x.data.name===i),p=[];d.forEach(x=>{p.push({collectionName:x.data.name,schema:x.data.schema,isCollection:!0}),x.data.connectedStorages.forEach(O=>p.push({collectionName:O.collectionName,isCollection:!1,schema:O.schema}))});var m=new Set;if(p=p.filter(x=>{var O=x.collectionName+"||"+x.schema.version;return m.has(O)?!1:(m.add(O),!0)}),yield Promise.all(p.map(x=>j(null,null,function*(){var O=yield t.createStorageInstance({collectionName:x.collectionName,databaseInstanceToken:e,databaseName:n,multiInstance:!1,options:{},schema:x.schema,password:o,devMode:Pt.isDevMode()});yield O.remove(),x.isCollection&&(yield Gn("postRemoveRxCollection",{storage:t,databaseName:n,collectionName:i}))}))),s){var y=d.map(x=>{var O=Bi(x);return O._deleted=!0,O._meta.lwt=se(),O._rev=bo(e,x),{previous:x,document:O}});yield r.bulkWrite(y,"rx-database-remove-collection-all")}})}function er(t){if(t.destroyed)throw L("COL21",{collection:t.name,version:t.schema.version})}var tR=(function(){function t(e){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=e,this.subs.push(this.collection.database.eventBulks$.pipe(yt(n=>n.collectionName===this.collection.name),yt(n=>{var i=n.events[0];return!i.isLocal})).subscribe(n=>{this.tasks.add(()=>this._handleChangeEvents(n.events)),this.tasks.size<=1&&Co().then(()=>{this.processTasks()})}))}var r=t.prototype;return r.processTasks=function(){if(this.tasks.size!==0){var n=Array.from(this.tasks);n.forEach(i=>i()),this.tasks.clear()}},r._handleChangeEvents=function(n){var i=this.counter;this.counter=this.counter+n.length,n.length>this.limit?this.buffer=n.slice(n.length*-1):(Or(this.buffer,n),this.buffer=this.buffer.slice(this.limit*-1));for(var o=i+1,s=this.eventCounterMap,l=0;l<n.length;l++){var d=n[l];s.set(d,o+l)}},r.getCounter=function(){return this.processTasks(),this.counter},r.getBuffer=function(){return this.processTasks(),this.buffer},r.getArrayIndexByPointer=function(n){this.processTasks();var i=this.buffer[0],o=this.eventCounterMap.get(i);if(n<o)return null;var s=n-o;return s},r.getFrom=function(n){this.processTasks();var i=[],o=this.getArrayIndexByPointer(n);if(o===null)return null;for(;;){var s=this.buffer[o];if(o++,s)i.push(s);else return i}},r.runFrom=function(n,i){this.processTasks();var o=this.getFrom(n);if(o===null)throw new Error("out of bounds");o.forEach(s=>i(s))},r.reduceByLastOfDoc=function(n){return this.processTasks(),n.slice(0);var i={};return n.forEach(o=>{i[o.documentId]=o}),Object.values(i)},r.destroy=function(){this.tasks.clear(),this.subs.forEach(n=>n.unsubscribe())},t})();function e_(t){return new tR(t)}var eR=new WeakMap;function rR(t){var r=t.schema.getDocumentPrototype(),e=nR(t),n=Zn,i={};return[r,e,n].forEach(o=>{var s=Object.getOwnPropertyNames(o);s.forEach(l=>{var d=Object.getOwnPropertyDescriptor(o,l),p=!0;(l.startsWith("_")||l.endsWith("_")||l.startsWith("$")||l.endsWith("$"))&&(p=!1),typeof d.value=="function"?Object.defineProperty(i,l,{get(){return d.value.bind(this)},enumerable:p,configurable:!1}):(d.enumerable=p,d.configurable=!1,d.writable&&(d.writable=!1),Object.defineProperty(i,l,d))})}),i}function r_(t){return Xe(eR,t,()=>Vl(rR(t)))}function n_(t,r,e){var n=Qb(r,t,Pt.deepFreezeWhenDevMode(e));return t._runHooksSync("post","create",e,n),ne("postCreateRxDocument",n),n}function nR(t){var r={};return Object.entries(t.methods).forEach(([e,n])=>{r[e]=n}),r}var Dh=function(t,r){var e=Xr(t.newDocumentState),n=Xr(t.realMasterState);return qn(e,n)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:t.realMasterState})};function Gl(t){var r=t.collection.schema.jsonSchema;if(!r.attachments)throw L("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function i_(t){Object.entries(t.doc.collection.attachments).forEach(([r,e])=>{Object.defineProperty(t,r,{get:()=>e.bind(t)})})}var iR=(function(){function t({doc:e,id:n,type:i,length:o,digest:s}){this.doc=e,this.id=n,this.type=i,this.length=o,this.digest=s,i_(this)}var r=t.prototype;return r.remove=function(){return this.doc.collection.incrementalWriteQueue.addWrite(this.doc._data,n=>(delete n._attachments[this.id],n)).then(()=>{})},r.getData=function(){return j(this,null,function*(){var n=yield this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id,this.digest),i=yield Qv(n,this.type);return i})},r.getStringData=function(){return j(this,null,function*(){var n=yield this.getData(),i=yield Xv(n);return i})},t})();function Yl(t,r,e){return new iR({doc:e,id:t,type:r.type,length:r.length,digest:r.digest})}function oR(t){return j(this,null,function*(){Gl(this);var r=Jv(t.data),e=yield Zv(t.data),n=yield this.collection.database.hashFunction(e),i=t.id,o=t.type,s=e;return this.collection.incrementalWriteQueue.addWrite(this._data,l=>(l=It(l),l._attachments=It(l._attachments),l._attachments[i]={length:r,type:o,data:s,digest:n},l)).then(l=>{var d=this.collection._docCache.getCachedRxDocument(l),p=l._attachments[i],m=Yl(i,p,d);return m})})}function aR(t){Gl(this);var r=this._data;if(!r._attachments||!r._attachments[t])return null;var e=r._attachments[t],n=Yl(t,e,this);return n}function sR(){Gl(this);var t=this._data;return t._attachments?Object.keys(t._attachments).map(r=>Yl(r,t._attachments[r],this)):[]}function cR(t){return j(this,null,function*(){var r=t.docData._attachments;if(r){var e={};yield Promise.all(Object.keys(r).map(n=>j(null,null,function*(){var i=r[n],o=t.docData[t.oldCollection.schema.primaryPath],s=yield t.oldCollection.storageInstance.getAttachmentData(o,n,i.digest),l=yield t.oldCollection.database.hashFunction(s);e[n]={length:i.length,type:i.type,data:s,digest:l}}))),t.docData._attachments=e}})}function lR(t){return Vn}var o_={name:"attachments",rxdb:!0,prototypes:{RxDocument:t=>{t.putAttachment=oR,t.getAttachment=aR,t.allAttachments=sR,Object.defineProperty(t,"allAttachments$",{get:function(){return this.$.pipe(bt(e=>Object.entries(e.toJSON(!0)._attachments)),bt(e=>e.map(([n,i])=>Yl(n,i,this))))}})}},overwritable:{},hooks:{preMigrateDocument:{after:cR},postMigrateDocument:{after:lR}}};var s_=["pre","post"],c_=["insert","save","remove","create"],a_=!1,es=(function(){function t(e,n,i,o,s={},l={},d={},p={},m={},y=bh,x={},O=Dh){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=$b(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=e,this.name=n,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=s,this.migrationStrategies=l,this.methods=d,this.attachments=p,this.options=m,this.cacheReplacementPolicy=y,this.statics=x,this.conflictHandler=O,uR(this.asRxCollection)}var r=t.prototype;return r.prepare=function(){return j(this,null,function*(){this.storageInstance=zl(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Yb(this.storageInstance,this.schema.primaryPath,(d,p)=>Sh(this,d,p),d=>this._runHooks("post","save",d));var n=this.database.eventBulks$.pipe(yt(d=>d.collectionName===this.name));this.$=n.pipe(he(d=>d.events)),this.checkpoint$=n.pipe(bt(d=>d.checkpoint)),this._changeEventBuffer=e_(this.asRxCollection);var i;this._docCache=new zb(this.schema.primaryPath,this.database.eventBulks$.pipe(yt(d=>d.collectionName===this.name&&!d.events[0].isLocal),bt(d=>d.events)),d=>(i||(i=r_(this.asRxCollection)),n_(this.asRxCollection,i,d)));var o=this.database.internalStore.changeStream().pipe(yt(d=>{var p=this.name+"-"+this.schema.version,m=d.events.find(y=>y.documentData.context==="collection"&&y.documentData.key===p&&y.operation==="DELETE");return!!m})).subscribe(()=>j(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(d=>d()))}));this._subs.push(o);var s=yield this.database.storageToken,l=this.storageInstance.changeStream().subscribe(d=>{for(var p=new Array(d.events.length),m=d.events,y=this.name,x=Pt.deepFreezeWhenDevMode,O=0;O<m.length;O++){var N=m[O];p[O]={documentId:N.documentId,collectionName:y,isLocal:!1,operation:N.operation,documentData:x(N.documentData),previousDocumentData:x(N.previousDocumentData)}}var U={id:d.id,internal:!1,collectionName:this.name,storageToken:s,events:p,databaseToken:this.database.token,checkpoint:d.checkpoint,context:d.context,endTime:d.endTime,startTime:d.startTime};this.database.$emit(U)});return this._subs.push(l),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(d=>{this.conflictHandler(d.input,d.context).then(p=>{this.storageInstance.resolveConflictResultionTask({id:d.id,output:p})})})),Vn})},r.cleanup=function(n){throw er(this),Ot("cleanup")},r.migrationNeeded=function(){throw Ot("migration-schema")},r.getMigrationState=function(){throw Ot("migration-schema")},r.startMigration=function(n=10){return er(this),this.getMigrationState().startMigration(n)},r.migratePromise=function(n=10){return this.getMigrationState().migratePromise(n)},r.insert=function(n){return j(this,null,function*(){er(this);var i=yield this.bulkInsert([n]),o=i.error[0];Po(this,n[this.schema.primaryPath],n,o);var s=Dt(i.success[0]);return s})},r.bulkInsert=function(n){return j(this,null,function*(){if(er(this),n.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=new Set,s;if(this.hasHooks("pre","insert"))s=yield Promise.all(n.map(G=>{var tt=ts(this.schema,G);return this._runHooks("pre","insert",tt).then(()=>(o.add(tt[i]),{document:tt}))}));else{s=new Array(n.length);for(var l=this.schema,d=0;d<n.length;d++){var p=n[d],m=ts(l,p);o.add(m[i]),s[d]={document:m}}}if(o.size!==n.length)throw L("COL22",{collection:this.name,args:{documents:n}});var y=yield this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),x,O=this,N={get success(){if(!x){var G=pr(O.schema.primaryPath,s,y);x=Ul(O._docCache,G)}return x},error:y.error};if(this.hasHooks("post","insert")){var U=new Map;s.forEach(G=>{var tt=G.document;U.set(tt[i],tt)}),yield Promise.all(N.success.map(G=>this._runHooks("post","insert",U.get(G.primary),G)))}return N})},r.bulkRemove=function(n){return j(this,null,function*(){er(this);var i=this.schema.primaryPath;if(n.length===0)return{success:[],error:[]};var o=yield this.findByIds(n).exec(),s=[],l=new Map;Array.from(o.values()).forEach(O=>{var N=O.toMutableJSON(!0);s.push(N),l.set(O.primary,N)}),yield Promise.all(s.map(O=>{var N=O[this.schema.primaryPath];return this._runHooks("pre","remove",O,o.get(N))}));var d=s.map(O=>{var N=It(O);return N._deleted=!0,{previous:O,document:N}}),p=yield this.storageInstance.bulkWrite(d,"rx-collection-bulk-remove"),m=pr(this.schema.primaryPath,d,p),y=m.map(O=>O[i]);yield Promise.all(y.map(O=>this._runHooks("post","remove",l.get(O),o.get(O))));var x=y.map(O=>Hn(o,O));return{success:x,error:p.error}})},r.bulkUpsert=function(n){return j(this,null,function*(){er(this);var i=[],o=new Map;n.forEach(p=>{var m=ts(this.schema,p),y=m[this.schema.primaryPath];if(!y)throw L("COL3",{primaryPath:this.schema.primaryPath,data:m,schema:this.schema.jsonSchema});o.set(y,m),i.push(m)});var s=yield this.bulkInsert(i),l=s.success.slice(0),d=[];return yield Promise.all(s.error.map(p=>j(this,null,function*(){if(p.status!==409)d.push(p);else{var m=p.documentId,y=Hn(o,m),x=Dt(p.documentInDb),O=this._docCache.getCachedRxDocuments([x])[0],N=yield O.incrementalModify(()=>y);l.push(N)}}))),{error:d,success:l}})},r.upsert=function(n){return j(this,null,function*(){er(this);var i=yield this.bulkUpsert([n]);return Po(this.asRxCollection,n[this.schema.primaryPath],n,i.error[0]),i.success[0]})},r.incrementalUpsert=function(n){er(this);var i=ts(this.schema,n),o=i[this.schema.primaryPath];if(!o)throw L("COL4",{data:n});var s=this._incrementalUpsertQueues.get(o);return s||(s=Vn),s=s.then(()=>fR(this,o,i)).then(l=>l.inserted?l.doc:dR(l.doc,i)),this._incrementalUpsertQueues.set(o,s),s},r.find=function(n){if(er(this),typeof n=="string")throw L("COL5",{queryObj:n});n||(n=Za());var i=Mo("find",n,this);return i},r.findOne=function(n){if(er(this),typeof n=="number"||Array.isArray(n))throw pe("COL6",{queryObj:n});var i;if(typeof n=="string")i=Mo("findOne",{selector:{[this.schema.primaryPath]:n},limit:1},this);else{if(n||(n=Za()),n.limit)throw L("QU6");n=It(n),n.limit=1,i=Mo("findOne",n,this)}return i},r.count=function(n){er(this),n||(n=Za());var i=Mo("count",n,this);return i},r.findByIds=function(n){er(this);var i={selector:{[this.schema.primaryPath]:{$in:n.slice(0)}}},o=Mo("findByIds",i,this);return o},r.exportJSON=function(){throw Ot("json-dump")},r.importJSON=function(n){throw Ot("json-dump")},r.insertCRDT=function(n){throw Ot("crdt")},r.addPipeline=function(n){throw Ot("pipeline")},r.addHook=function(n,i,o,s=!1){if(typeof o!="function")throw pe("COL7",{key:i,when:n});if(!s_.includes(n))throw pe("COL8",{key:i,when:n});if(!c_.includes(i))throw L("COL9",{key:i});if(n==="post"&&i==="create"&&s===!0)throw L("COL10",{when:n,key:i,parallel:s});var l=o.bind(this),d=s?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][d].push(l)},r.getHooks=function(n,i){return!this.hooks[i]||!this.hooks[i][n]?{series:[],parallel:[]}:this.hooks[i][n]},r.hasHooks=function(n,i){if(!this.hooks[i]||!this.hooks[i][n])return!1;var o=this.getHooks(n,i);return o?o.series.length>0||o.parallel.length>0:!1},r._runHooks=function(n,i,o,s){var l=this.getHooks(n,i);if(!l)return Vn;var d=l.series.map(p=>()=>p(o,s));return uy(d).then(()=>Promise.all(l.parallel.map(p=>p(o,s))))},r._runHooksSync=function(n,i,o,s){if(this.hasHooks(n,i)){var l=this.getHooks(n,i);l&&l.series.forEach(d=>d(o,s))}},r.promiseWait=function(n){var i=new Promise(o=>{var s=setTimeout(()=>{this.timeouts.delete(s),o()},n);this.timeouts.add(s)});return i},r.destroy=function(){return j(this,null,function*(){return this.destroyed?Kr:(yield Promise.all(this.onDestroy.map(n=>n())),this.destroyed=!0,Array.from(this.timeouts).forEach(n=>clearTimeout(n)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(n=>n.unsubscribe()),delete this.database.collections[this.name],Gn("postDestroyRxCollection",this).then(()=>!0))))})},r.remove=function(){return j(this,null,function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(n=>n())),yield Kl(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)})},Ae(t,[{key:"insert$",get:function(){return this.$.pipe(yt(e=>e.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(yt(e=>e.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(yt(e=>e.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])})();function uR(t){if(!a_){a_=!0;var r=Object.getPrototypeOf(t);c_.forEach(e=>{s_.map(n=>{var i=n+Xc(e);r[i]=function(o,s){return this.addHook(n,e,o,s)}})})}}function dR(t,r){return t.incrementalModify(e=>r)}function fR(t,r,e){var n=t._docCache.getLatestDocumentDataIfExists(r);return n?Promise.resolve({doc:t._docCache.getCachedRxDocuments([n])[0],inserted:!1}):t.findOne(r).exec().then(i=>i?{doc:i,inserted:!1}:t.insert(e).then(o=>({doc:o,inserted:!0})))}function l_({database:t,name:r,schema:e,instanceCreationOptions:n={},migrationStrategies:i={},autoMigrate:o=!0,statics:s={},methods:l={},attachments:d={},options:p={},localDocuments:m=!1,cacheReplacementPolicy:y=bh,conflictHandler:x=Dh}){var O={databaseInstanceToken:t.token,databaseName:t.name,collectionName:r,schema:e.jsonSchema,options:n,multiInstance:t.multiInstance,password:t.password,devMode:Pt.isDevMode()};return ne("preCreateRxStorageInstance",O),t_(t,O).then(N=>{var U=new es(t,r,e,N,n,i,l,d,p,y,s,x);return U.prepare().then(()=>{Object.entries(s).forEach(([tt,et])=>{Object.defineProperty(U,tt,{get:()=>et.bind(U)})});var G=Vn;return o&&U.schema.version!==0&&(G=U.migratePromise()),G}).then(()=>(ne("createRxCollection",{collection:U,creator:{name:r,schema:e,storageInstance:N,instanceCreationOptions:n,migrationStrategies:i,methods:l,attachments:d,options:p,cacheReplacementPolicy:y,localDocuments:m,statics:s}}),U)).catch(G=>N.close().then(()=>Promise.reject(G)))})}var Ih=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=r||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Ih.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,kh(this)},wrapCall:function(r){var e=this;this.lock();var n;try{n=r()}catch(i){throw this.unlock(),i}return!n.then||typeof n.then!="function"?(this.unlock(),n):n.then(function(i){return e.unlock(),i}).catch(function(i){throw e.unlock(),i})},requestIdlePromise:function(r){var e=this;r=r||{};var n,i=new Promise(function(l){return n=l}),o=function(){Ah(e,i),n()};if(i._manRes=o,r.timeout){var s=setTimeout(function(){i._manRes()},r.timeout);i._timeoutObj=s}return this._iC.add(i),kh(this),i},cancelIdlePromise:function(r){Ah(this,r)},requestIdleCallback:function(r,e){var n=this._lHN++,i=this.requestIdlePromise(e);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return r()}),n},cancelIdleCallback:function(r){var e=this._hPM.get(r);this.cancelIdlePromise(e)},clear:function(){var r=this;this._iC.forEach(function(e){return Ah(r,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function hR(t){if(t._iC.size!==0){var r=t._iC.values(),e=r.next().value;e._manRes(),setTimeout(function(){return kh(t)},0)}}function Ah(t,r){if(r){if(r._timeoutObj&&clearTimeout(r._timeoutObj),t._pHM.has(r)){var e=t._pHM.get(r);t._hPM.delete(e),t._pHM.delete(r)}t._iC.delete(r)}}function kh(t){t._tryIR||t._iC.size===0||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}hR(t),t._tryIR=!1},0)},0))}var Jn=class{ttl;map=new Map;_to=!1;constructor(r){this.ttl=r}has(r){return this.map.has(r)}add(r){this.map.set(r,u_()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,pR(this)},0))}clear(){this.map.clear()}};function pR(t){let r=u_()-t.ttl,e=t.map[Symbol.iterator]();for(;;){let n=e.next().value;if(!n)return;let i=n[0];if(n[1]<r)t.map.delete(i);else return}}function u_(){return Date.now()}var Ql=new Set,d_=0,rs=(function(){function t(e,n,i,o,s,l,d=!1,p={},m,y,x,O,N){this.idleQueue=new Ih,this.rxdbVersion=Mi,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new it,this.observable$=this.eventBulks$.pipe(he(U=>U.events)),this.storageToken=Kr,this.storageTokenDocument=Kr,this.emittedEventBulkIds=new Jn(60*1e3),this.name=e,this.token=n,this.storage=i,this.instanceCreationOptions=o,this.password=s,this.multiInstance=l,this.eventReduce=d,this.options=p,this.internalStore=m,this.hashFunction=y,this.cleanupPolicy=x,this.allowSlowCount=O,this.reactivity=N,d_++,this.name!=="pseudoInstance"&&(this.internalStore=zl(this.asRxDatabase,m,ql),this.storageTokenDocument=Jb(this.asRxDatabase).catch(U=>this.startupErrors.push(U)),this.storageToken=this.storageTokenDocument.then(U=>U.data.token).catch(U=>this.startupErrors.push(U)))}var r=t.prototype;return r.getReactivityFactory=function(){if(!this.reactivity)throw L("DB14",{database:this.name});return this.reactivity},r.$emit=function(n){this.emittedEventBulkIds.has(n.id)||(this.emittedEventBulkIds.add(n.id),this.eventBulks$.next(n))},r.removeCollectionDoc=function(n,i){return j(this,null,function*(){var o=yield Ch(this.internalStore,Hl(Oh(n,i),No));if(!o)throw L("SNH",{name:n,schema:i});var s=Bi(o);s._deleted=!0,yield this.internalStore.bulkWrite([{document:s,previous:o}],"rx-database-remove-collection")})},r.addCollections=function(n){return j(this,null,function*(){var i={},o={},s=[],l={};yield Promise.all(Object.entries(n).map(x=>j(this,[x],function*([m,y]){var O=m,N=y.schema;i[O]=N;var U=Cy(N,this.hashFunction);if(o[O]=U,this.collections[m])throw L("DB3",{name:m});var G=Oh(m,N),tt={id:Hl(G,No),key:G,context:No,data:{name:O,schemaHash:yield U.hash,schema:U.jsonSchema,version:U.version,connectedStorages:[]},_deleted:!1,_meta:Un(),_rev:un(),_attachments:{}};s.push({document:tt});var et=Object.assign({},y,{name:O,schema:U,database:this}),rt=It(y);rt.database=this,rt.name=m,ne("preCreateRxCollection",rt),et.conflictHandler=rt.conflictHandler,l[O]=et})));var d=yield this.internalStore.bulkWrite(s,"rx-database-add-collection");yield vR(this),yield Promise.all(d.error.map(m=>j(this,null,function*(){if(m.status!==409)throw L("DB12",{database:this.name,writeError:m});var y=Dt(m.documentInDb),x=y.data.name,O=o[x];if(y.data.schemaHash!==(yield O.hash))throw L("DB6",{database:this.name,collection:x,previousSchemaHash:y.data.schemaHash,schemaHash:yield O.hash,previousSchema:y.data.schema,schema:Dt(i[x])})})));var p={};return yield Promise.all(Object.keys(n).map(m=>j(this,null,function*(){var y=l[m],x=yield l_(y);p[m]=x,this.collections[m]=x,this[m]||Object.defineProperty(this,m,{get:()=>this.collections[m]})}))),p})},r.lockedRun=function(n){return this.idleQueue.wrapCall(n)},r.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},r.exportJSON=function(n){throw Ot("json-dump")},r.addState=function(n){throw Ot("state")},r.importJSON=function(n){throw Ot("json-dump")},r.backup=function(n){throw Ot("backup")},r.leaderElector=function(){throw Ot("leader-election")},r.isLeader=function(){throw Ot("leader-election")},r.waitForLeadership=function(){throw Ot("leader-election")},r.migrationStates=function(){throw Ot("migration-schema")},r.destroy=function(){return j(this,null,function*(){return this.destroyed?Kr:(this.destroyed=!0,yield Gn("preDestroyRxDatabase",this),this.eventBulks$.complete(),d_--,this._subs.map(n=>n.unsubscribe()),this.name==="pseudoInstance"?Kr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(n=>n()))).then(()=>Promise.all(Object.keys(this.collections).map(n=>this.collections[n]).map(n=>n.destroy()))).then(()=>this.internalStore.close()).then(()=>Ql.delete(this.storage.name+"|"+this.name)).then(()=>!0))})},r.remove=function(){return this.destroy().then(()=>gR(this.name,this.storage,this.password))},Ae(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])})();function mR(t,r){var e=r.name+"|"+t;if(Ql.has(e))throw L("DB8",{name:t,storage:r.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function f_(t,r,e,n,i,o){return j(this,null,function*(){var s=yield r.createStorageInstance({databaseInstanceToken:t,databaseName:e,collectionName:Hb,schema:ql,options:n,multiInstance:i,password:o,devMode:Pt.isDevMode()});return s})}function h_({storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:s=!1,options:l={},cleanupPolicy:d,allowSlowCount:p=!1,localDocuments:m=!1,hashFunction:y=xo,reactivity:x}){ne("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:s,options:l,localDocuments:m}),s||mR(e,t),Ql.add(t.name+"|"+e);var O=Ti(10);return f_(O,t,e,r,i,n).catch(N=>{throw Ql.delete(t.name+"|"+e),N}).then(N=>{var U=new rs(e,O,t,r,n,i,o,l,N,y,d,p,x);return Gn("createRxDatabase",{database:U,creator:{storage:t,instanceCreationOptions:r,name:e,password:n,multiInstance:i,eventReduce:o,ignoreDuplicate:s,options:l,localDocuments:m}}).then(()=>U)})}function gR(t,r,e){return j(this,null,function*(){var n=Ti(10),i=yield f_(n,r,t,{},!1,e),o=yield Wl(i),s=new Set;o.forEach(d=>s.add(d.data.name));var l=Array.from(s);return yield Promise.all(l.map(d=>Kl(r,i,n,t,d,e))),yield Gn("postRemoveRxDatabase",{databaseName:t,storage:r}),yield i.remove(),l})}function vR(t){return j(this,null,function*(){if(yield t.storageToken,t.startupErrors[0])throw t.startupErrors[0]})}var yR={RxSchema:Ff.prototype,RxDocument:Zn,RxQuery:wh.prototype,RxCollection:es.prototype,RxDatabase:rs.prototype},Th=new Set,p_=new Set;function Xl(t){if(ne("preAddRxPlugin",{plugin:t,plugins:Th}),!Th.has(t)){{if(p_.has(t.name))throw L("PL3",{name:t.name,plugin:t});Th.add(t),p_.add(t.name)}if(!t.rxdb)throw pe("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([r,e])=>e(yR[r])),t.overwritable&&Object.assign(Pt,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([r,e])=>{e.after&&Eo[r].push(e.after),e.before&&Eo[r].unshift(e.before)})}}function m_(t){return t&&typeof t.then=="function"}var bR=Promise.resolve(!1),d9=Promise.resolve(!0),Zr=Promise.resolve();function Zl(t,r){return t||(t=0),new Promise(function(e){return setTimeout(function(){return e(r)},t)})}function g_(t,r){return Math.floor(Math.random()*(r-t+1)+t)}function ns(){return Math.random().toString(36).substring(2)}var Mh=0;function pn(){var t=Date.now()*1e3;return t<=Mh&&(t=Mh+1),Mh=t,t}var _R=pn,wR="native";function xR(t){var r={time:pn(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return r.bc.onmessage=function(e){r.messagesCallback&&r.messagesCallback(e.data)},r}function CR(t){t.bc.close(),t.subFns=[]}function ER(t,r){try{return t.bc.postMessage(r,!1),Zr}catch(e){return Promise.reject(e)}}function SR(t,r){t.messagesCallback=r}function RR(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function OR(){return 150}var v_={create:xR,close:CR,onMessage:SR,postMessage:ER,canBeUsed:RR,type:wR,averageResponseTime:OR,microSeconds:_R};function Lo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=JSON.parse(JSON.stringify(t));return typeof r.webWorkerSupport>"u"&&(r.webWorkerSupport=!0),r.idb||(r.idb={}),r.idb.ttl||(r.idb.ttl=1e3*45),r.idb.fallbackInterval||(r.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(r.idb.onclose=t.idb.onclose),r.localstorage||(r.localstorage={}),r.localstorage.removeTimeout||(r.localstorage.removeTimeout=1e3*60),t.methods&&(r.methods=t.methods),r.node||(r.node={}),r.node.ttl||(r.node.ttl=1e3*60*2),r.node.maxParallelWrites||(r.node.maxParallelWrites=2048),typeof r.node.useFastPath>"u"&&(r.node.useFastPath=!0),r}var DR=pn,AR="pubkey.broadcast-channel-0-",mn="messages",Jl={durability:"relaxed"},kR="idb";function y_(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function Ph(t){t.commit&&t.commit()}function IR(t){var r=y_(),e=AR+t,n=r.open(e);return n.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(mn,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){n.onerror=function(s){return o(s)},n.onsuccess=function(){i(n.result)}})}function TR(t,r,e){var n=Date.now(),i={uuid:r,time:n,data:e},o=t.transaction([mn],"readwrite",Jl);return new Promise(function(s,l){o.oncomplete=function(){return s()},o.onerror=function(p){return l(p)};var d=o.objectStore(mn);d.add(i),Ph(o)})}function MR(t,r){var e=t.transaction(mn,"readonly",Jl),n=e.objectStore(mn),i=[],o=IDBKeyRange.bound(r+1,1/0);if(n.getAll){var s=n.getAll(o);return new Promise(function(d,p){s.onerror=function(m){return p(m)},s.onsuccess=function(m){d(m.target.result)}})}function l(){try{return o=IDBKeyRange.bound(r+1,1/0),n.openCursor(o)}catch(d){return n.openCursor()}}return new Promise(function(d,p){var m=l();m.onerror=function(y){return p(y)},m.onsuccess=function(y){var x=y.target.result;x?x.value.id<r+1?x.continue(r+1):(i.push(x.value),x.continue()):(Ph(e),d(i))}})}function PR(t,r){if(t.closed)return Promise.resolve([]);var e=t.db.transaction(mn,"readwrite",Jl),n=e.objectStore(mn);return Promise.all(r.map(function(i){var o=n.delete(i);return new Promise(function(s){o.onsuccess=function(){return s()}})}))}function NR(t,r){var e=Date.now()-r,n=t.transaction(mn,"readonly",Jl),i=n.objectStore(mn),o=[];return new Promise(function(s){i.openCursor().onsuccess=function(l){var d=l.target.result;if(d){var p=d.value;p.time<e?(o.push(p),d.continue()):(Ph(n),s(o))}else s(o)}})}function LR(t){return NR(t.db,t.options.idb.ttl).then(function(r){return PR(t,r.map(function(e){return e.id}))})}function FR(t,r){return r=Lo(r),IR(t).then(function(e){var n={closed:!1,lastCursorId:0,channelName:t,options:r,uuid:ns(),eMIs:new Jn(r.idb.ttl*2),writeBlockPromise:Zr,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){n.closed=!0,r.idb.onclose&&r.idb.onclose()},b_(n),n})}function b_(t){t.closed||__(t).then(function(){return Zl(t.options.idb.fallbackInterval)}).then(function(){return b_(t)})}function BR(t,r){return!(t.uuid===r.uuid||r.eMIs.has(t.id)||t.data.time<r.messagesCallbackTime)}function __(t){return t.closed?Zr:t.messagesCallback?MR(t.db,t.lastCursorId).then(function(r){var e=r.filter(function(n){return!!n}).map(function(n){return n.id>t.lastCursorId&&(t.lastCursorId=n.id),n}).filter(function(n){return BR(n,t)}).sort(function(n,i){return n.time-i.time});return e.forEach(function(n){t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),Zr}):Zr}function $R(t){t.closed=!0,t.db.close()}function jR(t,r){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return TR(t.db,t.uuid,r)}).then(function(){g_(0,10)===0&&LR(t)}),t.writeBlockPromise}function UR(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r,__(t)}function zR(){return!!y_()}function VR(t){return t.idb.fallbackInterval*2}var w_={create:FR,close:$R,onMessage:UR,postMessage:jR,canBeUsed:zR,type:kR,averageResponseTime:VR,microSeconds:DR};var qR=pn,HR="pubkey.broadcastChannel-",WR="localstorage";function x_(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch(r){}return t}function C_(t){return HR+t}function KR(t,r){return new Promise(function(e){Zl().then(function(){var n=C_(t.channelName),i={token:ns(),time:Date.now(),data:r,uuid:t.uuid},o=JSON.stringify(i);x_().setItem(n,o);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=n,s.newValue=o,window.dispatchEvent(s),e()})})}function GR(t,r){var e=C_(t),n=function(o){o.key===e&&r(JSON.parse(o.newValue))};return window.addEventListener("storage",n),n}function YR(t){window.removeEventListener("storage",t)}function QR(t,r){if(r=Lo(r),!E_())throw new Error("BroadcastChannel: localstorage cannot be used");var e=ns(),n=new Jn(r.localstorage.removeTimeout),i={channelName:t,uuid:e,eMIs:n};return i.listener=GR(t,function(o){i.messagesCallback&&o.uuid!==e&&(!o.token||n.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(n.add(o.token),i.messagesCallback(o.data)))}),i}function XR(t){YR(t.listener)}function ZR(t,r,e){t.messagesCallbackTime=e,t.messagesCallback=r}function E_(){var t=x_();if(!t)return!1;try{var r="__broadcastchannel_check";t.setItem(r,"works"),t.removeItem(r)}catch(e){return!1}return!0}function JR(){var t=120,r=navigator.userAgent.toLowerCase();return r.includes("safari")&&!r.includes("chrome")?t*2:t}var S_={create:QR,close:XR,onMessage:ZR,postMessage:KR,canBeUsed:E_,type:WR,averageResponseTime:JR,microSeconds:qR};var R_=pn,tO="simulate",Nh=new Set;function eO(t){var r={time:R_(),name:t,messagesCallback:null};return Nh.add(r),r}function rO(t){Nh.delete(t)}var O_=5;function nO(t,r){return new Promise(function(e){return setTimeout(function(){var n=Array.from(Nh);n.forEach(function(i){i.name===t.name&&i!==t&&i.messagesCallback&&i.time<r.time&&i.messagesCallback(r)}),e()},O_)})}function iO(t,r){t.messagesCallback=r}function oO(){return!0}function aO(){return O_}var D_={create:eO,close:rO,onMessage:iO,postMessage:nO,canBeUsed:oO,type:tO,averageResponseTime:aO,microSeconds:R_};var A_=[v_,w_,S_];function k_(t){var r=[].concat(t.methods,A_).filter(Boolean);if(t.type){if(t.type==="simulate")return D_;var e=r.find(function(i){return i.type===t.type});if(e)return e;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(r=r.filter(function(i){return i.type!=="idb"}));var n=r.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No usable method found in "+JSON.stringify(A_.map(function(i){return i.type})))}var Lh=new Set,sO=0,is=function(r,e){this.id=sO++,Lh.add(this),this.name=r,I_&&(e=I_),this.options=Lo(e),this.method=k_(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,cO(this)};is._pubkey=!0;var I_;is.prototype={postMessage:function(r){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(r));return T_(this,"message",r)},postInternal:function(r){return T_(this,"internal",r)},set onmessage(t){var r=this.method.microSeconds(),e={time:r,fn:t};P_(this,"message",this._onML),t&&typeof t=="function"?(this._onML=e,M_(this,"message",e)):this._onML=null},addEventListener:function(r,e){var n=this.method.microSeconds(),i={time:n,fn:e};M_(this,r,i)},removeEventListener:function(r,e){var n=this._addEL[r].find(function(i){return i.fn===e});P_(this,r,n)},close:function(){var r=this;if(!this.closed){Lh.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Zr;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(r._uMP))}).then(function(){return Promise.all(r._befC.map(function(n){return n()}))}).then(function(){return r.method.close(r._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function T_(t,r,e){var n=t.method.microSeconds(),i={time:n,type:r,data:e},o=t._prepP?t._prepP:Zr;return o.then(function(){var s=t.method.postMessage(t._state,i);return t._uMP.add(s),s.catch().then(function(){return t._uMP.delete(s)}),s})}function cO(t){var r=t.method.create(t.name,t.options);m_(r)?(t._prepP=r,r.then(function(e){t._state=e})):t._state=r}function N_(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function M_(t,r,e){t._addEL[r].push(e),lO(t)}function P_(t,r,e){t._addEL[r]=t._addEL[r].filter(function(n){return n!==e}),uO(t)}function lO(t){if(!t._iL&&N_(t)){var r=function(i){t._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},e=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,r,e)}):(t._iL=!0,t.method.onMessage(t._state,r,e))}}function uO(t){if(t._iL&&!N_(t)){t._iL=!1;var r=t.method.microSeconds();t.method.onMessage(t._state,null,r)}}var tu=new Map;function dO(t,r,e,n){var i=tu.get(r);return i||(i={bc:new is(["RxDB:",t,e].join("|")),refs:new Set},tu.set(r,i)),i.refs.add(n),i.bc}function L_(t,r){var e=tu.get(t);if(e&&(e.refs.delete(r),e.refs.size===0))return tu.delete(t),e.bc.close()}function F_(t,r,e,n){if(r.multiInstance){var i=n||dO(t,r.databaseInstanceToken,e.databaseName,e),o=new it,s=x=>{x.storageName===t&&x.databaseName===r.databaseName&&x.collectionName===r.collectionName&&x.version===r.schema.version&&o.next(x.eventBulk)};i.addEventListener("message",s);var l=e.changeStream(),d=!1,p=l.subscribe(x=>{d||i.postMessage({storageName:t,databaseName:r.databaseName,collectionName:r.collectionName,version:r.schema.version,eventBulk:x})});e.changeStream=function(){return o.asObservable().pipe(om(l))};var m=e.close.bind(e);e.close=function(){return j(this,null,function*(){return d=!0,p.unsubscribe(),i.removeEventListener("message",s),n||(yield L_(r.databaseInstanceToken,e)),m()})};var y=e.remove.bind(e);e.remove=function(){return j(this,null,function*(){return d=!0,p.unsubscribe(),i.removeEventListener("message",s),n||(yield L_(r.databaseInstanceToken,e)),y()})}}}var Fh={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",QU18:"Malformated query result data. This likely happens because you create a OPFS-storage RxDatabase inside of a worker but did not set the usesRxDatabaseInWorker setting. https://rxdb.info/rx-storage-opfs.html#setting-usesrxdatabaseinworker-when-a-rxdatabase-is-also-used-inside-of-the-worker ",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",COL22:".bulkInsert() and .bulkUpsert() cannot be run with multiple documents that have the same primary key",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"};var Bh;function B_(){if(!Bh){var t=new es,r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Bh=[...r,...e]}return Bh}var $h;function $_(){if(!$h){var t=new rs("pseudoInstance","memory"),r=Object.getOwnPropertyNames(t),e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));$h=[...r,...e],t.destroy()}return $h}var fO=Vl(Zn),hO=new fO,jh;function eu(){if(!jh){var t=["deleted","synced"],r=Object.getOwnPropertyNames(hO),e=Object.getOwnPropertyNames(Zn);jh=[...r,...e,...t]}return jh}function pO(t){if(t!=="_deleted"){if(["properties"].includes(t))throw L("SC23",{fieldName:t});var r="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",e=new RegExp(r);if(t!=="_id"&&!t.match(e))throw L("SC1",{regex:r,fieldName:t})}}function mO(t){var r=be(t.primaryKey);function e(i,o,s){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&s.split(".").pop()!=="patternProperties"&&pO(i),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw L("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw L("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw L("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw L("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw L("SC3",{fieldName:i});break;default:throw L("SC4",{fieldName:i})}var l=s.split(".").length>=2;if(l&&o.default)throw L("SC7",{path:s});if(!l){if(i==="_id"&&r!=="_id")throw L("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw L("SC8",{fieldName:i})}}}function n(i,o){!i||typeof i!="object"||Object.keys(i).forEach(s=>{var l=i[s];!i.properties&&l&&typeof l=="object"&&!Array.isArray(i)&&e(s,l,o);var d=o;s!=="properties"&&(d=d+"."+s),n(l,d)})}return n(t,""),!0}function gO(t){if(!t.primaryKey)throw L("SC30",{schema:t});function r(d){if(!d)throw L("SC33",{schema:t});var p=d.type;if(!p||!["string","number","integer"].includes(p))throw L("SC32",{schema:t,args:{schemaPart:d}})}if(typeof t.primaryKey=="string"){var e=t.primaryKey,n=t.properties[e];r(n)}else{var i=t.primaryKey,o=$e(t,i.key);r(o),i.fields.forEach(d=>{var p=$e(t,d);r(p)})}var s=be(t.primaryKey),l=t.properties[s];if(l.maxLength){if(!isFinite(l.maxLength))throw L("SC41",{schema:t,args:{primaryPathSchemaPart:l}})}else throw L("SC39",{schema:t,args:{primaryPathSchemaPart:l}})}function j_(t){for(var r=t.split("."),e="",n=0;n<r.length;n+=1)r[n]!=="[]"?e=e.concat(".properties.".concat(r[n])):e=e.concat(".items");return Dr(e)}function U_(t){if(!t.primaryKey)throw L("SC30",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"properties"))throw L("SC29",{schema:t});if(t.properties._rev)throw L("SC10",{schema:t});if(!Object.prototype.hasOwnProperty.call(t,"version")||typeof t.version!="number"||t.version<0)throw L("SC11",{version:t.version});if(mO(t),gO(t),Object.keys(t.properties).forEach(r=>{var e=t.properties[r];if(r===t.primaryKey){if(t.indexes&&t.indexes.includes(r))throw L("SC13",{value:e,schema:t});if(e.unique)throw L("SC14",{value:e,schema:t});if(t.encrypted&&t.encrypted.includes(r))throw L("SC15",{value:e,schema:t});if(e.type!=="string")throw L("SC16",{value:e,schema:t})}if(eu().includes(r))throw L("SC17",{key:r,schema:t})}),t.indexes){if(!Wr(t.indexes))throw L("SC18",{indexes:t.indexes,schema:t});t.indexes.forEach(r=>{if(!(typeof r=="string"||Array.isArray(r)))throw L("SC19",{index:r,schema:t});if(Array.isArray(r)){for(var e=0;e<r.length;e+=1)if(typeof r[e]!="string")throw L("SC20",{index:r,schema:t})}var n=Wr(r)?r:[r];n.forEach(i=>{var o=$e(t,i),s=o.type;switch(s){case"string":var l=o.maxLength;if(!l)throw L("SC34",{index:r,field:i,schema:t});break;case"number":case"integer":var d=o.multipleOf;if(!d)throw L("SC35",{index:r,field:i,schema:t});var p=o.maximum,m=o.minimum;if(typeof p>"u"||typeof m>"u")throw L("SC37",{index:r,field:i,schema:t});if(!isFinite(p)||!isFinite(m))throw L("SC41",{index:r,field:i,schema:t});break;case"boolean":var y="",x=i;if(i.includes(".")){var O=i.split(".");x=O.pop(),y=O.join(".")}var N=y===""?t:$e(t,y);if(!N.required||!N.required.includes(x))throw L("SC38",{index:r,field:i,schema:t});break;default:throw L("SC36",{fieldName:i,type:o.type,schema:t})}})})}Object.keys(Yc(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!=="").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Be(t,r);return e&&!!e.index}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),L("SC26",{index:Dr(r),schema:t})}),(t.indexes||[]).reduce((r,e)=>(Wr(e)?Or(r,e):r.push(e),r),[]).filter((r,e,n)=>n.indexOf(r)===e).map(r=>{var e=j_(r),n=Be(t,e);if(!n||typeof n!="object")throw L("SC21",{index:r,schema:t});return{indexPath:r,schemaObj:n}}).filter(r=>r.schemaObj.type!=="string"&&r.schemaObj.type!=="integer"&&r.schemaObj.type!=="number"&&r.schemaObj.type!=="boolean").forEach(r=>{throw L("SC22",{key:r.indexPath,type:r.schemaObj.type,schema:t})}),Object.keys(Yc(t)).map(r=>{var e=r.split(".");return e.pop(),e.join(".")}).filter(r=>r!==""&&r!=="attachments").filter((r,e,n)=>n.indexOf(r)===e).filter(r=>{var e=Be(t,r);return e&&!!e.encrypted}).forEach(r=>{throw r=r.replace("properties.",""),r=r.replace(/\.properties\./g,"."),L("SC27",{index:Dr(r),schema:t})}),t.encrypted&&t.encrypted.forEach(r=>{var e=j_(r),n=Be(t,e);if(!n||typeof n!="object")throw L("SC28",{field:r,schema:t})})}function ru(t){t&&Object.entries(t).forEach(([r,e])=>{if(typeof r!="string")throw pe("COL14",{name:r});if(r.startsWith("_"))throw pe("COL15",{name:r});if(typeof e!="function")throw pe("COL16",{name:r,type:typeof r});if(B_().includes(r)||eu().includes(r))throw L("COL17",{name:r})})}function z_(t,r){var e=Object.keys(t.properties);r&&Object.keys(r).filter(n=>e.includes(n)).forEach(n=>{throw L("COL18",{funName:n})})}function V_(t,r){if(typeof r!="object"||Array.isArray(r))throw pe("COL11",{schema:t});var e=xy(t);if(e.length!==Object.keys(r).length)throw L("COL12",{have:Object.keys(r),should:e});return e.map(n=>({v:n,s:r[n+1]})).filter(n=>typeof n.s!="function").forEach(n=>{throw pe("COL13",{version:n.v,type:typeof n,schema:t})}),!0}function q_(t){if($_().includes(t.name))throw L("DB5",{name:t.name});K_(t.name)}function H_(t){if(K_(t.name),t.name.includes("$"))throw L("DB13",{name:t.name});if(Df(t.name)&&(t.name.endsWith("/")||t.name.endsWith("\\")))throw L("DB11",{name:t.name})}var W_="^[a-z][_$a-z0-9\\-]*$",vO=new RegExp(W_);function K_(t){if(typeof t!="string"||t.length===0)throw pe("UT1",{name:t});if(Df(t))return!0;if(!t.match(vO)&&t!==":memory:")throw L("UT2",{regex:W_,givenName:t});return!0}function G_(t){var r=Object.prototype.toString.call(t.queryObj)==="[object Object]";if(!r)throw pe("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj});var e=["selector","limit","skip","sort","index"];if(Object.keys(t.queryObj).forEach(n=>{if(!e.includes(n))throw pe("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj,key:n,args:{validKeys:e}})}),t.op==="count"&&(t.queryObj.limit||t.queryObj.skip))throw L("QU15",{collection:t.collection.name,query:t.queryObj});nu(t.queryObj)}function Y_(t){var r=t.rxQuery.collection.schema.jsonSchema,e=t.mangoQuery.selector,n=Object.keys(r.properties);Object.keys(e).filter(l=>!l.startsWith("$")).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:r,field:l,query:t.mangoQuery})});var i=r.indexes?r.indexes:[],o=t.mangoQuery.index;if(o){var s=i.find(l=>qn(l,o));if(!s)throw L("QU12",{collection:t.rxQuery.collection.name,query:t.mangoQuery,schema:r})}if(t.rxQuery.op==="count"&&!yO(t.rxQuery.collection.schema.jsonSchema,t.mangoQuery)&&!t.rxQuery.collection.database.allowSlowCount)throw L("QU14",{collection:t.rxQuery.collection,query:t.mangoQuery});t.mangoQuery.sort&&t.mangoQuery.sort.map(l=>Object.keys(l)[0]).filter(l=>!l.includes(".")).forEach(l=>{if(!n.includes(l))throw L("QU13",{schema:r,field:l,query:t.mangoQuery})}),nu(t.mangoQuery)}function yO(t,r){var e=Ja(t,r);return e.queryPlan.selectorSatisfiedByIndex}function nu(t){if(!(typeof t!="object"||t===null)){var r=Object.keys(t);r.forEach(e=>{var n=t[e];if(n instanceof RegExp)throw L("QU16",{field:e,query:t});Array.isArray(n)?n.forEach(i=>nu(i)):nu(n)})}}function Q_(t,r){if(!t)throw L("DOC20",{primaryKey:t,document:r});if(t!==t.trim())throw L("DOC21",{primaryKey:t,document:r});if(t.includes("\r")||t.includes(`
`))throw L("DOC22",{primaryKey:t,document:r});if(t.includes('"'))throw L("DOC23",{primaryKey:t,document:r})}function X_(t){if(typeof t!="object"||t===null)return!1;for(var r in t)if(t.hasOwnProperty(r)&&(t[r]instanceof Date||typeof t[r]=="object"&&X_(t[r])))return!0;return!1}function Z_(t,r){var e=be(t.schema.primaryKey),n=function(o){o.document=rl(e,t.schema,o.document),o.previous&&Object.keys(o.previous._meta).forEach(s=>{if(!Object.prototype.hasOwnProperty.call(o.document._meta,s))throw L("SNH",{dataBefore:o.previous,dataAfter:o.document,args:{metaFieldName:s}})});try{typeof structuredClone=="function"?structuredClone(o):JSON.parse(JSON.stringify(o))}catch(s){throw L("DOC24",{collection:t.collectionName,document:o.document})}if(X_(o.document))throw L("DOC24",{collection:t.collectionName,document:o.document})};for(var i of r)n(i)}var J_=!1;function tw(t){return j(this,null,function*(){if(!(J_||typeof window>"u"||typeof location>"u")&&!(Wn.premium&&typeof Wn.premium=="string"&&(yield xo(Wn.premium))===Jc)){J_=!0;var r=document.createElement("iframe");r.style.visibility="hidden",r.width="1px",r.height="1px",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.opacity="0.1",r.src="https://rxdb.info/html/dev-mode-iframe.html?version="+Mi,document.body.appendChild(r)}})}var bO=!0;function _O(t){return!t||typeof t=="string"||typeof t=="number"?t:Cf(t)}var wO="dev-mode",ew={name:wO,rxdb:!0,init:()=>{bO&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1F917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:_O,tunnelErrorMessage(t){if(!Fh[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return Fh[t]}},hooks:{preCreateRxSchema:{after:U_},preCreateRxDatabase:{after:function(t){H_(t)}},createRxDatabase:{after:function(t){return j(this,null,function*(){tw(t.database)})}},preCreateRxCollection:{after:function(t){if(q_(t),z_(t.schema,t.methods),t.name.charAt(0)==="_")throw L("DB2",{name:t.name});if(!t.schema)throw L("DB4",{name:t.name,args:t})}},createRxDocument:{before:function(t){Q_(t.primary,t.toJSON(!0))}},preCreateRxQuery:{after:function(t){G_(t)}},prePrepareQuery:{after:t=>{Y_(t)}},preStorageWrite:{before:t=>{Z_(t.storageInstance,t.rows)}},createRxCollection:{after:t=>{ru(t.creator.statics),ru(t.creator.methods),ru(t.creator.attachments),t.creator.schema&&t.creator.migrationStrategies&&V_(t.creator.schema,t.creator.migrationStrategies)}}}};var iu=Rx(rw(),1),nw=Symbol.for("Dexie"),os=globalThis[nw]||(globalThis[nw]=iu.default);if(iu.default.semVer!==os.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${iu.default.semVer} and ${os.semVer}`);var{liveQuery:NG,mergeRanges:LG,rangesOverlap:FG,RangeSet:BG,cmp:$G,Entity:jG,PropModSymbol:UG,PropModification:zG,replacePrefix:VG,add:qG,remove:HG}=os;var as="docs",xO="changes",iw="attachments",au="dexie",ow=new Map,ou=new Map;function aw(t,r,e,n){var i="rxdb-dexie-"+t+"--"+n.version+"--"+r,o=Xe(ow,i,()=>{var s=j(null,null,function*(){var l=It(e);l.autoOpen=!1;var d=new os(i,l),p={[as]:CO(n),[xO]:"++sequence, id",[iw]:"id"};return d.version(1).stores(p),yield d.open(),{dexieDb:d,dexieTable:d[as],dexieAttachmentsTable:d[iw],booleanIndexes:EO(n)}});return ow.set(i,o),ou.set(o,0),s});return o}function sw(t){return j(this,null,function*(){var r=yield t,e=ou.get(t),n=e-1;n===0?(r.dexieDb.close(),ou.delete(t)):ou.set(t,n)})}var Vh="__";function $i(t){var r=t.split(".");if(r.length>1)return r.map(n=>$i(n)).join(".");if(t.startsWith("|")){var e=t.substring(1);return Vh+e}else return t}function cw(t){var r=t.split(".");if(r.length>1)return r.map(n=>cw(n)).join(".");if(t.startsWith(Vh)){var e=t.substring(Vh.length);return"|"+e}else return t}function lw(t,r){if(!r)return r;var e=It(r);return e=qh(e),t.forEach(n=>{var i=Be(r,n),o=i?"1":"0",s=$i(n);If(e,s,o)}),e}function Wh(t,r){return r&&(r=It(r),r=Hh(r),t.forEach(e=>{var n=Be(r,e),i=n==="1";If(r,e,i)}),r)}function qh(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>qh(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="object"&&(n=qh(n)),r[$i(e)]=n}),r}}function Hh(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(e=>Hh(e));if(typeof t=="object"){var r={};return Object.entries(t).forEach(([e,n])=>{(typeof n=="object"||Array.isArray(t))&&(n=Hh(n)),r[cw(e)]=n}),r}}function CO(t){var r=[],e=be(t.primaryKey);r.push([e]),r.push(["_deleted",e]),t.indexes&&t.indexes.forEach(o=>{var s=$a(o);r.push(s)}),r.push(["_meta.lwt",e]),r.push(["_meta.lwt"]),r=r.map(o=>o.map(s=>$i(s)));var n=r.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");n=n.filter((o,s,l)=>l.indexOf(o)===s);var i=n.join(", ");return i}function Kh(t,r){return j(this,null,function*(){var e=yield t,n=yield e.dexieTable.bulkGet(r);return n.map(i=>Wh(e.booleanIndexes,i))})}function ss(t,r){return t+"||"+r}function EO(t){var r=new Set,e=[];return t.indexes?(t.indexes.forEach(n=>{var i=$a(n);i.forEach(o=>{if(!r.has(o)){r.add(o);var s=$e(t,o);s.type==="boolean"&&e.push(o)}})}),e.push("_deleted"),Gv(e)):e}function uw(t){return t===Ni?-1/0:t}function dw(t,r,e){if(t.includes(r)){var n=e===Pi||e===!0?"1":"0";return n}else return e}function fw(t,r,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var n=r.startKeys.map((s,l)=>{var d=r.index[l];return dw(t,d,s)}).map(uw),i=r.endKeys.map((s,l)=>{var d=r.index[l];return dw(t,d,s)}).map(uw),o=e.bound(n,i,!r.inclusiveStart,!r.inclusiveEnd);return o}function Gh(t,r){return j(this,null,function*(){var e=yield t.internals,n=r.query,i=n.skip?n.skip:0,o=n.limit?n.limit:1/0,s=i+o,l=r.queryPlan,d=!1;l.selectorSatisfiedByIndex||(d=To(t.schema,r.query));var p=fw(e.booleanIndexes,l,e.dexieDb._options.IDBKeyRange),m=l.index,y=[];if(yield e.dexieDb.transaction("r",e.dexieTable,O=>j(null,null,function*(){var N=O.idbtrans,U=N.objectStore(as),G,tt;tt="["+m.map(rt=>$i(rt)).join("+")+"]",G=U.index(tt);var et=G.openCursor(p);yield new Promise(rt=>{et.onsuccess=function(Tt){var ct=Tt.target.result;if(ct){var Nt=Wh(e.booleanIndexes,ct.value);(!d||d(Nt))&&y.push(Nt),l.sortSatisfiedByIndex&&y.length===s?rt():ct.continue()}else rt()}})})),!l.sortSatisfiedByIndex){var x=jl(t.schema,r.query);y=y.sort(x)}return y=y.slice(i,s),{documents:y}})}function hw(t,r){return j(this,null,function*(){var e=yield t.internals,n=r.queryPlan,i=n.index,o=fw(e.booleanIndexes,n,e.dexieDb._options.IDBKeyRange),s=-1;return yield e.dexieDb.transaction("r",e.dexieTable,l=>j(null,null,function*(){var d=l.idbtrans,p=d.objectStore(as),m,y;y="["+i.map(O=>$i(O)).join("+")+"]",m=p.index(y);var x=m.count(o);s=yield new Promise((O,N)=>{x.onsuccess=function(){O(x.result)},x.onerror=U=>N(U)})})),s})}var SO=se(),Yh=!1,RO=(function(){function t(e,n,i,o,s,l,d,p){this.changes$=new it,this.instanceId=SO++,this.storage=e,this.databaseName=n,this.collectionName=i,this.schema=o,this.internals=s,this.options=l,this.settings=d,this.devMode=p,this.primaryPath=be(this.schema.primaryKey)}var r=t.prototype;return r.bulkWrite=function(n,i){return j(this,null,function*(){ji(this),!Yh&&(!Wn.premium||typeof Wn.premium!="string"||(yield xo(Wn.premium))!==Jc)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),Yh=!0,n.forEach(m=>{if(!m.document._rev||m.previous&&!m.previous._rev)throw L("SNH",{args:{row:m}})});var o=yield this.internals,s={error:[]};this.devMode&&(n=n.map(m=>{var y=Bi(m.document);return{previous:m.previous,document:y}}));var l=n.map(m=>m.document[this.primaryPath]),d;if(yield o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,()=>j(this,null,function*(){var m=new Map,y=yield Kh(this.internals,l);y.forEach(N=>{var U=N;return U&&m.set(U[this.primaryPath],U),U}),d=Wb(this,this.primaryPath,m,n,i),s.error=d.errors;var x=[];d.bulkInsertDocs.forEach(N=>{x.push(N.document)}),d.bulkUpdateDocs.forEach(N=>{x.push(N.document)}),x=x.map(N=>lw(o.booleanIndexes,N)),x.length>0&&(yield o.dexieTable.bulkPut(x));var O=[];d.attachmentsAdd.forEach(N=>{O.push({id:ss(N.documentId,N.attachmentId),data:N.attachmentData.data})}),d.attachmentsUpdate.forEach(N=>{O.push({id:ss(N.documentId,N.attachmentId),data:N.attachmentData.data})}),yield o.dexieAttachmentsTable.bulkPut(O),yield o.dexieAttachmentsTable.bulkDelete(d.attachmentsRemove.map(N=>ss(N.documentId,N.attachmentId)))})),d=Dt(d),d.eventBulk.events.length>0){var p=Dt(d.newestRow).document;d.eventBulk.checkpoint={id:p[this.primaryPath],lwt:p._meta.lwt},d.eventBulk.endTime=se(),this.changes$.next(d.eventBulk)}return s})},r.findDocumentsById=function(n,i){return j(this,null,function*(){ji(this);var o=yield this.internals,s=[];return yield o.dexieDb.transaction("r",o.dexieTable,()=>j(this,null,function*(){var l=yield Kh(this.internals,n);l.forEach(d=>{d&&(!d._deleted||i)&&s.push(d)})})),s})},r.query=function(n){return ji(this),Gh(this,n)},r.count=function(n){return j(this,null,function*(){if(n.queryPlan.selectorSatisfiedByIndex){var i=yield hw(this,n);return{count:i,mode:"fast"}}else{var o=yield Gh(this,n);return{count:o.documents.length,mode:"slow"}}})},r.changeStream=function(){return ji(this),this.changes$.asObservable()},r.cleanup=function(n){return j(this,null,function*(){ji(this);var i=yield this.internals;return yield i.dexieDb.transaction("rw",i.dexieTable,()=>j(this,null,function*(){var o=se()-n,s=yield i.dexieTable.where("_meta.lwt").below(o).toArray(),l=[];s.forEach(d=>{d._deleted==="1"&&l.push(d[this.primaryPath])}),yield i.dexieTable.bulkDelete(l)})),!0})},r.getAttachmentData=function(n,i,o){return j(this,null,function*(){ji(this);var s=yield this.internals,l=ss(n,i);return yield s.dexieDb.transaction("r",s.dexieAttachmentsTable,()=>j(this,null,function*(){var d=yield s.dexieAttachmentsTable.get(l);if(d)return d.data;throw new Error("attachment missing documentId: "+n+" attachmentId: "+i)}))})},r.remove=function(){return j(this,null,function*(){ji(this);var n=yield this.internals;return yield n.dexieTable.clear(),this.close()})},r.close=function(){return this.closed?this.closed:(this.closed=j(this,null,function*(){this.changes$.complete(),yield sw(this.internals)}),this.closed)},r.conflictResultionTasks=function(){return new it},r.resolveConflictResultionTask=function(n){return j(this,null,function*(){})},t})();function pw(t,r,e){return j(this,null,function*(){var n=aw(r.databaseName,r.collectionName,e,r.schema),i=new RO(t,r.databaseName,r.collectionName,r.schema,n,r.options,e,r.devMode);return yield F_(au,r,i),Promise.resolve(i)})}function ji(t){if(t.closed)throw new Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var OO=(function(){function t(e){this.name=au,this.rxdbVersion=Mi,this.settings=e}var r=t.prototype;return r.createStorageInstance=function(n){return Gb(n),pw(this,n,this.settings)},t})();function mw(t={}){var r=new OO(t);return r}var Qh={};zs(Qh,{$all:()=>OS,$and:()=>lh,$bitsAllClear:()=>gw,$bitsAllSet:()=>vw,$bitsAnyClear:()=>yw,$bitsAnySet:()=>bw,$elemMatch:()=>ph,$eq:()=>Tl,$exists:()=>gh,$expr:()=>ES,$gt:()=>Ml,$gte:()=>Pl,$in:()=>Nl,$jsonSchema:()=>SS,$lt:()=>Ll,$lte:()=>Fl,$mod:()=>fh,$ne:()=>Bl,$nin:()=>$l,$nor:()=>uh,$not:()=>dh,$or:()=>Qa,$regex:()=>hh,$size:()=>mh,$type:()=>vh,$where:()=>RS});var ti=t=>St((r,e,n)=>{let i=0;if(e instanceof Array)for(let o of e)i=i|1<<o;else i=e;return t(r&i,i)});var gw=ti((t,r)=>t==0);var vw=ti((t,r)=>t==r);var yw=ti((t,r)=>t<r);var bw=ti((t,r)=>t>0);var su={};zs(su,{$addToSet:()=>AO,$bit:()=>IO,$currentDate:()=>TO,$inc:()=>MO,$max:()=>PO,$min:()=>NO,$mul:()=>LO,$pop:()=>FO,$pull:()=>Xh,$pullAll:()=>BO,$push:()=>jO,$rename:()=>UO,$set:()=>Zh,$unset:()=>zO});var Fo=(t,r)=>{switch(t){case"deep":return Do(r);case"copy":return Qn(r)?new Date(r):st(r)?[...r]:dt(r)?$({},r):r;default:return r}},DO=/^[a-z]+[a-zA-Z0-9]*$/;function _w(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];let r=t.indexOf(".$"),e=t.indexOf("]"),n=t.substring(0,r),i=t.substring(r+3,e);z(i===""||DO.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let o=t.substring(e+2),[s,l]=o?_w(o):[];return[{selector:t,parent:n,child:i||"$",next:s},[i,...l||[]].filter(Boolean)]}var Ft=(t,r,e,n,i)=>{let{parent:o,child:s,next:l}=r;if(!s){let p=!1;return Ro(t,o,(y,x)=>p=!!n(y,x)||p,i),p}let d=Ie(t,o);return st(d)?d.map((p,m)=>e[s]&&!e[s].test({[s]:p})?!1:l?Ft(p,l,e,n,i):n(d,m)).some(Boolean):!1};function zt(t,r,e,n){let i=[];for(let[o,s]of Object.entries(t)){let[l,d]=_w(o);if(!d.length)n(s,l,{})&&i.push(l.parent);else{let p={};r.forEach(y=>{Object.keys(y).forEach(x=>{d.forEach(O=>{(x===O||x.startsWith(O+"."))&&(p[O]=p[O]||{},Object.assign(p[O],{[x]:y[x]}))})})});let m={};for(let[y,x]of Object.entries(p))m[y]=new ie(x,e.queryOptions);n(s,l,m)&&i.push(l.parent)}}return i}var AO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>{let l={$each:[i]};return dt(i)&&Yt(i,"$each")&&Object.assign(l,i),Ft(t,o,s,(d,p)=>{let m=d[p]||=[];return fn([m,l.$each]).length===l.$each.length?!1:(d[p]=Fo(n.cloneMode,Wa(m.concat(l.$each))),!0)},{buildGraph:!0})});var kO=new Set(["and","or","xor"]),IO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>{let l=Object.keys(i);return z(l.length===1&&kO.has(l[0]),`Invalid bit operator '${l[0]}'. Must be one of 'and', 'or', or 'xor'.`),Ft(t,o,s,(d,p)=>{let m=d[p],y=i[l[0]];if(m!==void 0&&!(ft(m)&&ft(y)))return!1;switch(m=m||0,l[0]){case"and":d[p]=m&y;break;case"or":d[p]=m|y;break;case"xor":d[p]=m^y;break}return d[p]!==m},{buildGraph:!0})});var TO=(t,r,e=[],n={})=>{let i=Date.now();return zt(r,e,n,(o,s,l)=>Ft(t,s,l,(d,p)=>(d[p]=i,!0),{buildGraph:!0}))};var MO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>{if(!o.child){let l=Ie(t,o.parent);z(l===void 0||ft(l),"cannot apply $inc to a value of non-numeric type")}return Ft(t,o,s,(l,d)=>(l[d]=(l[d]||=0)+i,!0),{buildGraph:!0})});var PO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>Ft(t,o,s,(l,d)=>l[d]!==void 0&&jt(l[d],i)>-1?!1:(l[d]=i,!0),{buildGraph:!0}));var NO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>Ft(t,o,s,(l,d)=>l[d]!==void 0&&jt(l[d],i)<1?!1:(l[d]=i,!0),{buildGraph:!0}));var LO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>Ft(t,o,s,(l,d)=>{let p=l[d];return l[d]=l[d]===void 0?0:l[d]*i,l[d]!==p},{buildGraph:!0}));var FO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>Ft(t,o,s,(l,d)=>{let p=l[d];return z(st(p),`path '${o.selector}' contains an element of non-array type.`),p.length?(i===-1?p.splice(0,1):p.pop(),!0):!1}));var Xh=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>{let l=!dt(i)||Object.keys(i).some(Je),d=new ie(l?{k:i}:i,n.queryOptions),p=l?m=>d.test({k:m}):m=>d.test(m);return Ft(t,o,s,(m,y)=>{let x=m[y],O=new Array;return x.map(U=>{let G=p(U);return G||O.push(U),G}).some(Boolean)?(m[y]=O,!0):!1})});var BO=(t,r,e=[],n={})=>{let i={};return Object.entries(r).forEach(([o,s])=>{i[o]={$in:s}}),Xh(t,i,e,n)};var $O=Object.freeze(["$each","$slice","$sort","$position"]),jO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>{let l={$each:[i]};return dt(i)&&$O.some(d=>Yt(i,d))&&Object.assign(l,i),Ft(t,o,s,(d,p)=>{let m=d[p]||=[],y=m.slice(0,l.$slice||m.length),x=m.length,O=ft(l.$position)?l.$position:m.length;if(m.splice(O,0,...Fo(n.cloneMode,l.$each)),l.$sort){let N=dt(l.$sort)?Object.keys(l.$sort||{}).pop():"",U=N?l.$sort[N]:l.$sort,G=N?tt=>Ie(tt,N):tt=>tt;m.sort((tt,et)=>U*jt(G(tt),G(et)))}return ft(l.$slice)&&(l.$slice<0?m.splice(0,m.length+l.$slice):m.splice(l.$slice)),x!=m.length||!_e(y,m)},{descendArray:!0,buildGraph:!0})});var Zh=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>Ft(t,o,s,(l,d)=>_e(l[d],i)?!1:(l[d]=Fo(n.cloneMode,i),!0),{buildGraph:!0}));var UO=(t,r,e=[],n={})=>{let i=[],o=zt(r,e,n,(s,l,d)=>Ft(t,l,d,(p,m)=>Yt(p,m)?(i.push(...Zh(t,{[s]:p[m]},e,n)),delete p[m],!0):!1));return Array.from(new Set(o.concat(i)))};var zO=(t,r,e=[],n={})=>zt(r,e,n,(i,o,s)=>Ft(t,o,s,(l,d)=>Yt(l,d)?(st(l)?l[d]=null:delete l[d],!0):!1));function Jh(t){return t=mt($({},t),{queryOptions:hn(t.queryOptions)}),t.queryOptions.context.addQueryOps(Qh).addExpressionOps(oh).addExpressionOps(ah),(r,e,n=[],i={},o={})=>{let s=Object.assign({cloneMode:"copy"},t,o);Object.assign(s,{queryOptions:hn(Object.assign({useStrictMode:!1},s?.queryOptions))}),n=n||[],i=i||{};let l=Object.entries(e);z(l.length===1,"Update expression must contain only one operator.");let[d,p]=l[0];z(Yt(su,d),`Update operator '${d}' is not supported.`);let m=su[d];return Object.keys(i).length&&!(i instanceof ie?i:new ie(i,s.queryOptions)).test(r)?[]:m(r,p,n,s)}}var KQ=Jh({});var tp;function ep(t,r){if(!tp){var e=Jh({cloneMode:"none"});tp=(n,i)=>{var o=fr(n);return e(o,i),o}}return tp(t,r)}function VO(t){return this.incrementalModify(r=>{var e=ep(r,t);return e})}function qO(t){var r=this._data,e=ep(r,t);return this._saveData(e,r)}function HO(t){return j(this,null,function*(){return Xn(this.asRxQuery,r=>r.update(t))})}var ww={name:"update",rxdb:!0,prototypes:{RxDocument:t=>{t.update=qO,t.incrementalUpdate=VO},RxQuery:t=>{t.update=HO}}};var WO={title:"posts schema",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",primary:!0,maxLength:100},title:{type:"string"},body:{type:"string"}}};function KO(){return j(this,null,function*(){Xl(o_),Xl(ww),Tm()&&Xl(ew)})}KO();var dX=(()=>{class t{constructor(){this.dataBaseReadySubj=new fe(!1),this.dataBaseReady$=this.dataBaseReadySubj.asObservable()}getDatabaseCollection(e){if(!this.rxDatabase)throw new Error("Database is not initialized. Please make sure the database is initialized before getting the collection");return this.rxDatabase[e]}initDB(e){return j(this,null,function*(){return this.rxDatabase&&this.rxDatabase.name===e&&!this.rxDatabase.destroyed?this.rxDatabase:(this.rxDatabase=yield h_({name:e,storage:mw(),password:"myLongAndStupidPassword"}),yield this.rxDatabase.addCollections({posts:{schema:WO}}),this.dataBaseReadySubj.next(!0),this.rxDatabase)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mX(t){return t&&typeof t.connect=="function"&&!(t instanceof Vs)}var cs=(function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t})(cs||{}),xw=class{viewCacheSize=20;_viewCache=[];applyChanges(r,e,n,i,o){r.forEachOperation((s,l,d)=>{let p,m;if(s.previousIndex==null){let y=()=>n(s,l,d);p=this._insertView(y,d,e,i(s)),m=p?cs.INSERTED:cs.REPLACED}else d==null?(this._detachAndCacheView(l,e),m=cs.REMOVED):(p=this._moveView(l,d,e,i(s)),m=cs.MOVED);o&&o({context:p?.context,operation:m,record:s})})}detach(){for(let r of this._viewCache)r.destroy();this._viewCache=[]}_insertView(r,e,n,i){let o=this._insertViewFromCache(e,n);if(o){o.context.$implicit=i;return}let s=r();return n.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(r,e){let n=e.detach(r);this._maybeCacheView(n,e)}_moveView(r,e,n,i){let o=n.get(r);return n.move(o,e),o.context.$implicit=i,o}_maybeCacheView(r,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(r);else{let n=e.indexOf(r);n===-1?r.destroy():e.remove(n)}}_insertViewFromCache(r,e){let n=this._viewCache.pop();return n&&e.insert(n,r),n||null}};var GO=20,ls=(()=>{class t{_ngZone=w(Ct);_platform=w($t);_renderer=w(wr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new it;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=GO){return this._platform.isBrowser?new On(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=e>0?this._scrolled.pipe(rd(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):lt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let i=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(yt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let i=Ur(n),o=e.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),np=(()=>{class t{elementRef=w(Bt);scrollDispatcher=w(ls);ngZone=w(Ct);dir=w(Tn,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new it;_renderer=w(Fr);_cleanupScroll;_elementScrolled=new it;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),i&&io()!=Er.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),io()==Er.INVERTED?e.left=e.right:io()==Er.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;pc()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",i="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?i:n:e=="end"&&(e=s?n:i),s&&io()==Er.INVERTED?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&io()==Er.NEGATED?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),YO=20,Bo=(()=>{class t{_platform=w($t);_listeners;_viewportSize=null;_change=new it;_document=w(Lt);constructor(){let e=w(Ct),n=w(wr).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[n.listen("window","resize",i),n.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect(),s=-o.top||e.body?.scrollTop||n.scrollY||i.scrollTop||0,l=-o.left||e.body?.scrollLeft||n.scrollX||i.scrollLeft||0;return{top:s,left:l}}change(e=YO){return e>0?this._change.pipe(rd(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var UX=new ot("CDK_VIRTUAL_SCROLL_VIEWPORT");var rp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({})}return t})(),ip=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({imports:[Ke,rp,Ke,rp]})}return t})();var Cw=pc();function jo(t){return new cu(t.get(Bo),t.get(Lt))}var cu=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(r,e){this._viewportRuler=r,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=te(-this._previousScrollPosition.left),r.style.top=te(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,e=this._document.body,n=r.style,i=e.style,o=n.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),Cw&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Cw&&(n.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};function kw(t,r){return new lu(t.get(ls),t.get(Ct),t.get(Bo),r)}var lu=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(r,e,n,i){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=n,this._config=i}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(yt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var us=class{enable(){}disable(){}attach(){}};function op(t,r){return r.some(e=>{let n=t.bottom<e.top,i=t.top>e.bottom,o=t.right<e.left,s=t.left>e.right;return n||i||o||s})}function Ew(t,r){return r.some(e=>{let n=t.top<e.top,i=t.bottom>e.bottom,o=t.left<e.left,s=t.right>e.right;return n||i||o||s})}function lp(t,r){return new uu(t.get(ls),t.get(Bo),t.get(Ct),r)}var uu=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(r,e,n,i){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=n,this._config=i}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();op(e,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Iw=(()=>{class t{_injector=w(wt);constructor(){}noop=()=>new us;close=e=>kw(this._injector,e);block=()=>jo(this._injector);reposition=e=>lp(this._injector,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gn=class{positionStrategy;scrollStrategy=new us;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(r){if(r){let e=Object.keys(r);for(let n of e)r[n]!==void 0&&(this[n]=r[n])}}};var du=class{connectionPair;scrollableViewProperties;constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}};var Tw=(()=>{class t{_attachedOverlays=[];_document=w(Lt);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mw=(()=>{class t extends Tw{_ngZone=w(Ct);_renderer=w(wr).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let i=n.length-1;i>-1;i--)if(n[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[i]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pw=(()=>{class t extends Tw{_platform=w($t);_ngZone=w(Ct);_renderer=w(wr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(n,"pointerdown",this._pointerDownListener,i),o.listen(n,"click",this._clickListener,i),o.listen(n,"auxclick",this._clickListener,i),o.listen(n,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=De(e)};_clickListener=e=>{let n=De(e),i=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(Sw(l.overlayElement,n)||Sw(l.overlayElement,i))break;let d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(e)):d.next(e)}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sw(t,r){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=r;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Nw=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return t})(),pu=(()=>{class t{_platform=w($t);_containerElement;_document=w(Lt);_styleLoader=w(Cr);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Pd()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let n=this._document.createElement("div");n.classList.add(e),Pd()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(Nw)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ap=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(r,e,n,i){this._renderer=e,this._ngZone=n,this.element=r.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let r=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(r,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),r.style.pointerEvents="none",r.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function up(t){return t&&t.nodeType===1}var $o=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new it;_attachments=new it;_detachments=new it;_positionStrategy;_scrollStrategy;_locationChanges=nr.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new it;_outsidePointerEvents=new it;_afterNextRenderRef;constructor(r,e,n,i,o,s,l,d,p,m=!1,y,x){this._portalOutlet=r,this._host=e,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=d,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._injector=y,this._renderer=x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(r){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(r);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ne(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){if(this._disposed)return;let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,r&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=$($({},this._config),r),this._updateElementSize()}setDirection(r){this._config=mt($({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=te(this._config.width),r.height=te(this._config.height),r.minWidth=te(this._config.minWidth),r.minHeight=te(this._config.minHeight),r.maxWidth=te(this._config.maxWidth),r.maxHeight=te(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachHost(){if(!this._host.parentElement){let r=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;up(r)?r.after(this._host):r?.type==="parent"?r.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch(r){}}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new ap(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(r))}):this._backdropRef.element.classList.add(r)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(r,e,n){let i=ro(e||[]).filter(o=>!!o);i.length&&(n?r.classList.add(...i):r.classList.remove(...i))}_detachContentWhenEmpty(){let r=!1;try{this._detachContentAfterRenderRef=Ne(()=>{r=!0,this._detachContent()},{injector:this._injector})}catch(e){if(r)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let r=this._scrollStrategy;r?.disable(),r?.detach?.()}},Rw="cdk-overlay-connected-position-bounding-box",XO=/([A-Za-z%]+)$/;function dp(t,r){return new fu(r,t.get(Bo),t.get(Lt),t.get($t),t.get(pu))}var fu=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new it;_resizeSubscription=nr.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(r,e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(Rw),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let r=this._originRect,e=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[],s;for(let l of this._preferredPositions){let d=this._getOriginPoint(r,i,l),p=this._getOverlayPoint(d,e,l),m=this._getOverlayFit(p,e,n,l);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(m,p,n)){o.push({position:l,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!s||s.overlayFit.visibleArea<m.visibleArea)&&(s={overlayFit:m,overlayPoint:p,originPoint:d,position:l,overlayRect:e})}if(o.length){let l=null,d=-1;for(let p of o){let m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>d&&(d=m,l=p)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ui(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;r?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(r,this._getOriginPoint(this._originRect,this._containerRect,r))):this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}withPopoverLocation(r){return this._popoverLocation=r,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof Bt?this._origin.nativeElement:up(this._origin)?this._origin:null}_getOriginPoint(r,e,n){let i;if(n.originX=="center")i=r.left+r.width/2;else{let s=this._isRtl()?r.right:r.left,l=this._isRtl()?r.left:r.right;i=n.originX=="start"?s:l}e.left<0&&(i-=e.left);let o;return n.originY=="center"?o=r.top+r.height/2:o=n.originY=="top"?r.top:r.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(r,e,n){let i;n.overlayX=="center"?i=-e.width/2:n.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:r.x+i,y:r.y+o}}_getOverlayFit(r,e,n,i){let o=Dw(e),{x:s,y:l}=r,d=this._getOffset(i,"x"),p=this._getOffset(i,"y");d&&(s+=d),p&&(l+=p);let m=0-s,y=s+o.width-n.width,x=0-l,O=l+o.height-n.height,N=this._subtractOverflows(o.width,m,y),U=this._subtractOverflows(o.height,x,O),G=N*U;return{visibleArea:G,isCompletelyWithinViewport:o.width*o.height===G,fitsInViewportVertically:U===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(r,e,n){if(this._hasFlexibleDimensions){let i=n.bottom-e.y,o=n.right-e.x,s=Ow(this._overlayRef.getConfig().minHeight),l=Ow(this._overlayRef.getConfig().minWidth),d=r.fitsInViewportVertically||s!=null&&s<=i,p=r.fitsInViewportHorizontally||l!=null&&l<=o;return d&&p}return!1}_pushOverlayOnScreen(r,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let i=Dw(e),o=this._viewportRect,s=Math.max(r.x+i.width-o.width,0),l=Math.max(r.y+i.height-o.height,0),d=Math.max(o.top-n.top-r.y,0),p=Math.max(o.left-n.left-r.x,0),m=0,y=0;return i.width<=o.width?m=p||-s:m=r.x<this._getViewportMarginStart()?o.left-n.left-r.x:0,i.height<=o.height?y=d||-l:y=r.y<this._getViewportMarginTop()?o.top-n.top-r.y:0,this._previousPushAmount={x:m,y},{x:r.x+m,y:r.y+y}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!ZO(this._lastScrollVisibility,n)){let i=new du(r,n);this._positionChanges.next(i)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,i=r.overlayY;r.overlayX==="center"?n="center":this._isRtl()?n=r.overlayX==="start"?"right":"left":n=r.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(r,e){let n=this._viewportRect,i=this._isRtl(),o,s,l;if(e.overlayY==="top")s=r.y,o=n.height-s+this._getViewportMarginBottom();else if(e.overlayY==="bottom")l=n.height-r.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=n.height-l+this._getViewportMarginTop();else{let O=Math.min(n.bottom-r.y+n.top,r.y),N=this._lastBoundingBoxSize.height;o=O*2,s=r.y-O,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(s=r.y-N/2)}let d=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,p=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,m,y,x;if(p)x=n.width-r.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),m=r.x-this._getViewportMarginStart();else if(d)y=r.x,m=n.right-r.x-this._getViewportMarginEnd();else{let O=Math.min(n.right-r.x+n.left,r.x),N=this._lastBoundingBoxSize.width;m=O*2,y=r.x-O,m>N&&!this._isInitialRender&&!this._growAfterOpen&&(y=r.x-N/2)}return{top:s,left:y,bottom:l,right:x,width:m,height:o}}_setBoundingBoxStyles(r,e){let n=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.width=te(n.width),i.height=te(n.height),i.top=te(n.top)||"auto",i.bottom=te(n.bottom)||"auto",i.left=te(n.left)||"auto",i.right=te(n.right)||"auto",e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=te(o)),s&&(i.maxWidth=te(s))}this._lastBoundingBoxSize=n,Ui(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ui(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ui(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){let n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let m=this._viewportRuler.getViewportScrollPosition();Ui(n,this._getExactOverlayY(e,r,m)),Ui(n,this._getExactOverlayX(e,r,m))}else n.position="static";let l="",d=this._getOffset(e,"x"),p=this._getOffset(e,"y");d&&(l+=`translateX(${d}px) `),p&&(l+=`translateY(${p}px)`),n.transform=l.trim(),s.maxHeight&&(i?n.maxHeight=te(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=te(s.maxWidth):o&&(n.maxWidth="")),Ui(this._pane.style,n)}_getExactOverlayY(r,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,r);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=te(o.y);return i}_getExactOverlayX(r,e,n){let i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=r.overlayX==="end"?"left":"right":s=r.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;i.right=`${l-(o.x+this._overlayRect.width)}px`}else i.left=te(o.x);return i}_getScrollVisibility(){let r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ew(r,n),isOriginOutsideView:op(r,n),isOverlayClipped:Ew(e,n),isOverlayOutsideView:op(e,n)}}_subtractOverflows(r,...e){return e.reduce((n,i)=>n-Math.max(i,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._getViewportMarginTop(),left:n.left+this._getViewportMarginStart(),right:n.left+r-this._getViewportMarginEnd(),bottom:n.top+e-this._getViewportMarginBottom(),width:r-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return e==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&ro(r).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let r=this._origin;if(r instanceof Bt)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let e=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+e,height:n,width:e}}_getContainerRect(){let r=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",e=this._overlayContainer.getContainerElement();r&&(e.style.display="block");let n=e.getBoundingClientRect();return r&&(e.style.display=""),n}};function Ui(t,r){for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function Ow(t){if(typeof t!="number"&&t!=null){let[r,e]=t.split(XO);return!e||e==="px"?parseFloat(r):null}return t||null}function Dw(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function ZO(t,r){return t===r?!0:t.isOriginClipped===r.isOriginClipped&&t.isOriginOutsideView===r.isOriginOutsideView&&t.isOverlayClipped===r.isOverlayClipped&&t.isOverlayOutsideView===r.isOverlayOutsideView}var Aw="cdk-global-overlay-wrapper";function ei(t){return new hu}var hu=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(r){let e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(Aw),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:l}=n,d=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),p=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),m=this._xPosition,y=this._xOffset,x=this._overlayRef.getConfig().direction==="rtl",O="",N="",U="";d?U="flex-start":m==="center"?(U="center",x?N=y:O=y):x?m==="left"||m==="end"?(U="flex-end",O=y):(m==="right"||m==="start")&&(U="flex-start",N=y):m==="left"||m==="start"?(U="flex-start",O=y):(m==="right"||m==="end")&&(U="flex-end",N=y),r.position=this._cssPosition,r.marginLeft=d?"0":O,r.marginTop=p?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=d?"0":N,e.justifyContent=U,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Aw),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},Lw=(()=>{class t{_injector=w(wt);constructor(){}global(){return ei()}flexibleConnectedTo(e){return dp(this._injector,e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fp=new ot("OVERLAY_DEFAULT_CONFIG");function zi(t,r){t.get(Cr).load(Nw);let e=t.get(pu),n=t.get(Lt),i=t.get(sr),o=t.get(ca),s=t.get(Tn),l=t.get(Fr,null,{optional:!0})||t.get(wr).createRenderer(null,null),d=new gn(r),p=t.get(fp,null,{optional:!0})?.usePopover??!0;d.direction=d.direction||s.value,"showPopover"in n.body?d.usePopover=r?.usePopover??p:d.usePopover=!1;let m=n.createElement("div"),y=n.createElement("div");m.id=i.getId("cdk-overlay-"),m.classList.add("cdk-overlay-pane"),y.appendChild(m),d.usePopover&&(y.setAttribute("popover","manual"),y.classList.add("cdk-overlay-popover"));let x=d.usePopover?d.positionStrategy?.getPopoverInsertionPoint?.():null;return up(x)?x.after(y):x?.type==="parent"?x.element.appendChild(y):e.getContainerElement().appendChild(y),new $o(new sc(m,o,t),y,m,d,t.get(Ct),t.get(Mw),n,t.get($r),t.get(Pw),r?.disableAnimations??t.get(tc,null,{optional:!0})==="NoopAnimations",t.get(He),l)}var Fw=(()=>{class t{scrollStrategies=w(Iw);_positionBuilder=w(Lw);_injector=w(wt);constructor(){}create(e){return zi(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],tD=new ot("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=w(wt);return()=>lp(t)}}),sp=(()=>{class t{elementRef=w(Bt);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),Bw=new ot("cdk-connected-overlay-default-config"),eD=(()=>{class t{_dir=w(Tn,{optional:!0});_injector=w(wt);_overlayRef;_templatePortal;_backdropSubscription=nr.EMPTY;_attachSubscription=nr.EMPTY;_detachSubscription=nr.EMPTY;_positionSubscription=nr.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=w(tD);_ngZone=w(Ct);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new ee;positionChange=new ee;attach=new ee;detach=new ee;overlayKeydown=new ee;overlayOutsideClick=new ee;constructor(){let e=w(nn),n=w(In),i=w(Bw,{optional:!0}),o=w(fp,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new jr(e,n),this.scrollStrategy=this._scrollStrategyFactory(),i&&this._assignConfig(i)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=JO);let e=this._overlayRef=zi(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Ln(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let i=this._getOriginElement(),o=De(n);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new gn({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=dp(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof sp?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof sp?this.origin.elementRef.nativeElement:this.origin instanceof Bt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(n=>this.backdropClick.emit(n)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(am(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",oe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",oe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",oe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",oe],push:[2,"cdkConnectedOverlayPush","push",oe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",oe],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",oe],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Lr]})}return t})(),Vi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({providers:[Fw],imports:[Ke,sn,ip,ip]})}return t})();function rD(t,r){if(t&1){let e=Dm();to(0,"div",1)(1,"button",2),gi("click",function(){um(e);let i=pd();return dm(i.action())}),md(2),pi()()}if(t&2){let e=pd();Zi(2),gd(" ",e.data.action," ")}}var nD=["label"];function iD(t,r){}var oD=Math.pow(2,31)-1,ds=class{_overlayRef;instance;containerInstance;_afterDismissed=new it;_afterOpened=new it;_onAction=new it;_durationTimeoutId;_dismissedByAction=!1;constructor(r,e){this._overlayRef=e,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,oD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},$w=new ot("MatSnackBarData"),Uo=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},aD=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),sD=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),cD=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),jw=(()=>{class t{snackBarRef=w(ds);data=w($w);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(n,i){n&1&&(to(0,"div",0),md(1),pi(),Rm(2,rD,3,1,"div",1)),n&2&&(Zi(),gd(" ",i.data.message,`
`),Zi(),Om(i.hasAction?2:-1))},dependencies:[Rg,aD,sD,cD],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return t})(),hp="_mat-snack-bar-enter",pp="_mat-snack-bar-exit",lD=(()=>{class t extends Mn{_ngZone=w(Ct);_elementRef=w(Bt);_changeDetectorRef=w(Br);_platform=w($t);_animationsDisabled=cr();snackBarConfig=w(Uo);_document=w(Lt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=w(wt);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new it;_onExit=new it;_onEnter=new it;_animationState="void";_live;_label;_role;_liveElementId=w(sr).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===pp?this._completeExit():e===hp&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Ne(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(hp)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(hp)},200)))}exit(){return this._destroyed?lt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Ne(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(pp)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(pp),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let i=n.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),i=e.querySelector("[aria-live]");if(n&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),i.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,i){if(n&1&&ua(Pn,7)(nD,7),n&2){let o;yi(o=bi())&&(i._portalOutlet=o.first),yi(o=bi())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,i){n&1&&gi("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),n&2&&ar("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[Se],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(to(0,"div",1)(1,"div",2,0)(3,"div",3),Ji(4,iD,0,0,"ng-template",4),pi(),nc(5,"div"),pi()()),n&2&&(Zi(5),xr("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Pn],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return t})(),uD=new ot("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new Uo}),dD=(()=>{class t{_live=w(Od);_injector=w(wt);_breakpointObserver=w(_a);_parentSnackBar=w(t,{optional:!0,skipSelf:!0});_defaultConfig=w(uD);_animationsDisabled=cr();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=jw;snackBarContainerComponent=lD;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",i){let o=$($({},this._defaultConfig),i);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let i=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=wt.create({parent:i||this._injector,providers:[{provide:Uo,useValue:n}]}),s=new an(this.snackBarContainerComponent,n.viewContainerRef,o),l=e.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){let i=$($($({},new Uo),this._defaultConfig),n),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),l=new ds(s,o);if(e instanceof nn){let d=new jr(e,null,{$implicit:i.data,snackBarRef:l});l.instance=s.attachTemplatePortal(d)}else{let d=this._createInjector(i,l),p=new an(e,void 0,d),m=s.attachComponentPortal(p);l.instance=m.instance}return this._breakpointObserver.observe(pg.HandsetPortrait).pipe(yr(o.detachments())).subscribe(d=>{o.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(l,i),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new gn;n.direction=e.direction;let i=ei(this._injector),o=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,l=!s&&e.horizontalPosition!=="center";return s?i.left("0"):l?i.right("0"):i.centerHorizontally(),e.verticalPosition==="top"?i.top("0"):i.bottom("0"),n.positionStrategy=i,n.disableAnimations=this._animationsDisabled,zi(this._injector,n)}_createInjector(e,n){let i=e&&e.viewContainerRef&&e.viewContainerRef.injector;return wt.create({parent:i||this._injector,providers:[{provide:ds,useValue:n},{provide:$w,useValue:e.data}]})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var G7=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({providers:[dD],imports:[Vi,sn,Og,jw,Ke]})}return t})();var X7={APP:{POSTS:"app.posts",NOT_FOUND:"app.not-found"},POSTS:{DETAIL:"posts.detail",CREATE:"posts.create",EDIT:"posts.edit"}};function fD(t,r){}var ri=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var gp=(()=>{class t extends Mn{_elementRef=w(Bt);_focusTrapFactory=w(Rd);_config;_interactivityChecker=w(Sd);_ngZone=w(Ct);_focusMonitor=w(ba);_renderer=w(Fr);_changeDetectorRef=w(Br);_injector=w(wt);_platform=w($t);_document=w(Lt);_portalOutlet;_focusTrapped=new it;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=w(ri,{optional:!0})||new ri,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",i),s=this._renderer.listen(e,"mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_trapFocus(e){this._isDestroyed||Ne(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let i=ma(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,n=ma();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ma()))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=re({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,i){if(n&1&&ua(Pn,7),n&2){let o;yi(o=bi())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,i){n&2&&xr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Se],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,i){n&1&&Ji(0,fD,0,0,"ng-template",0)},dependencies:[Pn],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),fs=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new it;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(r,e){this.overlayRef=r,this.config=e,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Ln(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this._canClose(r)){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(r),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}_canClose(r){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(r,e,this.componentInstance))}},hD=new ot("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=w(wt);return()=>jo(t)}}),pD=new ot("DialogData"),mD=new ot("DefaultDialogConfig");function gD(t){let r=_r(t),e=new ee;return{valueSignal:r,get value(){return r()},change:e,ngOnDestroy(){e.complete()}}}var vp=(()=>{class t{_injector=w(wt);_defaultOptions=w(mD,{optional:!0});_parentDialog=w(t,{optional:!0,skipSelf:!0});_overlayContainer=w(pu);_idGenerator=w(sr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new it;_afterOpenedAtThisLevel=new it;_ariaHiddenElements=new Map;_scrollStrategy=w(hD);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Dn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qe(void 0)));constructor(){}open(e,n){let i=this._defaultOptions||new ri;n=$($({},i),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=zi(this._injector,o),l=new fs(s,n),d=this._attachContainer(s,l,n);if(l.containerInstance=d,!this.openDialogs.length){let p=this._overlayContainer.getContainerElement();d._focusTrapped?d._focusTrapped.pipe(Pe(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(p)}):this._hideNonDialogContentFromAssistiveTechnology(p)}return this._attachDialogContent(e,l,d,n),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){mp(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){mp(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),mp(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new gn({positionStrategy:e.positionStrategy||ei().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:ri,useValue:i},{provide:fs,useValue:n},{provide:$o,useValue:e}],l;i.container?typeof i.container=="function"?l=i.container:(l=i.container.type,s.push(...i.container.providers(i))):l=gp;let d=new an(l,i.viewContainerRef,wt.create({parent:o||this._injector,providers:s}));return e.attach(d).instance}_attachDialogContent(e,n,i,o){if(e instanceof nn){let s=this._createInjector(o,n,i,void 0),l={$implicit:o.data,dialogRef:n};o.templateContext&&(l=$($({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new jr(e,null,l,s))}else{let s=this._createInjector(o,n,i,this._injector),l=i.attachComponentPortal(new an(e,o.viewContainerRef,s));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(e,n,i,o){let s=e.injector||e.viewContainerRef?.injector,l=[{provide:pD,useValue:e.data},{provide:fs,useValue:n}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(n,e,i)):l.push(...e.providers)),e.direction&&(!s||!s.get(Tn,null,{optional:!0}))&&l.push({provide:Tn,useValue:gD(e.direction)}),wt.create({parent:s||o,providers:l})}_removeOpenDialog(e,n){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let n=e.parentElement.children;for(let i=n.length-1;i>-1;i--){let o=n[i];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mp(t,r){let e=t.length;for(;e--;)r(t[e])}var Uw=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({providers:[vp],imports:[Vi,sn,Dd,sn]})}return t})();function vD(t,r){}var gu=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},yp="mdc-dialog--open",zw="mdc-dialog--opening",Vw="mdc-dialog--closing",yD=150,bD=75,_D=(()=>{class t extends gp{_animationStateChanged=new ee;_animationsEnabled=!cr();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Hw(this._config.enterAnimationDuration)??yD:0;_exitAnimationDuration=this._animationsEnabled?Hw(this._config.exitAnimationDuration)??bD:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(qw,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zw,yp)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(yp),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(yp),this._animationsEnabled?(this._hostElement.style.setProperty(qw,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Vw)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(zw,Vw)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275cmp=re({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,i){n&2&&(hd("id",i._config.id),xr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ar("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[Se],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(to(0,"div",0)(1,"div",1),Ji(2,vD,0,0,"ng-template",2),pi()())},dependencies:[Pn],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),qw="--mat-dialog-transition-duration";function Hw(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?va(t.substring(0,t.length-2)):t.endsWith("s")?va(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var mu=(function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t})(mu||{}),hs=class{_ref;_config;_containerInstance;componentInstance;componentRef=null;disableClose;id;_afterOpened=new ia(1);_beforeClosed=new ia(1);_result;_closeFallbackTimeout;_state=mu.OPEN;_closeInteractionType;constructor(r,e,n){this._ref=r,this._config=e,this._containerInstance=n,this.disableClose=e.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(yt(i=>i.state==="opened"),Pe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(yt(i=>i.state==="closed"),Pe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Hs(this.backdropClick(),this.keydownEvents().pipe(yt(i=>i.keyCode===27&&!this.disableClose&&!Ln(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),Ww(this,i.type==="keydown"?"keyboard":"mouse"))})}close(r){let e=this._config.closePredicate;e&&!e(r,this._config,this.componentInstance)||(this._result=r,this._containerInstance._animationStateChanged.pipe(yt(n=>n.state==="closing"),Pe(1)).subscribe(n=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=mu.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let e=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",e=""){return this._ref.updateSize(r,e),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=mu.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Ww(t,r,e){return t._closeInteractionType=r,t.close(e)}var wD=new ot("MatMdcDialogData"),xD=new ot("mat-mdc-dialog-default-options"),CD=new ot("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=w(wt);return()=>jo(t)}}),bp=(()=>{class t{_defaultOptions=w(xD,{optional:!0});_scrollStrategy=w(CD);_parentDialog=w(t,{optional:!0,skipSelf:!0});_idGenerator=w(sr);_injector=w(wt);_dialog=w(vp);_animationsDisabled=cr();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new it;_afterOpenedAtThisLevel=new it;dialogConfigClass=gu;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Dn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qe(void 0)));constructor(){this._dialogRefConstructor=hs,this._dialogContainerType=_D,this._dialogDataToken=wD}open(e,n){let i;n=$($({},this._defaultOptions||new gu),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,mt($({},n),{positionStrategy:ei(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||n.enterAnimationDuration?.toLocaleString()==="0"||n.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:ri,useValue:n}]},templateContext:()=>({dialogRef:i}),providers:(s,l,d)=>(i=new this._dialogRefConstructor(s,n,d),i.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FZ=(()=>{class t{dialogRef=w(hs,{optional:!0});_elementRef=w(Bt);_dialog=w(bp);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Gw(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){Ww(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,i){n&1&&gi("click",function(s){return i._onButtonClick(s)}),n&2&&xr("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Lr]})}return t})(),Kw=(()=>{class t{_dialogRef=w(hs,{optional:!0});_elementRef=w(Bt);_dialog=w(bp);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Gw(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t})}return t})(),BZ=(()=>{class t extends Kw{id=w(sr).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275dir=kt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,i){n&2&&hd("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Se]})}return t})(),$Z=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[xm([np])]})}return t})(),jZ=(()=>{class t extends Kw{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=or(t)))(i||t)}})();static \u0275dir=kt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,i){n&2&&ar("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},features:[Se]})}return t})();function Gw(t,r){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?r.find(n=>n.id===e.id):null}var UZ=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Wt({type:t});static \u0275inj=Ht({providers:[bp],imports:[Uw,Vi,sn,Ke]})}return t})();export{an as a,jr as b,AD as c,Pn as d,sn as e,ha as f,pa as g,De as h,$t as i,va as j,Ur as k,ba as l,lc as m,rg as n,Od as o,Dd as p,sr as q,Ln as r,kd as s,Id as t,zx as u,Vx as v,uk as w,_k as x,cr as y,Ik as z,Hk as A,xg as B,t0 as C,Eg as D,Rg as E,Og as F,ur as G,dr as H,sf as I,uf as J,Fe as K,xv as L,MC as M,Mv as N,Kc as O,Ba as P,wf as Q,NT as R,JC as S,$T as T,dX as U,mX as V,cs as W,xw as X,ls as Y,Bo as Z,UX as _,rp as $,ip as aa,lp as ba,gn as ca,dp as da,fp as ea,zi as fa,sp as ga,eD as ha,Vi as ia,hs as ja,wD as ka,bp as la,FZ as ma,BZ as na,$Z as oa,jZ as pa,UZ as qa,uD as ra,dD as sa,G7 as ta,X7 as ua};
